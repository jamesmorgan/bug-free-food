!function(t,e,n){"use strict";function r(t,e){return e=e||Error,function(){var n,r,i=arguments[0],o="["+(t?t+":":"")+i+"] ",a=arguments[1],s=arguments,u=function(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?JSON.stringify(t):t};for(n=o+a.replace(/\{\d+\}/g,function(t){var e,n=+t.slice(1,-1);return n+2<s.length?(e=s[n+2],"function"==typeof e?e.toString().replace(/ ?\{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?B(e):e):t}),n=n+"\nhttp://errors.angularjs.org/1.3.1/"+(t?t+"/":"")+i,r=2;r<arguments.length;r++)n=n+(2==r?"?":"&")+"p"+(r-2)+"="+encodeURIComponent(u(arguments[r]));return new e(n)}}function i(t){if(null==t||x(t))return!1;var e=t.length;return t.nodeType===si&&e?!0:$(t)||ti(t)||0===e||"number"==typeof e&&e>0&&e-1 in t}function o(t,e,n){var r,a;if(t)if(_(t))for(r in t)"prototype"==r||"length"==r||"name"==r||t.hasOwnProperty&&!t.hasOwnProperty(r)||e.call(n,t[r],r,t);else if(ti(t)||i(t)){var s="object"!=typeof t;for(r=0,a=t.length;a>r;r++)(s||r in t)&&e.call(n,t[r],r,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);return t}function a(t){return Object.keys(t).sort()}function s(t,e,n){for(var r=a(t),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function u(t){return function(e,n){t(n,e)}}function l(){return++Zr}function c(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function f(t){for(var e=t.$$hashKey,n=1,r=arguments.length;r>n;n++){var i=arguments[n];if(i)for(var o=Object.keys(i),a=0,s=o.length;s>a;a++){var u=o[a];t[u]=i[u]}}return c(t,e),t}function p(t){return parseInt(t,10)}function h(t,e){return f(new(f(function(){},{prototype:t})),e)}function d(){}function g(t){return t}function m(t){return function(){return t}}function v(t){return"undefined"==typeof t}function b(t){return"undefined"!=typeof t}function y(t){return null!==t&&"object"==typeof t}function $(t){return"string"==typeof t}function w(t){return"number"==typeof t}function E(t){return"[object Date]"===Yr.call(t)}function _(t){return"function"==typeof t}function S(t){return"[object RegExp]"===Yr.call(t)}function x(t){return t&&t.window===t}function k(t){return t&&t.$evalAsync&&t.$watch}function A(t){return"[object File]"===Yr.call(t)}function C(t){return"[object Blob]"===Yr.call(t)}function D(t){return"boolean"==typeof t}function O(t){return t&&_(t.then)}function T(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function M(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}function I(t){return jr(t.nodeName||t[0].nodeName)}function P(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),e}function N(t,e,n,r){if(x(t)||k(t))throw Qr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(e){if(t===e)throw Qr("cpi","Can't copy! Source and destination are identical.");if(n=n||[],r=r||[],y(t)){var i=n.indexOf(t);if(-1!==i)return r[i];n.push(t),r.push(e)}var a;if(ti(t)){e.length=0;for(var s=0;s<t.length;s++)a=N(t[s],null,n,r),y(t[s])&&(n.push(t[s]),r.push(a)),e.push(a)}else{var u=e.$$hashKey;ti(e)?e.length=0:o(e,function(t,n){delete e[n]});for(var l in t)t.hasOwnProperty(l)&&(a=N(t[l],null,n,r),y(t[l])&&(n.push(t[l]),r.push(a)),e[l]=a);c(e,u)}}else if(e=t,t)if(ti(t))e=N(t,[],n,r);else if(E(t))e=new Date(t.getTime());else if(S(t))e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex;else if(y(t)){var f=Object.create(Object.getPrototypeOf(t));e=N(t,f,n,r)}return e}function F(t,e){if(ti(t)){e=e||[];for(var n=0,r=t.length;r>n;n++)e[n]=t[n]}else if(y(t)){e=e||{};for(var i in t)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(e[i]=t[i])}return e||t}function j(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var r,i,o,a=typeof t,s=typeof e;if(a==s&&"object"==a){if(!ti(t)){if(E(t))return E(e)?j(t.getTime(),e.getTime()):!1;if(S(t)&&S(e))return t.toString()==e.toString();if(k(t)||k(e)||x(t)||x(e)||ti(e))return!1;o={};for(i in t)if("$"!==i.charAt(0)&&!_(t[i])){if(!j(t[i],e[i]))return!1;o[i]=!0}for(i in e)if(!o.hasOwnProperty(i)&&"$"!==i.charAt(0)&&e[i]!==n&&!_(e[i]))return!1;return!0}if(!ti(e))return!1;if((r=t.length)==e.length){for(i=0;r>i;i++)if(!j(t[i],e[i]))return!1;return!0}}return!1}function R(t,e,n){return t.concat(zr.call(e,n))}function U(t,e){return zr.call(t,e||0)}function L(t,e){var n=arguments.length>2?U(arguments,2):[];return!_(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,n.concat(zr.call(arguments,0))):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function V(t,r){var i=r;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=n:x(r)?i="$WINDOW":r&&e===r?i="$DOCUMENT":k(r)&&(i="$SCOPE"),i}function B(t,e){return"undefined"==typeof t?n:JSON.stringify(t,V,e?"  ":null)}function q(t){return $(t)?JSON.parse(t):t}function H(t){t=qr(t).clone();try{t.empty()}catch(e){}var n=qr("<div>").append(t).html();try{return t[0].nodeType===ui?jr(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+jr(e)})}catch(e){return jr(n)}}function W(t){try{return decodeURIComponent(t)}catch(e){}}function z(t){var e,n,r={};return o((t||"").split("&"),function(t){if(t&&(e=t.replace(/\+/g,"%20").split("="),n=W(e[0]),b(n))){var i=b(e[1])?W(e[1]):!0;Rr.call(r,n)?ti(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i}}),r}function K(t){var e=[];return o(t,function(t,n){ti(t)?o(t,function(t){e.push(Y(n,!0)+(t===!0?"":"="+Y(t,!0)))}):e.push(Y(n,!0)+(t===!0?"":"="+Y(t,!0)))}),e.length?e.join("&"):""}function J(t){return Y(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Y(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function Q(t,e){var n,r,i=ii.length;for(t=qr(t),r=0;i>r;++r)if(n=ii[r]+e,$(n=t.attr(n)))return n;return null}function G(t,e){var n,r,i={};o(ii,function(e){var i=e+"app";!n&&t.hasAttribute&&t.hasAttribute(i)&&(n=t,r=t.getAttribute(i))}),o(ii,function(e){var i,o=e+"app";!n&&(i=t.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(i.strictDi=null!==Q(n,"strict-di"),e(n,r?[r]:[],i))}function Z(n,r,i){y(i)||(i={});var a={strictDi:!1};i=f(a,i);var s=function(){if(n=qr(n),n.injector()){var t=n[0]===e?"document":H(n);throw Qr("btstrpd","App Already Bootstrapped with this Element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(t){t.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),r.unshift("ng");var o=Le(r,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),o},u=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return t&&u.test(t.name)&&(i.debugInfoEnabled=!0,t.name=t.name.replace(u,"")),t&&!l.test(t.name)?s():(t.name=t.name.replace(l,""),void(Gr.resumeBootstrap=function(t){o(t,function(t){r.push(t)}),s()}))}function X(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function te(t){return Gr.element(t).injector().get("$$testability")}function ee(t,e){return e=e||"_",t.replace(oi,function(t,n){return(n?e:"")+t.toLowerCase()})}function ne(){var e;ai||(Hr=t.jQuery,Hr&&Hr.fn.on?(qr=Hr,f(Hr.fn,{scope:ki.scope,isolateScope:ki.isolateScope,controller:ki.controller,injector:ki.injector,inheritedData:ki.inheritedData}),e=Hr.cleanData,Hr.cleanData=function(t){var n;if(Xr)Xr=!1;else for(var r,i=0;null!=(r=t[i]);i++)n=Hr._data(r,"events"),n&&n.$destroy&&Hr(r).triggerHandler("$destroy");e(t)}):qr=ve,Gr.element=qr,ai=!0)}function re(t,e,n){if(!t)throw Qr("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function ie(t,e,n){return n&&ti(t)&&(t=t[t.length-1]),re(_(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function oe(t,e){if("hasOwnProperty"===t)throw Qr("badname","hasOwnProperty is not a valid {0} name",e)}function ae(t,e,n){if(!e)return t;for(var r,i=e.split("."),o=t,a=i.length,s=0;a>s;s++)r=i[s],t&&(t=(o=t)[r]);return!n&&_(t)?L(o,t):t}function se(t){var e=t[0],n=t[t.length-1],r=[e];do{if(e=e.nextSibling,!e)break;r.push(e)}while(e!==n);return qr(r)}function ue(){return Object.create(null)}function le(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=r("$injector"),i=r("ng"),o=e(t,"angular",Object);return o.$$minErr=o.$$minErr||r,e(o,"module",function(){var t={};return function(r,o,a){var s=function(t,e){if("hasOwnProperty"===t)throw i("badname","hasOwnProperty is not a valid {0} name",e)};return s(r,"module"),o&&t.hasOwnProperty(r)&&(t[r]=null),e(t,r,function(){function t(t,n,r,i){return i||(i=e),function(){return i[r||"push"]([t,n,arguments]),l}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var e=[],i=[],s=[],u=t("$injector","invoke","push",i),l={_invokeQueue:e,_configBlocks:i,_runBlocks:s,requires:o,name:r,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:u,run:function(t){return s.push(t),this}};return a&&u(a),l})}})}function ce(e){f(e,{bootstrap:Z,copy:N,extend:f,equals:j,element:qr,forEach:o,injector:Le,noop:d,bind:L,toJson:B,fromJson:q,identity:g,isUndefined:v,isDefined:b,isString:$,isFunction:_,isObject:y,isNumber:w,isElement:T,isArray:ti,version:pi,isDate:E,lowercase:jr,uppercase:Ur,callbacks:{counter:0},getTestability:te,$$minErr:r,$$csp:ri,reloadWithDebugInfo:X}),Wr=le(t);try{Wr("ngLocale")}catch(n){Wr("ngLocale",[]).provider("$locale",pn)}Wr("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Vn}),t.provider("$compile",Ke).directive({a:vo,input:Fo,textarea:Fo,form:Eo,script:Aa,select:Oa,style:Ma,option:Ta,ngBind:ea,ngBindHtml:ra,ngBindTemplate:na,ngClass:ia,ngClassEven:aa,ngClassOdd:oa,ngCloak:sa,ngController:ua,ngForm:_o,ngHide:wa,ngIf:fa,ngInclude:pa,ngInit:da,ngNonBindable:ga,ngPluralize:ma,ngRepeat:va,ngShow:$a,ngStyle:Ea,ngSwitch:_a,ngSwitchWhen:Sa,ngSwitchDefault:xa,ngOptions:Da,ngTransclude:ka,ngModel:Wo,ngList:Go,ngChange:zo,pattern:Jo,ngPattern:Jo,required:Ko,ngRequired:Ko,minlength:Qo,ngMinlength:Qo,maxlength:Yo,ngMaxlength:Yo,ngValue:Xo,ngModelOptions:ta}).directive({ngInclude:ha}).directive(bo).directive(la),t.provider({$anchorScroll:Ve,$animate:Fi,$browser:He,$cacheFactory:We,$controller:Ge,$document:Ze,$exceptionHandler:Xe,$filter:Xn,$interpolate:cn,$interval:fn,$http:an,$httpBackend:un,$location:xn,$log:kn,$parse:Nn,$rootScope:Ln,$q:Fn,$$q:jn,$sce:Wn,$sceDelegate:Hn,$sniffer:zn,$templateCache:ze,$templateRequest:Kn,$$testability:Jn,$timeout:Yn,$window:Zn,$$rAF:Un,$$asyncCallback:Be})}])}function fe(){return++di}function pe(t){return t.replace(vi,function(t,e,n,r){return r?n.toUpperCase():n}).replace(bi,"Moz$1")}function he(t){return!Ei.test(t)}function de(t){var e=t.nodeType;return e===si||!e||e===ci}function ge(t,e){var n,r,i,a,s=e.createDocumentFragment(),u=[];if(he(t))u.push(e.createTextNode(t));else{for(n=n||s.appendChild(e.createElement("div")),r=(_i.exec(t)||["",""])[1].toLowerCase(),i=xi[r]||xi._default,n.innerHTML=i[1]+t.replace(Si,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;u=R(u,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(u,function(t){s.appendChild(t)}),s}function me(t,n){n=n||e;var r;return(r=wi.exec(t))?[n.createElement(r[1])]:(r=ge(t,n))?r.childNodes:[]}function ve(t){if(t instanceof ve)return t;var e;if($(t)&&(t=ei(t),e=!0),!(this instanceof ve)){if(e&&"<"!=t.charAt(0))throw $i("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new ve(t)}e?Ae(this,me(t)):Ae(this,t)}function be(t){return t.cloneNode(!0)}function ye(t,e){if(e||we(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),r=0,i=n.length;i>r;r++)we(n[r])}function $e(t,e,n,r){if(b(r))throw $i("offargs","jqLite#off() does not support the `selector` argument");var i=Ee(t),a=i&&i.events,s=i&&i.handle;if(s)if(e)o(e.split(" "),function(e){if(b(n)){var r=a[e];if(P(r||[],n),r&&r.length>0)return}mi(t,e,s),delete a[e]});else for(e in a)"$destroy"!==e&&mi(t,e,s),delete a[e]}function we(t,e){var r=t.ng339,i=r&&hi[r];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),$e(t)),delete hi[r],t.ng339=n}}function Ee(t,e){var r=t.ng339,i=r&&hi[r];return e&&!i&&(t.ng339=r=fe(),i=hi[r]={events:{},data:{},handle:n}),i}function _e(t,e,n){if(de(t)){var r=b(n),i=!r&&e&&!y(e),o=!e,a=Ee(t,!i),s=a&&a.data;if(r)s[e]=n;else{if(o)return s;if(i)return s&&s[e];f(s,e)}}}function Se(t,e){return t.getAttribute?(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1:!1}function xe(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",ei((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+ei(e)+" "," ")))})}function ke(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=ei(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",ei(n))}}function Ae(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;n>r;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function Ce(t,e){return De(t,"$"+(e||"ngController")+"Controller")}function De(t,e,r){t.nodeType==ci&&(t=t.documentElement);for(var i=ti(e)?e:[e];t;){for(var o=0,a=i.length;a>o;o++)if((r=qr.data(t,i[o]))!==n)return r;t=t.parentNode||t.nodeType===fi&&t.host}}function Oe(t){for(ye(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Te(t,e){e||ye(t);var n=t.parentNode;n&&n.removeChild(t)}function Me(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):qr(n).on("load",e)}function Ie(t,e){var n=Ai[e.toLowerCase()];return n&&Ci[I(t)]&&n}function Pe(t,e){var n=t.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&Di[e]}function Ne(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],o=i?i.length:0;if(o){if(v(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},o>1&&(i=F(i));for(var s=0;o>s;s++)n.isImmediatePropagationStopped()||i[s].call(t,n)}};return n.elem=t,n}function Fe(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var r=typeof t;return n="function"==r||"object"==r&&null!==t?t.$$hashKey=r+":"+(e||l)():r+":"+t}function je(t,e){if(e){var n=0;this.nextUid=function(){return++n}}o(t,this.put,this)}function Re(t){var e=t.toString().replace(Ii,""),n=e.match(Oi);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Ue(t,e,n){var r,i,a,s;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw $(n)&&n||(n=t.name||Re(t)),Pi("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=t.toString().replace(Ii,""),a=i.match(Oi),o(a[1].split(Ti),function(t){t.replace(Mi,function(t,e,n){r.push(n)})})}t.$inject=r}}else ti(t)?(s=t.length-1,ie(t[s],"fn"),r=t.slice(0,s)):ie(t,"fn",!0);return r}function Le(t,e){function r(t){return function(e,n){return y(e)?void o(e,u(t)):t(e,n)}}function i(t,e){if(oe(t,"service"),(_(e)||ti(e))&&(e=k.instantiate(e)),!e.$get)throw Pi("pget","Provider '{0}' must define $get factory method.",t);return x[t+w]=e}function a(t,e){return function(){var r=C.invoke(e,this,n,t);if(v(r))throw Pi("undef","Provider '{0}' must return a value from $get factory method.",t);return r}}function s(t,e,n){return i(t,{$get:n!==!1?a(t,e):e})}function l(t,e){return s(t,["$injector",function(t){return t.instantiate(e)}])}function c(t,e){return s(t,m(e),!1)}function f(t,e){oe(t,"constant"),x[t]=e,A[t]=e}function p(t,e){var n=k.get(t+w),r=n.$get;n.$get=function(){var t=C.invoke(r,n);return C.invoke(e,null,{$delegate:t})}}function h(t){var e,n=[];return o(t,function(t){function r(t){var e,n;for(e=0,n=t.length;n>e;e++){var r=t[e],i=k.get(r[0]);i[r[1]].apply(i,r[2])}}if(!S.get(t)){S.put(t,!0);try{$(t)?(e=Wr(t),n=n.concat(h(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):_(t)?n.push(k.invoke(t)):ti(t)?n.push(k.invoke(t)):ie(t,"module")}catch(i){throw ti(t)&&(t=t[t.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Pi("modulerr","Failed to instantiate module {0} due to:\n{1}",t,i.stack||i.message||i)}}}),n}function g(t,n){function r(e){if(t.hasOwnProperty(e)){if(t[e]===b)throw Pi("cdep","Circular dependency found: {0}",e+" <- "+E.join(" <- "));return t[e]}try{return E.unshift(e),t[e]=b,t[e]=n(e)}catch(r){throw t[e]===b&&delete t[e],r}finally{E.shift()}}function i(t,n,i,o){"string"==typeof i&&(o=i,i=null);var a,s,u,l=[],c=Ue(t,e,o);for(s=0,a=c.length;a>s;s++){if(u=c[s],"string"!=typeof u)throw Pi("itkn","Incorrect injection token! Expected service name as string, got {0}",u);l.push(i&&i.hasOwnProperty(u)?i[u]:r(u))}return ti(t)&&(t=t[a]),t.apply(n,l)}function o(t,e,n){var r,o,a=function(){};return a.prototype=(ti(t)?t[t.length-1]:t).prototype,r=new a,o=i(t,r,e,n),y(o)||_(o)?o:r}return{invoke:i,instantiate:o,get:r,annotate:Ue,has:function(e){return x.hasOwnProperty(e+w)||t.hasOwnProperty(e)}}}e=e===!0;var b={},w="Provider",E=[],S=new je([],!0),x={$provide:{provider:r(i),factory:r(s),service:r(l),value:r(c),constant:r(f),decorator:p}},k=x.$injector=g(x,function(){throw Pi("unpr","Unknown provider: {0}",E.join(" <- "))}),A={},C=A.$injector=g(A,function(t){var e=k.get(t+w);return C.invoke(e.$get,e,n,t)});return o(h(t),function(t){C.invoke(t||d)}),C}function Ve(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;return Array.prototype.some.call(t,function(t){return"a"===I(t)?(e=t,!0):void 0}),e}function o(){var t=s.yOffset;if(_(t))t=t();else if(T(t)){var n=t[0],r=e.getComputedStyle(n);t="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else w(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var r=t.getBoundingClientRect().top;e.scrollBy(0,r-n)}}else e.scrollTo(0,0)}function s(){var t,e=n.hash();e?(t=u.getElementById(e))?a(t):(t=i(u.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var u=e.document;return t&&r.$watch(function(){return n.hash()},function(t,e){(t!==e||""!==t)&&Me(function(){r.$evalAsync(s)})}),s}]}function Be(){this.$get=["$$rAF","$timeout",function(t,e){return t.supported?function(e){return t(e)}:function(t){return e(t,0,!1)}}]}function qe(t,e,r,i){function a(t){try{t.apply(null,U(arguments,1))}finally{if(E--,0===E)for(;_.length;)try{_.pop()()}catch(e){r.error(e)}}}function s(t,e){!function n(){o(x,function(t){t()}),S=e(n,t)}()}function u(){l(),c()}function l(){k=t.history.state,k=v(k)?null:k,j(k,I)&&(k=I),I=k}function c(){(C!==p.url()||A!==k)&&(C=p.url(),A=k,o(T,function(t){t(p.url(),k)}))}function f(t){try{return decodeURIComponent(t)}catch(e){return t}}var p=this,h=e[0],g=t.location,m=t.history,b=t.setTimeout,y=t.clearTimeout,w={};p.isMock=!1;var E=0,_=[];p.$$completeOutstandingRequest=a,p.$$incOutstandingRequestCount=function(){E++},p.notifyWhenNoOutstandingRequests=function(t){o(x,function(t){t()}),0===E?t():_.push(t)};var S,x=[];p.addPollFn=function(t){return v(S)&&s(100,b),x.push(t),t};var k,A,C=g.href,D=e.find("base"),O=null;l(),A=k,p.url=function(e,n,r){if(v(r)&&(r=null),g!==t.location&&(g=t.location),m!==t.history&&(m=t.history),e){var o=A===r;if(C===e&&(!i.history||o))return;var a=C&&vn(C)===vn(e);return C=e,A=r,!i.history||a&&o?(a||(O=e),n?g.replace(e):g.href=e):(m[n?"replaceState":"pushState"](r,"",e),l(),A=k),p}return O||g.href.replace(/%27/g,"'")},p.state=function(){return k};var T=[],M=!1,I=null;p.onUrlChange=function(e){return M||(i.history&&qr(t).on("popstate",u),qr(t).on("hashchange",u),M=!0),T.push(e),e},p.$$checkUrlChange=c,p.baseHref=function(){var t=D.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var P={},N="",F=p.baseHref();p.cookies=function(t,e){var i,o,a,s,u;if(!t){if(h.cookie!==N)for(N=h.cookie,o=N.split("; "),P={},s=0;s<o.length;s++)a=o[s],u=a.indexOf("="),u>0&&(t=f(a.substring(0,u)),P[t]===n&&(P[t]=f(a.substring(u+1))));return P}e===n?h.cookie=encodeURIComponent(t)+"=;path="+F+";expires=Thu, 01 Jan 1970 00:00:00 GMT":$(e)&&(i=(h.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path="+F).length+1,i>4096&&r.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},p.defer=function(t,e){var n;return E++,n=b(function(){delete w[n],a(t)},e||0),w[n]=!0,n},p.defer.cancel=function(t){return w[t]?(delete w[t],y(t),a(d),!0):!1}}function He(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new qe(t,r,e,n)}]}function We(){this.$get=function(){function t(t,n){function i(t){t!=p&&(h?h==t&&(h=t.n):h=t,o(t.n,t.p),o(t,p),p=t,p.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=f({},n,{id:t}),u={},l=n&&n.capacity||Number.MAX_VALUE,c={},p=null,h=null;return e[t]={put:function(t,e){if(l<Number.MAX_VALUE){var n=c[t]||(c[t]={key:t});i(n)}if(!v(e))return t in u||a++,u[t]=e,a>l&&this.remove(h.key),e},get:function(t){if(l<Number.MAX_VALUE){var e=c[t];if(!e)return;i(e)}return u[t]},remove:function(t){if(l<Number.MAX_VALUE){var e=c[t];if(!e)return;e==p&&(p=e.p),e==h&&(h=e.n),o(e.n,e.p),delete c[t]}delete u[t],a--},removeAll:function(){u={},a=0,c={},p=h=null},destroy:function(){u=null,s=null,c=null,delete e[t]},info:function(){return f({},s,{size:a})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function ze(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function Ke(t,r){function i(t,e){var n=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r={};return o(t,function(t,i){var o=t.match(n);if(!o)throw ji("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,i,t);r[i]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||i}}),r}var a={},s="Directive",l=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,c=/(([\w\-]+)(?:\:([^;]+))?;?)/,p=M("ngSrc,ngSrcset,src,srcset"),v=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,w=/^(on[a-z]+|formaction)$/;this.directive=function S(e,n){return oe(e,"directive"),$(e)?(re(n,"directiveFactory"),a.hasOwnProperty(e)||(a[e]=[],t.factory(e+s,["$injector","$exceptionHandler",function(t,n){var r=[];return o(a[e],function(o,a){try{var s=t.invoke(o);_(s)?s={compile:m(s)}:!s.compile&&s.link&&(s.compile=m(s.link)),s.priority=s.priority||0,s.index=a,s.name=s.name||e,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA",y(s.scope)&&(s.$$isolateBindings=i(s.scope,s.name)),r.push(s)}catch(u){n(u)}}),r}])),a[e].push(n)):o(e,u(S)),this},this.aHrefSanitizationWhitelist=function(t){return b(t)?(r.aHrefSanitizationWhitelist(t),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return b(t)?(r.imgSrcSanitizationWhitelist(t),this):r.imgSrcSanitizationWhitelist()};var E=!0;this.debugInfoEnabled=function(t){return b(t)?(E=t,this):E},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,r,i,u,m,b,S,x,A,C,D){function O(t,e){try{t.addClass(e)}catch(n){}}function T(t,e,n,r,i){t instanceof qr||(t=qr(t)),o(t,function(e,n){e.nodeType==ui&&e.nodeValue.match(/\S+/)&&(t[n]=qr(e).wrap("<span></span>").parent()[0])});var a=N(t,e,t,n,r,i);T.$$addScopeClass(t);var s=null;return function(e,n,r,i,o){re(e,"scope"),s||(s=M(o));var u;if(u="html"!==s?qr(Z(s,qr("<div>").append(t).html())):n?ki.clone.call(t):t,r)for(var l in r)u.data("$"+l+"Controller",r[l].instance);return T.$$addScopeInfo(u,e),n&&n(u,e),a&&a(e,u,u,i),u}}function M(t){var e=t&&t[0];return e&&"foreignobject"!==I(e)&&e.toString().match(/SVG/)?"svg":"html"}function N(t,e,r,i,o,a){function s(t,r,i,o){var a,s,u,l,c,f,p,h,m;if(d){var v=r.length;for(m=new Array(v),c=0;c<g.length;c+=3)p=g[c],m[p]=r[p]}else m=r;for(c=0,f=g.length;f>c;)u=m[g[c++]],a=g[c++],s=g[c++],a?(a.scope?(l=t.$new(),T.$$addScopeInfo(qr(u),l)):l=t,h=a.transcludeOnThisElement?F(t,a.transclude,o,a.elementTranscludeOnThisElement):!a.templateOnThisElement&&o?o:!o&&e?F(t,e):null,a(s,l,u,i,h)):s&&s(t,u.childNodes,n,o)}for(var u,l,c,f,p,h,d,g=[],m=0;m<t.length;m++)u=new ae,l=R(t[m],[],u,0===m?i:n,o),c=l.length?B(l,t[m],u,e,r,null,[],[],a):null,c&&c.scope&&T.$$addScopeClass(u.$$element),p=c&&c.terminal||!(f=t[m].childNodes)||!f.length?null:N(f,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:e),(c||p)&&(g.push(m,c,p),h=!0,d=d||c),a=null;return h?s:null}function F(t,e,n){var r=function(r,i,o,a,s){return r||(r=t.$new(!1,s),r.$$transcluded=!0),e(r,i,o,n,a)};return r}function R(t,e,n,r,i){var o,a,s=t.nodeType,u=n.$attr;switch(s){case si:W(e,Je(I(t)),"E",r,i);for(var f,p,h,d,g,m,v=t.attributes,b=0,y=v&&v.length;y>b;b++){var w=!1,E=!1;f=v[b],p=f.name,g=ei(f.value),d=Je(p),(m=fe.test(d))&&(p=ee(d.substr(6),"-"));var _=d.replace(/(Start|End)$/,"");z(_)&&d===_+"Start"&&(w=p,E=p.substr(0,p.length-5)+"end",p=p.substr(0,p.length-6)),h=Je(p.toLowerCase()),u[h]=p,(m||!n.hasOwnProperty(h))&&(n[h]=g,Ie(t,h)&&(n[h]=!0)),te(t,e,g,h,m),W(e,h,"A",r,i,w,E)}if(a=t.className,$(a)&&""!==a)for(;o=c.exec(a);)h=Je(o[2]),W(e,h,"C",r,i)&&(n[h]=ei(o[3])),a=a.substr(o.index+o[0].length);break;case ui:G(e,t.nodeValue);break;case li:try{o=l.exec(t.nodeValue),o&&(h=Je(o[1]),W(e,h,"M",r,i)&&(n[h]=ei(o[2])))}catch(S){}}return e.sort(Y),e}function L(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw ji("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==si&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(i>0)}else r.push(t);return qr(r)}function V(t,e,n){return function(r,i,o,a,s){return i=L(i[0],e,n),t(r,i,o,a,s)}}function B(t,a,s,u,l,c,f,p,h){function d(t,e,n,r){t&&(n&&(t=V(t,n,r)),t.require=x.require,t.directiveName=A,(P===x||x.$$isolateScope)&&(t=ie(t,{isolateScope:!0})),f.push(t)),e&&(n&&(e=V(e,n,r)),e.require=x.require,e.directiveName=A,(P===x||x.$$isolateScope)&&(e=ie(e,{isolateScope:!0})),p.push(e))}function g(t,e,n,r){var i,a,s="data",u=!1,l=n;if($(e)){if(a=e.match(v),e=e.substring(a[0].length),a[3]&&(a[1]?a[3]=null:a[1]=a[3]),"^"===a[1]?s="inheritedData":"^^"===a[1]&&(s="inheritedData",l=n.parent()),"?"===a[2]&&(u=!0),i=null,r&&"data"===s&&(i=r[e])&&(i=i.instance),i=i||l[s]("$"+e+"Controller"),!i&&!u)throw ji("ctreq","Controller '{0}', required by directive '{1}', can't be found!",e,t);return i||null}return ti(e)&&(i=[],o(e,function(e){i.push(g(t,e,n,r))})),i}function w(t,e,i,u,l){function c(t,e,r){var i;return k(t)||(r=e,e=t,t=n),z&&(i=w),r||(r=z?_.parent():_),l(t,e,i,r,D)}var h,d,v,y,$,w,E,_,x;if(a===i?(x=s,_=s.$$element):(_=qr(i),x=new ae(_,s)),P&&($=e.$new(!0)),E=l&&c,I&&(S={},w={},o(I,function(t){var n,r={$scope:t===P||t.$$isolateScope?$:e,$element:_,$attrs:x,$transclude:E};y=t.controller,"@"==y&&(y=x[t.name]),n=b(y,r,!0,t.controllerAs),w[t.name]=n,z||_.data("$"+t.name+"Controller",n.instance),S[t.name]=n})),P){T.$$addScopeInfo(_,$,!0,!(N&&(N===P||N===P.$$originalDirective))),T.$$addScopeClass(_,!0);var A=S&&S[P.name],C=$;A&&A.identifier&&P.bindToController===!0&&(C=A.instance),o($.$$isolateBindings=P.$$isolateBindings,function(t,n){var i,o,a,s,u=t.attrName,l=t.optional,c=t.mode;switch(c){case"@":x.$observe(u,function(t){C[n]=t}),x.$$observers[u].$$scope=e,x[u]&&(C[n]=r(x[u])(e));break;case"=":if(l&&!x[u])return;o=m(x[u]),s=o.literal?j:function(t,e){return t===e||t!==t&&e!==e},a=o.assign||function(){throw i=C[n]=o(e),ji("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",x[u],P.name)},i=C[n]=o(e);var f=function(t){return s(t,C[n])||(s(t,i)?a(e,t=C[n]):C[n]=t),i=t};f.$stateful=!0;var p;p=t.collection?e.$watchCollection(x[u],f):e.$watch(m(x[u],f),null,o.literal),$.$on("$destroy",p);break;case"&":o=m(x[u]),C[n]=function(t){return o(e,t)}}})}for(S&&(o(S,function(t){t()}),S=null),h=0,d=f.length;d>h;h++)v=f[h],oe(v,v.isolateScope?$:e,_,x,v.require&&g(v.directiveName,v.require,_,w),E);var D=e;for(P&&(P.template||null===P.templateUrl)&&(D=$),t&&t(D,i.childNodes,n,l),h=p.length-1;h>=0;h--)v=p[h],oe(v,v.isolateScope?$:e,_,x,v.require&&g(v.directiveName,v.require,_,w),E)}h=h||{};for(var E,S,x,A,C,D,O,M=-Number.MAX_VALUE,I=h.controllerDirectives,P=h.newIsolateScopeDirective,N=h.templateDirective,F=h.nonTlbTranscludeDirective,B=!1,W=!1,z=h.hasElementTranscludeDirective,Y=s.$$element=qr(a),G=c,X=u,te=0,ee=t.length;ee>te;te++){x=t[te];var re=x.$$start,se=x.$$end;if(re&&(Y=L(a,re,se)),C=n,M>x.priority)break;if((O=x.scope)&&(x.templateUrl||(y(O)?(Q("new/isolated scope",P||E,x,Y),P=x):Q("new/isolated scope",P,x,Y)),E=E||x),A=x.name,!x.templateUrl&&x.controller&&(O=x.controller,I=I||{},Q("'"+A+"' controller",I[A],x,Y),I[A]=x),(O=x.transclude)&&(B=!0,x.$$tlb||(Q("transclusion",F,x,Y),F=x),"element"==O?(z=!0,M=x.priority,C=Y,Y=s.$$element=qr(e.createComment(" "+A+": "+s[A]+" ")),a=Y[0],ne(l,U(C),a),X=T(C,u,M,G&&G.name,{nonTlbTranscludeDirective:F})):(C=qr(be(a)).contents(),Y.empty(),X=T(C,u))),x.template)if(W=!0,Q("template",N,x,Y),N=x,O=_(x.template)?x.template(Y,s):x.template,O=ce(O),x.replace){if(G=x,C=he(O)?[]:Qe(Z(x.templateNamespace,ei(O))),a=C[0],1!=C.length||a.nodeType!==si)throw ji("tplrt","Template for directive '{0}' must have exactly one root element. {1}",A,"");ne(l,Y,a);var ue={$attr:{}},le=R(a,[],ue),fe=t.splice(te+1,t.length-(te+1));P&&q(le),t=t.concat(le).concat(fe),K(s,ue),ee=t.length}else Y.html(O);if(x.templateUrl)W=!0,Q("template",N,x,Y),N=x,x.replace&&(G=x),w=J(t.splice(te,t.length-te),Y,s,l,B&&X,f,p,{controllerDirectives:I,newIsolateScopeDirective:P,templateDirective:N,nonTlbTranscludeDirective:F}),ee=t.length;else if(x.compile)try{D=x.compile(Y,s,X),_(D)?d(null,D,re,se):D&&d(D.pre,D.post,re,se)}catch(pe){i(pe,H(Y))}x.terminal&&(w.terminal=!0,M=Math.max(M,x.priority))}return w.scope=E&&E.scope===!0,w.transcludeOnThisElement=B,w.elementTranscludeOnThisElement=z,w.templateOnThisElement=W,w.transclude=X,h.hasElementTranscludeDirective=z,w}function q(t){for(var e=0,n=t.length;n>e;e++)t[e]=h(t[e],{$$isolateScope:!0})}function W(e,r,o,u,l,c,f){if(r===l)return null;var p=null;if(a.hasOwnProperty(r))for(var d,g=t.get(r+s),m=0,v=g.length;v>m;m++)try{d=g[m],(u===n||u>d.priority)&&-1!=d.restrict.indexOf(o)&&(c&&(d=h(d,{$$start:c,$$end:f})),e.push(d),p=d)}catch(b){i(b)}return p}function z(e){if(a.hasOwnProperty(e))for(var n,r=t.get(e+s),i=0,o=r.length;o>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function K(t,e){var n=e.$attr,r=t.$attr,i=t.$$element;o(t,function(r,i){"$"!=i.charAt(0)&&(e[i]&&e[i]!==r&&(r+=("style"===i?";":" ")+e[i]),t.$set(i,r,!0,n[i]))}),o(e,function(e,o){"class"==o?(O(i,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==o?(i.attr("style",i.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,r[o]=n[o])})}function J(t,e,n,r,i,a,s,l){var c,p,h=[],d=e[0],g=t.shift(),m=f({},g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=_(g.templateUrl)?g.templateUrl(e,n):g.templateUrl,b=g.templateNamespace;return e.empty(),u(A.getTrustedResourceUrl(v)).then(function(u){var f,$,w,E;if(u=ce(u),g.replace){if(w=he(u)?[]:Qe(Z(b,ei(u))),f=w[0],1!=w.length||f.nodeType!==si)throw ji("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,v);
$={$attr:{}},ne(r,e,f);var _=R(f,[],$);y(g.scope)&&q(_),t=_.concat(t),K(n,$)}else f=d,e.html(u);for(t.unshift(m),c=B(t,f,n,i,e,g,a,s,l),o(r,function(t,n){t==f&&(r[n]=e[0])}),p=N(e[0].childNodes,i);h.length;){var S=h.shift(),x=h.shift(),k=h.shift(),A=h.shift(),C=e[0];if(!S.$$destroyed){if(x!==d){var D=x.className;l.hasElementTranscludeDirective&&g.replace||(C=be(f)),ne(k,qr(x),C),O(qr(C),D)}E=c.transcludeOnThisElement?F(S,c.transclude,A):A,c(p,S,C,r,E)}}h=null}),function(t,e,n,r,i){var o=i;e.$$destroyed||(h?(h.push(e),h.push(n),h.push(r),h.push(o)):(c.transcludeOnThisElement&&(o=F(e,c.transclude,i)),c(p,e,n,r,o)))}}function Y(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function Q(t,e,n,r){if(e)throw ji("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",e.name,n.name,t,H(r))}function G(t,e){var n=r(e,!0);n&&t.push({priority:0,compile:function(t){var e=t.parent(),r=!!e.length;return r&&T.$$addBindingClass(e),function(t,e){var i=e.parent();r||T.$$addBindingClass(i),T.$$addBindingInfo(i,n.expressions),t.$watch(n,function(t){e[0].nodeValue=t})}}})}function Z(t,n){switch(t=jr(t||"html")){case"svg":case"math":var r=e.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function X(t,e){if("srcdoc"==e)return A.HTML;var n=I(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?A.RESOURCE_URL:void 0}function te(t,e,n,i,o){var a=r(n,!0);if(a){if("multiple"===i&&"select"===I(t))throw ji("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",H(t));e.push({priority:100,compile:function(){return{pre:function(e,n,s){var u=s.$$observers||(s.$$observers={});if(w.test(i))throw ji("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");s[i]&&(a=r(s[i],!0,X(t,i),p[i]||o),a&&(s[i]=a(e),(u[i]||(u[i]=[])).$$inter=!0,(s.$$observers&&s.$$observers[i].$$scope||e).$watch(a,function(t,e){"class"===i&&t!=e?s.$updateClass(t,e):s.$set(i,t)})))}}}})}}function ne(t,n,r){var i,o,a=n[0],s=n.length,u=a.parentNode;if(t)for(i=0,o=t.length;o>i;i++)if(t[i]==a){t[i++]=r;for(var l=i,c=l+s-1,f=t.length;f>l;l++,c++)f>c?t[l]=t[c]:delete t[l];t.length-=s-1,t.context===a&&(t.context=r);break}u&&u.replaceChild(r,a);var p=e.createDocumentFragment();p.appendChild(a),qr(r).data(qr(a).data()),Hr?(Xr=!0,Hr.cleanData([a])):delete qr.cache[a[qr.expando]];for(var h=1,d=n.length;d>h;h++){var g=n[h];qr(g).remove(),p.appendChild(g),delete n[h]}n[0]=r,n.length=1}function ie(t,e){return f(function(){return t.apply(null,arguments)},t,e)}function oe(t,e,n,r,o,a){try{t(e,n,r,o,a)}catch(s){i(s,H(n))}}var ae=function(t,e){if(e){var n,r,i,o=Object.keys(e);for(n=0,r=o.length;r>n;n++)i=o[n],this[i]=e[i]}else this.$attr={};this.$$element=t};ae.prototype={$normalize:Je,$addClass:function(t){t&&t.length>0&&C.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&C.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=Ye(t,e);n&&n.length&&C.addClass(this.$$element,n);var r=Ye(e,t);r&&r.length&&C.removeClass(this.$$element,r)},$set:function(t,e,r,a){var s,u=this.$$element[0],l=Ie(u,t),c=Pe(u,t),f=t;if(l?(this.$$element.prop(t,e),a=l):c&&(this[c]=e,f=c),this[t]=e,a?this.$attr[t]=a:(a=this.$attr[t],a||(this.$attr[t]=a=ee(t,"-"))),s=I(this.$$element),"a"===s&&"href"===t||"img"===s&&"src"===t)this[t]=e=D(e,"src"===t);else if("img"===s&&"srcset"===t){for(var p="",h=ei(e),d=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,g=/\s/.test(h)?d:/(,)/,m=h.split(g),v=Math.floor(m.length/2),b=0;v>b;b++){var y=2*b;p+=D(ei(m[y]),!0),p+=" "+ei(m[y+1])}var $=ei(m[2*b]).split(/\s/);p+=D(ei($[0]),!0),2===$.length&&(p+=" "+ei($[1])),this[t]=e=p}r!==!1&&(null===e||e===n?this.$$element.removeAttr(a):this.$$element.attr(a,e));var w=this.$$observers;w&&o(w[f],function(t){try{t(e)}catch(n){i(n)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=ue()),i=r[t]||(r[t]=[]);return i.push(e),S.$evalAsync(function(){!i.$$inter&&n.hasOwnProperty(t)&&e(n[t])}),function(){P(i,e)}}};var se=r.startSymbol(),le=r.endSymbol(),ce="{{"==se||"}}"==le?g:function(t){return t.replace(/\{\{/g,se).replace(/}}/g,le)},fe=/^ngAttr[A-Z]/;return T.$$addBindingInfo=E?function(t,e){var n=t.data("$binding")||[];ti(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:d,T.$$addBindingClass=E?function(t){O(t,"ng-binding")}:d,T.$$addScopeInfo=E?function(t,e,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:d,T.$$addScopeClass=E?function(t,e){O(t,e?"ng-isolate-scope":"ng-scope")}:d,T}]}function Je(t){return pe(t.replace(Ri,""))}function Ye(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue t;n+=(n.length>0?" ":"")+a}return n}function Qe(t){t=qr(t);var e=t.length;if(1>=e)return t;for(;e--;){var n=t[e];n.nodeType===li&&Kr.call(t,e,1)}return t}function Ge(){var t={},e=!1,i=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(e,n){oe(e,"controller"),y(e)?f(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(o,a){function s(t,e,n,i){if(!t||!y(t.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,e);t.$scope[e]=n}return function(r,u,l,c){var p,h,d,g;if(l=l===!0,c&&$(c)&&(g=c),$(r)&&(h=r.match(i),d=h[1],g=g||h[3],r=t.hasOwnProperty(d)?t[d]:ae(u.$scope,d,!0)||(e?ae(a,d,!0):n),ie(r,d,!0)),l){var m=function(){};return m.prototype=(ti(r)?r[r.length-1]:r).prototype,p=new m,g&&s(u,g,p,d||r.name),f(function(){return o.invoke(r,p,u,d),p},{instance:p,identifier:g})}return p=o.instantiate(r,u,d),g&&s(u,g,p,d||r.name),p}}]}function Ze(){this.$get=["$window",function(t){return qr(t.document)}]}function Xe(){this.$get=["$log",function(t){return function(){t.error.apply(t,arguments)}}]}function tn(t,e){if($(t)){t=t.replace(qi,"");var n=e("Content-Type");(n&&0===n.indexOf(Ui)||Vi.test(t)&&Bi.test(t))&&(t=q(t))}return t}function en(t){var e,n,r,i={};return t?(o(t.split("\n"),function(t){r=t.indexOf(":"),e=jr(ei(t.substr(0,r))),n=ei(t.substr(r+1)),e&&(i[e]=i[e]?i[e]+", "+n:n)}),i):i}function nn(t){var e=y(t)?t:n;return function(n){return e||(e=en(t)),n?e[jr(n)]||null:e}}function rn(t,e,n){return _(n)?n(t,e):(o(n,function(n){t=n(t,e)}),t)}function on(t){return t>=200&&300>t}function an(){var t=this.defaults={transformResponse:[tn],transformRequest:[function(t){return!y(t)||A(t)||C(t)?t:B(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:F(Li),put:F(Li),patch:F(Li)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},e=!1;this.useApplyAsync=function(t){return b(t)?(e=!!t,this):e};var r=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(i,a,u,l,c,p){function h(e){function r(t){var e=f({},t);return e.data=t.data?rn(t.data,t.headers,a.transformResponse):t.data,on(t.status)?e:c.reject(e)}function i(e){function n(t){var e;o(t,function(n,r){_(n)&&(e=n(),null!=e?t[r]=e:delete t[r])})}var r,i,a,s=t.headers,u=f({},e.headers);s=f({},s.common,s[jr(e.method)]);t:for(r in s){i=jr(r);for(a in u)if(jr(a)===i)continue t;u[r]=s[r]}return n(u),u}var a={method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse},s=i(e);f(a,e),a.headers=s,a.method=Ur(a.method);var u=function(e){s=e.headers;var n=rn(e.data,nn(s),e.transformRequest);return v(n)&&o(s,function(t,e){"content-type"===jr(e)&&delete s[e]}),v(e.withCredentials)&&!v(t.withCredentials)&&(e.withCredentials=t.withCredentials),m(e,n,s).then(r,r)},l=[u,n],p=c.when(a);for(o(x,function(t){(t.request||t.requestError)&&l.unshift(t.request,t.requestError),(t.response||t.responseError)&&l.push(t.response,t.responseError)});l.length;){var h=l.shift(),d=l.shift();p=p.then(h,d)}return p.success=function(t){return p.then(function(e){t(e.data,e.status,e.headers,a)}),p},p.error=function(t){return p.then(null,function(e){t(e.data,e.status,e.headers,a)}),p},p}function d(){o(arguments,function(t){h[t]=function(e,n){return h(f(n||{},{method:t,url:e}))}})}function g(){o(arguments,function(t){h[t]=function(e,n,r){return h(f(r||{},{method:t,url:e,data:n}))}})}function m(r,o,s){function u(t,n,r,i){function o(){f(n,t,r,i)}d&&(on(t)?d.put(E,[t,n,en(r),i]):d.remove(E)),e?l.$applyAsync(o):(o(),l.$$phase||l.$apply())}function f(t,e,n,i){e=Math.max(e,0),(on(e)?m.resolve:m.reject)({data:t,status:e,headers:nn(n),config:r,statusText:i})}function p(){var t=h.pendingRequests.indexOf(r);-1!==t&&h.pendingRequests.splice(t,1)}var d,g,m=c.defer(),$=m.promise,E=w(r.url,r.params);if(h.pendingRequests.push(r),$.then(p,p),!r.cache&&!t.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||(d=y(r.cache)?r.cache:y(t.cache)?t.cache:S),d)if(g=d.get(E),b(g)){if(O(g))return g.then(p,p),g;ti(g)?f(g[1],g[0],F(g[2]),g[3]):f(g,200,{},"OK")}else d.put(E,$);if(v(g)){var _=Gn(r.url)?a.cookies()[r.xsrfCookieName||t.xsrfCookieName]:n;_&&(s[r.xsrfHeaderName||t.xsrfHeaderName]=_),i(r.method,E,o,u,s,r.timeout,r.withCredentials,r.responseType)}return $}function w(t,e){if(!e)return t;var n=[];return s(e,function(t,e){null===t||v(t)||(ti(t)||(t=[t]),o(t,function(t){y(t)&&(t=E(t)?t.toISOString():B(t)),n.push(Y(e)+"="+Y(t))}))}),n.length>0&&(t+=(-1==t.indexOf("?")?"?":"&")+n.join("&")),t}var S=u("$http"),x=[];return o(r,function(t){x.unshift($(t)?p.get(t):p.invoke(t))}),h.pendingRequests=[],d("get","delete","head","jsonp"),g("post","put","patch"),h.defaults=t,h}]}function sn(){return new t.XMLHttpRequest}function un(){this.$get=["$browser","$window","$document",function(t,e,n){return ln(t,sn,t.defer,e.angular.callbacks,n[0])}]}function ln(t,e,n,r,i){function a(t,e,n){var o=i.createElement("script"),a=null;return o.type="text/javascript",o.src=t,o.async=!0,a=function(t){mi(o,"load",a),mi(o,"error",a),i.body.removeChild(o),o=null;var s=-1,u="unknown";t&&("load"!==t.type||r[e].called||(t={type:"error"}),u=t.type,s="error"===t.type?404:200),n&&n(s,u)},gi(o,"load",a),gi(o,"error",a),i.body.appendChild(o),a}return function(i,s,u,l,c,f,p,h){function g(){y&&y(),$&&$.abort()}function m(e,r,i,o,a){_&&n.cancel(_),y=$=null,e(r,i,o,a),t.$$completeOutstandingRequest(d)}if(t.$$incOutstandingRequestCount(),s=s||t.url(),"jsonp"==jr(i)){var v="_"+(r.counter++).toString(36);r[v]=function(t){r[v].data=t,r[v].called=!0};var y=a(s.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(t,e){m(l,t,r[v].data,"",e),r[v]=d})}else{var $=e();$.open(i,s,!0),o(c,function(t,e){b(t)&&$.setRequestHeader(e,t)}),$.onload=function(){var t=$.statusText||"",e="response"in $?$.response:$.responseText,n=1223===$.status?204:$.status;0===n&&(n=e?200:"file"==Qn(s).protocol?404:0),m(l,n,e,$.getAllResponseHeaders(),t)};var w=function(){m(l,-1,null,null,"")};if($.onerror=w,$.onabort=w,p&&($.withCredentials=!0),h)try{$.responseType=h}catch(E){if("json"!==h)throw E}$.send(u||null)}if(f>0)var _=n(g,f);else O(f)&&f.then(g)}}function cn(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(t){return"\\\\\\"+t}function a(o,a,p,h){function d(n){return n.replace(l,t).replace(c,e)}function g(t){try{return D(C(t))}catch(e){var n=Hi("interr","Can't interpolate: {0}\n{1}",o,e.toString());r(n)}}h=!!h;for(var m,b,y,$=0,w=[],E=[],S=o.length,x=[],k=[];S>$;){if(-1==(m=o.indexOf(t,$))||-1==(b=o.indexOf(e,m+s))){$!==S&&x.push(d(o.substring($)));break}$!==m&&x.push(d(o.substring($,m))),y=o.substring(m+s,b),w.push(y),E.push(n(y,g)),$=b+u,k.push(x.length),x.push("")}if(p&&x.length>1)throw Hi("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",o);if(!a||w.length){var A=function(t){for(var e=0,n=w.length;n>e;e++){if(h&&v(t[e]))return;x[k[e]]=t[e]}return x.join("")},C=function(t){return p?i.getTrusted(p,t):i.valueOf(t)},D=function(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=B(t)}return t};return f(function(t){var e=0,n=w.length,i=new Array(n);try{for(;n>e;e++)i[e]=E[e](t);return A(i)}catch(a){var s=Hi("interr","Can't interpolate: {0}\n{1}",o,a.toString());r(s)}},{exp:o,expressions:w,$$watchDelegate:function(t,e,n){var r;return t.$watchGroup(E,function(n,i){var o=A(n);_(e)&&e.call(this,o,n!==i?r:o,t),r=o},n)}})}}var s=t.length,u=e.length,l=new RegExp(t.replace(/./g,o),"g"),c=new RegExp(e.replace(/./g,o),"g");return a.startSymbol=function(){return t},a.endSymbol=function(){return e},a}]}function fn(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,r){function i(i,a,s,u){var l=e.setInterval,c=e.clearInterval,f=0,p=b(u)&&!u,h=(p?r:n).defer(),d=h.promise;return s=b(s)?s:0,d.then(null,null,i),d.$$intervalId=l(function(){h.notify(f++),s>0&&f>=s&&(h.resolve(f),c(d.$$intervalId),delete o[d.$$intervalId]),p||t.$apply()},a),o[d.$$intervalId]=h,d}var o={};return i.cancel=function(t){return t&&t.$$intervalId in o?(o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0):!1},i}]}function pn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(t){return 1===t?"one":"other"}}}}function hn(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=J(e[n]);return e.join("/")}function dn(t,e,n){var r=Qn(t,n);e.$$protocol=r.protocol,e.$$host=r.hostname,e.$$port=p(r.port)||zi[r.protocol]||null}function gn(t,e,n){var r="/"!==t.charAt(0);r&&(t="/"+t);var i=Qn(t,n);e.$$path=decodeURIComponent(r&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=z(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function mn(t,e){return 0===e.indexOf(t)?e.substr(t.length):void 0}function vn(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function bn(t){return t.substr(0,vn(t).lastIndexOf("/")+1)}function yn(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function $n(t,e){this.$$html5=!0,e=e||"";var r=bn(t);dn(t,this,t),this.$$parse=function(e){var n=mn(r,e);if(!$(n))throw Ki("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,r);gn(n,this,t),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=K(this.$$search),e=this.$$hash?"#"+J(this.$$hash):"";this.$$url=hn(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=r+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var a,s,u;return(a=mn(t,i))!==n?(s=a,u=(a=mn(e,a))!==n?r+(mn("/",a)||a):t+s):(a=mn(r,i))!==n?u=r+a:r==i+"/"&&(u=r),u&&this.$$parse(u),!!u}}function wn(t,e){var n=bn(t);dn(t,this,t),this.$$parse=function(r){function i(t,e,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===e.indexOf(n)&&(e=e.replace(n,"")),i.exec(e)?t:(r=i.exec(t),r?r[1]:t)}var o=mn(t,r)||mn(n,r),a="#"==o.charAt(0)?mn(e,o):this.$$html5?o:"";if(!$(a))throw Ki("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',r,e);gn(a,this,t),this.$$path=i(this.$$path,a,t),this.$$compose()},this.$$compose=function(){var n=K(this.$$search),r=this.$$hash?"#"+J(this.$$hash):"";this.$$url=hn(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=t+(this.$$url?e+this.$$url:"")},this.$$parseLinkUrl=function(e){return vn(t)==vn(e)?(this.$$parse(e),!0):!1}}function En(t,e){this.$$html5=!0,wn.apply(this,arguments);var n=bn(t);this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return t==vn(r)?o=r:(a=mn(n,r))?o=t+e+a:n===r+"/"&&(o=n),o&&this.$$parse(o),!!o},this.$$compose=function(){var n=K(this.$$search),r=this.$$hash?"#"+J(this.$$hash):"";this.$$url=hn(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=t+e+this.$$url}}function _n(t){return function(){return this[t]}}function Sn(t,e){return function(n){return v(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function xn(){var e="",n={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return b(t)?(e=t,this):e},this.html5Mode=function(t){return D(t)?(n.enabled=t,this):y(t)?(D(t.enabled)&&(n.enabled=t.enabled),D(t.requireBase)&&(n.requireBase=t.requireBase),D(t.rewriteLinks)&&(n.rewriteLinks=t.rewriteLinks),this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(r,i,o,a){function s(t,e,n){var r=l.url(),o=l.$$state;try{i.url(t,e,n),l.$$state=i.state()}catch(a){throw l.url(r),l.$$state=o,a}}function u(t,e){r.$broadcast("$locationChangeSuccess",l.absUrl(),t,l.$$state,e)}var l,c,f,p=i.baseHref(),h=i.url();if(n.enabled){if(!p&&n.requireBase)throw Ki("nobase","$location in HTML5 mode requires a <base> tag to be present!");f=yn(h)+(p||"/"),c=o.history?$n:En}else f=vn(h),c=wn;l=new c(f,"#"+e),l.$$parseLinkUrl(h,h),l.$$state=i.state();var d=/^\s*(javascript|mailto):/i;a.on("click",function(e){if(n.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&2!=e.which){for(var o=qr(e.target);"a"!==I(o[0]);)if(o[0]===a[0]||!(o=o.parent())[0])return;var s=o.prop("href"),u=o.attr("href")||o.attr("xlink:href");y(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Qn(s.animVal).href),d.test(s)||!s||o.attr("target")||e.isDefaultPrevented()||l.$$parseLinkUrl(s,u)&&(e.preventDefault(),l.absUrl()!=i.url()&&(r.$apply(),t.angular["ff-684208-preventDefault"]=!0))}}),l.absUrl()!=h&&i.url(l.absUrl(),!0);var g=!0;return i.onUrlChange(function(t,e){r.$evalAsync(function(){var n=l.absUrl(),i=l.$$state;l.$$parse(t),l.$$state=e,r.$broadcast("$locationChangeStart",t,n,e,i).defaultPrevented?(l.$$parse(n),l.$$state=i,s(n,!1,i)):(g=!1,u(n,i))}),r.$$phase||r.$digest()}),r.$watch(function(){var t=i.url(),e=i.state(),n=l.$$replace,a=t!==l.absUrl()||l.$$html5&&o.history&&e!==l.$$state;(g||a)&&(g=!1,r.$evalAsync(function(){r.$broadcast("$locationChangeStart",l.absUrl(),t,l.$$state,e).defaultPrevented?(l.$$parse(t),l.$$state=e):(a&&s(l.absUrl(),n,e===l.$$state?null:l.$$state),u(t,e))})),l.$$replace=!1}),l}]}function kn(){var t=!0,e=this;this.debugEnabled=function(e){return b(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function i(t){var e=n.console||{},i=e[t]||e.log||d,a=!1;try{a=!!i.apply}catch(s){}return a?function(){var t=[];return o(arguments,function(e){t.push(r(e))}),i.apply(e,t)}:function(t,e){i(t,null==e?"":e)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function An(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw Yi("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function Cn(t,e){if(t){if(t.constructor===t)throw Yi("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw Yi("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw Yi("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw Yi("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function Dn(t,e){if(t){if(t.constructor===t)throw Yi("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===Qi||t===Gi||t===Zi)throw Yi("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function On(t){return t.constant}function Tn(t,e,n,r){Cn(t,r);for(var i,o=e.split("."),a=0;o.length>1;a++){i=An(o.shift(),r);var s=Cn(t[i],r);s||(s={},t[i]=s),t=s}return i=An(o.shift(),r),Cn(t[i],r),t[i]=n,n}function Mn(t,e,r,i,o,a){return An(t,a),An(e,a),An(r,a),An(i,a),An(o,a),function(a,s){var u=s&&s.hasOwnProperty(t)?s:a;return null==u?u:(u=u[t],e?null==u?n:(u=u[e],r?null==u?n:(u=u[r],i?null==u?n:(u=u[i],o?null==u?n:u=u[o]:u):u):u):u)}}function In(t,e,r){var i=io[t];if(i)return i;var a=t.split("."),s=a.length;if(e.csp)i=6>s?Mn(a[0],a[1],a[2],a[3],a[4],r):function(t,e){var i,o=0;do i=Mn(a[o++],a[o++],a[o++],a[o++],a[o++],r)(t,e),e=n,t=i;while(s>o);return i};else{var u="";o(a,function(t,e){An(t,r),u+="if(s == null) return undefined;\ns="+(e?"s":'((l&&l.hasOwnProperty("'+t+'"))?l:s)')+"."+t+";\n"}),u+="return s;";var l=new Function("s","l",u);l.toString=m(u),i=l}return i.sharedGetter=!0,i.assign=function(e,n){return Tn(e,t,n,t)},io[t]=i,i}function Pn(t){return _(t.valueOf)?t.valueOf():oo.call(t)}function Nn(){var t=ue(),e={csp:!1};this.$get=["$filter","$sniffer",function(n,r){function i(t){var e=t;return t.sharedGetter&&(e=function(e,n){return t(e,n)},e.literal=t.literal,e.constant=t.constant,e.assign=t.assign),e}function a(t,e){for(var n=0,r=t.length;r>n;n++){var i=t[n];i.constant||(i.inputs?a(i.inputs,e):-1===e.indexOf(i)&&e.push(i))}return e}function s(t,e){return null==t||null==e?t===e:"object"==typeof t&&(t=Pn(t),"object"==typeof t)?!1:t===e||t!==t&&e!==e}function u(t,e,n,r){var i,o=r.$$inputs||(r.$$inputs=a(r.inputs,[]));if(1===o.length){var u=s;return o=o[0],t.$watch(function(t){var e=o(t);return s(e,u)||(i=r(t),u=e&&Pn(e)),i},e,n)}for(var l=[],c=0,f=o.length;f>c;c++)l[c]=s;return t.$watch(function(t){for(var e=!1,n=0,a=o.length;a>n;n++){var u=o[n](t);(e||(e=!s(u,l[n])))&&(l[n]=u&&Pn(u))}return e&&(i=r(t)),i},e,n)}function l(t,e,n,r){var i,o;return i=t.$watch(function(t){return r(t)},function(t,n,r){o=t,_(e)&&e.apply(this,arguments),b(t)&&r.$$postDigest(function(){b(o)&&i()})},n)}function c(t,e,n,r){function i(t){var e=!0;return o(t,function(t){b(t)||(e=!1)}),e}var a,s;return a=t.$watch(function(t){return r(t)},function(t,n,r){s=t,_(e)&&e.call(this,t,n,r),i(t)&&r.$$postDigest(function(){i(s)&&a()})},n)}function f(t,e,n,r){var i;return i=t.$watch(function(t){return r(t)},function(){_(e)&&e.apply(this,arguments),i()},n)}function p(t,e){if(!e)return t;var n=function(n,r){var i=t(n,r),o=e(i,n,r);return b(i)?o:i};return t.$$watchDelegate&&t.$$watchDelegate!==u?n.$$watchDelegate=t.$$watchDelegate:e.$stateful||(n.$$watchDelegate=u,n.inputs=[t]),n}return e.csp=r.csp,function(r,o){var a,s,h;switch(typeof r){case"string":if(h=r=r.trim(),a=t[h],!a){":"===r.charAt(0)&&":"===r.charAt(1)&&(s=!0,r=r.substring(2));var g=new no(e),m=new ro(g,n,e);a=m.parse(r),a.constant?a.$$watchDelegate=f:s?(a=i(a),a.$$watchDelegate=a.literal?c:l):a.inputs&&(a.$$watchDelegate=u),t[h]=a}return p(a,o);case"function":return p(r,o);default:return p(d,o)}}}]}function Fn(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return Rn(function(e){t.$evalAsync(e)},e)}]}function jn(){this.$get=["$browser","$exceptionHandler",function(t,e){return Rn(function(e){t.defer(e)},e)}]}function Rn(t,e){function i(t,e,n){function r(e){return function(n){i||(i=!0,e.call(t,n))}}var i=!1;return[r(e),r(n)]}function a(){this.$$state={status:0}}function s(t,e){return function(n){e.call(t,n)}}function u(t){var r,i,o;o=t.pending,t.processScheduled=!1,t.pending=n;for(var a=0,s=o.length;s>a;++a){i=o[a][0],r=o[a][t.status];try{_(r)?i.resolve(r(t.value)):1===t.status?i.resolve(t.value):i.reject(t.value)}catch(u){i.reject(u),e(u)}}}function l(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){u(e)}))}function c(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function f(t){var e=new c,n=0,r=ti(t)?[]:{};return o(t,function(t,i){n++,v(t).then(function(t){r.hasOwnProperty(i)||(r[i]=t,--n||e.resolve(r))},function(t){r.hasOwnProperty(i)||e.reject(t)})}),0===n&&e.resolve(r),e.promise}var p=r("$q",TypeError),h=function(){return new c};a.prototype={then:function(t,e,n){var r=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),this.$$state.status>0&&l(this.$$state),r.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return m(e,!0,t)},function(e){return m(e,!1,t)},e)}},c.prototype={resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(p("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(y(t)||_(t))&&(n=t&&t.then),_(n)?(this.promise.$$state.status=-1,n.call(t,r[0],r[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,l(this.promise.$$state))}catch(o){r[1](o),e(o)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,l(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&t(function(){for(var t,i,o=0,a=r.length;a>o;o++){i=r[o][0],t=r[o][3];try{i.notify(_(t)?t(n):n)}catch(s){e(s)}}})}};var d=function(t){var e=new c;return e.reject(t),e.promise},g=function(t,e){var n=new c;return e?n.resolve(t):n.reject(t),n.promise},m=function(t,e,n){var r=null;try{_(n)&&(r=n())}catch(i){return g(i,!1)}return O(r)?r.then(function(){return g(t,e)},function(t){return g(t,!1)}):g(t,e)},v=function(t,e,n,r){var i=new c;return i.resolve(t),i.promise.then(e,n,r)},b=function $(t){function e(t){r.resolve(t)}function n(t){r.reject(t)}if(!_(t))throw p("norslvr","Expected resolverFn, got '{0}'",t);if(!(this instanceof $))return new $(t);var r=new c;return t(e,n),r.promise};return b.defer=h,b.reject=d,b.when=v,b.all=f,b}function Un(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(t){var e=n(t);return function(){r(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=i,o}]}function Ln(){var t=10,e=r("$rootScope"),n=null,a=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,s,u,c){function f(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function p(t){if($.$$phase)throw e("inprog","{0} already in progress",$.$$phase);$.$$phase=t}function h(){$.$$phase=null}function g(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function m(){}function v(){for(;S.length;)try{S.shift()()}catch(t){s(t)}a=null}function b(){null===a&&(a=c.defer(function(){$.$apply(v)}))}f.prototype={constructor:f,$new:function(t,e){function n(){r.$$destroyed=!0}var r;return e=e||this,t?(r=new f,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=l(),this.$$ChildScope=null},this.$$ChildScope.prototype=this),r=new this.$$ChildScope),r.$parent=e,r.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=r,e.$$childTail=r):e.$$childHead=e.$$childTail=r,(t||e!=this)&&r.$on("$destroy",n),r},$watch:function(t,e,r){var i=u(t);if(i.$$watchDelegate)return i.$$watchDelegate(this,e,r,i);var o=this,a=o.$$watchers,s={fn:e,last:m,get:i,exp:t,eq:!!r};return n=null,_(e)||(s.fn=d),a||(a=o.$$watchers=[]),a.unshift(s),function(){P(a,s),n=null}},$watchGroup:function(t,e){function n(){u=!1,l?(l=!1,e(i,i,s)):e(i,r,s)}var r=new Array(t.length),i=new Array(t.length),a=[],s=this,u=!1,l=!0;if(!t.length){var c=!0;return s.$evalAsync(function(){c&&e(i,i,s)}),function(){c=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){i[0]=t,r[0]=n,e(i,t===n?i:r,o)}):(o(t,function(t,e){var o=s.$watch(t,function(t,o){i[e]=t,r[e]=o,u||(u=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function n(t){o=t;var e,n,r,s,u;if(y(o))if(i(o)){a!==h&&(a=h,m=a.length=0,f++),e=o.length,m!==e&&(f++,a.length=m=e);for(var l=0;e>l;l++)u=a[l],s=o[l],r=u!==u&&s!==s,r||u===s||(f++,a[l]=s)}else{a!==d&&(a=d={},m=0,f++),e=0;for(n in o)o.hasOwnProperty(n)&&(e++,s=o[n],u=a[n],n in a?(r=u!==u&&s!==s,r||u===s||(f++,a[n]=s)):(m++,a[n]=s,f++));if(m>e){f++;for(n in a)o.hasOwnProperty(n)||(m--,delete a[n])}}else a!==o&&(a=o,f++);return f}function r(){if(g?(g=!1,e(o,o,l)):e(o,s,l),c)if(y(o))if(i(o)){s=new Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var n in o)Rr.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,l=this,c=e.length>1,f=0,p=u(t,n),h=[],d={},g=!0,m=0;return this.$watch(p,r)},$digest:function(){var r,i,o,u,l,f,d,g,b,y,S,x=t,k=this,A=[];p("$digest"),c.$$checkUrlChange(),this===$&&null!==a&&(c.defer.cancel(a),v()),n=null;do{for(f=!1,g=k;w.length;){try{S=w.shift(),S.scope.$eval(S.expression)}catch(C){s(C)}n=null}t:do{if(u=g.$$watchers)for(l=u.length;l--;)try{if(r=u[l])if((i=r.get(g))===(o=r.last)||(r.eq?j(i,o):"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))){if(r===n){f=!1;break t}}else f=!0,n=r,r.last=r.eq?N(i,null):i,r.fn(i,o===m?i:o,g),5>x&&(b=4-x,A[b]||(A[b]=[]),y=_(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,y+="; newVal: "+B(i)+"; oldVal: "+B(o),A[b].push(y))}catch(C){s(C)}if(!(d=g.$$childHead||g!==k&&g.$$nextSibling))for(;g!==k&&!(d=g.$$nextSibling);)g=g.$parent}while(g=d);if((f||w.length)&&!x--)throw h(),e("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,B(A))}while(f||w.length);for(h();E.length;)try{E.shift()()}catch(C){s(C)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==$){for(var e in this.$$listenerCount)g(this,this.$$listenerCount[e],e);t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=d,this.$on=this.$watch=this.$watchGroup=function(){return d},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(t,e){return u(t)(this,e)},$evalAsync:function(t){$.$$phase||w.length||c.defer(function(){w.length&&$.$digest()}),w.push({scope:this,expression:t})},$$postDigest:function(t){E.push(t)},$apply:function(t){try{return p("$apply"),this.$eval(t)}catch(e){s(e)}finally{h();try{$.$digest()}catch(e){throw s(e),e}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&S.push(e),b()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(e);
-1!==r&&(n[r]=null,g(i,1,t))}},$emit:function(t){var e,n,r,i=[],o=this,a=!1,u={name:t,targetScope:o,stopPropagation:function(){a=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},l=R([u],arguments,1);do{for(e=o.$$listeners[t]||i,u.currentScope=o,n=0,r=e.length;r>n;n++)if(e[n])try{e[n].apply(null,l)}catch(c){s(c)}else e.splice(n,1),n--,r--;if(a)return u.currentScope=null,u;o=o.$parent}while(o);return u.currentScope=null,u},$broadcast:function(t){var e=this,n=e,r=e,i={name:t,targetScope:e,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1};if(!e.$$listenerCount[t])return i;for(var o,a,u,l=R([i],arguments,1);n=r;){for(i.currentScope=n,o=n.$$listeners[t]||[],a=0,u=o.length;u>a;a++)if(o[a])try{o[a].apply(null,l)}catch(c){s(c)}else o.splice(a,1),a--,u--;if(!(r=n.$$listenerCount[t]&&n.$$childHead||n!==e&&n.$$nextSibling))for(;n!==e&&!(r=n.$$nextSibling);)n=n.$parent}return i.currentScope=null,i}};var $=new f,w=$.$$asyncQueue=[],E=$.$$postDigestQueue=[],S=$.$$applyAsyncQueue=[];return $}]}function Vn(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return b(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return b(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i,o=r?e:t;return i=Qn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function Bn(t){if("self"===t)return t;if($(t)){if(t.indexOf("***")>-1)throw ao("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=ni(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(S(t))return new RegExp("^"+t.source+"$");throw ao("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function qn(t){var e=[];return b(t)&&o(t,function(t){e.push(Bn(t))}),e}function Hn(){this.SCE_CONTEXTS=so;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=qn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=qn(t)),e},this.$get=["$injector",function(r){function i(t,e){return"self"===t?Gn(e):!!t.exec(e.href)}function o(n){var r,o,a=Qn(n.toString()),s=!1;for(r=0,o=t.length;o>r;r++)if(i(t[r],a)){s=!0;break}if(s)for(r=0,o=e.length;o>r;r++)if(i(e[r],a)){s=!1;break}return s}function a(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function s(t,e){var r=p.hasOwnProperty(t)?p[t]:null;if(!r)throw ao("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||e===n||""===e)return e;if("string"!=typeof e)throw ao("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new r(e)}function u(t){return t instanceof f?t.$$unwrapTrustedValue():t}function l(t,e){if(null===e||e===n||""===e)return e;var r=p.hasOwnProperty(t)?p[t]:null;if(r&&e instanceof r)return e.$$unwrapTrustedValue();if(t===so.RESOURCE_URL){if(o(e))return e;throw ao("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===so.HTML)return c(e);throw ao("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(){throw ao("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(c=r.get("$sanitize"));var f=a(),p={};return p[so.HTML]=a(f),p[so.CSS]=a(f),p[so.URL]=a(f),p[so.JS]=a(f),p[so.RESOURCE_URL]=a(p[so.URL]),{trustAs:s,getTrusted:l,valueOf:u}}]}function Wn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>Br)throw ao("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=F(so);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=g),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(so,function(t,e){var n=jr(e);r[pe("parse_as_"+n)]=function(e){return i(t,e)},r[pe("get_trusted_"+n)]=function(e){return a(t,e)},r[pe("trust_as_"+n)]=function(e){return s(t,e)}}),r}]}function zn(){this.$get=["$window","$document",function(t,e){var n,r,i={},o=p((/android (\d+)/.exec(jr((t.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,l=s.body&&s.body.style,c=!1,f=!1;if(l){for(var h in l)if(r=u.exec(h)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),c=!!("transition"in l||n+"Transition"in l),f=!!("animation"in l||n+"Animation"in l),!o||c&&f||(c=$(s.body.style.webkitTransition),f=$(s.body.style.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>o||a),hasEvent:function(t){if("input"==t&&9==Br)return!1;if(v(i[t])){var e=s.createElement("div");i[t]="on"+t in e}return i[t]},csp:ri(),vendorPrefix:n,transitions:c,animations:f,android:o}}]}function Kn(){this.$get=["$templateCache","$http","$q",function(t,e,n){function r(i,o){function a(){if(s.totalPendingRequests--,!o)throw ji("tpload","Failed to load template: {0}",i);return n.reject()}var s=r;s.totalPendingRequests++;var u=e.defaults&&e.defaults.transformResponse;if(ti(u)){var l=u;u=[];for(var c=0;c<l.length;++c){var f=l[c];f!==tn&&u.push(f)}}else u===tn&&(u=null);var p={cache:t,transformResponse:u};return e.get(i,p).then(function(e){var n=e.data;return s.totalPendingRequests--,t.put(i,n),n},a)}return r.totalPendingRequests=0,r}]}function Jn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={};return r.findBindings=function(t,e,n){var r=t.getElementsByClassName("ng-binding"),i=[];return o(r,function(t){var r=Gr.element(t).data("$binding");r&&o(r,function(r){if(n){var o=new RegExp("(^|\\s)"+ni(e)+"(\\s|\\||$)");o.test(r)&&i.push(t)}else-1!=r.indexOf(e)&&i.push(t)})}),i},r.findModels=function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},r.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},r}]}function Yn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){function o(o,s,u){var l,c=b(u)&&!u,f=(c?r:n).defer(),p=f.promise;return l=e.defer(function(){try{f.resolve(o())}catch(e){f.reject(e),i(e)}finally{delete a[p.$$timeoutId]}c||t.$apply()},s),p.$$timeoutId=l,a[l]=f,p}var a={};return o.cancel=function(t){return t&&t.$$timeoutId in a?(a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},o}]}function Qn(t){var e=t;return Br&&(uo.setAttribute("href",e),e=uo.href),uo.setAttribute("href",e),{href:uo.href,protocol:uo.protocol?uo.protocol.replace(/:$/,""):"",host:uo.host,search:uo.search?uo.search.replace(/^\?/,""):"",hash:uo.hash?uo.hash.replace(/^#/,""):"",hostname:uo.hostname,port:uo.port,pathname:"/"===uo.pathname.charAt(0)?uo.pathname:"/"+uo.pathname}}function Gn(t){var e=$(t)?Qn(t):t;return e.protocol===lo.protocol&&e.host===lo.host}function Zn(){this.$get=m(t)}function Xn(t){function e(r,i){if(y(r)){var a={};return o(r,function(t,n){a[n]=e(n,t)}),a}return t.factory(r+n,i)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",er),e("date",pr),e("filter",tr),e("json",hr),e("limitTo",dr),e("lowercase",go),e("number",nr),e("orderBy",gr),e("uppercase",mo)}function tr(){return function(t,e,n){if(!ti(t))return t;var r=typeof n,i=[];i.check=function(t,e){for(var n=0;n<i.length;n++)if(!i[n](t,e))return!1;return!0},"function"!==r&&(n="boolean"===r&&n?function(t,e){return Gr.equals(t,e)}:function(t,e){if(t&&e&&"object"==typeof t&&"object"==typeof e){for(var r in t)if("$"!==r.charAt(0)&&Rr.call(t,r)&&n(t[r],e[r]))return!0;return!1}return e=(""+e).toLowerCase(),(""+t).toLowerCase().indexOf(e)>-1});var o=function(t,e){if("string"==typeof e&&"!"===e.charAt(0))return!o(t,e.substr(1));switch(typeof t){case"boolean":case"number":case"string":return n(t,e);case"object":switch(typeof e){case"object":return n(t,e);default:for(var r in t)if("$"!==r.charAt(0)&&o(t[r],e))return!0}return!1;case"array":for(var i=0;i<t.length;i++)if(o(t[i],e))return!0;return!1;default:return!1}};switch(typeof e){case"boolean":case"number":case"string":e={$:e};case"object":for(var a in e)!function(t){"undefined"!=typeof e[t]&&i.push(function(n){return o("$"==t?n:n&&n[t],e[t])})}(a);break;case"function":i.push(e);break;default:return t}for(var s=[],u=0;u<t.length;u++){var l=t[u];i.check(l,u)&&s.push(l)}return s}}function er(t){var e=t.NUMBER_FORMATS;return function(t,n,r){return v(n)&&(n=e.CURRENCY_SYM),v(r)&&(r=2),null==t?t:rr(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function nr(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:rr(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function rr(t,e,n,r,i){if(!isFinite(t)||y(t))return"";var o=0>t;t=Math.abs(t);var a=t+"",s="",u=[],l=!1;if(-1!==a.indexOf("e")){var c=a.match(/([\d\.]+)e(-?)(\d+)/);c&&"-"==c[2]&&c[3]>i+1?(a="0",t=0):(s=a,l=!0)}if(l)i>0&&t>-1&&1>t&&(s=t.toFixed(i));else{var f=(a.split(co)[1]||"").length;v(i)&&(i=Math.min(Math.max(e.minFrac,f),e.maxFrac)),t=+(Math.round(+(t.toString()+"e"+i)).toString()+"e"+-i),0===t&&(o=!1);var p=(""+t).split(co),h=p[0];p=p[1]||"";var d,g=0,m=e.lgSize,b=e.gSize;if(h.length>=m+b)for(g=h.length-m,d=0;g>d;d++)(g-d)%b===0&&0!==d&&(s+=n),s+=h.charAt(d);for(d=g;d<h.length;d++)(h.length-d)%m===0&&0!==d&&(s+=n),s+=h.charAt(d);for(;p.length<i;)p+="0";i&&"0"!==i&&(s+=r+p.substr(0,i))}return u.push(o?e.negPre:e.posPre),u.push(s),u.push(o?e.negSuf:e.posSuf),u.join("")}function ir(t,e,n){var r="";for(0>t&&(r="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),r+t}function or(t,e,n,r){return n=n||0,function(i){var o=i["get"+t]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),ir(o,e,r)}}function ar(t,e){return function(n,r){var i=n["get"+t](),o=Ur(e?"SHORT"+t:t);return r[o][i]}}function sr(t){var e=-1*t.getTimezoneOffset(),n=e>=0?"+":"";return n+=ir(Math[e>0?"floor":"ceil"](e/60),2)+ir(Math.abs(e%60),2)}function ur(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function lr(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function cr(t){return function(e){var n=ur(e.getFullYear()),r=lr(e),i=+r-+n,o=1+Math.round(i/6048e5);return ir(o,t)}}function fr(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function pr(t){function e(t){var e;if(e=t.match(n)){var r=new Date(0),i=0,o=0,a=e[8]?r.setUTCFullYear:r.setFullYear,s=e[8]?r.setUTCHours:r.setHours;e[9]&&(i=p(e[9]+e[10]),o=p(e[9]+e[11])),a.call(r,p(e[1]),p(e[2])-1,p(e[3]));var u=p(e[4]||0)-i,l=p(e[5]||0)-o,c=p(e[6]||0),f=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(r,u,l,c,f),r}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,u="",l=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,$(n)&&(n=ho.test(n)?p(n):e(n)),w(n)&&(n=new Date(n)),!E(n))return n;for(;r;)s=po.exec(r),s?(l=R(l,s,1),r=l.pop()):(l.push(r),r=null);return i&&"UTC"===i&&(n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+n.getTimezoneOffset())),o(l,function(e){a=fo[e],u+=a?a(n,t.DATETIME_FORMATS):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function hr(){return function(t){return B(t,!0)}}function dr(){return function(t,e){if(w(t)&&(t=t.toString()),!ti(t)&&!$(t))return t;if(e=1/0===Math.abs(Number(e))?Number(e):p(e),$(t))return e?e>=0?t.slice(0,e):t.slice(e,t.length):"";var n,r,i=[];for(e>t.length?e=t.length:e<-t.length&&(e=-t.length),e>0?(n=0,r=e):(n=t.length+e,r=t.length);r>n;n++)i.push(t[n]);return i}}function gr(t){return function(e,n,r){function o(t,e){for(var r=0;r<n.length;r++){var i=n[r](t,e);if(0!==i)return i}return 0}function a(t,e){return e?function(e,n){return t(n,e)}:t}function s(t,e){var n=typeof t,r=typeof e;return n==r?(E(t)&&E(e)&&(t=t.valueOf(),e=e.valueOf()),"string"==n&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e?0:e>t?-1:1):r>n?-1:1}if(!i(e))return e;n=ti(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(e){var n=!1,r=e||g;if($(e)){if(("+"==e.charAt(0)||"-"==e.charAt(0))&&(n="-"==e.charAt(0),e=e.substring(1)),""===e)return a(function(t,e){return s(t,e)},n);if(r=t(e),r.constant){var i=r();return a(function(t,e){return s(t[i],e[i])},n)}}return a(function(t,e){return s(r(t),r(e))},n)});for(var u=[],l=0;l<e.length;l++)u.push(e[l]);return u.sort(a(o,r))}}function mr(t){return _(t)&&(t={link:t}),t.restrict=t.restrict||"AC",m(t)}function vr(t,e){t.$name=e}function br(t,e,r,i,a){var s=this,u=[],l=s.$$parentForm=t.parent().controller("form")||yo;s.$error={},s.$$success={},s.$pending=n,s.$name=a(e.name||e.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,l.$addControl(s),s.$rollbackViewValue=function(){o(u,function(t){t.$rollbackViewValue()})},s.$commitViewValue=function(){o(u,function(t){t.$commitViewValue()})},s.$addControl=function(t){oe(t.$name,"input"),u.push(t),t.$name&&(s[t.$name]=t)},s.$$renameControl=function(t,e){var n=t.$name;s[n]===t&&delete s[n],s[e]=t,t.$name=e},s.$removeControl=function(t){t.$name&&s[t.$name]===t&&delete s[t.$name],o(s.$pending,function(e,n){s.$setValidity(n,null,t)}),o(s.$error,function(e,n){s.$setValidity(n,null,t)}),P(u,t)},Mr({ctrl:this,$element:t,set:function(t,e,n){var r=t[e];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(P(r,n),0===r.length&&delete t[e])},parentForm:l,$animate:i}),s.$setDirty=function(){i.removeClass(t,Uo),i.addClass(t,Lo),s.$dirty=!0,s.$pristine=!1,l.$setDirty()},s.$setPristine=function(){i.setClass(t,Uo,Lo+" "+$o),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(u,function(t){t.$setPristine()})},s.$setUntouched=function(){o(u,function(t){t.$setUntouched()})},s.$setSubmitted=function(){i.addClass(t,$o),s.$submitted=!0,l.$setSubmitted()}}function yr(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function $r(t,e,n,r,i,o){wr(t,e,n,r,i,o),yr(r)}function wr(t,e,n,r,i,o){var a=e[0].placeholder,s={},u=jr(e[0].type);if(!i.android){var l=!1;e.on("compositionstart",function(){l=!0}),e.on("compositionend",function(){l=!1,c()})}var c=function(t){if(!l){var i=e.val(),o=t&&t.type;if(Br&&"input"===(t||s).type&&e[0].placeholder!==a)return void(a=e[0].placeholder);"password"===u||n.ngTrim&&"false"===n.ngTrim||(i=ei(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,o)}};if(i.hasEvent("input"))e.on("input",c);else{var f,p=function(t){f||(f=o.defer(function(){c(t),f=null}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||p(t)}),i.hasEvent("paste")&&e.on("paste cut",p)}e.on("change",c),r.$render=function(){e.val(r.$isEmpty(r.$modelValue)?"":r.$viewValue)}}function Er(t,e){if(E(t))return t;if($(t)){Oo.lastIndex=0;var n=Oo.exec(t);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,u=0,l=ur(r),c=7*(i-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),u=e.getMilliseconds()),new Date(r,0,l.getDate()+c,o,a,s,u)}}return 0/0}function _r(t,e){return function(n,r){var i,a;if(E(n))return n;if($(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),So.test(n))return new Date(n);if(t.lastIndex=0,i=t.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return 0/0}}function Sr(t,e,r,i){return function(o,a,s,u,l,c,f){function p(t){return b(t)?E(t)?t:r(t):n}xr(o,a,s,u),wr(o,a,s,u,l,c);var h,d=u&&u.$options&&u.$options.timezone;if(u.$$parserName=t,u.$parsers.push(function(t){if(u.$isEmpty(t))return null;if(e.test(t)){var i=r(t,h);return"UTC"===d&&i.setMinutes(i.getMinutes()-i.getTimezoneOffset()),i}return n}),u.$formatters.push(function(t){if(!u.$isEmpty(t)){if(!E(t))throw Po("datefmt","Expected `{0}` to be a date",t);if(h=t,h&&"UTC"===d){var e=6e4*h.getTimezoneOffset();h=new Date(h.getTime()+e)}return f("date")(t,i,d)}return h=null,""}),b(s.min)||s.ngMin){var g;u.$validators.min=function(t){return u.$isEmpty(t)||v(g)||r(t)>=g},s.$observe("min",function(t){g=p(t),u.$validate()})}if(b(s.max)||s.ngMax){var m;u.$validators.max=function(t){return u.$isEmpty(t)||v(m)||r(t)<=m},s.$observe("max",function(t){m=p(t),u.$validate()})}u.$isEmpty=function(t){return!t||t.getTime&&t.getTime()!==t.getTime()}}}function xr(t,e,r,i){var o=e[0],a=i.$$hasNativeValidators=y(o.validity);a&&i.$parsers.push(function(t){var r=e.prop(Fr)||{};return r.badInput&&!r.typeMismatch?n:t})}function kr(t,e,r,i,o,a){if(xr(t,e,r,i),wr(t,e,r,i,o,a),i.$$parserName="number",i.$parsers.push(function(t){return i.$isEmpty(t)?null:Ao.test(t)?parseFloat(t):n}),i.$formatters.push(function(t){if(!i.$isEmpty(t)){if(!w(t))throw Po("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),r.min||r.ngMin){var s;i.$validators.min=function(t){return i.$isEmpty(t)||v(s)||t>=s},r.$observe("min",function(t){b(t)&&!w(t)&&(t=parseFloat(t,10)),s=w(t)&&!isNaN(t)?t:n,i.$validate()})}if(r.max||r.ngMax){var u;i.$validators.max=function(t){return i.$isEmpty(t)||v(u)||u>=t},r.$observe("max",function(t){b(t)&&!w(t)&&(t=parseFloat(t,10)),u=w(t)&&!isNaN(t)?t:n,i.$validate()})}}function Ar(t,e,n,r,i,o){wr(t,e,n,r,i,o),yr(r),r.$$parserName="url",r.$validators.url=function(t){return r.$isEmpty(t)||xo.test(t)}}function Cr(t,e,n,r,i,o){wr(t,e,n,r,i,o),yr(r),r.$$parserName="email",r.$validators.email=function(t){return r.$isEmpty(t)||ko.test(t)}}function Dr(t,e,n,r){v(n.name)&&e.attr("name",l());var i=function(t){e[0].checked&&r.$setViewValue(n.value,t&&t.type)};e.on("click",i),r.$render=function(){var t=n.value;e[0].checked=t==r.$viewValue},n.$observe("value",r.$render)}function Or(t,e,n,i,o){var a;if(b(i)){if(a=t(i),!a.constant)throw r("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return a(e)}return o}function Tr(t,e,n,r,i,o,a,s){var u=Or(s,t,"ngTrueValue",n.ngTrueValue,!0),l=Or(s,t,"ngFalseValue",n.ngFalseValue,!1),c=function(t){r.$setViewValue(e[0].checked,t&&t.type)};e.on("click",c),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return t!==u},r.$formatters.push(function(t){return j(t,u)}),r.$parsers.push(function(t){return t?u:l})}function Mr(t){function e(t,e,u){e===n?r("$pending",t,u):i("$pending",t,u),D(e)?e?(f(s.$error,t,u),c(s.$$success,t,u)):(c(s.$error,t,u),f(s.$$success,t,u)):(f(s.$error,t,u),f(s.$$success,t,u)),s.$pending?(o(qo,!0),s.$valid=s.$invalid=n,a("",null)):(o(qo,!1),s.$valid=Ir(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var l;l=s.$pending&&s.$pending[t]?n:s.$error[t]?!1:s.$$success[t]?!0:null,a(t,l),p.$setValidity(t,l,s)}function r(t,e,n){s[t]||(s[t]={}),c(s[t],e,n)}function i(t,e,r){s[t]&&f(s[t],e,r),Ir(s[t])&&(s[t]=n)}function o(t,e){e&&!l[t]?(h.addClass(u,t),l[t]=!0):!e&&l[t]&&(h.removeClass(u,t),l[t]=!1)}function a(t,e){t=t?"-"+ee(t,"-"):"",o(jo+t,e===!0),o(Ro+t,e===!1)}var s=t.ctrl,u=t.$element,l={},c=t.set,f=t.unset,p=t.parentForm,h=t.$animate;l[Ro]=!(l[jo]=u.hasClass(jo)),s.$setValidity=e}function Ir(t){if(t)for(var e in t)return!1;return!0}function Pr(t,e){return t="ngClass"+t,["$animate",function(n){function r(t,e){var n=[];t:for(var r=0;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i==e[o])continue t;n.push(i)}return n}function i(t){if(ti(t))return t;if($(t))return t.split(" ");if(y(t)){var e=[];return o(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e}return t}return{restrict:"AC",link:function(a,s,u){function l(t){var e=f(t,1);u.$addClass(e)}function c(t){var e=f(t,-1);u.$removeClass(e)}function f(t,e){var n=s.data("$classCounts")||{},r=[];return o(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&r.push(t))}),s.data("$classCounts",n),r.join(" ")}function p(t,e){var i=r(e,t),o=r(t,e);i=f(i,1),o=f(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function h(t){if(e===!0||a.$index%2===e){var n=i(t||[]);if(d){if(!j(t,d)){var r=i(d);p(r,n)}}else l(n)}d=F(t)}var d;a.$watch(u[t],h,!0),u.$observe("class",function(){h(a.$eval(u[t]))}),"ngClass"!==t&&a.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var s=i(a.$eval(u[t]));o===e?l(s):c(s)}})}}}]}var Nr=/^\/(.+)\/([a-z]*)$/,Fr="validity",jr=function(t){return $(t)?t.toLowerCase():t},Rr=Object.prototype.hasOwnProperty,Ur=function(t){return $(t)?t.toUpperCase():t},Lr=function(t){return $(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Vr=function(t){return $(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(jr=Lr,Ur=Vr);var Br,qr,Hr,Wr,zr=[].slice,Kr=[].splice,Jr=[].push,Yr=Object.prototype.toString,Qr=r("ng"),Gr=t.angular||(t.angular={}),Zr=0;Br=e.documentMode,d.$inject=[],g.$inject=[];var Xr,ti=Array.isArray,ei=function(t){return $(t)?t.trim():t},ni=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},ri=function(){if(b(ri.isActive_))return ri.isActive_;var t=!(!e.querySelector("[ng-csp]")&&!e.querySelector("[data-ng-csp]"));if(!t)try{new Function("")}catch(n){t=!0}return ri.isActive_=t},ii=["ng-","data-ng-","ng:","x-ng-"],oi=/[A-Z]/g,ai=!1,si=1,ui=3,li=8,ci=9,fi=11,pi={full:"1.3.1",major:1,minor:3,dot:1,codeName:"spectral-lobster"};ve.expando="ng339";var hi=ve.cache={},di=1,gi=function(t,e,n){t.addEventListener(e,n,!1)},mi=function(t,e,n){t.removeEventListener(e,n,!1)};ve._data=function(t){return this.cache[t[this.expando]]||{}};var vi=/([\:\-\_]+(.))/g,bi=/^moz([A-Z])/,yi={mouseleave:"mouseout",mouseenter:"mouseover"},$i=r("jqLite"),wi=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ei=/<|&#?\w+;/,_i=/<([\w:]+)/,Si=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,xi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};xi.optgroup=xi.option,xi.tbody=xi.tfoot=xi.colgroup=xi.caption=xi.thead,xi.th=xi.td;var ki=ve.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===e.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),ve(t).on("load",r))},toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return qr(t>=0?this[t]:this[this.length+t])},length:0,push:Jr,sort:[].sort,splice:[].splice},Ai={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Ai[jr(t)]=t});var Ci={};o("input,select,option,textarea,button,form,details".split(","),function(t){Ci[t]=!0});var Di={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:_e,removeData:we},function(t,e){ve[e]=t}),o({data:_e,inheritedData:De,scope:function(t){return qr.data(t,"$scope")||De(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return qr.data(t,"$isolateScope")||qr.data(t,"$isolateScopeNoTemplate")},controller:Ce,injector:function(t){return De(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Se,css:function(t,e,n){return e=pe(e),b(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,r){var i=jr(e);if(Ai[i]){if(!b(r))return t[e]||(t.attributes.getNamedItem(e)||d).specified?i:n;r?(t[e]=!0,t.setAttribute(e,i)):(t[e]=!1,t.removeAttribute(i))}else if(b(r))t.setAttribute(e,r);else if(t.getAttribute){var o=t.getAttribute(e,2);return null===o?n:o}},prop:function(t,e,n){return b(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(v(e)){var n=t.nodeType;return n===si||n===ui?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(v(e)){if(t.multiple&&"select"===I(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return v(e)?t.innerHTML:(ye(t,!0),void(t.innerHTML=e))},empty:Oe},function(t,e){ve.prototype[e]=function(e,r){var i,o,a=this.length;if(t!==Oe&&(2==t.length&&t!==Se&&t!==Ce?e:r)===n){if(y(e)){for(i=0;a>i;i++)if(t===_e)t(this[i],e);else for(o in e)t(this[i],o,e[o]);return this}for(var s=t.$dv,u=s===n?Math.min(a,1):a,l=0;u>l;l++){var c=t(this[l],e,r);s=s?s+c:c}return s}for(i=0;a>i;i++)t(this[i],e,r);return this}}),o({removeData:we,on:function Ia(t,e,n,r){if(b(r))throw $i("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(de(t)){var i=Ee(t,!0),o=i.events,a=i.handle;a||(a=i.handle=Ne(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],u=s.length;u--;){e=s[u];var l=o[e];l||(o[e]=[],"mouseenter"===e||"mouseleave"===e?Ia(t,yi[e],function(t){var n=this,r=t.relatedTarget;(!r||r!==n&&!n.contains(r))&&a(t,e)}):"$destroy"!==e&&gi(t,e,a),l=o[e]),l.push(n)}}},off:$e,one:function(t,e,n){t=qr(t),t.on(e,function r(){t.off(e,n),t.off(e,r)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;ye(t),o(new ve(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===si&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===si||n===fi){e=new ve(e);for(var r=0,i=e.length;i>r;r++){var o=e[r];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===si){var n=t.firstChild;o(new ve(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=qr(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:Te,detach:function(t){Te(t,!0)},after:function(t,e){var n=t,r=t.parentNode;e=new ve(e);for(var i=0,o=e.length;o>i;i++){var a=e[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:ke,removeClass:xe,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var r=n;v(r)&&(r=!Se(t,e)),(r?ke:xe)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==fi?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:be,triggerHandler:function(t,e,n){var r,i,a,s=e.type||e,u=Ee(t),l=u&&u.events,c=l&&l[s];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:d,type:s,target:t},e.type&&(r=f(r,e)),i=F(c),a=n?[r].concat(n):[r],o(i,function(e){r.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){ve.prototype[e]=function(e,n,r){for(var i,o=0,a=this.length;a>o;o++)v(i)?(i=t(this[o],e,n,r),b(i)&&(i=qr(i))):Ae(i,t(this[o],e,n,r));return b(i)?i:this},ve.prototype.bind=ve.prototype.on,ve.prototype.unbind=ve.prototype.off}),je.prototype={put:function(t,e){this[Fe(t,this.nextUid)]=e},get:function(t){return this[Fe(t,this.nextUid)]},remove:function(t){var e=this[t=Fe(t,this.nextUid)];return delete this[t],e}};var Oi=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Ti=/,/,Mi=/^\s*(_?)(\S+?)\1\s*$/,Ii=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Pi=r("$injector");Le.$$annotate=Ue;var Ni=r("$animate"),Fi=["$provide",function(t){this.$$selectors={},this.register=function(e,n){var r=e+"-animation";if(e&&"."!=e.charAt(0))throw Ni("notcsel","Expecting class selector starting with '.' got '{0}'.",e);this.$$selectors[e.substr(1)]=r,t.factory(r,n)},this.classNameFilter=function(t){return 1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(t,e,n){function r(e){var r,i=t.defer();return i.promise.$$cancelFn=function(){r&&r()},n.$$postDigest(function(){r=e(function(){i.resolve()})}),i.promise}function i(t,e){var n=[],r=[],i=ue();return o((t.attr("class")||"").split(/\s+/),function(t){i[t]=!0}),o(e,function(t,e){var o=i[e];t===!1&&o?r.push(e):t!==!0||o||n.push(e)}),n.length+r.length>0&&[n.length?n:null,r.length?r:null]}function a(t,e,n){for(var r=0,i=e.length;i>r;++r){var o=e[r];t[o]=n}}function s(){return l||(l=t.defer(),e(function(){l.resolve(),l=null})),l.promise}function u(t,e){if(Gr.isObject(e)){var n=f(e.from||{},e.to||{});t.css(n)}}var l;return{animate:function(t,e,n){return u(t,{from:e,to:n}),s()},enter:function(t,e,n,r){return u(t,r),n?n.after(t):e.prepend(t),s()},leave:function(t){return t.remove(),s()},move:function(t,e,n,r){return this.enter(t,e,n,r)},addClass:function(t,e,n){return this.setClass(t,e,[],n)},$$addClassImmediately:function(t,e,n){return t=qr(t),e=$(e)?e:ti(e)?e.join(" "):"",o(t,function(t){ke(t,e)}),u(t,n),s()},removeClass:function(t,e,n){return this.setClass(t,[],e,n)},$$removeClassImmediately:function(t,e,n){return t=qr(t),e=$(e)?e:ti(e)?e.join(" "):"",o(t,function(t){xe(t,e)}),u(t,n),s()},setClass:function(t,e,n,o){var s=this,u="$$animateClasses",l=!1;t=qr(t);var c=t.data(u);c?o&&c.options&&(c.options=Gr.extend(c.options||{},o)):(c={classes:{},options:o},l=!0);var f=c.classes;return e=ti(e)?e:e.split(" "),n=ti(n)?n:n.split(" "),a(f,e,!0),a(f,n,!1),l&&(c.promise=r(function(e){var n=t.data(u);if(t.removeData(u),n){var r=i(t,n.classes);r&&s.$$setClassImmediately(t,r[0],r[1],n.options)}e()}),t.data(u,c)),c.promise},$$setClassImmediately:function(t,e,n,r){return e&&this.$$addClassImmediately(t,e),n&&this.$$removeClassImmediately(t,n),u(t,r),s()},enabled:d,cancel:d}}]}],ji=r("$compile");Ke.$inject=["$provide","$$sanitizeUriProvider"];var Ri=/^((?:x|data)[\:\-_])/i,Ui="application/json",Li={"Content-Type":Ui+";charset=utf-8"},Vi=/^\s*(\[|\{[^\{])/,Bi=/[\}\]]\s*$/,qi=/^\)\]\}',?\n/,Hi=r("$interpolate"),Wi=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,zi={http:80,https:443,ftp:21},Ki=r("$location"),Ji={$$html5:!1,$$replace:!1,absUrl:_n("$$absUrl"),url:function(t){if(v(t))return this.$$url;var e=Wi.exec(t);return e[1]&&this.path(decodeURIComponent(e[1])),(e[2]||e[1])&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:_n("$$protocol"),host:_n("$$host"),port:_n("$$port"),path:Sn("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if($(t)||w(t))t=t.toString(),this.$$search=z(t);else{if(!y(t))throw Ki("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=N(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:v(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Sn("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([En,wn,$n],function(t){t.prototype=Object.create(Ji),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==$n||!this.$$html5)throw Ki("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(e)?null:e,this}});var Yi=r("$parse"),Qi=Function.prototype.call,Gi=Function.prototype.apply,Zi=Function.prototype.bind,Xi=ue();o({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(t,e){t.constant=t.literal=t.sharedGetter=!0,Xi[e]=t}),Xi["this"]=function(t){return t},Xi["this"].sharedGetter=!0;var to=f(ue(),{"+":function(t,e,r,i){return r=r(t,e),i=i(t,e),b(r)?b(i)?r+i:r:b(i)?i:n
},"-":function(t,e,n,r){return n=n(t,e),r=r(t,e),(b(n)?n:0)-(b(r)?r:0)},"*":function(t,e,n,r){return n(t,e)*r(t,e)},"/":function(t,e,n,r){return n(t,e)/r(t,e)},"%":function(t,e,n,r){return n(t,e)%r(t,e)},"===":function(t,e,n,r){return n(t,e)===r(t,e)},"!==":function(t,e,n,r){return n(t,e)!==r(t,e)},"==":function(t,e,n,r){return n(t,e)==r(t,e)},"!=":function(t,e,n,r){return n(t,e)!=r(t,e)},"<":function(t,e,n,r){return n(t,e)<r(t,e)},">":function(t,e,n,r){return n(t,e)>r(t,e)},"<=":function(t,e,n,r){return n(t,e)<=r(t,e)},">=":function(t,e,n,r){return n(t,e)>=r(t,e)},"&&":function(t,e,n,r){return n(t,e)&&r(t,e)},"||":function(t,e,n,r){return n(t,e)||r(t,e)},"!":function(t,e,n){return!n(t,e)},"=":!0,"|":!0}),eo={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},no=function(t){this.options=t};no.prototype={constructor:no,lex:function(t){for(this.text=t,this.index=0,this.ch=n,this.tokens=[];this.index<this.text.length;)if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch}),this.index++;else if(this.isWhitespace(this.ch))this.index++;else{var e=this.ch+this.peek(),r=e+this.peek(2),i=to[this.ch],o=to[e],a=to[r];a?(this.tokens.push({index:this.index,text:r,fn:a}),this.index+=3):o?(this.tokens.push({index:this.index,text:e,fn:o}),this.index+=2):i?(this.tokens.push({index:this.index,text:this.ch,fn:i}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(t){return-1!==t.indexOf(this.ch)},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return t>="0"&&"9">=t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||""===t||" "===t},isIdent:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=b(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw Yi("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=jr(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}t=1*t,this.tokens.push({index:e,text:t,constant:!0,fn:function(){return t}})},readIdent:function(){for(var t,e,r,i,o=this.text,a="",s=this.index;this.index<this.text.length&&(i=this.text.charAt(this.index),"."===i||this.isIdent(i)||this.isNumber(i));)"."===i&&(t=this.index),a+=i,this.index++;if(t&&"."===a[a.length-1]&&(this.index--,a=a.slice(0,-1),t=a.lastIndexOf("."),-1===t&&(t=n)),t)for(e=this.index;e<this.text.length;){if(i=this.text.charAt(e),"("===i){r=a.substr(t-s+1),a=a.substr(0,t-s),this.index=e;break}if(!this.isWhitespace(i))break;e++}this.tokens.push({index:s,text:a,fn:Xi[a]||In(a,this.options,o)}),r&&(this.tokens.push({index:t,text:"."}),this.tokens.push({index:t+1,text:r}))},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=eo[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,string:n,constant:!0,fn:function(){return n}});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var ro=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n};ro.ZERO=f(function(){return 0},{sharedGetter:!0,constant:!0}),ro.prototype={constructor:ro,parse:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e.literal=!!e.literal,e.constant=!!e.constant,e},primary:function(){var t;if(this.expect("("))t=this.filterChain(),this.consume(")");else if(this.expect("["))t=this.arrayDeclaration();else if(this.expect("{"))t=this.object();else{var e=this.expect();t=e.fn,t||this.throwError("not a primary expression",e),e.constant&&(t.constant=!0,t.literal=!0)}for(var n,r;n=this.expect("(","[",".");)"("===n.text?(t=this.functionCall(t,r),r=null):"["===n.text?(r=t,t=this.objectIndex(t)):"."===n.text?(r=t,t=this.fieldAccess(t)):this.throwError("IMPOSSIBLE");return t},throwError:function(t,e){throw Yi("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},peekToken:function(){if(0===this.tokens.length)throw Yi("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){if(this.tokens.length>0){var i=this.tokens[0],o=i.text;if(o===t||o===e||o===n||o===r||!t&&!e&&!n&&!r)return i}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return i?(this.tokens.shift(),i):!1},consume:function(t){this.expect(t)||this.throwError("is unexpected, expecting ["+t+"]",this.peek())},unaryFn:function(t,e){return f(function(n,r){return t(n,r,e)},{constant:e.constant,inputs:[e]})},binaryFn:function(t,e,n,r){return f(function(r,i){return e(r,i,t,n)},{constant:t.constant&&n.constant,inputs:!r&&[t,n]})},statements:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.filterChain()),!this.expect(";"))return 1===t.length?t[0]:function(e,n){for(var r,i=0,o=t.length;o>i;i++)r=t[i](e,n);return r}},filterChain:function(){for(var t,e=this.expression();t=this.expect("|");)e=this.filter(e);return e},filter:function(t){var e,r,i=this.expect(),o=this.$filter(i.text);if(this.peek(":"))for(e=[],r=[];this.expect(":");)e.push(this.expression());var a=[t].concat(e||[]);return f(function(i,a){var s=t(i,a);if(r){r[0]=s;for(var u=e.length;u--;)r[u+1]=e[u](i,a);return o.apply(n,r)}return o(s)},{constant:!o.$stateful&&a.every(On),inputs:!o.$stateful&&a})},expression:function(){return this.assignment()},assignment:function(){var t,e,n=this.ternary();return(e=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,e.index)+"] can not be assigned to",e),t=this.ternary(),f(function(e,r){return n.assign(e,t(e,r),r)},{inputs:[n,t]})):n},ternary:function(){var t,e,n=this.logicalOR();if(e=this.expect("?")){if(t=this.assignment(),e=this.expect(":")){var r=this.assignment();return f(function(e,i){return n(e,i)?t(e,i):r(e,i)},{constant:n.constant&&t.constant&&r.constant})}this.throwError("expected :",e)}return n},logicalOR:function(){for(var t,e=this.logicalAND();t=this.expect("||");)e=this.binaryFn(e,t.fn,this.logicalAND(),!0);return e},logicalAND:function(){var t,e=this.equality();return(t=this.expect("&&"))&&(e=this.binaryFn(e,t.fn,this.logicalAND(),!0)),e},equality:function(){var t,e=this.relational();return(t=this.expect("==","!=","===","!=="))&&(e=this.binaryFn(e,t.fn,this.equality())),e},relational:function(){var t,e=this.additive();return(t=this.expect("<",">","<=",">="))&&(e=this.binaryFn(e,t.fn,this.relational())),e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e=this.binaryFn(e,t.fn,this.multiplicative());return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e=this.binaryFn(e,t.fn,this.unary());return e},unary:function(){var t;return this.expect("+")?this.primary():(t=this.expect("-"))?this.binaryFn(ro.ZERO,t.fn,this.unary()):(t=this.expect("!"))?this.unaryFn(t.fn,this.unary()):this.primary()},fieldAccess:function(t){var e=this.text,n=this.expect().text,r=In(n,this.options,e);return f(function(e,n,i){return r(i||t(e,n))},{assign:function(r,i,o){var a=t(r,o);return a||t.assign(r,a={}),Tn(a,n,i,e)}})},objectIndex:function(t){var e=this.text,r=this.expression();return this.consume("]"),f(function(i,o){var a,s=t(i,o),u=r(i,o);return An(u,e),s?a=Cn(s[u],e):n},{assign:function(n,i,o){var a=An(r(n,o),e),s=Cn(t(n,o),e);return s||t.assign(n,s={}),s[a]=i}})},functionCall:function(t,e){var n=[];if(")"!==this.peekToken().text)do n.push(this.expression());while(this.expect(","));this.consume(")");var r=this.text,i=n.length?[]:null;return function(o,a){var s=e?e(o,a):o,u=t(o,a,s)||d;if(i)for(var l=n.length;l--;)i[l]=Cn(n[l](o,a),r);Cn(s,r),Dn(u,r);var c=u.apply?u.apply(s,i):u(i[0],i[1],i[2],i[3],i[4]);return Cn(c,r)}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var e=this.expression();t.push(e)}while(this.expect(","));return this.consume("]"),f(function(e,n){for(var r=[],i=0,o=t.length;o>i;i++)r.push(t[i](e,n));return r},{literal:!0,constant:t.every(On),inputs:t})},object:function(){var t=[],e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.expect();t.push(n.string||n.text),this.consume(":");var r=this.expression();e.push(r)}while(this.expect(","));return this.consume("}"),f(function(n,r){for(var i={},o=0,a=e.length;a>o;o++)i[t[o]]=e[o](n,r);return i},{literal:!0,constant:e.every(On),inputs:e})}};var io=ue(),oo=Object.prototype.valueOf,ao=r("$sce"),so={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},ji=r("$compile"),uo=e.createElement("a"),lo=Qn(t.location.href,!0);Xn.$inject=["$provide"],er.$inject=["$locale"],nr.$inject=["$locale"];var co=".",fo={yyyy:or("FullYear",4),yy:or("FullYear",2,0,!0),y:or("FullYear",1),MMMM:ar("Month"),MMM:ar("Month",!0),MM:or("Month",2,1),M:or("Month",1,1),dd:or("Date",2),d:or("Date",1),HH:or("Hours",2),H:or("Hours",1),hh:or("Hours",2,-12),h:or("Hours",1,-12),mm:or("Minutes",2),m:or("Minutes",1),ss:or("Seconds",2),s:or("Seconds",1),sss:or("Milliseconds",3),EEEE:ar("Day"),EEE:ar("Day",!0),a:fr,Z:sr,ww:cr(2),w:cr(1)},po=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,ho=/^\-?\d+$/;pr.$inject=["$locale"];var go=m(jr),mo=m(Ur);gr.$inject=["$parse"];var vo=m({restrict:"E",compile:function(t,e){return e.href||e.xlinkHref||e.name?void 0:function(t,e){var n="[object SVGAnimatedString]"===Yr.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}),bo={};o(Ai,function(t,e){if("multiple"!=t){var n=Je("ng-"+e);bo[n]=function(){return{restrict:"A",priority:100,link:function(t,r,i){t.$watch(i[n],function(t){i.$set(e,!!t)})}}}}}),o(Di,function(t,e){bo[e]=function(){return{priority:100,link:function(t,n,r){if("ngPattern"===e&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(Nr);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(r[e],function(t){r.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=Je("ng-"+t);bo[e]=function(){return{priority:99,link:function(n,r,i){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===Yr.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(e,function(e){return e?(i.$set(a,e),void(Br&&o&&r.prop(o,i[a]))):void("href"===t&&i.$set(a,null))})}}}});var yo={$addControl:d,$$renameControl:vr,$removeControl:d,$setValidity:d,$setDirty:d,$setPristine:d,$setSubmitted:d},$o="ng-submitted";br.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var wo=function(t){return["$timeout",function(e){var r={name:"form",restrict:t?"EAC":"E",controller:br,compile:function(t){return t.addClass(Uo).addClass(jo),{pre:function(t,r,i,o){if(!("action"in i)){var a=function(e){t.$apply(function(){o.$commitViewValue(),o.$setSubmitted()}),e.preventDefault?e.preventDefault():e.returnValue=!1};gi(r[0],"submit",a),r.on("$destroy",function(){e(function(){mi(r[0],"submit",a)},0,!1)})}var s=o.$$parentForm,u=o.$name;u&&(Tn(t,u,o,u),i.$observe(i.name?"name":"ngForm",function(e){u!==e&&(Tn(t,u,n,u),u=e,Tn(t,u,o,u),s.$$renameControl(o,u))})),r.on("$destroy",function(){s.$removeControl(o),u&&Tn(t,u,n,u),f(o,yo)})}}}};return r}]},Eo=wo(),_o=wo(!0),So=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,xo=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,ko=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Ao=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Co=/^(\d{4})-(\d{2})-(\d{2})$/,Do=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Oo=/^(\d{4})-W(\d\d)$/,To=/^(\d{4})-(\d\d)$/,Mo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Io=/(\s+|^)default(\s+|$)/,Po=new r("ngModel"),No={text:$r,date:Sr("date",Co,_r(Co,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Sr("datetimelocal",Do,_r(Do,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Sr("time",Mo,_r(Mo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Sr("week",Oo,Er,"yyyy-Www"),month:Sr("month",To,_r(To,["yyyy","MM"]),"yyyy-MM"),number:kr,url:Ar,email:Cr,radio:Dr,checkbox:Tr,hidden:d,button:d,submit:d,reset:d,file:d},Fo=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(No[jr(a.type)]||No.text)(i,o,a,s[0],e,t,n,r)}}}}],jo="ng-valid",Ro="ng-invalid",Uo="ng-pristine",Lo="ng-dirty",Vo="ng-untouched",Bo="ng-touched",qo="ng-pending",Ho=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,r,i,a,s,u,l,c,f){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=f(r.name||"",!1)(t);var p=a(r.ngModel),h=null,g=this,m=function(){var e=p(t);return g.$options&&g.$options.getterSetter&&_(e)&&(e=e()),e},y=function(){var e;g.$options&&g.$options.getterSetter&&_(e=p(t))?e(g.$modelValue):p.assign(t,g.$modelValue)};this.$$setOptions=function(t){if(g.$options=t,!(p.assign||t&&t.getterSetter))throw Po("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,H(i))},this.$render=d,this.$isEmpty=function(t){return v(t)||""===t||null===t||t!==t};var $=i.inheritedData("$formController")||yo,E=0;Mr({ctrl:this,$element:i,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},parentForm:$,$animate:s}),this.$setPristine=function(){g.$dirty=!1,g.$pristine=!0,s.removeClass(i,Lo),s.addClass(i,Uo)},this.$setUntouched=function(){g.$touched=!1,g.$untouched=!0,s.setClass(i,Vo,Bo)},this.$setTouched=function(){g.$touched=!0,g.$untouched=!1,s.setClass(i,Bo,Vo)},this.$rollbackViewValue=function(){u.cancel(h),g.$viewValue=g.$$lastCommittedViewValue,g.$render()},this.$validate=function(){w(g.$modelValue)&&isNaN(g.$modelValue)||this.$$parseAndValidate()},this.$$runValidators=function(t,e,r,i){function a(t){var e=g.$$parserName||"parse";if(t===n)l(e,null);else if(l(e,t),!t)return o(g.$validators,function(t,e){l(e,null)}),o(g.$asyncValidators,function(t,e){l(e,null)}),!1;return!0}function s(){var t=!0;return o(g.$validators,function(n,i){var o=n(e,r);t=t&&o,l(i,o)}),t?!0:(o(g.$asyncValidators,function(t,e){l(e,null)}),!1)}function u(){var t=[],i=!0;o(g.$asyncValidators,function(o,a){var s=o(e,r);if(!O(s))throw Po("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);l(a,n),t.push(s.then(function(){l(a,!0)},function(){i=!1,l(a,!1)}))}),t.length?c.all(t).then(function(){f(i)},d):f(!0)}function l(t,e){p===E&&g.$setValidity(t,e)}function f(t){p===E&&i(t)}E++;var p=E;return a(t)&&s()?void u():void f(!1)},this.$commitViewValue=function(){var t=g.$viewValue;u.cancel(h),(g.$$lastCommittedViewValue!==t||""===t&&g.$$hasNativeValidators)&&(g.$$lastCommittedViewValue=t,g.$pristine&&(g.$dirty=!0,g.$pristine=!1,s.removeClass(i,Uo),s.addClass(i,Lo),$.$setDirty()),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){g.$modelValue!==a&&g.$$writeModelToScope()}var e=g.$$lastCommittedViewValue,r=e,i=v(r)?n:!0;if(i)for(var o=0;o<g.$parsers.length;o++)if(r=g.$parsers[o](r),v(r)){i=!1;break}w(g.$modelValue)&&isNaN(g.$modelValue)&&(g.$modelValue=m());var a=g.$modelValue,s=g.$options&&g.$options.allowInvalid;s&&(g.$modelValue=r,t()),g.$$runValidators(i,r,e,function(e){s||(g.$modelValue=e?r:n,t())})},this.$$writeModelToScope=function(){y(g.$modelValue),o(g.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){g.$viewValue=t,(!g.$options||g.$options.updateOnDefault)&&g.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,r=0,i=g.$options;i&&b(i.debounce)&&(n=i.debounce,w(n)?r=n:w(n[e])?r=n[e]:w(n["default"])&&(r=n["default"])),u.cancel(h),r?h=u(function(){g.$commitViewValue()},r):l.$$phase?g.$commitViewValue():t.$apply(function(){g.$commitViewValue()})},t.$watch(function(){var t=m();if(t!==g.$modelValue){g.$modelValue=t;for(var e=g.$formatters,r=e.length,i=t;r--;)i=e[r](i);g.$viewValue!==i&&(g.$viewValue=g.$$lastCommittedViewValue=i,g.$render(),g.$$runValidators(n,t,i,d))}return t})}],Wo=function(){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ho,priority:1,compile:function(t){return t.addClass(Uo).addClass(Vo).addClass(jo),{pre:function(t,e,n,r){var i=r[0],o=r[1]||yo;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(t){i.$name!==t&&o.$$renameControl(i,t)}),t.$on("$destroy",function(){o.$removeControl(i)})},post:function(t,e,n,r){var i=r[0];i.$options&&i.$options.updateOn&&e.on(i.$options.updateOn,function(t){i.$$debounceViewValueCommit(t&&t.type)}),e.on("blur",function(){i.$touched||t.$apply(function(){i.$setTouched()})})}}}}},zo=m({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Ko=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){r&&(n.required=!0,r.$validators.required=function(t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},Jo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,i,o){if(o){var a,s=i.ngPattern||i.pattern;i.$observe("pattern",function(t){if($(t)&&t.length>0&&(t=new RegExp(t)),t&&!t.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,t,H(e));a=t||n,o.$validate()}),o.$validators.pattern=function(t){return o.$isEmpty(t)||v(a)||a.test(t)}}}}},Yo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("maxlength",function(t){i=p(t)||0,r.$validate()}),r.$validators.maxlength=function(t,e){return r.$isEmpty(t)||e.length<=i}}}}},Qo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("minlength",function(t){i=p(t)||0,r.$validate()}),r.$validators.minlength=function(t,e){return r.$isEmpty(t)||e.length>=i}}}}},Go=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,r,i){var a=e.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,u=s?ei(a):a,l=function(t){if(!v(t)){var e=[];return t&&o(t.split(u),function(t){t&&e.push(s?ei(t):t)}),e}};i.$parsers.push(l),i.$formatters.push(function(t){return ti(t)?t.join(a):n}),i.$isEmpty=function(t){return!t||!t.length}}}},Zo=/^(true|false|\d+)$/,Xo=function(){return{restrict:"A",priority:100,compile:function(t,e){return Zo.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},ta=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var r=this;this.$options=t.$eval(e.ngModelOptions),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=ei(this.$options.updateOn.replace(Io,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ea=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,r,i){t.$$addBindingInfo(r,i.ngBind),r=r[0],e.$watch(i.ngBind,function(t){r.textContent=t===n?"":t})}}}}],na=["$interpolate","$compile",function(t,e){return{compile:function(r){return e.$$addBindingClass(r),function(r,i,o){var a=t(i.attr(o.$attr.ngBindTemplate));e.$$addBindingInfo(i,a.expressions),i=i[0],o.$observe("ngBindTemplate",function(t){i.textContent=t===n?"":t})}}}}],ra=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var o=e(i.ngBindHtml),a=e(i.ngBindHtml,function(t){return(t||"").toString()});return n.$$addBindingClass(r),function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml),e.$watch(a,function(){r.html(t.getTrustedHtml(o(e))||"")})}}}}],ia=Pr("",!0),oa=Pr("Odd",0),aa=Pr("Even",1),sa=mr({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),ua=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],la={},ca={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=Je("ng-"+t);la[e]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[e]);return function(e,n){n.on(t,function(n){var i=function(){a(e,{$event:n})};ca[t]&&r.$$phase?e.$evalAsync(i):e.$apply(i)})}}}}]});var fa=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,u,l;n.$watch(i.ngIf,function(n){n?u||a(function(n,o){u=o,n[n.length++]=e.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},t.enter(n,r.parent(),r)}):(l&&(l.remove(),l=null),u&&(u.$destroy(),u=null),s&&(l=se(s.clone),t.leave(l).then(function(){l=null}),s=null))})}}}],pa=["$templateRequest","$anchorScroll","$animate","$sce",function(t,e,n,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Gr.noop,compile:function(i,o){var a=o.ngInclude||o.src,s=o.onload||"",u=o.autoscroll;return function(i,o,l,c,f){var p,h,d,g=0,m=function(){h&&(h.remove(),h=null),p&&(p.$destroy(),p=null),d&&(n.leave(d).then(function(){h=null}),h=d,d=null)};i.$watch(r.parseAsResourceUrl(a),function(r){var a=function(){!b(u)||u&&!i.$eval(u)||e()},l=++g;r?(t(r,!0).then(function(t){if(l===g){var e=i.$new();c.template=t;var u=f(e,function(t){m(),n.enter(t,null,o).then(a)});p=e,d=u,p.$emit("$includeContentLoaded",r),i.$eval(s)}},function(){l===g&&(m(),i.$emit("$includeContentError",r))}),i.$emit("$includeContentRequested",r)):(m(),c.template=null)})}}}}],ha=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(r,i,o,a){return/SVG/.test(i[0].toString())?(i.empty(),void t(ge(a.template,e).childNodes)(r,function(t){i.append(t)},n,n,i)):(i.html(a.template),void t(i.contents())(r))}}}],da=mr({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),ga=mr({terminal:!0,priority:1e3}),ma=["$locale","$interpolate",function(t,e){var n=/{}/g;return{restrict:"EA",link:function(r,i,a){var s=a.count,u=a.$attr.when&&i.attr(a.$attr.when),l=a.offset||0,c=r.$eval(u)||{},f={},p=e.startSymbol(),h=e.endSymbol(),d=/^when(Minus)?(.+)$/;o(a,function(t,e){d.test(e)&&(c[jr(e.replace("when","").replace("Minus","-"))]=i.attr(a.$attr[e]))}),o(c,function(t,r){f[r]=e(t.replace(n,p+s+"-"+l+h))}),r.$watch(function(){var e=parseFloat(r.$eval(s));return isNaN(e)?"":(e in c||(e=t.pluralCat(e-l)),f[e](r))},function(t){i.text(t)})}}}],va=["$parse","$animate",function(t,a){var s="$$NG_REMOVED",u=r("ngRepeat"),l=function(t,e,n,r,i,o,a){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},c=function(t){return t.clone[0]},f=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,p){var h=p.ngRepeat,d=e.createComment(" end ngRepeat: "+h+" "),g=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!g)throw u("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",h);var m=g[1],v=g[2],b=g[3],y=g[4];if(g=m.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!g)throw u("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var $=g[3]||g[1],w=g[2];if(b&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(b)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent)$/.test(b)))throw u("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",b);var E,_,S,x,k={$id:Fe};return y?E=t(y):(S=function(t,e){return Fe(e)},x=function(t){return t}),function(t,e,r,p,g){E&&(_=function(e,n,r){return w&&(k[w]=e),k[$]=n,k.$index=r,E(t,k)});var m=ue();t.$watchCollection(v,function(r){var p,v,y,E,k,A,C,D,O,T,M,I,P=e[0],N=ue();if(b&&(t[b]=r),i(r))O=r,D=_||S;else{D=_||x,O=[];for(var F in r)r.hasOwnProperty(F)&&"$"!=F.charAt(0)&&O.push(F);O.sort()}for(E=O.length,M=new Array(E),p=0;E>p;p++)if(k=r===O?p:O[p],A=r[k],C=D(k,A,p),m[C])T=m[C],delete m[C],N[C]=T,M[p]=T;else{if(N[C])throw o(M,function(t){t&&t.scope&&(m[t.id]=t)}),u("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",h,C,B(A));M[p]={id:C,scope:n,clone:n},N[C]=!0}for(var j in m){if(T=m[j],I=se(T.clone),a.leave(I),I[0].parentNode)for(p=0,v=I.length;v>p;p++)I[p][s]=!0;T.scope.$destroy()}for(p=0;E>p;p++)if(k=r===O?p:O[p],A=r[k],T=M[p],T.scope){y=P;do y=y.nextSibling;while(y&&y[s]);c(T)!=y&&a.move(se(T.clone),null,qr(P)),P=f(T),l(T.scope,p,$,A,w,k,E)}else g(function(t,e){T.scope=e;var n=d.cloneNode(!1);t[t.length++]=n,a.enter(t,null,qr(P)),P=n,T.clone=t,N[T.id]=T,l(T.scope,p,$,A,w,k,E)});m=N})}}}}],ba="ng-hide",ya="ng-hide-animate",$a=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,function(e){t[e?"removeClass":"addClass"](n,ba,{tempClasses:ya})})}}}],wa=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,function(e){t[e?"addClass":"removeClass"](n,ba,{tempClasses:ya})})}}}],Ea=mr(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),_a=["$animate",function(t){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,u=[],l=[],c=[],f=[],p=function(t,e){return function(){t.splice(e,1)}};n.$watch(s,function(n){var r,i;for(r=0,i=c.length;i>r;++r)t.cancel(c[r]);for(c.length=0,r=0,i=f.length;i>r;++r){var s=se(l[r].clone);f[r].$destroy();var h=c[r]=t.leave(s);h.then(p(c,r))}l.length=0,f.length=0,(u=a.cases["!"+n]||a.cases["?"])&&o(u,function(n){n.transclude(function(r,i){f.push(i);var o=n.element;r[r.length++]=e.createComment(" end ngSwitchWhen: ");var a={clone:r};l.push(a),t.enter(r,o.parent(),o)})})})}}}],Sa=mr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:e})}}),xa=mr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),ka=mr({restrict:"EAC",link:function(t,e,n,i,o){if(!o)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",H(e));o(function(t){e.empty(),e.append(t)})}}),Aa=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var r=n.id,i=e[0].text;t.put(r,i)}}}}],Ca=r("ngOptions"),Da=m({restrict:"A",terminal:!0}),Oa=["$compile","$parse",function(t,r){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:d};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(t,e,n){var r,i,o=this,a={},u=s;o.databound=n.ngModel,o.init=function(t,e,n){u=t,r=e,i=n},o.addOption=function(e,n){oe(e,'"option value"'),a[e]=!0,u.$viewValue==e&&(t.val(e),i.parent()&&i.remove()),n&&n[0].hasAttribute("selected")&&(n[0].selected=!0)},o.removeOption=function(t){this.hasOption(t)&&(delete a[t],u.$viewValue==t&&this.renderUnknownOption(t))},o.renderUnknownOption=function(e){var n="? "+Fe(e)+" ?";i.val(n),t.prepend(i),t.val(n),i.prop("selected",!0)},o.hasOption=function(t){return a.hasOwnProperty(t)},e.$on("$destroy",function(){o.renderUnknownOption=d})}],link:function(s,u,l,c){function f(t,e,n,r){n.$render=function(){var t=n.$viewValue;r.hasOption(t)?(x.parent()&&x.remove(),e.val(t),""===t&&d.prop("selected",!0)):v(t)&&d?e.val(""):r.renderUnknownOption(t)},e.on("change",function(){t.$apply(function(){x.parent()&&x.remove(),n.$setViewValue(e.val())})})}function p(t,e,n){var r;n.$render=function(){var t=new je(n.$viewValue);o(e.find("option"),function(e){e.selected=b(t.get(e.value))})},t.$watch(function(){j(r,n.$viewValue)||(r=F(n.$viewValue),n.$render())}),e.on("change",function(){t.$apply(function(){var t=[];o(e.find("option"),function(e){e.selected&&t.push(e.value)}),n.$setViewValue(t)})})}function h(e,s,u){function l(t,n,r){return R[A]=r,O&&(R[O]=n),t(e,R)}function c(){e.$apply(function(){var t,n=I(e)||[];if(y)t=[],o(s.val(),function(e){e=N?F[e]:e,t.push(f(e,n[e]))});else{var r=N?F[s.val()]:s.val();t=f(r,n[r])}u.$setViewValue(t),v()})}function f(t,e){if("?"===t)return n;if(""===t)return null;var r=D?D:M;return l(r,t,e)}function p(){var t,n=I(e);if(n&&ti(n)){t=new Array(n.length);for(var r=0,i=n.length;i>r;r++)t[r]=l(k,r,n[r]);return t}if(n){t={};for(var o in n)n.hasOwnProperty(o)&&(t[o]=l(k,o,n[o]))}return t}function h(t){var e;if(y)if(N&&ti(t)){e=new je([]);for(var n=0;n<t.length;n++)e.put(l(N,null,t[n]),!0)}else e=new je(t);else N&&(t=l(N,null,t));return function(n,r){var i;return i=N?N:D?D:M,y?b(e.remove(l(i,n,r))):t==l(i,n,r)}}function d(){E||(e.$$postDigest(v),E=!0)}function m(t,e,n){t[e]=t[e]||0,t[e]+=n?1:-1}function v(){E=!1;var t,n,r,i,c,f,p,d,v,$,x,A,C,D,M,P,U,L={"":[]},V=[""],B=u.$viewValue,q=I(e)||[],H=O?a(q):q,W={},z=h(B),K=!1;for(F={},A=0;$=H.length,$>A;A++)p=A,O&&(p=H[A],"$"===p.charAt(0))||(d=q[p],t=l(T,p,d)||"",(n=L[t])||(n=L[t]=[],V.push(t)),C=z(p,d),K=K||C,P=l(k,p,d),P=b(P)?P:"",U=N?N(e,R):O?H[A]:A,N&&(F[U]=p),n.push({id:U,label:P,selected:C}));for(y||(w||null===B?L[""].unshift({id:"",label:"",selected:!K}):K||L[""].unshift({id:"?",label:"",selected:!0})),x=0,v=V.length;v>x;x++){for(t=V[x],n=L[t],j.length<=x?(i={element:S.clone().attr("label",t),label:n.label},c=[i],j.push(c),s.append(i.element)):(c=j[x],i=c[0],i.label!=t&&i.element.attr("label",i.label=t)),D=null,A=0,$=n.length;$>A;A++)r=n[A],(f=c[A+1])?(D=f.element,f.label!==r.label&&(m(W,f.label,!1),m(W,r.label,!0),D.text(f.label=r.label)),f.id!==r.id&&D.val(f.id=r.id),D[0].selected!==r.selected&&(D.prop("selected",f.selected=r.selected),Br&&D.prop("selected",f.selected))):(""===r.id&&w?M=w:(M=_.clone()).val(r.id).prop("selected",r.selected).attr("selected",r.selected).text(r.label),c.push(f={element:M,label:r.label,id:r.id,selected:r.selected}),m(W,r.label,!0),D?D.after(M):i.element.append(M),D=M);for(A++;c.length>A;)r=c.pop(),m(W,r.label,!1),r.element.remove();o(W,function(t,e){t>0?g.addOption(e):0>t&&g.removeOption(e)})}for(;j.length>x;)j.pop()[0].element.remove()}var x;if(!(x=$.match(i)))throw Ca("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",$,H(s));
var k=r(x[2]||x[1]),A=x[4]||x[6],C=/ as /.test(x[0])&&x[1],D=C?r(C):null,O=x[5],T=r(x[3]||""),M=r(x[2]?x[1]:A),I=r(x[7]),P=x[8],N=P?r(x[8]):null,F={},j=[[{element:s,label:""}]],R={};w&&(t(w)(e),w.removeClass("ng-scope"),w.remove()),s.empty(),s.on("change",c),u.$render=v,e.$watchCollection(I,d),e.$watchCollection(p,d),y&&e.$watchCollection(function(){return u.$modelValue},d)}if(c[1]){for(var d,g=c[0],m=c[1],y=l.multiple,$=l.ngOptions,w=!1,E=!1,_=qr(e.createElement("option")),S=qr(e.createElement("optgroup")),x=_.clone(),k=0,A=u.children(),C=A.length;C>k;k++)if(""===A[k].value){d=w=A.eq(k);break}g.init(m,w,x),y&&(m.$isEmpty=function(t){return!t||0===t.length}),$?h(s,u,m):y?p(s,u,m):f(s,u,m,g)}}}}],Ta=["$interpolate",function(t){var e={addOption:d,removeOption:d};return{restrict:"E",priority:100,compile:function(n,r){if(v(r.value)){var i=t(n.text(),!0);i||r.$set("value",n.text())}return function(t,n,r){var o="$selectController",a=n.parent(),s=a.data(o)||a.parent().data(o);s&&s.databound||(s=e),i?t.$watch(i,function(t,e){r.$set("value",t),e!==t&&s.removeOption(e),s.addOption(t,n)}):s.addOption(r.value,n),n.on("$destroy",function(){s.removeOption(r.value)})}}}}],Ma=m({restrict:"E",terminal:!1});return t.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(ne(),ce(Gr),void qr(e).ready(function(){G(e,Z)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(t,e,n){function r(t){for(var e in t)if(void 0!==o.style[e])return t[e]}var i=function(r,o,a){a=a||{};var s=t.defer(),u=i[a.animation?"animationEndEventName":"transitionEndEventName"],l=function(){n.$apply(function(){r.unbind(u,l),s.resolve(r)})};return u&&r.bind(u,l),e(function(){angular.isString(o)?r.addClass(o):angular.isFunction(o)?o(r):angular.isObject(o)&&r.css(o),u||s.resolve(r)}),s.promise.cancel=function(){u&&r.unbind(u,l),s.reject("Transition cancelled")},s.promise},o=document.createElement("trans"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},s={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=r(a),i.animationEndEventName=r(s),i}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(t){return{link:function(e,n,r){function i(e){function r(){l===i&&(l=void 0)}var i=t(n,e);return l&&l.cancel(),l=i,i.then(r,r),i}function o(){c?(c=!1,a()):(n.removeClass("collapse").addClass("collapsing"),i({height:n[0].scrollHeight+"px"}).then(a))}function a(){n.removeClass("collapsing"),n.addClass("collapse in"),n.css({height:"auto"})}function s(){if(c)c=!1,u(),n.css({height:0});else{n.css({height:n[0].scrollHeight+"px"});{n[0].offsetWidth}n.removeClass("collapse in").addClass("collapsing"),i({height:0}).then(u)}}function u(){n.removeClass("collapsing"),n.addClass("collapse")}var l,c=!0;e.$watch(r.collapse,function(t){t?s():o()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(t,e,n){this.groups=[],this.closeOthers=function(r){var i=angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(t){t!==r&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(){e.removeGroup(t)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(t,e,n,r){r.addGroup(t),t.$watch("isOpen",function(e){e&&r.closeOthers(t)}),t.toggleOpen=function(){t.isDisabled||(t.isOpen=!t.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(t,e,n,r,i){r.setHeading(i(t,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(t,e,n,r){t.$watch(function(){return r[n.accordionTransclude]},function(t){t&&(e.html(""),e.append(t))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(t,e){t.closeable="close"in e}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(t,e,n){e.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),t.$watch(n.bindHtmlUnsafe,function(t){e.html(t||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(t,e,n,r){var i=r[0],o=r[1];o.$render=function(){e.toggleClass(i.activeClass,angular.equals(o.$modelValue,t.$eval(n.btnRadio)))},e.bind(i.toggleEvent,function(){var r=e.hasClass(i.activeClass);(!r||angular.isDefined(n.uncheckable))&&t.$apply(function(){o.$setViewValue(r?null:t.$eval(n.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(t,e,n,r){function i(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(e,n){var r=t.$eval(e);return angular.isDefined(r)?r:n}var s=r[0],u=r[1];u.$render=function(){e.toggleClass(s.activeClass,angular.equals(u.$modelValue,i()))},e.bind(s.toggleEvent,function(){t.$apply(function(){u.$setViewValue(e.hasClass(s.activeClass)?o():i()),u.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition",function(t,e,n){function r(){i();var n=+t.interval;!isNaN(n)&&n>=0&&(a=e(o,n))}function i(){a&&(e.cancel(a),a=null)}function o(){s?(t.next(),r()):t.pause()}var a,s,u=this,l=u.slides=t.slides=[],c=-1;u.currentSlide=null;var f=!1;u.select=t.select=function(i,o){function a(){if(!f){if(u.currentSlide&&angular.isString(o)&&!t.noTransition&&i.$element){i.$element.addClass(o);{i.$element[0].offsetWidth}angular.forEach(l,function(t){angular.extend(t,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(i,{direction:o,active:!0,entering:!0}),angular.extend(u.currentSlide||{},{direction:o,leaving:!0}),t.$currentTransition=n(i.$element,{}),function(e,n){t.$currentTransition.then(function(){s(e,n)},function(){s(e,n)})}(i,u.currentSlide)}else s(i,u.currentSlide);u.currentSlide=i,c=p,r()}}function s(e,n){angular.extend(e,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),t.$currentTransition=null}var p=l.indexOf(i);void 0===o&&(o=p>c?"next":"prev"),i&&i!==u.currentSlide&&(t.$currentTransition?(t.$currentTransition.cancel(),e(a)):a())},t.$on("$destroy",function(){f=!0}),u.indexOfSlide=function(t){return l.indexOf(t)},t.next=function(){var e=(c+1)%l.length;return t.$currentTransition?void 0:u.select(l[e],"next")},t.prev=function(){var e=0>c-1?l.length-1:c-1;return t.$currentTransition?void 0:u.select(l[e],"prev")},t.isActive=function(t){return u.currentSlide===t},t.$watch("interval",r),t.$on("$destroy",i),t.play=function(){s||(s=!0,r())},t.pause=function(){t.noPause||(s=!1,i())},u.addSlide=function(e,n){e.$element=n,l.push(e),1===l.length||e.active?(u.select(l[l.length-1]),1==l.length&&t.play()):e.active=!1},u.removeSlide=function(t){var e=l.indexOf(t);l.splice(e,1),l.length>0&&t.active?u.select(e>=l.length?l[e-1]:l[e]):c>e&&c--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(t,e,n,r){r.addSlide(t,e),t.$on("$destroy",function(){r.removeSlide(t)}),t.$watch("active",function(e){e&&r.select(t)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(t,e){function n(t){var n=[],r=t.split("");return angular.forEach(i,function(e,i){var o=t.indexOf(i);if(o>-1){t=t.split(""),r[o]="("+e.regex+")",t[o]="$";for(var a=o+1,s=o+i.length;s>a;a++)r[a]="",t[a]="$";t=t.join(""),n.push({index:o,apply:e.apply})}}),{regex:new RegExp("^"+r.join("")+"$"),map:e(n,"index")}}function r(t,e,n){return 1===e&&n>28?29===n&&(t%4===0&&t%100!==0||t%400===0):3===e||5===e||8===e||10===e?31>n:!0}this.parsers={};var i={yyyy:{regex:"\\d{4}",apply:function(t){this.year=+t}},yy:{regex:"\\d{2}",apply:function(t){this.year=+t+2e3}},y:{regex:"\\d{1,4}",apply:function(t){this.year=+t}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1}},M:{regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(e,i){if(!angular.isString(e)||!i)return e;i=t.DATETIME_FORMATS[i]||i,this.parsers[i]||(this.parsers[i]=n(i));var o=this.parsers[i],a=o.regex,s=o.map,u=e.match(a);if(u&&u.length){for(var l,c={year:1900,month:0,date:1,hours:0},f=1,p=u.length;p>f;f++){var h=s[f-1];h.apply&&h.apply.call(c,u[f])}return r(c.year,c.month,c.date)&&(l=new Date(c.year,c.month,c.date,c.hours)),l}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(t,e){function n(t,n){return t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n]}function r(t){return"static"===(n(t,"position")||"static")}var i=function(e){for(var n=t[0],i=e.offsetParent||n;i&&i!==n&&r(i);)i=i.offsetParent;return i||n};return{position:function(e){var n=this.offset(e),r={top:0,left:0},o=i(e[0]);o!=t[0]&&(r=this.offset(angular.element(o)),r.top+=o.clientTop-o.scrollTop,r.left+=o.clientLeft-o.scrollLeft);var a=e[0].getBoundingClientRect();return{width:a.width||e.prop("offsetWidth"),height:a.height||e.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(e.pageYOffset||t[0].documentElement.scrollTop),left:r.left+(e.pageXOffset||t[0].documentElement.scrollLeft)}},positionElements:function(t,e,n,r){var i,o,a,s,u=n.split("-"),l=u[0],c=u[1]||"center";i=r?this.offset(t):this.position(t),o=e.prop("offsetWidth"),a=e.prop("offsetHeight");var f={center:function(){return i.left+i.width/2-o/2},left:function(){return i.left},right:function(){return i.left+i.width}},p={center:function(){return i.top+i.height/2-a/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(l){case"right":s={top:p[c](),left:f[l]()};break;case"left":s={top:p[c](),left:i.left-o};break;case"bottom":s={top:p[l](),left:f[c]()};break;default:s={top:i.top-a,left:f[c]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(t,e,n,r,i,o,a,s){var u=this,l={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(n,i){u[n]=angular.isDefined(e[n])?8>i?r(e[n])(t.$parent):t.$parent.$eval(e[n]):s[n]}),angular.forEach(["minDate","maxDate"],function(r){e[r]?t.$parent.$watch(n(e[r]),function(t){u[r]=t?new Date(t):null,u.refreshView()}):u[r]=s[r]?new Date(s[r]):null}),t.datepickerMode=t.datepickerMode||s.datepickerMode,t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(e.initDate)?t.$parent.$eval(e.initDate):new Date,t.isActive=function(e){return 0===u.compare(e.date,u.activeDate)?(t.activeDateId=e.uid,!0):!1},this.init=function(t){l=t,l.$render=function(){u.render()}},this.render=function(){if(l.$modelValue){var t=new Date(l.$modelValue),e=!isNaN(t);e?this.activeDate=t:o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),l.$setValidity("date",e)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var t=l.$modelValue?new Date(l.$modelValue):null;l.$setValidity("date-disabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,e){var n=l.$modelValue?new Date(l.$modelValue):null;return{date:t,label:a(t,e),selected:n&&0===this.compare(t,n),disabled:this.isDisabled(t),current:0===this.compare(t,new Date)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||e.dateDisabled&&t.dateDisabled({date:n,mode:t.datepickerMode})},this.split=function(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n},t.select=function(e){if(t.datepickerMode===u.minMode){var n=l.$modelValue?new Date(l.$modelValue):new Date(0,0,0,0,0,0,0);n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),l.$setViewValue(n),l.$render()}else u.activeDate=e,t.datepickerMode=u.modes[u.modes.indexOf(t.datepickerMode)-1]},t.move=function(t){var e=u.activeDate.getFullYear()+t*(u.step.years||0),n=u.activeDate.getMonth()+t*(u.step.months||0);u.activeDate.setFullYear(e,n,1),u.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===u.maxMode&&1===e||t.datepickerMode===u.minMode&&-1===e||(t.datepickerMode=u.modes[u.modes.indexOf(t.datepickerMode)+e])},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){i(function(){u.element[0].focus()},0,!1)};t.$on("datepicker.focus",c),t.keydown=function(e){var n=t.keys[e.which];if(n&&!e.shiftKey&&!e.altKey)if(e.preventDefault(),e.stopPropagation(),"enter"===n||"space"===n){if(u.isDisabled(u.activeDate))return;t.select(u.activeDate),c()}else!e.ctrlKey||"up"!==n&&"down"!==n?(u.handleKeyDown(n,e),u.refreshView()):(t.toggleMode("up"===n?1:-1),c())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(t,e,n,r){var i=r[0],o=r[1];o&&i.init(o)}}}).directive("daypicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(e,n,r,i){function o(t,e){return 1!==e||t%4!==0||t%100===0&&t%400!==0?u[e]:29}function a(t,e){var n=new Array(e),r=new Date(t),i=0;for(r.setHours(12);e>i;)n[i++]=new Date(r),r.setDate(r.getDate()+1);return n}function s(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}e.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var u=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),r=i.activeDate.getMonth(),o=new Date(n,r,1),u=i.startingDay-o.getDay(),l=u>0?7-u:-u,c=new Date(o);l>0&&c.setDate(-l+1);for(var f=a(c,42),p=0;42>p;p++)f[p]=angular.extend(i.createDateObject(f[p],i.formatDay),{secondary:f[p].getMonth()!==r,uid:e.uniqueId+"-"+p});e.labels=new Array(7);for(var h=0;7>h;h++)e.labels[h]={abbr:t(f[h].date,i.formatDayHeader),full:t(f[h].date,"EEEE")};if(e.title=t(i.activeDate,i.formatDayTitle),e.rows=i.split(f,7),e.showWeeks){e.weekNumbers=[];for(var d=s(e.rows[0][0].date),g=e.rows.length;e.weekNumbers.push(d++)<g;);}},i.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},i.handleKeyDown=function(t){var e=i.activeDate.getDate();if("left"===t)e-=1;else if("up"===t)e-=7;else if("right"===t)e+=1;else if("down"===t)e+=7;else if("pageup"===t||"pagedown"===t){var n=i.activeDate.getMonth()+("pageup"===t?-1:1);i.activeDate.setMonth(n,1),e=Math.min(o(i.activeDate.getFullYear(),i.activeDate.getMonth()),e)}else"home"===t?e=1:"end"===t&&(e=o(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(e)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(e,n,r,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n=new Array(12),r=i.activeDate.getFullYear(),o=0;12>o;o++)n[o]=angular.extend(i.createDateObject(new Date(r,o,1),i.formatMonth),{uid:e.uniqueId+"-"+o});e.title=t(i.activeDate,i.formatMonthTitle),e.rows=i.split(n,3)},i.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth())-new Date(e.getFullYear(),e.getMonth())},i.handleKeyDown=function(t){var e=i.activeDate.getMonth();if("left"===t)e-=1;else if("up"===t)e-=3;else if("right"===t)e+=1;else if("down"===t)e+=3;else if("pageup"===t||"pagedown"===t){var n=i.activeDate.getFullYear()+("pageup"===t?-1:1);i.activeDate.setFullYear(n)}else"home"===t?e=0:"end"===t&&(e=11);i.activeDate.setMonth(e)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(t,e,n,r){function i(t){return parseInt((t-1)/o,10)*o+1}var o=r.yearRange;r.step={years:o},r.element=e,r._refreshView=function(){for(var e=new Array(o),n=0,a=i(r.activeDate.getFullYear());o>n;n++)e[n]=angular.extend(r.createDateObject(new Date(a+n,0,1),r.formatYear),{uid:t.uniqueId+"-"+n});t.title=[e[0].label,e[o-1].label].join(" - "),t.rows=r.split(e,5)},r.compare=function(t,e){return t.getFullYear()-e.getFullYear()},r.handleKeyDown=function(t){var e=r.activeDate.getFullYear();"left"===t?e-=1:"up"===t?e-=5:"right"===t?e+=1:"down"===t?e+=5:"pageup"===t||"pagedown"===t?e+=("pageup"===t?-1:1)*r.step.years:"home"===t?e=i(r.activeDate.getFullYear()):"end"===t&&(e=i(r.activeDate.getFullYear())+o-1),r.activeDate.setFullYear(e)},r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(t,e,n,r,i,o,a){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(s,u,l,c){function f(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function p(t){if(t){if(angular.isDate(t)&&!isNaN(t))return c.$setValidity("date",!0),t;if(angular.isString(t)){var e=o.parse(t,h)||new Date(t);return isNaN(e)?void c.$setValidity("date",!1):(c.$setValidity("date",!0),e)}return void c.$setValidity("date",!1)}return c.$setValidity("date",!0),null}var h,d=angular.isDefined(l.closeOnDateSelection)?s.$parent.$eval(l.closeOnDateSelection):a.closeOnDateSelection,g=angular.isDefined(l.datepickerAppendToBody)?s.$parent.$eval(l.datepickerAppendToBody):a.appendToBody;s.showButtonBar=angular.isDefined(l.showButtonBar)?s.$parent.$eval(l.showButtonBar):a.showButtonBar,s.getText=function(t){return s[t+"Text"]||a[t+"Text"]},l.$observe("datepickerPopup",function(t){h=t||a.datepickerPopup,c.$render()});var m=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");m.attr({"ng-model":"date","ng-change":"dateSelection()"});var v=angular.element(m.children()[0]);l.datepickerOptions&&angular.forEach(s.$parent.$eval(l.datepickerOptions),function(t,e){v.attr(f(e),t)}),s.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(t){if(l[t]){var n=e(l[t]);if(s.$parent.$watch(n,function(e){s.watchData[t]=e}),v.attr(f(t),"watchData."+t),"datepickerMode"===t){var r=n.assign;s.$watch("watchData."+t,function(t,e){t!==e&&r(s.$parent,t)})}}}),l.dateDisabled&&v.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),c.$parsers.unshift(p),s.dateSelection=function(t){angular.isDefined(t)&&(s.date=t),c.$setViewValue(s.date),c.$render(),d&&(s.isOpen=!1,u[0].focus())},u.bind("input change keyup",function(){s.$apply(function(){s.date=c.$modelValue})}),c.$render=function(){var t=c.$viewValue?i(c.$viewValue,h):"";u.val(t),s.date=p(c.$modelValue)};var b=function(t){s.isOpen&&t.target!==u[0]&&s.$apply(function(){s.isOpen=!1})},y=function(t){s.keydown(t)};u.bind("keydown",y),s.keydown=function(t){27===t.which?(t.preventDefault(),t.stopPropagation(),s.close()):40!==t.which||s.isOpen||(s.isOpen=!0)},s.$watch("isOpen",function(t){t?(s.$broadcast("datepicker.focus"),s.position=g?r.offset(u):r.position(u),s.position.top=s.position.top+u.prop("offsetHeight"),n.bind("click",b)):n.unbind("click",b)}),s.select=function(t){if("today"===t){var e=new Date;angular.isDate(c.$modelValue)?(t=new Date(c.$modelValue),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate())):t=new Date(e.setHours(0,0,0,0))}s.dateSelection(t)},s.close=function(){s.isOpen=!1,u[0].focus()};var $=t(m)(s);m.remove(),g?n.find("body").append($):u.after($),s.$on("$destroy",function(){$.remove(),u.unbind("keydown",y),n.unbind("click",b)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(t,e){e.bind("click",function(t){t.preventDefault(),t.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(t){var e=null;this.open=function(i){e||(t.bind("click",n),t.bind("keydown",r)),e&&e!==i&&(e.isOpen=!1),e=i},this.close=function(i){e===i&&(e=null,t.unbind("click",n),t.unbind("keydown",r))};var n=function(t){var n=e.getToggleElement();t&&n&&n[0].contains(t.target)||e.$apply(function(){e.isOpen=!1})},r=function(t){27===t.which&&(e.focusToggleElement(),n())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(t,e,n,r,i,o){var a,s=this,u=t.$new(),l=r.openClass,c=angular.noop,f=e.onToggle?n(e.onToggle):angular.noop;this.init=function(r){s.$element=r,e.isOpen&&(a=n(e.isOpen),c=a.assign,t.$watch(a,function(t){u.isOpen=!!t}))},this.toggle=function(t){return u.isOpen=arguments.length?!!t:!u.isOpen},this.isOpen=function(){return u.isOpen},u.getToggleElement=function(){return s.toggleElement},u.focusToggleElement=function(){s.toggleElement&&s.toggleElement[0].focus()},u.$watch("isOpen",function(e,n){o[e?"addClass":"removeClass"](s.$element,l),e?(u.focusToggleElement(),i.open(u)):i.close(u),c(t,e),angular.isDefined(e)&&e!==n&&f(t,{open:!!e})}),t.$on("$locationChangeSuccess",function(){u.isOpen=!1}),t.$on("$destroy",function(){u.$destroy()})}]).directive("dropdown",function(){return{restrict:"CA",controller:"DropdownController",link:function(t,e,n,r){r.init(e)}}}).directive("dropdownToggle",function(){return{restrict:"CA",require:"?^dropdown",link:function(t,e,n,r){if(r){r.toggleElement=e;var i=function(i){i.preventDefault(),e.hasClass("disabled")||n.disabled||t.$apply(function(){r.toggle()})};e.bind("click",i),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(r.isOpen,function(t){e.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){e.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,n){t.push({key:e,value:n})},get:function(e){for(var n=0;n<t.length;n++)if(e==t[n].key)return t[n]},keys:function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var n=-1,r=0;r<t.length;r++)if(e==t[r].key){n=r;break}return t.splice(n,1)[0]},removeTop:function(){return t.splice(t.length-1,1)[0]},length:function(){return t.length}}}}}).directive("modalBackdrop",["$timeout",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(e,n,r){e.backdropClass=r.backdropClass||"",e.animate=!1,t(function(){e.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(t,e){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"template/modal/window.html"},link:function(n,r,i){r.addClass(i.windowClass||""),n.size=i.size,e(function(){n.animate=!0,r[0].querySelectorAll("[autofocus]").length||r[0].focus()}),n.close=function(e){var n=t.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(n.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(t,e,n,r,i){i(t.$parent,function(t){e.empty(),e.append(t)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(t,e,n,r,i,o){function a(){for(var t=-1,e=h.keys(),n=0;n<e.length;n++)h.get(e[n]).value.backdrop&&(t=n);return t}function s(t){var e=n.find("body").eq(0),r=h.get(t).value;h.remove(t),l(r.modalDomEl,r.modalScope,300,function(){r.modalScope.$destroy(),e.toggleClass(p,h.length()>0),u()})}function u(){if(c&&-1==a()){var t=f;l(c,f,150,function(){t.$destroy(),t=null}),c=void 0,f=void 0}}function l(n,r,i,o){function a(){a.done||(a.done=!0,n.remove(),o&&o())}r.animate=!1;var s=t.transitionEndEventName;if(s){var u=e(a,i);n.bind(s,function(){e.cancel(u),a(),r.$apply()})}else e(a)}var c,f,p="modal-open",h=o.createNew(),d={};return i.$watch(a,function(t){f&&(f.index=t)}),n.bind("keydown",function(t){var e;27===t.which&&(e=h.top(),e&&e.value.keyboard&&(t.preventDefault(),i.$apply(function(){d.dismiss(e.key,"escape key press")})))}),d.open=function(t,e){h.add(t,{deferred:e.deferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard});var o=n.find("body").eq(0),s=a();if(s>=0&&!c){f=i.$new(!0),f.index=s;var u=angular.element("<div modal-backdrop></div>");u.attr("backdrop-class",e.backdropClass),c=r(u)(f),o.append(c)}var l=angular.element("<div modal-window></div>");l.attr({"template-url":e.windowTemplateUrl,"window-class":e.windowClass,size:e.size,index:h.length()-1,animate:"animate"}).html(e.content);var d=r(l)(e.scope);h.top().value.modalDomEl=d,o.append(d),o.addClass(p)},d.close=function(t,e){var n=h.get(t);n&&(n.value.deferred.resolve(e),s(t))},d.dismiss=function(t,e){var n=h.get(t);n&&(n.value.deferred.reject(e),s(t))},d.dismissAll=function(t){for(var e=this.getTop();e;)this.dismiss(e.key,t),e=this.getTop()},d.getTop=function(){return h.top()},d}]).provider("$modal",function(){var t={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(e,n,r,i,o,a,s){function u(t){return t.template?r.when(t.template):i.get(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl,{cache:o}).then(function(t){return t.data})}function l(t){var n=[];return angular.forEach(t,function(t){(angular.isFunction(t)||angular.isArray(t))&&n.push(r.when(e.invoke(t)))}),n}var c={};return c.open=function(e){var i=r.defer(),o=r.defer(),c={result:i.promise,opened:o.promise,close:function(t){s.close(c,t)},dismiss:function(t){s.dismiss(c,t)}};if(e=angular.extend({},t.options,e),e.resolve=e.resolve||{},!e.template&&!e.templateUrl)throw new Error("One of template or templateUrl options is required.");var f=r.all([u(e)].concat(l(e.resolve)));return f.then(function(t){var r=(e.scope||n).$new();r.$close=c.close,r.$dismiss=c.dismiss;var o,u={},l=1;e.controller&&(u.$scope=r,u.$modalInstance=c,angular.forEach(e.resolve,function(e,n){u[n]=t[l++]}),o=a(e.controller,u),e.controllerAs&&(r[e.controllerAs]=o)),s.open(c,{scope:r,deferred:i,content:t[0],backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,size:e.size})},function(t){i.reject(t)}),f.then(function(){o.resolve(!0)},function(){o.reject(!1)}),c},c}]};return t}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(t,e,n){var r=this,i={$setViewValue:angular.noop},o=e.numPages?n(e.numPages).assign:angular.noop;this.init=function(o,a){i=o,this.config=a,i.$render=function(){r.render()},e.itemsPerPage?t.$parent.$watch(n(e.itemsPerPage),function(e){r.itemsPerPage=parseInt(e,10),t.totalPages=r.calculateTotalPages()}):this.itemsPerPage=a.itemsPerPage},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(t.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.render=function(){t.page=parseInt(i.$viewValue,10)||1},t.selectPage=function(e){t.page!==e&&e>0&&e<=t.totalPages&&(i.$setViewValue(e),i.$render())
},t.getText=function(e){return t[e+"Text"]||r.config[e+"Text"]},t.noPrevious=function(){return 1===t.page},t.noNext=function(){return t.page===t.totalPages},t.$watch("totalItems",function(){t.totalPages=r.calculateTotalPages()}),t.$watch("totalPages",function(e){o(t.$parent,e),t.page>e?t.selectPage(e):i.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(t,e){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,r,i,o){function a(t,e,n){return{number:t,text:e,active:n}}function s(t,e){var n=[],r=1,i=e,o=angular.isDefined(c)&&e>c;o&&(f?(r=Math.max(t-Math.floor(c/2),1),i=r+c-1,i>e&&(i=e,r=i-c+1)):(r=(Math.ceil(t/c)-1)*c+1,i=Math.min(r+c-1,e)));for(var s=r;i>=s;s++){var u=a(s,s,s===t);n.push(u)}if(o&&!f){if(r>1){var l=a(r-1,"...",!1);n.unshift(l)}if(e>i){var p=a(i+1,"...",!1);n.push(p)}}return n}var u=o[0],l=o[1];if(l){var c=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):e.maxSize,f=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):e.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):e.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):e.directionLinks,u.init(l,e),i.maxSize&&n.$parent.$watch(t(i.maxSize),function(t){c=parseInt(t,10),u.render()});var p=u.render;u.render=function(){p(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(t){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(e,n,r,i){var o=i[0],a=i[1];a&&(e.align=angular.isDefined(r.align)?e.$parent.$eval(r.align):t.align,o.init(a,t))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function t(t){var e=/[A-Z]/g,n="-";return t.replace(e,function(t,e){return(e?n:"")+t.toLowerCase()})}var e={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},r={};this.options=function(t){angular.extend(r,t)},this.setTriggers=function(t){angular.extend(n,t)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(i,o,a,s,u,l,c){return function(i,f,p){function h(t){var e=t||d.trigger||p,r=n[e]||e;return{show:e,hide:r}}var d=angular.extend({},e,r),g=t(i),m=c.startSymbol(),v=c.endSymbol(),b="<div "+g+'-popup title="'+m+"tt_title"+v+'" content="'+m+"tt_content"+v+'" placement="'+m+"tt_placement"+v+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(){var t=o(b);return function(e,n,r){function o(){e.tt_isOpen?p():c()}function c(){(!S||e.$eval(r[f+"Enable"]))&&(e.tt_popupDelay?w||(w=a(g,e.tt_popupDelay,!1),w.then(function(t){t()})):g()())}function p(){e.$apply(function(){m()})}function g(){return w=null,$&&(a.cancel($),$=null),e.tt_content?(v(),y.css({top:0,left:0,display:"block"}),E?u.find("body").append(y):n.after(y),x(),e.tt_isOpen=!0,e.$digest(),x):angular.noop}function m(){e.tt_isOpen=!1,a.cancel(w),w=null,e.tt_animation?$||($=a(b,500)):b()}function v(){y&&b(),y=t(e,function(){}),e.$digest()}function b(){$=null,y&&(y.remove(),y=null)}var y,$,w,E=angular.isDefined(d.appendToBody)?d.appendToBody:!1,_=h(void 0),S=angular.isDefined(r[f+"Enable"]),x=function(){var t=l.positionElements(n,y,e.tt_placement,E);t.top+="px",t.left+="px",y.css(t)};e.tt_isOpen=!1,r.$observe(i,function(t){e.tt_content=t,!t&&e.tt_isOpen&&m()}),r.$observe(f+"Title",function(t){e.tt_title=t}),r.$observe(f+"Placement",function(t){e.tt_placement=angular.isDefined(t)?t:d.placement}),r.$observe(f+"PopupDelay",function(t){var n=parseInt(t,10);e.tt_popupDelay=isNaN(n)?d.popupDelay:n});var k=function(){n.unbind(_.show,c),n.unbind(_.hide,p)};r.$observe(f+"Trigger",function(t){k(),_=h(t),_.show===_.hide?n.bind(_.show,o):(n.bind(_.show,c),n.bind(_.hide,p))});var A=e.$eval(r[f+"Animation"]);e.tt_animation=angular.isDefined(A)?!!A:d.animation,r.$observe(f+"AppendToBody",function(t){E=angular.isDefined(t)?s(t)(e):E}),E&&e.$on("$locationChangeSuccess",function(){e.tt_isOpen&&m()}),e.$on("$destroy",function(){a.cancel($),a.cancel(w),k(),b()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(t){return t("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(t){return t("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(t,e,n){var r=this,i=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;this.bars=[],t.max=angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max,this.addBar=function(e,n){i||n.css({transition:"none"}),this.bars.push(e),e.$watch("value",function(n){e.percent=+(100*n/t.max).toFixed(2)}),e.$on("$destroy",function(){n=null,r.removeBar(e)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(t,e,n,r){r.addBar(t,e)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(t,e,n,r){r.addBar(t,angular.element(e.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(t,e,n){var r={$setViewValue:angular.noop};this.init=function(i){r=i,r.$render=this.render,this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):n.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):n.stateOff;var o=angular.isDefined(e.ratingStates)?t.$parent.$eval(e.ratingStates):new Array(angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max);t.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;n>e;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff},t[e]);return t},t.rate=function(e){!t.readonly&&e>=0&&e<=t.range.length&&(r.$setViewValue(e),r.$render())},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=r.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(t,e,n,r){var i=r[0],o=r[1];o&&i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(t){var e=this,n=e.tabs=t.tabs=[];e.select=function(t){angular.forEach(n,function(e){e.active&&e!==t&&(e.active=!1,e.onDeselect())}),t.active=!0,t.onSelect()},e.addTab=function(t){n.push(t),1===n.length?t.active=!0:t.active&&e.select(t)},e.removeTab=function(t){var r=n.indexOf(t);if(t.active&&n.length>1){var i=r==n.length-1?r-1:r+1;e.select(n[i])}n.splice(r,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(t,e,n){t.vertical=angular.isDefined(n.vertical)?t.$parent.$eval(n.vertical):!1,t.justified=angular.isDefined(n.justified)?t.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse",function(t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(e,n,r){return function(e,n,i,o){e.$watch("active",function(t){t&&o.select(e)}),e.disabled=!1,i.disabled&&e.$parent.$watch(t(i.disabled),function(t){e.disabled=!!t}),e.select=function(){e.disabled||(e.active=!0)},o.addTab(e),e.$on("$destroy",function(){o.removeTab(e)}),e.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}]).directive("tabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("tab-heading")||t.hasAttribute("data-tab-heading")||"tab-heading"===t.tagName.toLowerCase()||"data-tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(e,n,r){var i=e.$eval(r.tabContentTransclude);i.$transcludeFn(i.$parent,function(e){angular.forEach(e,function(e){t(e)?i.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(t,e,n,r,i,o){function a(){var e=parseInt(t.hours,10),n=t.showMeridian?e>0&&13>e:e>=0&&24>e;return n?(t.showMeridian&&(12===e&&(e=0),t.meridian===g[1]&&(e+=12)),e):void 0}function s(){var e=parseInt(t.minutes,10);return e>=0&&60>e?e:void 0}function u(t){return angular.isDefined(t)&&t.toString().length<2?"0"+t:t}function l(t){c(),d.$setViewValue(new Date(h)),f(t)}function c(){d.$setValidity("time",!0),t.invalidHours=!1,t.invalidMinutes=!1}function f(e){var n=h.getHours(),r=h.getMinutes();t.showMeridian&&(n=0===n||12===n?12:n%12),t.hours="h"===e?n:u(n),t.minutes="m"===e?r:u(r),t.meridian=h.getHours()<12?g[0]:g[1]}function p(t){var e=new Date(h.getTime()+6e4*t);h.setHours(e.getHours(),e.getMinutes()),l()}var h=new Date,d={$setViewValue:angular.noop},g=angular.isDefined(e.meridians)?t.$parent.$eval(e.meridians):o.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,r){d=n,d.$render=this.render;var i=r.eq(0),a=r.eq(1),s=angular.isDefined(e.mousewheel)?t.$parent.$eval(e.mousewheel):o.mousewheel;s&&this.setupMousewheelEvents(i,a),t.readonlyInput=angular.isDefined(e.readonlyInput)?t.$parent.$eval(e.readonlyInput):o.readonlyInput,this.setupInputEvents(i,a)};var m=o.hourStep;e.hourStep&&t.$parent.$watch(n(e.hourStep),function(t){m=parseInt(t,10)});var v=o.minuteStep;e.minuteStep&&t.$parent.$watch(n(e.minuteStep),function(t){v=parseInt(t,10)}),t.showMeridian=o.showMeridian,e.showMeridian&&t.$parent.$watch(n(e.showMeridian),function(e){if(t.showMeridian=!!e,d.$error.time){var n=a(),r=s();angular.isDefined(n)&&angular.isDefined(r)&&(h.setHours(n),l())}else f()}),this.setupMousewheelEvents=function(e,n){var r=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||e>0};e.bind("mousewheel wheel",function(e){t.$apply(r(e)?t.incrementHours():t.decrementHours()),e.preventDefault()}),n.bind("mousewheel wheel",function(e){t.$apply(r(e)?t.incrementMinutes():t.decrementMinutes()),e.preventDefault()})},this.setupInputEvents=function(e,n){if(t.readonlyInput)return t.updateHours=angular.noop,void(t.updateMinutes=angular.noop);var r=function(e,n){d.$setViewValue(null),d.$setValidity("time",!1),angular.isDefined(e)&&(t.invalidHours=e),angular.isDefined(n)&&(t.invalidMinutes=n)};t.updateHours=function(){var t=a();angular.isDefined(t)?(h.setHours(t),l("h")):r(!0)},e.bind("blur",function(){!t.invalidHours&&t.hours<10&&t.$apply(function(){t.hours=u(t.hours)})}),t.updateMinutes=function(){var t=s();angular.isDefined(t)?(h.setMinutes(t),l("m")):r(void 0,!0)},n.bind("blur",function(){!t.invalidMinutes&&t.minutes<10&&t.$apply(function(){t.minutes=u(t.minutes)})})},this.render=function(){var t=d.$modelValue?new Date(d.$modelValue):null;isNaN(t)?(d.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(h=t),c(),f())},t.incrementHours=function(){p(60*m)},t.decrementHours=function(){p(60*-m)},t.incrementMinutes=function(){p(v)},t.decrementMinutes=function(){p(-v)},t.toggleMeridian=function(){p(720*(h.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(t,e,n,r){var i=r[0],o=r[1];o&&i.init(o,e.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(e);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:t(r[4]),viewMapper:t(r[2]||r[1]),modelMapper:t(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(t,e,n,r,i,o,a){var s=[9,13,27,38,40];return{require:"ngModel",link:function(u,l,c,f){var p,h=u.$eval(c.typeaheadMinLength)||1,d=u.$eval(c.typeaheadWaitMs)||0,g=u.$eval(c.typeaheadEditable)!==!1,m=e(c.typeaheadLoading).assign||angular.noop,v=e(c.typeaheadOnSelect),b=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):void 0,y=c.typeaheadAppendToBody?u.$eval(c.typeaheadAppendToBody):!1,$=e(c.ngModel).assign,w=a.parse(c.typeahead),E=u.$new();u.$on("$destroy",function(){E.$destroy()});var _="typeahead-"+E.$id+"-"+Math.floor(1e4*Math.random());l.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":_});var S=angular.element("<div typeahead-popup></div>");S.attr({id:_,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(c.typeaheadTemplateUrl)&&S.attr("template-url",c.typeaheadTemplateUrl);var x=function(){E.matches=[],E.activeIdx=-1,l.attr("aria-expanded",!1)},k=function(t){return _+"-option-"+t};E.$watch("activeIdx",function(t){0>t?l.removeAttr("aria-activedescendant"):l.attr("aria-activedescendant",k(t))});var A=function(t){var e={$viewValue:t};m(u,!0),n.when(w.source(u,e)).then(function(n){var r=t===f.$viewValue;if(r&&p)if(n.length>0){E.activeIdx=0,E.matches.length=0;for(var i=0;i<n.length;i++)e[w.itemName]=n[i],E.matches.push({id:k(i),label:w.viewMapper(E,e),model:n[i]});E.query=t,E.position=y?o.offset(l):o.position(l),E.position.top=E.position.top+l.prop("offsetHeight"),l.attr("aria-expanded",!0)}else x();r&&m(u,!1)},function(){x(),m(u,!1)})};x(),E.query=void 0;var C,D=function(t){C=r(function(){A(t)},d)},O=function(){C&&r.cancel(C)};f.$parsers.unshift(function(t){return p=!0,t&&t.length>=h?d>0?(O(),D(t)):A(t):(m(u,!1),O(),x()),g?t:t?void f.$setValidity("editable",!1):(f.$setValidity("editable",!0),t)}),f.$formatters.push(function(t){var e,n,r={};return b?(r.$model=t,b(u,r)):(r[w.itemName]=t,e=w.viewMapper(u,r),r[w.itemName]=void 0,n=w.viewMapper(u,r),e!==n?e:t)}),E.select=function(t){var e,n,i={};i[w.itemName]=n=E.matches[t].model,e=w.modelMapper(u,i),$(u,e),f.$setValidity("editable",!0),v(u,{$item:n,$model:e,$label:w.viewMapper(u,i)}),x(),r(function(){l[0].focus()},0,!1)},l.bind("keydown",function(t){0!==E.matches.length&&-1!==s.indexOf(t.which)&&(t.preventDefault(),40===t.which?(E.activeIdx=(E.activeIdx+1)%E.matches.length,E.$digest()):38===t.which?(E.activeIdx=(E.activeIdx?E.activeIdx:E.matches.length)-1,E.$digest()):13===t.which||9===t.which?E.$apply(function(){E.select(E.activeIdx)}):27===t.which&&(t.stopPropagation(),x(),E.$digest()))}),l.bind("blur",function(){p=!1});var T=function(t){l[0]!==t.target&&(x(),E.$digest())};i.bind("click",T),u.$on("$destroy",function(){i.unbind("click",T)});var M=t(S)(E);y?i.find("body").append(M):l.after(M)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(t,e,n){t.templateUrl=n.templateUrl,t.isOpen=function(){return t.matches.length>0},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(t,e,n,r){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,o,a){var s=r(a.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";t.get(s,{cache:e}).success(function(t){o.replaceWith(n(t.trim())(i))})}}}]).filter("typeaheadHighlight",function(){function t(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(e,n){return n?(""+e).replace(new RegExp(t(n),"gi"),"<strong>$&</strong>"):e}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(t){t.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(t){t.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')
}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),function(t,e){"use strict";function n(){function t(t,n){return e.extend(new(e.extend(function(){},{prototype:t})),n)}function n(t,e){var n=e.caseInsensitiveMatch,r={originalPath:t,regexp:t},i=r.keys=[];return t=t.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(t,e,n,r){var o="?"===r?r:null,a="*"===r?r:null;return i.push({name:n,optional:!!o}),e=e||"",""+(o?"":e)+"(?:"+(o?e:"")+(a&&"(.+?)"||"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([\/$\*])/g,"\\$1"),r.regexp=new RegExp("^"+t+"$",n?"i":""),r}var r={};this.when=function(t,i){if(r[t]=e.extend({reloadOnSearch:!0},i,t&&n(t,i)),t){var o="/"==t[t.length-1]?t.substr(0,t.length-1):t+"/";r[o]=e.extend({redirectTo:t},n(o,i))}return this},this.otherwise=function(t){return"string"==typeof t&&(t={redirectTo:t}),this.when(null,t),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,i,o,a,u,l,c){function f(t,e){var n=e.keys,r={};if(!e.regexp)return null;var i=e.regexp.exec(t);if(!i)return null;for(var o=1,a=i.length;a>o;++o){var s=n[o-1],u=i[o];s&&u&&(r[s.name]=u)}return r}function p(t){var r=y.current;m=d(),v=m&&r&&m.$$route===r.$$route&&e.equals(m.pathParams,r.pathParams)&&!m.reloadOnSearch&&!b,v||!r&&!m||n.$broadcast("$routeChangeStart",m,r).defaultPrevented&&t&&t.preventDefault()}function h(){var t=y.current,r=m;v?(t.params=r.params,e.copy(t.params,o),n.$broadcast("$routeUpdate",t)):(r||t)&&(b=!1,y.current=r,r&&r.redirectTo&&(e.isString(r.redirectTo)?i.path(g(r.redirectTo,r.params)).search(r.params).replace():i.url(r.redirectTo(r.pathParams,i.path(),i.search())).replace()),a.when(r).then(function(){if(r){var t,n,i=e.extend({},r.resolve);return e.forEach(i,function(t,n){i[n]=e.isString(t)?u.get(t):u.invoke(t,null,null,n)}),e.isDefined(t=r.template)?e.isFunction(t)&&(t=t(r.params)):e.isDefined(n=r.templateUrl)&&(e.isFunction(n)&&(n=n(r.params)),n=c.getTrustedResourceUrl(n),e.isDefined(n)&&(r.loadedTemplateUrl=n,t=l(n))),e.isDefined(t)&&(i.$template=t),a.all(i)}}).then(function(i){r==y.current&&(r&&(r.locals=i,e.copy(r.params,o)),n.$broadcast("$routeChangeSuccess",r,t))},function(e){r==y.current&&n.$broadcast("$routeChangeError",r,t,e)}))}function d(){var n,o;return e.forEach(r,function(r){!o&&(n=f(i.path(),r))&&(o=t(r,{params:e.extend({},i.search(),n),pathParams:n}),o.$$route=r)}),o||r[null]&&t(r[null],{params:{},pathParams:{}})}function g(t,n){var r=[];return e.forEach((t||"").split(":"),function(t,e){if(0===e)r.push(t);else{var i=t.match(/(\w+)(.*)/),o=i[1];r.push(n[o]),r.push(i[2]||""),delete n[o]}}),r.join("")}var m,v,b=!1,y={routes:r,reload:function(){b=!0,n.$evalAsync(function(){p(),h()})},updateParams:function(t){if(!this.current||!this.current.$$route)throw s("norout","Tried updating route when with no current route");var n={},r=this;e.forEach(Object.keys(t),function(e){r.current.pathParams[e]||(n[e]=t[e])}),t=e.extend({},this.current.params,t),i.path(g(this.current.$$route.originalPath,t)),i.search(e.extend({},i.search(),n))}};return n.$on("$locationChangeStart",p),n.$on("$locationChangeSuccess",h),y}]}function r(){this.$get=function(){return{}}}function i(t,n,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(i,o,a,s,u){function l(){h&&(r.cancel(h),h=null),f&&(f.$destroy(),f=null),p&&(h=r.leave(p),h.then(function(){h=null}),p=null)}function c(){var a=t.current&&t.current.locals,s=a&&a.$template;if(e.isDefined(s)){var c=i.$new(),h=t.current,m=u(c,function(t){r.enter(t,null,p||o).then(function(){!e.isDefined(d)||d&&!i.$eval(d)||n()}),l()});p=m,f=h.scope=c,f.$emit("$viewContentLoaded"),f.$eval(g)}else l()}var f,p,h,d=a.autoscroll,g=a.onload||"";i.$on("$routeChangeSuccess",c),c()}}}function o(t,e,n){return{restrict:"ECA",priority:-400,link:function(r,i){var o=n.current,a=o.locals;i.html(a.$template);var s=t(i.contents());if(o.controller){a.$scope=r;var u=e(o.controller,a);o.controllerAs&&(r[o.controllerAs]=u),i.data("$ngControllerController",u),i.children().data("$ngControllerController",u)}s(r)}}}var a=e.module("ngRoute",["ng"]).provider("$route",n),s=e.$$minErr("ngRoute");a.provider("$routeParams",r),a.directive("ngView",i),a.directive("ngView",o),i.$inject=["$route","$anchorScroll","$animate"],o.$inject=["$compile","$controller","$route"]}(window,window.angular),angular.module("cgNotify",[]).factory("notify",["$timeout","$http","$compile","$templateCache","$rootScope",function(t,e,n,r,i){var o=10,a=15,s=1e4,u="angular-notify.html",l="center",c=document.body,f=[],p=function(p){"object"!=typeof p&&(p={message:p}),p.templateUrl=p.templateUrl?p.templateUrl:u,p.position=p.position?p.position:l,p.container=p.container?p.container:c,p.classes=p.classes?p.classes:"";var h=p.scope?p.scope.$new():i.$new();h.$message=p.message,h.$classes=p.classes,h.$messageTemplate=p.messageTemplate,e.get(p.templateUrl,{cache:r}).success(function(e){var r=n(e)(h);if(r.bind("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",function(t){("opacity"===t.propertyName||t.originalEvent&&"opacity"===t.originalEvent.propertyName)&&(r.remove(),f.splice(f.indexOf(r),1),l())}),p.messageTemplate){for(var i,u=0;u<r.children().length;u++)if(angular.element(r.children()[u]).hasClass("cg-notify-message-template")){i=angular.element(r.children()[u]);break}if(!i)throw new Error("cgNotify could not find the .cg-notify-message-template element in "+p.templateUrl+".");i.append(n(p.messageTemplate)(h))}angular.element(p.container).append(r),f.push(r),"center"===p.position&&t(function(){r.css("margin-left","-"+r[0].offsetWidth/2+"px")}),h.$close=function(){r.css("opacity",0).attr("data-closing","true"),l()};var l=function(){for(var t=0,e=o,n=f.length-1;n>=0;n--){var r=10,i=f[n],s=i[0].offsetHeight,u=e+s+r;i.attr("data-closing")?u+=20:e+=s+a,i.css("top",u+"px").css("margin-top","-"+(s+r)+"px").css("visibility","visible"),t++}};t(function(){l()}),s>0&&t(function(){h.$close()},s)}).error(function(t){throw new Error("Template specified for cgNotify ("+p.templateUrl+") could not be loaded. "+t)});var d={};return d.close=function(){h.$close&&h.$close()},Object.defineProperty(d,"message",{get:function(){return h.$message},set:function(t){h.$message=t}}),d};return p.config=function(t){o=angular.isUndefined(t.startTop)?o:t.startTop,a=angular.isUndefined(t.verticalSpacing)?a:t.verticalSpacing,s=angular.isUndefined(t.duration)?s:t.duration,u=t.templateUrl?t.templateUrl:u,l=angular.isUndefined(t.position)?l:t.position,c=t.container?t.container:c},p.closeAll=function(){for(var t=f.length-1;t>=0;t--){var e=f[t];e.css("opacity",0)}},p}]),angular.module("cgNotify").run(["$templateCache",function(t){"use strict";t.put("angular-notify.html",'<div class="cg-notify-message" ng-class="$classes">\n\n    <div ng-show="!$messageTemplate">\n        {{$message}}\n    </div>\n\n    <div ng-show="$messageTemplate" class="cg-notify-message-template">\n        \n    </div>\n\n    <button type="button" class="cg-notify-close" ng-click="$close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="cg-notify-sr-only">Close</span>\n    </button>\n\n</div>')}]),function(){function m(t){return void 0!==t}function ba(){}function ca(t){t.qb=function(){return t.hd?t.hd:t.hd=new t}}function da(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function ea(t){return"array"==da(t)}function fa(t){var e=da(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"string"==typeof t}function ga(t){return"number"==typeof t}function ha(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function ia(t){return t.call.apply(t.bind,arguments)}function ja(t,e){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function q(){return q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja,q.apply(null,arguments)}function ka(t,e){function n(){}n.prototype=e.prototype,t.ge=e.prototype,t.prototype=new n,t.ee=function(t,n){return e.prototype[n].apply(t,Array.prototype.slice.call(arguments,2))}}function la(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)}function ma(){this.mc=void 0}function na(t,e,n){switch(typeof e){case"string":oa(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?e:"null");break;case"boolean":n.push(e);break;case"undefined":n.push("null");break;case"object":if(null==e){n.push("null");break}if(ea(e)){var r=e.length;n.push("[");for(var i="",o=0;r>o;o++)n.push(i),i=e[o],na(t,t.mc?t.mc.call(e,String(o),i):i,n),i=",";n.push("]");break}n.push("{"),r="";for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i=e[o],"function"!=typeof i&&(n.push(r),oa(o,n),n.push(":"),na(t,t.mc?t.mc.call(e,o,i):i,n),r=","));n.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof e)}}function oa(t,e){e.push('"',t.replace(qa,function(t){if(t in pa)return pa[t];var e=t.charCodeAt(0),n="\\u";return 16>e?n+="000":256>e?n+="00":4096>e&&(n+="0"),pa[t]=n+e.toString(16)}),'"')}function ra(t){return"undefined"!=typeof JSON&&m(JSON.parse)?JSON.parse(t):la(t)}function u(t){if("undefined"!=typeof JSON&&m(JSON.stringify))t=JSON.stringify(t);else{var e=[];na(new ma,t,e),t=e.join("")}return t}function sa(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i>=55296&&56319>=i&&(i-=55296,r++,v(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(i<<10)+(t.charCodeAt(r)-56320)),128>i?e[n++]=i:(2048>i?e[n++]=i>>6|192:(65536>i?e[n++]=i>>12|224:(e[n++]=i>>18|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=63&i|128)}return e}function x(t,e,n,r){var i;if(e>r?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function y(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:ua.assert(!1,"errorPrefix_ called with argumentNumber > 4.  Need to update it?")}return t=t+" failed: "+(r+" argument ")}function z(t,e,n,r){if((!r||m(n))&&"function"!=da(n))throw Error(y(t,e,r)+"must be a valid function.")}function va(t,e,n){if(m(n)&&(!ha(n)||null===n))throw Error(y(t,e,!0)+"must be a valid context object.")}function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function wa(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function za(t){return p(t)&&0!==t.length&&!xa.test(t)}function Aa(t,e,n){n&&!m(e)||Ba(y(t,1,n),e)}function Ba(t,e,n,r){if(n||(n=0),r=r||[],!m(e))throw Error(t+"contains undefined"+Ca(r));if("function"==da(e))throw Error(t+"contains a function"+Ca(r)+" with contents: "+e.toString());if(Da(e))throw Error(t+"contains "+e.toString()+Ca(r));if(n>1e3)throw new TypeError(t+"contains a cyclic object value ("+r.slice(0,100).join(".")+"...)");if(p(e)&&e.length>10485760/3&&10485760<sa(e).length)throw Error(t+"contains a string greater than 10485760 utf8 bytes"+Ca(r)+" ('"+e.substring(0,50)+"...')");if(ha(e))for(var i in e)if(A(e,i)){var o=e[i];if(".priority"!==i&&".value"!==i&&".sv"!==i&&!za(i))throw Error(t+" contains an invalid key ("+i+")"+Ca(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(i),Ba(t,o,n+1,r),r.pop()}}function Ca(t){return 0==t.length?"":" in property '"+t.join(".")+"'"}function Ea(t,e){if(!ha(e)||ea(e))throw Error(y(t,1,!1)+" must be an Object containing the children to replace.");Aa(t,e,!1)}function Fa(t,e,n,r){if(!r||m(n)){if(Da(n))throw Error(y(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, or null).");if(!(null===n||ga(n)||p(n)||ha(n)&&A(n,".sv")))throw Error(y(t,e,r)+"must be a valid Firebase priority (a string, finite number, or null).")}}function Ga(t,e,n){if(!n||m(e))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(y(t,1,n)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function Ha(t,e){if(m(e)&&!za(e))throw Error(y(t,2,!0)+'was an invalid key: "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function Ia(t,e){if(!p(e)||0===e.length||ya.test(e))throw Error(y(t,1,!1)+'was an invalid path: "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function B(t,e){if(".info"===C(e))throw Error(t+" failed: Can't modify data under /.info/")}function D(t,e,n,r,i,o,a){if(this.m=t,this.path=e,this.Da=n,this.da=r,this.wa=i,this.Ba=o,this.Xa=a,m(this.da)&&m(this.Ba)&&m(this.Da))throw"Query: Can't combine startAt(), endAt(), and limit()."}function Ka(t){var e={};return m(t.da)&&(e.sp=t.da),m(t.wa)&&(e.sn=t.wa),m(t.Ba)&&(e.ep=t.Ba),m(t.Xa)&&(e.en=t.Xa),m(t.Da)&&(e.l=t.Da),m(t.da)&&m(t.wa)&&null===t.da&&null===t.wa&&(e.vf="l"),e}function Ja(t,e,n){var r={};if(e&&n)r.cancel=e,z(t,3,r.cancel,!0),r.Y=n,va(t,4,r.Y);else if(e)if("object"==typeof e&&null!==e)r.Y=e;else{if("function"!=typeof e)throw Error(ta.fe(t,3,!0)+"must either be a cancel callback or a context object.");r.cancel=e}return r}function F(t,e){if(1==arguments.length){this.o=t.split("/");for(var n=0,r=0;r<this.o.length;r++)0<this.o[r].length&&(this.o[n]=this.o[r],n++);this.o.length=n,this.U=0}else this.o=t,this.U=e}function C(t){return t.U>=t.o.length?null:t.o[t.U]}function Ma(t){var e=t.U;return e<t.o.length&&e++,new F(t.o,e)}function Na(t){return t.U<t.o.length?t.o[t.o.length-1]:null}function Oa(t,e){var n=C(t);if(null===n)return e;if(n===C(e))return Oa(Ma(t),Ma(e));throw"INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")"}function Pa(){this.children={},this.wc=0,this.value=null}function Qa(t,e,n){this.Ea=t?t:"",this.Db=e?e:null,this.C=n?n:new Pa}function I(t,e){for(var n,r=e instanceof F?e:new F(e),i=t;null!==(n=C(r));)i=new Qa(n,i,wa(i.C.children,n)||new Pa),r=Ma(r);return i}function J(t,e){v("undefined"!=typeof e,"Cannot set value to undefined"),t.C.value=e,Ra(t)}function Sa(t,e,n,r){n&&!r&&e(t),t.A(function(t){Sa(t,e,!0,r)}),n&&r&&e(t)}function Ta(t,e,n){for(t=n?t:t.parent();null!==t;){if(e(t))return!0;t=t.parent()}return!1}function Ra(t){if(null!==t.Db){var e=t.Db,n=t.Ea,r=t.f(),i=A(e.C.children,n);r&&i?(delete e.C.children[n],e.C.wc--,Ra(e)):r||i||(e.C.children[n]=t.C,e.C.wc++,Ra(e))}}function Ua(t,e){this.Va=t?t:Va,this.ca=e?e:Wa}function Va(t,e){return e>t?-1:t>e?1:0}function Xa(t,e){for(var n,r=t.ca,i=null;!r.f();){if(n=t.Va(e,r.key),0===n){if(r.left.f())return i?i.key:null;for(r=r.left;!r.right.f();)r=r.right;return r.key}0>n?r=r.left:n>0&&(i=r,r=r.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function Ya(t,e){for(this.rd=e,this.$b=[];!t.f();)this.$b.push(t),t=t.left}function Za(t){if(0===t.$b.length)return null;var e,n=t.$b.pop();for(e=t.rd?t.rd(n.key,n.value):{key:n.key,value:n.value},n=n.right;!n.f();)t.$b.push(n),n=n.left;return e}function $a(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:!0,this.left=null!=r?r:Wa,this.right=null!=i?i:Wa}function cb(t){return t.left.f()?t:cb(t.left)}function eb(t){return t.left.f()?Wa:(t.left.P()||t.left.left.P()||(t=fb(t)),t=t.J(null,null,null,eb(t.left),null),db(t))}function db(t){return t.right.P()&&!t.left.P()&&(t=ib(t)),t.left.P()&&t.left.left.P()&&(t=gb(t)),t.left.P()&&t.right.P()&&(t=hb(t)),t}function fb(t){return t=hb(t),t.right.left.P()&&(t=t.J(null,null,null,null,gb(t.right)),t=ib(t),t=hb(t)),t}function ib(t){return t.right.J(null,null,t.color,t.J(null,null,!0,null,t.right.left),null)}function gb(t){return t.left.J(null,null,t.color,null,t.J(null,null,!0,t.left.right,null))}function hb(t){return t.J(null,null,!t.color,t.left.J(null,null,!t.left.color,null,null),t.right.J(null,null,!t.right.color,null,null))}function jb(){}function kb(t){this.Ub=t,this.hc="firebase:"}function lb(){this.mb={}}function mb(t){try{if("undefined"!=typeof window&&"undefined"!=typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new kb(e)}}catch(n){}return new lb}function pb(t,e,n,r){this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.nc=e,this.Zb=n,this.ce=r,this.ga=nb.get("host:"+t)||this.host}function qb(t,e){e!==t.ga&&(t.ga=e,"s-"===t.ga.substr(0,2)&&nb.set("host:"+t.host,t.ga))}function wb(t,e){var n;t:{n=t.length;for(var r=p(t)?t.split(""):t,i=0;n>i;i++)if(i in r&&e.call(void 0,r[i],i,t)){n=i;break t}n=-1}return 0>n?null:p(t)?t.charAt(n):t[n]}function Ab(t){return-1!=xb.indexOf(t)}function v(t,e){if(!t)throw Error("Firebase INTERNAL ASSERT FAILED:"+e)}function Ib(){for(var t="",e=0;e<arguments.length;e++)t=fa(arguments[e])?t+Ib.apply(null,arguments[e]):"object"==typeof arguments[e]?t+u(arguments[e]):t+arguments[e],t+=" ";return t}function K(){if(!0===Kb&&(Kb=!1,null===Jb&&!0===ob.get("logging_enabled")&&Lb(!0)),Jb){var t=Ib.apply(null,arguments);Jb(t)}}function Mb(t){return function(){K(t,arguments)}}function Nb(){if("undefined"!=typeof console){var t="FIREBASE INTERNAL ERROR: "+Ib.apply(null,arguments);"undefined"!=typeof console.error?console.error(t):console.log(t)}}function Ob(){var t=Ib.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+t)}function L(){if("undefined"!=typeof console){var t="FIREBASE WARNING: "+Ib.apply(null,arguments);"undefined"!=typeof console.warn?console.warn(t):console.log(t)}}function Da(t){return ga(t)&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)}function Pb(t){if("complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}function Qb(t,e){return t!==e?null===t?-1:null===e?1:typeof t!=typeof e?"number"==typeof t?-1:1:t>e?1:-1:0}function Rb(t,e){if(t===e)return 0;var n=Sb(t),r=Sb(e);return null!==n?null!==r?0==n-r?t.length-e.length:n-r:-1:null!==r?1:e>t?-1:1}function Tb(t,e){if(e&&t in e)return e[t];throw Error("Missing required key ("+t+") in object: "+u(e))}function La(t){if("object"!=typeof t||null===t)return u(t);var e,n=[];for(e in t)n.push(e);n.sort(),e="{";for(var r=0;r<n.length;r++)0!==r&&(e+=","),e+=u(n[r]),e+=":",e+=La(t[n[r]]);return e+"}"}function Ub(t,e){if(t.length<=e)return[t];for(var n=[],r=0;r<t.length;r+=e)n.push(r+e>t?t.substring(r,t.length):t.substring(r,r+e));return n}function Vb(t,e){if(ea(t))for(var n=0;n<t.length;++n)e(n,t[n]);else Wb(t,e)}function Xb(t,e){return e?q(t,e):t}function Yb(t){v(!Da(t),"Invalid JSON number");var e,n,r,i;for(0===t?(r=n=0,e=-1/0===1/t?1:0):(e=0>t,t=Math.abs(t),t>=Math.pow(2,-1022)?(r=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),n=r+1023,r=Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074)))),i=[],t=52;t;t-=1)i.push(r%2?1:0),r=Math.floor(r/2);for(t=11;t;t-=1)i.push(n%2?1:0),n=Math.floor(n/2);for(i.push(e?1:0),i.reverse(),e=i.join(""),n="",t=0;64>t;t+=8)r=parseInt(e.substr(t,8),2).toString(16),1===r.length&&(r="0"+r),n+=r;return n.toLowerCase()}function Zb(t){var e="Unknown Error";return"too_big"===t?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?e="Client doesn't have permission to access the desired data.":"unavailable"==t&&(e="The service is unavailable"),e=Error(t+": "+e),e.code=t.toUpperCase(),e}function Sb(t){return $b.test(t)&&(t=Number(t),t>=-2147483648&&2147483647>=t)?t:null}function ac(t){try{t()}catch(e){setTimeout(function(){throw e},Math.floor(0))}}function bc(t,e){this.F=t,v(null!==this.F,"LeafNode shouldn't be created with null value."),this.fb="undefined"!=typeof e?e:null}function dc(t,e){return Qb(t.ja,e.ja)||Rb(t.name,e.name)}function ec(t,e){return Rb(t.name,e.name)}function fc(t,e){return Rb(t,e)}function N(t,e){this.n=t||new Ua(fc),this.fb="undefined"!=typeof e?e:null}function gc(t,e,n){N.call(this,t,n),null===e&&(e=new Ua(dc),t.Ca(function(t,n){e=e.qa({name:t,ja:n.k()},n)})),this.va=e}function O(t,e){if(null===t)return M;var n=null;if("object"==typeof t&&".priority"in t?n=t[".priority"]:"undefined"!=typeof e&&(n=e),v(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new bc(t,n);if(t instanceof Array){var r=M,i=t;return Wb(i,function(t,e){if(A(i,e)&&"."!==e.substring(0,1)){var n=O(t);(n.O()||!n.f())&&(r=r.H(e,n))}}),r.Ha(n)}var o=[],a={},s=!1,u=t;Vb(u,function(t,e){if("string"!=typeof e||"."!==e.substring(0,1)){var n=O(u[e]);n.f()||(s=s||null!==n.k(),o.push({name:e,ja:n.k()}),a[e]=n)}});var l=jc(o,a,!1);if(s){var c=jc(o,a,!0);return new gc(l,c,n)}return new N(l,n)}function lc(t){this.count=parseInt(Math.log(t+1)/kc,10),this.ad=this.count-1,this.Dd=t+1&parseInt(Array(this.count+1).join("1"),2)}function mc(t){var e=!(t.Dd&1<<t.ad);return t.ad--,e}function jc(t,e,n){function r(i,o){var a=o-i;if(0==a)return null;if(1==a){var a=t[i].name,s=n?t[i]:a;return new $a(s,e[a],!1,null,null)}var s=parseInt(a/2,10)+i,u=r(i,s),l=r(s+1,o),a=t[s].name,s=n?t[s]:a;return new $a(s,e[a],!1,u,l)}var i=n?dc:ec;t.sort(i);var o=function(i){function o(i,o){var l=u-i,c=u;u-=i;var f=t[l].name,l=new $a(n?t[l]:f,e[f],o,null,r(l+1,c));a?a.left=l:s=l,a=l}for(var a=null,s=null,u=t.length,l=0;l<i.count;++l){var c=mc(i),f=Math.pow(2,i.count-(l+1));c?o(f,!1):(o(f,!1),o(f,!0))}return s}(new lc(t.length)),i=n?dc:fc;return null!==o?new Ua(i,o):new Ua(i)}function cc(t){return"number"==typeof t?"number:"+Yb(t):"string:"+t}function P(t,e){this.C=t,this.kc=e}function nc(t){v(ea(t)&&0<t.length,"Requires a non-empty array"),this.Cd=t,this.vb={}}function oc(t,e){v(wb(t.Cd,function(t){return t===e}),"Unknown event: "+e)}function pc(){nc.call(this,["visible"]);var t,e;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(e="visibilitychange",t="hidden"):"undefined"!=typeof document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):"undefined"!=typeof document.msHidden?(e="msvisibilitychange",t="msHidden"):"undefined"!=typeof document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.kb=!0,e){var n=this;document.addEventListener(e,function(){var e=!document[t];e!==n.kb&&(n.kb=e,n.Yc("visible",e))},!1)}}function qc(){if(nc.call(this,["online"]),this.Bb=!0,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){var t=this;window.addEventListener("online",function(){t.Bb||t.Yc("online",!0),t.Bb=!0},!1),window.addEventListener("offline",function(){t.Bb&&t.Yc("online",!1),t.Bb=!1},!1)}}function Wb(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function rc(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function sc(t){var e,n={};for(e in t)n[e]=t[e];return n}function tc(){this.nb={}}function uc(t,e,n){m(n)||(n=1),A(t.nb,e)||(t.nb[e]=0),t.nb[e]+=n}function vc(t){this.Ed=t,this.Wb=null}function wc(t,e){this.Vc={},this.qc=new vc(t),this.u=e;var n=1e4+2e4*Math.random();setTimeout(q(this.pd,this),Math.floor(n))}function zc(t){return t=t.toString(),xc[t]||(xc[t]=new tc),xc[t]}function Ac(t,e){var n=t.toString();return yc[n]||(yc[n]=e()),yc[n]}function Q(t,e,n){this.yc=t,this.e=Mb(this.yc),this.frames=this.tb=null,this.Ia=this.Ja=this.Xc=0,this.ea=zc(e),this.za=(e.nc?"wss://":"ws://")+e.ga+"/.ws?v=5","undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(this.za+="&r=f"),e.host!==e.ga&&(this.za=this.za+"&ns="+e.Zb),n&&(this.za=this.za+"&s="+n)}function Ec(t,e){if(t.frames.push(e),t.frames.length==t.Xc){var n=t.frames.join("");t.frames=null,n=ra(n),t.Qd(n)}}function Dc(t){clearInterval(t.tb),t.tb=setInterval(function(){t.W&&t.W.send("0"),Dc(t)},Math.floor(45e3))}function Fc(t){this.Lc=t,this.gc=[],this.Wa=0,this.xc=-1,this.Pa=null}function Gc(t,e,n){t.xc=e,t.Pa=n,t.xc<t.Wa&&(t.Pa(),t.Pa=null)}function Hc(t,e,n){for(t.gc[e]=n;t.gc[t.Wa];){var r=t.gc[t.Wa];delete t.gc[t.Wa];for(var i=0;i<r.length;++i)if(r[i]){var o=t;ac(function(){o.Lc(r[i])})}if(t.Wa===t.xc){t.Pa&&(clearTimeout(t.Pa),t.Pa(),t.Pa=null);break}t.Wa++}}function Ic(){this.set={}}function R(t,e){Wb(t.set,function(t,n){e(n,t)})}function Jc(t,e,n){this.yc=t,this.e=Mb(t),this.Ia=this.Ja=0,this.ea=zc(e),this.pc=n,this.ob=!1,this.Pb=function(t){e.host!==e.ga&&(t.ns=e.Zb);var n,r=[];for(n in t)t.hasOwnProperty(n)&&r.push(n+"="+t[n]);return(e.nc?"https://":"http://")+e.ga+"/.lp?"+r.join("&")}}function Nc(t,e){var n=u(e).length;t.Ia+=n,uc(t.ea,"bytes_received",n)}function Mc(t,e,n,r){if(this.Pb=r,this.ia=n,this.Nc=new Ic,this.Fb=[],this.zc=Math.floor(1e8*Math.random()),this.oc=!0,this.rc=Hb(),window["pLPCommand"+this.rc]=t,window["pRTLPCB"+this.rc]=e,t=document.createElement("iframe"),t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||K("No IE domain setting required")}catch(i){t.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}t.contentDocument?t.Aa=t.contentDocument:t.contentWindow?t.Aa=t.contentWindow.document:t.document&&(t.Aa=t.document),this.Z=t,t="",this.Z.src&&"javascript:"===this.Z.src.substr(0,11)&&(t='<script>document.domain="'+document.domain+'";</script>'),t="<html><body>"+t+"</body></html>";try{this.Z.Aa.open(),this.Z.Aa.write(t),this.Z.Aa.close()}catch(o){K("frame writing exception"),o.stack&&K(o.stack),K(o)}}function Pc(t){if(t.uc&&t.oc&&t.Nc.count()<(0<t.Fb.length?2:1)){t.zc++;var e={};e.id=t.Od,e.pw=t.Pd,e.ser=t.zc;for(var e=t.Pb(e),n="",r=0;0<t.Fb.length&&1870>=t.Fb[0].bd.length+30+n.length;){var i=t.Fb.shift(),n=n+"&seg"+r+"="+i.Yd+"&ts"+r+"="+i.be+"&d"+r+"="+i.bd;r++}return Sc(t,e+n,t.zc),!0}return!1}function Sc(t,e,n){function r(){t.Nc.remove(n),Pc(t)}t.Nc.add(n);var i=setTimeout(r,Math.floor(25e3));Oc(t,e,function(){clearTimeout(i),r()})}function Oc(t,e,n){setTimeout(function(){try{if(t.oc){var r=t.Z.Aa.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=function(){K("Long-poll script failed to load: "+e),t.oc=!1,t.close()},t.Z.Aa.body.appendChild(r)}}catch(i){}},Math.floor(1))}function Tc(t){Uc(this,t)}function Uc(t,e){var n=Q&&Q.isAvailable(),r=n&&!(nb.kd||!0===nb.get("previous_websocket_failure"));if(e.ce&&(n||L("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)t.Mb=[Q];else{var i=t.Mb=[];Vb(Vc,function(t,e){e&&e.isAvailable()&&i.push(e)})}}function Wc(t){if(0<t.Mb.length)return t.Mb[0];throw Error("No transports available")}function Xc(t,e,n,r,i,o){this.id=t,this.e=Mb("c:"+this.id+":"),this.Lc=n,this.Ab=r,this.S=i,this.Kc=o,this.M=e,this.fc=[],this.Zc=0,this.yd=new Tc(e),this.ma=0,this.e("Connection created"),Yc(this)}function Yc(t){var e=Wc(t.yd);t.B=new e("c:"+t.id+":"+t.Zc++,t.M),t.Pc=e.responsesRequiredToBeHealthy||0;var n=Zc(t,t.B),r=$c(t,t.B);t.Nb=t.B,t.Kb=t.B,t.w=null,t.Oa=!1,setTimeout(function(){t.B&&t.B.open(n,r)},Math.floor(0)),e=e.healthyTimeout||0,e>0&&(t.Vb=setTimeout(function(){t.Vb=null,t.Oa||(t.B&&102400<t.B.Ia?(t.e("Connection exceeded healthy timeout but has received "+t.B.Ia+" bytes.  Marking connection healthy."),t.Oa=!0,t.B.Xb()):t.B&&10240<t.B.Ja?t.e("Connection exceeded healthy timeout but has sent "+t.B.Ja+" bytes.  Leaving connection alive."):(t.e("Closing unhealthy connection after timeout."),t.close()))},Math.floor(e)))}function $c(t,e){return function(n){e===t.B?(t.B=null,n||0!==t.ma?1===t.ma&&t.e("Realtime connection lost."):(t.e("Realtime connection failed."),"s-"===t.M.ga.substr(0,2)&&(nb.remove("host:"+t.M.host),t.M.ga=t.M.host)),t.close()):e===t.w?(t.e("Secondary connection lost."),n=t.w,t.w=null,t.Nb!==n&&t.Kb!==n||t.close()):t.e("closing an old connection")}}function Zc(t,e){return function(n){if(2!=t.ma)if(e===t.Kb){var r=Tb("t",n);if(n=Tb("d",n),"c"==r){if(r=Tb("t",n),"d"in n)if(n=n.d,"h"===r){var r=n.ts,i=n.v,o=n.h;t.pc=n.s,qb(t.M,o),0==t.ma&&(t.B.start(),ad(t,t.B,r),"5"!==i&&L("Protocol version mismatch detected"),n=t.yd,(n=1<n.Mb.length?n.Mb[1]:null)&&bd(t,n))}else if("n"===r){for(t.e("recvd end transmission on primary"),t.Kb=t.w,n=0;n<t.fc.length;++n)t.dc(t.fc[n]);t.fc=[],cd(t)}else"s"===r?(t.e("Connection shutdown command received. Shutting down..."),t.Kc&&(t.Kc(n),t.Kc=null),t.S=null,t.close()):"r"===r?(t.e("Reset packet received.  New host: "+n),qb(t.M,n),1===t.ma?t.close():(dd(t),Yc(t))):"e"===r?Nb("Server Error: "+n):"o"===r?(t.e("got pong on primary."),ed(t),fd(t)):Nb("Unknown control packet command: "+r)}else"d"==r&&t.dc(n)}else if(e===t.w)if(r=Tb("t",n),n=Tb("d",n),"c"==r)"t"in n&&(n=n.t,"a"===n?gd(t):"r"===n?(t.e("Got a reset on secondary, closing it"),t.w.close(),t.Nb!==t.w&&t.Kb!==t.w||t.close()):"o"===n&&(t.e("got pong on secondary."),t.td--,gd(t)));else{if("d"!=r)throw Error("Unknown protocol layer: "+r);t.fc.push(n)}else t.e("message on old connection")}}function cd(t){t.Nb===t.w&&t.Kb===t.w&&(t.e("cleaning up and promoting a connection: "+t.w.yc),t.B=t.w,t.w=null)}function gd(t){0>=t.td?(t.e("Secondary connection is healthy."),t.Oa=!0,t.w.Xb(),t.w.start(),t.e("sending client ack on secondary"),t.w.send({t:"c",d:{t:"a",d:{}}}),t.e("Ending transmission on primary"),t.B.send({t:"c",d:{t:"n",d:{}}}),t.Nb=t.w,cd(t)):(t.e("sending ping on secondary."),t.w.send({t:"c",d:{t:"p",d:{}}}))}function ed(t){t.Oa||(t.Pc--,0>=t.Pc&&(t.e("Primary connection is healthy."),t.Oa=!0,t.B.Xb()))}function bd(t,e){t.w=new e("c:"+t.id+":"+t.Zc++,t.M,t.pc),t.td=e.responsesRequiredToBeHealthy||0,t.w.open(Zc(t,t.w),$c(t,t.w)),setTimeout(function(){t.w&&(t.e("Timed out trying to upgrade."),t.w.close())},Math.floor(6e4))}function ad(t,e,n){t.e("Realtime connection established."),t.B=e,t.ma=1,t.Ab&&(t.Ab(n),t.Ab=null),0===t.Pc?(t.e("Primary connection is healthy."),t.Oa=!0):setTimeout(function(){fd(t)
},Math.floor(5e3))}function fd(t){t.Oa||1!==t.ma||(t.e("sending ping on primary."),hd(t,{t:"c",d:{t:"p",d:{}}}))}function hd(t,e){if(1!==t.ma)throw"Connection is not connected";t.Nb.send(e)}function dd(t){t.e("Shutting down all connections"),t.B&&(t.B.close(),t.B=null),t.w&&(t.w.close(),t.w=null),t.Vb&&(clearTimeout(t.Vb),t.Vb=null)}function id(t,e,n,r,i,o){this.id=jd++,this.e=Mb("p:"+this.id+":"),this.Ta=!0,this.ha={},this.T=[],this.Cb=0,this.zb=[],this.R=!1,this.sa=1e3,this.Yb=3e5,this.ec=e||ba,this.cc=n||ba,this.yb=r||ba,this.Mc=i||ba,this.Dc=o||ba,this.M=t,this.Rc=null,this.Jb={},this.Xd=0,this.ub=this.Hc=null,kd(this,0),pc.qb().eb("visible",this.Sd,this),-1===t.host.indexOf("fblocal")&&qc.qb().eb("online",this.Rd,this)}function md(t,e,n){var r=e.toString(),i=e.path().toString();t.ha[i]=t.ha[i]||{},v(!t.ha[i][r],"listen() called twice for same path/queryId."),t.ha[i][r]={gb:e.gb(),D:n},t.R&&nd(t,i,r,e.gb(),n)}function nd(t,e,n,r,i){t.e("Listen on "+e+" for "+n);var o={p:e};r=tb(r,function(t){return Ka(t)}),"{}"!==n&&(o.q=r),o.h=t.Dc(e),t.Fa("l",o,function(r){t.e("listen response",r),r=r.s,"ok"!==r&&od(t,e,n),i&&i(r)})}function pd(t){var e=t.La;t.R&&e&&t.Fa("auth",{cred:e.Fd},function(n){var r=n.s;n=n.d||"error","ok"!==r&&t.La===e&&delete t.La,t.yb("ok"===r),e.dd?"ok"!==r&&e.Rb&&e.Rb(r,n):(e.dd=!0,e.aa&&e.aa(r,n))})}function qd(t,e,n,r){e=e.toString(),od(t,e,n)&&t.R&&rd(t,e,n,r)}function rd(t,e,n,r){t.e("Unlisten on "+e+" for "+n),e={p:e},r=tb(r,function(t){return Ka(t)}),"{}"!==n&&(e.q=r),t.Fa("u",e)}function sd(t,e,n,r){t.R?td(t,"o",e,n,r):t.zb.push({Oc:e,action:"o",data:n,D:r})}function ud(t,e,n,r){t.R?td(t,"om",e,n,r):t.zb.push({Oc:e,action:"om",data:n,D:r})}function td(t,e,n,r,i){n={p:n,d:r},t.e("onDisconnect "+e,n),t.Fa(e,n,function(t){i&&setTimeout(function(){i(t.s,t.d)},Math.floor(0))})}function wd(t,e,n,r){vd(t,"m",e,n,r,void 0)}function vd(t,e,n,r,i,o){n={p:n,d:r},m(o)&&(n.h=o),t.T.push({action:e,qd:n,D:i}),t.Cb++,e=t.T.length-1,t.R&&xd(t,e)}function xd(t,e){var n=t.T[e].action,r=t.T[e].qd,i=t.T[e].D;t.T[e].Ud=t.R,t.Fa(n,r,function(r){t.e(n+" response",r),delete t.T[e],t.Cb--,0===t.Cb&&(t.T=[]),i&&i(r.s,r.d)})}function kd(t,e){v(!t.ka,"Scheduling a connect when we're already connected/ing?"),t.Ya&&clearTimeout(t.Ya),t.Ya=setTimeout(function(){t.Ya=null,zd(t)},Math.floor(e))}function zd(t){if(t.Ta){t.e("Making a connection attempt"),t.Hc=(new Date).getTime(),t.ub=null;var e=q(t.dc,t),n=q(t.Ab,t),r=q(t.md,t),i=t.id+":"+ld++;t.ka=new Xc(i,t.M,e,n,r,function(e){L(e+" ("+t.M.toString()+")"),t.Ta=!1})}}function yd(t,e,n){n=n?tb(n,function(t){return La(t)}).join("$"):"{}",(t=od(t,e,n))&&t.D&&t.D("permission_denied")}function od(t,e,n){e=new F(e).toString(),n||(n="{}");var r=t.ha[e][n];return delete t.ha[e][n],r}function Ad(){this.n=this.F=null}function Bd(t,e,n){if(e.f())t.F=n,t.n=null;else if(null!==t.F)t.F=t.F.ya(e,n);else{null==t.n&&(t.n=new Ic);var r=C(e);t.n.contains(r)||t.n.add(r,new Ad),t=t.n.get(r),e=Ma(e),Bd(t,e,n)}}function Cd(t,e){if(e.f())return t.F=null,t.n=null,!0;if(null!==t.F){if(t.F.O())return!1;var n=t.F;return t.F=null,n.A(function(e,n){Bd(t,new F(e),n)}),Cd(t,e)}return null!==t.n?(n=C(e),e=Ma(e),t.n.contains(n)&&Cd(t.n.get(n),e)&&t.n.remove(n),t.n.f()?(t.n=null,!0):!1):!0}function Dd(t,e,n){null!==t.F?n(e,t.F):t.A(function(t,r){var i=new F(e.toString()+"/"+t);Dd(r,i,n)})}function Ed(){this.$=M}function S(t,e){return t.$.K(e)}function T(t,e,n){t.$=t.$.ya(e,n)}function Fd(){this.ta=new Ed,this.L=new Ed,this.oa=new Ed,this.Eb=new Qa}function Gd(t,e,n){return T(t.ta,e,n),Hd(t,e)}function Hd(t,e){for(var n=S(t.ta,e),r=S(t.L,e),i=I(t.Eb,e),o=!1,a=i;null!==a;){if(null!==a.j()){o=!0;break}a=a.parent()}return o?!1:(n=Id(n,r,i),n!==r?(T(t.L,e,n),!0):!1)}function Id(t,e,n){return n.f()?t:null!==n.j()?e:(t=t||M,n.A(function(r){r=r.name();var i=t.N(r),o=e.N(r),a=I(n,r),i=Id(i,o,a);t=t.H(r,i)}),t)}function Jd(t,e){sb(e,function(e){var n=e.Zd;e=I(t.Eb,e.path);var r=e.j();v(null!==r,"pendingPut should not be null."),r===n&&J(e,null)})}function Kd(t,e){return t&&"object"==typeof t?(v(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t}function Ld(t,e){var n=new Ad;return Dd(t,new F(""),function(t,r){Bd(n,t,Md(r,e))}),n}function Md(t,e){var n,r=Kd(t.k(),e);if(t.O()){var i=Kd(t.j(),e);return i!==t.j()||r!==t.k()?new bc(i,r):t}return n=t,r!==t.k()&&(n=n.Ha(r)),t.A(function(t,r){var i=Md(r,e);i!==r&&(n=n.H(t,i))}),n}function Nd(){this.Za=[]}function Od(t,e){if(0!==e.length)for(var n=0;n<e.length;n++)t.Za.push(e[n])}function Pd(t){var e=t.aa,n=t.vd,r=t.Gb;ac(function(){e(n,r)})}function U(t,e,n,r){this.type=t,this.ua=e,this.ba=n,this.Gb=r}function Qd(t){this.Q=t,this.pa=[],this.Ac=new Nd}function Rd(t,e,n,r,i){t.pa.push({type:e,aa:n,cancel:r,Y:i}),r=[];var o=Sd(t.i);t.sb&&o.push(new U("value",t.i));for(var a=0;a<o.length;a++)if(o[a].type===e){var s=new E(t.Q.m,t.Q.path);o[a].ba&&(s=s.G(o[a].ba)),r.push({aa:Xb(n,i),vd:new P(o[a].ua,s),Gb:o[a].Gb})}Od(t.Ac,r)}function Td(t,e){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=i.type,a=new E(t.Q.m,t.Q.path);for(e[r].ba&&(a=a.G(e[r].ba)),a=new P(e[r].ua,a),"value"!==i.type||a.rb()?"value"!==i.type&&(o+=" "+a.name()):o+="("+a.V()+")",K(t.Q.m.u.id+": event:"+t.Q.path+":"+t.Q.Ra()+":"+o),o=0;o<t.pa.length;o++){var s=t.pa[o];e[r].type===s.type&&n.push({aa:Xb(s.aa,s.Y),vd:a,Gb:i.Gb})}}Od(t.Ac,n)}function Sd(t){var e=[];if(!t.O()){var n=null;t.A(function(t,r){e.push(new U("child_added",r,t,n)),n=t})}return e}function Ud(t){t.sb||(t.sb=!0,Td(t,[new U("value",t.i)]))}function Vd(t,e){Qd.call(this,t),this.i=e}function Wd(t,e){this.Tb=t,this.Ic=e}function Xd(t,e,n,r,i){var o=t.K(n),a=e.K(n);if(r=new Wd(r,i),i=Yd(r,n,o,a),a=!o.f()&&!a.f()&&o.k()!==a.k(),i||a)for(o=n,n=i;null!==o.parent();){var s=t.K(o);i=e.K(o);var u=o.parent();if(!r.Tb||I(r.Tb,u).j()){var l=e.K(u),c=[],o=Na(o);s.f()?(s=l.fa(o,i),c.push(new U("child_added",i,o,s))):i.f()?c.push(new U("child_removed",s,o)):(s=l.fa(o,i),a&&c.push(new U("child_moved",i,o,s)),n&&c.push(new U("child_changed",i,o,s))),r.Ic(u,l,c)}a&&(a=!1,n=!0),o=u}}function Yd(t,e,n,r){var i,o=[];return n===r?i=!1:n.O()&&r.O()?i=n.j()!==r.j():n.O()?(Zd(t,e,M,r,o),i=!0):r.O()?(Zd(t,e,n,M,o),i=!0):i=Zd(t,e,n,r,o),i?t.Ic(e,r,o):n.k()!==r.k()&&t.Ic(e,r,null),i}function Zd(t,e,n,r,i){var o,a,s,u,l=!1,c=!t.Tb||!I(t.Tb,e).f(),f=[],p=[],h=[],d=[],g={},v={};for(o=n.$a(),s=Za(o),a=r.$a(),u=Za(a);null!==s||null!==u;)if(n=u,n=null===s?1:null===n?-1:s.key===n.key?0:dc({name:s.key,ja:s.value.k()},{name:n.key,ja:n.value.k()}),0>n?(l=wa(g,s.key),m(l)?(h.push({Cc:s,Wc:f[l]}),f[l]=null):(v[s.key]=p.length,p.push(s)),l=!0,s=Za(o)):(n>0?(l=wa(v,u.key),m(l)?(h.push({Cc:p[l],Wc:u}),p[l]=null):(g[u.key]=f.length,f.push(u)),l=!0):(n=e.G(u.key),(n=Yd(t,n,s.value,u.value))&&(d.push(u),l=!0),s.value.k()!==u.value.k()&&(h.push({Cc:s,Wc:u}),l=!0),s=Za(o)),u=Za(a)),!c&&l)return!0;for(c=0;c<p.length;c++)(g=p[c])&&(n=e.G(g.key),Yd(t,n,g.value,M),i.push(new U("child_removed",g.value,g.key)));for(c=0;c<f.length;c++)(g=f[c])&&(n=e.G(g.key),p=r.fa(g.key,g.value),Yd(t,n,M,g.value),i.push(new U("child_added",g.value,g.key,p)));for(c=0;c<h.length;c++)g=h[c].Cc,f=h[c].Wc,n=e.G(f.key),p=r.fa(f.key,f.value),i.push(new U("child_moved",f.value,f.key,p)),(n=Yd(t,n,g.value,f.value))&&d.push(f);for(c=0;c<d.length;c++)t=d[c],p=r.fa(t.key,t.value),i.push(new U("child_changed",t.value,t.key,p));return l}function $d(){this.X=this.xa=null,this.set={}}function ae(t,e,n){t.add(e,n),t.X||(t.X=n.Q.path)}function be(t){var e=t.xa;return t.xa=null,e}function ce(t){return t.contains("default")}function de(t){return null!=t.xa&&ce(t)}function ee(t,e){Qd.call(this,t),this.i=M,this.jc(e,Sd(e))}function fe(t,e,n,r){if(t.O())return null;var i=null;return(r?t.Bc:t.A).call(t,function(t,r){return ge(e,t,r)&&(i=t,n--,0===n)?!0:void 0}),i}function ge(t,e,n){for(var r=0;r<t.length;r++)if(!t[r](e,n.k()))return!1;return!0}function he(t,e){this.u=t,this.g=e,this.bc=e.$,this.na=new Qa}function ke(t,e,n,r,i){var o,a=t.get(e);if(o=a){o=!1;for(var s=a.pa.length-1;s>=0;s--){var u=a.pa[s];if(!(n&&u.type!==n||r&&u.aa!==r||i&&u.Y!==i)&&(a.pa.splice(s,1),o=!0,n&&r))break}}return(n=o&&!(0<a.pa.length))&&t.remove(e),n}function le(t,e,n,r,i){e=e?e.Ra():null;var o=[];return e&&"default"!==e?ke(t,e,n,r,i)&&o.push(e):sb(t.keys(),function(e){ke(t,e,n,r,i)&&o.push(e)}),o}function me(t,e,n,r,i,o){var a=e.path(),a=I(t.na,a);if(n=le(e,n,r,i,o),e.f()&&J(a,null),r=ne(a),0<n.length&&!r){for(r=a,i=a.parent(),n=!1;!n&&i;){if(o=i.j()){v(!de(o));var s=r.name(),u=!1;R(o,function(t,e){u=e.Ec(s)||u}),u&&(n=!0)}r=i,i=i.parent()}return r=null,de(e)||(e=be(e),r=oe(t,a),e&&e()),n?null:r}return null}function pe(t,e,n){Sa(I(t.na,e),function(t){(t=t.j())&&R(t,function(t,e){Ud(e)})},n,!0)}function W(t,e,n){function r(t){do{if(a[t.toString()])return!0;t=t.parent()}while(null!==t);return!1}var i=t.bc,o=t.g.$;t.bc=o;for(var a={},s=0;s<n.length;s++)a[n[s].toString()]=!0;Xd(i,o,e,t.na,function(n,i,o){if(e.contains(n)){var a=r(n);a&&pe(t,n,!1),t.ic(n,i,o),a&&pe(t,n,!0)}else t.ic(n,i,o)}),r(e)&&pe(t,e,!0),qe(t,e)}function qe(t,e){var n=I(t.na,e);Sa(n,function(t){(t=t.j())&&R(t,function(t,e){e.Hb()})},!0,!0),Ta(n,function(t){(t=t.j())&&R(t,function(t,e){e.Hb()})},!1)}function ne(t){return Ta(t,function(t){return t.j()&&de(t.j())})}function je(t,e,n,r,i){if(de(n)||ne(e))ae(n,r,i);else{var o,a;n.f()||(o=n.toString(),a=n.gb()),ae(n,r,i),n.setActive(re(t,n)),o&&a&&qd(t.u,n.path(),o,a)}de(n)&&Sa(e,function(t){(t=t.j())&&(t.xa&&t.xa(),t.xa=null)})}function oe(t,e){function n(e){var i=e.j();if(i&&ce(i))r.push(i.path()),null==i.xa&&i.setActive(re(t,i));else{if(i){null!=i.xa||i.setActive(re(t,i));var o={};R(i,function(t,e){e.i.A(function(t){A(o,t)||(o[t]=!0,t=i.path().G(t),r.push(t))})})}e.A(n)}}var r=[];return n(e),r}function re(t,e){if(t.u){var n,r=t.u,i=e.path(),o=e.toString(),a=e.gb(),s=e.keys(),u=ce(e);return md(t.u,e,function(r){"ok"!==r?(r=Zb(r),L("on() or once() for "+e.path().toString()+" failed: "+r.toString()),se(t,e,r)):n||(u?pe(t,e.path(),!0):sb(s,function(t){(t=e.get(t))&&Ud(t)}),qe(t,e.path()))}),function(){n=!0,qd(r,i,o,a)}}return ba}function se(t,e,n){e&&(R(e,function(t,e){for(var r=0;r<e.pa.length;r++){var i=e.pa[r];i.cancel&&Xb(i.cancel,i.Y)(n)}}),me(t,e))}function ie(t,e){return"default"===t.Ra()?new Vd(t,e):new ee(t,e)}function te(t,e,n,r,i){var o=e.path();e=t.pb(o,e,r,i);var a=M,s=[];return Wb(e,function(e,u){var l=new F(u);3===e||1===e?a=a.H(u,r.K(l)):(2===e&&s.push({path:o.G(u),ra:M}),s=s.concat(ue(t,r.K(l),I(n,l),i)))}),[{path:o,ra:a}].concat(s)}function ve(t,e,n,r){var i;t:{var o=I(t.na,e);i=o.parent();for(var a=[];null!==i;){var s=i.j();if(null!==s){if(ce(s)){i=[{path:e,ra:n}];break t}if(s=t.pb(e,s,n,r),o=wa(s,o.name()),3===o||1===o){i=[{path:e,ra:n}];break t}2===o&&a.push({path:e,ra:M})}o=i,i=i.parent()}i=a}return 1!=i.length||i[0].ra.f()&&!n.f()?(a=I(t.na,e),o=a.j(),null!==o?ce(o)?i.push({path:e,ra:n}):i=i.concat(te(t,o,a,n,r)):i=i.concat(ue(t,n,a,r)),i):i}function ue(t,e,n,r){var i=n.j();if(null!==i)return ce(i)?[{path:n.path(),ra:e}]:te(t,i,n,e,r);var o=[];return n.A(function(n){var i=e.O()?M:e.N(n.name());n=ue(t,i,n,r),o=o.concat(n)}),o}function we(t){this.M=t,this.ea=zc(t),this.u=new id(this.M,q(this.ec,this),q(this.cc,this),q(this.yb,this),q(this.Mc,this),q(this.Dc,this)),this.xd=Ac(t,q(function(){return new wc(this.ea,this.u)},this)),this.Ua=new Qa,this.Ga=new Ed,this.g=new Fd,this.I=new he(this.u,this.g.oa),this.Fc=new Ed,this.Gc=new he(null,this.Fc),xe(this,"connected",!1),xe(this,"authenticated",!1),this.S=new Ad,this.Sb=0}function ye(t){return t=S(t.Fc,new F(".info/serverTimeOffset")).V()||0,(new Date).getTime()+t}function ze(t){return t=t={timestamp:ye(t)},t.timestamp=t.timestamp||(new Date).getTime(),t}function xe(t,e,n){e=new F("/.info/"+e),T(t.Fc,e,O(n)),W(t.Gc,e,[e])}function Be(t){t.e("onDisconnectEvents");var e=[],n=ze(t);Dd(Ld(t.S,n),new F(""),function(n,r){var i=ve(t.I,n,r,t.g.L);e.push.apply(e,t.g.set(n,i)),i=Ce(t,n),Ae(t,i),W(t.I,i,[n])}),Jd(t.g,e),t.S=new Ad}function De(t,e,n,r){var i=O(n);sd(t.u,e.toString(),i.V(!0),function(n,o){"ok"===n&&Bd(t.S,e,i),X(r,n,o)})}function Ee(t,e,n,r,i){var o=O(n,r);sd(t.u,e.toString(),o.V(!0),function(n,r){"ok"===n&&Bd(t.S,e,o),X(i,n,r)})}function Fe(t,e,n,r){var i,o=!0;for(i in n)o=!1;o?(K("onDisconnect().update() called with empty data.  Don't do anything."),X(r,"ok")):ud(t.u,e.toString(),n,function(i,o){if("ok"===i)for(var a in n){var s=O(n[a]);Bd(t.S,e.G(a),s)}X(r,i,o)})}function Ge(t){uc(t.ea,"deprecated_on_disconnect"),t.xd.Vc.deprecated_on_disconnect=!0}function X(t,e,n){t&&ac(function(){if("ok"==e)t(null,n);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n),i=Error(i),i.code=r,t(i)}})}function He(t,e,n,r,i){function o(){}t.e("transaction on "+e);var a=new E(t,e);if(a.eb("value",o),n={path:e,update:n,D:r,status:null,nd:Hb(),vc:i,sd:0,sc:function(){a.xb("value",o)},tc:null},t.Ga.$=Ie(t,t.Ga.$,t.g.L.$,t.Ua),r=n.update(S(t.Ga,e).V()),m(r)){Ba("transaction failed: Data returned ",r),n.status=1,i=I(t.Ua,e);var s=i.j()||[];s.push(n),J(i,s),s="object"==typeof r&&null!==r&&A(r,".priority")?r[".priority"]:S(t.g.L,e).k(),i=ze(t),r=O(r,s),r=Md(r,i),T(t.Ga,e,r),n.vc&&(T(t.g.oa,e,r),W(t.I,e,[e])),Je(t)}else n.sc(),n.D&&(t=Ke(t,e),n.D(null,!1,t))}function Je(t,e){var n=e||t.Ua;if(e||Le(t,n),null!==n.j()){var r=Me(t,n);v(0<r.length),vb(r,function(t){return 1===t.status})&&Ne(t,n.path(),r)}else n.rb()&&n.A(function(e){Je(t,e)})}function Ne(t,e,n){for(var r=0;r<n.length;r++)v(1===n[r].status,"tryToSendTransactionQueue_: items in queue should all be run."),n[r].status=2,n[r].sd++;var i=S(t.g.L,e).hash();T(t.g.L,e,S(t.g.oa,e));for(var o=S(t.Ga,e).V(!0),a=Hb(),s=Oe(n),r=0;r<s.length;r++)J(I(t.g.Eb,s[r]),a);t.u.put(e.toString(),o,function(i){for(t.e("transaction put response",{path:e.toString(),status:i}),r=0;r<s.length;r++){var o=I(t.g.Eb,s[r]),u=o.j();v(null!==u,"sendTransactionQueue_: pendingPut should not be null."),u===a&&(J(o,null),T(t.g.L,s[r],S(t.g.ta,s[r])))}if("ok"===i){for(i=[],r=0;r<n.length;r++)n[r].status=3,n[r].D&&(o=Ke(t,n[r].path),i.push(q(n[r].D,null,null,!0,o))),n[r].sc();for(Le(t,I(t.Ua,e)),Je(t),r=0;r<i.length;r++)ac(i[r])}else{if("datastale"===i)for(r=0;r<n.length;r++)n[r].status=4===n[r].status?5:1;else for(L("transaction at "+e+" failed: "+i),r=0;r<n.length;r++)n[r].status=5,n[r].tc=i;i=Ae(t,e),W(t.I,i,[e])}},i)}function Oe(t){for(var e={},n=0;n<t.length;n++)t[n].vc&&(e[t[n].path.toString()]=t[n].path);t=[];for(var r in e)t.push(e[r]);return t}function Ae(t,e){var n=Pe(t,e),r=n.path(),n=Me(t,n);if(T(t.g.oa,r,S(t.g.L,r)),T(t.Ga,r,S(t.g.L,r)),0!==n.length){for(var i=S(t.g.oa,r),o=i,a=[],s=0;s<n.length;s++){var u,l=Oa(r,n[s].path),c=!1;if(v(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),5===n[s].status)c=!0,u=n[s].tc;else if(1===n[s].status)if(25<=n[s].sd)c=!0,u="maxretry";else{var f=i.K(l),p=n[s].update(f.V());if(m(p)){Ba("transaction failed: Data returned ",p);var h=O(p);"object"==typeof p&&null!=p&&A(p,".priority")||(h=h.Ha(f.k())),i=i.ya(l,h),n[s].vc&&(o=o.ya(l,h))}else c=!0,u="nodata"}c&&(n[s].status=3,setTimeout(n[s].sc,Math.floor(0)),n[s].D&&(c=new E(t,n[s].path),l=new P(i.K(l),c),a.push("nodata"===u?q(n[s].D,null,null,!1,l):q(n[s].D,null,Error(u),!1,l))))}for(T(t.Ga,r,i),T(t.g.oa,r,o),Le(t,t.Ua),s=0;s<a.length;s++)ac(a[s]);Je(t)}return r}function Pe(t,e){for(var n,r=t.Ua;null!==(n=C(e))&&null===r.j();)r=I(r,n),e=Ma(e);return r}function Me(t,e){var n=[];return Qe(t,e,n),n.sort(function(t,e){return t.nd-e.nd}),n}function Qe(t,e,n){var r=e.j();if(null!==r)for(var i=0;i<r.length;i++)n.push(r[i]);e.A(function(e){Qe(t,e,n)})}function Le(t,e){var n=e.j();if(n){for(var r=0,i=0;i<n.length;i++)3!==n[i].status&&(n[r]=n[i],r++);n.length=r,J(e,0<n.length?n:null)}e.A(function(e){Le(t,e)})}function Ce(t,e){var n=Pe(t,e).path(),r=I(t.Ua,e);return Ta(r,function(t){Re(t)}),Re(r),Sa(r,function(t){Re(t)}),n}function Re(t){var e=t.j();if(null!==e){for(var n=[],r=-1,i=0;i<e.length;i++)4!==e[i].status&&(2===e[i].status?(v(r===i-1,"All SENT items should be at beginning of queue."),r=i,e[i].status=4,e[i].tc="set"):(v(1===e[i].status),e[i].sc(),e[i].D&&n.push(q(e[i].D,null,Error("set"),!1,null))));for(-1===r?J(t,null):e.length=r+1,i=0;i<n.length;i++)ac(n[i])}}function Ke(t,e){var n=new E(t,e);return new P(S(t.Ga,e),n)}function Ie(t,e,n,r){if(r.f())return n;if(null!=r.j())return e;var i=n;return r.A(function(r){var o=r.name(),a=new F(o);r=Ie(t,e.K(a),n.K(a),r),i=i.H(o,r)}),i}function Y(){this.hb={}}function $(t,e,n){this.Ib=t,this.X=e,this.Ea=n}function E(t,e){var n,r;if(t instanceof we)n=t,r=e;else{x("new Firebase",1,2,arguments.length);var i=arguments[0];r=n="";var o=!0,a="";if(p(i)){var s=i.indexOf("//");if(s>=0)var u=i.substring(0,s-1),i=i.substring(s+2);s=i.indexOf("/"),-1===s&&(s=i.length),n=i.substring(0,s);var i=i.substring(s+1),l=n.split(".");if(3==l.length){if(s=l[2].indexOf(":"),o=s>=0?"https"===u||"wss"===u:!0,"firebase"===l[1])Ob(n+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead");else for(r=l[0],a="",i=("/"+i).split("/"),s=0;s<i.length;s++)if(0<i[s].length){l=i[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch(c){}a+="/"+l}r=r.toLowerCase()}else Ob("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com")}if(o||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&L("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),n=new pb(n,o,r,"ws"===u||"wss"===u),r=new F(a),o=r.toString(),!(u=!p(n.host)||0===n.host.length||!za(n.Zb))&&(u=0!==o.length)&&(o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),u=!(p(o)&&0!==o.length&&!ya.test(o))),u)throw Error(y("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(e){if(!(e instanceof Y))throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");o=e}else o=Y.qb();u=n.toString(),i=wa(o.hb,u),i||(i=new we(n),o.hb[u]=i),n=i}D.call(this,n,r)}function Lb(t,e){v(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?("undefined"!=typeof console&&("function"==typeof console.log?Jb=q(console.log,console):"object"==typeof console.log&&(Jb=function(t){console.log(t)})),e&&ob.set("logging_enabled",!0)):t?Jb=t:(Jb=null,ob.remove("logging_enabled"))}var scope={};(function(){"use strict";function t(t,e){if(0===t.length||0===e.length)return t.concat(e);var r,i=t[t.length-1],o=Math.round(i/1099511627776)||32;if(32===o)r=t.concat(e);else{r=e;var a,i=0|i,s=t.slice(0,t.length-1);for(void 0===s&&(s=[]);o>=32;o-=32)s.push(i),i=0;if(0===o)r=s.concat(r);else{for(a=0;a<r.length;a++)s.push(i|r[a]>>>o),i=r[a]<<32-o;a=r.length?r[r.length-1]:0,r=Math.round(a/1099511627776)||32,s.push(n(o+r&31,o+r>32?i:s.pop(),1)),r=s}}return r}function e(t){var e=t.length;return 0===e?0:32*(e-1)+(Math.round(t[e-1]/1099511627776)||32)}function n(t,e,n){return 32===t?e:(n?0|e:e<<32-t)+1099511627776*t}function r(t){t?(this.c=t.c.slice(0),this.b=t.b.slice(0),this.a=t.a):this.reset()}function i(t,e){var n,r,i,o,a,s,u,l=e.slice(0),c=t.c;for(i=c[0],o=c[1],a=c[2],s=c[3],u=c[4],n=0;79>=n;n++)n>=16&&(l[n]=(l[n-3]^l[n-8]^l[n-14]^l[n-16])<<1|(l[n-3]^l[n-8]^l[n-14]^l[n-16])>>>31),r=19>=n?o&a|~o&s:39>=n?o^a^s:59>=n?o&a|o&s|a&s:79>=n?o^a^s:void 0,r=(i<<5|i>>>27)+r+u+l[n]+t.f[Math.floor(n/20)]|0,u=s,s=a,a=o<<30|o>>>2,o=i,i=r;c[0]=c[0]+i|0,c[1]=c[1]+o|0,c[2]=c[2]+a|0,c[3]=c[3]+s|0,c[4]=c[4]+u|0}function o(o){var a,s=(new r).update(o),u=s.b;for(o=s.c,u=t(u,[n(1,1)]),a=u.length+2;15&a;a++)u.push(0);for(u.push(Math.floor(s.a/4294967296)),u.push(0|s.a);u.length;)i(s,u.splice(0,16));s.reset();var l,s="";a=0;var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,f=e(o);for(l&&(u=u.substr(0,62)+"-_"),l=0;6*s.length<f;)s+=u.charAt((c^o[l]>>>a)>>>26),6>a?(c=o[l]<<6-a,a+=26,l++):(c<<=6,a-=6);for(;3&s.length;)s+="=";return s}r.prototype={d:512,reset:function(){return this.c=this.e.slice(0),this.b=[],this.a=0,this},update:function(r){if("string"==typeof r){r=unescape(encodeURIComponent(r));var o,a=[],s=0;for(o=0;o<r.length;o++)s=s<<8|r.charCodeAt(o),3===(3&o)&&(a.push(s),s=0);3&o&&a.push(n(8*(3&o),s)),r=a}for(o=this.b=t(this.b,r),a=this.a,r=this.a=a+e(r),a=this.d+a&-this.d;r>=a;a+=this.d)i(this,o.splice(0,16));return this},e:[1732584193,4023233417,2562383102,271733878,3285377520],f:[1518500249,1859775393,2400959708,3395469782]};var a=["sjclHashToBase64"],s=this;a[0]in s||!s.execScript||s.execScript("var "+a[0]);for(var u;a.length&&(u=a.shift());)a.length||void 0===o?s=s[u]?s[u]:s[u]={}:s[u]=o}).apply(scope);var sjclHashToBase64=scope.sjclHashToBase64,h,aa=this,pa={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},qa=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,ta={},ua={},xa=/[\[\].#$\/\u0000-\u001F\u007F]/,ya=/[\[\].#$\u0000-\u001F\u007F]/;D.prototype.Qc=function(){return x("Query.ref",0,0,arguments.length),new E(this.m,this.path)},D.prototype.ref=D.prototype.Qc,D.prototype.eb=function(t,e){x("Query.on",2,4,arguments.length),Ga("Query.on",t,!1),z("Query.on",2,e,!1);var n=Ja("Query.on",arguments[2],arguments[3]);return this.m.Qb(this,t,e,n.cancel,n.Y),e},D.prototype.on=D.prototype.eb,D.prototype.xb=function(t,e,n){x("Query.off",0,3,arguments.length),Ga("Query.off",t,!0),z("Query.off",2,e,!0),va("Query.off",3,n),this.m.lc(this,t,e,n)},D.prototype.off=D.prototype.xb,D.prototype.Td=function(t,e){function n(a){o&&(o=!1,i.xb(t,n),e.call(r.Y,a))}x("Query.once",2,4,arguments.length),Ga("Query.once",t,!1),z("Query.once",2,e,!1);var r=Ja("Query.once",arguments[2],arguments[3]),i=this,o=!0;this.eb(t,n,function(e){i.xb(t,n),r.cancel&&r.cancel.call(r.Y,e)})},D.prototype.once=D.prototype.Td,D.prototype.Md=function(t){if(x("Query.limit",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||0>=t)throw"Query.limit: First argument must be a positive integer.";return new D(this.m,this.path,t,this.da,this.wa,this.Ba,this.Xa)},D.prototype.limit=D.prototype.Md,D.prototype.wd=function(t,e){return x("Query.startAt",0,2,arguments.length),Fa("Query.startAt",1,t,!0),Ha("Query.startAt",e),m(t)||(e=t=null),new D(this.m,this.path,this.Da,t,e,this.Ba,this.Xa)},D.prototype.startAt=D.prototype.wd,D.prototype.cd=function(t,e){return x("Query.endAt",0,2,arguments.length),Fa("Query.endAt",1,t,!0),Ha("Query.endAt",e),new D(this.m,this.path,this.Da,this.da,this.wa,t,e)},D.prototype.endAt=D.prototype.cd,D.prototype.Gd=function(t,e){return x("Query.equalTo",1,2,arguments.length),Fa("Query.equalTo",1,t,!1),Ha("Query.equalTo",e),this.wd(t,e).cd(t,e)},D.prototype.equalTo=D.prototype.Gd,D.prototype.Ra=function(){var t=La(Ka(this));return"{}"===t?"default":t},h=F.prototype,h.toString=function(){for(var t="",e=this.U;e<this.o.length;e++)""!==this.o[e]&&(t+="/"+this.o[e]);return t||"/"},h.parent=function(){if(this.U>=this.o.length)return null;for(var t=[],e=this.U;e<this.o.length-1;e++)t.push(this.o[e]);return new F(t,0)},h.G=function(t){for(var e=[],n=this.U;n<this.o.length;n++)e.push(this.o[n]);if(t instanceof F)for(n=t.U;n<t.o.length;n++)e.push(t.o[n]);else for(t=t.split("/"),n=0;n<t.length;n++)0<t[n].length&&e.push(t[n]);return new F(e,0)},h.f=function(){return this.U>=this.o.length},h.length=function(){return this.o.length-this.U},h.contains=function(t){var e=this.U,n=t.U;if(this.length()>t.length())return!1;for(;e<this.o.length;){if(this.o[e]!==t.o[n])return!1;++e,++n}return!0},h=Qa.prototype,h.j=function(){return this.C.value},h.rb=function(){return 0<this.C.wc},h.f=function(){return null===this.j()&&!this.rb()},h.A=function(t){for(var e in this.C.children)t(new Qa(e,this,this.C.children[e]))},h.path=function(){return new F(null===this.Db?this.Ea:this.Db.path()+"/"+this.Ea)},h.name=function(){return this.Ea},h.parent=function(){return this.Db},h=Ua.prototype,h.qa=function(t,e){return new Ua(this.Va,this.ca.qa(t,e,this.Va).J(null,null,!1,null,null))},h.remove=function(t){return new Ua(this.Va,this.ca.remove(t,this.Va).J(null,null,!1,null,null))},h.get=function(t){for(var e,n=this.ca;!n.f();){if(e=this.Va(t,n.key),0===e)return n.value;0>e?n=n.left:e>0&&(n=n.right)}return null},h.f=function(){return this.ca.f()},h.count=function(){return this.ca.count()},h.wb=function(){return this.ca.wb()},h.ab=function(){return this.ca.ab()},h.Ca=function(t){return this.ca.Ca(t)},h.Sa=function(t){return this.ca.Sa(t)},h.$a=function(t){return new Ya(this.ca,t)},h=$a.prototype,h.J=function(t,e,n,r,i){return new $a(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},h.count=function(){return this.left.count()+1+this.right.count()},h.f=function(){return!1},h.Ca=function(t){return this.left.Ca(t)||t(this.key,this.value)||this.right.Ca(t)},h.Sa=function(t){return this.right.Sa(t)||t(this.key,this.value)||this.left.Sa(t)},h.wb=function(){return cb(this).key},h.ab=function(){return this.right.f()?this.key:this.right.ab()},h.qa=function(t,e,n){var r,i;return i=this,r=n(t,i.key),i=0>r?i.J(null,null,null,i.left.qa(t,e,n),null):0===r?i.J(null,e,null,null,null):i.J(null,null,null,null,i.right.qa(t,e,n)),db(i)},h.remove=function(t,e){var n,r;if(n=this,0>e(t,n.key))n.left.f()||n.left.P()||n.left.left.P()||(n=fb(n)),n=n.J(null,null,null,n.left.remove(t,e),null);else{if(n.left.P()&&(n=gb(n)),n.right.f()||n.right.P()||n.right.left.P()||(n=hb(n),n.left.left.P()&&(n=gb(n),n=hb(n))),0===e(t,n.key)){if(n.right.f())return Wa;r=cb(n.right),n=n.J(r.key,r.value,null,null,eb(n.right))}n=n.J(null,null,null,null,n.right.remove(t,e))}return db(n)},h.P=function(){return this.color},h=jb.prototype,h.J=function(){return this},h.qa=function(t,e){return new $a(t,e,null)},h.remove=function(){return this},h.count=function(){return 0},h.f=function(){return!0},h.Ca=function(){return!1},h.Sa=function(){return!1},h.wb=function(){return null},h.ab=function(){return null},h.P=function(){return!1};var Wa=new jb;kb.prototype.set=function(t,e){null==e?this.Ub.removeItem(this.hc+t):this.Ub.setItem(this.hc+t,u(e))},kb.prototype.get=function(t){return t=this.Ub.getItem(this.hc+t),null==t?null:ra(t)},kb.prototype.remove=function(t){this.Ub.removeItem(this.hc+t)},kb.prototype.kd=!1,lb.prototype.set=function(t,e){null==e?delete this.mb[t]:this.mb[t]=e},lb.prototype.get=function(t){return A(this.mb,t)?this.mb[t]:null},lb.prototype.remove=function(t){delete this.mb[t]},lb.prototype.kd=!0;var nb=mb("localStorage"),ob=mb("sessionStorage");pb.prototype.toString=function(){return(this.nc?"https://":"http://")+this.host};var rb=Array.prototype,sb=rb.forEach?function(t,e,n){rb.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=p(t)?t.split(""):t,o=0;r>o;o++)o in i&&e.call(n,i[o],o,t)},tb=rb.map?function(t,e,n){return rb.map.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=Array(r),o=p(t)?t.split(""):t,a=0;r>a;a++)a in o&&(i[a]=e.call(n,o[a],a,t));return i},ub=rb.reduce?function(t,e,n,r){return r&&(e=q(e,r)),rb.reduce.call(t,e,n)}:function(t,e,n,r){var i=n;return sb(t,function(n,o){i=e.call(r,i,n,o,t)}),i},vb=rb.every?function(t,e,n){return rb.every.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=p(t)?t.split(""):t,o=0;r>o;o++)if(o in i&&!e.call(n,i[o],o,t))return!1;return!0},xb;t:{var yb=aa.navigator;if(yb){var zb=yb.userAgent;if(zb){xb=zb;break t}}xb=""}var Bb=Ab("Opera")||Ab("OPR"),Cb=Ab("Trident")||Ab("MSIE"),Db=Ab("Gecko")&&-1==xb.toLowerCase().indexOf("webkit")&&!(Ab("Trident")||Ab("MSIE")),Eb=-1!=xb.toLowerCase().indexOf("webkit");!function(){var t,e="";return Bb&&aa.opera?(e=aa.opera.version,"function"==da(e)?e():e):(Db?t=/rv\:([^\);]+)(\)|;)/:Cb?t=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Eb&&(t=/WebKit\/(\S+)/),t&&(e=(e=t.exec(xb))?e[1]:""),Cb&&(t=(t=aa.document)?t.documentMode:void 0,t>parseFloat(e))?String(t):e)}();var Fb=null,Gb=null,Hb=function(){var t=1;return function(){return t++}}(),Jb=null,Kb=!0,$b=/^-?\d{1,10}$/;h=bc.prototype,h.O=function(){return!0},h.k=function(){return this.fb},h.Ha=function(t){return new bc(this.F,t)},h.N=function(){return M},h.K=function(t){return null===C(t)?this:M},h.fa=function(){return null},h.H=function(t,e){return(new N).H(t,e).Ha(this.fb)},h.ya=function(t,e){var n=C(t);return null===n?e:this.H(n,M.ya(Ma(t),e))},h.f=function(){return!1},h.ac=function(){return 0},h.V=function(t){return t&&null!==this.k()?{".value":this.j(),".priority":this.k()}:this.j()},h.hash=function(){var t="";null!==this.k()&&(t+="priority:"+cc(this.k())+":");var e=typeof this.F,t=t+(e+":"),t="number"===e?t+Yb(this.F):t+this.F;return sjclHashToBase64(t)},h.j=function(){return this.F},h.toString=function(){return"string"==typeof this.F?this.F:'"'+this.F+'"'},h=N.prototype,h.O=function(){return!1},h.k=function(){return this.fb},h.Ha=function(t){return new N(this.n,t)},h.H=function(t,e){var n=this.n.remove(t);return e&&e.f()&&(e=null),null!==e&&(n=n.qa(t,e)),e&&null!==e.k()?new gc(n,null,this.fb):new N(n,this.fb)},h.ya=function(t,e){var n=C(t);if(null===n)return e;var r=this.N(n).ya(Ma(t),e);return this.H(n,r)},h.f=function(){return this.n.f()},h.ac=function(){return this.n.count()};var ic=/^(0|[1-9]\d*)$/;h=N.prototype,h.V=function(t){if(this.f())return null;var e={},n=0,r=0,i=!0;if(this.A(function(o,a){e[o]=a.V(t),n++,i&&ic.test(o)?r=Math.max(r,Number(o)):i=!1}),!t&&i&&2*n>r){var o,a=[];for(o in e)a[o]=e[o];return a}return t&&null!==this.k()&&(e[".priority"]=this.k()),e},h.hash=function(){var t="";return null!==this.k()&&(t+="priority:"+cc(this.k())+":"),this.A(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),""===t?"":sjclHashToBase64(t)},h.N=function(t){return t=this.n.get(t),null===t?M:t},h.K=function(t){var e=C(t);return null===e?this:this.N(e).K(Ma(t))},h.fa=function(t){return Xa(this.n,t)},h.ed=function(){return this.n.wb()},h.gd=function(){return this.n.ab()},h.A=function(t){return this.n.Ca(t)},h.Bc=function(t){return this.n.Sa(t)},h.$a=function(){return this.n.$a()},h.toString=function(){var t="{",e=!0;return this.A(function(n,r){e?e=!1:t+=", ",t+='"'+n+'" : '+r.toString()}),t+="}"};var M=new N;ka(gc,N),h=gc.prototype,h.H=function(t,e){var n=this.N(t),r=this.n,i=this.va;return null!==n&&(r=r.remove(t),i=i.remove({name:t,ja:n.k()})),e&&e.f()&&(e=null),null!==e&&(r=r.qa(t,e),i=i.qa({name:t,ja:e.k()},e)),new gc(r,i,this.k())},h.fa=function(t,e){var n=Xa(this.va,{name:t,ja:e.k()});return n?n.name:null},h.A=function(t){return this.va.Ca(function(e,n){return t(e.name,n)})},h.Bc=function(t){return this.va.Sa(function(e,n){return t(e.name,n)})},h.$a=function(){return this.va.$a(function(t,e){return{key:t.name,value:e}})},h.ed=function(){return this.va.f()?null:this.va.wb().name},h.gd=function(){return this.va.f()?null:this.va.ab().name};var kc=Math.log(2);P.prototype.V=function(){return x("Firebase.DataSnapshot.val",0,0,arguments.length),this.C.V()},P.prototype.val=P.prototype.V,P.prototype.Hd=function(){return x("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.C.V(!0)},P.prototype.exportVal=P.prototype.Hd,P.prototype.G=function(t){x("Firebase.DataSnapshot.child",0,1,arguments.length),ga(t)&&(t=String(t)),Ia("Firebase.DataSnapshot.child",t);var e=new F(t),n=this.kc.G(e);return new P(this.C.K(e),n)},P.prototype.child=P.prototype.G,P.prototype.Ec=function(t){x("Firebase.DataSnapshot.hasChild",1,1,arguments.length),Ia("Firebase.DataSnapshot.hasChild",t);var e=new F(t);return!this.C.K(e).f()},P.prototype.hasChild=P.prototype.Ec,P.prototype.k=function(){return x("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.C.k()},P.prototype.getPriority=P.prototype.k,P.prototype.forEach=function(t){if(x("Firebase.DataSnapshot.forEach",1,1,arguments.length),z("Firebase.DataSnapshot.forEach",1,t,!1),this.C.O())return!1;var e=this;return this.C.A(function(n,r){return t(new P(r,e.kc.G(n)))})},P.prototype.forEach=P.prototype.forEach,P.prototype.rb=function(){return x("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),this.C.O()?!1:!this.C.f()},P.prototype.hasChildren=P.prototype.rb,P.prototype.name=function(){return x("Firebase.DataSnapshot.name",0,0,arguments.length),this.kc.name()
},P.prototype.name=P.prototype.name,P.prototype.ac=function(){return x("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.C.ac()},P.prototype.numChildren=P.prototype.ac,P.prototype.Qc=function(){return x("Firebase.DataSnapshot.ref",0,0,arguments.length),this.kc},P.prototype.ref=P.prototype.Qc,nc.prototype.Yc=function(t){for(var e=this.vb[t]||[],n=0;n<e.length;n++)e[n].aa.apply(e[n].Y,Array.prototype.slice.call(arguments,1))},nc.prototype.eb=function(t,e,n){oc(this,t),this.vb[t]=this.vb[t]||[],this.vb[t].push({aa:e,Y:n}),(t=this.fd(t))&&e.apply(n,t)},nc.prototype.xb=function(t,e,n){oc(this,t),t=this.vb[t]||[];for(var r=0;r<t.length;r++)if(t[r].aa===e&&(!n||n===t[r].Y)){t.splice(r,1);break}},ka(pc,nc),ca(pc),pc.prototype.fd=function(t){return v("visible"===t,"Unknown event type: "+t),[this.kb]},ka(qc,nc),ca(qc),qc.prototype.fd=function(t){return v("online"===t,"Unknown event type: "+t),[this.Bb]},tc.prototype.get=function(){return sc(this.nb)},vc.prototype.get=function(){var t=this.Ed.get(),e=sc(t);if(this.Wb)for(var n in this.Wb)e[n]-=this.Wb[n];return this.Wb=t,e},wc.prototype.pd=function(){var t,e=this.qc.get(),n={},r=!1;for(t in e)0<e[t]&&A(this.Vc,t)&&(n[t]=e[t],r=!0);r&&(e=this.u,e.R&&(n={c:n},e.e("reportStats",n),e.Fa("s",n))),setTimeout(q(this.pd,this),Math.floor(6e5*Math.random()))};var xc={},yc={},Bc=null;"undefined"!=typeof MozWebSocket?Bc=MozWebSocket:"undefined"!=typeof WebSocket&&(Bc=WebSocket);var Cc;Q.prototype.open=function(t,e){this.ia=e,this.Qd=t,this.e("Websocket connecting to "+this.za),this.W=new Bc(this.za),this.ob=!1,nb.set("previous_websocket_failure",!0);var n=this;this.W.onopen=function(){n.e("Websocket connected."),n.ob=!0},this.W.onclose=function(){n.e("Websocket connection was disconnected."),n.W=null,n.Qa()},this.W.onmessage=function(t){if(null!==n.W)if(t=t.data,n.Ia+=t.length,uc(n.ea,"bytes_received",t.length),Dc(n),null!==n.frames)Ec(n,t);else{t:{if(v(null===n.frames,"We already have a frame buffer"),6>=t.length){var e=Number(t);if(!isNaN(e)){n.Xc=e,n.frames=[],t=null;break t}}n.Xc=1,n.frames=[]}null!==t&&Ec(n,t)}},this.W.onerror=function(t){n.e("WebSocket error.  Closing connection."),(t=t.message||t.data)&&n.e(t),n.Qa()}},Q.prototype.start=function(){},Q.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);e&&1<e.length&&4.4>parseFloat(e[1])&&(t=!0)}return!t&&null!==Bc&&!Cc},Q.responsesRequiredToBeHealthy=2,Q.healthyTimeout=3e4,h=Q.prototype,h.Xb=function(){nb.remove("previous_websocket_failure")},h.send=function(t){Dc(this),t=u(t),this.Ja+=t.length,uc(this.ea,"bytes_sent",t.length),t=Ub(t,16384),1<t.length&&this.W.send(String(t.length));for(var e=0;e<t.length;e++)this.W.send(t[e])},h.Lb=function(){this.Na=!0,this.tb&&(clearInterval(this.tb),this.tb=null),this.W&&(this.W.close(),this.W=null)},h.Qa=function(){this.Na||(this.e("WebSocket is closing itself"),this.Lb(),this.ia&&(this.ia(this.ob),this.ia=null))},h.close=function(){this.Na||(this.e("WebSocket is being closed"),this.Lb())},h=Ic.prototype,h.add=function(t,e){this.set[t]=null!==e?e:!0},h.contains=function(t){return A(this.set,t)},h.get=function(t){return this.contains(t)?this.set[t]:void 0},h.remove=function(t){delete this.set[t]},h.f=function(){var t;t:{t=this.set;for(var e in t){t=!1;break t}t=!0}return t},h.count=function(){var t,e=this.set,n=0;for(t in e)n++;return n},h.keys=function(){var t=[];return Wb(this.set,function(e,n){t.push(n)}),t};var Kc,Lc;Jc.prototype.open=function(t,e){this.$c=0,this.S=e,this.ld=new Fc(t),this.Na=!1;var n=this;this.Ka=setTimeout(function(){n.e("Timed out trying to connect."),n.Qa(),n.Ka=null},Math.floor(3e4)),Pb(function(){if(!n.Na){n.la=new Mc(function(t,e,r){if(Nc(n,arguments),n.la)if(n.Ka&&(clearTimeout(n.Ka),n.Ka=null),n.ob=!0,"start"==t)n.id=e,n.od=r;else{if("close"!==t)throw Error("Unrecognized command received: "+t);e?(n.la.oc=!1,Gc(n.ld,e,function(){n.Qa()})):n.Qa()}},function(t,e){Nc(n,arguments),Hc(n.ld,t,e)},function(){n.Qa()},n.Pb);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.la.rc&&(t.cb=n.la.rc),t.v="5",n.pc&&(t.s=n.pc),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f"),t=n.Pb(t),n.e("Connecting via long-poll to "+t),Oc(n.la,t,function(){})}})},Jc.prototype.start=function(){var t=this.la,e=this.od;for(t.Od=this.id,t.Pd=e,t.uc=!0;Pc(t););t=this.id,e=this.od,this.bb=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.bb.src=this.Pb(n),this.bb.style.display="none",document.body.appendChild(this.bb)},Jc.isAvailable=function(){return!(Lc||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.de)},h=Jc.prototype,h.Xb=function(){},h.Lb=function(){this.Na=!0,this.la&&(this.la.close(),this.la=null),this.bb&&(document.body.removeChild(this.bb),this.bb=null),this.Ka&&(clearTimeout(this.Ka),this.Ka=null)},h.Qa=function(){this.Na||(this.e("Longpoll is closing itself"),this.Lb(),this.S&&(this.S(this.ob),this.S=null))},h.close=function(){this.Na||(this.e("Longpoll is being closed."),this.Lb())},h.send=function(t){if(t=u(t),this.Ja+=t.length,uc(this.ea,"bytes_sent",t.length),t=sa(t),!fa(t))throw Error("encodeByteArray takes an array as a parameter");if(!Fb){Fb={},Gb={};for(var e=0;65>e;e++)Fb[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),Gb[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)}for(var e=Gb,n=[],r=0;r<t.length;r+=3){var i=t[r],o=r+1<t.length,a=o?t[r+1]:0,s=r+2<t.length,l=s?t[r+2]:0,c=i>>2,i=(3&i)<<4|a>>4,a=(15&a)<<2|l>>6,l=63&l;s||(l=64,o||(a=64)),n.push(e[c],e[i],e[a],e[l])}for(t=Ub(n.join(""),1840),e=0;e<t.length;e++)n=this.la,n.Fb.push({Yd:this.$c,be:t.length,bd:t[e]}),n.uc&&Pc(n),this.$c++},Mc.prototype.close=function(){if(this.uc=!1,this.Z){this.Z.Aa.body.innerHTML="";var t=this;setTimeout(function(){null!==t.Z&&(document.body.removeChild(t.Z),t.Z=null)},Math.floor(0))}var e=this.ia;e&&(this.ia=null,e())};var Vc=[Jc,Q];Xc.prototype.ud=function(t){hd(this,{t:"d",d:t})},Xc.prototype.dc=function(t){ed(this),this.Lc(t)},Xc.prototype.close=function(){2!==this.ma&&(this.e("Closing realtime connection."),this.ma=2,dd(this),this.S&&(this.S(),this.S=null))};var jd=0,ld=0;h=id.prototype,h.Fa=function(t,e,n){var r=++this.Xd;t={r:r,a:t,b:e},this.e(u(t)),v(this.R,"sendRequest_ call when we're not connected not allowed."),this.ka.ud(t),n&&(this.Jb[r]=n)},h.lb=function(t,e,n){if(this.La={Fd:t,dd:!1,aa:e,Rb:n},this.e("Authenticating using credential: "+this.La),pd(this),!(e=40==t.length))t:{var r;try{var i=t.split(".");if(3!==i.length){e=!1;break t}var o;e:{try{if("undefined"!=typeof atob){o=atob(i[1]);break e}}catch(a){K("base64DecodeIfNativeSupport failed: ",a)}o=null}null!==o&&(r=ra(o))}catch(s){K("isAdminAuthToken_ failed",s)}e="object"==typeof r&&!0===wa(r,"admin")}e&&(this.e("Admin auth credential detected.  Reducing max reconnect time."),this.Yb=3e4)},h.Ob=function(t){delete this.La,this.yb(!1),this.R&&this.Fa("unauth",{},function(e){t(e.s,e.d)})},h.Jc=function(t,e){this.R?td(this,"oc",t,null,e):this.zb.push({Oc:t,action:"oc",data:null,D:e})},h.put=function(t,e,n,r){vd(this,"p",t,e,n,r)},h.dc=function(t){if("r"in t){this.e("from server: "+u(t));var e=t.r,n=this.Jb[e];n&&(delete this.Jb[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&(e=t.a,n=t.b,this.e("handleServerMessage",e,n),"d"===e?this.ec(n.p,n.d,!1):"m"===e?this.ec(n.p,n.d,!0):"c"===e?yd(this,n.p,n.q):"ac"===e?(t=n.s,e=n.d,n=this.La,delete this.La,n&&n.Rb&&n.Rb(t,e),this.yb(!1)):"sd"===e?this.Rc?this.Rc(n):"msg"in n&&"undefined"!=typeof console&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: ")):Nb("Unrecognized action received from server: "+u(e)+"\nAre you using the latest client?"))}},h.Ab=function(t){this.e("connection ready"),this.R=!0,this.ub=(new Date).getTime(),this.Mc({serverTimeOffset:t-(new Date).getTime()}),pd(this);for(var e in this.ha)for(var n in this.ha[e])t=this.ha[e][n],nd(this,e,n,t.gb,t.D);for(e=0;e<this.T.length;e++)this.T[e]&&xd(this,e);for(;this.zb.length;)e=this.zb.shift(),td(this,e.action,e.Oc,e.data,e.D);this.cc(!0)},h.Sd=function(t){t&&!this.kb&&this.sa===this.Yb&&(this.e("Window became visible.  Reducing delay."),this.sa=1e3,this.ka||kd(this,0)),this.kb=t},h.Rd=function(t){t?(this.e("Browser went online.  Reconnecting."),this.sa=1e3,this.Ta=!0,this.ka||kd(this,0)):(this.e("Browser went offline.  Killing connection; don't reconnect."),this.Ta=!1,this.ka&&this.ka.close())},h.md=function(){this.e("data client disconnected"),this.R=!1,this.ka=null;for(var t=0;t<this.T.length;t++){var e=this.T[t];e&&"h"in e.qd&&e.Ud&&(e.D&&e.D("disconnect"),delete this.T[t],this.Cb--)}if(0===this.Cb&&(this.T=[]),this.Ta)this.kb?this.ub&&(3e4<(new Date).getTime()-this.ub&&(this.sa=1e3),this.ub=null):(this.e("Window isn't visible.  Delaying reconnect."),this.sa=this.Yb,this.Hc=(new Date).getTime()),t=Math.max(0,this.sa-((new Date).getTime()-this.Hc)),t*=Math.random(),this.e("Trying to reconnect in "+t+"ms"),kd(this,t),this.sa=Math.min(this.Yb,1.3*this.sa);else for(var n in this.Jb)delete this.Jb[n];this.cc(!1)},h.Ma=function(){this.Ta=!1,this.ka?this.ka.close():(this.Ya&&(clearTimeout(this.Ya),this.Ya=null),this.R&&this.md())},h.ib=function(){this.Ta=!0,this.sa=1e3,this.R||kd(this,0)},Ad.prototype.A=function(t){null!==this.n&&R(this.n,function(e,n){t(e,n)})},Ed.prototype.toString=function(){return this.$.toString()},Fd.prototype.set=function(t,e){var n=this,r=[];return sb(e,function(t){var e=t.path;t=t.ra;var i=Hb();J(I(n.Eb,e),i),T(n.L,e,t),r.push({path:e,Zd:i})}),r},Nd.prototype.Hb=function(){for(var t=0;t<this.Za.length;t++)if(this.Za[t]){var e=this.Za[t];this.Za[t]=null,Pd(e)}this.Za=[]},Qd.prototype.ic=function(t,e){e=this.jc(t,e),null!=e&&Td(this,e)},Qd.prototype.Hb=function(){this.Ac.Hb()},ka(Vd,Qd),Vd.prototype.jc=function(t,e){return this.i=t,this.sb&&null!=e&&e.push(new U("value",this.i)),e},Vd.prototype.pb=function(){return{}},ka($d,Ic),h=$d.prototype,h.setActive=function(t){this.xa=t},h.defaultView=function(){return ce(this)?this.get("default"):null},h.path=function(){return this.X},h.toString=function(){return tb(this.keys(),function(t){return"default"===t?"{}":t}).join("$")},h.gb=function(){var t=[];return R(this,function(e,n){t.push(n.Q)}),t},ka(ee,Qd),ee.prototype.jc=function(t,e){if(null===e)return e;var n=[],r=this.Q;m(r.da)&&n.push(m(r.wa)&&null!=r.wa?function(t,e){var n=Qb(e,r.da);return n>0||0===n&&0<=Rb(t,r.wa)}:function(t,e){return 0<=Qb(e,r.da)}),m(r.Ba)&&n.push(m(r.Xa)?function(t,e){var n=Qb(e,r.Ba);return 0>n||0===n&&0>=Rb(t,r.Xa)}:function(t,e){return 0>=Qb(e,r.Ba)});var i=null,o=null;if(m(this.Q.Da))if(m(this.Q.da)){if(i=fe(t,n,this.Q.Da,!1)){var a=t.N(i).k();n.push(function(t,e){var n=Qb(e,a);return 0>n||0===n&&0>=Rb(t,i)})}}else if(o=fe(t,n,this.Q.Da,!0)){var s=t.N(o).k();n.push(function(t,e){var n=Qb(e,s);return n>0||0===n&&0<=Rb(t,o)})}for(var u=[],l=[],c=[],f=[],p=0;p<e.length;p++){var h=e[p].ba,d=e[p].ua;switch(e[p].type){case"child_added":ge(n,h,d)&&(this.i=this.i.H(h,d),l.push(e[p]));break;case"child_removed":this.i.N(h).f()||(this.i=this.i.H(h,null),u.push(e[p]));break;case"child_changed":!this.i.N(h).f()&&ge(n,h,d)&&(this.i=this.i.H(h,d),f.push(e[p]));break;case"child_moved":var g=!this.i.N(h).f(),v=ge(n,h,d);g?v?(this.i=this.i.H(h,d),c.push(e[p])):(u.push(new U("child_removed",this.i.N(h),h)),this.i=this.i.H(h,null)):v&&(this.i=this.i.H(h,d),l.push(e[p]))}}var b=i||o;if(b){var y=(p=null!==o)?this.i.ed():this.i.gd(),$=!1,w=!1,E=this;(p?t.Bc:t.A).call(t,function(t,e){return w||null!==y||(w=!0),w&&$?!0:($?(u.push(new U("child_removed",E.i.N(t),t)),E.i=E.i.H(t,null)):w&&(l.push(new U("child_added",e,t)),E.i=E.i.H(t,e)),y===t&&(w=!0),void(t===b&&($=!0)))})}for(p=0;p<l.length;p++)n=l[p],h=this.i.fa(n.ba,n.ua),u.push(new U("child_added",n.ua,n.ba,h));for(p=0;p<c.length;p++)n=c[p],h=this.i.fa(n.ba,n.ua),u.push(new U("child_moved",n.ua,n.ba,h));for(p=0;p<f.length;p++)n=f[p],h=this.i.fa(n.ba,n.ua),u.push(new U("child_changed",n.ua,n.ba,h));return this.sb&&0<u.length&&u.push(new U("value",this.i)),u},ee.prototype.Ec=function(t){return this.i.N(t)!==M},ee.prototype.pb=function(t,e,n){var r={};this.i.O()||this.i.A(function(t){r[t]=3});var i=this.i;n=S(n,new F(""));var o=new Qa;J(I(o,this.Q.path),!0),e=M.ya(t,e);var a=this;return Xd(n,e,t,o,function(t,e,n){null!==n&&t.toString()===a.Q.path.toString()&&a.jc(e,n)}),this.i.O()?Wb(r,function(t,e){r[e]=2}):(this.i.A(function(t){A(r,t)||(r[t]=1)}),Wb(r,function(t,e){a.i.N(e).f()&&(r[e]=2)})),this.i=i,r},he.prototype.Qb=function(t,e,n,r,i){var o=t.path,a=I(this.na,o),s=a.j();null===s?(s=new $d,J(a,s)):v(!s.f(),"We shouldn't be storing empty QueryMaps");var u=t.Ra();if(s.contains(u))t=s.get(u),Rd(t,e,n,r,i);else{var l=this.g.$.K(o);t=ie(t,l),je(this,a,s,u,t),Rd(t,e,n,r,i),(e=(e=Ta(I(this.na,o),function(t){var e;return(e=t.j()&&t.j().defaultView())&&(e=t.j().defaultView().sb),e?!0:void 0},!0))||null===this.u&&!S(this.g,o).f())&&Ud(t)}t.Hb()},he.prototype.lc=function(t,e,n,r){var i=I(this.na,t.path).j();return null===i?null:me(this,i,t,e,n,r)},he.prototype.ic=function(t,e,n){t=I(this.na,t).j(),null!==t&&R(t,function(t,r){r.ic(e,n)})},he.prototype.pb=function(t,e,n,r){function i(t){Wb(t,function(t,e){o[e]=3===t?3:(wa(o,e)||t)===t?t:3})}var o={};return R(e,function(e,o){i(o.pb(t,n,r))}),n.O()||n.A(function(t){A(o,t)||(o[t]=4)}),o},h=we.prototype,h.toString=function(){return(this.M.nc?"https://":"http://")+this.M.host},h.name=function(){return this.M.Zb},h.ec=function(t,e,n){this.Sb++,this.jd&&(e=this.jd(t,e));var r,i,o=[];for(9<=t.length&&t.lastIndexOf(".priority")===t.length-9?(r=new F(t.substring(0,t.length-9)),i=S(this.g.ta,r).Ha(e),o.push(r)):n?(r=new F(t),i=S(this.g.ta,r),Wb(e,function(t,e){var n=new F(e);".priority"===e?i=i.Ha(t):(i=i.ya(n,O(t)),o.push(r.G(e)))})):(r=new F(t),i=O(e),o.push(r)),t=ve(this.I,r,i,this.g.L),e=!1,n=0;n<t.length;++n){var a=t[n];e=Gd(this.g,a.path,a.ra)||e}e&&(r=Ae(this,r)),W(this.I,r,o)},h.cc=function(t){xe(this,"connected",t),!1===t&&Be(this)},h.Mc=function(t){var e=this;Vb(t,function(t,n){xe(e,n,t)})},h.Dc=function(t){return t=new F(t),S(this.g.ta,t).hash()},h.yb=function(t){xe(this,"authenticated",t)},h.lb=function(t,e,n){"firebaseio-demo.com"===this.M.domain&&L("FirebaseRef.auth() not supported on demo (*.firebaseio-demo.com) Firebases. Please use on production (*.firebaseio.com) Firebases only."),this.u.lb(t,function(t,n){X(e,t,n)},function(t,e){if(L("auth() was canceled: "+e),n){var r=Error(e);r.code=t.toUpperCase(),n(r)}})},h.Ob=function(t){this.u.Ob(function(e,n){X(t,e,n)})},h.jb=function(t,e,n,r){this.e("set",{path:t.toString(),value:e,ja:n});var i=ze(this);e=O(e,n);var i=Md(e,i),i=ve(this.I,t,i,this.g.L),o=this.g.set(t,i),a=this;this.u.put(t.toString(),e.V(!0),function(e,n){"ok"!==e&&L("set at "+t+" failed: "+e),Jd(a.g,o),Hd(a.g,t);var i=Ae(a,t);W(a.I,i,[]),X(r,e,n)}),i=Ce(this,t),Ae(this,i),W(this.I,i,[t])},h.update=function(t,e,n){this.e("update",{path:t.toString(),value:e});var r,i=S(this.g.oa,t),o=!0,a=[],s=ze(this),u=[];for(r in e){var o=!1,l=O(e[r]),l=Md(l,s),i=i.H(r,l),c=t.G(r);a.push(c),l=ve(this.I,c,l,this.g.L),u=u.concat(this.g.set(t,l))}if(o)K("update() called with empty data.  Don't do anything."),X(n,"ok");else{var f=this;wd(this.u,t.toString(),e,function(e,r){"ok"!==e&&L("update at "+t+" failed: "+e),Jd(f.g,u),Hd(f.g,t);var i=Ae(f,t);W(f.I,i,[]),X(n,e,r)}),e=Ce(this,t),Ae(this,e),W(f.I,e,a)}},h.Sc=function(t,e,n){this.e("setPriority",{path:t.toString(),ja:e});var r=ze(this),r=Kd(e,r),r=S(this.g.L,t).Ha(r),r=ve(this.I,t,r,this.g.L),i=this.g.set(t,r),o=this;this.u.put(t.toString()+"/.priority",e,function(e,r){"permission_denied"===e&&L("setPriority at "+t+" failed: "+e),Jd(o.g,i),Hd(o.g,t);var a=Ae(o,t);W(o.I,a,[]),X(n,e,r)}),e=Ae(this,t),W(o.I,e,[])},h.Jc=function(t,e){var n=this;this.u.Jc(t.toString(),function(r,i){"ok"===r&&Cd(n.S,t),X(e,r,i)})},h.Qb=function(t,e,n,r,i){".info"===C(t.path)?this.Gc.Qb(t,e,n,r,i):this.I.Qb(t,e,n,r,i)},h.lc=function(t,e,n,r){if(".info"===C(t.path))this.Gc.lc(t,e,n,r);else{if(e=this.I.lc(t,e,n,r),n=null!==e){n=this.g,r=t.path;for(var i=[],o=0;o<e.length;++o)i[o]=S(n.ta,e[o]);for(T(n.ta,r,M),o=0;o<e.length;++o)T(n.ta,e[o],i[o]);n=Hd(n,r)}n&&(v(this.g.oa.$===this.I.bc,"We should have raised any outstanding events by now.  Else, we'll blow them away."),T(this.g.oa,t.path,S(this.g.L,t.path)),this.I.bc=this.g.oa.$)}},h.Ma=function(){this.u.Ma()},h.ib=function(){this.u.ib()},h.Tc=function(t){if("undefined"!=typeof console){t?(this.qc||(this.qc=new vc(this.ea)),t=this.qc.get()):t=this.ea.get();var e,n=ub(rc(t),function(t,e){return Math.max(e.length,t)},0);for(e in t){for(var r=t[e],i=e.length;n+2>i;i++)e+=" ";console.log(e+r)}}},h.Uc=function(t){uc(this.ea,t),this.xd.Vc[t]=!0},h.e=function(){K("r:"+this.u.id+":",arguments)},ca(Y),Y.prototype.Ma=function(){for(var t in this.hb)this.hb[t].Ma()},Y.prototype.interrupt=Y.prototype.Ma,Y.prototype.ib=function(){for(var t in this.hb)this.hb[t].ib()},Y.prototype.resume=Y.prototype.ib;var Z={Kd:function(t){var e=N.prototype.hash;N.prototype.hash=t;var n=bc.prototype.hash;return bc.prototype.hash=t,function(){N.prototype.hash=e,bc.prototype.hash=n}}};Z.hijackHash=Z.Kd,Z.Ra=function(t){return t.Ra()},Z.queryIdentifier=Z.Ra,Z.Nd=function(t){return t.m.u.ha},Z.listens=Z.Nd,Z.Vd=function(t){return t.m.u.ka},Z.refConnection=Z.Vd,Z.Ad=id,Z.DataConnection=Z.Ad,id.prototype.sendRequest=id.prototype.Fa,id.prototype.interrupt=id.prototype.Ma,Z.Bd=Xc,Z.RealTimeConnection=Z.Bd,Xc.prototype.sendRequest=Xc.prototype.ud,Xc.prototype.close=Xc.prototype.close,Z.zd=pb,Z.ConnectionTarget=Z.zd,Z.Id=function(){Kc=Cc=!0},Z.forceLongPolling=Z.Id,Z.Jd=function(){Lc=!0},Z.forceWebSockets=Z.Jd,Z.ae=function(t,e){t.m.u.Rc=e},Z.setSecurityDebugCallback=Z.ae,Z.Tc=function(t,e){t.m.Tc(e)},Z.stats=Z.Tc,Z.Uc=function(t,e){t.m.Uc(e)},Z.statsIncrementCounter=Z.Uc,Z.Sb=function(t){return t.m.Sb},Z.dataUpdateCount=Z.Sb,Z.Ld=function(t,e){t.m.jd=e},Z.interceptServerData=Z.Ld,$.prototype.cancel=function(t){x("Firebase.onDisconnect().cancel",0,1,arguments.length),z("Firebase.onDisconnect().cancel",1,t,!0),this.Ib.Jc(this.X,t)},$.prototype.cancel=$.prototype.cancel,$.prototype.remove=function(t){x("Firebase.onDisconnect().remove",0,1,arguments.length),B("Firebase.onDisconnect().remove",this.X),z("Firebase.onDisconnect().remove",1,t,!0),De(this.Ib,this.X,null,t)},$.prototype.remove=$.prototype.remove,$.prototype.set=function(t,e){x("Firebase.onDisconnect().set",1,2,arguments.length),B("Firebase.onDisconnect().set",this.X),Aa("Firebase.onDisconnect().set",t,!1),z("Firebase.onDisconnect().set",2,e,!0),De(this.Ib,this.X,t,e)},$.prototype.set=$.prototype.set,$.prototype.jb=function(t,e,n){if(x("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),B("Firebase.onDisconnect().setWithPriority",this.X),Aa("Firebase.onDisconnect().setWithPriority",t,!1),Fa("Firebase.onDisconnect().setWithPriority",2,e,!1),z("Firebase.onDisconnect().setWithPriority",3,n,!0),".length"===this.Ea||".keys"===this.Ea)throw"Firebase.onDisconnect().setWithPriority failed: "+this.Ea+" is a read-only object.";Ee(this.Ib,this.X,t,e,n)},$.prototype.setWithPriority=$.prototype.jb,$.prototype.update=function(t,e){if(x("Firebase.onDisconnect().update",1,2,arguments.length),B("Firebase.onDisconnect().update",this.X),ea(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,L("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ea("Firebase.onDisconnect().update",t),z("Firebase.onDisconnect().update",2,e,!0),Fe(this.Ib,this.X,t,e)},$.prototype.update=$.prototype.update;var Se=function(){var t=0,e=[];return function(n){var r=n===t;t=n;for(var i=Array(8),o=7;o>=0;o--)i[o]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(n%64),n=Math.floor(n/64);if(v(0===n,"Cannot push at time == 0"),n=i.join(""),r){for(o=11;o>=0&&63===e[o];o--)e[o]=0;e[o]++}else for(o=0;12>o;o++)e[o]=Math.floor(64*Math.random());for(o=0;12>o;o++)n+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(e[o]);return v(20===n.length,"NextPushId: Length should be 20."),n}}();ka(E,D);var Te=E,Ue=["Firebase"],Ve=aa;Ue[0]in Ve||!Ve.execScript||Ve.execScript("var "+Ue[0]);for(var We;Ue.length&&(We=Ue.shift());)!Ue.length&&m(Te)?Ve[We]=Te:Ve=Ve[We]?Ve[We]:Ve[We]={};E.prototype.name=function(){return x("Firebase.name",0,0,arguments.length),this.path.f()?null:Na(this.path)},E.prototype.name=E.prototype.name,E.prototype.G=function(t){if(x("Firebase.child",1,1,arguments.length),ga(t))t=String(t);else if(!(t instanceof F))if(null===C(this.path)){var e=t;e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ia("Firebase.child",e)}else Ia("Firebase.child",t);return new E(this.m,this.path.G(t))},E.prototype.child=E.prototype.G,E.prototype.parent=function(){x("Firebase.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new E(this.m,t)},E.prototype.parent=E.prototype.parent,E.prototype.root=function(){x("Firebase.ref",0,0,arguments.length);for(var t=this;null!==t.parent();)t=t.parent();return t},E.prototype.root=E.prototype.root,E.prototype.toString=function(){x("Firebase.toString",0,0,arguments.length);var t;if(null===this.parent())t=this.m.toString();else{t=this.parent().toString()+"/";var e=this.name();t+=encodeURIComponent(String(e))}return t},E.prototype.toString=E.prototype.toString,E.prototype.set=function(t,e){x("Firebase.set",1,2,arguments.length),B("Firebase.set",this.path),Aa("Firebase.set",t,!1),z("Firebase.set",2,e,!0),this.m.jb(this.path,t,null,e)},E.prototype.set=E.prototype.set,E.prototype.update=function(t,e){if(x("Firebase.update",1,2,arguments.length),B("Firebase.update",this.path),ea(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,L("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}if(Ea("Firebase.update",t),z("Firebase.update",2,e,!0),A(t,".priority"))throw Error("update() does not currently support updating .priority.");this.m.update(this.path,t,e)},E.prototype.update=E.prototype.update,E.prototype.jb=function(t,e,n){if(x("Firebase.setWithPriority",2,3,arguments.length),B("Firebase.setWithPriority",this.path),Aa("Firebase.setWithPriority",t,!1),Fa("Firebase.setWithPriority",2,e,!1),z("Firebase.setWithPriority",3,n,!0),".length"===this.name()||".keys"===this.name())throw"Firebase.setWithPriority failed: "+this.name()+" is a read-only object.";this.m.jb(this.path,t,e,n)},E.prototype.setWithPriority=E.prototype.jb,E.prototype.remove=function(t){x("Firebase.remove",0,1,arguments.length),B("Firebase.remove",this.path),z("Firebase.remove",1,t,!0),this.set(null,t)},E.prototype.remove=E.prototype.remove,E.prototype.transaction=function(t,e,n){if(x("Firebase.transaction",1,3,arguments.length),B("Firebase.transaction",this.path),z("Firebase.transaction",1,t,!1),z("Firebase.transaction",2,e,!0),m(n)&&"boolean"!=typeof n)throw Error(y("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.name()||".keys"===this.name())throw"Firebase.transaction failed: "+this.name()+" is a read-only object.";"undefined"==typeof n&&(n=!0),He(this.m,this.path,t,e,n)},E.prototype.transaction=E.prototype.transaction,E.prototype.Sc=function(t,e){x("Firebase.setPriority",1,2,arguments.length),B("Firebase.setPriority",this.path),Fa("Firebase.setPriority",1,t,!1),z("Firebase.setPriority",2,e,!0),this.m.Sc(this.path,t,e)},E.prototype.setPriority=E.prototype.Sc,E.prototype.push=function(t,e){x("Firebase.push",0,2,arguments.length),B("Firebase.push",this.path),Aa("Firebase.push",t,!0),z("Firebase.push",2,e,!0);var n=ye(this.m),n=Se(n),n=this.G(n);return"undefined"!=typeof t&&null!==t&&n.set(t,e),n},E.prototype.push=E.prototype.push,E.prototype.ia=function(){return new $(this.m,this.path,this.name())},E.prototype.onDisconnect=E.prototype.ia,E.prototype.Wd=function(){L("FirebaseRef.removeOnDisconnect() being deprecated. Please use FirebaseRef.onDisconnect().remove() instead."),this.ia().remove(),Ge(this.m)},E.prototype.removeOnDisconnect=E.prototype.Wd,E.prototype.$d=function(t){L("FirebaseRef.setOnDisconnect(value) being deprecated. Please use FirebaseRef.onDisconnect().set(value) instead."),this.ia().set(t),Ge(this.m)},E.prototype.setOnDisconnect=E.prototype.$d,E.prototype.lb=function(t,e,n){if(x("Firebase.auth",1,3,arguments.length),!p(t))throw Error(y("Firebase.auth",1,!1)+"must be a valid credential (a string).");z("Firebase.auth",2,e,!0),z("Firebase.auth",3,e,!0),this.m.lb(t,e,n)},E.prototype.auth=E.prototype.lb,E.prototype.Ob=function(t){x("Firebase.unauth",0,1,arguments.length),z("Firebase.unauth",1,t,!0),this.m.Ob(t)},E.prototype.unauth=E.prototype.Ob,E.goOffline=function(){x("Firebase.goOffline",0,0,arguments.length),Y.qb().Ma()},E.goOnline=function(){x("Firebase.goOnline",0,0,arguments.length),Y.qb().ib()},E.enableLogging=Lb,E.ServerValue={TIMESTAMP:{".sv":"timestamp"}},E.SDK_VERSION="1.0.24",E.INTERNAL=Z,E.Context=Y}(),function(){function addListener(t,e,n){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener&&t.addEventListener(e,n,!1)}function removeListener(t,e,n){t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener&&t.removeEventListener(e,n,!1)}function extractOrigin(t){/^https?:\/\//.test(t)||(t=window.location.href);var e=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(t);return e?e[1]:t}function findRelay(){for(var t=window.location,e=window.opener.frames,t=t.protocol+"//"+t.host,n=e.length-1;n>=0;n--)try{if(0===e[n].location.href.indexOf(t)&&e[n].name===RELAY_FRAME_NAME)return e[n]}catch(r){}}var COMPILED=!0,goog=goog||{};goog.global=this,goog.exportPath_=function(t,e,n){t=t.split("."),n=n||goog.global,t[0]in n||!n.execScript||n.execScript("var "+t[0]);for(var r;t.length&&(r=t.shift());)t.length||void 0===e?n=n[r]?n[r]:n[r]={}:n[r]=e},goog.define=function(t,e){var n=e;COMPILED||goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,t)&&(n=goog.global.CLOSURE_DEFINES[t]),goog.exportPath_(t,n)},goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.provide=function(t){if(!COMPILED){if(goog.isProvided_(t))throw Error('Namespace "'+t+'" already declared.');delete goog.implicitNamespaces_[t];for(var e=t;(e=e.substring(0,e.lastIndexOf(".")))&&!goog.getObjectByName(e);)goog.implicitNamespaces_[e]=!0}goog.exportPath_(t)},goog.setTestOnly=function(t){if(COMPILED&&!goog.DEBUG)throw t=t||"",Error(": "+t)},goog.forwardDeclare=function(){},COMPILED||(goog.isProvided_=function(t){return!goog.implicitNamespaces_[t]&&goog.isDefAndNotNull(goog.getObjectByName(t))},goog.implicitNamespaces_={}),goog.getObjectByName=function(t,e){for(var n,r=t.split("."),i=e||goog.global;n=r.shift();){if(!goog.isDefAndNotNull(i[n]))return null;i=i[n]}return i},goog.globalize=function(t,e){var n,r=e||goog.global;for(n in t)r[n]=t[n]},goog.addDependency=function(t,e,n){if(goog.DEPENDENCIES_ENABLED){var r;t=t.replace(/\\/g,"/");for(var i=goog.dependencies_,o=0;r=e[o];o++)i.nameToPath[r]=t,t in i.pathToNames||(i.pathToNames[t]={}),i.pathToNames[t][r]=!0;for(r=0;e=n[r];r++)t in i.requires||(i.requires[t]={}),i.requires[t][e]=!0}},goog.ENABLE_DEBUG_LOADER=!0,goog.require=function(t){if(!COMPILED&&!goog.isProvided_(t)){if(goog.ENABLE_DEBUG_LOADER){var e=goog.getPathFromDeps_(t);if(e)return goog.included_[e]=!0,void goog.writeScripts_()}throw t="goog.require could not find: "+t,goog.global.console&&goog.global.console.error(t),Error(t)}},goog.basePath="",goog.nullFunction=function(){},goog.identityFunction=function(t){return t},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(t){t.getInstance=function(){return t.instance_?t.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=t),t.instance_=new t)}},goog.instantiatedSingletons_=[],goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.DEPENDENCIES_ENABLED&&(goog.included_={},goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var t=goog.global.document;return"undefined"!=typeof t&&"write"in t},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var t=goog.global.document.getElementsByTagName("script"),e=t.length-1;e>=0;--e){var n=t[e].src,r=n.lastIndexOf("?"),r=-1==r?n.length:r;if("base.js"==n.substr(r-7,7)){goog.basePath=n.substr(0,r-7);break}}},goog.importScript_=function(t){var e=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;!goog.dependencies_.written[t]&&e(t)&&(goog.dependencies_.written[t]=!0)},goog.writeScriptTag_=function(t){if(goog.inHtmlDocument_()){var e=goog.global.document;if("complete"==e.readyState){if(/\bdeps.js$/.test(t))return!1;throw Error('Cannot write "'+t+'" after document load')}return e.write('<script type="text/javascript" src="'+t+'"></script>'),!0}return!1},goog.writeScripts_=function(){function t(e){if(!(e in i.written)){if(!(e in i.visited)&&(i.visited[e]=!0,e in i.requires))for(var o in i.requires[e])if(!goog.isProvided_(o)){if(!(o in i.nameToPath))throw Error("Undefined nameToPath for "+o);t(i.nameToPath[o])}e in r||(r[e]=!0,n.push(e))}}var e,n=[],r={},i=goog.dependencies_;for(e in goog.included_)i.written[e]||t(e);for(e=0;e<n.length;e++){if(!n[e])throw Error("Undefined script input");goog.importScript_(goog.basePath+n[e])}},goog.getPathFromDeps_=function(t){return t in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[t]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.typeOf=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e},goog.isDef=function(t){return void 0!==t},goog.isNull=function(t){return null===t},goog.isDefAndNotNull=function(t){return null!=t},goog.isArray=function(t){return"array"==goog.typeOf(t)},goog.isArrayLike=function(t){var e=goog.typeOf(t);return"array"==e||"object"==e&&"number"==typeof t.length},goog.isDateLike=function(t){return goog.isObject(t)&&"function"==typeof t.getFullYear},goog.isString=function(t){return"string"==typeof t},goog.isBoolean=function(t){return"boolean"==typeof t},goog.isNumber=function(t){return"number"==typeof t},goog.isFunction=function(t){return"function"==goog.typeOf(t)},goog.isObject=function(t){var e=typeof t;return"object"==e&&null!=t||"function"==e},goog.getUid=function(t){return t[goog.UID_PROPERTY_]||(t[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(t){return!!t[goog.UID_PROPERTY_]},goog.removeUid=function(t){"removeAttribute"in t&&t.removeAttribute(goog.UID_PROPERTY_);try{delete t[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(t){var e=goog.typeOf(t);if("object"==e||"array"==e){if(t.clone)return t.clone();var n,e="array"==e?[]:{};for(n in t)e[n]=goog.cloneObject(t[n]);return e}return t},goog.bindNative_=function(t){return t.call.apply(t.bind,arguments)},goog.bindJs_=function(t,e){if(!t)throw Error();
if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),t.apply(e,r)}}return function(){return t.apply(e,arguments)}},goog.bind=function(){return goog.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bindNative_:goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),t.apply(this,n)}},goog.mixin=function(t,e){for(var n in e)t[n]=e[n]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(t){if(goog.global.execScript)goog.global.execScript(t,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),"undefined"!=typeof goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_)goog.global.eval(t);else{var e=goog.global.document,n=e.createElement("script");n.type="text/javascript",n.defer=!1,n.appendChild(e.createTextNode(t)),e.body.appendChild(n),e.body.removeChild(n)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(t,e){var n=function(t){return goog.cssNameMapping_[t]||t},r=function(t){t=t.split("-");for(var e=[],r=0;r<t.length;r++)e.push(n(t[r]));return e.join("-")},r=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?n:r:function(t){return t};return e?t+"-"+r(e):r(t)},goog.setCssNameMapping=function(t,e){goog.cssNameMapping_=t,goog.cssNameMappingStyle_=e},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(t,e){var n,r=e||{};for(n in r){var i=(""+r[n]).replace(/\$/g,"$$$$");t=t.replace(RegExp("\\{\\$"+n+"\\}","gi"),i)}return t},goog.getMsgWithFallback=function(t){return t},goog.exportSymbol=function(t,e,n){goog.exportPath_(t,e,n)},goog.exportProperty=function(t,e,n){t[e]=n},goog.inherits=function(t,e){function n(){}n.prototype=e.prototype,t.superClass_=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.base=function(t,n){var r=Array.prototype.slice.call(arguments,2);return e.prototype[n].apply(t,r)}},goog.base=function(t,e){var n=arguments.callee.caller;if(goog.DEBUG&&!n)throw Error("arguments.caller not defined.  goog.base() expects not to be running in strict mode. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(n.superClass_)return n.superClass_.constructor.apply(t,Array.prototype.slice.call(arguments,1));for(var r=Array.prototype.slice.call(arguments,2),i=!1,o=t.constructor;o;o=o.superClass_&&o.superClass_.constructor)if(o.prototype[e]===n)i=!0;else if(i)return o.prototype[e].apply(t,r);if(t[e]===n)return t.constructor.prototype[e].apply(t,r);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(t){t.call(goog.global)};var fb={simplelogin:{}};fb.simplelogin.Vars_=function(){this.apiHost="https://auth.firebase.com"},fb.simplelogin.Vars_.prototype.setApiHost=function(t){this.apiHost=t},fb.simplelogin.Vars_.prototype.getApiHost=function(){return this.apiHost},fb.simplelogin.Vars=new fb.simplelogin.Vars_,goog.json={},goog.json.USE_NATIVE_JSON=!1,goog.json.isValid_=function(t){return/^\s*$/.test(t)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(t.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))},goog.json.parse=goog.json.USE_NATIVE_JSON?goog.global.JSON.parse:function(a){if(a=String(a),goog.json.isValid_(a))try{return eval("("+a+")")}catch(d){}throw Error("Invalid JSON string: "+a)},goog.json.unsafeParse=goog.json.USE_NATIVE_JSON?goog.global.JSON.parse:function(a){return eval("("+a+")")},goog.json.serialize=goog.json.USE_NATIVE_JSON?goog.global.JSON.stringify:function(t,e){return new goog.json.Serializer(e).serialize(t)},goog.json.Serializer=function(t){this.replacer_=t},goog.json.Serializer.prototype.serialize=function(t){var e=[];return this.serialize_(t,e),e.join("")},goog.json.Serializer.prototype.serialize_=function(t,e){switch(typeof t){case"string":this.serializeString_(t,e);break;case"number":this.serializeNumber_(t,e);break;case"boolean":e.push(t);break;case"undefined":e.push("null");break;case"object":if(null==t){e.push("null");break}if(goog.isArray(t)){this.serializeArray(t,e);break}this.serializeObject_(t,e);break;case"function":break;default:throw Error("Unknown type: "+typeof t)}},goog.json.Serializer.charToJsonCharCache_={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},goog.json.Serializer.charsToReplace_=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,goog.json.Serializer.prototype.serializeString_=function(t,e){e.push('"',t.replace(goog.json.Serializer.charsToReplace_,function(t){if(t in goog.json.Serializer.charToJsonCharCache_)return goog.json.Serializer.charToJsonCharCache_[t];var e=t.charCodeAt(0),n="\\u";return 16>e?n+="000":256>e?n+="00":4096>e&&(n+="0"),goog.json.Serializer.charToJsonCharCache_[t]=n+e.toString(16)}),'"')},goog.json.Serializer.prototype.serializeNumber_=function(t,e){e.push(isFinite(t)&&!isNaN(t)?t:"null")},goog.json.Serializer.prototype.serializeArray=function(t,e){var n=t.length;e.push("[");for(var r="",i=0;n>i;i++)e.push(r),r=t[i],this.serialize_(this.replacer_?this.replacer_.call(t,String(i),r):r,e),r=",";e.push("]")},goog.json.Serializer.prototype.serializeObject_=function(t,e){e.push("{");var n,r="";for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];"function"!=typeof i&&(e.push(r),this.serializeString_(n,e),e.push(":"),this.serialize_(this.replacer_?this.replacer_.call(t,n,i):i,e),r=",")}e.push("}")},fb.simplelogin.util={},fb.simplelogin.util.json={},fb.simplelogin.util.json.parse=function(t){return"undefined"!=typeof JSON&&goog.isDef(JSON.parse)?JSON.parse(t):goog.json.parse(t)},fb.simplelogin.util.json.stringify=function(t){return"undefined"!=typeof JSON&&goog.isDef(JSON.stringify)?JSON.stringify(t):goog.json.serialize(t)},fb.simplelogin.transports={},fb.simplelogin.transports.Transport={},fb.simplelogin.Transport=function(){},fb.simplelogin.Transport.prototype.open=function(){},fb.simplelogin.transports.Popup={},fb.simplelogin.Popup=function(){},fb.simplelogin.Popup.prototype.open=function(){},fb.simplelogin.util.misc={},fb.simplelogin.util.misc.parseUrl=function(t){var e=document.createElement("a");return e.href=t,{protocol:e.protocol.replace(":",""),host:e.hostname,port:e.port,query:e.search,params:fb.simplelogin.util.misc.parseQuerystring(e.search),hash:e.hash.replace("#",""),path:e.pathname.replace(/^([^\/])/,"/$1")}},fb.simplelogin.util.misc.parseQuerystring=function(t){var e={};t=t.replace(/^\?/,"").split("&");for(var n=0;n<t.length;n++)if(t[n]){var r=t[n].split("=");e[r[0]]=r[1]}return e},fb.simplelogin.util.misc.parseSubdomain=function(t){var e="";try{var n=fb.simplelogin.util.misc.parseUrl(t).host.split(".");2<n.length&&(e=n.slice(0,-2).join("."))}catch(r){}return e},fb.simplelogin.util.misc.warn=function(t){"undefined"!=typeof console&&("undefined"!=typeof console.warn?console.warn(t):console.log(t))};var popupTimeout=12e4;fb.simplelogin.transports.CordovaInAppBrowser_=function(){},fb.simplelogin.transports.CordovaInAppBrowser_.prototype.open=function(t,e,n){callbackInvoked=!1;var r=function(){var t=Array.prototype.slice.apply(arguments);callbackInvoked||(callbackInvoked=!0,n.apply(null,t))},i=window.open(t+"&transport=internal-redirect-hash","blank","location=no");i.addEventListener("loadstop",function(t){var e;if(t&&t.url&&(t=fb.simplelogin.util.misc.parseUrl(t.url),"/blank/page.html"===t.path)){i.close();try{var n=fb.simplelogin.util.misc.parseQuerystring(t.hash);t={};for(var o in n)t[o]=fb.simplelogin.util.json.parse(decodeURIComponent(n[o]));e=t}catch(a){}e&&e.token&&e.user?r(null,e):r(e&&e.error?e.error:{code:"RESPONSE_PAYLOAD_ERROR",message:"Unable to parse response payload for PhoneGap."})}}),i.addEventListener("exit",function(){r({code:"USER_DENIED",message:"User cancelled the authentication request."})}),setTimeout(function(){i&&i.close&&i.close()},popupTimeout)},fb.simplelogin.transports.CordovaInAppBrowser=new fb.simplelogin.transports.CordovaInAppBrowser_,fb.simplelogin.Errors={};var messagePrefix="FirebaseSimpleLogin: ",errors={UNKNOWN_ERROR:"An unknown error occurred.",INVALID_EMAIL:"Invalid email specified.",INVALID_PASSWORD:"Invalid password specified.",USER_DENIED:"User cancelled the authentication request.",RESPONSE_PAYLOAD_ERROR:"Unable to parse response payload.",TRIGGER_IO_TABS:'The "forge.tabs" module required when using Firebase Simple Login and                               Trigger.io. Without this module included and enabled, login attempts to                               OAuth authentication providers will not be able to complete.'};fb.simplelogin.Errors.format=function(){var t,e,n={},r=arguments;if(2===r.length)t=r[0],e=r[1];else if(1===r.length)if("object"==typeof r[0]&&r[0].code&&r[0].message){if(0===r[0].message.indexOf(messagePrefix))return r[0];t=r[0].code,e=r[0].message,n=r[0].data}else"string"==typeof r[0]&&(t=r[0],e=errors[t]);else t="UNKNOWN_ERROR",e=errors[t];return e=Error(messagePrefix+e),e.code=t,n&&(e.data=n),e};var RELAY_FRAME_NAME="__winchan_relay_frame",CLOSE_CMD="die",isInternetExplorer=function(){var t,e=-1,n=navigator.userAgent;return"Microsoft Internet Explorer"===navigator.appName?(t=/MSIE ([0-9]{1,}[\.0-9]{0,})/,(t=n.match(t))&&1<t.length&&(e=parseFloat(t[1]))):-1<n.indexOf("Trident")&&(t=/rv:([0-9]{2,2}[\.0-9]{0,})/,(t=n.match(t))&&1<t.length&&(e=parseFloat(t[1]))),e>=8}();fb.simplelogin.transports.WinChan_=function(){},fb.simplelogin.transports.WinChan_.prototype.open=function(t,e,n){function r(t){if(a&&document.body.removeChild(a),a=void 0,c&&(c=clearInterval(c)),removeListener(window,"message",i),removeListener(window,"unload",r),l&&!t)try{l.close()}catch(e){u.postMessage(CLOSE_CMD,s)}l=u=void 0}function i(t){if(t.origin===s)try{var e=fb.simplelogin.util.json.parse(t.data);"ready"===e.a?u.postMessage(f,s):"error"===e.a?(r(),n&&(n(e.d),n=null)):"response"===e.a&&(r(e.forceKeepWindowOpen),n&&(n(null,e.d),n=null))}catch(i){}}if(!n)throw"missing required callback argument";e.url=t;var o;e.url||(o="missing required 'url' parameter"),e.relay_url||(o="missing required 'relay_url' parameter"),o&&setTimeout(function(){n(o)},0),e.window_name||(e.window_name=null),(!e.window_features||fb.simplelogin.util.env.isFennec())&&(e.window_features=void 0);var a,s=extractOrigin(e.url);if(s!==extractOrigin(e.relay_url))return setTimeout(function(){n("invalid arguments: origin of url and relay_url must match")},0);var u;isInternetExplorer&&(a=document.createElement("iframe"),a.setAttribute("src",e.relay_url),a.style.display="none",a.setAttribute("name",RELAY_FRAME_NAME),document.body.appendChild(a),u=a.contentWindow);var l=window.open(e.url,e.window_name,e.window_features);u||(u=l);var c=setInterval(function(){l&&l.closed&&(r(),n&&(n("unknown closed window"),n=null))},500),f=fb.simplelogin.util.json.stringify({a:"request",d:e.params});return addListener(window,"unload",r),addListener(window,"message",i),{close:r,focus:function(){if(l)try{l.focus()}catch(t){}}}},goog.exportSymbol("fb.simplelogin.transports.WinChan_.prototype.open",fb.simplelogin.transports.WinChan_.prototype.open),fb.simplelogin.transports.WinChan_.prototype.onOpen=function(t){function e(t){t=fb.simplelogin.util.json.stringify(t),isInternetExplorer?o.doPost(t,i):o.postMessage(t,i)}function n(r){var o;try{o=fb.simplelogin.util.json.parse(r.data)}catch(s){}o&&"request"===o.a&&(removeListener(window,"message",n),i=r.origin,t&&setTimeout(function(){t(i,o.d,function(n,r){a=!r,t=void 0,e({a:"response",d:n,forceKeepWindowOpen:r})})},0))}function r(t){if(a&&t.data===CLOSE_CMD)try{window.close()}catch(e){}}var i="*",o=isInternetExplorer?findRelay():window.opener,a=!0;if(!o)throw"can't find relay frame";addListener(isInternetExplorer?o:window,"message",n),addListener(isInternetExplorer?o:window,"message",r);try{e({a:"ready"})}catch(s){addListener(o,"load",function(){e({a:"ready"})})}var u=function(){try{removeListener(isInternetExplorer?o:window,"message",r)}catch(n){}t&&e({a:"error",d:"client closed window"}),t=void 0;try{window.close()}catch(i){}};return addListener(window,"unload",u),{detach:function(){removeListener(window,"unload",u)}}},goog.exportSymbol("fb.simplelogin.transports.WinChan_.prototype.onOpen",fb.simplelogin.transports.WinChan_.prototype.onOpen),fb.simplelogin.transports.WinChan_.prototype.isAvailable=function(){return fb.simplelogin.util.json&&fb.simplelogin.util.json.parse&&fb.simplelogin.util.json.stringify&&window.postMessage},fb.simplelogin.transports.WinChan=new fb.simplelogin.transports.WinChan_,fb.simplelogin.transports.TriggerIoTab_=function(){},fb.simplelogin.transports.TriggerIoTab_.prototype.open=function(t,e,n){callbackInvoked=!1;var r=function(){var t=Array.prototype.slice.apply(arguments);callbackInvoked||(callbackInvoked=!0,n.apply(null,t))};forge.tabs.openWithOptions({url:t+"&transport=internal-redirect-hash",pattern:fb.simplelogin.Vars.getApiHost()+"/blank/page*"},function(t){var e;if(t&&t.url)try{var n=fb.simplelogin.util.misc.parseUrl(t.url),i=fb.simplelogin.util.misc.parseQuerystring(n.hash);t={};for(var o in i)t[o]=fb.simplelogin.util.json.parse(decodeURIComponent(i[o]));e=t}catch(a){}e&&e.token&&e.user?r(null,e):r(e&&e.error?e.error:{code:"RESPONSE_PAYLOAD_ERROR",message:"Unable to parse response payload for Trigger.io."})},function(){r({code:"UNKNOWN_ERROR",message:"An unknown error occurred for Trigger.io."})})},fb.simplelogin.transports.TriggerIoTab=new fb.simplelogin.transports.TriggerIoTab_;var b,c;!function(){var t={},e={};b=function(e,n,r){t[e]={deps:n,callback:r}},c=function(n){function r(t){if("."!==t.charAt(0))return t;t=t.split("/");for(var e=n.split("/").slice(0,-1),r=0,i=t.length;i>r;r++){var o=t[r];".."===o?e.pop():"."!==o&&e.push(o)}return e.join("/")}if(e[n])return e[n];if(e[n]={},!t[n])throw Error("Could not find module "+n);for(var i,o=t[n],a=o.deps,o=o.callback,s=[],u=0,l=a.length;l>u;u++)s.push("exports"===a[u]?i={}:c(r(a[u])));return a=o.apply(this,s),e[n]=i||a},c.entries=t}(),b("rsvp/all-settled",["./promise","./utils","exports"],function(t,e,n){var r=t["default"],i=e.isArray,o=e.isNonThenable;n["default"]=function(t,e){return new r(function(e){function n(t){return function(e){s(t,{state:"fulfilled",value:e})}}function a(t){return function(e){s(t,{state:"rejected",reason:e})}}function s(t,n){c[t]=n,0===--l&&e(c)}if(!i(t))throw new TypeError("You must pass an array to allSettled.");var u,l=t.length;if(0===l)return void e([]);for(var c=Array(l),f=0;f<t.length;f++)u=t[f],o(u)?s(f,{state:"fulfilled",value:u}):r.resolve(u).then(n(f),a(f))},e)}}),b("rsvp/all",["./promise","exports"],function(t,e){var n=t["default"];e["default"]=function(t,e){return n.all(t,e)}}),b("rsvp/asap",["exports"],function(t){function e(){return function(){process.nextTick(i)}}function n(){var t=0,e=new a(i),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function r(){return function(){setTimeout(i,1)}}function i(){for(var t=0;t<s.length;t++){var e=s[t];e[0](e[1])}s.length=0}t["default"]=function(t,e){1===s.push([t,e])&&o()};var o;t="undefined"!=typeof window?window:{};var a=t.MutationObserver||t.WebKitMutationObserver,s=[];o="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?e():a?n():r()}),b("rsvp/config",["./events","exports"],function(t,e){var n={instrument:!1};t["default"].mixin(n),e.config=n,e.configure=function(t,e){return"onerror"===t?void n.on("error",e):2!==arguments.length?n[t]:void(n[t]=e)}}),b("rsvp/defer",["./promise","exports"],function(t,e){var n=t["default"];e["default"]=function(t){var e={};return e.promise=new n(function(t,n){e.resolve=t,e.reject=n},t),e}}),b("rsvp/events",["exports"],function(t){function e(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1}function n(t){var e=t._promiseCallbacks;return e||(e=t._promiseCallbacks={}),e}t["default"]={mixin:function(t){return t.on=this.on,t.off=this.off,t.trigger=this.trigger,t._promiseCallbacks=void 0,t},on:function(t,r){var i,o=n(this);(i=o[t])||(i=o[t]=[]),-1===e(i,r)&&i.push(r)},off:function(t,r){var i,o,a=n(this);return r?(i=a[t],o=e(i,r),void(-1!==o&&i.splice(o,1))):void(a[t]=[])},trigger:function(t,e){var r;if(r=n(this)[t])for(var i=0;i<r.length;i++)r[i](e)}}}),b("rsvp/filter",["./promise","./utils","exports"],function(t,e,n){var r=t["default"],i=e.isFunction;n["default"]=function(t,e,n){return r.all(t,n).then(function(t){if(!i(e))throw new TypeError("You must pass a function as filter's second argument.");for(var o=t.length,a=Array(o),s=0;o>s;s++)a[s]=e(t[s]);return r.all(a,n).then(function(e){for(var n=Array(o),r=0,i=0;o>i;i++)!0===e[i]&&(n[r]=t[i],r++);return n.length=r,n})})}}),b("rsvp/hash-settled",["./promise","./utils","exports"],function(t,e,n){var r=t["default"],i=e.isNonThenable,o=e.keysOf;n["default"]=function(t){return new r(function(e){function n(t){return function(e){s(t,{state:"fulfilled",value:e})}}function a(t){return function(e){s(t,{state:"rejected",reason:e})}}function s(t,n){c[t]=n,0===--p&&e(c)}var u,l,c={},f=o(t),p=f.length;if(0===p)return void e(c);for(var h=0;h<f.length;h++)l=f[h],u=t[l],i(u)?s(l,{state:"fulfilled",value:u}):r.resolve(u).then(n(l),a(l))})}}),b("rsvp/hash",["./promise","./utils","exports"],function(t,e,n){var r=t["default"],i=e.isNonThenable,o=e.keysOf;n["default"]=function(t){return new r(function(e,n){function a(t){return function(n){c[t]=n,0===--p&&e(c)}}function s(t){p=0,n(t)}var u,l,c={},f=o(t),p=f.length;if(0===p)return void e(c);for(var h=0;h<f.length;h++)l=f[h],u=t[l],i(u)?(c[l]=u,0===--p&&e(c)):r.resolve(u).then(a(l),s)})}}),b("rsvp/instrument",["./config","./utils","exports"],function(t,e,n){var r=t.config,i=e.now;n["default"]=function(t,e,n){try{r.trigger(t,{guid:e._guidKey+e._id,eventName:t,detail:e._detail,childGuid:n&&e._guidKey+n._id,label:e._label,timeStamp:i(),stack:Error(e._label).stack})}catch(o){setTimeout(function(){throw o},0)}}}),b("rsvp/map",["./promise","./utils","exports"],function(t,e,n){var r=t["default"],i=(e.isArray,e.isFunction);n["default"]=function(t,e,n){return r.all(t,n).then(function(t){if(!i(e))throw new TypeError("You must pass a function as map's second argument.");for(var o=t.length,a=Array(o),s=0;o>s;s++)a[s]=e(t[s]);return r.all(a,n)})}}),b("rsvp/node",["./promise","./utils","exports"],function(t,e,n){var r=t["default"],i=e.isArray;n["default"]=function(t,e){function n(){for(var n=arguments.length,i=Array(n),s=0;n>s;s++)i[s]=arguments[s];var u;return o||a||!e?u=this:(console.warn('Deprecation: RSVP.denodeify() doesn\'t allow setting the "this" binding anymore. Use yourFunction.bind(yourThis) instead.'),u=e),r.all(i).then(function(n){return new r(function(r,i){n.push(function(){for(var t=arguments.length,n=Array(t),s=0;t>s;s++)n[s]=arguments[s];if(t=n[0],s=n[1],t)i(t);else if(o)r(n.slice(1));else if(a){for(var t={},u=n.slice(1),s=0;s<e.length;s++)n=e[s],t[n]=u[s];r(t)}else r(s)}),t.apply(u,n)})})}var o=!0===e,a=i(e);return n.__proto__=t,n}}),b("rsvp/promise","./config ./events ./instrument ./utils ./promise/cast ./promise/all ./promise/race ./promise/resolve ./promise/reject exports".split(" "),function(t,e,n,r,i,o,a,s,u,l){function c(){}function f(t,e){if(!x(t))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof f))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._id=k++,this._label=e,this._subscribers=[],E.instrument&&_("created",this),c!==t&&p(t,this)}function p(t,e){function n(t){v(e,t)}function r(t){y(e,t)}try{t(n,r)}catch(i){r(i)}}function h(t,e,n,r){t=t._subscribers;var i=t.length;t[i]=e,t[i+D]=n,t[i+O]=r}function d(t,e){var n,r,i=t._subscribers,o=t._detail;E.instrument&&_(e===D?"fulfilled":"rejected",t);for(var a=0;a<i.length;a+=3)n=i[a],r=i[a+e],g(e,n,r,o);t._subscribers=null}function g(t,e,n,r){var i,o,a,s,u=x(n);if(u)try{i=n(r),a=!0}catch(l){s=!0,o=l}else i=r,a=!0;m(e,i)||(u&&a?v(e,i):s?y(e,o):t===D?v(e,i):t===O&&y(e,i))}function m(t,e){var n,r=null;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(S(e)&&(r=e.then,x(r)))return r.call(e,function(r){return n?!0:(n=!0,void(e!==r?v(t,r):b(t,r)))},function(e){return n?!0:(n=!0,void y(t,e))},"Settle: "+(t._label||" unknown promise")),!0}catch(i){return n?!0:(y(t,i),!0)}return!1}function v(t,e){t===e?b(t,e):m(t,e)||b(t,e)}function b(t,e){t._state===A&&(t._state=C,t._detail=e,E.async($,t))}function y(t,e){t._state===A&&(t._state=C,t._detail=e,E.async(w,t))}function $(t){d(t,t._state=D)}function w(t){t._onerror&&t._onerror(t._detail),d(t,t._state=O)}var E=t.config,_=(e["default"],n["default"]),S=r.objectOrFunction,x=r.isFunction;t=r.now,i=i["default"],o=o["default"],a=a["default"],s=s["default"],u=u["default"],t="rsvp_"+t()+"-";var k=0;l["default"]=f,f.cast=i,f.all=o,f.race=a,f.resolve=s,f.reject=u;var A=void 0,C=0,D=1,O=2;f.prototype={constructor:f,_id:void 0,_guidKey:t,_label:void 0,_state:void 0,_detail:void 0,_subscribers:void 0,_onerror:function(t){E.trigger("error",t)},then:function(t,e,n){var r=this;this._onerror=null;var i=new this.constructor(c,n);if(this._state){var o=arguments;E.async(function(){g(r._state,i,o[r._state-1],r._detail)})}else h(this,i,t,e);return E.instrument&&_("chained",r,i),i},"catch":function(t,e){return this.then(null,t,e)},"finally":function(t,e){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})},e)}}}),b("rsvp/promise/all",["../utils","exports"],function(t,e){var n=t.isArray,r=t.isNonThenable;e["default"]=function(t,e){var i=this;return new i(function(e,o){function a(t){return function(n){c[t]=n,0===--l&&e(c)}}function s(t){l=0,o(t)}if(!n(t))throw new TypeError("You must pass an array to all.");var u,l=t.length,c=Array(l);if(0===l)return void e(c);for(var f=0;f<t.length;f++)u=t[f],r(u)?(c[f]=u,0===--l&&e(c)):i.resolve(u).then(a(f),s)},e)}}),b("rsvp/promise/cast",["exports"],function(t){t["default"]=function(t,e){return t&&"object"==typeof t&&t.constructor===this?t:new this(function(e){e(t)},e)}}),b("rsvp/promise/race",["../utils","exports"],function(t,e){var n=t.isArray,r=(t.isFunction,t.isNonThenable);e["default"]=function(t,e){var i,o=this;return new o(function(e,a){function s(t){l&&(l=!1,e(t))}function u(t){l&&(l=!1,a(t))}if(!n(t))throw new TypeError("You must pass an array to race.");for(var l=!0,c=0;c<t.length;c++){if(i=t[c],r(i))return l=!1,void e(i);o.resolve(i).then(s,u)}},e)}}),b("rsvp/promise/reject",["exports"],function(t){t["default"]=function(t,e){return new this(function(e,n){n(t)},e)}}),b("rsvp/promise/resolve",["exports"],function(t){t["default"]=function(t,e){return t&&"object"==typeof t&&t.constructor===this?t:new this(function(e){e(t)},e)}}),b("rsvp/race",["./promise","exports"],function(t,e){var n=t["default"];e["default"]=function(t,e){return n.race(t,e)}}),b("rsvp/reject",["./promise","exports"],function(t,e){var n=t["default"];e["default"]=function(t,e){return n.reject(t,e)}}),b("rsvp/resolve",["./promise","exports"],function(t,e){var n=t["default"];e["default"]=function(t,e){return n.resolve(t,e)}}),b("rsvp/rethrow",["exports"],function(t){t["default"]=function(t){throw setTimeout(function(){throw t}),t}}),b("rsvp/utils",["exports"],function(t){function e(t){return"function"==typeof t||"object"==typeof t&&null!==t}t.objectOrFunction=e,t.isFunction=function(t){return"function"==typeof t},t.isNonThenable=function(t){return!e(t)},t.isArray=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},t.now=Date.now||function(){return(new Date).getTime()},t.keysOf=Object.keys||function(t){var e,n=[];for(e in t)n.push(e);return n}}),b("rsvp","./rsvp/promise ./rsvp/events ./rsvp/node ./rsvp/all ./rsvp/all-settled ./rsvp/race ./rsvp/hash ./rsvp/hash-settled ./rsvp/rethrow ./rsvp/defer ./rsvp/config ./rsvp/map ./rsvp/resolve ./rsvp/reject ./rsvp/filter ./rsvp/asap exports".split(" "),function(t,e,n,r,i,o,a,s,u,l,c,f,p,h,d,g,m){function v(){b.on.apply(b,arguments)}t=t["default"],e=e["default"],n=n["default"],r=r["default"],i=i["default"],o=o["default"],a=a["default"],s=s["default"],u=u["default"],l=l["default"];var b=c.config;if(c=c.configure,f=f["default"],p=p["default"],h=h["default"],d=d["default"],b.async=g["default"],"undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){g=window.__PROMISE_INSTRUMENTATION__,c("instrument",!0);for(var y in g)g.hasOwnProperty(y)&&v(y,g[y])}m.Promise=t,m.EventTarget=e,m.all=r,m.allSettled=i,m.race=o,m.hash=a,m.hashSettled=s,m.rethrow=u,m.defer=l,m.denodeify=n,m.configure=c,m.on=v,m.off=function(){b.off.apply(b,arguments)},m.resolve=p,m.reject=h,m.async=function(t,e){b.async(t,e)},m.map=f,m.filter=d}),fb.simplelogin.util.RSVP=c("rsvp"),fb.simplelogin.util.env={},fb.simplelogin.util.env.hasLocalStorage=function(){try{if(localStorage){localStorage.setItem("firebase-sentinel","test");var t=localStorage.getItem("firebase-sentinel");return localStorage.removeItem("firebase-sentinel"),"test"===t}}catch(e){}return!1},fb.simplelogin.util.env.hasSessionStorage=function(){try{if(sessionStorage){sessionStorage.setItem("firebase-sentinel","test");var t=sessionStorage.getItem("firebase-sentinel");return sessionStorage.removeItem("firebase-sentinel"),"test"===t}}catch(e){}return!1},fb.simplelogin.util.env.isMobileCordovaInAppBrowser=function(){return(window.cordova||window.CordovaInAppBrowser||window.phonegap)&&/ios|iphone|ipod|ipad|android/i.test(navigator.userAgent)},fb.simplelogin.util.env.isMobileTriggerIoTab=function(){return window.forge&&/ios|iphone|ipod|ipad|android/i.test(navigator.userAgent)},fb.simplelogin.util.env.isWindowsMetro=function(){return!!window.Windows&&/^ms-appx:/.test(location.href)},fb.simplelogin.util.env.isChromeiOS=function(){return!!navigator.userAgent.match(/CriOS/)},fb.simplelogin.util.env.isTwitteriOS=function(){return!!navigator.userAgent.match(/Twitter for iPhone/)},fb.simplelogin.util.env.isFacebookiOS=function(){return!!navigator.userAgent.match(/FBAN\/FBIOS/)},fb.simplelogin.util.env.isWindowsPhone=function(){return!!navigator.userAgent.match(/Windows Phone/)},fb.simplelogin.util.env.isStandaloneiOS=function(){return!!window.navigator.standalone},fb.simplelogin.util.env.isPhantomJS=function(){return!!navigator.userAgent.match(/PhantomJS/)},fb.simplelogin.util.env.isIeLT10=function(){var t,e=-1,n=navigator.userAgent;return"Microsoft Internet Explorer"===navigator.appName&&(t=/MSIE ([0-9]{1,}[\.0-9]{0,})/,(t=n.match(t))&&1<t.length&&(e=parseFloat(t[1])),10>e)?!0:!1},fb.simplelogin.util.env.isFennec=function(){try{var t=navigator.userAgent;return-1!=t.indexOf("Fennec/")||-1!=t.indexOf("Firefox/")&&-1!=t.indexOf("Android")}catch(e){}return!1},fb.simplelogin.transports.XHR_=function(){},fb.simplelogin.transports.XHR_.prototype.open=function(t,e,n){var r,i={contentType:"application/json"},o=new XMLHttpRequest,a=(i.method||"GET").toUpperCase(),s=i.contentType||"application/x-www-form-urlencoded",u=!1;o.onreadystatechange=function(){if(!u&&4===o.readyState){var t,e;if(u=!0,200<=o.status&&300>o.status||304==o.status||1223==o.status)try{t=fb.simplelogin.util.json.parse(o.responseText),e=t.error||null,delete t.error}catch(r){e="UNKNOWN_ERROR"}else e="RESPONSE_PAYLOAD_ERROR";return n&&n(e,t)}},e&&("GET"===a?(-1===t.indexOf("?")&&(t+="?"),t+=this.formatQueryString(e),e=null):("application/json"===s&&(e=fb.simplelogin.util.json.stringify(e)),"application/x-www-form-urlencoded"===s&&(e=this.formatQueryString(e)))),o.open(a,t,!0),t={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain","Content-Type":s},i.headers=i.headers||{};for(r in i.headers)t[r]=i.headers[r];for(r in t)o.setRequestHeader(r,t[r]);o.send(e)},fb.simplelogin.transports.XHR_.prototype.isAvailable=function(){return window.XMLHttpRequest&&"function"==typeof window.XMLHttpRequest&&!fb.simplelogin.util.env.isIeLT10()},fb.simplelogin.transports.XHR_.prototype.formatQueryString=function(t){if(!t)return"";var e,n=[];for(e in t)n.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return n.join("&")},fb.simplelogin.transports.XHR=new fb.simplelogin.transports.XHR_,fb.simplelogin.util.validation={};var VALID_EMAIL_REGEX_=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,6})+$/;fb.simplelogin.util.validation.validateArgCount=function(t,e,n,r){var i;if(e>r?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},fb.simplelogin.util.validation.isValidEmail=function(t){return goog.isString(t)&&VALID_EMAIL_REGEX_.test(t)},fb.simplelogin.util.validation.isValidPassword=function(t){return goog.isString(t)},fb.simplelogin.util.validation.isValidNamespace=function(t){return goog.isString(t)},fb.simplelogin.util.validation.errorPrefix_=function(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:fb.core.util.validation.assert(!1,"errorPrefix_ called with argumentNumber > 4.  Need to update it?")}return t=t+" failed: "+(r+" argument ")},fb.simplelogin.util.validation.validateNamespace=function(t,e,n,r){if((!r||goog.isDef(n))&&!goog.isString(n))throw Error(fb.simplelogin.util.validation.errorPrefix_(t,e,r)+"must be a valid firebase namespace.")},fb.simplelogin.util.validation.validateCallback=function(t,e,n,r){if((!r||goog.isDef(n))&&!goog.isFunction(n))throw Error(fb.simplelogin.util.validation.errorPrefix_(t,e,r)+"must be a valid function.")},fb.simplelogin.util.validation.validateString=function(t,e,n,r){if((!r||goog.isDef(n))&&!goog.isString(n))throw Error(fb.simplelogin.util.validation.errorPrefix_(t,e,r)+"must be a valid string.")},fb.simplelogin.util.validation.validateContextObject=function(t,e,n,r){if(!(r&&!goog.isDef(n)||goog.isObject(n)&&null!==n))throw Error(fb.simplelogin.util.validation.errorPrefix_(t,e,r)+"must be a valid context object.")};var CALLBACK_NAMESPACE="_FirebaseSimpleLoginJSONP";fb.simplelogin.transports.JSONP_=function(){window[CALLBACK_NAMESPACE]=window[CALLBACK_NAMESPACE]||{}},fb.simplelogin.transports.JSONP_.prototype.open=function(t,e,n){t+=/\?/.test(t)?"":"?",t+="&transport=jsonp";for(var r in e)t+="&"+encodeURIComponent(r)+"="+encodeURIComponent(e[r]);e=this.generateRequestId_(),t+="&callback="+encodeURIComponent(CALLBACK_NAMESPACE+"."+e),this.registerCallback_(e,n),this.writeScriptTag_(e,t,n)},fb.simplelogin.transports.JSONP_.prototype.generateRequestId_=function(){return"_FirebaseJSONP"+(new Date).getTime()+Math.floor(100*Math.random())},fb.simplelogin.transports.JSONP_.prototype.registerCallback_=function(t,e){var n=this;window[CALLBACK_NAMESPACE][t]=function(r){var i=r.error||null;delete r.error,e(i,r),n.removeCallback_(t)}},fb.simplelogin.transports.JSONP_.prototype.removeCallback_=function(t){setTimeout(function(){delete window[CALLBACK_NAMESPACE][t];var e=document.getElementById(t);e&&e.parentNode.removeChild(e)},0)},fb.simplelogin.transports.JSONP_.prototype.writeScriptTag_=function(t,e,n){var r=this;setTimeout(function(){try{var i=document.createElement("script");i.type="text/javascript",i.id=t,i.async=!0,i.src=e,i.onerror=function(){var e=document.getElementById(t);null!==e&&e.parentNode.removeChild(e),n&&n(r.formatError_({code:"SERVER_ERROR",message:"An unknown server error occurred."}))},document.getElementsByTagName("head")[0].appendChild(i)
}catch(o){n&&n(r.formatError_({code:"SERVER_ERROR",message:"An unknown server error occurred."}))}},0)},fb.simplelogin.transports.JSONP_.prototype.formatError_=function(t){var e;return t?(e=Error(t.message),e.code=t.code||"UNKNOWN_ERROR"):(e=Error(),e.code="UNKNOWN_ERROR"),e},fb.simplelogin.transports.JSONP=new fb.simplelogin.transports.JSONP_,fb.simplelogin.providers={},fb.simplelogin.providers.Password_=function(){},fb.simplelogin.providers.Password_.prototype.getTransport_=function(){return fb.simplelogin.transports.XHR.isAvailable()?fb.simplelogin.transports.XHR:fb.simplelogin.transports.JSONP},fb.simplelogin.providers.Password_.prototype.login=function(t,e){var n=fb.simplelogin.Vars.getApiHost()+"/auth/firebase";return fb.simplelogin.util.validation.isValidNamespace(t.firebase)?void this.getTransport_().open(n,t,e):e&&e("INVALID_FIREBASE")},fb.simplelogin.providers.Password_.prototype.createUser=function(t,e){var n=fb.simplelogin.Vars.getApiHost()+"/auth/firebase/create";return fb.simplelogin.util.validation.isValidNamespace(t.firebase)?fb.simplelogin.util.validation.isValidEmail(t.email)?fb.simplelogin.util.validation.isValidPassword(t.password)?void this.getTransport_().open(n,t,e):e&&e("INVALID_PASSWORD"):e&&e("INVALID_EMAIL"):e&&e("INVALID_FIREBASE")},fb.simplelogin.providers.Password_.prototype.changePassword=function(t,e){var n=fb.simplelogin.Vars.getApiHost()+"/auth/firebase/update";return fb.simplelogin.util.validation.isValidNamespace(t.firebase)?fb.simplelogin.util.validation.isValidEmail(t.email)?fb.simplelogin.util.validation.isValidPassword(t.newPassword)?void this.getTransport_().open(n,t,e):e&&e("INVALID_PASSWORD"):e&&e("INVALID_EMAIL"):e&&e("INVALID_FIREBASE")},fb.simplelogin.providers.Password_.prototype.removeUser=function(t,e){var n=fb.simplelogin.Vars.getApiHost()+"/auth/firebase/remove";return fb.simplelogin.util.validation.isValidNamespace(t.firebase)?fb.simplelogin.util.validation.isValidEmail(t.email)?fb.simplelogin.util.validation.isValidPassword(t.password)?void this.getTransport_().open(n,t,e):e&&e("INVALID_PASSWORD"):e&&e("INVALID_EMAIL"):e&&e("INVALID_FIREBASE")},fb.simplelogin.providers.Password_.prototype.sendPasswordResetEmail=function(t,e){var n=fb.simplelogin.Vars.getApiHost()+"/auth/firebase/reset_password";return fb.simplelogin.util.validation.isValidNamespace(t.firebase)?fb.simplelogin.util.validation.isValidEmail(t.email)?void this.getTransport_().open(n,t,e):e&&e("INVALID_EMAIL"):e&&e("INVALID_FIREBASE")},fb.simplelogin.providers.Password=new fb.simplelogin.providers.Password_,fb.simplelogin.transports.WindowsMetroAuthBroker_=function(){},fb.simplelogin.transports.WindowsMetroAuthBroker_.prototype.open=function(t,e,n){var r,i,o,a,s,u;try{r=window.Windows.Foundation.Uri,i=window.Windows.Security.Authentication.Web.WebAuthenticationOptions,o=window.Windows.Security.Authentication.Web.WebAuthenticationBroker,a=o.authenticateAsync}catch(l){return n({code:"WINDOWS_METRO",message:'"Windows.Security.Authentication.Web.WebAuthenticationBroker" required when using Firebase Simple Login in Windows Metro context'})}s=!1,u=function(){var t=Array.prototype.slice.apply(arguments);s||(s=!0,n.apply(null,t))},t=new r(t+"&transport=internal-redirect-hash"),r=new r(fb.simplelogin.Vars.getApiHost()+"/blank/page.html"),a(i.none,t,r).done(function(t){var e;if(t&&t.responseData)try{var n=fb.simplelogin.util.misc.parseUrl(t.responseData),r=fb.simplelogin.util.misc.parseQuerystring(n.hash);t={};for(var i in r)t[i]=fb.simplelogin.util.json.parse(decodeURIComponent(r[i]));e=t}catch(o){}e&&e.token&&e.user?u(null,e):u(e&&e.error?e.error:{code:"RESPONSE_PAYLOAD_ERROR",message:"Unable to parse response payload for Windows."})},function(){u({code:"UNKNOWN_ERROR",message:"An unknown error occurred for Windows."})})},fb.simplelogin.transports.WindowsMetroAuthBroker=new fb.simplelogin.transports.WindowsMetroAuthBroker_,goog.string={},goog.string.Unicode={NBSP:" "},goog.string.startsWith=function(t,e){return 0==t.lastIndexOf(e,0)},goog.string.endsWith=function(t,e){var n=t.length-e.length;return n>=0&&t.indexOf(e,n)==n},goog.string.caseInsensitiveStartsWith=function(t,e){return 0==goog.string.caseInsensitiveCompare(e,t.substr(0,e.length))},goog.string.caseInsensitiveEndsWith=function(t,e){return 0==goog.string.caseInsensitiveCompare(e,t.substr(t.length-e.length,e.length))},goog.string.caseInsensitiveEquals=function(t,e){return t.toLowerCase()==e.toLowerCase()},goog.string.subs=function(t){for(var e=t.split("%s"),n="",r=Array.prototype.slice.call(arguments,1);r.length&&1<e.length;)n+=e.shift()+r.shift();return n+e.join("%s")},goog.string.collapseWhitespace=function(t){return t.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmpty=function(t){return/^[\s\xa0]*$/.test(t)},goog.string.isEmptySafe=function(t){return goog.string.isEmpty(goog.string.makeSafe(t))},goog.string.isBreakingWhitespace=function(t){return!/[^\t\n\r ]/.test(t)},goog.string.isAlpha=function(t){return!/[^a-zA-Z]/.test(t)},goog.string.isNumeric=function(t){return!/[^0-9]/.test(t)},goog.string.isAlphaNumeric=function(t){return!/[^a-zA-Z0-9]/.test(t)},goog.string.isSpace=function(t){return" "==t},goog.string.isUnicodeChar=function(t){return 1==t.length&&t>=" "&&"~">=t||t>=""&&"�">=t},goog.string.stripNewlines=function(t){return t.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(t){return t.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(t){return t.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(t){return t.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(t){return t.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},goog.string.trimLeft=function(t){return t.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(t){return t.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(t,e){var n=String(t).toLowerCase(),r=String(e).toLowerCase();return r>n?-1:n==r?0:1},goog.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g,goog.string.numerateCompare=function(t,e){if(t==e)return 0;if(!t)return-1;if(!e)return 1;for(var n=t.toLowerCase().match(goog.string.numerateCompareRegExp_),r=e.toLowerCase().match(goog.string.numerateCompareRegExp_),i=Math.min(n.length,r.length),o=0;i>o;o++){var a=n[o],s=r[o];if(a!=s)return n=parseInt(a,10),!isNaN(n)&&(r=parseInt(s,10),!isNaN(r)&&n-r)?n-r:s>a?-1:1}return n.length!=r.length?n.length-r.length:e>t?-1:1},goog.string.urlEncode=function(t){return encodeURIComponent(String(t))},goog.string.urlDecode=function(t){return decodeURIComponent(t.replace(/\+/g," "))},goog.string.newLineToBr=function(t,e){return t.replace(/(\r\n|\r|\n)/g,e?"<br />":"<br>")},goog.string.htmlEscape=function(t,e){return e?t.replace(goog.string.amperRe_,"&amp;").replace(goog.string.ltRe_,"&lt;").replace(goog.string.gtRe_,"&gt;").replace(goog.string.quotRe_,"&quot;").replace(goog.string.singleQuoteRe_,"&#39;"):goog.string.allRe_.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(goog.string.amperRe_,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(goog.string.ltRe_,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(goog.string.gtRe_,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(goog.string.quotRe_,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(goog.string.singleQuoteRe_,"&#39;")),t):t},goog.string.amperRe_=/&/g,goog.string.ltRe_=/</g,goog.string.gtRe_=/>/g,goog.string.quotRe_=/"/g,goog.string.singleQuoteRe_=/'/g,goog.string.allRe_=/[&<>"']/,goog.string.unescapeEntities=function(t){return goog.string.contains(t,"&")?"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(t):goog.string.unescapePureXmlEntities_(t):t},goog.string.unescapeEntitiesWithDocument=function(t,e){return goog.string.contains(t,"&")?goog.string.unescapeEntitiesUsingDom_(t,e):t},goog.string.unescapeEntitiesUsingDom_=function(t,e){var n,r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};return n=e?e.createElement("div"):document.createElement("div"),t.replace(goog.string.HTML_ENTITY_PATTERN_,function(t,e){var i=r[t];if(i)return i;if("#"==e.charAt(0)){var o=Number("0"+e.substr(1));isNaN(o)||(i=String.fromCharCode(o))}return i||(n.innerHTML=t+" ",i=n.firstChild.nodeValue.slice(0,-1)),r[t]=i})},goog.string.unescapePureXmlEntities_=function(t){return t.replace(/&([^;]+);/g,function(t,e){switch(e){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==e.charAt(0)){var n=Number("0"+e.substr(1));if(!isNaN(n))return String.fromCharCode(n)}return t}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(t,e){return goog.string.newLineToBr(t.replace(/  /g," &#160;"),e)},goog.string.stripQuotes=function(t,e){for(var n=e.length,r=0;n>r;r++){var i=1==n?e:e.charAt(r);if(t.charAt(0)==i&&t.charAt(t.length-1)==i)return t.substring(1,t.length-1)}return t},goog.string.truncate=function(t,e,n){return n&&(t=goog.string.unescapeEntities(t)),t.length>e&&(t=t.substring(0,e-3)+"..."),n&&(t=goog.string.htmlEscape(t)),t},goog.string.truncateMiddle=function(t,e,n,r){if(n&&(t=goog.string.unescapeEntities(t)),r&&t.length>e){r>e&&(r=e);var i=t.length-r;t=t.substring(0,e-r)+"..."+t.substring(i)}else t.length>e&&(r=Math.floor(e/2),i=t.length-r,t=t.substring(0,r+e%2)+"..."+t.substring(i));return n&&(t=goog.string.htmlEscape(t)),t},goog.string.specialEscapeChars_={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\x0B",'"':'\\"',"\\":"\\\\"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(t){if(t=String(t),t.quote)return t.quote();for(var e=['"'],n=0;n<t.length;n++){var r=t.charAt(n),i=r.charCodeAt(0);e[n+1]=goog.string.specialEscapeChars_[r]||(i>31&&127>i?r:goog.string.escapeChar(r))}return e.push('"'),e.join("")},goog.string.escapeString=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=goog.string.escapeChar(t.charAt(n));return e.join("")},goog.string.escapeChar=function(t){if(t in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[t];if(t in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[t]=goog.string.specialEscapeChars_[t];var e=t,n=t.charCodeAt(0);return n>31&&127>n?e=t:(256>n?(e="\\x",(16>n||n>256)&&(e+="0")):(e="\\u",4096>n&&(e+="0")),e+=n.toString(16).toUpperCase()),goog.string.jsEscapeCache_[t]=e},goog.string.toMap=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=!0;return e},goog.string.contains=function(t,e){return-1!=t.indexOf(e)},goog.string.countOf=function(t,e){return t&&e?t.split(e).length-1:0},goog.string.removeAt=function(t,e,n){var r=t;return e>=0&&e<t.length&&n>0&&(r=t.substr(0,e)+t.substr(e+n,t.length-e-n)),r},goog.string.remove=function(t,e){var n=RegExp(goog.string.regExpEscape(e),"");return t.replace(n,"")},goog.string.removeAll=function(t,e){var n=RegExp(goog.string.regExpEscape(e),"g");return t.replace(n,"")},goog.string.regExpEscape=function(t){return String(t).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=function(t,e){return Array(e+1).join(t)},goog.string.padNumber=function(t,e,n){return t=goog.isDef(n)?t.toFixed(n):String(t),n=t.indexOf("."),-1==n&&(n=t.length),goog.string.repeat("0",Math.max(0,e-n))+t},goog.string.makeSafe=function(t){return null==t?"":String(t)},goog.string.buildString=function(){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=function(t,e){for(var n=0,r=goog.string.trim(String(t)).split("."),i=goog.string.trim(String(e)).split("."),o=Math.max(r.length,i.length),a=0;0==n&&o>a;a++){var s=r[a]||"",u=i[a]||"",l=RegExp("(\\d*)(\\D*)","g"),c=RegExp("(\\d*)(\\D*)","g");do{var f=l.exec(s)||["","",""],p=c.exec(u)||["","",""];if(0==f[0].length&&0==p[0].length)break;var n=0==f[1].length?0:parseInt(f[1],10),h=0==p[1].length?0:parseInt(p[1],10),n=goog.string.compareElements_(n,h)||goog.string.compareElements_(0==f[2].length,0==p[2].length)||goog.string.compareElements_(f[2],p[2])}while(0==n)}return n},goog.string.compareElements_=function(t,e){return e>t?-1:t>e?1:0},goog.string.HASHCODE_MAX_=4294967296,goog.string.hashCode=function(t){for(var e=0,n=0;n<t.length;++n)e=31*e+t.charCodeAt(n),e%=goog.string.HASHCODE_MAX_;return e},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(t){var e=Number(t);return 0==e&&goog.string.isEmpty(t)?0/0:e},goog.string.isLowerCamelCase=function(t){return/^[a-z]+([A-Z][a-z]*)*$/.test(t)},goog.string.isUpperCamelCase=function(t){return/^([A-Z][a-z]*)+$/.test(t)},goog.string.toCamelCase=function(t){return String(t).replace(/\-([a-z])/g,function(t,e){return e.toUpperCase()})},goog.string.toSelectorCase=function(t){return String(t).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(t,e){var n=goog.isString(e)?goog.string.regExpEscape(e):"\\s";return t.replace(RegExp("(^"+(n?"|["+n+"]+":"")+")([a-z])","g"),function(t,e,n){return e+n.toUpperCase()})},goog.string.parseInt=function(t){return isFinite(t)&&(t=String(t)),goog.isString(t)?/^\s*-?0x/i.test(t)?parseInt(t,16):parseInt(t,10):0/0},goog.string.splitLimit=function(t,e,n){t=t.split(e);for(var r=[];n>0&&t.length;)r.push(t.shift()),n--;return t.length&&r.push(t.join(e)),r};var sessionPersistentStorageKey="firebaseSession",hasLocalStorage=fb.simplelogin.util.env.hasLocalStorage();fb.simplelogin.SessionStore_=function(){},fb.simplelogin.SessionStore_.prototype.set=function(t){if(hasLocalStorage)try{localStorage.setItem(sessionPersistentStorageKey,fb.simplelogin.util.json.stringify(t))}catch(e){}},fb.simplelogin.SessionStore_.prototype.get=function(){if(hasLocalStorage){try{var t=localStorage.getItem(sessionPersistentStorageKey);if(t)return fb.simplelogin.util.json.parse(t)}catch(e){}return null}},fb.simplelogin.SessionStore_.prototype.clear=function(){hasLocalStorage&&localStorage.removeItem(sessionPersistentStorageKey)},fb.simplelogin.SessionStore=new fb.simplelogin.SessionStore_;var CLIENT_VERSION="1.6.4";fb.simplelogin.client=function(t,e,n,r){function i(t,e,n){setTimeout(function(){t(e,n)},0)}this.mRef=t,this.mNamespace=fb.simplelogin.util.misc.parseSubdomain(t.toString()),this.sessionLengthDays=null,window._FirebaseSimpleLogin=window._FirebaseSimpleLogin||{},window._FirebaseSimpleLogin.callbacks=window._FirebaseSimpleLogin.callbacks||[],window._FirebaseSimpleLogin.callbacks.push({cb:e,ctx:n}),"file:"!==window.location.protocol||fb.simplelogin.util.env.isPhantomJS()||fb.simplelogin.util.env.isMobileCordovaInAppBrowser()||fb.simplelogin.util.misc.warn("FirebaseSimpleLogin(): Due to browser security restrictions, loading applications via `file://*` URLs will prevent popup-based authentication providers from working properly. When testing locally, you'll need to run a barebones webserver on your machine rather than loading your test files via `file://*`. The easiest way to run a barebones server on your local machine is to `cd` to the root directory of your code and run `python -m SimpleHTTPServer`, which will allow you to access your content via `http://127.0.0.1:8000/*`."),r&&fb.simplelogin.Vars.setApiHost(r),this.mLoginStateChange=function(t,e){var n=window._FirebaseSimpleLogin.callbacks||[];Array.prototype.slice.apply(arguments);for(var r=0;r<n.length;r++){var o=n[r],a=!!t||"undefined"==typeof o.user;if(!a){var s,u;o.user&&o.user.firebaseAuthToken&&(s=o.user.firebaseAuthToken),e&&e.firebaseAuthToken&&(u=e.firebaseAuthToken),a=(s||u)&&s!==u}window._FirebaseSimpleLogin.callbacks[r].user=e||null,a&&i(goog.bind(o.cb,o.ctx),t,e)}},this.resumeSession()},fb.simplelogin.client.prototype.setApiHost=function(t){fb.simplelogin.Vars.setApiHost(t)},goog.exportSymbol("fb.simplelogin.client.prototype.setApiHost",fb.simplelogin.client.prototype.setApiHost),fb.simplelogin.client.prototype.resumeSession=function(){var t,e=this;try{t=sessionStorage.getItem("firebaseRequestId"),sessionStorage.removeItem("firebaseRequestId")}catch(n){}if(t){var r=fb.simplelogin.transports.JSONP;fb.simplelogin.transports.XHR.isAvailable()&&(r=fb.simplelogin.transports.XHR),r.open(fb.simplelogin.Vars.getApiHost()+"/auth/session",{requestId:t,firebase:e.mNamespace},function(t,n){n&&n.token&&n.user?e.attemptAuth(n.token,n.user,!0):t?(fb.simplelogin.SessionStore.clear(),e.mLoginStateChange(t)):(fb.simplelogin.SessionStore.clear(),e.mLoginStateChange(null,null))})}else(t=fb.simplelogin.SessionStore.get())&&t.token&&t.user?e.attemptAuth(t.token,t.user,!1):e.mLoginStateChange(null,null)},fb.simplelogin.client.prototype.attemptAuth=function(t,e,n,r,i){var o=this;this.mRef.auth(t,function(a,s){a?(fb.simplelogin.SessionStore.clear(),o.mLoginStateChange(null,null),i&&i()):(n&&fb.simplelogin.SessionStore.set({token:t,user:e,sessionKey:e.sessionKey},o.sessionLengthDays),"function"==typeof s&&s(),delete e.sessionKey,e.firebaseAuthToken=t,o.mLoginStateChange(null,e),r&&r(e))},function(){fb.simplelogin.SessionStore.clear(),o.mLoginStateChange(null,null),i&&i()})},fb.simplelogin.client.prototype.login=function(){fb.simplelogin.util.validation.validateString("FirebaseSimpleLogin.login()",1,arguments[0],!1),fb.simplelogin.util.validation.validateArgCount("FirebaseSimpleLogin.login()",1,2,arguments.length);var t=arguments[0].toLowerCase(),e=arguments[1]||{};switch(this.sessionLengthDays=e.rememberMe?30:null,t){case"anonymous":return this.loginAnonymously(e);case"facebook-token":return this.loginWithFacebookToken(e);case"github":return this.loginWithGithub(e);case"google-token":return this.loginWithGoogleToken(e);case"password":return this.loginWithPassword(e);case"twitter-token":return this.loginWithTwitterToken(e);case"facebook":return e.access_token?this.loginWithFacebookToken(e):this.loginWithFacebook(e);case"google":return e.access_token?this.loginWithGoogleToken(e):this.loginWithGoogle(e);case"twitter":return e.oauth_token&&e.oauth_token_secret?this.loginWithTwitterToken(e):this.loginWithTwitter(e);default:throw Error("FirebaseSimpleLogin.login("+t+") failed: unrecognized authentication provider")}},goog.exportSymbol("fb.simplelogin.client.prototype.login",fb.simplelogin.client.prototype.login),fb.simplelogin.client.prototype.loginAnonymously=function(t){var e=this;return new fb.simplelogin.util.RSVP.Promise(function(n,r){t.firebase=e.mNamespace,t.v=CLIENT_VERSION,fb.simplelogin.transports.JSONP.open(fb.simplelogin.Vars.getApiHost()+"/auth/anonymous",t,function(t,i){if(t||!i.token){var o=fb.simplelogin.Errors.format(t);e.mLoginStateChange(o,null),r(o)}else e.attemptAuth(i.token,i.user,!0,n,r)})})},fb.simplelogin.client.prototype.loginWithPassword=function(t){var e=this;return new fb.simplelogin.util.RSVP.Promise(function(n,r){t.firebase=e.mNamespace,t.v=CLIENT_VERSION,fb.simplelogin.providers.Password.login(t,function(t,i){if(t||!i.token){var o=fb.simplelogin.Errors.format(t);e.mLoginStateChange(o,null),r(o)}else e.attemptAuth(i.token,i.user,!0,n,r)})})},fb.simplelogin.client.prototype.loginWithGithub=function(t){return t.height=850,t.width=950,this.loginViaOAuth("github",t)},fb.simplelogin.client.prototype.loginWithGoogle=function(t){return t.height=650,t.width=575,this.loginViaOAuth("google",t)},fb.simplelogin.client.prototype.loginWithFacebook=function(t){return t.height=400,t.width=535,this.loginViaOAuth("facebook",t)},fb.simplelogin.client.prototype.loginWithTwitter=function(t){return this.loginViaOAuth("twitter",t)},fb.simplelogin.client.prototype.loginWithFacebookToken=function(t){return this.loginViaToken("facebook",t)},fb.simplelogin.client.prototype.loginWithGoogleToken=function(t){return this.loginViaToken("google",t)},fb.simplelogin.client.prototype.loginWithTwitterToken=function(t){return this.loginViaToken("twitter",t)},fb.simplelogin.client.prototype.logout=function(){fb.simplelogin.SessionStore.clear(),this.mRef.unauth(),this.mLoginStateChange(null,null)},goog.exportSymbol("fb.simplelogin.client.prototype.logout",fb.simplelogin.client.prototype.logout),fb.simplelogin.client.prototype.loginViaToken=function(t,e){e=e||{},e.v=CLIENT_VERSION;var n=this,r=fb.simplelogin.Vars.getApiHost()+"/auth/"+t+"/token?firebase="+n.mNamespace;return new fb.simplelogin.util.RSVP.Promise(function(t,i){fb.simplelogin.transports.JSONP.open(r,e,function(e,r){if(!e&&r.token&&r.user)n.attemptAuth(r.token,r.user,!0,t,i);else{var o=fb.simplelogin.Errors.format(e);n.mLoginStateChange(o),i(o)}})})},fb.simplelogin.client.prototype.loginViaOAuth=function(t,e,n){e=e||{};var r=this,i=fb.simplelogin.Vars.getApiHost()+"/auth/"+t+"?firebase="+r.mNamespace;e.scope&&(i+="&scope="+e.scope),i+="&v="+encodeURIComponent(CLIENT_VERSION),t={menubar:0,location:0,resizable:0,scrollbars:1,status:0,dialog:1,width:700,height:375},e.height&&(t.height=e.height,delete e.height),e.width&&(t.width=e.width,delete e.width),n=fb.simplelogin.util.env.isMobileCordovaInAppBrowser()?"mobile-phonegap":fb.simplelogin.util.env.isMobileTriggerIoTab()?"mobile-triggerio":fb.simplelogin.util.env.isWindowsMetro()?"windows-metro":"desktop";var o;if("desktop"===n){o=fb.simplelogin.transports.WinChan,n=[];for(var a in t)n.push(a+"="+t[a]);e.url+="&transport=winchan",e.relay_url=fb.simplelogin.Vars.getApiHost()+"/auth/channel",e.window_features=n.join(",")}else"mobile-phonegap"===n?o=fb.simplelogin.transports.CordovaInAppBrowser:"mobile-triggerio"===n?o=fb.simplelogin.transports.TriggerIoTab:"windows-metro"===n&&(o=fb.simplelogin.transports.WindowsMetroAuthBroker);if(!(e.preferRedirect||fb.simplelogin.util.env.isChromeiOS()||fb.simplelogin.util.env.isWindowsPhone()||fb.simplelogin.util.env.isStandaloneiOS()||fb.simplelogin.util.env.isTwitteriOS()||fb.simplelogin.util.env.isFacebookiOS()))return new fb.simplelogin.util.RSVP.Promise(function(t,n){o.open(i,e,function(e,i){if(i&&i.token&&i.user)r.attemptAuth(i.token,i.user,!0,t,n);else{var o=e||{code:"UNKNOWN_ERROR",message:"An unknown error occurred."};"unknown closed window"===e?o={code:"USER_DENIED",message:"User cancelled the authentication request."}:i&&i.error&&(o=i.error),o=fb.simplelogin.Errors.format(o),r.mLoginStateChange(o),n(o)}})});a=goog.string.getRandomString()+goog.string.getRandomString();try{sessionStorage.setItem("firebaseRequestId",a)}catch(s){}i+="&requestId="+a+"&fb_redirect_uri="+encodeURIComponent(window.location.href),window.location=i},fb.simplelogin.client.prototype.manageFirebaseUsers=function(t,e,n){return e.firebase=this.mNamespace,new fb.simplelogin.util.RSVP.Promise(function(r,i){fb.simplelogin.providers.Password[t](e,function(t,e){if(t){var o=fb.simplelogin.Errors.format(t);return i(o),n&&n(o,null)}return r(e),n&&n(null,e)})})},fb.simplelogin.client.prototype.createUser=function(t,e,n){return this.manageFirebaseUsers("createUser",{email:t,password:e},n)},goog.exportSymbol("fb.simplelogin.client.prototype.createUser",fb.simplelogin.client.prototype.createUser),fb.simplelogin.client.prototype.changePassword=function(t,e,n,r){return this.manageFirebaseUsers("changePassword",{email:t,oldPassword:e,newPassword:n},function(t){return r&&r(t)})},goog.exportSymbol("fb.simplelogin.client.prototype.changePassword",fb.simplelogin.client.prototype.changePassword),fb.simplelogin.client.prototype.removeUser=function(t,e,n){return this.manageFirebaseUsers("removeUser",{email:t,password:e},function(t){return n&&n(t)})},goog.exportSymbol("fb.simplelogin.client.prototype.removeUser",fb.simplelogin.client.prototype.removeUser),fb.simplelogin.client.prototype.sendPasswordResetEmail=function(t,e){return this.manageFirebaseUsers("sendPasswordResetEmail",{email:t},function(t){return e&&e(t)})},goog.exportSymbol("fb.simplelogin.client.prototype.sendPasswordResetEmail",fb.simplelogin.client.prototype.sendPasswordResetEmail),fb.simplelogin.client.onOpen=function(t){fb.simplelogin.transports.WinChan.onOpen(t)},goog.exportSymbol("fb.simplelogin.client.onOpen",fb.simplelogin.client.onOpen),fb.simplelogin.client.VERSION=function(){return CLIENT_VERSION},goog.exportSymbol("fb.simplelogin.client.VERSION",fb.simplelogin.client.VERSION);var FirebaseSimpleLogin=function(t,e,n,r){if(fb.simplelogin.util.validation.validateArgCount("new FirebaseSimpleLogin",1,4,arguments.length),fb.simplelogin.util.validation.validateCallback("new FirebaseSimpleLogin",2,e,!1),goog.isString(t))throw Error("new FirebaseSimpleLogin(): Oops, it looks like you passed a string instead of a Firebase reference (i.e. new Firebase(<firebaseURL>)).");var i=fb.simplelogin.util.misc.parseSubdomain(t.toString());if(!goog.isString(i))throw Error("new FirebaseSimpleLogin(): First argument must be a valid Firebase reference (i.e. new Firebase(<firebaseURL>)).");var o=new fb.simplelogin.client(t,e,n,r);return{setApiHost:function(t){return fb.simplelogin.util.validation.validateArgCount("FirebaseSimpleLogin.setApiHost",1,1,arguments.length),o.setApiHost(t)},login:function(){return o.login.apply(o,arguments)},logout:function(){return fb.simplelogin.util.validation.validateArgCount("FirebaseSimpleLogin.logout",0,0,arguments.length),o.logout()},createUser:function(t,e,n){return fb.simplelogin.util.validation.validateArgCount("FirebaseSimpleLogin.createUser",2,3,arguments.length),fb.simplelogin.util.validation.validateCallback("FirebaseSimpleLogin.createUser",3,n,!0),o.createUser(t,e,n)},changePassword:function(t,e,n,r){return fb.simplelogin.util.validation.validateArgCount("FirebaseSimpleLogin.changePassword",3,4,arguments.length),fb.simplelogin.util.validation.validateCallback("FirebaseSimpleLogin.changePassword",4,r,!0),o.changePassword(t,e,n,r)},removeUser:function(t,e,n){return fb.simplelogin.util.validation.validateArgCount("FirebaseSimpleLogin.removeUser",2,3,arguments.length),fb.simplelogin.util.validation.validateCallback("FirebaseSimpleLogin.removeUser",3,n,!0),o.removeUser(t,e,n)},sendPasswordResetEmail:function(t,e){return fb.simplelogin.util.validation.validateArgCount("FirebaseSimpleLogin.sendPasswordResetEmail",1,2,arguments.length),fb.simplelogin.util.validation.validateCallback("FirebaseSimpleLogin.sendPasswordResetEmail",2,e,!0),o.sendPasswordResetEmail(t,e)}}};goog.exportSymbol("FirebaseSimpleLogin",FirebaseSimpleLogin),FirebaseSimpleLogin.onOpen=function(t){fb.simplelogin.client.onOpen(t)},goog.exportProperty(FirebaseSimpleLogin,"onOpen",FirebaseSimpleLogin.onOpen),FirebaseSimpleLogin.VERSION=fb.simplelogin.client.VERSION()}(),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.mockfirebase=t()}}(function(){var t;return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e){(function(n){!function(){var r=t("crypt"),i=t("charenc").utf8,o=t("charenc").bin,a=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?o.stringToBytes(t):i.stringToBytes(t):"undefined"!=typeof n&&"function"==typeof n.isBuffer&&n.isBuffer(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var s=r.bytesToWords(t),u=8*t.length,l=1732584193,c=-271733879,f=-1732584194,p=271733878,h=0;h<s.length;h++)s[h]=16711935&(s[h]<<8|s[h]>>>24)|4278255360&(s[h]<<24|s[h]>>>8);s[u>>>5]|=128<<u%32,s[(u+64>>>9<<4)+14]=u;for(var d=a._ff,g=a._gg,m=a._hh,v=a._ii,h=0;h<s.length;h+=16){var b=l,y=c,$=f,w=p;l=d(l,c,f,p,s[h+0],7,-680876936),p=d(p,l,c,f,s[h+1],12,-389564586),f=d(f,p,l,c,s[h+2],17,606105819),c=d(c,f,p,l,s[h+3],22,-1044525330),l=d(l,c,f,p,s[h+4],7,-176418897),p=d(p,l,c,f,s[h+5],12,1200080426),f=d(f,p,l,c,s[h+6],17,-1473231341),c=d(c,f,p,l,s[h+7],22,-45705983),l=d(l,c,f,p,s[h+8],7,1770035416),p=d(p,l,c,f,s[h+9],12,-1958414417),f=d(f,p,l,c,s[h+10],17,-42063),c=d(c,f,p,l,s[h+11],22,-1990404162),l=d(l,c,f,p,s[h+12],7,1804603682),p=d(p,l,c,f,s[h+13],12,-40341101),f=d(f,p,l,c,s[h+14],17,-1502002290),c=d(c,f,p,l,s[h+15],22,1236535329),l=g(l,c,f,p,s[h+1],5,-165796510),p=g(p,l,c,f,s[h+6],9,-1069501632),f=g(f,p,l,c,s[h+11],14,643717713),c=g(c,f,p,l,s[h+0],20,-373897302),l=g(l,c,f,p,s[h+5],5,-701558691),p=g(p,l,c,f,s[h+10],9,38016083),f=g(f,p,l,c,s[h+15],14,-660478335),c=g(c,f,p,l,s[h+4],20,-405537848),l=g(l,c,f,p,s[h+9],5,568446438),p=g(p,l,c,f,s[h+14],9,-1019803690),f=g(f,p,l,c,s[h+3],14,-187363961),c=g(c,f,p,l,s[h+8],20,1163531501),l=g(l,c,f,p,s[h+13],5,-1444681467),p=g(p,l,c,f,s[h+2],9,-51403784),f=g(f,p,l,c,s[h+7],14,1735328473),c=g(c,f,p,l,s[h+12],20,-1926607734),l=m(l,c,f,p,s[h+5],4,-378558),p=m(p,l,c,f,s[h+8],11,-2022574463),f=m(f,p,l,c,s[h+11],16,1839030562),c=m(c,f,p,l,s[h+14],23,-35309556),l=m(l,c,f,p,s[h+1],4,-1530992060),p=m(p,l,c,f,s[h+4],11,1272893353),f=m(f,p,l,c,s[h+7],16,-155497632),c=m(c,f,p,l,s[h+10],23,-1094730640),l=m(l,c,f,p,s[h+13],4,681279174),p=m(p,l,c,f,s[h+0],11,-358537222),f=m(f,p,l,c,s[h+3],16,-722521979),c=m(c,f,p,l,s[h+6],23,76029189),l=m(l,c,f,p,s[h+9],4,-640364487),p=m(p,l,c,f,s[h+12],11,-421815835),f=m(f,p,l,c,s[h+15],16,530742520),c=m(c,f,p,l,s[h+2],23,-995338651),l=v(l,c,f,p,s[h+0],6,-198630844),p=v(p,l,c,f,s[h+7],10,1126891415),f=v(f,p,l,c,s[h+14],15,-1416354905),c=v(c,f,p,l,s[h+5],21,-57434055),l=v(l,c,f,p,s[h+12],6,1700485571),p=v(p,l,c,f,s[h+3],10,-1894986606),f=v(f,p,l,c,s[h+10],15,-1051523),c=v(c,f,p,l,s[h+1],21,-2054922799),l=v(l,c,f,p,s[h+8],6,1873313359),p=v(p,l,c,f,s[h+15],10,-30611744),f=v(f,p,l,c,s[h+6],15,-1560198380),c=v(c,f,p,l,s[h+13],21,1309151649),l=v(l,c,f,p,s[h+4],6,-145523070),p=v(p,l,c,f,s[h+11],10,-1120210379),f=v(f,p,l,c,s[h+2],15,718787259),c=v(c,f,p,l,s[h+9],21,-343485551),l=l+b>>>0,c=c+y>>>0,f=f+$>>>0,p=p+w>>>0}return r.endian([l,c,f,p])};a._ff=function(t,e,n,r,i,o,a){var s=t+(e&n|~e&r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._gg=function(t,e,n,r,i,o,a){var s=t+(e&r|n&~r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._hh=function(t,e,n,r,i,o,a){var s=t+(e^n^r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._ii=function(t,e,n,r,i,o,a){var s=t+(n^(e|~r))+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._blocksize=16,a._digestsize=16,e.exports=function(t,e){if("undefined"!=typeof t){var n=r.wordsToBytes(a(t,e));return e&&e.asBytes?n:e&&e.asString?o.bytesToString(n):r.bytesToHex(n)}}}()}).call(this,t("buffer").Buffer)},{buffer:4,charenc:2,crypt:3}],2:[function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};e.exports=n},{}],3:[function(t,e){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],o=0;4>o;o++)n.push(8*r+6*o<=8*e.length?t.charAt(i>>>6*(3-o)&63):"=");
return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}};e.exports=n}()},{}],4:[function(t,e,n){function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);var i,o=typeof t;if("number"===o)i=t>0?t>>>0:0;else if("string"===o)"base64"===e&&(t=C(t)),i=r.byteLength(t,e);else{if("object"!==o||null===t)throw new Error("First argument needs to be a number, array or string.");"Buffer"===t.type&&O(t.data)&&(t=t.data),i=+t.length>0?Math.floor(+t.length):0}var a;W?a=r._augment(new Uint8Array(i)):(a=this,a.length=i,a._isBuffer=!0);var s;if(W&&"number"==typeof t.byteLength)a._set(t);else if(T(t))if(r.isBuffer(t))for(s=0;i>s;s++)a[s]=t.readUInt8(s);else for(s=0;i>s;s++)a[s]=(t[s]%256+256)%256;else if("string"===o)a.write(t,0,e);else if("number"===o&&!W&&!n)for(s=0;i>s;s++)a[s]=0;return a}function i(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;B(o%2===0,"Invalid hex string"),r>o/2&&(r=o/2);for(var a=0;r>a;a++){var s=parseInt(e.substr(2*a,2),16);B(!isNaN(s),"Invalid hex string"),t[n+a]=s}return a}function o(t,e,n,r){var i=j(I(e),t,n,r);return i}function a(t,e,n,r){var i=j(P(e),t,n,r);return i}function s(t,e,n,r){return a(t,e,n,r)}function u(t,e,n,r){var i=j(F(e),t,n,r);return i}function l(t,e,n,r){var i=j(N(e),t,n,r);return i}function c(t,e,n){return q.fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}function f(t,e,n){var r="",i="";n=Math.min(t.length,n);for(var o=e;n>o;o++)t[o]<=127?(r+=R(i)+String.fromCharCode(t[o]),i=""):i+="%"+t[o].toString(16);return r+R(i)}function p(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(t[i]);return r}function h(t,e,n){return p(t,e,n)}function d(t,e,n){var r=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=e;n>o;o++)i+=M(t[o]);return i}function g(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function m(t,e,n,r){r||(B("boolean"==typeof n,"missing or invalid endian"),B(void 0!==e&&null!==e,"missing offset"),B(e+1<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){var o;return n?(o=t[e],i>e+1&&(o|=t[e+1]<<8)):(o=t[e]<<8,i>e+1&&(o|=t[e+1])),o}}function v(t,e,n,r){r||(B("boolean"==typeof n,"missing or invalid endian"),B(void 0!==e&&null!==e,"missing offset"),B(e+3<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){var o;return n?(i>e+2&&(o=t[e+2]<<16),i>e+1&&(o|=t[e+1]<<8),o|=t[e],i>e+3&&(o+=t[e+3]<<24>>>0)):(i>e+1&&(o=t[e+1]<<16),i>e+2&&(o|=t[e+2]<<8),i>e+3&&(o|=t[e+3]),o+=t[e]<<24>>>0),o}}function b(t,e,n,r){r||(B("boolean"==typeof n,"missing or invalid endian"),B(void 0!==e&&null!==e,"missing offset"),B(e+1<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){var o=m(t,e,n,!0),a=32768&o;return a?-1*(65535-o+1):o}}function y(t,e,n,r){r||(B("boolean"==typeof n,"missing or invalid endian"),B(void 0!==e&&null!==e,"missing offset"),B(e+3<t.length,"Trying to read beyond buffer length"));var i=t.length;if(!(e>=i)){var o=v(t,e,n,!0),a=2147483648&o;return a?-1*(4294967295-o+1):o}}function $(t,e,n,r){return r||(B("boolean"==typeof n,"missing or invalid endian"),B(e+3<t.length,"Trying to read beyond buffer length")),H.read(t,e,n,23,4)}function w(t,e,n,r){return r||(B("boolean"==typeof n,"missing or invalid endian"),B(e+7<t.length,"Trying to read beyond buffer length")),H.read(t,e,n,52,8)}function E(t,e,n,r,i){i||(B(void 0!==e&&null!==e,"missing value"),B("boolean"==typeof r,"missing or invalid endian"),B(void 0!==n&&null!==n,"missing offset"),B(n+1<t.length,"trying to write beyond buffer length"),U(e,65535));var o=t.length;if(!(n>=o)){for(var a=0,s=Math.min(o-n,2);s>a;a++)t[n+a]=(e&255<<8*(r?a:1-a))>>>8*(r?a:1-a);return n+2}}function _(t,e,n,r,i){i||(B(void 0!==e&&null!==e,"missing value"),B("boolean"==typeof r,"missing or invalid endian"),B(void 0!==n&&null!==n,"missing offset"),B(n+3<t.length,"trying to write beyond buffer length"),U(e,4294967295));var o=t.length;if(!(n>=o)){for(var a=0,s=Math.min(o-n,4);s>a;a++)t[n+a]=e>>>8*(r?a:3-a)&255;return n+4}}function S(t,e,n,r,i){i||(B(void 0!==e&&null!==e,"missing value"),B("boolean"==typeof r,"missing or invalid endian"),B(void 0!==n&&null!==n,"missing offset"),B(n+1<t.length,"Trying to write beyond buffer length"),L(e,32767,-32768));var o=t.length;if(!(n>=o))return e>=0?E(t,e,n,r,i):E(t,65535+e+1,n,r,i),n+2}function x(t,e,n,r,i){i||(B(void 0!==e&&null!==e,"missing value"),B("boolean"==typeof r,"missing or invalid endian"),B(void 0!==n&&null!==n,"missing offset"),B(n+3<t.length,"Trying to write beyond buffer length"),L(e,2147483647,-2147483648));var o=t.length;if(!(n>=o))return e>=0?_(t,e,n,r,i):_(t,4294967295+e+1,n,r,i),n+4}function k(t,e,n,r,i){i||(B(void 0!==e&&null!==e,"missing value"),B("boolean"==typeof r,"missing or invalid endian"),B(void 0!==n&&null!==n,"missing offset"),B(n+3<t.length,"Trying to write beyond buffer length"),V(e,3.4028234663852886e38,-3.4028234663852886e38));var o=t.length;if(!(n>=o))return H.write(t,e,n,r,23,4),n+4}function A(t,e,n,r,i){i||(B(void 0!==e&&null!==e,"missing value"),B("boolean"==typeof r,"missing or invalid endian"),B(void 0!==n&&null!==n,"missing offset"),B(n+7<t.length,"Trying to write beyond buffer length"),V(e,1.7976931348623157e308,-1.7976931348623157e308));var o=t.length;if(!(n>=o))return H.write(t,e,n,r,52,8),n+8}function C(t){for(t=D(t).replace(K,"");t.length%4!==0;)t+="=";return t}function D(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function O(t){return(Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)})(t)}function T(t){return O(t)||r.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function M(t){return 16>t?"0"+t.toString(16):t.toString(16)}function I(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(127>=r)e.push(r);else{var i=n;r>=55296&&57343>=r&&n++;for(var o=encodeURIComponent(t.slice(i,n+1)).substr(1).split("%"),a=0;a<o.length;a++)e.push(parseInt(o[a],16))}}return e}function P(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function N(t){for(var e,n,r,i=[],o=0;o<t.length;o++)e=t.charCodeAt(o),n=e>>8,r=e%256,i.push(r),i.push(n);return i}function F(t){return q.toByteArray(t)}function j(t,e,n,r){for(var i=0;r>i&&!(i+n>=e.length||i>=t.length);i++)e[i+n]=t[i];return i}function R(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}function U(t,e){B("number"==typeof t,"cannot write a non-number as a number"),B(t>=0,"specified a negative value for writing an unsigned value"),B(e>=t,"value is larger than maximum value for type"),B(Math.floor(t)===t,"value has a fractional component")}function L(t,e,n){B("number"==typeof t,"cannot write a non-number as a number"),B(e>=t,"value larger than maximum allowed value"),B(t>=n,"value smaller than minimum allowed value"),B(Math.floor(t)===t,"value has a fractional component")}function V(t,e,n){B("number"==typeof t,"cannot write a non-number as a number"),B(e>=t,"value larger than maximum allowed value"),B(t>=n,"value smaller than minimum allowed value")}function B(t,e){if(!t)throw new Error(e||"Failed assertion")}var q=t("base64-js"),H=t("ieee754");n.Buffer=r,n.SlowBuffer=r,n.INSPECT_MAX_BYTES=50,r.poolSize=8192;var W=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(n){return!1}}();r.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.isBuffer=function(t){return!(null==t||!t._isBuffer)},r.byteLength=function(t,e){var n;switch(t=t.toString(),e||"utf8"){case"hex":n=t.length/2;break;case"utf8":case"utf-8":n=I(t).length;break;case"ascii":case"binary":case"raw":n=t.length;break;case"base64":n=F(t).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*t.length;break;default:throw new Error("Unknown encoding")}return n},r.concat=function(t,e){if(B(O(t),"Usage: Buffer.concat(list[, length])"),0===t.length)return new r(0);if(1===t.length)return t[0];var n;if(void 0===e)for(e=0,n=0;n<t.length;n++)e+=t[n].length;var i=new r(e),o=0;for(n=0;n<t.length;n++){var a=t[n];a.copy(i,o),o+=a.length}return i},r.compare=function(t,e){B(r.isBuffer(t)&&r.isBuffer(e),"Arguments must be Buffers");for(var n=t.length,i=e.length,o=0,a=Math.min(n,i);a>o&&t[o]===e[o];o++);return o!==a&&(n=t[o],i=e[o]),i>n?-1:n>i?1:0},r.prototype.write=function(t,e,n,r){if(isFinite(e))isFinite(n)||(r=n,n=void 0);else{var c=r;r=e,e=n,n=c}e=Number(e)||0;var f=this.length-e;n?(n=Number(n),n>f&&(n=f)):n=f,r=String(r||"utf8").toLowerCase();var p;switch(r){case"hex":p=i(this,t,e,n);break;case"utf8":case"utf-8":p=o(this,t,e,n);break;case"ascii":p=a(this,t,e,n);break;case"binary":p=s(this,t,e,n);break;case"base64":p=u(this,t,e,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":p=l(this,t,e,n);break;default:throw new Error("Unknown encoding")}return p},r.prototype.toString=function(t,e,n){var r=this;if(t=String(t||"utf8").toLowerCase(),e=Number(e)||0,n=void 0===n?r.length:Number(n),n===e)return"";var i;switch(t){case"hex":i=d(r,e,n);break;case"utf8":case"utf-8":i=f(r,e,n);break;case"ascii":i=p(r,e,n);break;case"binary":i=h(r,e,n);break;case"base64":i=c(r,e,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=g(r,e,n);break;default:throw new Error("Unknown encoding")}return i},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},r.prototype.equals=function(t){return B(r.isBuffer(t),"Argument must be a Buffer"),0===r.compare(this,t)},r.prototype.compare=function(t){return B(r.isBuffer(t),"Argument must be a Buffer"),r.compare(this,t)},r.prototype.copy=function(t,e,n,r){var i=this;if(n||(n=0),r||0===r||(r=this.length),e||(e=0),r!==n&&0!==t.length&&0!==i.length){B(r>=n,"sourceEnd < sourceStart"),B(e>=0&&e<t.length,"targetStart out of bounds"),B(n>=0&&n<i.length,"sourceStart out of bounds"),B(r>=0&&r<=i.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o=r-n;if(100>o||!W)for(var a=0;o>a;a++)t[a+e]=this[a+n];else t._set(this.subarray(n,n+o),e)}},r.prototype.slice=function(t,e){var n=this.length;if(t=~~t,e=void 0===e?n:~~e,0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),t>e&&(e=t),W)return r._augment(this.subarray(t,e));for(var i=e-t,o=new r(i,void 0,!0),a=0;i>a;a++)o[a]=this[a+t];return o},r.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},r.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},r.prototype.readUInt8=function(t,e){return e||(B(void 0!==t&&null!==t,"missing offset"),B(t<this.length,"Trying to read beyond buffer length")),t>=this.length?void 0:this[t]},r.prototype.readUInt16LE=function(t,e){return m(this,t,!0,e)},r.prototype.readUInt16BE=function(t,e){return m(this,t,!1,e)},r.prototype.readUInt32LE=function(t,e){return v(this,t,!0,e)},r.prototype.readUInt32BE=function(t,e){return v(this,t,!1,e)},r.prototype.readInt8=function(t,e){if(e||(B(void 0!==t&&null!==t,"missing offset"),B(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length)){var n=128&this[t];return n?-1*(255-this[t]+1):this[t]}},r.prototype.readInt16LE=function(t,e){return b(this,t,!0,e)},r.prototype.readInt16BE=function(t,e){return b(this,t,!1,e)},r.prototype.readInt32LE=function(t,e){return y(this,t,!0,e)},r.prototype.readInt32BE=function(t,e){return y(this,t,!1,e)},r.prototype.readFloatLE=function(t,e){return $(this,t,!0,e)},r.prototype.readFloatBE=function(t,e){return $(this,t,!1,e)},r.prototype.readDoubleLE=function(t,e){return w(this,t,!0,e)},r.prototype.readDoubleBE=function(t,e){return w(this,t,!1,e)},r.prototype.writeUInt8=function(t,e,n){return n||(B(void 0!==t&&null!==t,"missing value"),B(void 0!==e&&null!==e,"missing offset"),B(e<this.length,"trying to write beyond buffer length"),U(t,255)),e>=this.length?void 0:(this[e]=t,e+1)},r.prototype.writeUInt16LE=function(t,e,n){return E(this,t,e,!0,n)},r.prototype.writeUInt16BE=function(t,e,n){return E(this,t,e,!1,n)},r.prototype.writeUInt32LE=function(t,e,n){return _(this,t,e,!0,n)},r.prototype.writeUInt32BE=function(t,e,n){return _(this,t,e,!1,n)},r.prototype.writeInt8=function(t,e,n){return n||(B(void 0!==t&&null!==t,"missing value"),B(void 0!==e&&null!==e,"missing offset"),B(e<this.length,"Trying to write beyond buffer length"),L(t,127,-128)),e>=this.length?void 0:(t>=0?this.writeUInt8(t,e,n):this.writeUInt8(255+t+1,e,n),e+1)},r.prototype.writeInt16LE=function(t,e,n){return S(this,t,e,!0,n)},r.prototype.writeInt16BE=function(t,e,n){return S(this,t,e,!1,n)},r.prototype.writeInt32LE=function(t,e,n){return x(this,t,e,!0,n)},r.prototype.writeInt32BE=function(t,e,n){return x(this,t,e,!1,n)},r.prototype.writeFloatLE=function(t,e,n){return k(this,t,e,!0,n)},r.prototype.writeFloatBE=function(t,e,n){return k(this,t,e,!1,n)},r.prototype.writeDoubleLE=function(t,e,n){return A(this,t,e,!0,n)},r.prototype.writeDoubleBE=function(t,e,n){return A(this,t,e,!1,n)},r.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),B(n>=e,"end < start"),n!==e&&0!==this.length){B(e>=0&&e<this.length,"start out of bounds"),B(n>=0&&n<=this.length,"end out of bounds");var r;if("number"==typeof t)for(r=e;n>r;r++)this[r]=t;else{var i=I(t.toString()),o=i.length;for(r=e;n>r;r++)this[r]=i[r%o]}return this}},r.prototype.inspect=function(){for(var t=[],e=this.length,r=0;e>r;r++)if(t[r]=M(this[r]),r===n.INSPECT_MAX_BYTES){t[r+1]="...";break}return"<Buffer "+t.join(" ")+">"},r.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(W)return new r(this).buffer;for(var t=new Uint8Array(this.length),e=0,n=t.length;n>e;e+=1)t[e]=this[e];return t.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var z=r.prototype;r._augment=function(t){return t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=z.get,t.set=z.set,t.write=z.write,t.toString=z.toString,t.toLocaleString=z.toString,t.toJSON=z.toJSON,t.equals=z.equals,t.compare=z.compare,t.copy=z.copy,t.slice=z.slice,t.readUInt8=z.readUInt8,t.readUInt16LE=z.readUInt16LE,t.readUInt16BE=z.readUInt16BE,t.readUInt32LE=z.readUInt32LE,t.readUInt32BE=z.readUInt32BE,t.readInt8=z.readInt8,t.readInt16LE=z.readInt16LE,t.readInt16BE=z.readInt16BE,t.readInt32LE=z.readInt32LE,t.readInt32BE=z.readInt32BE,t.readFloatLE=z.readFloatLE,t.readFloatBE=z.readFloatBE,t.readDoubleLE=z.readDoubleLE,t.readDoubleBE=z.readDoubleBE,t.writeUInt8=z.writeUInt8,t.writeUInt16LE=z.writeUInt16LE,t.writeUInt16BE=z.writeUInt16BE,t.writeUInt32LE=z.writeUInt32LE,t.writeUInt32BE=z.writeUInt32BE,t.writeInt8=z.writeInt8,t.writeInt16LE=z.writeInt16LE,t.writeInt16BE=z.writeInt16BE,t.writeInt32LE=z.writeInt32LE,t.writeInt32BE=z.writeInt32BE,t.writeFloatLE=z.writeFloatLE,t.writeFloatBE=z.writeFloatBE,t.writeDoubleLE=z.writeDoubleLE,t.writeDoubleBE=z.writeDoubleBE,t.fill=z.fill,t.inspect=z.inspect,t.toArrayBuffer=z.toArrayBuffer,t};var K=/[^+\/0-9A-z]/g},{"base64-js":5,ieee754:6}],5:[function(t,e,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===a?62:e===s?63:u>e?-1:u+10>e?e-u+26+26:c+26>e?e-c:l+26>e?e-l+26:void 0}function n(t){function n(t){l[f++]=t}var r,i,a,s,u,l;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=t.length;u="="===t.charAt(c-2)?2:"="===t.charAt(c-1)?1:0,l=new o(3*t.length/4-u),a=u>0?t.length-4:t.length;var f=0;for(r=0,i=0;a>r;r+=4,i+=3)s=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===u?(s=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&s)):1===u&&(s=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(s>>8&255),n(255&s)),l}function i(t){function e(t){return r.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var i,o,a,s=t.length%3,u="";for(i=0,a=t.length-s;a>i;i+=3)o=(t[i]<<16)+(t[i+1]<<8)+t[i+2],u+=n(o);switch(s){case 1:o=t[t.length-1],u+=e(o>>2),u+=e(o<<4&63),u+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],u+=e(o>>10),u+=e(o>>4&63),u+=e(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),u="0".charCodeAt(0),l="a".charCodeAt(0),c="A".charCodeAt(0);t.toByteArray=n,t.fromByteArray=i}("undefined"==typeof n?this.base64js={}:n)},{}],6:[function(t,e,n){n.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,p=n?-1:1,h=t[e+f];for(f+=p,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+t[e+f],f+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return a?0/0:1/0*(h?-1:1);a+=Math.pow(2,r),o-=l}return(h?-1:1)*a*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,d=r?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+f>=1?p/u:p*Math.pow(2,1-f),e*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+h]=255&s,h+=d,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+h]=255&a,h+=d,a/=256,l-=8);t[n+h-d]|=128*g}},{}],7:[function(e,n,r){(function(e){(function(){function i(t,e,n){for(var r=(n||0)-1,i=t?t.length:0;++r<i;)if(t[r]===e)return r;return-1}function o(t,e){var n=typeof e;if(t=t.cache,"boolean"==n||null==e)return t[e]?0:-1;"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:w+e;return t=(t=t[n])&&t[r],"object"==n?t&&i(t,e)>-1?0:-1:t?0:-1}function a(t){var e=this.cache,n=typeof t;if("boolean"==n||null==t)e[t]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?t:w+t,i=e[n]||(e[n]={});"object"==n?(i[r]||(i[r]=[])).push(t):i[r]=!0}}function s(t){return t.charCodeAt(0)}function u(t,e){for(var n=t.criteria,r=e.criteria,i=-1,o=n.length;++i<o;){var a=n[i],s=r[i];if(a!==s){if(a>s||"undefined"==typeof a)return 1;if(s>a||"undefined"==typeof s)return-1}}return t.index-e.index}function l(t){var e=-1,n=t.length,r=t[0],i=t[n/2|0],o=t[n-1];if(r&&"object"==typeof r&&i&&"object"==typeof i&&o&&"object"==typeof o)return!1;var s=p();s["false"]=s["null"]=s["true"]=s.undefined=!1;var u=p();for(u.array=t,u.cache=s,u.push=a;++e<n;)u.push(t[e]);return u}function c(t){return"\\"+G[t]}function f(){return b.pop()||[]}function p(){return y.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function h(t){t.length=0,b.length<_&&b.push(t)}function d(t){var e=t.cache;e&&d(e),t.array=t.cache=t.criteria=t.object=t.number=t.string=t.value=null,y.length<_&&y.push(t)}function g(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,i=n-e||0,o=Array(0>i?0:i);++r<i;)o[r]=t[e+r];return o}function m(t){function e(t){return t&&"object"==typeof t&&!Zr(t)&&Pr.call(t,"__wrapped__")?t:new n(t)}function n(t,e){this.__chain__=!!e,this.__wrapped__=t}function r(t){function e(){if(r){var t=g(r);Nr.apply(t,arguments)}if(this instanceof e){var o=b(n.prototype),a=n.apply(o,t||arguments);return Oe(a)?a:o}return n.apply(i,t||arguments)}var n=t[0],r=t[2],i=t[4];return Gr(e,t),e}function a(t,e,n,r,i){if(n){var o=n(t);if("undefined"!=typeof o)return o}var s=Oe(t);if(!s)return t;var u=Ar.call(t);if(!K[u])return t;var l=Yr[u];switch(u){case L:case V:return new l(+t);case q:case z:return new l(t);case W:return o=l(t.source,D.exec(t)),o.lastIndex=t.lastIndex,o}var c=Zr(t);if(e){var p=!r;r||(r=f()),i||(i=f());for(var d=r.length;d--;)if(r[d]==t)return i[d];o=c?l(t.length):{}}else o=c?g(t):oi({},t);return c&&(Pr.call(t,"index")&&(o.index=t.index),Pr.call(t,"input")&&(o.input=t.input)),e?(r.push(t),i.push(o),(c?Qe:ui)(t,function(t,s){o[s]=a(t,e,n,r,i)}),p&&(h(r),h(i)),o):o}function b(t){return Oe(t)?Lr(t):{}}function y(t,e,n){if("function"!=typeof t)return Zn;if("undefined"==typeof e||!("prototype"in t))return t;var r=t.__bindData__;if("undefined"==typeof r&&(Qr.funcNames&&(r=!t.name),r=r||!Qr.funcDecomp,!r)){var i=Mr.call(t);Qr.funcNames||(r=!O.test(i)),r||(r=P.test(i),Gr(t,r))}if(r===!1||r!==!0&&1&r[1])return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return Nn(t,e)}function _(t){function e(){var t=u?a:this;if(i){var h=g(i);Nr.apply(h,arguments)}if((o||c)&&(h||(h=g(arguments)),o&&Nr.apply(h,o),c&&h.length<s))return r|=16,_([n,f?r:-4&r,h,null,a,s]);if(h||(h=arguments),l&&(n=t[p]),this instanceof e){t=b(n.prototype);var d=n.apply(t,h);return Oe(d)?d:t}return n.apply(t,h)}var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=1&r,l=2&r,c=4&r,f=8&r,p=n;return Gr(e,t),e}function G(t,e){var n=-1,r=ue(),a=t?t.length:0,s=a>=E&&r===i,u=[];if(s){var c=l(e);c?(r=o,e=c):s=!1}for(;++n<a;){var f=t[n];r(e,f)<0&&u.push(f)}return s&&d(e),u}function X(t,e,n,r){for(var i=(r||0)-1,o=t?t.length:0,a=[];++i<o;){var s=t[i];if(s&&"object"==typeof s&&"number"==typeof s.length&&(Zr(s)||pe(s))){e||(s=X(s,e,n));var u=-1,l=s.length,c=a.length;for(a.length+=l;++u<l;)a[c++]=s[u]}else n||a.push(s)}return a}function te(t,e,n,r,i,o){if(n){var a=n(t,e);if("undefined"!=typeof a)return!!a}if(t===e)return 0!==t||1/t==1/e;var s=typeof t,u=typeof e;if(!(t!==t||t&&Q[s]||e&&Q[u]))return!1;if(null==t||null==e)return t===e;var l=Ar.call(t),c=Ar.call(e);if(l==R&&(l=H),c==R&&(c=H),l!=c)return!1;switch(l){case L:case V:return+t==+e;case q:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case W:case z:return t==Er(e)}var p=l==U;if(!p){var d=Pr.call(t,"__wrapped__"),g=Pr.call(e,"__wrapped__");if(d||g)return te(d?t.__wrapped__:t,g?e.__wrapped__:e,n,r,i,o);if(l!=H)return!1;var m=t.constructor,v=e.constructor;if(m!=v&&!(De(m)&&m instanceof m&&De(v)&&v instanceof v)&&"constructor"in t&&"constructor"in e)return!1}var b=!i;i||(i=f()),o||(o=f());for(var y=i.length;y--;)if(i[y]==t)return o[y]==e;var $=0;if(a=!0,i.push(t),o.push(e),p){if(y=t.length,$=e.length,a=$==y,a||r)for(;$--;){var w=y,E=e[$];if(r)for(;w--&&!(a=te(t[w],E,n,r,i,o)););else if(!(a=te(t[$],E,n,r,i,o)))break}}else si(e,function(e,s,u){return Pr.call(u,s)?($++,a=Pr.call(t,s)&&te(t[s],e,n,r,i,o)):void 0}),a&&!r&&si(t,function(t,e,n){return Pr.call(n,e)?a=--$>-1:void 0});return i.pop(),o.pop(),b&&(h(i),h(o)),a}function ee(t,e,n,r,i){(Zr(e)?Qe:ui)(e,function(e,o){var a,s,u=e,l=t[o];if(e&&((s=Zr(e))||li(e))){for(var c=r.length;c--;)if(a=r[c]==e){l=i[c];break}if(!a){var f;n&&(u=n(l,e),(f="undefined"!=typeof u)&&(l=u)),f||(l=s?Zr(l)?l:[]:li(l)?l:{}),r.push(e),i.push(l),f||ee(l,e,n,r,i)}}else n&&(u=n(l,e),"undefined"==typeof u&&(u=e)),"undefined"!=typeof u&&(l=u);t[o]=l})}function ne(t,e){return t+Tr(Jr()*(e-t+1))}function ie(t,e,n){var r=-1,a=ue(),s=t?t.length:0,u=[],c=!e&&s>=E&&a===i,p=n||c?f():u;if(c){var g=l(p);a=o,p=g}for(;++r<s;){var m=t[r],v=n?n(m,r,t):m;(e?!r||p[p.length-1]!==v:a(p,v)<0)&&((n||c)&&p.push(v),u.push(m))}return c?(h(p.array),d(p)):n&&h(p),u}function oe(t){return function(n,r,i){var o={};r=e.createCallback(r,i,3);var a=-1,s=n?n.length:0;if("number"==typeof s)for(;++a<s;){var u=n[a];t(o,u,r(u,a,n),n)}else ui(n,function(e,n,i){t(o,e,r(e,n,i),i)});return o}}function ae(t,e,n,i,o,a){var s=1&e,u=2&e,l=4&e,c=16&e,f=32&e;if(!u&&!De(t))throw new _r;c&&!n.length&&(e&=-17,c=n=!1),f&&!i.length&&(e&=-33,f=i=!1);var p=t&&t.__bindData__;if(p&&p!==!0)return p=g(p),p[2]&&(p[2]=g(p[2])),p[3]&&(p[3]=g(p[3])),!s||1&p[1]||(p[4]=o),!s&&1&p[1]&&(e|=8),!l||4&p[1]||(p[5]=a),c&&Nr.apply(p[2]||(p[2]=[]),n),f&&Rr.apply(p[3]||(p[3]=[]),i),p[1]|=e,ae.apply(null,p);var h=1==e||17===e?r:_;return h([t,e,n,i,o,a])}function se(t){return ei[t]}function ue(){var t=(t=e.indexOf)===bn?i:t;return t}function le(t){return"function"==typeof t&&Cr.test(t)}function ce(t){var e,n;return t&&Ar.call(t)==H&&(e=t.constructor,!De(e)||e instanceof e)?(si(t,function(t,e){n=e}),"undefined"==typeof n||Pr.call(t,n)):!1}function fe(t){return ni[t]}function pe(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Ar.call(t)==R||!1}function he(t,e,n,r){return"boolean"!=typeof e&&null!=e&&(r=n,n=e,e=!1),a(t,e,"function"==typeof n&&y(n,r,1))}function de(t,e,n){return a(t,!0,"function"==typeof e&&y(e,n,1))}function ge(t,e){var n=b(t);return e?oi(n,e):n}function me(t,n,r){var i;return n=e.createCallback(n,r,3),ui(t,function(t,e,r){return n(t,e,r)?(i=e,!1):void 0}),i}function ve(t,n,r){var i;return n=e.createCallback(n,r,3),ye(t,function(t,e,r){return n(t,e,r)?(i=e,!1):void 0}),i}function be(t,e,n){var r=[];si(t,function(t,e){r.push(e,t)});var i=r.length;for(e=y(e,n,3);i--&&e(r[i--],r[i],t)!==!1;);return t}function ye(t,e,n){var r=ti(t),i=r.length;for(e=y(e,n,3);i--;){var o=r[i];if(e(t[o],o,t)===!1)break}return t}function $e(t){var e=[];return si(t,function(t,n){De(t)&&e.push(n)}),e.sort()}function we(t,e){return t?Pr.call(t,e):!1}function Ee(t){for(var e=-1,n=ti(t),r=n.length,i={};++e<r;){var o=n[e];i[t[o]]=o}return i}function _e(t){return t===!0||t===!1||t&&"object"==typeof t&&Ar.call(t)==L||!1}function Se(t){return t&&"object"==typeof t&&Ar.call(t)==V||!1}function xe(t){return t&&1===t.nodeType||!1}function ke(t){var e=!0;if(!t)return e;var n=Ar.call(t),r=t.length;return n==U||n==z||n==R||n==H&&"number"==typeof r&&De(t.splice)?!r:(ui(t,function(){return e=!1}),e)}function Ae(t,e,n,r){return te(t,e,"function"==typeof n&&y(n,r,2))}function Ce(t){return Br(t)&&!qr(parseFloat(t))}function De(t){return"function"==typeof t}function Oe(t){return!(!t||!Q[typeof t])}function Te(t){return Ie(t)&&t!=+t}function Me(t){return null===t}function Ie(t){return"number"==typeof t||t&&"object"==typeof t&&Ar.call(t)==q||!1}function Pe(t){return t&&"object"==typeof t&&Ar.call(t)==W||!1}function Ne(t){return"string"==typeof t||t&&"object"==typeof t&&Ar.call(t)==z||!1}function Fe(t){return"undefined"==typeof t}function je(t,n,r){var i={};return n=e.createCallback(n,r,3),ui(t,function(t,e,r){i[e]=n(t,e,r)}),i}function Re(t){var e=arguments,n=2;if(!Oe(t))return t;if("number"!=typeof e[2]&&(n=e.length),n>3&&"function"==typeof e[n-2])var r=y(e[--n-1],e[n--],2);else n>2&&"function"==typeof e[n-1]&&(r=e[--n]);for(var i=g(arguments,1,n),o=-1,a=f(),s=f();++o<n;)ee(t,i[o],r,a,s);return h(a),h(s),t}function Ue(t,n,r){var i={};if("function"!=typeof n){var o=[];si(t,function(t,e){o.push(e)}),o=G(o,X(arguments,!0,!1,1));for(var a=-1,s=o.length;++a<s;){var u=o[a];i[u]=t[u]}}else n=e.createCallback(n,r,3),si(t,function(t,e,r){n(t,e,r)||(i[e]=t)});return i}function Le(t){for(var e=-1,n=ti(t),r=n.length,i=dr(r);++e<r;){var o=n[e];i[e]=[o,t[o]]}return i}function Ve(t,n,r){var i={};if("function"!=typeof n)for(var o=-1,a=X(arguments,!0,!1,1),s=Oe(t)?a.length:0;++o<s;){var u=a[o];u in t&&(i[u]=t[u])}else n=e.createCallback(n,r,3),si(t,function(t,e,r){n(t,e,r)&&(i[e]=t)});return i}function Be(t,n,r,i){var o=Zr(t);if(null==r)if(o)r=[];else{var a=t&&t.constructor,s=a&&a.prototype;r=b(s)}return n&&(n=e.createCallback(n,i,4),(o?Qe:ui)(t,function(t,e,i){return n(r,t,e,i)})),r}function qe(t){for(var e=-1,n=ti(t),r=n.length,i=dr(r);++e<r;)i[e]=t[n[e]];return i}function He(t){for(var e=arguments,n=-1,r=X(e,!0,!1,1),i=e[2]&&e[2][e[1]]===t?1:r.length,o=dr(i);++n<i;)o[n]=t[r[n]];return o}function We(t,e,n){var r=-1,i=ue(),o=t?t.length:0,a=!1;return n=(0>n?Wr(0,o+n):n)||0,Zr(t)?a=i(t,e,n)>-1:"number"==typeof o?a=(Ne(t)?t.indexOf(e,n):i(t,e,n))>-1:ui(t,function(t){return++r>=n?!(a=t===e):void 0}),a}function ze(t,n,r){var i=!0;n=e.createCallback(n,r,3);var o=-1,a=t?t.length:0;if("number"==typeof a)for(;++o<a&&(i=!!n(t[o],o,t)););else ui(t,function(t,e,r){return i=!!n(t,e,r)});return i}function Ke(t,n,r){var i=[];n=e.createCallback(n,r,3);var o=-1,a=t?t.length:0;if("number"==typeof a)for(;++o<a;){var s=t[o];n(s,o,t)&&i.push(s)}else ui(t,function(t,e,r){n(t,e,r)&&i.push(t)});return i}function Je(t,n,r){n=e.createCallback(n,r,3);var i=-1,o=t?t.length:0;if("number"!=typeof o){var a;return ui(t,function(t,e,r){return n(t,e,r)?(a=t,!1):void 0}),a}for(;++i<o;){var s=t[i];if(n(s,i,t))return s}}function Ye(t,n,r){var i;return n=e.createCallback(n,r,3),Ge(t,function(t,e,r){return n(t,e,r)?(i=t,!1):void 0}),i}function Qe(t,e,n){var r=-1,i=t?t.length:0;if(e=e&&"undefined"==typeof n?e:y(e,n,3),"number"==typeof i)for(;++r<i&&e(t[r],r,t)!==!1;);else ui(t,e);return t}function Ge(t,e,n){var r=t?t.length:0;if(e=e&&"undefined"==typeof n?e:y(e,n,3),"number"==typeof r)for(;r--&&e(t[r],r,t)!==!1;);else{var i=ti(t);r=i.length,ui(t,function(t,n,o){return n=i?i[--r]:--r,e(o[n],n,o)})}return t}function Ze(t,e){var n=g(arguments,2),r=-1,i="function"==typeof e,o=t?t.length:0,a=dr("number"==typeof o?o:0);return Qe(t,function(t){a[++r]=(i?e:t[e]).apply(t,n)}),a}function Xe(t,n,r){var i=-1,o=t?t.length:0;if(n=e.createCallback(n,r,3),"number"==typeof o)for(var a=dr(o);++i<o;)a[i]=n(t[i],i,t);else a=[],ui(t,function(t,e,r){a[++i]=n(t,e,r)});return a}function tn(t,n,r){var i=-1/0,o=i;if("function"!=typeof n&&r&&r[n]===t&&(n=null),null==n&&Zr(t))for(var a=-1,u=t.length;++a<u;){var l=t[a];l>o&&(o=l)}else n=null==n&&Ne(t)?s:e.createCallback(n,r,3),Qe(t,function(t,e,r){var a=n(t,e,r);a>i&&(i=a,o=t)});return o}function en(t,n,r){var i=1/0,o=i;if("function"!=typeof n&&r&&r[n]===t&&(n=null),null==n&&Zr(t))for(var a=-1,u=t.length;++a<u;){var l=t[a];o>l&&(o=l)}else n=null==n&&Ne(t)?s:e.createCallback(n,r,3),Qe(t,function(t,e,r){var a=n(t,e,r);i>a&&(i=a,o=t)});return o}function nn(t,n,r,i){if(!t)return r;var o=arguments.length<3;n=e.createCallback(n,i,4);var a=-1,s=t.length;if("number"==typeof s)for(o&&(r=t[++a]);++a<s;)r=n(r,t[a],a,t);else ui(t,function(t,e,i){r=o?(o=!1,t):n(r,t,e,i)});return r}function rn(t,n,r,i){var o=arguments.length<3;return n=e.createCallback(n,i,4),Ge(t,function(t,e,i){r=o?(o=!1,t):n(r,t,e,i)}),r}function on(t,n,r){return n=e.createCallback(n,r,3),Ke(t,function(t,e,r){return!n(t,e,r)})}function an(t,e,n){if(t&&"number"!=typeof t.length&&(t=qe(t)),null==e||n)return t?t[ne(0,t.length-1)]:v;var r=sn(t);return r.length=zr(Wr(0,e),r.length),r}function sn(t){var e=-1,n=t?t.length:0,r=dr("number"==typeof n?n:0);return Qe(t,function(t){var n=ne(0,++e);r[e]=r[n],r[n]=t}),r}function un(t){var e=t?t.length:0;return"number"==typeof e?e:ti(t).length}function ln(t,n,r){var i;n=e.createCallback(n,r,3);var o=-1,a=t?t.length:0;if("number"==typeof a)for(;++o<a&&!(i=n(t[o],o,t)););else ui(t,function(t,e,r){return!(i=n(t,e,r))});return!!i}function cn(t,n,r){var i=-1,o=Zr(n),a=t?t.length:0,s=dr("number"==typeof a?a:0);for(o||(n=e.createCallback(n,r,3)),Qe(t,function(t,e,r){var a=s[++i]=p();o?a.criteria=Xe(n,function(e){return t[e]}):(a.criteria=f())[0]=n(t,e,r),a.index=i,a.value=t}),a=s.length,s.sort(u);a--;){var l=s[a];s[a]=l.value,o||h(l.criteria),d(l)}return s}function fn(t){return t&&"number"==typeof t.length?g(t):qe(t)}function pn(t){for(var e=-1,n=t?t.length:0,r=[];++e<n;){var i=t[e];i&&r.push(i)}return r}function hn(t){return G(t,X(arguments,!0,!0,1))}function dn(t,n,r){var i=-1,o=t?t.length:0;for(n=e.createCallback(n,r,3);++i<o;)if(n(t[i],i,t))return i;return-1}function gn(t,n,r){var i=t?t.length:0;for(n=e.createCallback(n,r,3);i--;)if(n(t[i],i,t))return i;return-1}function mn(t,n,r){var i=0,o=t?t.length:0;if("number"!=typeof n&&null!=n){var a=-1;for(n=e.createCallback(n,r,3);++a<o&&n(t[a],a,t);)i++}else if(i=n,null==i||r)return t?t[0]:v;return g(t,0,zr(Wr(0,i),o))}function vn(t,e,n,r){return"boolean"!=typeof e&&null!=e&&(r=n,n="function"!=typeof e&&r&&r[e]===t?null:e,e=!1),null!=n&&(t=Xe(t,n,r)),X(t,e)}function bn(t,e,n){if("number"==typeof n){var r=t?t.length:0;
n=0>n?Wr(0,r+n):n||0}else if(n){var o=An(t,e);return t[o]===e?o:-1}return i(t,e,n)}function yn(t,n,r){var i=0,o=t?t.length:0;if("number"!=typeof n&&null!=n){var a=o;for(n=e.createCallback(n,r,3);a--&&n(t[a],a,t);)i++}else i=null==n||r?1:n||i;return g(t,0,zr(Wr(0,o-i),o))}function $n(){for(var t=[],e=-1,n=arguments.length,r=f(),a=ue(),s=a===i,u=f();++e<n;){var c=arguments[e];(Zr(c)||pe(c))&&(t.push(c),r.push(s&&c.length>=E&&l(e?t[e]:u)))}var p=t[0],g=-1,m=p?p.length:0,v=[];t:for(;++g<m;){var b=r[0];if(c=p[g],(b?o(b,c):a(u,c))<0){for(e=n,(b||u).push(c);--e;)if(b=r[e],(b?o(b,c):a(t[e],c))<0)continue t;v.push(c)}}for(;n--;)b=r[n],b&&d(b);return h(r),h(u),v}function wn(t,n,r){var i=0,o=t?t.length:0;if("number"!=typeof n&&null!=n){var a=o;for(n=e.createCallback(n,r,3);a--&&n(t[a],a,t);)i++}else if(i=n,null==i||r)return t?t[o-1]:v;return g(t,Wr(0,o-i))}function En(t,e,n){var r=t?t.length:0;for("number"==typeof n&&(r=(0>n?Wr(0,r+n):zr(n,r-1))+1);r--;)if(t[r]===e)return r;return-1}function _n(t){for(var e=arguments,n=0,r=e.length,i=t?t.length:0;++n<r;)for(var o=-1,a=e[n];++o<i;)t[o]===a&&(jr.call(t,o--,1),i--);return t}function Sn(t,e,n){t=+t||0,n="number"==typeof n?n:+n||1,null==e&&(e=t,t=0);for(var r=-1,i=Wr(0,Dr((e-t)/(n||1))),o=dr(i);++r<i;)o[r]=t,t+=n;return o}function xn(t,n,r){var i=-1,o=t?t.length:0,a=[];for(n=e.createCallback(n,r,3);++i<o;){var s=t[i];n(s,i,t)&&(a.push(s),jr.call(t,i--,1),o--)}return a}function kn(t,n,r){if("number"!=typeof n&&null!=n){var i=0,o=-1,a=t?t.length:0;for(n=e.createCallback(n,r,3);++o<a&&n(t[o],o,t);)i++}else i=null==n||r?1:Wr(0,n);return g(t,i)}function An(t,n,r,i){var o=0,a=t?t.length:o;for(r=r?e.createCallback(r,i,1):Zn,n=r(n);a>o;){var s=o+a>>>1;r(t[s])<n?o=s+1:a=s}return o}function Cn(){return ie(X(arguments,!0,!0))}function Dn(t,n,r,i){return"boolean"!=typeof n&&null!=n&&(i=r,r="function"!=typeof n&&i&&i[n]===t?null:n,n=!1),null!=r&&(r=e.createCallback(r,i,3)),ie(t,n,r)}function On(t){return G(t,g(arguments,1))}function Tn(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Zr(n)||pe(n))var r=r?ie(G(r,n).concat(G(n,r))):n}return r||[]}function Mn(){for(var t=arguments.length>1?arguments:arguments[0],e=-1,n=t?tn(hi(t,"length")):0,r=dr(0>n?0:n);++e<n;)r[e]=hi(t,e);return r}function In(t,e){var n=-1,r=t?t.length:0,i={};for(e||!r||Zr(t[0])||(e=[]);++n<r;){var o=t[n];e?i[o]=e[n]:o&&(i[o[0]]=o[1])}return i}function Pn(t,e){if(!De(e))throw new _r;return function(){return--t<1?e.apply(this,arguments):void 0}}function Nn(t,e){return arguments.length>2?ae(t,17,g(arguments,2),null,e):ae(t,1,null,null,e)}function Fn(t){for(var e=arguments.length>1?X(arguments,!0,!1,1):$e(t),n=-1,r=e.length;++n<r;){var i=e[n];t[i]=ae(t[i],1,null,null,t)}return t}function jn(t,e){return arguments.length>2?ae(e,19,g(arguments,2),null,t):ae(e,3,null,null,t)}function Rn(){for(var t=arguments,e=t.length;e--;)if(!De(t[e]))throw new _r;return function(){for(var e=arguments,n=t.length;n--;)e=[t[n].apply(this,e)];return e[0]}}function Un(t,e){return e="number"==typeof e?e:+e||t.length,ae(t,4,null,null,null,e)}function Ln(t,e,n){var r,i,o,a,s,u,l,c=0,f=!1,p=!0;if(!De(t))throw new _r;if(e=Wr(0,e)||0,n===!0){var h=!0;p=!1}else Oe(n)&&(h=n.leading,f="maxWait"in n&&(Wr(e,n.maxWait)||0),p="trailing"in n?n.trailing:p);var d=function(){var n=e-(gi()-a);if(0>=n){i&&Or(i);var f=l;i=u=l=v,f&&(c=gi(),o=t.apply(s,r),u||i||(r=s=null))}else u=Fr(d,n)},g=function(){u&&Or(u),i=u=l=v,(p||f!==e)&&(c=gi(),o=t.apply(s,r),u||i||(r=s=null))};return function(){if(r=arguments,a=gi(),s=this,l=p&&(u||!h),f===!1)var n=h&&!u;else{i||h||(c=a);var m=f-(a-c),v=0>=m;v?(i&&(i=Or(i)),c=a,o=t.apply(s,r)):i||(i=Fr(g,m))}return v&&u?u=Or(u):u||e===f||(u=Fr(d,e)),n&&(v=!0,o=t.apply(s,r)),!v||u||i||(r=s=null),o}}function Vn(t){if(!De(t))throw new _r;var e=g(arguments,1);return Fr(function(){t.apply(v,e)},1)}function Bn(t,e){if(!De(t))throw new _r;var n=g(arguments,2);return Fr(function(){t.apply(v,n)},e)}function qn(t,e){if(!De(t))throw new _r;var n=function(){var r=n.cache,i=e?e.apply(this,arguments):w+arguments[0];return Pr.call(r,i)?r[i]:r[i]=t.apply(this,arguments)};return n.cache={},n}function Hn(t){var e,n;if(!De(t))throw new _r;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}}function Wn(t){return ae(t,16,g(arguments,1))}function zn(t){return ae(t,32,null,g(arguments,1))}function Kn(t,e,n){var r=!0,i=!0;if(!De(t))throw new _r;return n===!1?r=!1:Oe(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),J.leading=r,J.maxWait=e,J.trailing=i,Ln(t,e,J)}function Jn(t,e){return ae(e,16,[t])}function Yn(t){return function(){return t}}function Qn(t,e,n){var r=typeof t;if(null==t||"function"==r)return y(t,e,n);if("object"!=r)return nr(t);var i=ti(t),o=i[0],a=t[o];return 1!=i.length||a!==a||Oe(a)?function(e){for(var n=i.length,r=!1;n--&&(r=te(e[i[n]],t[i[n]],null,!0)););return r}:function(t){var e=t[o];return a===e&&(0!==a||1/a==1/e)}}function Gn(t){return null==t?"":Er(t).replace(ii,se)}function Zn(t){return t}function Xn(t,r,i){var o=!0,a=r&&$e(r);r&&(i||a.length)||(null==i&&(i=r),s=n,r=t,t=e,a=$e(r)),i===!1?o=!1:Oe(i)&&"chain"in i&&(o=i.chain);var s=t,u=De(s);Qe(a,function(e){var n=t[e]=r[e];u&&(s.prototype[e]=function(){var e=this.__chain__,r=this.__wrapped__,i=[r];Nr.apply(i,arguments);var a=n.apply(t,i);if(o||e){if(r===a&&Oe(a))return this;a=new s(a),a.__chain__=e}return a})})}function tr(){return t._=kr,this}function er(){}function nr(t){return function(e){return e[t]}}function rr(t,e,n){var r=null==t,i=null==e;if(null==n&&("boolean"==typeof t&&i?(n=t,t=1):i||"boolean"!=typeof e||(n=e,i=!0)),r&&i&&(e=1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=Jr();return zr(t+o*(e-t+parseFloat("1e-"+((o+"").length-1))),e)}return ne(t,e)}function ir(t,e){if(t){var n=t[e];return De(n)?t[e]():n}}function or(t,n,r){var i=e.templateSettings;t=Er(t||""),r=ai({},r,i);var o,a=ai({},r.imports,i.imports),s=ti(a),u=qe(a),l=0,f=r.interpolate||I,p="__p += '",h=wr((r.escape||I).source+"|"+f.source+"|"+(f===T?C:I).source+"|"+(r.evaluate||I).source+"|$","g");t.replace(h,function(e,n,r,i,a,s){return r||(r=i),p+=t.slice(l,s).replace(N,c),n&&(p+="' +\n__e("+n+") +\n'"),a&&(o=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+e.length,e}),p+="';\n";var d=r.variable,g=d;g||(d="obj",p="with ("+d+") {\n"+p+"\n}\n"),p=(o?p.replace(x,""):p).replace(k,"$1").replace(A,"$1;"),p="function("+d+") {\n"+(g?"":d+" || ("+d+" = {});\n")+"var __t, __p = '', __e = _.escape"+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m="\n/*\n//# sourceURL="+(r.sourceURL||"/lodash/template/source["+j++ +"]")+"\n*/";try{var b=vr(s,"return "+p+m).apply(v,u)}catch(y){throw y.source=p,y}return n?b(n):(b.source=p,b)}function ar(t,e,n){t=(t=+t)>-1?t:0;var r=-1,i=dr(t);for(e=y(e,n,1);++r<t;)i[r]=e(r);return i}function sr(t){return null==t?"":Er(t).replace(ri,fe)}function ur(t){var e=++$;return Er(null==t?"":t)+e}function lr(t){return t=new n(t),t.__chain__=!0,t}function cr(t,e){return e(t),t}function fr(){return this.__chain__=!0,this}function pr(){return Er(this.__wrapped__)}function hr(){return this.__wrapped__}t=t?re.defaults(Z.Object(),t,re.pick(Z,F)):Z;var dr=t.Array,gr=t.Boolean,mr=t.Date,vr=t.Function,br=t.Math,yr=t.Number,$r=t.Object,wr=t.RegExp,Er=t.String,_r=t.TypeError,Sr=[],xr=$r.prototype,kr=t._,Ar=xr.toString,Cr=wr("^"+Er(Ar).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Dr=br.ceil,Or=t.clearTimeout,Tr=br.floor,Mr=vr.prototype.toString,Ir=le(Ir=$r.getPrototypeOf)&&Ir,Pr=xr.hasOwnProperty,Nr=Sr.push,Fr=t.setTimeout,jr=Sr.splice,Rr=Sr.unshift,Ur=function(){try{var t={},e=le(e=$r.defineProperty)&&e,n=e(t,t,t)&&e}catch(r){}return n}(),Lr=le(Lr=$r.create)&&Lr,Vr=le(Vr=dr.isArray)&&Vr,Br=t.isFinite,qr=t.isNaN,Hr=le(Hr=$r.keys)&&Hr,Wr=br.max,zr=br.min,Kr=t.parseInt,Jr=br.random,Yr={};Yr[U]=dr,Yr[L]=gr,Yr[V]=mr,Yr[B]=vr,Yr[H]=$r,Yr[q]=yr,Yr[W]=wr,Yr[z]=Er,n.prototype=e.prototype;var Qr=e.support={};Qr.funcDecomp=!le(t.WinRTError)&&P.test(m),Qr.funcNames="string"==typeof vr.name,e.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:T,variable:"",imports:{_:e}},Lr||(b=function(){function e(){}return function(n){if(Oe(n)){e.prototype=n;var r=new e;e.prototype=null}return r||t.Object()}}());var Gr=Ur?function(t,e){Y.value=e,Ur(t,"__bindData__",Y)}:er,Zr=Vr||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Ar.call(t)==U||!1},Xr=function(t){var e,n=t,r=[];if(!n)return r;if(!Q[typeof t])return r;for(e in n)Pr.call(n,e)&&r.push(e);return r},ti=Hr?function(t){return Oe(t)?Hr(t):[]}:Xr,ei={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ni=Ee(ei),ri=wr("("+ti(ni).join("|")+")","g"),ii=wr("["+ti(ei).join("")+"]","g"),oi=function(t,e,n){var r,i=t,o=i;if(!i)return o;var a=arguments,s=0,u="number"==typeof n?2:a.length;if(u>3&&"function"==typeof a[u-2])var l=y(a[--u-1],a[u--],2);else u>2&&"function"==typeof a[u-1]&&(l=a[--u]);for(;++s<u;)if(i=a[s],i&&Q[typeof i])for(var c=-1,f=Q[typeof i]&&ti(i),p=f?f.length:0;++c<p;)r=f[c],o[r]=l?l(o[r],i[r]):i[r];return o},ai=function(t,e,n){var r,i=t,o=i;if(!i)return o;for(var a=arguments,s=0,u="number"==typeof n?2:a.length;++s<u;)if(i=a[s],i&&Q[typeof i])for(var l=-1,c=Q[typeof i]&&ti(i),f=c?c.length:0;++l<f;)r=c[l],"undefined"==typeof o[r]&&(o[r]=i[r]);return o},si=function(t,e,n){var r,i=t,o=i;if(!i)return o;if(!Q[typeof i])return o;e=e&&"undefined"==typeof n?e:y(e,n,3);for(r in i)if(e(i[r],r,t)===!1)return o;return o},ui=function(t,e,n){var r,i=t,o=i;if(!i)return o;if(!Q[typeof i])return o;e=e&&"undefined"==typeof n?e:y(e,n,3);for(var a=-1,s=Q[typeof i]&&ti(i),u=s?s.length:0;++a<u;)if(r=s[a],e(i[r],r,t)===!1)return o;return o},li=Ir?function(t){if(!t||Ar.call(t)!=H)return!1;var e=t.valueOf,n=le(e)&&(n=Ir(e))&&Ir(n);return n?t==n||Ir(t)==n:ce(t)}:ce,ci=oe(function(t,e,n){Pr.call(t,n)?t[n]++:t[n]=1}),fi=oe(function(t,e,n){(Pr.call(t,n)?t[n]:t[n]=[]).push(e)}),pi=oe(function(t,e,n){t[n]=e}),hi=Xe,di=Ke,gi=le(gi=mr.now)&&gi||function(){return(new mr).getTime()},mi=8==Kr(S+"08")?Kr:function(t,e){return Kr(Ne(t)?t.replace(M,""):t,e||0)};return e.after=Pn,e.assign=oi,e.at=He,e.bind=Nn,e.bindAll=Fn,e.bindKey=jn,e.chain=lr,e.compact=pn,e.compose=Rn,e.constant=Yn,e.countBy=ci,e.create=ge,e.createCallback=Qn,e.curry=Un,e.debounce=Ln,e.defaults=ai,e.defer=Vn,e.delay=Bn,e.difference=hn,e.filter=Ke,e.flatten=vn,e.forEach=Qe,e.forEachRight=Ge,e.forIn=si,e.forInRight=be,e.forOwn=ui,e.forOwnRight=ye,e.functions=$e,e.groupBy=fi,e.indexBy=pi,e.initial=yn,e.intersection=$n,e.invert=Ee,e.invoke=Ze,e.keys=ti,e.map=Xe,e.mapValues=je,e.max=tn,e.memoize=qn,e.merge=Re,e.min=en,e.omit=Ue,e.once=Hn,e.pairs=Le,e.partial=Wn,e.partialRight=zn,e.pick=Ve,e.pluck=hi,e.property=nr,e.pull=_n,e.range=Sn,e.reject=on,e.remove=xn,e.rest=kn,e.shuffle=sn,e.sortBy=cn,e.tap=cr,e.throttle=Kn,e.times=ar,e.toArray=fn,e.transform=Be,e.union=Cn,e.uniq=Dn,e.values=qe,e.where=di,e.without=On,e.wrap=Jn,e.xor=Tn,e.zip=Mn,e.zipObject=In,e.collect=Xe,e.drop=kn,e.each=Qe,e.eachRight=Ge,e.extend=oi,e.methods=$e,e.object=In,e.select=Ke,e.tail=kn,e.unique=Dn,e.unzip=Mn,Xn(e),e.clone=he,e.cloneDeep=de,e.contains=We,e.escape=Gn,e.every=ze,e.find=Je,e.findIndex=dn,e.findKey=me,e.findLast=Ye,e.findLastIndex=gn,e.findLastKey=ve,e.has=we,e.identity=Zn,e.indexOf=bn,e.isArguments=pe,e.isArray=Zr,e.isBoolean=_e,e.isDate=Se,e.isElement=xe,e.isEmpty=ke,e.isEqual=Ae,e.isFinite=Ce,e.isFunction=De,e.isNaN=Te,e.isNull=Me,e.isNumber=Ie,e.isObject=Oe,e.isPlainObject=li,e.isRegExp=Pe,e.isString=Ne,e.isUndefined=Fe,e.lastIndexOf=En,e.mixin=Xn,e.noConflict=tr,e.noop=er,e.now=gi,e.parseInt=mi,e.random=rr,e.reduce=nn,e.reduceRight=rn,e.result=ir,e.runInContext=m,e.size=un,e.some=ln,e.sortedIndex=An,e.template=or,e.unescape=sr,e.uniqueId=ur,e.all=ze,e.any=ln,e.detect=Je,e.findWhere=Je,e.foldl=nn,e.foldr=rn,e.include=We,e.inject=nn,Xn(function(){var t={};return ui(e,function(n,r){e.prototype[r]||(t[r]=n)}),t}(),!1),e.first=mn,e.last=wn,e.sample=an,e.take=mn,e.head=mn,ui(e,function(t,r){var i="sample"!==r;e.prototype[r]||(e.prototype[r]=function(e,r){var o=this.__chain__,a=t(this.__wrapped__,e,r);return o||null!=e&&(!r||i&&"function"==typeof e)?new n(a,o):a})}),e.VERSION="2.4.1",e.prototype.chain=fr,e.prototype.toString=pr,e.prototype.value=hr,e.prototype.valueOf=hr,Qe(["join","pop","shift"],function(t){var r=Sr[t];e.prototype[t]=function(){var t=this.__chain__,e=r.apply(this.__wrapped__,arguments);return t?new n(e,t):e}}),Qe(["push","reverse","sort","unshift"],function(t){var n=Sr[t];e.prototype[t]=function(){return n.apply(this.__wrapped__,arguments),this}}),Qe(["concat","slice","splice"],function(t){var r=Sr[t];e.prototype[t]=function(){return new n(r.apply(this.__wrapped__,arguments),this.__chain__)}}),e}var v,b=[],y=[],$=0,w=+new Date+"",E=75,_=40,S=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",x=/\b__p \+= '';/g,k=/\b(__p \+=) '' \+/g,A=/(__e\(.*?\)|\b__t\)) \+\n'';/g,C=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,D=/\w*$/,O=/^\s*function[ \n\r\t]+\w/,T=/<%=([\s\S]+?)%>/g,M=RegExp("^["+S+"]*0+(?=.$)"),I=/($^)/,P=/\bthis\b/,N=/['\n\r\t\u2028\u2029\\]/g,F=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],j=0,R="[object Arguments]",U="[object Array]",L="[object Boolean]",V="[object Date]",B="[object Function]",q="[object Number]",H="[object Object]",W="[object RegExp]",z="[object String]",K={};K[B]=!1,K[R]=K[U]=K[L]=K[V]=K[q]=K[H]=K[W]=K[z]=!0;var J={leading:!1,maxWait:0,trailing:!1},Y={configurable:!1,enumerable:!1,value:null,writable:!1},Q={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},G={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},Z=Q[typeof window]&&window||this,X=Q[typeof r]&&r&&!r.nodeType&&r,te=Q[typeof n]&&n&&!n.nodeType&&n,ee=te&&te.exports===X&&X,ne=Q[typeof e]&&e;!ne||ne.global!==ne&&ne.window!==ne||(Z=ne);var re=m();"function"==typeof t&&"object"==typeof t.amd&&t.amd?(Z._=re,t(function(){return re})):X&&te?ee?(te.exports=re)._=re:X._=re:Z._=re}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(t,e,n){(function(e){"use strict";function r(t,e,n,i){this.currentPath=t||"Mock://",this.errs={},this.priority=null,this.myName=n?i:m(t),this.flushDelay=n?n.flushDelay:!1,this.flushQueue=n?n.flushQueue:new s,this._events={value:[],child_added:[],child_removed:[],child_changed:[],child_moved:[]},this.parentRef=n||null,this.children={},n&&(n.children[this.name()]=this),this.sortedDataKeys=[],this.data=null,this._dataChanged(_.cloneDeep(arguments.length>1?e||null:r.DEFAULT_DATA)),this._lastAutoId=null;for(var o in this)o.match(/^_/)||"function"!=typeof this[o]||x(this,o)}function i(t){this._ref=t,this._subs=[],this._q={}}function o(t,e,n){this.callback=function(){e.apply(null,Array.prototype.slice.call(arguments,0))},this.attempts=[],this.failMethod=o.DEFAULT_FAIL_WHEN,this.ref=t,this.autoFlushTime=o.DEFAULT_AUTO_FLUSH,this.userData=_.cloneDeep(o.DEFAULT_USER_DATA),n&&_.assign(this.userData,n);for(var r in this)r.match(/^_/)||"function"!=typeof this[r]||x(this,r)}function a(t,e){var n=e?e.val():t.ref().getData();this.ref=e?e.ref():t.ref(),this.priority=e?e.getPriority():this.ref.priority,this.pris={},this.data={},this.map={},this.outerMap={},this.keys=[],this.props=this._makeProps(t._q,this.ref,this.ref.getKeys().length),this._build(this.ref,n)}function s(){this.queuedEvents=[]}function u(t,e,n,r){var i=0;return _.isUndefined(t)||(i=l(t,n)),0!==i||_.isUndefined(e)||e===r||(i=r>e?-1:1),i}function l(t,e){return t!==e?null===t||null===e?null===t?-1:1:typeof t!=typeof e?"number"==typeof t?-1:1:t>e?1:-1:0}function c(t,e){var n=k++;return{uid:"password:"+n,id:n,email:t,password:e,provider:"password",md5_hash:S(t),firebaseAuthToken:"FIREBASE_AUTH_TOKEN"}}function f(t){var e=k++,n={uid:t+":"+e,id:e,password:e,provider:t,firebaseAuthToken:"FIREBASE_AUTH_TOKEN"};switch(t){case"password":n.email="email@firebase.com",n.md5_hash=S(n.email);break;case"twitter":n.accessToken="ACCESS_TOKEN",n.accessTokenSecret="ACCESS_TOKEN_SECRET",n.displayName="DISPLAY_NAME",n.thirdPartyUserData={},n.username="USERNAME";break;case"google":n.accessToken="ACCESS_TOKEN",n.displayName="DISPLAY_NAME",n.email="email@firebase.com",n.thirdPartyUserData={};break;case"github":n.accessToken="ACCESS_TOKEN",n.displayName="DISPLAY_NAME",n.thirdPartyUserData={},n.username="USERNAME";break;case"facebook":n.accessToken="ACCESS_TOKEN",n.displayName="DISPLAY_NAME",n.thirdPartyUserData={};break;case"anonymous":break;default:throw new Error("Invalid auth provider",t)}return n}function p(t,e){var n=new r;return n.flushDelay=_.isUndefined(e)?!0:e,t&&(n=n.child(t)),n}function h(t,e){return t.replace(/\/$/,"")+"/"+e.replace(/^\//,"")}function d(t){return g(t,t.getData(),t.priority)}function g(t,e,n){return e=_.cloneDeep(e),_.isObject(e)&&_.isEmpty(e)&&(e=null),{val:function(){return e},ref:function(){return t},name:function(){return t.name()},getPriority:function(){return n},forEach:function(t,n){var r=this;_.each(e,function(e,i){var o=t.call(n,r.child(i));return o!==!0})},child:function(n){return g(t.child(n),_.isObject(e)&&_.has(e,n)?e[n]:null,t.child(n).priority)}}}function m(t){return((t||"").match(/\/([^.$\[\]#\/]+)$/)||[null,null])[1]}function v(t,e){return{code:t||"UNKNOWN_ERROR",message:"FirebaseSimpleLogin: "+(e||t||"unspecific error")}}function b(t,e,n){var r=n,i="."+e;return _.isObject(t)&&_.has(t,i)&&(r=t[i],delete t[i]),r}function y(t){var e=_.clone(t);return _.isObject(e)&&(_.has(e,".value")&&(e=_.clone(e[".value"])),_.has(e,".priority")&&delete e[".priority"],_.isEmpty(e)&&(e=null)),e}function $(t,e,n){if(n||(n="first"),"string"!=typeof e||e.match(/[.#$\/\[\]]/))throw new Error(t+" failed: "+n+' was an invalid key "'+(e+"")+'. Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}function w(t,e,n){if(null!==e&&"string"!=typeof e&&"number"!=typeof e)throw new Error(t+" failed: first argument must be a valid firebase priority (a string, number, or null).");_.isUndefined(n)||$(t,n,"second")}var E=!1,_=t("lodash"),S=t("MD5");r.prototype={flush:function(t){return this.flushQueue.flush(t),this},autoFlush:function(t){return _.isUndefined(t)&&(t=!0),this.flushDelay!==t&&(this.flushDelay=t,_.each(this.children,function(e){e.autoFlush(t)}),this.parentRef&&this.parentRef.autoFlush(t),t!==!1&&this.flush(t)),this},splitFlushQueue:function(){this.flushQueue=new s},joinFlushQueue:function(){this.parent&&(this.flushQueue=this.parent.flushQueue)},failNext:function(t,e){this.errs[t]=e},forceCancel:function(t,e,n,r){var i=this,o=i._events;_.each(e?[e]:_.keys(o),function(a){var s=_.filter(o[a],function(t){return!e||!n||n===t[0]&&r===t[1]});_.each(s,function(o){o[2].call(o[1],t),i.off(e,n,r)})})},getData:function(){return _.cloneDeep(this.data)},getKeys:function(){return this.sortedDataKeys.slice()},getLastAutoId:function(){return this._lastAutoId},fakeEvent:function(t,e,n,r,i){E&&console.log("fakeEvent",t,this.toString(),e),arguments.length<5&&(i=null),arguments.length<4&&(r=null),arguments.length<3&&(n=null);var o=this,a="value"===t?o:o.child(e),s=g(a,n,i);return o._defer(function(){_.each(o._events[t],function(e){var n=e[0],i=e[1];_.contains(["child_added","child_moved"],t)?n.call(i,s,r):n.call(i,s)})}),this},toString:function(){return this.currentPath},child:function(t){if(!t)throw new Error("bad child path "+this.toString());var e=_.isArray(t)?t:t.split("/"),n=e.shift(),i=this.children[n];return i||(i=new r(h(this.currentPath,n),this._childData(n),this,n),this.children[i.name()]=i),e.length&&(i=i.child(e)),i},set:function(t,e){var n=this,r=this._nextErr("set");t=_.cloneDeep(t),E&&console.log("set called",this.toString(),t),this._defer(function(){E&&console.log("set completed",n.toString(),t),null===r&&n._dataChanged(t),e&&e(r)})},update:function(t,e){if(!_.isObject(t))throw new Error("First argument must be an object when calling $update");var n=this,r=this._nextErr("update"),i=this.getData(),o=_.assign(_.isObject(i)?i:{},t);E&&console.log("update called",this.toString(),o),this._defer(function(){E&&console.log("update flushed",n.toString(),o),null===r&&n._dataChanged(o),e&&e(r)})},setPriority:function(t,e){var n=this,r=this._nextErr("setPriority");E&&console.log("setPriority called",n.toString(),t),n._defer(function(){E&&console.log("setPriority flushed",n.toString(),t),n._priChanged(t),e&&e(r)})},setWithPriority:function(t,e,n){this.setPriority(e),this.set(t,n)},name:function(){return this.myName},ref:function(){return this},parent:function(){return this.parentRef},root:function(){for(var t=this;t.parentRef;)t=t.parentRef;return t},push:function(t,e){var n=this.child(this._newAutoId()),r=this._nextErr("push");return r&&n.failNext("set",r),arguments.length&&null!==t&&n.set(t,e),n},once:function(t,e,n,r){var i=this;3!==arguments.length||_.isFunction(n)?arguments.length<3&&(n=function(){},r=null):(r=n,n=function(){});var o=this._nextErr("once");if(o)this._defer(function(){n.call(r,o)});else{var a=function(n){i.off(t,a,r),e.call(r,n)};this.on(t,a,r)}},remove:function(t){var e=this,n=this._nextErr("remove");return E&&console.log("remove called",this.toString()),this._defer(function(){E&&console.log("remove completed",e.toString()),null===n&&e._dataChanged(null),t&&t(n)}),this},on:function(t,e,n,r){3!==arguments.length||_.isFunction(n)?arguments.length<3&&(n=function(){}):(r=n,n=function(){});var i=this._nextErr("on");if(i)this._defer(function(){n.call(r,i)});else{var o=[e,r,n];this._events[t].push(o);var a=this;"value"===t?a._defer(function(){a._events[t].indexOf(o)>-1&&e.call(r,g(a,a.getData(),a.priority))}):"child_added"===t&&a._defer(function(){if(a._events[t].indexOf(o)>-1){var n=null;_.each(a.sortedDataKeys,function(t){var i=a.child(t);e.call(r,g(i,i.getData(),i.priority),n),n=t})}})}},off:function(t,e,n){if(t)if(e){var r=this._events[t],i=this._events[t]=[];_.each(r,function(t){(t[0]!==e||t[1]!==n)&&i.push(t)})}else this._events[t]=[];else for(var o in this._events)this._events.hasOwnProperty(o)&&this.off(o)},transaction:function(t,e,n){var r=this,i=x(t,"trxn:valueFn"),o=x(e,"trxn:finishedFn");return this._defer(function(){var t=r._nextErr("transaction"),e=i(r.getData()),n=_.isUndefined(e)||t?r.getData():e;r._dataChanged(n),o(t,null===t&&!_.isUndefined(e),g(r,n,r.priority))}),[i,o,n]},auth:function(t,e){e&&this._defer(e)},limit:function(t){return new i(this).limit(t)},startAt:function(t,e){return new i(this).startAt(t,e)},endAt:function(t,e){return new i(this).endAt(t,e)},_childChanged:function(t){var e=[],n=t.name(),r=t.getData();E&&console.log("_childChanged",this.toString()+" -> "+n,r),null===r?this._removeChild(n,e):this._updateOrAdd(n,r,e),this._triggerAll(e)},_dataChanged:function(t){var e=this,n=b(t,"priority",e.priority),r=y(t);if(n!==e.priority&&e._priChanged(n),!_.isEqual(r,e.data)){E&&console.log("_dataChanged",e.toString(),r);var i=_.keys(e.data).sort(),o=_.keys(r).sort(),a=_.difference(i,o),s=_.difference(o,a),u=[];_.each(a,function(t){e._removeChild(t,u)}),_.isObject(r)?_.each(s,function(n){e._updateOrAdd(n,t[n],u)}):(u.push(!1),e.data=r),e._resort(),e._triggerAll(u)}},_priChanged:function(t){E&&console.log("_priChanged",this.toString(),t),this.priority=t,this.parentRef&&this.parentRef._resort(this.name())},_getPri:function(t){return _.has(this.children,t)?this.children[t].priority:null},_resort:function(t){var e=this;e.sortedDataKeys.sort(e.childComparator.bind(e));var n=_.assign({},e.data);_.each(n,function(t,n){delete e.data[n]}),_.each(e.sortedDataKeys,function(t){e.data[t]=n[t]}),!_.isUndefined(t)&&_.has(e.data,t)&&e._trigger("child_moved",e.data[t],e._getPri(t),t)},_addKey:function(t){-1===_.indexOf(this.sortedDataKeys,t)&&(this.sortedDataKeys.push(t),this._resort())},_dropKey:function(t){var e=_.indexOf(this.sortedDataKeys,t);e>-1&&this.sortedDataKeys.splice(e,1)},_defer:function(){this.flushQueue.add(Array.prototype.slice.call(arguments,0)),this.flushDelay!==!1&&this.flush(this.flushDelay)},_trigger:function(t,e,n,r){E&&console.log("_trigger",t,this.toString(),r);var i=this,o="value"===t?i:i.child(r),a=g(o,e,n);_.each(i._events[t],function(e){var n=e[0],o=e[1];_.contains(["child_added","child_moved"],t)?n.call(o,a,i._getPrevChild(r)):n.call(o,a)})},_triggerAll:function(t){var e=this;t.length&&(_.each(t,function(t){t!==!1&&e._trigger.apply(e,t)}),e._trigger("value",e.data,e.priority),e.parentRef&&e.parentRef._childChanged(e))},_updateOrAdd:function(t,e,n){var r=_.isObject(this.data)&&this.data.hasOwnProperty(t);return r?this._updateChild(t,e,n):this._addChild(t,e,n)},_addChild:function(t,e,n){if(this._hasChild(t))throw new Error("Tried to add existing object",t);_.isObject(this.data)||(this.data={}),this._addKey(t),this.data[t]=y(e);var r=this.child(t);r._dataChanged(e),n&&n.push(["child_added",r.getData(),r.priority,t])},_removeChild:function(t,e){if(this._hasChild(t)){this._dropKey(t);var n=this.data[t];delete this.data[t],_.isEmpty(this.data)&&(this.data=null),_.has(this.children,t)&&this.children[t]._dataChanged(null),e&&e.push(["child_removed",n,null,t])}},_updateChild:function(t,e,n){var r=y(e);if(_.isObject(this.data)&&_.has(this.data,t)&&!_.isEqual(this.data[t],r)){this.data[t]=r;var i=this.child(t);i._dataChanged(e),n&&n.push(["child_changed",i.getData(),i.priority,t])}},_newAutoId:function(){return this._lastAutoId="mock-"+Date.now()+"-"+Math.floor(1e4*Math.random()),this._lastAutoId},_nextErr:function(t){var e=this.errs[t];return delete this.errs[t],e||null},_hasChild:function(t){return _.isObject(this.data)&&_.has(this.data,t)},_childData:function(t){return this._hasChild(t)?this.data[t]:null},_getPrevChild:function(t){var e=this.sortedDataKeys,n=_.indexOf(e,t);return-1===n&&(e=e.slice(),e.push(t),e.sort(this.childComparator.bind(this)),n=_.indexOf(e,t)),0===n?null:e[n-1]},childComparator:function(t,e){var n=this._getPri(t),r=this._getPri(e),i=l(n,r);return 0===i&&t!==e&&(i=e>t?-1:1),i}},i.prototype={flush:function(){return this.ref().flush.apply(this.ref(),arguments),this},autoFlush:function(){return this.ref().autoFlush.apply(this.ref(),arguments),this},slice:function(){return new a(this)},getData:function(){return this.slice().data},fakeEvent:function(t,e){_.each(this._subs,function(t){"event"===t[0]&&t[1].call(t[2],e)})},on:function(t,e,n,r){var i,o=this,s=!0,u=this.slice(),l=function(n,l){var c=new a(o,"value"===t?n:d(n.ref().parent()));switch(t){case"value":(s||!u.equals(c))&&e.call(r,c.snap());break;case"child_moved":var f=c.pos(n.name()),p=c.insertPos(n.name());f>-1&&p>-1?e.call(r,n,l):(f>-1||p>-1)&&(i=u.changeMap(c));break;case"child_added":c.has(n.name())&&u.has(n.name())&&e.call(r,n,l),i=u.changeMap(c);break;case"child_removed":i=u.changeMap(c);break;case"child_changed":e.call(r,n);break;default:throw new Error("Invalid event: "+t)}if(i){var h=c.snap(),g=u.snap();_.each(i.added,function(t){o.fakeEvent("child_added",h.child(t))}),_.each(i.removed,function(t){o.fakeEvent("child_removed",g.child(t))})}s=!1,u=c},c=function(t){n.call(r,t)};o._subs.push([t,e,r,l]),this.ref().on(t,l,c)},off:function(t,e,n){var r=this.ref();_.each(this._subs,function(i){i[0]===t&&i[1]===e&&i[2]===n&&r.off(t,i[3])})},once:function(t,e,n){function r(){i.off(t,r),e.apply(n,arguments)}var i=this;i.on(t,r)},limit:function(t){if("number"!=typeof t)throw new Error("Query.limit: First argument must be a positive integer.");var e=new i(this.ref());return _.extend(e._q,this._q,{limit:t}),e},startAt:function(t,e){w("Query.startAt",t,e);var n=new i(this.ref());return _.extend(n._q,this._q,{startKey:e,startPri:t}),n},endAt:function(t,e){w("Query.endAt",t,e);var n=new i(this.ref());return _.extend(n._q,this._q,{endKey:e,endPri:t}),n},ref:function(){return this._ref}},o.prototype={flush:function(t){var e=this;if(_.isNumber(t))setTimeout(e.flush.bind(e),t);else{var n=e.attempts;e.attempts=[],_.each(n,function(t){t[0].apply(e,t.slice(1))})}return e},autoFlush:function(t){return this.autoFlushTime=t,this.autoFlushTime!==!1&&this.flush(this.autoFlushTime),this},failWhen:function(t){return this.failMethod=t,this},getUser:function(t,e){var n=this.userData[t];return"password"===t&&(n=(n||{})[e.email]),n||null},login:function(t,e){var n=this.failMethod(t,e||{},this.getUser(t,e));this._notify(n,null===n?this.userData[t]:null)},logout:function(){this._notify(null,null)},createUser:function(t,e,n){n||(n=_.noop),this._defer(function(){var r=null,i=null;this.userData.password.hasOwnProperty(t)?i=v("EMAIL_TAKEN","The specified email address is already in use."):(r=c(t,e),this.userData.password[t]=r),n(i,r)})},changePassword:function(t,e,n,r){r||(r=_.noop),this._defer(function(){var i=this.getUser("password",{email:t}),o=this.failMethod("password",{email:t,password:e},i);o?r(o,!1):(i.password=n,r(null,!0))})},sendPasswordResetEmail:function(t,e){e||(e=_.noop),this._defer(function(){var n=this.getUser("password",{email:t});n?e(null,!0):e(v("INVALID_USER"),!1)})},removeUser:function(t,e,n){n||(n=_.noop),this._defer(function(){var r=this.getUser("password",{email:t});r?r.password!==e?n(v("INVALID_PASSWORD"),!1):(delete this.userData.password[t],n(null,!0)):n(v("INVALID_USER"),!1)})},_notify:function(t,e){this._defer(this.callback,t,e)},_defer:function(){var t=_.toArray(arguments);this.attempts.push(t),this.autoFlushTime!==!1&&this.flush(this.autoFlushTime)}},a.prototype={prev:function(t){var e=this.pos(t);return 0===e?null:(0>e&&(e=this.keys.length),this.keys[e-1])},equals:function(t){return _.isEqual(this.keys,t.keys)&&_.isEqual(this.data,t.data)},pos:function(t){return this.has(t)?this.map[t]:-1},insertPos:function(t){var e=this.outerMap[t];return e>=this.min&&e<this.max?e+1:-1},has:function(t){return this.map.hasOwnProperty(t)},snap:function(t){var e=this.ref,n=this.data,r=this.priority;return t&&(n=this.get(t),e=e.child(t),r=this.pri(t)),g(e,n,r)},get:function(t){return this.has(t)?this.data[t]:null},pri:function(t){return this.has(t)?this.pris[t]:null},changeMap:function(t){var e=this,n={"in":[],out:[]};return _.each(e.data,function(e,r){t.has(r)||n.out.push(r)}),_.each(t.data,function(t,r){e.has(r)||n.in.push(r)}),n},_inRange:function(t,e,n,r){return-1===r?!1:!_.isUndefined(t.startPri)&&l(n,t.startPri)<0?!1:!_.isUndefined(t.startKey)&&l(e,t.startKey)<0?!1:!_.isUndefined(t.endPri)&&l(n,t.endPri)>0?!1:!_.isUndefined(t.endKey)&&l(e,t.endKey)>0?!1:t.max>-1&&r>t.max?!1:r>=t.min},_findPos:function(t,e,n,r){var i,o,a,s=n.getKeys(),l=-1,c=-1,f=s.length;if(_.isUndefined(t)&&_.isUndefined(e))return-1;for(i=0;f>i;i++)if(a=s[i],o=u(t,e,n.child(a).priority,a),0===o)-1===l&&(l=i),c=i;else if(0>o){0===i&&(i=f);break}return-1!==l?r?l:c:f>i?r?i:i-1:f},_makeProps:function(t,e,n){var r={};return _.each(t,function(t,e){_.isUndefined(t)||(r[e]=t)}),r.min=this._findPos(r.startPri,r.startKey,e,!0),r.max=this._findPos(r.endPri,r.endKey,e),_.isUndefined(t.limit)||(r.min>-1?r.max=r.min+t.limit:r.max>-1?r.min=r.max-t.limit:t.limit<n&&(r.max=n-1,r.min=Math.max(0,n-t.limit))),r},_build:function(t,e){var n=0,r=this.map,i=this.keys,o=this.outerMap,a=this.props,s=this.data;_.each(e,function(e,u){o[u]=n<a.min?a.min-n:n-Math.max(a.min,0),this._inRange(a,u,t.child(u).priority,n++)&&(r[u]=i.length,i.push(u),s[u]=e)},this)}},s.prototype.add=function(t){this.queuedEvents.push(t)},s.prototype.flush=function(t){function e(){n.forEach(function(t){t[0].apply(null,t.slice(1))})}if(this.queuedEvents.length){var n=this.queuedEvents;this.queuedEvents=[],_.isNumber(t)?setTimeout(e,t):e()}};var x=function(){var t;return t="undefined"!=typeof e.jasmine?function(t,n){var r,i;return"object"==typeof t?(i=e.spyOn(t,n),r="function"==typeof i.andCallThrough?i.andCallThrough():i.and.callThrough()):(i=e.jasmine.createSpy(n),r="function"==typeof arguments[0]?"function"==typeof i.andCallFake?i.andCallFake(t):i.and.callFake(t):i),r}:function(t,n){var r="undefined"!=typeof window?window.sinon:"undefined"!=typeof e?e.sinon:null;
return"object"==typeof t?r.spy(t,n):r.spy(t)}}(),k=100;o.DEFAULT_FAIL_WHEN=function(t,e,n){var r=null;return-1===["password","anonymous","twitter","facebook","google","github"].indexOf(t)?console.error("MockFirebaseSimpleLogin:login() failed: unrecognized authentication provider "+t):n?"password"===t&&n.password!==e.password&&(r=v("INVALID_PASSWORD","The specified password is incorrect")):r=v("INVALID_USER","The specified user does not exist"),r},o.DEFAULT_USER_DATA={},_.each(["password","anonymous","facebook","twitter","google","github"],function(t){var e=f(t);if("password"!==t)o.DEFAULT_USER_DATA[t]=e;else{var n=o.DEFAULT_USER_DATA[t]={};n[e.email]=e}}),r.md5=S,o.DEFAULT_AUTO_FLUSH=!1,r._=_,r.Query=i,r.override=function(){"undefined"!=typeof window?(r._origFirebase=window.Firebase,r._origFirebaseSimpleLogin=window.FirebaseSimpleLogin,window.Firebase=r,window.FirebaseSimpleLogin=o):console.warn("MockFirebase.override is only useful in a browser environment.")},r.ref=p,r.DEFAULT_DATA={data:{a:{aString:"alpha",aNumber:1,aBoolean:!1},b:{aString:"bravo",aNumber:2,aBoolean:!0},c:{aString:"charlie",aNumber:3,aBoolean:!0},d:{aString:"delta",aNumber:4,aBoolean:!0},e:{aString:"echo",aNumber:5}},index:{b:!0,c:1,e:!1,z:!0},ordered:{null_a:{aNumber:0,aLetter:"a"},null_b:{aNumber:0,aLetter:"b"},null_c:{aNumber:0,aLetter:"c"},num_1_a:{".priority":1,aNumber:1},num_1_b:{".priority":1,aNumber:1},num_2:{".priority":2,aNumber:2},num_3:{".priority":3,aNumber:3},char_a_1:{".priority":"a",aNumber:1,aLetter:"a"},char_a_2:{".priority":"a",aNumber:2,aLetter:"a"},char_b:{".priority":"b",aLetter:"b"},char_c:{".priority":"c",aLetter:"c"}}},n.MockFirebase=r,n.MockFirebaseSimpleLogin=o}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{MD5:1,lodash:7}]},{},[8])(8)}),function(t){"use strict";"object"==typeof t&&(t.MockFirebase=t.mockfirebase.MockFirebase,t.MockFirebaseSimpleLogin=t.mockfirebase.MockFirebaseSimpleLogin)}(window),!function(t){"use strict";angular.module("firebase",[]).value("Firebase",t.Firebase).value("firebaseBatchDelay",50)}(window),function(){"use strict";angular.module("firebase").factory("$FirebaseArray",["$log","$firebaseUtils",function(t,e){function n(t,n,r){var i=this;return this._observers=[],this.$list=[],this._inst=t,this._promise=r,this._destroyFn=n,e.getPublicMethods(i,function(t,e){i.$list[e]=t.bind(i)}),this.$list}return n.prototype={$add:function(t){return this._assertNotDestroyed("$add"),this.$inst().$push(e.toJSON(t))},$save:function(t){this._assertNotDestroyed("$save");var n=this,r=n._resolveItem(t),i=n.$keyAt(r);return null!==i?n.$inst().$set(i,e.toJSON(r)).then(function(t){return n._notify("child_changed",i),t}):e.reject("Invalid record; could determine its key: "+t)},$remove:function(t){this._assertNotDestroyed("$remove");var n=this.$keyAt(t);return null!==n?this.$inst().$remove(n):e.reject("Invalid record; could not find key: "+t)},$keyAt:function(t){var e=this._resolveItem(t);return this._getKey(e)},$indexFor:function(t){var e=this;return this.$list.findIndex(function(n){return e._getKey(n)===t})},$loaded:function(t,e){var n=this._promise;return arguments.length&&(n=n.then.call(n,t,e)),n},$inst:function(){return this._inst},$watch:function(t,e){var n=this._observers;return n.push([t,e]),function(){var r=n.findIndex(function(n){return n[0]===t&&n[1]===e});r>-1&&n.splice(r,1)}},$destroy:function(e){this._isDestroyed||(this._isDestroyed=!0,this.$list.length=0,t.debug("destroy called for FirebaseArray: "+this.$inst().$ref().toString()),this._destroyFn(e))},$getRecord:function(t){var e=this.$indexFor(t);return e>-1?this.$list[e]:null},$$added:function(t,n){var r=this.$indexFor(t.name());if(-1===r){var i=t.val();angular.isObject(i)||(i={$value:i}),i.$id=t.name(),i.$priority=t.getPriority(),e.applyDefaults(i,this.$$defaults),this._process("child_added",i,n)}},$$removed:function(t){var e=this.$getRecord(t.name());angular.isObject(e)&&this._process("child_removed",e)},$$updated:function(t){var n=this.$getRecord(t.name());if(angular.isObject(n)){var r=e.updateRec(n,t);e.applyDefaults(n,this.$$defaults),r&&this._process("child_changed",n)}},$$moved:function(t,e){var n=this.$getRecord(t.name());angular.isObject(n)&&(n.$priority=t.getPriority(),this._process("child_moved",n,e))},$$error:function(e){t.error(e),this.$destroy(e)},_getKey:function(t){return angular.isObject(t)?t.$id:null},_process:function(t,e,n){var r,i=this._getKey(e),o=!1;switch(t){case"child_added":r=this.$indexFor(i);break;case"child_moved":r=this.$indexFor(i),this._spliceOut(i);break;case"child_removed":o=null!==this._spliceOut(i);break;case"child_changed":o=!0}return angular.isDefined(r)&&(o=this._addAfter(e,n)!==r),o&&this._notify(t,i,n),o},_notify:function(t,e,n){var r={event:t,key:e};angular.isDefined(n)&&(r.prevChild=n),angular.forEach(this._observers,function(t){t[0].call(t[1],r)})},_addAfter:function(t,e){var n;return null===e?n=0:(n=this.$indexFor(e)+1,0===n&&(n=this.$list.length)),this.$list.splice(n,0,t),n},_spliceOut:function(t){var e=this.$indexFor(t);return e>-1?this.$list.splice(e,1)[0]:null},_resolveItem:function(t){var e=this.$list;if(angular.isNumber(t)&&t>=0&&e.length>=t)return e[t];if(angular.isObject(t))for(var n=e.length;n--;)if(e[n]===t)return t;return null},_assertNotDestroyed:function(t){if(this._isDestroyed)throw new Error("Cannot call "+t+" method on a destroyed $FirebaseArray object")}},n.$extendFactory=function(t,r){return 1===arguments.length&&angular.isObject(t)&&(r=t,t=function(){return n.apply(this,arguments)}),e.inherit(t,n,r)},n}])}(),function(){"use strict";angular.module("firebase").factory("$FirebaseObject",["$parse","$firebaseUtils","$log","$interval",function(t,e,n,r){function i(t,n,r){this.$$conf={promise:r,inst:t,binding:new o(this),destroyFn:n,listeners:[]},Object.defineProperty(this,"$$conf",{value:this.$$conf}),this.$id=t.$ref().ref().name(),this.$priority=null,e.applyDefaults(this,this.$$defaults)}function o(t){this.subs=[],this.scope=null,this.name=null,this.rec=t}return i.prototype={$save:function(){var t=this;return t.$inst().$set(e.toJSON(t)).then(function(e){return t.$$notify(),e})},$loaded:function(t,e){var n=this.$$conf.promise;return arguments.length&&(n=n.then.call(n,t,e)),n},$inst:function(){return this.$$conf.inst},$bindTo:function(t,e){var n=this;return n.$loaded().then(function(){return n.$$conf.binding.bindTo(t,e)})},$watch:function(t,e){var n=this.$$conf.listeners;return n.push([t,e]),function(){var r=n.findIndex(function(n){return n[0]===t&&n[1]===e});r>-1&&n.splice(r,1)}},$destroy:function(t){var n=this;n.$isDestroyed||(n.$isDestroyed=!0,n.$$conf.binding.destroy(),e.each(n,function(t,e){delete n[e]}),n.$$conf.destroyFn(t))},$$updated:function(t){var n=e.updateRec(this,t);e.applyDefaults(this,this.$$defaults),n&&this.$$notify()},$$error:function(t){n.error(t),this.$destroy(t)},$$scopeUpdated:function(t){return this.$inst().$set(e.toJSON(t))},$$notify:function(){var t=this,e=this.$$conf.listeners.slice();angular.forEach(e,function(e){e[0].call(e[1],{event:"value",key:t.$id})})},forEach:function(t,n){return e.each(this,t,n)}},i.$extendFactory=function(t,n){return 1===arguments.length&&angular.isObject(t)&&(n=t,t=function(){i.apply(this,arguments)}),e.inherit(t,i,n)},o.prototype={assertNotBound:function(t){if(this.scope){var r="Cannot bind to "+t+" because this instance is already bound to "+this.name+"; one binding per instance (call unbind method or create another $firebase instance)";return n.error(r),e.reject(r)}},bindTo:function(n,i){function o(o){function a(t){var n=s(),r=e.scopeData(t);return angular.equals(n,r)&&n.$priority===t.$priority&&n.$value===t.$value}function s(){return e.scopeData(f(n))}function u(t){f.assign(n,e.scopeData(t))}function l(){var t=f(n);(t.$value!==p.$value||t.$priority!==p.$priority)&&h()}var c=!1,f=t(i),p=o.rec;o.scope=n,o.varName=i;var h=function(){var t=e.debounce(function(){p.$$scopeUpdated(s())["finally"](function(){c=!1})},50,500);a(p)||(c=!0,t())},d=function(){c||a(p)||u(p)};return function(){var t="_firebaseCounterForVar"+i;n[t]=0;var e=r(function(){n[t]++},51,0,!1);o.subs.push(n.$watch(t,l)),o.subs.push(function(){r.cancel(e),delete n[t]})}(),u(p),o.subs.push(n.$on("$destroy",o.unbind.bind(o))),o.subs.push(n.$watch(i,h,!0)),o.subs.push(p.$watch(d)),o.unbind.bind(o)}return this.assertNotBound(i)||o(this)},unbind:function(){this.scope&&(angular.forEach(this.subs,function(t){t()}),this.subs=[],this.scope=null,this.name=null)},destroy:function(){this.unbind(),this.rec=null}},i}])}(),function(){"use strict";angular.module("firebase").factory("$firebase",["$firebaseUtils","$firebaseConfig",function(t,e){function n(t,r){return this instanceof n?(this._config=e(r),this._ref=t,this._arraySync=null,this._objectSync=null,void this._assertValidConfig(t,this._config)):new n(t,r)}function r(e,n){function r(t){m.isDestroyed=!0;var n=e.$ref();n.off("child_added",c),n.off("child_moved",p),n.off("child_changed",f),n.off("child_removed",h),u=null,g(t||"destroyed")}function i(){var t=e.$ref();t.on("child_added",c,d),t.on("child_moved",p,d),t.on("child_changed",f,d),t.on("child_removed",h,d),t.once("value",function(){g(null)},g)}function o(t){s&&(t?s.reject(t):s.resolve(u),s=null)}function a(t){if(!angular.isArray(t)){var e=Object.prototype.toString.call(t);throw new Error('arrayFactory must return a valid array that passes angular.isArray and Array.isArray, but received "'+e+'"')}}var s=t.defer(),u=new n(e,r,s.promise),l=t.batch(),c=l(u.$$added,u),f=l(u.$$updated,u),p=l(u.$$moved,u),h=l(u.$$removed,u),d=l(u.$$error,u),g=l(o),m=this;m.isDestroyed=!1,m.getArray=function(){return u},a(u),i()}function i(e,n){function r(t){h.isDestroyed=!0,u.off("value",c),s=null,p(t||"destroyed")}function i(){u.on("value",c,f),u.once("value",function(){p(null)},p)}function o(t){a&&(t?a.reject(t):a.resolve(s),a=null)}var a=t.defer(),s=new n(e,r,a.promise),u=e.$ref(),l=t.batch(),c=l(s.$$updated,s),f=l(s.$$error,s),p=l(o),h=this;h.isDestroyed=!1,h.getObject=function(){return s},i()}return n.prototype={$ref:function(){return this._ref},$push:function(e){var n=t.defer(),r=this._ref.ref().push(),i=this._handle(n,r);return arguments.length>0?r.set(e,i):i(),n.promise},$set:function(e,n){var r=this._ref,i=t.defer();if(arguments.length>1?r=r.ref().child(e):n=e,angular.isFunction(r.set)||!angular.isObject(n))r.ref().set(n,this._handle(i,r));else{var o=angular.extend({},n);r.once("value",function(t){t.forEach(function(t){o.hasOwnProperty(t.name())||(o[t.name()]=null)}),r.ref().update(o,this._handle(i,r))},this)}return i.promise},$remove:function(e){var n,r=this._ref,i=this,o=t.defer();if(arguments.length>0&&(r=r.ref().child(e)),angular.isFunction(r.remove))r.remove(i._handle(o,r)),n=o.promise;else{var a=[];r.once("value",function(e){e.forEach(function(e){var n=t.defer();a.push(n),e.ref().remove(i._handle(n,e.ref()))},i)}),n=t.allPromises(a).then(function(){return r})}return n},$update:function(e,n){var r=this._ref.ref(),i=t.defer();return arguments.length>1?r=r.child(e):n=e,r.update(n,this._handle(i,r)),i.promise},$transaction:function(e,n,r){var i=this._ref.ref();angular.isFunction(e)?(r=n,n=e):i=i.child(e),r=!!r;var o=t.defer();return i.transaction(n,function(t,e,n){t?o.reject(t):o.resolve(e?n:null)},r),o.promise},$asObject:function(){return(!this._objectSync||this._objectSync.isDestroyed)&&(this._objectSync=new i(this,this._config.objectFactory)),this._objectSync.getObject()},$asArray:function(){return(!this._arraySync||this._arraySync.isDestroyed)&&(this._arraySync=new r(this,this._config.arrayFactory)),this._arraySync.getArray()},_handle:function(t){var e=Array.prototype.slice.call(arguments,1);return function(n){n?t.reject(n):t.resolve.apply(t,e)}},_assertValidConfig:function(e,n){if(t.assertValidRef(e,"Must pass a valid Firebase reference to $firebase (not a string or URL)"),!angular.isFunction(n.arrayFactory))throw new Error("config.arrayFactory must be a valid function");if(!angular.isFunction(n.objectFactory))throw new Error("config.objectFactory must be a valid function")}},n}])}(),function(){"use strict";var t;angular.module("firebase").factory("$firebaseSimpleLogin",["$q","$timeout","$rootScope",function(e,n,r){return function(i){var o=new t(e,n,r,i);return o.construct()}}]),t=function(t,e,n,r){if(this._q=t,this._timeout=e,this._rootScope=n,this._loginDeferred=null,this._getCurrentUserDeferred=[],this._currentUserData=void 0,"string"==typeof r)throw new Error("Please provide a Firebase reference instead of a URL, eg: new Firebase(url)");this._fRef=r},t.prototype={construct:function(){var t={user:null,$login:this.login.bind(this),$logout:this.logout.bind(this),$createUser:this.createUser.bind(this),$changePassword:this.changePassword.bind(this),$removeUser:this.removeUser.bind(this),$getCurrentUser:this.getCurrentUser.bind(this),$sendPasswordResetEmail:this.sendPasswordResetEmail.bind(this)};if(this._object=t,!window.FirebaseSimpleLogin){var e=new Error("FirebaseSimpleLogin is undefined. Did you forget to include firebase-simple-login.js?");throw this._rootScope.$broadcast("$firebaseSimpleLogin:error",e),e}var n=new FirebaseSimpleLogin(this._fRef,this._onLoginEvent.bind(this));return this._authClient=n,this._object},login:function(t,e){var n=this._q.defer(),r=this;return this.getCurrentUser().then(function(){r._loginDeferred=n,r._authClient.login(t,e)}),n.promise},logout:function(){this._authClient.logout(),delete this._currentUserData},createUser:function(t,e){var n=this,r=this._q.defer();return n._authClient.createUser(t,e,function(t,e){t?(n._rootScope.$broadcast("$firebaseSimpleLogin:error",t),r.reject(t)):r.resolve(e)}),r.promise},changePassword:function(t,e,n){var r=this,i=this._q.defer();return r._authClient.changePassword(t,e,n,function(t){t?(r._rootScope.$broadcast("$firebaseSimpleLogin:error",t),i.reject(t)):i.resolve()}),i.promise},getCurrentUser:function(){var t=this,e=this._q.defer();return void 0!==t._currentUserData?e.resolve(t._currentUserData):t._getCurrentUserDeferred.push(e),e.promise},removeUser:function(t,e){var n=this,r=this._q.defer();return n._authClient.removeUser(t,e,function(t){t?(n._rootScope.$broadcast("$firebaseSimpleLogin:error",t),r.reject(t)):r.resolve()}),r.promise},sendPasswordResetEmail:function(t){var e=this,n=this._q.defer();return e._authClient.sendPasswordResetEmail(t,function(t){t?(e._rootScope.$broadcast("$firebaseSimpleLogin:error",t),n.reject(t)):n.resolve()}),n.promise},_onLoginEvent:function(t,e){if(this._currentUserData!==e||null!==t){var n=this;t?(n._loginDeferred&&(n._loginDeferred.reject(t),n._loginDeferred=null),n._rootScope.$broadcast("$firebaseSimpleLogin:error",t)):(this._currentUserData=e,n._timeout(function(){for(n._object.user=e,e?n._rootScope.$broadcast("$firebaseSimpleLogin:login",e):n._rootScope.$broadcast("$firebaseSimpleLogin:logout"),n._loginDeferred&&(n._loginDeferred.resolve(e),n._loginDeferred=null);n._getCurrentUserDeferred.length>0;){var t=n._getCurrentUserDeferred.pop();t.resolve(e)}}))}}}}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){if(void 0===this||null===this)throw new TypeError("'this' is null or not defined");var n=this.length>>>0;for(e=+e||0,1/0===Math.abs(e)&&(e=0),0>e&&(e+=n,0>e&&(e=0));n>e;e++)if(this[e]===t)return e;return-1}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;r>o;o++)if(o in n&&(e=n[o],t.call(i,e,o,n)))return o;return-1}}),"function"!=typeof Object.create&&!function(){var t=function(){};Object.create=function(e){if(arguments.length>1)throw new Error("Second argument not supported");if(null===e)throw new Error("Cannot set a null [[Prototype]]");if("object"!=typeof e)throw new TypeError("Argument must be an object");return t.prototype=e,new t}}(),Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var o,a,s=[];for(o in i)t.call(i,o)&&s.push(o);if(e)for(a=0;r>a;a++)t.call(i,n[a])&&s.push(n[a]);return s}}()),"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(t){return t.__proto__}:function(t){return t.constructor.prototype}),function(){"use strict";function t(e){if(!angular.isObject(e))return e;var n=angular.isArray(e)?[]:{};return angular.forEach(e,function(e,r){("string"!=typeof r||"$"!==r.charAt(0))&&(n[r]=t(e))}),n}angular.module("firebase").factory("$firebaseConfig",["$FirebaseArray","$FirebaseObject","$injector",function(t,e,n){return function(r){var i=angular.extend({},r);return"string"==typeof i.objectFactory&&(i.objectFactory=n.get(i.objectFactory)),"string"==typeof i.arrayFactory&&(i.arrayFactory=n.get(i.arrayFactory)),angular.extend({arrayFactory:t,objectFactory:e},i)}}]).factory("$firebaseUtils",["$q","$timeout","firebaseBatchDelay",function(e,n,r){var i={batch:function(t,e){function n(t,e){if("function"!=typeof t)throw new Error("Must provide a function to be batched. Got "+t);return function(){var n=Array.prototype.slice.call(arguments,0);l.push([t,e,n]),o()}}function o(){u&&(u(),u=null),s&&Date.now()-s>e?i.compile(a):(s||(s=Date.now()),u=i.wait(a,t))}function a(){u=null,s=null;var t=l.slice(0);l=[],angular.forEach(t,function(t){t[0].apply(t[1],t[2])})}t=r,e||(e=10*t||100);var s,u,l=[];return n},debounce:function(t,e,n,r){function o(){l&&(l(),l=null),u&&Date.now()-u>r?i.compile(a):(u||(u=Date.now()),l=i.wait(a,n))}function a(){l=null,u=null,t.apply(e,c)}function s(){c=Array.prototype.slice.call(arguments,0),o()}var u,l,c;if("number"==typeof e&&(r=n,n=e,e=null),"number"!=typeof n)throw new Error("Must provide a valid integer for wait. Try 0 for a default");if("function"!=typeof t)throw new Error("Must provide a valid function to debounce");return r||(r=10*n||100),s.running=function(){return u>0},s},assertValidRef:function(t,e){if(!angular.isObject(t)||"function"!=typeof t.ref||"function"!=typeof t.ref().transaction)throw new Error(e||"Invalid Firebase reference")},inherit:function(t,e,n){var r=t.prototype;return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,angular.forEach(Object.keys(r),function(e){t.prototype[e]=r[e]}),angular.isObject(n)&&angular.extend(t.prototype,n),t},getPrototypeMethods:function(t,e,n){for(var r={},i=Object.getPrototypeOf({}),o=angular.isFunction(t)&&angular.isObject(t.prototype)?t.prototype:Object.getPrototypeOf(t);o&&o!==i;){for(var a in o)o.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=!0,e.call(n,o[a],a,o));o=Object.getPrototypeOf(o)}},getPublicMethods:function(t,e,n){i.getPrototypeMethods(t,function(t,r){"function"==typeof t&&"_"!==r.charAt(0)&&e.call(n,t,r)})},defer:function(){return e.defer()},reject:function(t){var e=i.defer();return e.reject(t),e.promise},resolve:function(){var t=i.defer();return t.resolve.apply(t,arguments),t.promise},wait:function(t,e){var r=n(t,e||0);return function(){r&&(n.cancel(r),r=null)}},compile:function(t){return n(t||function(){})},deepCopy:function(t){if(!angular.isObject(t))return t;var e=angular.isArray(t)?t.slice():angular.extend({},t);for(var n in e)e.hasOwnProperty(n)&&angular.isObject(e[n])&&(e[n]=i.deepCopy(e[n]));return e},trimKeys:function(t,e){i.each(t,function(n,r){e.hasOwnProperty(r)||delete t[r]})},extendData:function(t,e){return i.each(e,function(e,n){t[n]=i.deepCopy(e)}),t},scopeData:function(t){var e={$id:t.$id,$priority:t.$priority};return t.hasOwnProperty("$value")&&(e.$value=t.$value),i.extendData(e,t)},updateRec:function(t,e){var n=e.val(),r=angular.extend({},t);return angular.isObject(n)?delete t.$value:(t.$value=n,n={}),i.trimKeys(t,n),angular.extend(t,n),t.$priority=e.getPriority(),!angular.equals(r,t)||r.$value!==t.$value||r.$priority!==t.$priority},applyDefaults:function(t,e){return angular.isObject(e)&&angular.forEach(e,function(e,n){t.hasOwnProperty(n)||(t[n]=e)}),t},dataKeys:function(t){var e=[];return i.each(t,function(t,n){e.push(n)}),e},each:function(t,e,n){if(angular.isObject(t)){for(var r in t)if(t.hasOwnProperty(r)){var i=r.charAt(0);"_"!==i&&"$"!==i&&"."!==i&&e.call(n,t[r],r,t)}}else if(angular.isArray(t))for(var o=0,a=t.length;a>o;o++)e.call(n,t[o],o,t);return t},toJSON:function(e){var n;return angular.isObject(e)||(e={$value:e}),angular.isFunction(e.toJSON)?n=e.toJSON():(n={},i.each(e,function(e,r){n[r]=t(e)})),angular.isDefined(e.$value)&&0===Object.keys(n).length&&null!==e.$value&&(n[".value"]=e.$value),angular.isDefined(e.$priority)&&Object.keys(n).length>0&&null!==e.$priority&&(n[".priority"]=e.$priority),angular.forEach(n,function(t,e){if(e.match(/[.$\[\]#\/]/)&&".value"!==e&&".priority"!==e)throw new Error("Invalid key "+e+" (cannot contain .$[]#)");if(angular.isUndefined(t))throw new Error("Key "+e+" was undefined. Cannot pass undefined in JSON. Use null instead.")}),n},batchDelay:r,allPromises:e.all.bind(e)};return i}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuZ3VsYXIuanMiLCJ1aS1ib290c3RyYXAtdHBscy5qcyIsImFuZ3VsYXItcm91dGUuanMiLCJhbmd1bGFyLW5vdGlmeS5qcyIsImZpcmViYXNlLmpzIiwiZmlyZWJhc2Utc2ltcGxlLWxvZ2luLmpzIiwibW9ja2ZpcmViYXNlLmpzIiwiYW5ndWxhcmZpcmUubWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJDQUtBLFNBQUEsRUFBQSxFQUFBLEdBQUEsWUFnQ0EsU0FBQSxHQUFBLEVBQUEsR0FFQSxNQURBLEdBQUEsR0FBQSxNQUNBLFdBQ0EsR0FjQSxHQUFBLEVBZEEsRUFBQSxVQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxLQUNBLEVBQUEsVUFBQSxHQUNBLEVBQUEsVUFDQSxFQUFBLFNBQUEsR0FDQSxNQUFBLGtCQUFBLEdBQ0EsRUFBQSxXQUFBLFFBQUEsY0FBQSxJQUNBLG1CQUFBLEdBQ0EsWUFDQSxnQkFBQSxHQUNBLEtBQUEsVUFBQSxHQUVBLEVBdUJBLEtBbkJBLEVBQUEsRUFBQSxFQUFBLFFBQUEsV0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsR0FFQSxPQUFBLEdBQUEsRUFBQSxFQUFBLFFBQ0EsRUFBQSxFQUFBLEVBQUEsR0FDQSxrQkFBQSxHQUNBLEVBQUEsV0FBQSxRQUFBLGVBQUEsSUFDQSxtQkFBQSxHQUNBLFlBQ0EsZ0JBQUEsR0FDQSxFQUFBLEdBRUEsR0FFQSxJQUdBLEVBQUEsRUFBQSx3Q0FDQSxFQUFBLEVBQUEsSUFBQSxJQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsVUFBQSxPQUFBLElBQ0EsRUFBQSxHQUFBLEdBQUEsRUFBQSxJQUFBLEtBQUEsS0FBQSxFQUFBLEdBQUEsSUFDQSxtQkFBQSxFQUFBLFVBQUEsSUFFQSxPQUFBLElBQUEsR0FBQSxJQWtNQSxRQUFBLEdBQUEsR0FDQSxHQUFBLE1BQUEsR0FBQSxFQUFBLEdBQ0EsT0FBQSxDQUdBLElBQUEsR0FBQSxFQUFBLE1BRUEsT0FBQSxHQUFBLFdBQUEsSUFBQSxHQUNBLEVBR0EsRUFBQSxJQUFBLEdBQUEsSUFBQSxJQUFBLEdBQ0EsZ0JBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEdBc0NBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsQ0FDQSxJQUFBLEVBQ0EsR0FBQSxFQUFBLEdBQ0EsSUFBQSxJQUFBLEdBR0EsYUFBQSxHQUFBLFVBQUEsR0FBQSxRQUFBLEdBQUEsRUFBQSxpQkFBQSxFQUFBLGVBQUEsSUFDQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxPQUdBLElBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxnQkFBQSxFQUNBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxLQUNBLEdBQUEsSUFBQSxLQUNBLEVBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLE9BR0EsSUFBQSxFQUFBLFNBQUEsRUFBQSxVQUFBLEVBQ0EsRUFBQSxRQUFBLEVBQUEsRUFBQSxPQUVBLEtBQUEsSUFBQSxHQUNBLEVBQUEsZUFBQSxJQUNBLEVBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBS0EsT0FBQSxHQUdBLFFBQUEsR0FBQSxHQUNBLE1BQUEsUUFBQSxLQUFBLEdBQUEsT0FHQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBRUEsSUFBQSxHQURBLEdBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUNBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsR0FFQSxPQUFBLEdBU0EsUUFBQSxHQUFBLEdBQ0EsTUFBQSxVQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsSUFhQSxRQUFBLEtBQ0EsUUFBQSxHQVNBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsRUFDQSxFQUFBLFVBQUEsUUFHQSxHQUFBLFVBb0JBLFFBQUEsR0FBQSxHQUdBLElBQUEsR0FGQSxHQUFBLEVBQUEsVUFFQSxFQUFBLEVBQUEsRUFBQSxVQUFBLE9BQUEsRUFBQSxFQUFBLElBQUEsQ0FDQSxHQUFBLEdBQUEsVUFBQSxFQUNBLElBQUEsRUFFQSxJQUFBLEdBREEsR0FBQSxPQUFBLEtBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLEdBQUEsR0FBQSxFQUFBLElBTUEsTUFEQSxHQUFBLEVBQUEsR0FDQSxFQUdBLFFBQUEsR0FBQSxHQUNBLE1BQUEsVUFBQSxFQUFBLElBSUEsUUFBQSxHQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsSUFBQSxFQUFBLGNBQUEsVUFBQSxLQUFBLEdBbUJBLFFBQUEsTUFvQkEsUUFBQSxHQUFBLEdBQUEsTUFBQSxHQUlBLFFBQUEsR0FBQSxHQUFBLE1BQUEsWUFBQSxNQUFBLElBY0EsUUFBQSxHQUFBLEdBQUEsTUFBQSxtQkFBQSxHQWVBLFFBQUEsR0FBQSxHQUFBLE1BQUEsbUJBQUEsR0FnQkEsUUFBQSxHQUFBLEdBRUEsTUFBQSxRQUFBLEdBQUEsZ0JBQUEsR0FnQkEsUUFBQSxHQUFBLEdBQUEsTUFBQSxnQkFBQSxHQWVBLFFBQUEsR0FBQSxHQUFBLE1BQUEsZ0JBQUEsR0FlQSxRQUFBLEdBQUEsR0FDQSxNQUFBLGtCQUFBLEdBQUEsS0FBQSxHQThCQSxRQUFBLEdBQUEsR0FBQSxNQUFBLGtCQUFBLEdBVUEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxvQkFBQSxHQUFBLEtBQUEsR0FXQSxRQUFBLEdBQUEsR0FDQSxNQUFBLElBQUEsRUFBQSxTQUFBLEVBSUEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxJQUFBLEVBQUEsWUFBQSxFQUFBLE9BSUEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxrQkFBQSxHQUFBLEtBQUEsR0FJQSxRQUFBLEdBQUEsR0FDQSxNQUFBLGtCQUFBLEdBQUEsS0FBQSxHQUlBLFFBQUEsR0FBQSxHQUNBLE1BQUEsaUJBQUEsR0FJQSxRQUFBLEdBQUEsR0FDQSxNQUFBLElBQUEsRUFBQSxFQUFBLE1BNkJBLFFBQUEsR0FBQSxHQUNBLFNBQUEsS0FDQSxFQUFBLFVBQ0EsRUFBQSxNQUFBLEVBQUEsTUFBQSxFQUFBLE9BT0EsUUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLE1BQUEsSUFDQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUNBLEVBQUEsRUFBQSxLQUFBLENBQ0EsT0FBQSxHQUlBLFFBQUEsR0FBQSxHQUNBLE1BQUEsSUFBQSxFQUFBLFVBQUEsRUFBQSxHQUFBLFVBT0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxRQUFBLEVBR0EsT0FGQSxJQUFBLEdBQ0EsRUFBQSxPQUFBLEVBQUEsR0FDQSxFQTZEQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEdBQ0EsS0FBQSxJQUFBLE9BQ0EsMkVBR0EsSUFBQSxFQWVBLENBQ0EsR0FBQSxJQUFBLEVBQUEsS0FBQSxJQUFBLE1BQ0Esb0RBS0EsSUFIQSxFQUFBLE1BQ0EsRUFBQSxNQUVBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLFFBQUEsRUFDQSxJQUFBLEtBQUEsRUFBQSxNQUFBLEdBQUEsRUFFQSxHQUFBLEtBQUEsR0FDQSxFQUFBLEtBQUEsR0FHQSxHQUFBLEVBQ0EsSUFBQSxHQUFBLEdBQUEsQ0FDQSxFQUFBLE9BQUEsQ0FDQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQ0EsRUFBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsTUFDQSxFQUFBLEtBQUEsRUFBQSxJQUNBLEVBQUEsS0FBQSxJQUVBLEVBQUEsS0FBQSxPQUVBLENBQ0EsR0FBQSxHQUFBLEVBQUEsU0FDQSxJQUFBLEdBQ0EsRUFBQSxPQUFBLEVBRUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxTQUNBLEdBQUEsSUFHQSxLQUFBLEdBQUEsS0FBQSxHQUNBLEVBQUEsZUFBQSxLQUNBLEVBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLE1BQ0EsRUFBQSxLQUFBLEVBQUEsSUFDQSxFQUFBLEtBQUEsSUFFQSxFQUFBLEdBQUEsRUFHQSxHQUFBLEVBQUEsUUExREEsSUFEQSxFQUFBLEVBQ0EsRUFDQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsS0FBQSxFQUFBLE9BQ0EsSUFBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLE1BQUEsRUFBQSxlQUNBLElBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxRQUFBLEVBQUEsT0FBQSxFQUFBLFdBQUEsTUFBQSxXQUFBLElBQ0EsRUFBQSxVQUFBLEVBQUEsY0FDQSxJQUFBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxPQUFBLE9BQUEsT0FBQSxlQUFBLEdBQ0EsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBb0RBLE1BQUEsR0FRQSxRQUFBLEdBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLENBQ0EsRUFBQSxLQUVBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxHQUFBLEVBQUEsT0FFQSxJQUFBLEVBQUEsR0FBQSxDQUNBLEVBQUEsS0FFQSxLQUFBLEdBQUEsS0FBQSxJQUNBLE1BQUEsRUFBQSxPQUFBLElBQUEsTUFBQSxFQUFBLE9BQUEsTUFDQSxFQUFBLEdBQUEsRUFBQSxJQUtBLE1BQUEsSUFBQSxFQWlDQSxRQUFBLEdBQUEsRUFBQSxHQUNBLEdBQUEsSUFBQSxFQUFBLE9BQUEsQ0FDQSxJQUFBLE9BQUEsR0FBQSxPQUFBLEVBQUEsT0FBQSxDQUNBLElBQUEsSUFBQSxHQUFBLElBQUEsRUFBQSxPQUFBLENBQ0EsSUFBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLEdBQUEsUUFBQSxFQUNBLElBQUEsR0FBQSxHQUNBLFVBQUEsRUFBQSxDQUNBLElBQUEsR0FBQSxHQVFBLENBQUEsR0FBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLFVBQUEsRUFBQSxZQURBLENBRUEsSUFBQSxFQUFBLElBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxZQUFBLEVBQUEsVUFFQSxJQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxHQUFBLEdBQUEsT0FBQSxDQUNBLEtBQ0EsS0FBQSxJQUFBLEdBQ0EsR0FBQSxNQUFBLEVBQUEsT0FBQSxLQUFBLEVBQUEsRUFBQSxJQUFBLENBQ0EsSUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsT0FBQSxDQUNBLEdBQUEsSUFBQSxFQUVBLElBQUEsSUFBQSxHQUNBLElBQUEsRUFBQSxlQUFBLElBQ0EsTUFBQSxFQUFBLE9BQUEsSUFDQSxFQUFBLEtBQUEsSUFDQSxFQUFBLEVBQUEsSUFBQSxPQUFBLENBRUEsUUFBQSxFQTFCQSxJQUFBLEdBQUEsR0FBQSxPQUFBLENBQ0EsS0FBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLE9BQUEsQ0FDQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFDQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxPQUFBLENBRUEsUUFBQSxHQXlCQSxPQUFBLEVBd0JBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsT0FBQSxHQUFBLEtBQUEsRUFBQSxJQUdBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsTUFBQSxJQUFBLEtBQUEsRUFBQSxHQUFBLEdBdUJBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLFVBQUEsT0FBQSxFQUFBLEVBQUEsVUFBQSxLQUNBLFFBQUEsRUFBQSxJQUFBLFlBQUEsUUFjQSxFQWJBLEVBQUEsT0FDQSxXQUNBLE1BQUEsV0FBQSxPQUNBLEVBQUEsTUFBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLEtBQUEsVUFBQSxLQUNBLEVBQUEsTUFBQSxFQUFBLElBRUEsV0FDQSxNQUFBLFdBQUEsT0FDQSxFQUFBLE1BQUEsRUFBQSxXQUNBLEVBQUEsS0FBQSxJQVNBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLENBWUEsT0FWQSxnQkFBQSxJQUFBLE1BQUEsRUFBQSxPQUFBLElBQUEsTUFBQSxFQUFBLE9BQUEsR0FDQSxFQUFBLEVBQ0EsRUFBQSxHQUNBLEVBQUEsVUFDQSxHQUFBLElBQUEsRUFDQSxFQUFBLFlBQ0EsRUFBQSxLQUNBLEVBQUEsVUFHQSxFQWtCQSxRQUFBLEdBQUEsRUFBQSxHQUNBLE1BQUEsbUJBQUEsR0FBQSxFQUNBLEtBQUEsVUFBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLE1BZ0JBLFFBQUEsR0FBQSxHQUNBLE1BQUEsR0FBQSxHQUNBLEtBQUEsTUFBQSxHQUNBLEVBT0EsUUFBQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLEdBQUEsT0FDQSxLQUdBLEVBQUEsUUFDQSxNQUFBLElBQ0EsR0FBQSxHQUFBLEdBQUEsU0FBQSxPQUFBLEdBQUEsTUFDQSxLQUNBLE1BQUEsR0FBQSxHQUFBLFdBQUEsR0FBQSxHQUFBLEdBQ0EsRUFDQSxNQUFBLGNBQUEsR0FDQSxRQUFBLGNBQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxJQUFBLEdBQUEsS0FDQSxNQUFBLEdBQ0EsTUFBQSxJQUFBLElBZ0JBLFFBQUEsR0FBQSxHQUNBLElBQ0EsTUFBQSxvQkFBQSxHQUNBLE1BQUEsS0FVQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxJQWlCQSxPQWhCQSxJQUFBLEdBQUEsSUFBQSxNQUFBLEtBQUEsU0FBQSxHQUNBLEdBQUEsSUFDQSxFQUFBLEVBQUEsUUFBQSxNQUFBLE9BQUEsTUFBQSxLQUNBLEVBQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxJQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxLQUFBLENBQ0EsSUFBQSxLQUFBLEVBQUEsR0FFQSxHQUFBLEVBQUEsSUFDQSxFQUFBLEdBQUEsS0FBQSxHQUVBLEVBQUEsSUFBQSxFQUFBLEdBQUEsR0FKQSxFQUFBLEdBQUEsS0FTQSxFQUdBLFFBQUEsR0FBQSxHQUNBLEdBQUEsS0FZQSxPQVhBLEdBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLFNBQUEsR0FDQSxFQUFBLEtBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsT0FHQSxFQUFBLEtBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsT0FHQSxFQUFBLE9BQUEsRUFBQSxLQUFBLEtBQUEsR0FlQSxRQUFBLEdBQUEsR0FDQSxNQUFBLEdBQUEsR0FBQSxHQUNBLFFBQUEsUUFBQSxLQUNBLFFBQUEsUUFBQSxLQUNBLFFBQUEsUUFBQSxLQWVBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsTUFBQSxvQkFBQSxHQUNBLFFBQUEsUUFBQSxLQUNBLFFBQUEsUUFBQSxLQUNBLFFBQUEsT0FBQSxLQUNBLFFBQUEsUUFBQSxLQUNBLFFBQUEsUUFBQSxLQUNBLFFBQUEsT0FBQSxFQUFBLE1BQUEsS0FLQSxRQUFBLEdBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxNQUVBLEtBREEsRUFBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUVBLEdBREEsRUFBQSxHQUFBLEdBQUEsRUFDQSxFQUFBLEVBQUEsRUFBQSxLQUFBLElBQ0EsTUFBQSxFQUdBLE9BQUEsTUFrSUEsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQ0EsRUFDQSxJQUdBLEdBQUEsR0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsT0FFQSxHQUFBLEVBQUEsY0FBQSxFQUFBLGFBQUEsS0FDQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLGFBQUEsTUFHQSxFQUFBLEdBQUEsU0FBQSxHQUNBLEdBQ0EsR0FEQSxFQUFBLEVBQUEsT0FHQSxJQUFBLEVBQUEsRUFBQSxjQUFBLElBQUEsRUFBQSxRQUFBLElBQUEsT0FBQSxRQUNBLEVBQUEsRUFDQSxFQUFBLEVBQUEsYUFBQSxNQUdBLElBQ0EsRUFBQSxTQUFBLE9BQUEsRUFBQSxFQUFBLGFBQ0EsRUFBQSxFQUFBLEdBQUEsTUFBQSxJQXNEQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxLQUFBLEtBQ0EsSUFBQSxJQUNBLFVBQUEsRUFFQSxHQUFBLEVBQUEsRUFBQSxFQUNBLElBQUEsR0FBQSxXQUdBLEdBRkEsRUFBQSxHQUFBLEdBRUEsRUFBQSxXQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLFdBQUEsRUFBQSxFQUVBLE1BQUEsSUFDQSxVQUNBLG1EQUNBLEVBQUEsUUFBQSxJQUFBLFFBQUEsUUFBQSxJQUFBLFNBR0EsRUFBQSxNQUNBLEVBQUEsU0FBQSxXQUFBLFNBQUEsR0FDQSxFQUFBLE1BQUEsZUFBQSxNQUdBLEVBQUEsa0JBRUEsRUFBQSxNQUFBLG1CQUFBLFNBQUEsR0FDQSxFQUFBLGtCQUFBLE1BSUEsRUFBQSxRQUFBLEtBQ0EsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLFNBU0EsT0FSQSxHQUFBLFFBQUEsYUFBQSxlQUFBLFdBQUEsWUFDQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxPQUFBLFdBQ0EsRUFBQSxLQUFBLFlBQUEsR0FDQSxFQUFBLEdBQUEsUUFJQSxHQUdBLEVBQUEseUJBQ0EsRUFBQSxzQkFPQSxPQUxBLElBQUEsRUFBQSxLQUFBLEVBQUEsUUFDQSxFQUFBLGtCQUFBLEVBQ0EsRUFBQSxLQUFBLEVBQUEsS0FBQSxRQUFBLEVBQUEsS0FHQSxJQUFBLEVBQUEsS0FBQSxFQUFBLE1BQ0EsS0FHQSxFQUFBLEtBQUEsRUFBQSxLQUFBLFFBQUEsRUFBQSxTQUNBLEdBQUEsZ0JBQUEsU0FBQSxHQUNBLEVBQUEsRUFBQSxTQUFBLEdBQ0EsRUFBQSxLQUFBLEtBRUEsT0FjQSxRQUFBLEtBQ0EsRUFBQSxLQUFBLHdCQUFBLEVBQUEsS0FDQSxFQUFBLFNBQUEsU0FXQSxRQUFBLElBQUEsR0FDQSxNQUFBLElBQUEsUUFBQSxHQUFBLFdBQUEsSUFBQSxpQkFJQSxRQUFBLElBQUEsRUFBQSxHQUVBLE1BREEsR0FBQSxHQUFBLElBQ0EsRUFBQSxRQUFBLEdBQUEsU0FBQSxFQUFBLEdBQ0EsT0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLGdCQU1BLFFBQUEsTUFDQSxHQUFBLEVBRUEsTUFLQSxHQUFBLEVBQUEsT0FLQSxJQUFBLEdBQUEsR0FBQSxJQUNBLEdBQUEsR0FDQSxFQUFBLEdBQUEsSUFDQSxNQUFBLEdBQUEsTUFDQSxhQUFBLEdBQUEsYUFDQSxXQUFBLEdBQUEsV0FDQSxTQUFBLEdBQUEsU0FDQSxjQUFBLEdBQUEsZ0JBTUEsRUFBQSxHQUFBLFVBQ0EsR0FBQSxVQUFBLFNBQUEsR0FDQSxHQUFBLEVBQ0EsSUFBQSxHQVFBLElBQUEsTUFQQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFBQSxJQUNBLEVBQUEsR0FBQSxNQUFBLEVBQUEsVUFDQSxHQUFBLEVBQUEsVUFDQSxHQUFBLEdBQUEsZUFBQSxXQU1BLEdBQUEsS0FHQSxHQUFBLEdBR0EsR0FBQSxRQUFBLEdBR0EsSUFBQSxHQU1BLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxJQUFBLEVBQ0EsS0FBQSxJQUFBLE9BQUEsd0JBQUEsR0FBQSxJQUFBLEdBQUEsV0FFQSxPQUFBLEdBR0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQU9BLE1BTkEsSUFBQSxHQUFBLEtBQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUdBLEdBQUEsRUFBQSxHQUFBLEVBQUEsd0JBQ0EsR0FBQSxnQkFBQSxHQUFBLEVBQUEsWUFBQSxNQUFBLGVBQUEsS0FDQSxFQVFBLFFBQUEsSUFBQSxFQUFBLEdBQ0EsR0FBQSxtQkFBQSxFQUNBLEtBQUEsSUFBQSxVQUFBLHlDQUFBLEdBWUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLElBQUEsRUFBQSxNQUFBLEVBTUEsS0FBQSxHQUpBLEdBREEsRUFBQSxFQUFBLE1BQUEsS0FFQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLE9BRUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxHQUNBLElBQ0EsR0FBQSxFQUFBLEdBQUEsR0FHQSxRQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxHQUVBLEVBUUEsUUFBQSxJQUFBLEdBR0EsR0FBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEdBQ0EsR0FBQSxFQUVBLEdBQUEsQ0FFQSxHQURBLEVBQUEsRUFBQSxhQUNBLEVBQUEsS0FDQSxHQUFBLEtBQUEsU0FDQSxJQUFBLEVBRUEsT0FBQSxJQUFBLEdBZUEsUUFBQSxNQUNBLE1BQUEsUUFBQSxPQUFBLE1Ba0JBLFFBQUEsSUFBQSxHQUtBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FKQSxHQUFBLEdBQUEsRUFBQSxhQUNBLEVBQUEsRUFBQSxNQU1BLEVBQUEsRUFBQSxFQUFBLFVBQUEsT0FLQSxPQUZBLEdBQUEsU0FBQSxFQUFBLFVBQUEsRUFFQSxFQUFBLEVBQUEsU0FBQSxXQUVBLEdBQUEsS0FxREEsT0FBQSxVQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLG1CQUFBLEVBQ0EsS0FBQSxHQUFBLFVBQUEseUNBQUEsR0FRQSxPQUpBLEdBQUEsRUFBQSxVQUNBLEdBQUEsRUFBQSxlQUFBLEtBQ0EsRUFBQSxHQUFBLE1BRUEsRUFBQSxFQUFBLEVBQUEsV0F1TkEsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBRUEsTUFEQSxLQUFBLEVBQUEsR0FDQSxXQUVBLE1BREEsR0FBQSxHQUFBLFNBQUEsRUFBQSxFQUFBLFlBQ0EsR0ExTkEsSUFBQSxFQUNBLEtBQUEsR0FBQSxRQUFBLHNMQUVBLEVBSUEsSUFBQSxNQUdBLEtBR0EsS0FFQSxFQUFBLEVBQUEsWUFBQSxTQUFBLE9BQUEsR0FHQSxHQUVBLGFBQUEsRUFDQSxjQUFBLEVBQ0EsV0FBQSxFQVdBLFNBQUEsRUFVQSxLQUFBLEVBYUEsU0FBQSxFQUFBLFdBQUEsWUFXQSxRQUFBLEVBQUEsV0FBQSxXQVdBLFFBQUEsRUFBQSxXQUFBLFdBV0EsTUFBQSxFQUFBLFdBQUEsU0FZQSxTQUFBLEVBQUEsV0FBQSxXQUFBLFdBa0NBLFVBQUEsRUFBQSxtQkFBQSxZQVdBLE9BQUEsRUFBQSxrQkFBQSxZQVlBLFdBQUEsRUFBQSxzQkFBQSxZQWFBLFVBQUEsRUFBQSxtQkFBQSxhQWFBLE9BQUEsRUFZQSxJQUFBLFNBQUEsR0FFQSxNQURBLEdBQUEsS0FBQSxHQUNBLE1BUUEsT0FKQSxJQUNBLEVBQUEsR0FHQSxPQW1JQSxRQUFBLElBQUEsR0FDQSxFQUFBLEdBQ0EsVUFBQSxFQUNBLEtBQUEsRUFDQSxPQUFBLEVBQ0EsT0FBQSxFQUNBLFFBQUEsR0FDQSxRQUFBLEVBQ0EsU0FBQSxHQUNBLEtBQUEsRUFDQSxLQUFBLEVBQ0EsT0FBQSxFQUNBLFNBQUEsRUFDQSxTQUFBLEVBQ0EsWUFBQSxFQUNBLFVBQUEsRUFDQSxTQUFBLEVBQ0EsV0FBQSxFQUNBLFNBQUEsRUFDQSxTQUFBLEVBQ0EsVUFBQSxFQUNBLFFBQUEsR0FDQSxRQUFBLEdBQ0EsT0FBQSxFQUNBLFVBQUEsR0FDQSxVQUFBLEdBQ0EsV0FBQSxRQUFBLEdBQ0EsZUFBQSxHQUNBLFNBQUEsRUFDQSxNQUFBLEdBQ0Esb0JBQUEsSUFHQSxHQUFBLEdBQUEsRUFDQSxLQUNBLEdBQUEsWUFDQSxNQUFBLEdBQ0EsR0FBQSxlQUFBLFNBQUEsVUFBQSxJQUdBLEdBQUEsTUFBQSxhQUFBLFdBQ0EsU0FBQSxHQUVBLEVBQUEsVUFDQSxjQUFBLEtBRUEsRUFBQSxTQUFBLFdBQUEsSUFDQSxXQUNBLEVBQUEsR0FDQSxNQUFBLEdBQ0EsU0FBQSxHQUNBLEtBQUEsR0FDQSxPQUFBLEdBQ0EsT0FBQSxHQUNBLE1BQUEsR0FDQSxPQUFBLEdBQ0EsT0FBQSxHQUNBLFdBQUEsR0FDQSxlQUFBLEdBQ0EsUUFBQSxHQUNBLFlBQUEsR0FDQSxXQUFBLEdBQ0EsUUFBQSxHQUNBLGFBQUEsR0FDQSxPQUFBLEdBQ0EsT0FBQSxHQUNBLEtBQUEsR0FDQSxVQUFBLEdBQ0EsT0FBQSxHQUNBLGNBQUEsR0FDQSxZQUFBLEdBQ0EsU0FBQSxHQUNBLE9BQUEsR0FDQSxRQUFBLEdBQ0EsU0FBQSxHQUNBLGFBQUEsR0FDQSxnQkFBQSxHQUNBLFVBQUEsR0FDQSxhQUFBLEdBQ0EsUUFBQSxHQUNBLE9BQUEsR0FDQSxTQUFBLEdBQ0EsUUFBQSxHQUNBLFVBQUEsR0FDQSxTQUFBLEdBQ0EsV0FBQSxHQUNBLFVBQUEsR0FDQSxZQUFBLEdBQ0EsVUFBQSxHQUNBLFlBQUEsR0FDQSxRQUFBLEdBQ0EsZUFBQSxLQUVBLFdBQ0EsVUFBQSxLQUVBLFVBQUEsSUFDQSxVQUFBLElBQ0EsRUFBQSxVQUNBLGNBQUEsR0FDQSxTQUFBLEdBQ0EsU0FBQSxHQUNBLGNBQUEsR0FDQSxZQUFBLEdBQ0EsVUFBQSxHQUNBLGtCQUFBLEdBQ0EsUUFBQSxHQUNBLGFBQUEsR0FDQSxVQUFBLEdBQ0EsTUFBQSxHQUNBLGFBQUEsR0FDQSxVQUFBLEdBQ0EsS0FBQSxHQUNBLE9BQUEsR0FDQSxXQUFBLEdBQ0EsR0FBQSxHQUNBLElBQUEsR0FDQSxLQUFBLEdBQ0EsYUFBQSxHQUNBLFNBQUEsR0FDQSxlQUFBLEdBQ0EsaUJBQUEsR0FDQSxjQUFBLEdBQ0EsU0FBQSxHQUNBLFFBQUEsR0FDQSxNQUFBLEdBQ0EsZ0JBQUEsUUEySEEsUUFBQSxNQUFBLFFBQUEsR0FhQSxRQUFBLElBQUEsR0FDQSxNQUFBLEdBQ0EsUUFBQSxHQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsRUFBQSxjQUFBLElBRUEsUUFBQSxHQUFBLFNBdUJBLFFBQUEsSUFBQSxHQUNBLE9BQUEsR0FBQSxLQUFBLEdBR0EsUUFBQSxJQUFBLEdBR0EsR0FBQSxHQUFBLEVBQUEsUUFDQSxPQUFBLEtBQUEsS0FBQSxHQUFBLElBQUEsR0FHQSxRQUFBLElBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBRUEsRUFEQSxFQUFBLEVBQUEseUJBQ0EsSUFFQSxJQUFBLEdBQUEsR0FFQSxFQUFBLEtBQUEsRUFBQSxlQUFBLFFBQ0EsQ0FTQSxJQVBBLEVBQUEsR0FBQSxFQUFBLFlBQUEsRUFBQSxjQUFBLFFBQ0EsR0FBQSxHQUFBLEtBQUEsS0FBQSxHQUFBLEtBQUEsR0FBQSxjQUNBLEVBQUEsR0FBQSxJQUFBLEdBQUEsU0FDQSxFQUFBLFVBQUEsRUFBQSxHQUFBLEVBQUEsUUFBQSxHQUFBLGFBQUEsRUFBQSxHQUdBLEVBQUEsRUFBQSxHQUNBLEtBQ0EsRUFBQSxFQUFBLFNBR0EsR0FBQSxFQUFBLEVBQUEsRUFBQSxZQUVBLEVBQUEsRUFBQSxXQUNBLEVBQUEsWUFBQSxHQVVBLE1BTkEsR0FBQSxZQUFBLEdBQ0EsRUFBQSxVQUFBLEdBQ0EsRUFBQSxFQUFBLFNBQUEsR0FDQSxFQUFBLFlBQUEsS0FHQSxFQUdBLFFBQUEsSUFBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLENBQ0EsSUFBQSxFQUVBLFFBQUEsRUFBQSxHQUFBLEtBQUEsS0FDQSxFQUFBLGNBQUEsRUFBQSxNQUdBLEVBQUEsR0FBQSxFQUFBLElBQ0EsRUFBQSxjQU9BLFFBQUEsSUFBQSxHQUNBLEdBQUEsWUFBQSxJQUNBLE1BQUEsRUFHQSxJQUFBLEVBTUEsSUFKQSxFQUFBLEtBQ0EsRUFBQSxHQUFBLEdBQ0EsR0FBQSxLQUVBLGVBQUEsS0FBQSxDQUNBLEdBQUEsR0FBQSxLQUFBLEVBQUEsT0FBQSxHQUNBLEtBQUEsSUFBQSxRQUFBLG1IQUVBLE9BQUEsSUFBQSxJQUFBLEdBR0EsRUFDQSxHQUFBLEtBQUEsR0FBQSxJQUVBLEdBQUEsS0FBQSxHQUlBLFFBQUEsSUFBQSxHQUNBLE1BQUEsR0FBQSxXQUFBLEdBR0EsUUFBQSxJQUFBLEVBQUEsR0FHQSxHQUZBLEdBQUEsR0FBQSxHQUVBLEVBQUEsaUJBRUEsSUFBQSxHQURBLEdBQUEsRUFBQSxpQkFBQSxLQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxHQUFBLEVBQUEsSUFLQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsR0FBQSxLQUFBLElBQUEsVUFBQSx3REFFQSxJQUFBLEdBQUEsR0FBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLE9BQ0EsRUFBQSxHQUFBLEVBQUEsTUFFQSxJQUFBLEVBRUEsR0FBQSxFQVFBLEVBQUEsRUFBQSxNQUFBLEtBQUEsU0FBQSxHQUNBLEdBQUEsRUFBQSxHQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFFQSxJQURBLEVBQUEsTUFBQSxHQUNBLEdBQUEsRUFBQSxPQUFBLEVBQ0EsT0FJQSxHQUFBLEVBQUEsRUFBQSxTQUNBLEdBQUEsU0FqQkEsS0FBQSxJQUFBLEdBQ0EsYUFBQSxHQUNBLEdBQUEsRUFBQSxFQUFBLFNBRUEsR0FBQSxHQWtCQSxRQUFBLElBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLE1BQ0EsRUFBQSxHQUFBLEdBQUEsRUFFQSxJQUFBLEVBQUEsQ0FDQSxHQUFBLEVBRUEsa0JBREEsR0FBQSxLQUFBLEVBSUEsR0FBQSxTQUNBLEVBQUEsT0FBQSxVQUNBLEVBQUEsVUFBQSxZQUVBLEdBQUEsVUFFQSxJQUFBLEdBQ0EsRUFBQSxNQUFBLEdBS0EsUUFBQSxJQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxNQUNBLEVBQUEsR0FBQSxHQUFBLEVBT0EsT0FMQSxLQUFBLElBQ0EsRUFBQSxNQUFBLEVBQUEsS0FDQSxFQUFBLEdBQUEsSUFBQSxVQUFBLFFBQUEsT0FBQSxJQUdBLEVBSUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLENBRUEsR0FBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsSUFBQSxFQUFBLEdBQ0EsR0FBQSxFQUNBLEVBQUEsR0FBQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsSUFFQSxJQUFBLEVBQ0EsRUFBQSxHQUFBLE1BQ0EsQ0FDQSxHQUFBLEVBQ0EsTUFBQSxFQUVBLElBQUEsRUFFQSxNQUFBLElBQUEsRUFBQSxFQUVBLEdBQUEsRUFBQSxLQU9BLFFBQUEsSUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLGNBQ0EsS0FBQSxFQUFBLGFBQUEsVUFBQSxJQUFBLEtBQUEsUUFBQSxVQUFBLEtBQ0EsUUFBQSxJQUFBLEVBQUEsS0FBQSxJQUZBLEVBS0EsUUFBQSxJQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsY0FDQSxFQUFBLEVBQUEsTUFBQSxLQUFBLFNBQUEsR0FDQSxFQUFBLGFBQUEsUUFBQSxJQUNBLEtBQUEsRUFBQSxhQUFBLFVBQUEsSUFBQSxLQUNBLFFBQUEsVUFBQSxLQUNBLFFBQUEsSUFBQSxHQUFBLEdBQUEsSUFBQSxTQU1BLFFBQUEsSUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsYUFBQSxDQUNBLEdBQUEsSUFBQSxLQUFBLEVBQUEsYUFBQSxVQUFBLElBQUEsS0FDQSxRQUFBLFVBQUEsSUFFQSxHQUFBLEVBQUEsTUFBQSxLQUFBLFNBQUEsR0FDQSxFQUFBLEdBQUEsR0FDQSxLQUFBLEVBQUEsUUFBQSxJQUFBLEVBQUEsT0FDQSxHQUFBLEVBQUEsT0FJQSxFQUFBLGFBQUEsUUFBQSxHQUFBLEtBS0EsUUFBQSxJQUFBLEVBQUEsR0FHQSxHQUFBLEVBR0EsR0FBQSxFQUFBLFNBQ0EsRUFBQSxFQUFBLFVBQUEsTUFDQSxDQUNBLEdBQUEsR0FBQSxFQUFBLE1BR0EsSUFBQSxnQkFBQSxJQUFBLEVBQUEsU0FBQSxHQUNBLEdBQUEsRUFDQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxVQUFBLEVBQUEsT0FJQSxHQUFBLEVBQUEsVUFBQSxHQU9BLFFBQUEsSUFBQSxFQUFBLEdBQ0EsTUFBQSxJQUFBLEVBQUEsS0FBQSxHQUFBLGdCQUFBLGNBR0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUdBLEVBQUEsVUFBQSxLQUNBLEVBQUEsRUFBQSxnQkFJQSxLQUZBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUVBLEdBQUEsQ0FDQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQUNBLElBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxNQUFBLEVBTUEsR0FBQSxFQUFBLFlBQUEsRUFBQSxXQUFBLElBQUEsRUFBQSxNQUlBLFFBQUEsSUFBQSxHQUVBLElBREEsR0FBQSxHQUFBLEdBQ0EsRUFBQSxZQUNBLEVBQUEsWUFBQSxFQUFBLFlBSUEsUUFBQSxJQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFDQSxJQUFBLEdBQUEsRUFBQSxVQUNBLElBQUEsRUFBQSxZQUFBLEdBSUEsUUFBQSxJQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsRUFDQSxhQUFBLEVBQUEsU0FBQSxXQUlBLEVBQUEsV0FBQSxHQUdBLEdBQUEsR0FBQSxHQUFBLE9BQUEsR0FpRUEsUUFBQSxJQUFBLEVBQUEsR0FFQSxHQUFBLEdBQUEsR0FBQSxFQUFBLGNBR0EsT0FBQSxJQUFBLEdBQUEsRUFBQSxLQUFBLEVBR0EsUUFBQSxJQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxRQUNBLFFBQUEsVUFBQSxHQUFBLGFBQUEsSUFBQSxHQUFBLEdBMktBLFFBQUEsSUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLFNBQUEsRUFBQSxHQUVBLEVBQUEsbUJBQUEsV0FDQSxNQUFBLEdBQUEsaUJBR0EsSUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxDQUVBLElBQUEsRUFBQSxDQUVBLEdBQUEsRUFBQSxFQUFBLDZCQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsd0JBQ0EsR0FBQSx5QkFBQSxXQUNBLEVBQUEsNkJBQUEsRUFFQSxFQUFBLGlCQUNBLEVBQUEsa0JBR0EsR0FDQSxFQUFBLEtBQUEsSUFLQSxFQUFBLDhCQUFBLFdBQ0EsTUFBQSxHQUFBLCtCQUFBLEdBSUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxHQUdBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxpQ0FDQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBUUEsT0FEQSxHQUFBLEtBQUEsRUFDQSxFQW1RQSxRQUFBLElBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEVBQUEsU0FFQSxJQUFBLEVBSUEsTUFIQSxrQkFBQSxLQUNBLEVBQUEsRUFBQSxhQUVBLENBR0EsSUFBQSxTQUFBLEVBT0EsT0FMQSxHQURBLFlBQUEsR0FBQSxVQUFBLEdBQUEsT0FBQSxFQUNBLEVBQUEsVUFBQSxFQUFBLEtBQUEsR0FBQSxLQUVBLEVBQUEsSUFBQSxFQVNBLFFBQUEsSUFBQSxFQUFBLEdBQ0EsR0FBQSxFQUFBLENBQ0EsR0FBQSxHQUFBLENBQ0EsTUFBQSxRQUFBLFdBQ0EsUUFBQSxHQUdBLEVBQUEsRUFBQSxLQUFBLElBQUEsTUFrR0EsUUFBQSxJQUFBLEdBR0EsR0FBQSxHQUFBLEVBQUEsV0FBQSxRQUFBLEdBQUEsSUFDQSxFQUFBLEVBQUEsTUFBQSxHQUNBLE9BQUEsR0FDQSxhQUFBLEVBQUEsSUFBQSxJQUFBLFFBQUEsWUFBQSxLQUFBLElBRUEsS0FHQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUNBLEVBQ0EsRUFDQSxDQUVBLElBQUEsa0JBQUEsSUFDQSxLQUFBLEVBQUEsRUFBQSxTQUFBLENBRUEsR0FEQSxLQUNBLEVBQUEsT0FBQSxDQUNBLEdBQUEsRUFJQSxLQUhBLEdBQUEsSUFBQSxJQUNBLEVBQUEsRUFBQSxNQUFBLEdBQUEsSUFFQSxHQUFBLFdBQ0EsNEVBQUEsRUFFQSxHQUFBLEVBQUEsV0FBQSxRQUFBLEdBQUEsSUFDQSxFQUFBLEVBQUEsTUFBQSxJQUNBLEVBQUEsRUFBQSxHQUFBLE1BQUEsSUFBQSxTQUFBLEdBQ0EsRUFBQSxRQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEtBQUEsT0FJQSxFQUFBLFFBQUEsT0FFQSxJQUFBLElBQ0EsRUFBQSxFQUFBLE9BQUEsRUFDQSxHQUFBLEVBQUEsR0FBQSxNQUNBLEVBQUEsRUFBQSxNQUFBLEVBQUEsSUFFQSxHQUFBLEVBQUEsTUFBQSxFQUVBLE9BQUEsR0E2ZUEsUUFBQSxJQUFBLEVBQUEsR0FvQ0EsUUFBQSxHQUFBLEdBQ0EsTUFBQSxVQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsT0FDQSxHQUFBLEVBQUEsRUFBQSxJQUVBLEVBQUEsRUFBQSxJQUtBLFFBQUEsR0FBQSxFQUFBLEdBS0EsR0FKQSxHQUFBLEVBQUEsWUFDQSxFQUFBLElBQUEsR0FBQSxNQUNBLEVBQUEsRUFBQSxZQUFBLEtBRUEsRUFBQSxLQUNBLEtBQUEsSUFBQSxPQUFBLGtEQUFBLEVBRUEsT0FBQSxHQUFBLEVBQUEsR0FBQSxFQUdBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsTUFBQSxZQUNBLEdBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxLQUFBLEVBQUEsRUFDQSxJQUFBLEVBQUEsR0FDQSxLQUFBLElBQUEsUUFBQSwrREFBQSxFQUVBLE9BQUEsSUFJQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEdBQ0EsS0FBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsSUFJQSxRQUFBLEdBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxHQUFBLFlBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxZQUFBLE1BSUEsUUFBQSxHQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsR0FFQSxRQUFBLEdBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxZQUNBLEVBQUEsR0FBQSxFQUNBLEVBQUEsR0FBQSxFQUdBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLElBRUEsR0FBQSxLQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLEVBQ0EsT0FBQSxHQUFBLE9BQUEsRUFBQSxNQUFBLFVBQUEsS0FPQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsSUE0Q0EsT0EzQ0EsR0FBQSxFQUFBLFNBQUEsR0FJQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsQ0FDQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLElBQUEsRUFBQSxHQUVBLEdBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxFQUFBLEtBVEEsSUFBQSxFQUFBLElBQUEsR0FBQSxDQUNBLEVBQUEsSUFBQSxHQUFBLEVBWUEsS0FDQSxFQUFBLElBQ0EsRUFBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLFdBQUEsT0FBQSxFQUFBLFlBQ0EsRUFBQSxFQUFBLGNBQ0EsRUFBQSxFQUFBLGdCQUNBLEVBQUEsR0FDQSxFQUFBLEtBQUEsRUFBQSxPQUFBLElBQ0EsR0FBQSxHQUNBLEVBQUEsS0FBQSxFQUFBLE9BQUEsSUFFQSxHQUFBLEVBQUEsVUFFQSxNQUFBLEdBWUEsS0FYQSxJQUFBLEtBQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUVBLEVBQUEsU0FBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLE1BQUEsUUFBQSxFQUFBLFdBTUEsRUFBQSxFQUFBLFFBQUEsS0FBQSxFQUFBLE9BRUEsR0FBQSxXQUFBLGdEQUNBLEVBQUEsRUFBQSxPQUFBLEVBQUEsU0FBQSxPQUdBLEVBT0EsUUFBQSxHQUFBLEVBQUEsR0FFQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEVBQUEsZUFBQSxHQUFBLENBQ0EsR0FBQSxFQUFBLEtBQUEsRUFDQSxLQUFBLElBQUEsT0FBQSxpQ0FDQSxFQUFBLE9BQUEsRUFBQSxLQUFBLFFBRUEsT0FBQSxHQUFBLEdBRUEsSUFHQSxNQUZBLEdBQUEsUUFBQSxHQUNBLEVBQUEsR0FBQSxFQUNBLEVBQUEsR0FBQSxFQUFBLEdBQ0EsTUFBQSxHQUlBLEtBSEEsR0FBQSxLQUFBLFNBQ0EsR0FBQSxHQUVBLEVBQ0EsUUFDQSxFQUFBLFNBS0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsZ0JBQUEsS0FDQSxFQUFBLEVBQ0EsRUFBQSxLQUdBLElBRUEsR0FBQSxFQUNBLEVBSEEsS0FDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBSUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQUEsQ0FFQSxHQURBLEVBQUEsRUFBQSxHQUNBLGdCQUFBLEdBQ0EsS0FBQSxJQUFBLE9BQ0Esc0VBQUEsRUFFQSxHQUFBLEtBQ0EsR0FBQSxFQUFBLGVBQUEsR0FDQSxFQUFBLEdBQ0EsRUFBQSxJQVNBLE1BTkEsSUFBQSxLQUNBLEVBQUEsRUFBQSxJQUtBLEVBQUEsTUFBQSxFQUFBLEdBR0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLEdBQ0EsR0FBQSxFQURBLEVBQUEsWUFTQSxPQUpBLEdBQUEsV0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUEsR0FBQSxHQUFBLFVBQ0EsRUFBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEVBR0EsT0FDQSxPQUFBLEVBQ0EsWUFBQSxFQUNBLElBQUEsRUFDQSxTQUFBLEdBQ0EsSUFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLGVBQUEsRUFBQSxJQUFBLEVBQUEsZUFBQSxLQW5PQSxFQUFBLEtBQUEsQ0FDQSxJQUFBLE1BQ0EsRUFBQSxXQUNBLEtBQ0EsRUFBQSxHQUFBLFFBQUEsR0FDQSxHQUNBLFVBQ0EsU0FBQSxFQUFBLEdBQ0EsUUFBQSxFQUFBLEdBQ0EsUUFBQSxFQUFBLEdBQ0EsTUFBQSxFQUFBLEdBQ0EsU0FBQSxFQUFBLEdBQ0EsVUFBQSxJQUdBLEVBQUEsRUFBQSxVQUNBLEVBQUEsRUFBQSxXQUNBLEtBQUEsSUFBQSxPQUFBLHdCQUFBLEVBQUEsS0FBQSxXQUVBLEtBQ0EsRUFBQSxFQUFBLFVBQ0EsRUFBQSxFQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsRUFDQSxPQUFBLEdBQUEsT0FBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLElBTUEsT0FGQSxHQUFBLEVBQUEsR0FBQSxTQUFBLEdBQUEsRUFBQSxPQUFBLEdBQUEsS0FFQSxFQXNOQSxRQUFBLE1BRUEsR0FBQSxJQUFBLENBZUEsTUFBQSxxQkFBQSxXQUNBLEdBQUEsR0E0SUEsS0FBQSxNQUFBLFVBQUEsWUFBQSxhQUFBLFNBQUEsRUFBQSxFQUFBLEdBTUEsUUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLElBT0EsT0FOQSxPQUFBLFVBQUEsS0FBQSxLQUFBLEVBQUEsU0FBQSxHQUNBLE1BQUEsTUFBQSxFQUFBLElBQ0EsRUFBQSxHQUNBLEdBRkEsU0FLQSxFQUdBLFFBQUEsS0FFQSxHQUFBLEdBQUEsRUFBQSxPQUVBLElBQUEsRUFBQSxHQUNBLEVBQUEsUUFDQSxJQUFBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLGlCQUFBLEVBRUEsR0FEQSxVQUFBLEVBQUEsU0FDQSxFQUVBLEVBQUEsd0JBQUEsV0FFQSxHQUFBLEtBQ0EsRUFBQSxFQUdBLE9BQUEsR0FHQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEVBQUEsQ0FDQSxFQUFBLGdCQUVBLElBQUEsR0FBQSxHQUVBLElBQUEsRUFBQSxDQWNBLEdBQUEsR0FBQSxFQUFBLHdCQUFBLEdBQ0EsR0FBQSxTQUFBLEVBQUEsRUFBQSxRQUdBLEdBQUEsU0FBQSxFQUFBLEdBSUEsUUFBQSxLQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsTUFHQSxJQUdBLEVBQUEsRUFBQSxlQUFBLElBQUEsRUFBQSxJQUdBLEVBQUEsRUFBQSxFQUFBLGtCQUFBLEtBQUEsRUFBQSxHQUdBLFFBQUEsR0FBQSxFQUFBLE1BVEEsRUFBQSxNQXJFQSxHQUFBLEdBQUEsRUFBQSxRQStGQSxPQVpBLElBQ0EsRUFBQSxPQUFBLFdBQUEsTUFBQSxHQUFBLFFBQ0EsU0FBQSxFQUFBLElBRUEsSUFBQSxHQUFBLEtBQUEsSUFFQSxHQUFBLFdBQ0EsRUFBQSxXQUFBLE9BS0EsSUFzWEEsUUFBQSxNQUNBLEtBQUEsTUFBQSxRQUFBLFdBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLFVBQ0EsU0FBQSxHQUFBLE1BQUEsR0FBQSxJQUNBLFNBQUEsR0FDQSxNQUFBLEdBQUEsRUFBQSxHQUFBLE1BNkJBLFFBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQXNCQSxRQUFBLEdBQUEsR0FDQSxJQUNBLEVBQUEsTUFBQSxLQUFBLEVBQUEsVUFBQSxJQUNBLFFBRUEsR0FEQSxJQUNBLElBQUEsRUFDQSxLQUFBLEVBQUEsUUFDQSxJQUNBLEVBQUEsUUFDQSxNQUFBLEdBQ0EsRUFBQSxNQUFBLEtBeURBLFFBQUEsR0FBQSxFQUFBLElBQ0EsUUFBQSxLQUNBLEVBQUEsRUFBQSxTQUFBLEdBQUEsTUFDQSxFQUFBLEVBQUEsRUFBQSxNQTJHQSxRQUFBLEtBQ0EsSUFDQSxJQUtBLFFBQUEsS0FFQSxFQUFBLEVBQUEsUUFBQSxNQUNBLEVBQUEsRUFBQSxHQUFBLEtBQUEsRUFHQSxFQUFBLEVBQUEsS0FDQSxFQUFBLEdBRUEsRUFBQSxFQUdBLFFBQUEsTUFDQSxJQUFBLEVBQUEsT0FBQSxJQUFBLEtBSUEsRUFBQSxFQUFBLE1BQ0EsRUFBQSxFQUNBLEVBQUEsRUFBQSxTQUFBLEdBQ0EsRUFBQSxFQUFBLE1BQUEsTUE0RUEsUUFBQSxHQUFBLEdBQ0EsSUFDQSxNQUFBLG9CQUFBLEdBQ0EsTUFBQSxHQUNBLE1BQUEsSUFqVEEsR0FBQSxHQUFBLEtBQ0EsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLFNBQ0EsRUFBQSxFQUFBLFFBQ0EsRUFBQSxFQUFBLFdBQ0EsRUFBQSxFQUFBLGFBQ0EsSUFFQSxHQUFBLFFBQUEsQ0FFQSxJQUFBLEdBQUEsRUFDQSxJQUdBLEdBQUEsNkJBQUEsRUFDQSxFQUFBLDZCQUFBLFdBQUEsS0E2QkEsRUFBQSxnQ0FBQSxTQUFBLEdBSUEsRUFBQSxFQUFBLFNBQUEsR0FBQSxNQUVBLElBQUEsRUFDQSxJQUVBLEVBQUEsS0FBQSxHQU9BLElBQ0EsR0FEQSxJQWNBLEdBQUEsVUFBQSxTQUFBLEdBR0EsTUFGQSxHQUFBLElBQUEsRUFBQSxJQUFBLEdBQ0EsRUFBQSxLQUFBLEdBQ0EsRUFzQkEsSUFBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLEtBQ0EsRUFBQSxFQUFBLEtBQUEsUUFDQSxFQUFBLElBRUEsS0FDQSxFQUFBLEVBc0JBLEVBQUEsSUFBQSxTQUFBLEVBQUEsRUFBQSxHQWFBLEdBVEEsRUFBQSxLQUNBLEVBQUEsTUFJQSxJQUFBLEVBQUEsV0FBQSxFQUFBLEVBQUEsVUFDQSxJQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsU0FHQSxFQUFBLENBQ0EsR0FBQSxHQUFBLElBQUEsQ0FLQSxJQUFBLElBQUEsS0FBQSxFQUFBLFNBQUEsR0FDQSxNQUVBLElBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEVBc0JBLE9BckJBLEdBQUEsRUFDQSxFQUFBLEdBS0EsRUFBQSxTQUFBLEdBQUEsR0FNQSxJQUNBLEVBQUEsR0FFQSxFQUNBLEVBQUEsUUFBQSxHQUVBLEVBQUEsS0FBQSxJQVhBLEVBQUEsRUFBQSxlQUFBLGFBQUEsRUFBQSxHQUFBLEdBQ0EsSUFFQSxFQUFBLEdBV0EsRUFNQSxNQUFBLElBQUEsRUFBQSxLQUFBLFFBQUEsT0FBQSxNQWNBLEVBQUEsTUFBQSxXQUNBLE1BQUEsR0FHQSxJQUFBLE1BQ0EsR0FBQSxFQVFBLEVBQUEsSUE4Q0EsR0FBQSxZQUFBLFNBQUEsR0FnQkEsTUFkQSxLQU1BLEVBQUEsU0FBQSxHQUFBLEdBQUEsR0FBQSxXQUFBLEdBRUEsR0FBQSxHQUFBLEdBQUEsYUFBQSxHQUVBLEdBQUEsR0FHQSxFQUFBLEtBQUEsR0FDQSxHQVFBLEVBQUEsaUJBQUEsRUFlQSxFQUFBLFNBQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxLQUFBLE9BQ0EsT0FBQSxHQUFBLEVBQUEsUUFBQSx5QkFBQSxJQUFBLEdBTUEsSUFBQSxNQUNBLEVBQUEsR0FDQSxFQUFBLEVBQUEsVUE4QkEsR0FBQSxRQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxDQUVBLEtBQUEsRUFvQkEsQ0FDQSxHQUFBLEVBQUEsU0FBQSxFQUtBLElBSkEsRUFBQSxFQUFBLE9BQ0EsRUFBQSxFQUFBLE1BQUEsTUFDQSxLQUVBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUNBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxRQUFBLEtBQ0EsRUFBQSxJQUNBLEVBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxJQUlBLEVBQUEsS0FBQSxJQUNBLEVBQUEsR0FBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEtBS0EsT0FBQSxHQXZDQSxJQUFBLEVBQ0EsRUFBQSxPQUFBLG1CQUFBLEdBQUEsVUFBQSxFQUNBLHlDQUVBLEVBQUEsS0FDQSxHQUFBLEVBQUEsT0FBQSxtQkFBQSxHQUFBLElBQUEsbUJBQUEsR0FDQSxTQUFBLEdBQUEsT0FBQSxFQU1BLEVBQUEsTUFDQSxFQUFBLEtBQUEsV0FBQSxFQUNBLDhEQUNBLEVBQUEscUJBMkNBLEVBQUEsTUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEVBT0EsT0FOQSxLQUNBLEVBQUEsRUFBQSxpQkFDQSxHQUFBLEdBQ0EsRUFBQSxJQUNBLEdBQUEsR0FDQSxFQUFBLElBQUEsRUFDQSxHQWNBLEVBQUEsTUFBQSxPQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsVUFDQSxHQUFBLEdBQ0EsRUFBQSxHQUNBLEVBQUEsSUFDQSxJQUVBLEdBS0EsUUFBQSxNQUNBLEtBQUEsTUFBQSxVQUFBLE9BQUEsV0FBQSxZQUNBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLElBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxLQXFGQSxRQUFBLE1BRUEsS0FBQSxLQUFBLFdBR0EsUUFBQSxHQUFBLEVBQUEsR0F3TUEsUUFBQSxHQUFBLEdBQ0EsR0FBQSxJQUNBLEVBRUEsR0FBQSxJQUNBLEVBQUEsRUFBQSxHQUZBLEVBQUEsRUFLQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUNBLEVBQUEsRUFBQSxNQVFBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxJQUNBLElBQUEsRUFBQSxFQUFBLEdBQ0EsSUFBQSxFQUFBLEVBQUEsSUE3TkEsR0FBQSxJQUFBLEdBQ0EsS0FBQSxHQUFBLGlCQUFBLE1BQUEsa0NBQUEsRUFHQSxJQUFBLEdBQUEsRUFDQSxFQUFBLEtBQUEsR0FBQSxHQUFBLElBQ0EsS0FDQSxFQUFBLEdBQUEsRUFBQSxVQUFBLE9BQUEsVUFDQSxLQUNBLEVBQUEsS0FDQSxFQUFBLElBeUNBLE9BQUEsR0FBQSxJQW9CQSxJQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxPQUFBLFVBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxJQUFBLEdBRUEsR0FBQSxHQUdBLElBQUEsRUFBQSxHQVFBLE1BUEEsS0FBQSxJQUFBLElBQ0EsRUFBQSxHQUFBLEVBRUEsRUFBQSxHQUNBLEtBQUEsT0FBQSxFQUFBLEtBR0EsR0FjQSxJQUFBLFNBQUEsR0FDQSxHQUFBLEVBQUEsT0FBQSxVQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFFQSxLQUFBLEVBQUEsTUFFQSxHQUFBLEdBR0EsTUFBQSxHQUFBLElBY0EsT0FBQSxTQUFBLEdBQ0EsR0FBQSxFQUFBLE9BQUEsVUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBRUEsS0FBQSxFQUFBLE1BRUEsSUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFNBRUEsR0FBQSxTQUdBLEdBQUEsR0FDQSxLQVlBLFVBQUEsV0FDQSxLQUNBLEVBQUEsRUFDQSxLQUNBLEVBQUEsRUFBQSxNQWFBLFFBQUEsV0FDQSxFQUFBLEtBQ0EsRUFBQSxLQUNBLEVBQUEsV0FDQSxHQUFBLElBb0JBLEtBQUEsV0FDQSxNQUFBLE1BQUEsR0FBQSxLQUFBLE1BbE1BLEdBQUEsS0F1UUEsT0F4QkEsR0FBQSxLQUFBLFdBQ0EsR0FBQSxLQUlBLE9BSEEsR0FBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLFNBRUEsR0FjQSxFQUFBLElBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxJQUlBLEdBK0NBLFFBQUEsTUFDQSxLQUFBLE1BQUEsZ0JBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxlQTJxQkEsUUFBQSxJQUFBLEVBQUEsR0FhQSxRQUFBLEdBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxxQ0FFQSxJQW9CQSxPQWxCQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsTUFBQSxFQUVBLEtBQUEsRUFDQSxLQUFBLElBQUEsT0FDQSx5RkFFQSxFQUFBLEVBQUEsRUFHQSxHQUFBLElBQ0EsS0FBQSxFQUFBLEdBQUEsR0FDQSxXQUFBLE1BQUEsRUFBQSxHQUNBLFNBQUEsTUFBQSxFQUFBLEdBQ0EsU0FBQSxFQUFBLElBQUEsS0FJQSxFQW5DQSxHQUFBLE1BQ0EsRUFBQSxZQUNBLEVBQUEsc0NBQ0EsRUFBQSw4QkFDQSxFQUFBLEVBQUEsNkJBQ0EsRUFBQSw4QkFLQSxFQUFBLHlCQTJDQSxNQUFBLFVBQUEsUUFBQSxHQUFBLEVBQUEsR0FxQ0EsTUFwQ0EsSUFBQSxFQUFBLGFBQ0EsRUFBQSxJQUNBLEdBQUEsRUFBQSxvQkFDQSxFQUFBLGVBQUEsS0FDQSxFQUFBLE1BQ0EsRUFBQSxRQUFBLEVBQUEsR0FBQSxZQUFBLG9CQUNBLFNBQUEsRUFBQSxHQUNBLEdBQUEsS0FzQkEsT0FyQkEsR0FBQSxFQUFBLEdBQUEsU0FBQSxFQUFBLEdBQ0EsSUFDQSxHQUFBLEdBQUEsRUFBQSxPQUFBLEVBQ0EsR0FBQSxHQUNBLEdBQUEsUUFBQSxFQUFBLEtBQ0EsRUFBQSxTQUFBLEVBQUEsT0FDQSxFQUFBLFFBQUEsRUFBQSxFQUFBLE9BRUEsRUFBQSxTQUFBLEVBQUEsVUFBQSxFQUNBLEVBQUEsTUFBQSxFQUNBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFDQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsWUFBQSxFQUFBLEtBQ0EsRUFBQSxTQUFBLEVBQUEsVUFBQSxLQUNBLEVBQUEsRUFBQSxTQUNBLEVBQUEsa0JBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxPQUVBLEVBQUEsS0FBQSxHQUNBLE1BQUEsR0FDQSxFQUFBLE1BR0EsTUFHQSxFQUFBLEdBQUEsS0FBQSxJQUVBLEVBQUEsRUFBQSxFQUFBLElBRUEsTUF3QkEsS0FBQSwyQkFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLElBQ0EsRUFBQSwyQkFBQSxHQUNBLE1BRUEsRUFBQSw4QkF5QkEsS0FBQSw0QkFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLElBQ0EsRUFBQSw0QkFBQSxHQUNBLE1BRUEsRUFBQSw4QkEwQkEsSUFBQSxJQUFBLENBQ0EsTUFBQSxpQkFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLElBQ0EsRUFBQSxFQUNBLE1BRUEsR0FHQSxLQUFBLE1BQ0EsWUFBQSxlQUFBLG9CQUFBLG1CQUFBLFNBQ0EsY0FBQSxhQUFBLFlBQUEsT0FBQSxXQUFBLGdCQUNBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQTROQSxRQUFBLEdBQUEsRUFBQSxHQUNBLElBQ0EsRUFBQSxTQUFBLEdBQ0EsTUFBQSxLQTZDQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFDQSxHQUNBLFlBQUEsTUFHQSxFQUFBLEdBQUEsSUFJQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxVQUFBLElBQUEsRUFBQSxVQUFBLE1BQUEsU0FDQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsaUJBQUEsU0FBQSxLQUdBLElBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUNBLEVBQUEsRUFBQSxFQUNBLEdBQUEsZ0JBQUEsRUFDQSxJQUFBLEdBQUEsSUFDQSxPQUFBLFVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxTQUNBLElBQ0EsRUFBQSxFQUFBLEdBRUEsSUFBQSxFQWtCQSxJQVhBLEVBTkEsU0FBQSxFQU1BLEdBQ0EsRUFBQSxFQUFBLEdBQUEsU0FBQSxPQUFBLEdBQUEsU0FFQSxFQUdBLEdBQUEsTUFBQSxLQUFBLEdBRUEsRUFHQSxFQUNBLElBQUEsR0FBQSxLQUFBLEdBQ0EsRUFBQSxLQUFBLElBQUEsRUFBQSxhQUFBLEVBQUEsR0FBQSxTQVFBLE9BSkEsR0FBQSxlQUFBLEVBQUEsR0FFQSxHQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBSUEsUUFBQSxHQUFBLEdBRUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUNBLE9BQUEsSUFHQSxrQkFBQSxFQUFBLElBQUEsRUFBQSxXQUFBLE1BQUEsT0FBQSxNQUZBLE9BcUJBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsR0EwQ0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsQ0FHQSxJQUFBLEVBQUEsQ0FHQSxHQUFBLEdBQUEsRUFBQSxNQUlBLEtBSEEsRUFBQSxHQUFBLE9BQUEsR0FHQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsR0FBQSxFQUNBLEVBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLE9BR0EsR0FBQSxDQUdBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxNQUNBLEVBQUEsRUFBQSxLQUNBLEVBQUEsRUFBQSxLQUVBLEdBQ0EsRUFBQSxPQUNBLEVBQUEsRUFBQSxPQUNBLEVBQUEsZUFBQSxHQUFBLEdBQUEsSUFFQSxFQUFBLEVBSUEsRUFEQSxFQUFBLHdCQUNBLEVBQ0EsRUFBQSxFQUFBLFdBQUEsRUFDQSxFQUFBLGlDQUVBLEVBQUEsdUJBQUEsRUFDQSxHQUVBLEdBQUEsRUFDQSxFQUFBLEVBQUEsR0FHQSxLQUdBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUVBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsV0FBQSxFQUFBLEdBekZBLElBQUEsR0FGQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQURBLEtBR0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQ0EsRUFBQSxHQUFBLElBR0EsRUFBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQ0EsR0FFQSxFQUFBLEVBQUEsT0FDQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUNBLFdBQUEsR0FDQSxLQUVBLEdBQUEsRUFBQSxPQUNBLEVBQUEsZ0JBQUEsRUFBQSxXQUdBLEVBQUEsR0FBQSxFQUFBLFlBQ0EsRUFBQSxFQUFBLEdBQUEsY0FDQSxFQUFBLE9BQ0EsS0FDQSxFQUFBLEVBQ0EsR0FDQSxFQUFBLDBCQUFBLEVBQUEsd0JBQ0EsRUFBQSxXQUFBLElBRUEsR0FBQSxLQUNBLEVBQUEsS0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBQ0EsRUFBQSxHQUFBLEdBSUEsRUFBQSxJQUlBLE9BQUEsR0FBQSxFQUFBLEtBMkRBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FFQSxHQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBT0EsTUFMQSxLQUNBLEVBQUEsRUFBQSxNQUFBLEVBQUEsR0FDQSxFQUFBLGVBQUEsR0FHQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FHQSxPQUFBLEdBYUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUVBLEdBQ0EsRUFIQSxFQUFBLEVBQUEsU0FDQSxFQUFBLEVBQUEsS0FJQSxRQUFBLEdBQ0EsSUFBQSxJQUVBLEVBQUEsRUFDQSxHQUFBLEVBQUEsSUFBQSxJQUFBLEVBQUEsRUFHQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFdBQ0EsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQUEsQ0FDQSxHQUFBLElBQUEsRUFDQSxHQUFBLENBRUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEtBQ0EsRUFBQSxHQUFBLEVBQUEsT0FHQSxFQUFBLEdBQUEsSUFDQSxFQUFBLEdBQUEsS0FBQSxNQUNBLEVBQUEsR0FBQSxFQUFBLE9BQUEsR0FBQSxLQUdBLElBQUEsR0FBQSxFQUFBLFFBQUEsZUFBQSxHQUNBLEdBQUEsSUFDQSxJQUFBLEVBQUEsVUFDQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLE9BQUEsR0FBQSxNQUNBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxPQUFBLElBSUEsRUFBQSxHQUFBLEVBQUEsZUFDQSxFQUFBLEdBQUEsR0FDQSxJQUFBLEVBQUEsZUFBQSxNQUNBLEVBQUEsR0FBQSxFQUNBLEdBQUEsRUFBQSxLQUNBLEVBQUEsSUFBQSxJQUdBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQ0EsR0FLQSxHQURBLEVBQUEsRUFBQSxVQUNBLEVBQUEsSUFBQSxLQUFBLEVBQ0EsS0FBQSxFQUFBLEVBQUEsS0FBQSxJQUNBLEVBQUEsR0FBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEtBQ0EsRUFBQSxHQUFBLEdBQUEsRUFBQSxLQUVBLEVBQUEsRUFBQSxPQUFBLEVBQUEsTUFBQSxFQUFBLEdBQUEsT0FHQSxNQUNBLEtBQUEsSUFDQSxFQUFBLEVBQUEsRUFBQSxVQUNBLE1BQ0EsS0FBQSxJQUNBLElBQ0EsRUFBQSxFQUFBLEtBQUEsRUFBQSxXQUNBLElBQ0EsRUFBQSxHQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsS0FDQSxFQUFBLEdBQUEsR0FBQSxFQUFBLE1BR0EsTUFBQSxLQVNBLE1BREEsR0FBQSxLQUFBLEdBQ0EsRUFXQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxNQUNBLEVBQUEsQ0FDQSxJQUFBLEdBQUEsRUFBQSxjQUFBLEVBQUEsYUFBQSxJQUNBLEVBQUEsQ0FDQSxJQUFBLEVBQ0EsS0FBQSxJQUFBLFVBQ0EsbUVBQ0EsRUFBQSxFQUVBLEdBQUEsVUFBQSxLQUNBLEVBQUEsYUFBQSxJQUFBLElBQ0EsRUFBQSxhQUFBLElBQUEsS0FFQSxFQUFBLEtBQUEsR0FDQSxFQUFBLEVBQUEsa0JBQ0EsRUFBQSxPQUVBLEdBQUEsS0FBQSxFQUdBLE9BQUEsSUFBQSxHQVdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLFVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUVBLE1BREEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBMkJBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUNBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsR0FpTkEsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsSUFDQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLFFBQUEsRUFBQSxRQUNBLEVBQUEsY0FBQSxHQUNBLElBQUEsR0FBQSxFQUFBLGtCQUNBLEVBQUEsR0FBQSxHQUFBLGNBQUEsS0FFQSxFQUFBLEtBQUEsSUFFQSxJQUNBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsUUFBQSxFQUFBLFFBQ0EsRUFBQSxjQUFBLEdBQ0EsSUFBQSxHQUFBLEVBQUEsa0JBQ0EsRUFBQSxHQUFBLEdBQUEsY0FBQSxLQUVBLEVBQUEsS0FBQSxJQUtBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FFQSxFQUZBLEVBQUEsT0FBQSxHQUFBLEVBQ0EsRUFBQSxDQUVBLElBQUEsRUFBQSxHQUFBLENBMkJBLEdBMUJBLEVBQUEsRUFBQSxNQUFBLEdBQ0EsRUFBQSxFQUFBLFVBQUEsRUFBQSxHQUFBLFFBRUEsRUFBQSxLQUNBLEVBQUEsR0FBQSxFQUFBLEdBQUEsS0FDQSxFQUFBLEdBQUEsRUFBQSxJQUVBLE1BQUEsRUFBQSxHQUNBLEVBQUEsZ0JBQ0EsT0FBQSxFQUFBLEtBQ0EsRUFBQSxnQkFDQSxFQUFBLEVBQUEsVUFFQSxNQUFBLEVBQUEsS0FDQSxHQUFBLEdBR0EsRUFBQSxLQUVBLEdBQUEsU0FBQSxJQUNBLEVBQUEsRUFBQSxNQUNBLEVBQUEsRUFBQSxVQUdBLEVBQUEsR0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLGVBRUEsSUFBQSxFQUNBLEtBQUEsSUFBQSxRQUNBLGlFQUNBLEVBQUEsRUFFQSxPQUFBLElBQUEsS0FPQSxNQU5BLElBQUEsS0FDQSxLQUNBLEVBQUEsRUFBQSxTQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FHQSxFQUlBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBK0tBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBZUEsT0FaQSxHQUFBLEtBQ0EsRUFBQSxFQUNBLEVBQUEsRUFDQSxFQUFBLEdBR0EsSUFDQSxFQUFBLEdBRUEsSUFDQSxFQUFBLEVBQUEsRUFBQSxTQUFBLEdBRUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBOUxBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUNBLENBZ0RBLElBOUNBLElBQUEsR0FDQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLFlBRUEsRUFBQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLElBQUEsRUFBQSxJQUdBLElBQ0EsRUFBQSxFQUFBLE1BQUEsSUFHQSxFQUFBLEdBQUEsRUFDQSxJQUVBLEtBQ0EsS0FDQSxFQUFBLEVBQUEsU0FBQSxHQUNBLEdBS0EsR0FMQSxHQUNBLE9BQUEsSUFBQSxHQUFBLEVBQUEsZUFBQSxFQUFBLEVBQ0EsU0FBQSxFQUNBLE9BQUEsRUFDQSxZQUFBLEVBR0EsR0FBQSxFQUFBLFdBQ0EsS0FBQSxJQUNBLEVBQUEsRUFBQSxFQUFBLE9BR0EsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsY0FPQSxFQUFBLEVBQUEsTUFBQSxFQUNBLEdBQ0EsRUFBQSxLQUFBLElBQUEsRUFBQSxLQUFBLGFBQUEsRUFBQSxVQUdBLEVBQUEsRUFBQSxNQUFBLEtBSUEsRUFBQSxDQUNBLEVBQUEsZUFBQSxFQUFBLEdBQUEsSUFBQSxJQUFBLElBQUEsR0FDQSxJQUFBLEVBQUEsdUJBQ0EsRUFBQSxnQkFBQSxHQUFBLEVBRUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLE1BQ0EsRUFBQSxDQUNBLElBQUEsRUFBQSxZQUNBLEVBQUEsb0JBQUEsSUFDQSxFQUFBLEVBQUEsVUFHQSxFQUFBLEVBQUEsa0JBQUEsRUFBQSxrQkFBQSxTQUFBLEVBQUEsR0FDQSxHQUdBLEdBQ0EsRUFBQSxFQUFBLEVBSkEsRUFBQSxFQUFBLFNBQ0EsRUFBQSxFQUFBLFNBQ0EsRUFBQSxFQUFBLElBSUEsUUFBQSxHQUVBLElBQUEsSUFDQSxFQUFBLFNBQUEsRUFBQSxTQUFBLEdBQ0EsRUFBQSxHQUFBLElBRUEsRUFBQSxZQUFBLEdBQUEsUUFBQSxFQUNBLEVBQUEsS0FHQSxFQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsR0FFQSxNQUVBLEtBQUEsSUFDQSxHQUFBLElBQUEsRUFBQSxHQUNBLE1BRUEsR0FBQSxFQUFBLEVBQUEsSUFFQSxFQURBLEVBQUEsUUFDQSxFQUVBLFNBQUEsRUFBQSxHQUFBLE1BQUEsS0FBQSxHQUFBLElBQUEsR0FBQSxJQUFBLEdBRUEsRUFBQSxFQUFBLFFBQUEsV0FHQSxLQURBLEdBQUEsRUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLFlBQ0EsZ0VBQ0EsRUFBQSxHQUFBLEVBQUEsT0FFQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQ0EsSUFBQSxHQUFBLFNBQUEsR0FXQSxNQVZBLEdBQUEsRUFBQSxFQUFBLE1BRUEsRUFBQSxFQUFBLEdBS0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUhBLEVBQUEsR0FBQSxHQU1BLEVBQUEsRUFFQSxHQUFBLFdBQUEsQ0FDQSxJQUFBLEVBRUEsR0FEQSxFQUFBLFdBQ0EsRUFBQSxpQkFBQSxFQUFBLEdBQUEsR0FFQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsU0FFQSxFQUFBLElBQUEsV0FBQSxFQUNBLE1BRUEsS0FBQSxJQUNBLEVBQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxHQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsRUFBQSxPQWNBLElBUkEsSUFDQSxFQUFBLEVBQUEsU0FBQSxHQUNBLE1BRUEsRUFBQSxNQUlBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBQ0EsRUFBQSxhQUFBLEVBQUEsRUFDQSxFQUNBLEVBQ0EsRUFBQSxTQUFBLEVBQUEsRUFBQSxjQUFBLEVBQUEsUUFBQSxFQUFBLEdBQ0EsRUFPQSxJQUFBLEdBQUEsQ0FPQSxLQU5BLElBQUEsRUFBQSxVQUFBLE9BQUEsRUFBQSxlQUNBLEVBQUEsR0FFQSxHQUFBLEVBQUEsRUFBQSxFQUFBLFdBQUEsRUFBQSxHQUdBLEVBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLEdBQ0EsR0FBQSxFQUNBLEVBQUEsYUFBQSxFQUFBLEVBQ0EsRUFDQSxFQUNBLEVBQUEsU0FBQSxFQUFBLEVBQUEsY0FBQSxFQUFBLFFBQUEsRUFBQSxHQUNBLEdBOWJBLEVBQUEsS0FzQkEsS0FBQSxHQW5CQSxHQUVBLEVBUUEsRUFDQSxFQUNBLEVBR0EsRUFDQSxFQWpCQSxHQUFBLE9BQUEsVUFFQSxFQUFBLEVBQUEscUJBRUEsRUFBQSxFQUFBLHlCQUNBLEVBQUEsRUFBQSxrQkFDQSxFQUFBLEVBQUEsMEJBQ0EsR0FBQSxFQUNBLEdBQUEsRUFDQSxFQUFBLEVBQUEsOEJBQ0EsRUFBQSxFQUFBLFVBQUEsR0FBQSxHQUlBLEVBQUEsRUFDQSxFQUFBLEVBS0EsR0FBQSxFQUFBLEdBQUEsRUFBQSxPQUFBLEdBQUEsR0FBQSxLQUFBLENBQ0EsRUFBQSxFQUFBLEdBQ0EsSUFBQSxJQUFBLEVBQUEsUUFDQSxHQUFBLEVBQUEsS0FRQSxJQUxBLEtBQ0EsRUFBQSxFQUFBLEVBQUEsR0FBQSxLQUVBLEVBQUEsRUFFQSxFQUFBLEVBQUEsU0FDQSxLQTBFQSxLQXZFQSxFQUFBLEVBQUEsU0FJQSxFQUFBLGNBQ0EsRUFBQSxJQUdBLEVBQUEscUJBQUEsR0FBQSxFQUNBLEVBQUEsR0FDQSxFQUFBLEdBSUEsRUFBQSxxQkFBQSxFQUFBLEVBQ0EsSUFJQSxFQUFBLEdBQUEsR0FHQSxFQUFBLEVBQUEsTUFFQSxFQUFBLGFBQUEsRUFBQSxhQUNBLEVBQUEsRUFBQSxXQUNBLEVBQUEsTUFDQSxFQUFBLElBQUEsRUFBQSxlQUNBLEVBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLElBR0EsRUFBQSxFQUFBLGNBQ0EsR0FBQSxFQUtBLEVBQUEsUUFDQSxFQUFBLGVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxHQUdBLFdBQUEsR0FDQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLFNBQ0EsRUFBQSxFQUNBLEVBQUEsRUFBQSxVQUNBLEdBQUEsRUFBQSxjQUFBLElBQUEsRUFBQSxLQUNBLEVBQUEsR0FBQSxNQUNBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxFQUFBLEdBQUEsR0FFQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsR0FBQSxFQUFBLE1BUUEsMEJBQUEsTUFHQSxFQUFBLEdBQUEsR0FBQSxJQUFBLFdBQ0EsRUFBQSxRQUNBLEVBQUEsRUFBQSxFQUFBLEtBSUEsRUFBQSxTQVdBLEdBVkEsR0FBQSxFQUNBLEVBQUEsV0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBRUEsRUFBQSxFQUFBLEVBQUEsVUFDQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsU0FFQSxFQUFBLEdBQUEsR0FFQSxFQUFBLFFBQUEsQ0FTQSxHQVJBLEVBQUEsRUFFQSxFQURBLEdBQUEsTUFHQSxHQUFBLEVBQUEsRUFBQSxrQkFBQSxHQUFBLEtBRUEsRUFBQSxFQUFBLEdBRUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxXQUFBLEdBQ0EsS0FBQSxJQUFBLFFBQ0EsdUVBQ0EsRUFBQSxHQUdBLElBQUEsRUFBQSxFQUFBLEVBRUEsSUFBQSxLQUFBLFVBT0EsR0FBQSxFQUFBLEtBQUEsSUFDQSxHQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLEdBQUEsR0FFQSxJQUNBLEVBQUEsSUFFQSxFQUFBLEVBQUEsT0FBQSxJQUFBLE9BQUEsSUFDQSxFQUFBLEVBQUEsSUFFQSxHQUFBLEVBQUEsV0FFQSxHQUFBLEtBQUEsRUFJQSxJQUFBLEVBQUEsWUFDQSxHQUFBLEVBQ0EsRUFBQSxXQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFFQSxFQUFBLFVBQ0EsRUFBQSxHQUdBLEVBQUEsRUFBQSxFQUFBLE9BQUEsR0FBQSxFQUFBLE9BQUEsSUFBQSxFQUNBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLHFCQUFBLEVBQ0EseUJBQUEsRUFDQSxrQkFBQSxFQUNBLDBCQUFBLElBRUEsR0FBQSxFQUFBLFdBQ0EsSUFBQSxFQUFBLFFBQ0EsSUFDQSxFQUFBLEVBQUEsUUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsR0FBQSxJQUNBLEdBQ0EsRUFBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEdBQUEsSUFFQSxNQUFBLElBQ0EsRUFBQSxHQUFBLEVBQUEsSUFJQSxFQUFBLFdBQ0EsRUFBQSxVQUFBLEVBQ0EsRUFBQSxLQUFBLElBQUEsRUFBQSxFQUFBLFdBY0EsTUFUQSxHQUFBLE1BQUEsR0FBQSxFQUFBLFNBQUEsRUFDQSxFQUFBLHdCQUFBLEVBQ0EsRUFBQSwrQkFBQSxFQUNBLEVBQUEsc0JBQUEsRUFDQSxFQUFBLFdBQUEsRUFFQSxFQUFBLDhCQUFBLEVBR0EsRUE2UUEsUUFBQSxHQUFBLEdBRUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsZ0JBQUEsSUFrQkEsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUNBLEdBQ0EsR0FBQSxJQUFBLEVBQUEsTUFBQSxLQUNBLElBQUEsR0FBQSxJQUNBLElBQUEsRUFBQSxlQUFBLEdBQ0EsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxJQUNBLEVBQUEsRUFBQSxJQUNBLElBQUEsR0FBQSxFQUFBLEVBQUEsV0FDQSxJQUFBLEVBQUEsU0FBQSxRQUFBLEtBQ0EsSUFDQSxFQUFBLEVBQUEsR0FBQSxRQUFBLEVBQUEsTUFBQSxLQUVBLEVBQUEsS0FBQSxHQUNBLEVBQUEsR0FFQSxNQUFBLEdBQUEsRUFBQSxHQUdBLE1BQUEsR0FZQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEVBQUEsZUFBQSxHQUNBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBRUEsR0FEQSxFQUFBLEVBQUEsR0FDQSxFQUFBLGFBQ0EsT0FBQSxDQUlBLFFBQUEsRUFXQSxRQUFBLEdBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLFNBR0EsR0FBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEtBQUEsRUFBQSxPQUFBLEtBQ0EsRUFBQSxJQUFBLEVBQUEsS0FBQSxJQUNBLElBQUEsVUFBQSxFQUFBLElBQUEsS0FBQSxFQUFBLElBRUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsT0FLQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsU0FBQSxHQUNBLEVBQUEsRUFBQSxHQUNBLEVBQUEsVUFBQSxFQUFBLFNBQUEsRUFBQSxTQUFBLElBQUEsSUFBQSxHQUNBLFNBQUEsR0FDQSxFQUFBLEtBQUEsUUFBQSxFQUFBLEtBQUEsU0FBQSxJQUFBLEdBQ0EsRUFBQSxPQUFBLEVBQUEsTUFBQSxFQUFBLE1BQUEsSUFBQSxJQUFBLEdBSUEsS0FBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLGVBQUEsS0FDQSxFQUFBLEdBQUEsRUFDQSxFQUFBLEdBQUEsRUFBQSxNQU1BLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FDQSxHQUNBLEVBRkEsS0FHQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsUUFFQSxFQUFBLEtBQUEsR0FDQSxZQUFBLEtBQUEsV0FBQSxLQUFBLFFBQUEsS0FBQSxvQkFBQSxJQUVBLEVBQUEsRUFBQSxFQUFBLGFBQ0EsRUFBQSxZQUFBLEVBQUEsR0FDQSxFQUFBLFlBQ0EsRUFBQSxFQUFBLGlCQW1GQSxPQWpGQSxHQUFBLFFBRUEsRUFBQSxFQUFBLHNCQUFBLElBQ0EsS0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxDQUlBLElBRkEsRUFBQSxHQUFBLEdBRUEsRUFBQSxRQUFBLENBUUEsR0FOQSxFQURBLEdBQUEsTUFHQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEtBRUEsRUFBQSxFQUFBLEdBRUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxXQUFBLEdBQ0EsS0FBQSxJQUFBLFFBQ0EsdUVBQ0EsRUFBQSxLQUFBLEVBR0E7R0FBQSxVQUNBLEdBQUEsRUFBQSxFQUFBLEVBQ0EsSUFBQSxHQUFBLEVBQUEsS0FBQSxFQUVBLEdBQUEsRUFBQSxRQUNBLEVBQUEsR0FFQSxFQUFBLEVBQUEsT0FBQSxHQUNBLEVBQUEsRUFBQSxPQUVBLEdBQUEsRUFDQSxFQUFBLEtBQUEsRUFlQSxLQVpBLEVBQUEsUUFBQSxHQUVBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsR0FDQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxJQUNBLEVBQUEsR0FBQSxFQUFBLE1BR0EsRUFBQSxFQUFBLEVBQUEsR0FBQSxXQUFBLEdBRUEsRUFBQSxRQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsUUFDQSxFQUFBLEVBQUEsUUFDQSxFQUFBLEVBQUEsUUFDQSxFQUFBLEVBQUEsUUFDQSxFQUFBLEVBQUEsRUFFQSxLQUFBLEVBQUEsWUFBQSxDQUVBLEdBQUEsSUFBQSxFQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsU0FFQSxHQUFBLCtCQUNBLEVBQUEsVUFFQSxFQUFBLEdBQUEsSUFFQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEdBR0EsRUFBQSxHQUFBLEdBQUEsR0FHQSxFQURBLEVBQUEsd0JBQ0EsRUFBQSxFQUFBLEVBQUEsV0FBQSxHQUVBLEVBRUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUNBLElBRUEsRUFBQSxPQUdBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxDQUNBLEdBQUEsY0FDQSxHQUNBLEVBQUEsS0FBQSxHQUNBLEVBQUEsS0FBQSxHQUNBLEVBQUEsS0FBQSxHQUNBLEVBQUEsS0FBQSxLQUVBLEVBQUEsMEJBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxXQUFBLElBRUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE1BU0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxTQUFBLEVBQUEsUUFDQSxPQUFBLEtBQUEsRUFBQSxFQUNBLEVBQUEsT0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxHQUFBLEVBQ0EsRUFBQSxNQUFBLEVBQUEsTUFJQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBQ0EsS0FBQSxJQUFBLFdBQUEsd0RBQ0EsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsSUFLQSxRQUFBLEdBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFDQSxJQUNBLEVBQUEsTUFDQSxTQUFBLEVBQ0EsUUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsU0FDQSxJQUFBLEVBQUEsTUFNQSxPQUZBLElBQUEsRUFBQSxrQkFBQSxHQUVBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFFBQ0EsSUFBQSxFQUFBLGtCQUFBLEdBQ0EsRUFBQSxpQkFBQSxFQUFBLEVBQUEsYUFDQSxFQUFBLE9BQUEsRUFBQSxTQUFBLEdBQ0EsRUFBQSxHQUFBLFVBQUEsUUFTQSxRQUFBLEdBQUEsRUFBQSxHQUVBLE9BREEsRUFBQSxHQUFBLEdBQUEsU0FFQSxJQUFBLE1BQ0EsSUFBQSxPQUNBLEdBQUEsR0FBQSxFQUFBLGNBQUEsTUFFQSxPQURBLEdBQUEsVUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxJQUNBLEVBQUEsV0FBQSxHQUFBLFVBQ0EsU0FDQSxNQUFBLElBS0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLFVBQUEsRUFDQSxNQUFBLEdBQUEsSUFFQSxJQUFBLEdBQUEsRUFBQSxFQUVBLE9BQUEsYUFBQSxHQUNBLFFBQUEsR0FBQSxVQUFBLEdBQ0EsT0FBQSxJQUFBLE9BQUEsR0FDQSxTQUFBLEdBQ0EsRUFBQSxhQUpBLE9BU0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBR0EsSUFBQSxFQUFBLENBR0EsR0FBQSxhQUFBLEdBQUEsV0FBQSxFQUFBLEdBQ0EsS0FBQSxJQUFBLFdBQ0EscUVBQ0EsRUFBQSxHQUdBLEdBQUEsTUFDQSxTQUFBLElBQ0EsUUFBQSxXQUNBLE9BQ0EsSUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLGNBQUEsRUFBQSxlQUVBLElBQUEsRUFBQSxLQUFBLEdBQ0EsS0FBQSxJQUFBLGNBQ0EsMklBS0EsR0FBQSxLQU1BLEVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLElBQUEsR0FJQSxJQUtBLEVBQUEsR0FBQSxFQUFBLElBRUEsRUFBQSxLQUFBLEVBQUEsUUFBQSxTQUFBLEdBQ0EsRUFBQSxhQUFBLEVBQUEsWUFBQSxHQUFBLFNBQUEsR0FDQSxPQUFBLEVBQUEsU0FBQSxFQUFBLEdBT0EsVUFBQSxHQUFBLEdBQUEsRUFDQSxFQUFBLGFBQUEsRUFBQSxHQUVBLEVBQUEsS0FBQSxFQUFBLGFBb0JBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUdBLEdBQUEsRUFIQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsT0FDQSxFQUFBLEVBQUEsVUFHQSxJQUFBLEVBQ0EsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQ0EsR0FBQSxFQUFBLElBQUEsRUFBQSxDQUNBLEVBQUEsS0FBQSxDQUNBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFDQSxFQUFBLEVBQUEsT0FDQSxFQUFBLEVBQUEsSUFBQSxJQUNBLEVBQUEsRUFDQSxFQUFBLEdBQUEsRUFBQSxTQUVBLEdBQUEsRUFHQSxHQUFBLFFBQUEsRUFBQSxFQUtBLEVBQUEsVUFBQSxJQUNBLEVBQUEsUUFBQSxFQUVBLE9BS0EsR0FDQSxFQUFBLGFBQUEsRUFBQSxFQUlBLElBQUEsR0FBQSxFQUFBLHdCQUNBLEdBQUEsWUFBQSxHQUtBLEdBQUEsR0FBQSxLQUFBLEdBQUEsR0FBQSxRQUtBLElBVUEsSUFBQSxFQUNBLEdBQUEsV0FBQSxXQVZBLElBQUEsTUFBQSxFQUFBLEdBQUEsU0FhQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxJQUFBLEdBQUEsU0FDQSxFQUFBLFlBQUEsU0FDQSxHQUFBLEdBR0EsRUFBQSxHQUFBLEVBQ0EsRUFBQSxPQUFBLEVBSUEsUUFBQSxJQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsV0FBQSxNQUFBLEdBQUEsTUFBQSxLQUFBLFlBQUEsRUFBQSxHQUlBLFFBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxJQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxLQTFoREEsR0FBQSxJQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxDQUNBLEdBQ0EsR0FBQSxFQUFBLEVBREEsRUFBQSxPQUFBLEtBQUEsRUFHQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsR0FDQSxLQUFBLEdBQUEsRUFBQSxPQUdBLE1BQUEsUUFHQSxNQUFBLFVBQUEsRUFHQSxJQUFBLFdBQ0EsV0FBQSxHQWNBLFVBQUEsU0FBQSxHQUNBLEdBQUEsRUFBQSxPQUFBLEdBQ0EsRUFBQSxTQUFBLEtBQUEsVUFBQSxJQWVBLGFBQUEsU0FBQSxHQUNBLEdBQUEsRUFBQSxPQUFBLEdBQ0EsRUFBQSxZQUFBLEtBQUEsVUFBQSxJQWdCQSxhQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFDQSxJQUFBLEVBQUEsUUFDQSxFQUFBLFNBQUEsS0FBQSxVQUFBLEVBR0EsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUNBLElBQUEsRUFBQSxRQUNBLEVBQUEsWUFBQSxLQUFBLFVBQUEsSUFhQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FLQSxHQUlBLEdBSkEsRUFBQSxLQUFBLFVBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxDQXlCQSxJQXRCQSxHQUNBLEtBQUEsVUFBQSxLQUFBLEVBQUEsR0FDQSxFQUFBLEdBQ0EsSUFDQSxLQUFBLEdBQUEsRUFDQSxFQUFBLEdBR0EsS0FBQSxHQUFBLEVBR0EsRUFDQSxLQUFBLE1BQUEsR0FBQSxHQUVBLEVBQUEsS0FBQSxNQUFBLEdBQ0EsSUFDQSxLQUFBLE1BQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxPQUlBLEVBQUEsRUFBQSxLQUFBLFdBRUEsTUFBQSxHQUFBLFNBQUEsR0FDQSxRQUFBLEdBQUEsUUFBQSxFQUVBLEtBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxRQUFBLE9BQ0EsSUFBQSxRQUFBLEdBQUEsV0FBQSxFQUFBLENBZUEsSUFBQSxHQWJBLEdBQUEsR0FHQSxFQUFBLEdBQUEsR0FFQSxFQUFBLHNDQUNBLEVBQUEsS0FBQSxLQUFBLEdBQUEsRUFBQSxNQUdBLEVBQUEsRUFBQSxNQUFBLEdBR0EsRUFBQSxLQUFBLE1BQUEsRUFBQSxPQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsQ0FFQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsR0FFQSxHQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsSUFJQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxNQUFBLEtBR0EsSUFBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEdBR0EsSUFBQSxFQUFBLFNBQ0EsR0FBQSxJQUFBLEdBQUEsRUFBQSxLQUVBLEtBQUEsR0FBQSxFQUFBLEVBR0EsS0FBQSxJQUNBLE9BQUEsR0FBQSxJQUFBLEVBQ0EsS0FBQSxVQUFBLFdBQUEsR0FFQSxLQUFBLFVBQUEsS0FBQSxFQUFBLEdBS0EsSUFBQSxHQUFBLEtBQUEsV0FDQSxJQUFBLEVBQUEsRUFBQSxHQUFBLFNBQUEsR0FDQSxJQUNBLEVBQUEsR0FDQSxNQUFBLEdBQ0EsRUFBQSxPQXdCQSxTQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxLQUNBLEVBQUEsRUFBQSxjQUFBLEVBQUEsWUFBQSxNQUNBLEVBQUEsRUFBQSxLQUFBLEVBQUEsTUFVQSxPQVJBLEdBQUEsS0FBQSxHQUNBLEVBQUEsV0FBQSxZQUNBLEVBQUEsU0FBQSxFQUFBLGVBQUEsSUFFQSxFQUFBLEVBQUEsTUFJQSxXQUNBLEVBQUEsRUFBQSxLQWdCQSxJQUFBLElBQUEsRUFBQSxjQUNBLEdBQUEsRUFBQSxZQUNBLEdBQUEsTUFBQSxJQUFBLE1BQUEsR0FDQSxFQUNBLFNBQUEsR0FDQSxNQUFBLEdBQUEsUUFBQSxRQUFBLElBQUEsUUFBQSxNQUFBLEtBRUEsR0FBQSxjQTJCQSxPQXpCQSxHQUFBLGlCQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxlQUVBLElBQUEsR0FDQSxFQUFBLEVBQUEsT0FBQSxHQUVBLEVBQUEsS0FBQSxHQUdBLEVBQUEsS0FBQSxXQUFBLElBQ0EsRUFFQSxFQUFBLGtCQUFBLEVBQUEsU0FBQSxHQUNBLEVBQUEsRUFBQSxlQUNBLEVBRUEsRUFBQSxlQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsMEJBQUEsZ0JBQUEsUUFDQSxHQUFBLEtBQUEsRUFBQSxJQUNBLEVBRUEsRUFBQSxnQkFBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLG1CQUFBLGFBQ0EsRUFFQSxJQXN5Q0EsUUFBQSxJQUFBLEdBQ0EsTUFBQSxJQUFBLEVBQUEsUUFBQSxHQUFBLEtBK0RBLFFBQUEsSUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLE1BQUEsT0FDQSxFQUFBLEVBQUEsTUFBQSxNQUVBLEdBQ0EsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLENBRUEsSUFBQSxHQURBLEdBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUNBLEdBQUEsR0FBQSxFQUFBLEdBQUEsUUFBQSxFQUVBLEtBQUEsRUFBQSxPQUFBLEVBQUEsSUFBQSxJQUFBLEVBRUEsTUFBQSxHQUdBLFFBQUEsSUFBQSxHQUNBLEVBQUEsR0FBQSxFQUNBLElBQUEsR0FBQSxFQUFBLE1BRUEsSUFBQSxHQUFBLEVBQ0EsTUFBQSxFQUdBLE1BQUEsS0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsR0FBQSxXQUFBLElBQ0EsR0FBQSxLQUFBLEVBQUEsRUFBQSxHQUdBLE1BQUEsR0FhQSxRQUFBLE1BQ0EsR0FBQSxNQUNBLEdBQUEsRUFDQSxFQUFBLHlCQVdBLE1BQUEsU0FBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsY0FDQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEdBRUEsRUFBQSxHQUFBLEdBU0EsS0FBQSxhQUFBLFdBQ0EsR0FBQSxHQUlBLEtBQUEsTUFBQSxZQUFBLFVBQUEsU0FBQSxFQUFBLEdBd0ZBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLElBQUEsSUFBQSxFQUFBLEVBQUEsUUFDQSxLQUFBLEdBQUEsZUFBQSxRQUNBLG1GQUNBLEVBQUEsRUFHQSxHQUFBLE9BQUEsR0FBQSxFQXRFQSxNQUFBLFVBQUEsRUFBQSxFQUFBLEVBQUEsR0FRQSxHQUFBLEdBQUEsRUFBQSxFQUFBLENBa0JBLElBakJBLEVBQUEsS0FBQSxFQUNBLEdBQUEsRUFBQSxLQUNBLEVBQUEsR0FHQSxFQUFBLEtBQ0EsRUFBQSxFQUFBLE1BQUEsR0FDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxlQUFBLEdBQ0EsRUFBQSxHQUNBLEdBQUEsRUFBQSxPQUFBLEdBQUEsS0FDQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsR0FFQSxHQUFBLEVBQUEsR0FBQSxJQUdBLEVBQUEsQ0FVQSxHQUFBLEdBQUEsWUFTQSxPQVJBLEdBQUEsV0FBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLE9BQUEsR0FBQSxHQUFBLFVBQ0EsRUFBQSxHQUFBLEdBRUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxNQUdBLEVBQUEsV0FFQSxNQURBLEdBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLElBRUEsU0FBQSxFQUNBLFdBQUEsSUFVQSxNQU5BLEdBQUEsRUFBQSxZQUFBLEVBQUEsRUFBQSxHQUVBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsTUFHQSxLQXdDQSxRQUFBLE1BQ0EsS0FBQSxNQUFBLFVBQUEsU0FBQSxHQUNBLE1BQUEsSUFBQSxFQUFBLFlBNENBLFFBQUEsTUFDQSxLQUFBLE1BQUEsT0FBQSxTQUFBLEdBQ0EsTUFBQSxZQUNBLEVBQUEsTUFBQSxNQUFBLEVBQUEsY0FXQSxRQUFBLElBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxHQUFBLENBRUEsRUFBQSxFQUFBLFFBQUEsR0FBQSxHQUNBLElBQUEsR0FBQSxFQUFBLGlCQUNBLEdBQUEsSUFBQSxFQUFBLFFBQUEsS0FDQSxHQUFBLEtBQUEsSUFBQSxHQUFBLEtBQUEsTUFDQSxFQUFBLEVBQUEsSUFHQSxNQUFBLEdBU0EsUUFBQSxJQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxJQUVBLE9BQUEsSUFFQSxFQUFBLEVBQUEsTUFBQSxNQUFBLFNBQUEsR0FDQSxFQUFBLEVBQUEsUUFBQSxLQUNBLEVBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLEtBQ0EsRUFBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLElBRUEsSUFDQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsS0FJQSxHQVpBLEVBNEJBLFFBQUEsSUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxDQUVBLE9BQUEsVUFBQSxHQUdBLE1BRkEsS0FBQSxFQUFBLEdBQUEsSUFFQSxFQUNBLEVBQUEsR0FBQSxLQUFBLEtBR0EsR0FlQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLElBRUEsRUFBQSxFQUFBLFNBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxLQUdBLEdBSUEsUUFBQSxJQUFBLEdBQ0EsTUFBQSxJQUFBLEtBQUEsSUFBQSxFQVVBLFFBQUEsTUFzQkEsR0FBQSxHQUFBLEtBQUEsVUFFQSxtQkFBQSxJQUdBLGtCQUFBLFNBQUEsR0FDQSxPQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxLQUlBLFNBQ0EsUUFDQSxPQUFBLHFDQUVBLEtBQUEsRUFBQSxJQUNBLElBQUEsRUFBQSxJQUNBLE1BQUEsRUFBQSxLQUdBLGVBQUEsYUFDQSxlQUFBLGdCQUdBLEdBQUEsQ0FvQkEsTUFBQSxjQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsSUFDQSxJQUFBLEVBQ0EsTUFFQSxFQWdCQSxJQUFBLEdBQUEsS0FBQSxlQUVBLE1BQUEsTUFBQSxlQUFBLFdBQUEsZ0JBQUEsYUFBQSxLQUFBLFlBQ0EsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FxZ0JBLFFBQUEsR0FBQSxHQXFFQSxRQUFBLEdBQUEsR0FFQSxHQUFBLEdBQUEsS0FBQSxFQU1BLE9BRkEsR0FBQSxLQUhBLEVBQUEsS0FHQSxHQUFBLEVBQUEsS0FBQSxFQUFBLFFBQUEsRUFBQSxtQkFGQSxFQUFBLEtBSUEsR0FBQSxFQUFBLFFBQ0EsRUFDQSxFQUFBLE9BQUEsR0FHQSxRQUFBLEdBQUEsR0F5QkEsUUFBQSxHQUFBLEdBQ0EsR0FBQSxFQUVBLEdBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLEtBQ0EsRUFBQSxJQUNBLE1BQUEsRUFDQSxFQUFBLEdBQUEsUUFFQSxHQUFBLE1BakNBLEdBRUEsR0FBQSxFQUFBLEVBRkEsRUFBQSxFQUFBLFFBQ0EsRUFBQSxLQUFBLEVBQUEsUUFHQSxHQUFBLEtBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLFNBR0EsR0FDQSxJQUFBLElBQUEsR0FBQSxDQUNBLEVBQUEsR0FBQSxFQUVBLEtBQUEsSUFBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLEVBQ0EsUUFBQSxFQUlBLEdBQUEsR0FBQSxFQUFBLEdBS0EsTUFEQSxHQUFBLEdBQ0EsRUF4R0EsR0FBQSxJQUNBLE9BQUEsTUFDQSxpQkFBQSxFQUFBLGlCQUNBLGtCQUFBLEVBQUEsbUJBRUEsRUFBQSxFQUFBLEVBRUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxRQUFBLEVBQ0EsRUFBQSxPQUFBLEdBQUEsRUFBQSxPQUVBLElBQUEsR0FBQSxTQUFBLEdBQ0EsRUFBQSxFQUFBLE9BQ0EsSUFBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLGlCQWdCQSxPQWJBLEdBQUEsSUFDQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsaUJBQUEsR0FBQSxVQUNBLEdBQUEsS0FLQSxFQUFBLEVBQUEsbUJBQUEsRUFBQSxFQUFBLG1CQUNBLEVBQUEsZ0JBQUEsRUFBQSxpQkFJQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUdBLEdBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxLQUFBLEVBWUEsS0FUQSxFQUFBLEVBQUEsU0FBQSxJQUNBLEVBQUEsU0FBQSxFQUFBLGVBQ0EsRUFBQSxRQUFBLEVBQUEsUUFBQSxFQUFBLGVBRUEsRUFBQSxVQUFBLEVBQUEsZ0JBQ0EsRUFBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLGlCQUlBLEVBQUEsUUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLFFBQ0EsRUFBQSxFQUFBLE9BRUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxHQWlCQSxNQWRBLEdBQUEsUUFBQSxTQUFBLEdBSUEsTUFIQSxHQUFBLEtBQUEsU0FBQSxHQUNBLEVBQUEsRUFBQSxLQUFBLEVBQUEsT0FBQSxFQUFBLFFBQUEsS0FFQSxHQUdBLEVBQUEsTUFBQSxTQUFBLEdBSUEsTUFIQSxHQUFBLEtBQUEsS0FBQSxTQUFBLEdBQ0EsRUFBQSxFQUFBLEtBQUEsRUFBQSxPQUFBLEVBQUEsUUFBQSxLQUVBLEdBR0EsRUFxS0EsUUFBQSxLQUNBLEVBQUEsVUFBQSxTQUFBLEdBQ0EsRUFBQSxHQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxFQUFBLE9BQ0EsT0FBQSxFQUNBLElBQUEsUUFPQSxRQUFBLEtBQ0EsRUFBQSxVQUFBLFNBQUEsR0FDQSxFQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsRUFBQSxPQUNBLE9BQUEsRUFDQSxJQUFBLEVBQ0EsS0FBQSxRQWFBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0ErREEsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBVUEsUUFBQSxLQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FWQSxJQUNBLEdBQUEsR0FDQSxFQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLElBR0EsRUFBQSxPQUFBLElBUUEsRUFDQSxFQUFBLFlBQUEsSUFFQSxJQUNBLEVBQUEsU0FBQSxFQUFBLFVBUUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxLQUFBLElBQUEsRUFBQSxJQUVBLEdBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxTQUNBLEtBQUEsRUFDQSxPQUFBLEVBQ0EsUUFBQSxHQUFBLEdBQ0EsT0FBQSxFQUNBLFdBQUEsSUFLQSxRQUFBLEtBQ0EsR0FBQSxHQUFBLEVBQUEsZ0JBQUEsUUFBQSxFQUNBLE1BQUEsR0FBQSxFQUFBLGdCQUFBLE9BQUEsRUFBQSxHQXhHQSxHQUVBLEdBQ0EsRUFIQSxFQUFBLEVBQUEsUUFDQSxFQUFBLEVBQUEsUUFHQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsT0FhQSxJQVhBLEVBQUEsZ0JBQUEsS0FBQSxHQUNBLEVBQUEsS0FBQSxFQUFBLElBR0EsRUFBQSxRQUFBLEVBQUEsT0FBQSxFQUFBLFNBQUEsR0FDQSxRQUFBLEVBQUEsUUFBQSxVQUFBLEVBQUEsU0FDQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsTUFDQSxFQUFBLEVBQUEsT0FBQSxFQUFBLE1BQ0EsR0FHQSxFQUVBLEdBREEsRUFBQSxFQUFBLElBQUEsR0FDQSxFQUFBLEdBQUEsQ0FDQSxHQUFBLEVBQUEsR0FHQSxNQURBLEdBQUEsS0FBQSxFQUFBLEdBQ0EsQ0FHQSxJQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsSUFFQSxFQUFBLEVBQUEsT0FBQSxVQUtBLEdBQUEsSUFBQSxFQUFBLEVBT0EsSUFBQSxFQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEtBQ0EsRUFBQSxVQUFBLEVBQUEsZ0JBQUEsRUFBQSxnQkFDQSxDQUNBLEtBQ0EsRUFBQSxFQUFBLGdCQUFBLEVBQUEsZ0JBQUEsR0FHQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsUUFDQSxFQUFBLGdCQUFBLEVBQUEsY0FHQSxNQUFBLEdBd0RBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsSUFBQSxFQUFBLE1BQUEsRUFDQSxJQUFBLEtBb0JBLE9BbkJBLEdBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxPQUFBLEdBQUEsRUFBQSxLQUNBLEdBQUEsS0FBQSxHQUFBLElBRUEsRUFBQSxFQUFBLFNBQUEsR0FDQSxFQUFBLEtBRUEsRUFEQSxFQUFBLEdBQ0EsRUFBQSxjQUVBLEVBQUEsSUFHQSxFQUFBLEtBQUEsRUFBQSxHQUFBLElBQ0EsRUFBQSxTQUdBLEVBQUEsT0FBQSxJQUNBLElBQUEsSUFBQSxFQUFBLFFBQUEsS0FBQSxJQUFBLEtBQUEsRUFBQSxLQUFBLE1BRUEsRUE5NEJBLEdBQUEsR0FBQSxFQUFBLFNBT0EsSUFpdUJBLE9BL3RCQSxHQUFBLEVBQUEsU0FBQSxHQUNBLEVBQUEsUUFBQSxFQUFBLEdBQ0EsRUFBQSxJQUFBLEdBQUEsRUFBQSxPQUFBLE1Bb25CQSxFQUFBLG1CQWtEQSxFQUFBLE1BQUEsU0FBQSxPQUFBLFNBd0NBLEVBQUEsT0FBQSxNQUFBLFNBWUEsRUFBQSxTQUFBLEVBR0EsSUEyS0EsUUFBQSxNQUNBLE1BQUEsSUFBQSxHQUFBLGVBbUJBLFFBQUEsTUFDQSxLQUFBLE1BQUEsV0FBQSxVQUFBLFlBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLFFBQUEsVUFBQSxFQUFBLE1BSUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0E0R0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUlBLEdBQUEsR0FBQSxFQUFBLGNBQUEsVUFBQSxFQUFBLElBNkJBLE9BNUJBLEdBQUEsS0FBQSxrQkFDQSxFQUFBLElBQUEsRUFDQSxFQUFBLE9BQUEsRUFFQSxFQUFBLFNBQUEsR0FDQSxHQUFBLEVBQUEsT0FBQSxHQUNBLEdBQUEsRUFBQSxRQUFBLEdBQ0EsRUFBQSxLQUFBLFlBQUEsR0FDQSxFQUFBLElBQ0EsSUFBQSxHQUFBLEdBQ0EsRUFBQSxTQUVBLEtBQ0EsU0FBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLFNBQ0EsR0FBQSxLQUFBLFVBRUEsRUFBQSxFQUFBLEtBQ0EsRUFBQSxVQUFBLEVBQUEsS0FBQSxJQUFBLEtBR0EsR0FDQSxFQUFBLEVBQUEsSUFJQSxHQUFBLEVBQUEsT0FBQSxHQUNBLEdBQUEsRUFBQSxRQUFBLEdBQ0EsRUFBQSxLQUFBLFlBQUEsR0FDQSxFQTNJQSxNQUFBLFVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQTJGQSxRQUFBLEtBQ0EsR0FBQSxJQUNBLEdBQUEsRUFBQSxRQUdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBRUEsR0FBQSxFQUFBLE9BQUEsR0FDQSxFQUFBLEVBQUEsS0FFQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSw2QkFBQSxHQWxHQSxHQUhBLEVBQUEsK0JBQ0EsRUFBQSxHQUFBLEVBQUEsTUFFQSxTQUFBLEdBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxLQUFBLEVBQUEsV0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLFNBQUEsR0FDQSxFQUFBLEdBQUEsS0FBQSxFQUNBLEVBQUEsR0FBQSxRQUFBLEVBR0EsSUFBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLGdCQUFBLHFCQUFBLEdBQ0EsRUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLFFBRUEsQ0FFQSxHQUFBLEdBQUEsR0FFQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsSUFDQSxFQUFBLGlCQUFBLEVBQUEsS0FJQSxFQUFBLE9BQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxZQUFBLEdBSUEsRUFBQSxZQUFBLEdBQUEsRUFBQSxTQUFBLEVBQUEsYUFHQSxFQUFBLE9BQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxNQUtBLEtBQUEsSUFDQSxFQUFBLEVBQUEsSUFBQSxRQUFBLEdBQUEsR0FBQSxTQUFBLElBQUEsR0FHQSxFQUFBLEVBQ0EsRUFDQSxFQUNBLEVBQUEsd0JBQ0EsR0FHQSxJQUFBLEdBQUEsV0FHQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEtBQUEsSUFVQSxJQVBBLEVBQUEsUUFBQSxFQUNBLEVBQUEsUUFBQSxFQUVBLElBQ0EsRUFBQSxpQkFBQSxHQUdBLEVBQ0EsSUFDQSxFQUFBLGFBQUEsRUFDQSxNQUFBLEdBUUEsR0FBQSxTQUFBLEVBQ0EsS0FBQSxHQUtBLEVBQUEsS0FBQSxHQUFBLE1BR0EsR0FBQSxFQUFBLEVBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxPQUNBLEdBQUEsSUFDQSxFQUFBLEtBQUEsSUE2RkEsUUFBQSxNQUNBLEdBQUEsR0FBQSxLQUNBLEVBQUEsSUFXQSxNQUFBLFlBQUEsU0FBQSxHQUNBLE1BQUEsSUFDQSxFQUFBLEVBQ0EsTUFFQSxHQWFBLEtBQUEsVUFBQSxTQUFBLEdBQ0EsTUFBQSxJQUNBLEVBQUEsRUFDQSxNQUVBLEdBS0EsS0FBQSxNQUFBLFNBQUEsb0JBQUEsT0FBQSxTQUFBLEVBQUEsRUFBQSxHQU1BLFFBQUEsR0FBQSxHQUNBLE1BQUEsU0FBQSxFQWlHQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FnSEEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxHQUFBLFFBQUEsRUFBQSxHQUNBLFFBQUEsRUFBQSxHQUdBLFFBQUEsR0FBQSxHQUNBLElBQ0EsTUFBQSxHQUFBLEVBQUEsSUFDQSxNQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsU0FBQSw4QkFBQSxFQUNBLEVBQUEsV0FDQSxHQUFBLElBMUhBLElBQUEsQ0FXQSxLQVZBLEdBQUEsR0FDQSxFQUtBLEVBSkEsRUFBQSxFQUNBLEtBQ0EsS0FDQSxFQUFBLEVBQUEsT0FFQSxLQUNBLEtBRUEsRUFBQSxHQUFBLENBQ0EsR0FBQSxLQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsS0FDQSxLQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxJQVVBLENBRUEsSUFBQSxHQUNBLEVBQUEsS0FBQSxFQUFBLEVBQUEsVUFBQSxJQUVBLE9BZEEsSUFBQSxHQUNBLEVBQUEsS0FBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEtBRUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxLQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxFQUNBLEVBQUEsS0FBQSxFQUFBLFFBQ0EsRUFBQSxLQUFBLElBZ0JBLEdBQUEsR0FBQSxFQUFBLE9BQUEsRUFDQSxLQUFBLElBQUEsV0FDQSx5TUFFQSxFQUdBLEtBQUEsR0FBQSxFQUFBLE9BQUEsQ0FDQSxHQUFBLEdBQUEsU0FBQSxHQUNBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsTUFDQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEdBRUEsTUFBQSxHQUFBLEtBQUEsS0FHQSxFQUFBLFNBQUEsR0FDQSxNQUFBLEdBQ0EsRUFBQSxXQUFBLEVBQUEsR0FDQSxFQUFBLFFBQUEsSUFHQSxFQUFBLFNBQUEsR0FDQSxHQUFBLE1BQUEsRUFDQSxNQUFBLEVBRUEsY0FBQSxJQUNBLElBQUEsU0FDQSxLQUNBLEtBQUEsU0FDQSxFQUFBLEdBQUEsQ0FDQSxNQUNBLFNBQ0EsRUFBQSxFQUFBLEdBR0EsTUFBQSxHQUdBLE9BQUEsR0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLE9BQ0EsRUFBQSxHQUFBLE9BQUEsRUFFQSxLQUNBLEtBQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUdBLE9BQUEsR0FBQSxHQUNBLE1BQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxTQUFBLDhCQUFBLEVBQ0EsRUFBQSxXQUNBLEdBQUEsTUFLQSxJQUFBLEVBQ0EsWUFBQSxFQUNBLGdCQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxFQUNBLE9BQUEsR0FBQSxZQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxHQUFBLElBQ0EsRUFBQSxLQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxHQUNBLE9BbE5BLEdBQUEsR0FBQSxFQUFBLE9BQ0EsRUFBQSxFQUFBLE9BQ0EsRUFBQSxHQUFBLFFBQUEsRUFBQSxRQUFBLEtBQUEsR0FBQSxLQUNBLEVBQUEsR0FBQSxRQUFBLEVBQUEsUUFBQSxLQUFBLEdBQUEsSUFvUUEsT0FwQkEsR0FBQSxZQUFBLFdBQ0EsTUFBQSxJQWVBLEVBQUEsVUFBQSxXQUNBLE1BQUEsSUFHQSxJQUlBLFFBQUEsTUFDQSxLQUFBLE1BQUEsYUFBQSxVQUFBLEtBQUEsTUFDQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBZ0lBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFlBQ0EsRUFBQSxFQUFBLGNBQ0EsRUFBQSxFQUNBLEVBQUEsRUFBQSxLQUFBLEVBQ0EsR0FBQSxFQUFBLEVBQUEsR0FBQSxRQUNBLEVBQUEsRUFBQSxPQXFCQSxPQW5CQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBRUEsRUFBQSxLQUFBLEtBQUEsS0FBQSxHQUVBLEVBQUEsYUFBQSxFQUFBLFdBQ0EsRUFBQSxPQUFBLEtBRUEsRUFBQSxHQUFBLEdBQUEsSUFDQSxFQUFBLFFBQUEsR0FDQSxFQUFBLEVBQUEsb0JBQ0EsR0FBQSxFQUFBLGVBR0EsR0FBQSxFQUFBLFVBRUEsR0FFQSxFQUFBLEVBQUEsY0FBQSxFQUVBLEVBMUpBLEdBQUEsS0FrTEEsT0FWQSxHQUFBLE9BQUEsU0FBQSxHQUNBLE1BQUEsSUFBQSxFQUFBLGVBQUEsSUFDQSxFQUFBLEVBQUEsY0FBQSxPQUFBLFlBQ0EsRUFBQSxjQUFBLEVBQUEsb0JBQ0EsR0FBQSxFQUFBLGVBQ0EsSUFFQSxHQUdBLElBY0EsUUFBQSxNQUNBLEtBQUEsS0FBQSxXQUNBLE9BQ0EsR0FBQSxRQUVBLGdCQUNBLFlBQUEsSUFDQSxVQUFBLElBQ0EsV0FFQSxPQUFBLEVBQ0EsUUFBQSxFQUNBLFFBQUEsRUFDQSxPQUFBLEdBQ0EsT0FBQSxHQUNBLE9BQUEsSUFDQSxPQUFBLEdBQ0EsTUFBQSxFQUNBLE9BQUEsSUFFQSxPQUFBLEVBQ0EsUUFBQSxFQUNBLFFBQUEsRUFDQSxPQUFBLElBQ0EsT0FBQSxHQUNBLE9BQUEsS0FDQSxPQUFBLElBQ0EsTUFBQSxFQUNBLE9BQUEsSUFHQSxhQUFBLEtBR0Esa0JBQ0EsTUFDQSx3RkFDQSxNQUFBLEtBQ0EsV0FBQSxrREFBQSxNQUFBLEtBQ0EsSUFBQSwyREFBQSxNQUFBLEtBQ0EsU0FBQSw4QkFBQSxNQUFBLEtBQ0EsT0FBQSxLQUFBLE1BQ0EsT0FBQSxxQkFDQSxRQUFBLGdCQUNBLFNBQUEsa0JBQ0EsU0FBQSxZQUNBLFdBQUEsV0FDQSxVQUFBLFNBQ0EsV0FBQSxZQUNBLFVBQUEsVUFHQSxVQUFBLFNBQUEsR0FDQSxNQUFBLEtBQUEsRUFDQSxNQUVBLFdBaUJBLFFBQUEsSUFBQSxHQUlBLElBSEEsR0FBQSxHQUFBLEVBQUEsTUFBQSxLQUNBLEVBQUEsRUFBQSxPQUVBLEtBQ0EsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUdBLE9BQUEsR0FBQSxLQUFBLEtBR0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFFQSxHQUFBLFdBQUEsRUFBQSxTQUNBLEVBQUEsT0FBQSxFQUFBLFNBQ0EsRUFBQSxPQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxXQUFBLEtBSUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxNQUFBLEVBQUEsT0FBQSxFQUNBLEtBQ0EsRUFBQSxJQUFBLEVBRUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUNBLEdBQUEsT0FBQSxtQkFBQSxHQUFBLE1BQUEsRUFBQSxTQUFBLE9BQUEsR0FDQSxFQUFBLFNBQUEsVUFBQSxHQUFBLEVBQUEsVUFDQSxFQUFBLFNBQUEsRUFBQSxFQUFBLFFBQ0EsRUFBQSxPQUFBLG1CQUFBLEVBQUEsTUFHQSxFQUFBLFFBQUEsS0FBQSxFQUFBLE9BQUEsT0FBQSxLQUNBLEVBQUEsT0FBQSxJQUFBLEVBQUEsUUFZQSxRQUFBLElBQUEsRUFBQSxHQUNBLE1BQUEsS0FBQSxFQUFBLFFBQUEsR0FDQSxFQUFBLE9BQUEsRUFBQSxRQURBLE9BTUEsUUFBQSxJQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsUUFBQSxJQUNBLE9BQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsR0FJQSxRQUFBLElBQUEsR0FDQSxNQUFBLEdBQUEsT0FBQSxFQUFBLEdBQUEsR0FBQSxZQUFBLEtBQUEsR0FJQSxRQUFBLElBQUEsR0FDQSxNQUFBLEdBQUEsVUFBQSxFQUFBLEVBQUEsUUFBQSxJQUFBLEVBQUEsUUFBQSxNQUFBLElBWUEsUUFBQSxJQUFBLEVBQUEsR0FDQSxLQUFBLFNBQUEsRUFDQSxFQUFBLEdBQUEsRUFDQSxJQUFBLEdBQUEsR0FBQSxFQUNBLElBQUEsRUFBQSxLQUFBLEdBUUEsS0FBQSxRQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsS0FBQSxFQUFBLEdBQ0EsS0FBQSxJQUFBLFdBQUEsZ0RBQUEsRUFDQSxFQUdBLElBQUEsRUFBQSxLQUFBLEdBRUEsS0FBQSxTQUNBLEtBQUEsT0FBQSxLQUdBLEtBQUEsYUFPQSxLQUFBLFVBQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxLQUFBLFVBQ0EsRUFBQSxLQUFBLE9BQUEsSUFBQSxFQUFBLEtBQUEsUUFBQSxFQUVBLE1BQUEsTUFBQSxHQUFBLEtBQUEsU0FBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQ0EsS0FBQSxTQUFBLEVBQUEsS0FBQSxNQUFBLE9BQUEsSUFHQSxLQUFBLGVBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLE1BQUEsRUFBQSxHQUlBLE1BREEsTUFBQSxLQUFBLEVBQUEsTUFBQSxLQUNBLENBRUEsSUFBQSxHQUFBLEVBQ0EsQ0FpQkEsUUFmQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEdBQ0EsRUFBQSxFQUVBLEdBREEsRUFBQSxHQUFBLEVBQUEsTUFBQSxFQUNBLEdBQUEsR0FBQSxJQUFBLElBQUEsR0FFQSxFQUFBLElBRUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxFQUNBLEVBQUEsRUFBQSxFQUNBLEdBQUEsRUFBQSxNQUNBLEVBQUEsR0FFQSxHQUNBLEtBQUEsUUFBQSxLQUVBLEdBY0EsUUFBQSxJQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxFQUVBLElBQUEsRUFBQSxLQUFBLEdBUUEsS0FBQSxRQUFBLFNBQUEsR0E2QkEsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUtBLEdBRUEsR0FGQSxFQUFBLGlCQVVBLE9BTEEsS0FBQSxFQUFBLFFBQUEsS0FDQSxFQUFBLEVBQUEsUUFBQSxFQUFBLEtBSUEsRUFBQSxLQUFBLEdBQ0EsR0FHQSxFQUFBLEVBQUEsS0FBQSxHQUNBLEVBQUEsRUFBQSxHQUFBLEdBaERBLEdBQUEsR0FBQSxHQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEtBQUEsRUFBQSxPQUFBLEdBQ0EsR0FBQSxFQUFBLEdBQ0EsS0FBQSxRQUNBLEVBQ0EsRUFFQSxLQUFBLEVBQUEsR0FDQSxLQUFBLElBQUEsV0FBQSxnREFBQSxFQUNBLEVBRUEsSUFBQSxFQUFBLEtBQUEsR0FFQSxLQUFBLE9BQUEsRUFBQSxLQUFBLE9BQUEsRUFBQSxHQUVBLEtBQUEsYUF5Q0EsS0FBQSxVQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxVQUNBLEVBQUEsS0FBQSxPQUFBLElBQUEsRUFBQSxLQUFBLFFBQUEsRUFFQSxNQUFBLE1BQUEsR0FBQSxLQUFBLFNBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUNBLEtBQUEsU0FBQSxHQUFBLEtBQUEsTUFBQSxFQUFBLEtBQUEsTUFBQSxLQUdBLEtBQUEsZUFBQSxTQUFBLEdBQ0EsTUFBQSxJQUFBLElBQUEsR0FBQSxJQUNBLEtBQUEsUUFBQSxJQUNBLElBRUEsR0FjQSxRQUFBLElBQUEsRUFBQSxHQUNBLEtBQUEsU0FBQSxFQUNBLEdBQUEsTUFBQSxLQUFBLFVBRUEsSUFBQSxHQUFBLEdBQUEsRUFFQSxNQUFBLGVBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLE1BQUEsRUFBQSxHQUlBLE1BREEsTUFBQSxLQUFBLEVBQUEsTUFBQSxLQUNBLENBR0EsSUFBQSxHQUNBLENBWUEsT0FWQSxJQUFBLEdBQUEsR0FDQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsRUFBQSxFQUNBLElBQUEsRUFBQSxNQUNBLEVBQUEsR0FFQSxHQUNBLEtBQUEsUUFBQSxLQUVBLEdBR0EsS0FBQSxVQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxVQUNBLEVBQUEsS0FBQSxPQUFBLElBQUEsRUFBQSxLQUFBLFFBQUEsRUFFQSxNQUFBLE1BQUEsR0FBQSxLQUFBLFNBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUVBLEtBQUEsU0FBQSxFQUFBLEVBQUEsS0FBQSxPQWdSQSxRQUFBLElBQUEsR0FDQSxNQUFBLFlBQ0EsTUFBQSxNQUFBLElBS0EsUUFBQSxJQUFBLEVBQUEsR0FDQSxNQUFBLFVBQUEsR0FDQSxNQUFBLEdBQUEsR0FDQSxLQUFBLElBRUEsS0FBQSxHQUFBLEVBQUEsR0FDQSxLQUFBLFlBRUEsT0FxQ0EsUUFBQSxNQUNBLEdBQUEsR0FBQSxHQUNBLEdBQ0EsU0FBQSxFQUNBLGFBQUEsRUFDQSxjQUFBLEVBVUEsTUFBQSxXQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsSUFDQSxFQUFBLEVBQ0EsTUFFQSxHQXVCQSxLQUFBLFVBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxJQUNBLEVBQUEsUUFBQSxFQUNBLE1BQ0EsRUFBQSxJQUVBLEVBQUEsRUFBQSxXQUNBLEVBQUEsUUFBQSxFQUFBLFNBR0EsRUFBQSxFQUFBLGVBQ0EsRUFBQSxZQUFBLEVBQUEsYUFHQSxFQUFBLEVBQUEsZ0JBQ0EsRUFBQSxhQUFBLEVBQUEsY0FHQSxNQUVBLEdBMkNBLEtBQUEsTUFBQSxhQUFBLFdBQUEsV0FBQSxlQUNBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0F5QkEsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLE9BQ0EsS0FDQSxFQUFBLElBQUEsRUFBQSxFQUFBLEdBS0EsRUFBQSxRQUFBLEVBQUEsUUFDQSxNQUFBLEdBS0EsS0FIQSxHQUFBLElBQUEsR0FDQSxFQUFBLFFBQUEsRUFFQSxHQStHQSxRQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsV0FBQSx5QkFBQSxFQUFBLFNBQUEsRUFDQSxFQUFBLFFBQUEsR0F4SkEsR0FBQSxHQUNBLEVBR0EsRUFGQSxFQUFBLEVBQUEsV0FDQSxFQUFBLEVBQUEsS0FHQSxJQUFBLEVBQUEsUUFBQSxDQUNBLElBQUEsR0FBQSxFQUFBLFlBQ0EsS0FBQSxJQUFBLFNBQ0EsK0RBRUEsR0FBQSxHQUFBLElBQUEsR0FBQSxLQUNBLEVBQUEsRUFBQSxRQUFBLEdBQUEsT0FFQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEVBRUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxJQUFBLEdBQ0EsRUFBQSxlQUFBLEVBQUEsR0FFQSxFQUFBLFFBQUEsRUFBQSxPQUVBLElBQUEsR0FBQSwyQkFxQkEsR0FBQSxHQUFBLFFBQUEsU0FBQSxHQUlBLEdBQUEsRUFBQSxlQUFBLEVBQUEsVUFBQSxFQUFBLFNBQUEsR0FBQSxFQUFBLE1BQUEsQ0FLQSxJQUhBLEdBQUEsR0FBQSxHQUFBLEVBQUEsUUFHQSxNQUFBLEVBQUEsRUFBQSxLQUVBLEdBQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsVUFBQSxHQUFBLE1BR0EsSUFBQSxHQUFBLEVBQUEsS0FBQSxRQUdBLEVBQUEsRUFBQSxLQUFBLFNBQUEsRUFBQSxLQUFBLGFBRUEsR0FBQSxJQUFBLCtCQUFBLEVBQUEsYUFHQSxFQUFBLEdBQUEsRUFBQSxTQUFBLE1BSUEsRUFBQSxLQUFBLEtBRUEsR0FBQSxFQUFBLEtBQUEsV0FBQSxFQUFBLHNCQUNBLEVBQUEsZUFBQSxFQUFBLEtBSUEsRUFBQSxpQkFFQSxFQUFBLFVBQUEsRUFBQSxRQUNBLEVBQUEsU0FFQSxFQUFBLFFBQUEsNkJBQUEsT0FRQSxFQUFBLFVBQUEsR0FDQSxFQUFBLElBQUEsRUFBQSxVQUFBLEVBR0EsSUFBQSxJQUFBLENBdURBLE9BcERBLEdBQUEsWUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLFdBQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxTQUNBLEVBQUEsRUFBQSxPQUVBLEdBQUEsUUFBQSxHQUNBLEVBQUEsUUFBQSxFQUNBLEVBQUEsV0FBQSx1QkFBQSxFQUFBLEVBQ0EsRUFBQSxHQUFBLGtCQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsUUFBQSxFQUNBLEVBQUEsR0FBQSxFQUFBLEtBRUEsR0FBQSxFQUNBLEVBQUEsRUFBQSxNQUdBLEVBQUEsU0FBQSxFQUFBLFlBSUEsRUFBQSxPQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsTUFDQSxFQUFBLEVBQUEsUUFDQSxFQUFBLEVBQUEsVUFDQSxFQUFBLElBQUEsRUFBQSxVQUNBLEVBQUEsU0FBQSxFQUFBLFNBQUEsSUFBQSxFQUFBLFNBRUEsR0FBQSxLQUNBLEdBQUEsRUFFQSxFQUFBLFdBQUEsV0FDQSxFQUFBLFdBQUEsdUJBQUEsRUFBQSxTQUFBLEVBQ0EsRUFBQSxRQUFBLEdBQUEsa0JBQ0EsRUFBQSxRQUFBLEdBQ0EsRUFBQSxRQUFBLElBRUEsR0FDQSxFQUFBLEVBQUEsU0FBQSxFQUNBLElBQUEsRUFBQSxRQUFBLEtBQUEsRUFBQSxTQUVBLEVBQUEsRUFBQSxPQUtBLEVBQUEsV0FBQSxJQU1BLElBb0RBLFFBQUEsTUFDQSxHQUFBLElBQUEsRUFDQSxFQUFBLElBU0EsTUFBQSxhQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsSUFDQSxFQUFBLEVBQ0EsTUFFQSxHQUlBLEtBQUEsTUFBQSxVQUFBLFNBQUEsR0F3REEsUUFBQSxHQUFBLEdBVUEsTUFUQSxhQUFBLFNBQ0EsRUFBQSxNQUNBLEVBQUEsRUFBQSxTQUFBLEtBQUEsRUFBQSxNQUFBLFFBQUEsRUFBQSxTQUNBLFVBQUEsRUFBQSxRQUFBLEtBQUEsRUFBQSxNQUNBLEVBQUEsTUFDQSxFQUFBLFlBQ0EsRUFBQSxFQUFBLFFBQUEsS0FBQSxFQUFBLFVBQUEsSUFBQSxFQUFBLE9BR0EsRUFHQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxZQUNBLEVBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUNBLEdBQUEsQ0FJQSxLQUNBLElBQUEsRUFBQSxNQUNBLE1BQUEsSUFFQSxNQUFBLEdBQ0EsV0FDQSxHQUFBLEtBSUEsT0FIQSxHQUFBLFVBQUEsU0FBQSxHQUNBLEVBQUEsS0FBQSxFQUFBLE1BRUEsRUFBQSxNQUFBLEVBQUEsSUFNQSxTQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEdBQUEsSUE1RkEsT0FRQSxJQUFBLEVBQUEsT0FTQSxLQUFBLEVBQUEsUUFTQSxLQUFBLEVBQUEsUUFTQSxNQUFBLEVBQUEsU0FTQSxNQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsUUFFQSxPQUFBLFlBQ0EsR0FDQSxFQUFBLE1BQUEsRUFBQSxrQkF5RUEsUUFBQSxJQUFBLEVBQUEsR0FDQSxHQUFBLHFCQUFBLEdBQUEscUJBQUEsR0FDQSxxQkFBQSxHQUFBLHFCQUFBLEdBQ0EsY0FBQSxFQUNBLEtBQUEsSUFBQSxVQUNBLGtGQUNBLEVBRUEsT0FBQSxHQUdBLFFBQUEsSUFBQSxFQUFBLEdBRUEsR0FBQSxFQUFBLENBQ0EsR0FBQSxFQUFBLGNBQUEsRUFDQSxLQUFBLElBQUEsU0FDQSw2RUFDQSxFQUNBLElBQ0EsRUFBQSxTQUFBLEVBQ0EsS0FBQSxJQUFBLGFBQ0EsK0VBQ0EsRUFDQSxJQUNBLEVBQUEsV0FBQSxFQUFBLFVBQUEsRUFBQSxNQUFBLEVBQUEsTUFBQSxFQUFBLE1BQ0EsS0FBQSxJQUFBLFVBQ0EsOEVBQ0EsRUFDQSxJQUNBLElBQUEsT0FDQSxLQUFBLElBQUEsVUFDQSwyRUFDQSxHQUdBLE1BQUEsR0FPQSxRQUFBLElBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxDQUNBLEdBQUEsRUFBQSxjQUFBLEVBQ0EsS0FBQSxJQUFBLFNBQ0EsNkVBQ0EsRUFDQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxHQUNBLEtBQUEsSUFBQSxTQUNBLHdGQUNBLElBOFNBLFFBQUEsSUFBQSxHQUNBLE1BQUEsR0FBQSxTQXVjQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsRUFHQSxLQUFBLEdBREEsR0FBQSxFQUFBLEVBQUEsTUFBQSxLQUNBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLENBQ0EsRUFBQSxHQUFBLEVBQUEsUUFBQSxFQUNBLElBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUNBLEtBQ0EsS0FDQSxFQUFBLEdBQUEsR0FFQSxFQUFBLEVBS0EsTUFIQSxHQUFBLEdBQUEsRUFBQSxRQUFBLEdBQ0EsR0FBQSxFQUFBLEdBQUEsR0FDQSxFQUFBLEdBQUEsRUFDQSxFQVVBLFFBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FPQSxNQU5BLElBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxHQUVBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEVBQUEsZUFBQSxHQUFBLEVBQUEsQ0FFQSxPQUFBLE9BQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxHQUVBLEVBQ0EsTUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEdBRUEsRUFDQSxNQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FFQSxFQUNBLE1BQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxHQUVBLEVBQ0EsTUFBQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLEdBRkEsR0FKQSxHQUpBLEdBSkEsSUFvQkEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEVBRUEsSUFBQSxFQUFBLE1BQUEsRUFFQSxJQUFBLEdBQUEsRUFBQSxNQUFBLEtBQ0EsRUFBQSxFQUFBLE1BR0EsSUFBQSxFQUFBLElBRUEsRUFEQSxFQUFBLEVBQ0EsR0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEdBRUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsQ0FDQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEtBQ0EsRUFBQSxLQUFBLEdBQUEsRUFBQSxHQUVBLEVBQUEsRUFDQSxFQUFBLFFBQ0EsRUFBQSxFQUNBLE9BQUEsUUFHQSxDQUNBLEdBQUEsR0FBQSxFQUNBLEdBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsR0FDQSxHQUFBLHVDQUNBLEVBRUEsSUFFQSwwQkFBQSxFQUFBLFlBQUEsSUFBQSxFQUFBLFFBRUEsR0FBQSxXQUdBLElBQUEsR0FBQSxHQUFBLFVBQUEsSUFBQSxJQUFBLEVBRUEsR0FBQSxTQUFBLEVBQUEsR0FFQSxFQUFBLEVBUUEsTUFMQSxHQUFBLGNBQUEsRUFDQSxFQUFBLE9BQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLElBRUEsR0FBQSxHQUFBLEVBQ0EsRUFLQSxRQUFBLElBQUEsR0FDQSxNQUFBLEdBQUEsRUFBQSxTQUFBLEVBQUEsVUFBQSxHQUFBLEtBQUEsR0FzREEsUUFBQSxNQUNBLEdBQUEsR0FBQSxLQUVBLEdBQ0EsS0FBQSxFQUlBLE1BQUEsTUFBQSxVQUFBLFdBQUEsU0FBQSxFQUFBLEdBR0EsUUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLENBV0EsT0FUQSxHQUFBLGVBQ0EsRUFBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsRUFBQSxJQUVBLEVBQUEsUUFBQSxFQUFBLFFBQ0EsRUFBQSxTQUFBLEVBQUEsU0FDQSxFQUFBLE9BQUEsRUFBQSxRQUdBLEVBOENBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsR0FBQSxXQUNBLEVBQUEsT0FDQSxFQUFBLEVBQUEsT0FBQSxHQUNBLEtBQUEsRUFBQSxRQUFBLElBQ0EsRUFBQSxLQUFBLElBS0EsTUFBQSxHQUdBLFFBQUEsR0FBQSxFQUFBLEdBRUEsTUFBQSxPQUFBLEdBQUEsTUFBQSxFQUNBLElBQUEsRUFHQSxnQkFBQSxLQUtBLEVBQUEsR0FBQSxHQUVBLGdCQUFBLEtBRUEsRUFPQSxJQUFBLEdBQUEsSUFBQSxHQUFBLElBQUEsRUFHQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUdBLEdBSEEsRUFBQSxFQUFBLFdBQ0EsRUFBQSxTQUFBLEVBQUEsRUFBQSxXQUlBLElBQUEsSUFBQSxFQUFBLE9BQUEsQ0FDQSxHQUFBLEdBQUEsQ0FFQSxPQURBLEdBQUEsRUFBQSxHQUNBLEVBQUEsT0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFLQSxPQUpBLEdBQUEsRUFBQSxLQUNBLEVBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxHQUFBLElBRUEsR0FDQSxFQUFBLEdBSUEsSUFBQSxHQURBLE1BQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsR0FBQSxDQUdBLE9BQUEsR0FBQSxPQUFBLFNBQUEsR0FHQSxJQUFBLEdBRkEsSUFBQSxFQUVBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEdBQUEsSUFDQSxJQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsUUFDQSxFQUFBLEdBQUEsR0FBQSxHQUFBLElBUUEsTUFKQSxLQUNBLEVBQUEsRUFBQSxJQUdBLEdBQ0EsRUFBQSxHQUdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxDQUNBLE9BQUEsR0FBQSxFQUFBLE9BQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxJQUNBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUNBLEVBQUEsSUFDQSxFQUFBLE1BQUEsS0FBQSxXQUVBLEVBQUEsSUFDQSxFQUFBLGFBQUEsV0FDQSxFQUFBLElBQ0EsT0FJQSxHQUdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQWdCQSxRQUFBLEdBQUEsR0FDQSxHQUFBLElBQUEsQ0FJQSxPQUhBLEdBQUEsRUFBQSxTQUFBLEdBQ0EsRUFBQSxLQUFBLEdBQUEsS0FFQSxFQXBCQSxHQUFBLEdBQUEsQ0FDQSxPQUFBLEdBQUEsRUFBQSxPQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsSUFDQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFDQSxFQUFBLElBQ0EsRUFBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxJQUNBLEVBQUEsYUFBQSxXQUNBLEVBQUEsSUFBQSxPQUdBLEdBV0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxFQUNBLE9BQUEsR0FBQSxFQUFBLE9BQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxJQUNBLFdBQ0EsRUFBQSxJQUNBLEVBQUEsTUFBQSxLQUFBLFdBRUEsS0FDQSxHQUdBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsSUFBQSxFQUFBLE1BQUEsRUFFQSxJQUFBLEdBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFHQSxPQUFBLEdBQUEsR0FBQSxFQUFBLEVBY0EsT0FWQSxHQUFBLGlCQUNBLEVBQUEsa0JBQUEsRUFDQSxFQUFBLGdCQUFBLEVBQUEsZ0JBQ0EsRUFBQSxZQUdBLEVBQUEsZ0JBQUEsRUFDQSxFQUFBLFFBQUEsSUFHQSxFQTNNQSxNQWpCQSxHQUFBLElBQUEsRUFBQSxJQWlCQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxDQUVBLGNBQUEsSUFDQSxJQUFBLFNBS0EsR0FKQSxFQUFBLEVBQUEsRUFBQSxPQUVBLEVBQUEsRUFBQSxJQUVBLEVBQUEsQ0FDQSxNQUFBLEVBQUEsT0FBQSxJQUFBLE1BQUEsRUFBQSxPQUFBLEtBQ0EsR0FBQSxFQUNBLEVBQUEsRUFBQSxVQUFBLEdBR0EsSUFBQSxHQUFBLEdBQUEsSUFBQSxHQUNBLEVBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxFQUNBLEdBQUEsRUFBQSxNQUFBLEdBRUEsRUFBQSxTQUNBLEVBQUEsZ0JBQUEsRUFDQSxHQUdBLEVBQUEsRUFBQSxHQUNBLEVBQUEsZ0JBQUEsRUFBQSxRQUNBLEVBQUEsR0FDQSxFQUFBLFNBQ0EsRUFBQSxnQkFBQSxHQUdBLEVBQUEsR0FBQSxFQUVBLE1BQUEsR0FBQSxFQUFBLEVBRUEsS0FBQSxXQUNBLE1BQUEsR0FBQSxFQUFBLEVBRUEsU0FDQSxNQUFBLEdBQUEsRUFBQSxPQTZYQSxRQUFBLE1BRUEsS0FBQSxNQUFBLGFBQUEsb0JBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxJQUFBLFNBQUEsR0FDQSxFQUFBLFdBQUEsSUFDQSxLQUlBLFFBQUEsTUFDQSxLQUFBLE1BQUEsV0FBQSxvQkFBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLElBQUEsU0FBQSxHQUNBLEVBQUEsTUFBQSxJQUNBLEtBWUEsUUFBQSxJQUFBLEVBQUEsR0FFQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBRUEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxVQUFBLEdBQ0EsSUFDQSxHQUFBLEVBQ0EsRUFBQSxLQUFBLEVBQUEsS0FMQSxHQUFBLElBQUEsQ0FTQSxRQUFBLEVBQUEsR0FBQSxFQUFBLElBaUJBLFFBQUEsS0FDQSxLQUFBLFNBQUEsT0FBQSxHQTRCQSxRQUFBLEdBQUEsRUFBQSxHQUNBLE1BQUEsVUFBQSxHQUNBLEVBQUEsS0FBQSxFQUFBLElBSUEsUUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsQ0FFQSxHQUFBLEVBQUEsUUFDQSxFQUFBLGtCQUFBLEVBQ0EsRUFBQSxRQUFBLENBQ0EsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLElBQUEsRUFBQSxDQUNBLEVBQUEsRUFBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQUEsRUFBQSxPQUNBLEtBQ0EsRUFBQSxHQUNBLEVBQUEsUUFBQSxFQUFBLEVBQUEsUUFDQSxJQUFBLEVBQUEsT0FDQSxFQUFBLFFBQUEsRUFBQSxPQUVBLEVBQUEsT0FBQSxFQUFBLE9BRUEsTUFBQSxHQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsS0FLQSxRQUFBLEdBQUEsSUFDQSxFQUFBLGtCQUFBLEVBQUEsVUFDQSxFQUFBLGtCQUFBLEVBQ0EsRUFBQSxXQUFBLEVBQUEsTUFHQSxRQUFBLEtBQ0EsS0FBQSxRQUFBLEdBQUEsR0FFQSxLQUFBLFFBQUEsRUFBQSxLQUFBLEtBQUEsU0FDQSxLQUFBLE9BQUEsRUFBQSxLQUFBLEtBQUEsUUFDQSxLQUFBLE9BQUEsRUFBQSxLQUFBLEtBQUEsUUFnTEEsUUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEVBQ0EsRUFBQSxHQUFBLFFBa0JBLE9BaEJBLEdBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxJQUNBLEVBQUEsR0FBQSxLQUFBLFNBQUEsR0FDQSxFQUFBLGVBQUEsS0FDQSxFQUFBLEdBQUEsSUFDQSxHQUFBLEVBQUEsUUFBQSxLQUNBLFNBQUEsR0FDQSxFQUFBLGVBQUEsSUFDQSxFQUFBLE9BQUEsT0FJQSxJQUFBLEdBQ0EsRUFBQSxRQUFBLEdBR0EsRUFBQSxRQXZTQSxHQUFBLEdBQUEsRUFBQSxLQUFBLFdBd0JBLEVBQUEsV0FDQSxNQUFBLElBQUEsR0FPQSxHQUFBLFdBQ0EsS0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEVBTUEsT0FKQSxNQUFBLFFBQUEsUUFBQSxLQUFBLFFBQUEsWUFDQSxLQUFBLFFBQUEsUUFBQSxNQUFBLEVBQUEsRUFBQSxFQUFBLElBQ0EsS0FBQSxRQUFBLE9BQUEsR0FBQSxFQUFBLEtBQUEsU0FFQSxFQUFBLFNBR0EsUUFBQSxTQUFBLEdBQ0EsTUFBQSxNQUFBLEtBQUEsS0FBQSxJQUdBLFVBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxNQUFBLEtBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxHQUFBLEVBQUEsSUFDQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLEdBQUEsRUFBQSxJQUNBLEtBaURBLEVBQUEsV0FDQSxRQUFBLFNBQUEsR0FDQSxLQUFBLFFBQUEsUUFBQSxTQUNBLElBQUEsS0FBQSxRQUNBLEtBQUEsU0FBQSxFQUNBLFNBQ0EscUVBQ0EsSUFHQSxLQUFBLFVBQUEsS0FLQSxVQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsQ0FFQSxHQUFBLEVBQUEsS0FBQSxLQUFBLFVBQUEsS0FBQSxTQUNBLE1BQ0EsRUFBQSxJQUFBLEVBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxNQUNBLEVBQUEsSUFDQSxLQUFBLFFBQUEsUUFBQSxPQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxLQUFBLFVBRUEsS0FBQSxRQUFBLFFBQUEsTUFBQSxFQUNBLEtBQUEsUUFBQSxRQUFBLE9BQUEsRUFDQSxFQUFBLEtBQUEsUUFBQSxVQUVBLE1BQUEsR0FDQSxFQUFBLEdBQUEsR0FDQSxFQUFBLEtBSUEsT0FBQSxTQUFBLEdBQ0EsS0FBQSxRQUFBLFFBQUEsUUFDQSxLQUFBLFNBQUEsSUFHQSxTQUFBLFNBQUEsR0FDQSxLQUFBLFFBQUEsUUFBQSxNQUFBLEVBQ0EsS0FBQSxRQUFBLFFBQUEsT0FBQSxFQUNBLEVBQUEsS0FBQSxRQUFBLFVBR0EsT0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQUEsUUFBQSxRQUFBLE9BRUEsTUFBQSxRQUFBLFFBQUEsUUFBQSxHQUFBLEdBQUEsRUFBQSxRQUNBLEVBQUEsV0FFQSxJQUFBLEdBREEsR0FBQSxFQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFBQSxDQUNBLEVBQUEsRUFBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQUEsRUFDQSxLQUNBLEVBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEdBQ0EsTUFBQSxHQUNBLEVBQUEsUUE0Q0EsSUFBQSxHQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxFQUVBLE9BREEsR0FBQSxPQUFBLEdBQ0EsRUFBQSxTQUdBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsRUFNQSxPQUxBLEdBQ0EsRUFBQSxRQUFBLEdBRUEsRUFBQSxPQUFBLEdBRUEsRUFBQSxTQUdBLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsSUFDQSxLQUNBLEVBQUEsS0FBQSxFQUFBLEtBQ0EsTUFBQSxHQUNBLE1BQUEsR0FBQSxHQUFBLEdBRUEsTUFBQSxHQUFBLEdBQ0EsRUFBQSxLQUFBLFdBQ0EsTUFBQSxHQUFBLEVBQUEsSUFDQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLEdBQUEsS0FHQSxFQUFBLEVBQUEsSUFtQkEsRUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsRUFFQSxPQURBLEdBQUEsUUFBQSxHQUNBLEVBQUEsUUFBQSxLQUFBLEVBQUEsRUFBQSxJQTJDQSxFQUFBLFFBQUEsR0FBQSxHQVlBLFFBQUEsR0FBQSxHQUNBLEVBQUEsUUFBQSxHQUdBLFFBQUEsR0FBQSxHQUNBLEVBQUEsT0FBQSxHQWhCQSxJQUFBLEVBQUEsR0FDQSxLQUFBLEdBQUEsVUFBQSxpQ0FBQSxFQUdBLE1BQUEsZUFBQSxJQUVBLE1BQUEsSUFBQSxHQUFBLEVBR0EsSUFBQSxHQUFBLEdBQUEsRUFZQSxPQUZBLEdBQUEsRUFBQSxHQUVBLEVBQUEsUUFRQSxPQUxBLEdBQUEsTUFBQSxFQUNBLEVBQUEsT0FBQSxFQUNBLEVBQUEsS0FBQSxFQUNBLEVBQUEsSUFBQSxFQUVBLEVBR0EsUUFBQSxNQUNBLEtBQUEsTUFBQSxVQUFBLFdBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsdUJBQ0EsRUFBQSw2QkFDQSxFQUFBLHlCQUVBLEVBQUEsRUFBQSxzQkFDQSxFQUFBLDRCQUNBLEVBQUEseUJBQ0EsRUFBQSxrQ0FFQSxJQUFBLEVBQ0EsRUFBQSxFQUNBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLE9BQUEsWUFDQSxFQUFBLEtBR0EsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxFQUNBLE9BQUEsWUFDQSxFQUFBLE9BQUEsSUFNQSxPQUZBLEdBQUEsVUFBQSxFQUVBLElBdUVBLFFBQUEsTUFDQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsY0FDQSxFQUFBLEtBQ0EsRUFBQSxJQUVBLE1BQUEsVUFBQSxTQUFBLEdBSUEsTUFIQSxXQUFBLFNBQ0EsRUFBQSxHQUVBLEdBR0EsS0FBQSxNQUFBLFlBQUEsb0JBQUEsU0FBQSxXQUNBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0EwQ0EsUUFBQSxLQUNBLEtBQUEsSUFBQSxJQUNBLEtBQUEsUUFBQSxLQUFBLFFBQUEsS0FBQSxXQUNBLEtBQUEsY0FBQSxLQUFBLGNBQ0EsS0FBQSxZQUFBLEtBQUEsWUFBQSxLQUNBLEtBQUEsTUFBQSxLQUNBLEtBQUEsYUFBQSxFQUNBLEtBQUEsZUFDQSxLQUFBLG1CQUNBLEtBQUEsa0JBQUEsS0FtbkNBLFFBQUEsR0FBQSxHQUNBLEdBQUEsRUFBQSxRQUNBLEtBQUEsR0FBQSxTQUFBLDBCQUFBLEVBQUEsUUFHQSxHQUFBLFFBQUEsRUFHQSxRQUFBLEtBQ0EsRUFBQSxRQUFBLEtBSUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLEVBQ0EsR0FBQSxnQkFBQSxJQUFBLEVBRUEsSUFBQSxFQUFBLGdCQUFBLFVBQ0EsR0FBQSxnQkFBQSxTQUVBLEVBQUEsRUFBQSxTQU9BLFFBQUEsTUFFQSxRQUFBLEtBQ0EsS0FBQSxFQUFBLFFBQ0EsSUFDQSxFQUFBLFVBQ0EsTUFBQSxHQUNBLEVBQUEsR0FHQSxFQUFBLEtBR0EsUUFBQSxLQUNBLE9BQUEsSUFDQSxFQUFBLEVBQUEsTUFBQSxXQUNBLEVBQUEsT0FBQSxNQW5vQ0EsRUFBQSxXQUNBLFlBQUEsRUE4QkEsS0FBQSxTQUFBLEVBQUEsR0EwQ0EsUUFBQSxLQUNBLEVBQUEsYUFBQSxFQTFDQSxHQUFBLEVBdUNBLE9BckNBLEdBQUEsR0FBQSxLQUVBLEdBQ0EsRUFBQSxHQUFBLEdBQ0EsRUFBQSxNQUFBLEtBQUEsUUFJQSxLQUFBLGVBQ0EsS0FBQSxhQUFBLFdBQ0EsS0FBQSxXQUFBLEtBQUEsY0FDQSxLQUFBLFlBQUEsS0FBQSxZQUFBLEtBQ0EsS0FBQSxlQUNBLEtBQUEsbUJBQ0EsS0FBQSxJQUFBLElBQ0EsS0FBQSxhQUFBLE1BRUEsS0FBQSxhQUFBLFVBQUEsTUFFQSxFQUFBLEdBQUEsTUFBQSxjQUVBLEVBQUEsUUFBQSxFQUNBLEVBQUEsY0FBQSxFQUFBLFlBQ0EsRUFBQSxhQUNBLEVBQUEsWUFBQSxjQUFBLEVBQ0EsRUFBQSxZQUFBLEdBRUEsRUFBQSxZQUFBLEVBQUEsWUFBQSxHQVFBLEdBQUEsR0FBQSxPQUFBLEVBQUEsSUFBQSxXQUFBLEdBRUEsR0EySEEsT0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBRUEsSUFBQSxFQUFBLGdCQUNBLE1BQUEsR0FBQSxnQkFBQSxLQUFBLEVBQUEsRUFBQSxFQUVBLElBQUEsR0FBQSxLQUNBLEVBQUEsRUFBQSxXQUNBLEdBQ0EsR0FBQSxFQUNBLEtBQUEsRUFDQSxJQUFBLEVBQ0EsSUFBQSxFQUNBLEtBQUEsRUFnQkEsT0FiQSxHQUFBLEtBRUEsRUFBQSxLQUNBLEVBQUEsR0FBQSxHQUdBLElBQ0EsRUFBQSxFQUFBLGVBSUEsRUFBQSxRQUFBLEdBRUEsV0FDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLE9BNkJBLFlBQUEsU0FBQSxFQUFBLEdBd0NBLFFBQUEsS0FDQSxHQUFBLEVBRUEsR0FDQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsSUFFQSxFQUFBLEVBQUEsRUFBQSxHQTlDQSxHQUFBLEdBQUEsR0FBQSxPQUFBLEVBQUEsUUFDQSxFQUFBLEdBQUEsT0FBQSxFQUFBLFFBQ0EsS0FDQSxFQUFBLEtBQ0EsR0FBQSxFQUNBLEdBQUEsQ0FFQSxLQUFBLEVBQUEsT0FBQSxDQUVBLEdBQUEsSUFBQSxDQUlBLE9BSEEsR0FBQSxXQUFBLFdBQ0EsR0FBQSxFQUFBLEVBQUEsRUFBQSxLQUVBLFdBQ0EsR0FBQSxHQUlBLE1BQUEsS0FBQSxFQUFBLE9BRUEsS0FBQSxPQUFBLEVBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUNBLEVBQUEsR0FBQSxFQUNBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLE1BSUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsRUFDQSxFQUFBLEdBQUEsRUFDQSxJQUNBLEdBQUEsRUFDQSxFQUFBLFdBQUEsS0FHQSxHQUFBLEtBQUEsS0FjQSxXQUNBLEtBQUEsRUFBQSxRQUNBLEVBQUEsYUE2REEsaUJBQUEsU0FBQSxFQUFBLEdBb0JBLFFBQUEsR0FBQSxHQUNBLEVBQUEsQ0FDQSxJQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsQ0FFQSxJQUFBLEVBQUEsR0FLQSxHQUFBLEVBQUEsR0FBQSxDQUNBLElBQUEsSUFFQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLE9BQUEsRUFDQSxLQUdBLEVBQUEsRUFBQSxPQUVBLElBQUEsSUFFQSxJQUNBLEVBQUEsT0FBQSxFQUFBLEVBR0EsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FFQSxFQUFBLElBQUEsR0FBQSxJQUFBLEVBQ0EsR0FBQSxJQUFBLElBQ0EsSUFDQSxFQUFBLEdBQUEsT0FHQSxDQUNBLElBQUEsSUFFQSxFQUFBLEtBQ0EsRUFBQSxFQUNBLEtBR0EsRUFBQSxDQUNBLEtBQUEsSUFBQSxHQUNBLEVBQUEsZUFBQSxLQUNBLElBQ0EsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEdBRUEsSUFBQSxJQUNBLEVBQUEsSUFBQSxHQUFBLElBQUEsRUFDQSxHQUFBLElBQUEsSUFDQSxJQUNBLEVBQUEsR0FBQSxLQUdBLElBQ0EsRUFBQSxHQUFBLEVBQ0EsS0FJQSxJQUFBLEVBQUEsRUFBQSxDQUVBLEdBQ0EsS0FBQSxJQUFBLEdBQ0EsRUFBQSxlQUFBLEtBQ0EsVUFDQSxHQUFBLFNBaEVBLEtBQUEsSUFDQSxFQUFBLEVBQ0EsSUFtRUEsT0FBQSxHQUdBLFFBQUEsS0FTQSxHQVJBLEdBQ0EsR0FBQSxFQUNBLEVBQUEsRUFBQSxFQUFBLElBRUEsRUFBQSxFQUFBLEVBQUEsR0FJQSxFQUNBLEdBQUEsRUFBQSxHQUdBLEdBQUEsRUFBQSxHQUFBLENBQ0EsRUFBQSxHQUFBLE9BQUEsRUFBQSxPQUNBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFDQSxFQUFBLEdBQUEsRUFBQSxPQUVBLENBQ0EsSUFDQSxLQUFBLEdBQUEsS0FBQSxHQUNBLEdBQUEsS0FBQSxFQUFBLEtBQ0EsRUFBQSxHQUFBLEVBQUEsUUFWQSxHQUFBLEVBNUdBLEVBQUEsV0FBQSxDQUVBLElBRUEsR0FHQSxFQUVBLEVBUEEsRUFBQSxLQVNBLEVBQUEsRUFBQSxPQUFBLEVBQ0EsRUFBQSxFQUNBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsS0FDQSxLQUNBLEdBQUEsRUFDQSxFQUFBLENBNEdBLE9BQUEsTUFBQSxPQUFBLEVBQUEsSUFzREEsUUFBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFBQSxFQUVBLEVBQUEsRUFBQSxFQUhBLEVBQUEsRUFDQSxFQUFBLEtBQ0EsSUFHQSxHQUFBLFdBRUEsRUFBQSxtQkFFQSxPQUFBLEdBQUEsT0FBQSxJQUdBLEVBQUEsTUFBQSxPQUFBLEdBQ0EsS0FHQSxFQUFBLElBRUEsR0FBQSxDQUlBLElBSEEsR0FBQSxFQUNBLEVBQUEsRUFFQSxFQUFBLFFBQUEsQ0FDQSxJQUNBLEVBQUEsRUFBQSxRQUNBLEVBQUEsTUFBQSxNQUFBLEVBQUEsWUFDQSxNQUFBLEdBQ0EsRUFBQSxHQUVBLEVBQUEsS0FHQSxFQUNBLEVBQUEsQ0FDQSxHQUFBLEVBQUEsRUFBQSxXQUdBLElBREEsRUFBQSxFQUFBLE9BQ0EsS0FDQSxJQUlBLEdBSEEsRUFBQSxFQUFBLEdBSUEsSUFBQSxFQUFBLEVBQUEsSUFBQSxPQUFBLEVBQUEsRUFBQSxRQUNBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FDQSxnQkFBQSxJQUFBLGdCQUFBLElBQ0EsTUFBQSxJQUFBLE1BQUEsS0FjQSxHQUFBLElBQUEsRUFBQSxDQUdBLEdBQUEsQ0FDQSxNQUFBLFFBakJBLElBQUEsRUFDQSxFQUFBLEVBQ0EsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsTUFBQSxFQUNBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLElBQ0EsRUFBQSxFQUFBLEVBQ0EsRUFBQSxLQUFBLEVBQUEsT0FDQSxFQUFBLEVBQUEsRUFBQSxLQUNBLFFBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxJQUFBLFlBQ0EsRUFBQSxJQUNBLEdBQUEsYUFBQSxFQUFBLEdBQUEsYUFBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEtBQUEsSUFTQSxNQUFBLEdBQ0EsRUFBQSxHQVFBLEtBQUEsRUFBQSxFQUFBLGFBQ0EsSUFBQSxHQUFBLEVBQUEsZUFDQSxLQUFBLElBQUEsS0FBQSxFQUFBLEVBQUEsZ0JBQ0EsRUFBQSxFQUFBLGNBR0EsRUFBQSxFQUlBLEtBQUEsR0FBQSxFQUFBLFVBQUEsSUFFQSxLQURBLEtBQ0EsRUFBQSxTQUNBLDRGQUVBLEVBQUEsRUFBQSxVQUdBLEdBQUEsRUFBQSxPQUlBLEtBRkEsSUFFQSxFQUFBLFFBQ0EsSUFDQSxFQUFBLFVBQ0EsTUFBQSxHQUNBLEVBQUEsS0F3Q0EsU0FBQSxXQUVBLElBQUEsS0FBQSxZQUFBLENBQ0EsR0FBQSxHQUFBLEtBQUEsT0FJQSxJQUZBLEtBQUEsV0FBQSxZQUNBLEtBQUEsYUFBQSxFQUNBLE9BQUEsRUFBQSxDQUVBLElBQUEsR0FBQSxLQUFBLE1BQUEsZ0JBQ0EsRUFBQSxLQUFBLEtBQUEsZ0JBQUEsR0FBQSxFQUtBLEdBQUEsYUFBQSxPQUFBLEVBQUEsWUFBQSxLQUFBLGVBQ0EsRUFBQSxhQUFBLE9BQUEsRUFBQSxZQUFBLEtBQUEsZUFDQSxLQUFBLGdCQUFBLEtBQUEsY0FBQSxjQUFBLEtBQUEsZUFDQSxLQUFBLGdCQUFBLEtBQUEsY0FBQSxjQUFBLEtBQUEsZUFHQSxLQUFBLFNBQUEsS0FBQSxRQUFBLEtBQUEsT0FBQSxLQUFBLFdBQUEsS0FBQSxZQUFBLEVBQ0EsS0FBQSxJQUFBLEtBQUEsT0FBQSxLQUFBLFlBQUEsV0FBQSxNQUFBLElBQ0EsS0FBQSxlQVVBLEtBQUEsUUFBQSxLQUFBLGNBQUEsS0FBQSxjQUFBLEtBQUEsWUFDQSxLQUFBLFlBQUEsS0FBQSxNQUFBLEtBQUEsV0FBQSxRQStCQSxNQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxHQUFBLEtBQUEsSUFnQ0EsV0FBQSxTQUFBLEdBR0EsRUFBQSxTQUFBLEVBQUEsUUFDQSxFQUFBLE1BQUEsV0FDQSxFQUFBLFFBQ0EsRUFBQSxZQUtBLEVBQUEsTUFBQSxNQUFBLEtBQUEsV0FBQSxLQUdBLGFBQUEsU0FBQSxHQUNBLEVBQUEsS0FBQSxJQWdEQSxPQUFBLFNBQUEsR0FDQSxJQUVBLE1BREEsR0FBQSxVQUNBLEtBQUEsTUFBQSxHQUNBLE1BQUEsR0FDQSxFQUFBLEdBQ0EsUUFDQSxHQUNBLEtBQ0EsRUFBQSxVQUNBLE1BQUEsR0FFQSxLQURBLEdBQUEsR0FDQSxLQXNCQSxZQUFBLFNBQUEsR0FLQSxRQUFBLEtBQ0EsRUFBQSxNQUFBLEdBTEEsR0FBQSxHQUFBLElBQ0EsSUFBQSxFQUFBLEtBQUEsR0FDQSxLQWtDQSxJQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLFlBQUEsRUFDQSxLQUNBLEtBQUEsWUFBQSxHQUFBLE1BRUEsRUFBQSxLQUFBLEVBRUEsSUFBQSxHQUFBLElBQ0EsR0FDQSxHQUFBLGdCQUFBLEtBQ0EsRUFBQSxnQkFBQSxHQUFBLEdBRUEsRUFBQSxnQkFBQSxXQUNBLEVBQUEsRUFBQSxRQUVBLElBQUEsR0FBQSxJQUNBLE9BQUEsWUFDQSxHQUFBLEdBQUEsRUFBQSxRQUFBLEVBQ0E7S0FBQSxJQUNBLEVBQUEsR0FBQSxLQUNBLEVBQUEsRUFBQSxFQUFBLE1BNEJBLE1BQUEsU0FBQSxHQUNBLEdBQ0EsR0FhQSxFQUFBLEVBZEEsS0FFQSxFQUFBLEtBQ0EsR0FBQSxFQUNBLEdBQ0EsS0FBQSxFQUNBLFlBQUEsRUFDQSxnQkFBQSxXQUFBLEdBQUEsR0FDQSxlQUFBLFdBQ0EsRUFBQSxrQkFBQSxHQUVBLGtCQUFBLEdBRUEsRUFBQSxHQUFBLEdBQUEsVUFBQSxFQUdBLEdBQUEsQ0FHQSxJQUZBLEVBQUEsRUFBQSxZQUFBLElBQUEsRUFDQSxFQUFBLGFBQUEsRUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBR0EsR0FBQSxFQUFBLEdBTUEsSUFFQSxFQUFBLEdBQUEsTUFBQSxLQUFBLEdBQ0EsTUFBQSxHQUNBLEVBQUEsT0FUQSxHQUFBLE9BQUEsRUFBQSxHQUNBLElBQ0EsR0FXQSxJQUFBLEVBRUEsTUFEQSxHQUFBLGFBQUEsS0FDQSxDQUdBLEdBQUEsRUFBQSxjQUNBLEVBSUEsT0FGQSxHQUFBLGFBQUEsS0FFQSxHQXlCQSxXQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsS0FDQSxFQUFBLEVBQ0EsRUFBQSxFQUNBLEdBQ0EsS0FBQSxFQUNBLFlBQUEsRUFDQSxlQUFBLFdBQ0EsRUFBQSxrQkFBQSxHQUVBLGtCQUFBLEVBR0EsS0FBQSxFQUFBLGdCQUFBLEdBQUEsTUFBQSxFQU1BLEtBSkEsR0FDQSxHQUFBLEVBQUEsRUFEQSxFQUFBLEdBQUEsR0FBQSxVQUFBLEdBSUEsRUFBQSxHQUFBLENBR0EsSUFGQSxFQUFBLGFBQUEsRUFDQSxFQUFBLEVBQUEsWUFBQSxPQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFFQSxHQUFBLEVBQUEsR0FPQSxJQUNBLEVBQUEsR0FBQSxNQUFBLEtBQUEsR0FDQSxNQUFBLEdBQ0EsRUFBQSxPQVRBLEdBQUEsT0FBQSxFQUFBLEdBQ0EsSUFDQSxHQWVBLE1BQUEsRUFBQSxFQUFBLGdCQUFBLElBQUEsRUFBQSxhQUNBLElBQUEsR0FBQSxFQUFBLGVBQ0EsS0FBQSxJQUFBLEtBQUEsRUFBQSxFQUFBLGdCQUNBLEVBQUEsRUFBQSxRQU1BLE1BREEsR0FBQSxhQUFBLEtBQ0EsR0FJQSxJQUFBLEdBQUEsR0FBQSxHQUdBLEVBQUEsRUFBQSxnQkFDQSxFQUFBLEVBQUEscUJBQ0EsRUFBQSxFQUFBLG9CQUVBLE9BQUEsS0F5REEsUUFBQSxNQUNBLEdBQUEsR0FBQSxvQ0FDQSxFQUFBLDRDQWtCQSxNQUFBLDJCQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsSUFDQSxFQUFBLEVBQ0EsTUFFQSxHQW9CQSxLQUFBLDRCQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsSUFDQSxFQUFBLEVBQ0EsTUFFQSxHQUdBLEtBQUEsS0FBQSxXQUNBLE1BQUEsVUFBQSxFQUFBLEdBQ0EsR0FDQSxHQURBLEVBQUEsRUFBQSxFQUFBLENBR0EsT0FEQSxHQUFBLEdBQUEsR0FBQSxLQUNBLEtBQUEsR0FBQSxFQUFBLE1BQUEsR0FHQSxFQUZBLFVBQUEsSUFxQkEsUUFBQSxJQUFBLEdBQ0EsR0FBQSxTQUFBLEVBQ0EsTUFBQSxFQUNBLElBQUEsRUFBQSxHQUFBLENBS0EsR0FBQSxFQUFBLFFBQUEsT0FBQSxHQUNBLEtBQUEsSUFBQSxTQUNBLHVEQUFBLEVBS0EsT0FIQSxHQUFBLEdBQUEsR0FDQSxRQUFBLFNBQUEsTUFDQSxRQUFBLE1BQUEsY0FDQSxHQUFBLFFBQUEsSUFBQSxFQUFBLEtBQ0EsR0FBQSxFQUFBLEdBSUEsTUFBQSxJQUFBLFFBQUEsSUFBQSxFQUFBLE9BQUEsSUFFQSxNQUFBLElBQUEsV0FDQSxrRUFLQSxRQUFBLElBQUEsR0FDQSxHQUFBLEtBTUEsT0FMQSxHQUFBLElBQ0EsRUFBQSxFQUFBLFNBQUEsR0FDQSxFQUFBLEtBQUEsR0FBQSxNQUdBLEVBdUVBLFFBQUEsTUFDQSxLQUFBLGFBQUEsRUFHQSxJQUFBLElBQUEsUUFDQSxJQXdCQSxNQUFBLHFCQUFBLFNBQUEsR0FJQSxNQUhBLFdBQUEsU0FDQSxFQUFBLEdBQUEsSUFFQSxHQThCQSxLQUFBLHFCQUFBLFNBQUEsR0FJQSxNQUhBLFdBQUEsU0FDQSxFQUFBLEdBQUEsSUFFQSxHQUdBLEtBQUEsTUFBQSxZQUFBLFNBQUEsR0FXQSxRQUFBLEdBQUEsRUFBQSxHQUNBLE1BQUEsU0FBQSxFQUNBLEdBQUEsS0FHQSxFQUFBLEtBQUEsRUFBQSxNQUlBLFFBQUEsR0FBQSxHQUNBLEdBQ0EsR0FBQSxFQURBLEVBQUEsR0FBQSxFQUFBLFlBQ0EsR0FBQSxDQUVBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQUNBLEdBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxDQUNBLEdBQUEsQ0FDQSxPQUdBLEdBQUEsRUFFQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsQ0FDQSxHQUFBLENBQ0EsT0FJQSxNQUFBLEdBR0EsUUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLFNBQUEsR0FDQSxLQUFBLHFCQUFBLFdBQ0EsTUFBQSxJQVlBLE9BVEEsS0FDQSxFQUFBLFVBQUEsR0FBQSxJQUVBLEVBQUEsVUFBQSxRQUFBLFdBQ0EsTUFBQSxNQUFBLHdCQUVBLEVBQUEsVUFBQSxTQUFBLFdBQ0EsTUFBQSxNQUFBLHVCQUFBLFlBRUEsRUE2QkEsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxlQUFBLEdBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxFQUNBLEtBQUEsSUFBQSxXQUNBLDBFQUNBLEVBQUEsRUFFQSxJQUFBLE9BQUEsR0FBQSxJQUFBLEdBQUEsS0FBQSxFQUNBLE1BQUEsRUFJQSxJQUFBLGdCQUFBLEdBQ0EsS0FBQSxJQUFBLFFBQ0Esc0ZBQ0EsRUFFQSxPQUFBLElBQUEsR0FBQSxHQXFCQSxRQUFBLEdBQUEsR0FDQSxNQUFBLGFBQUEsR0FDQSxFQUFBLHVCQUVBLEVBbUJBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxPQUFBLEdBQUEsSUFBQSxHQUFBLEtBQUEsRUFDQSxNQUFBLEVBRUEsSUFBQSxHQUFBLEVBQUEsZUFBQSxHQUFBLEVBQUEsR0FBQSxJQUNBLElBQUEsR0FBQSxZQUFBLEdBQ0EsTUFBQSxHQUFBLHNCQUtBLElBQUEsSUFBQSxHQUFBLGFBQUEsQ0FDQSxHQUFBLEVBQUEsR0FDQSxNQUFBLEVBRUEsTUFBQSxJQUFBLFdBQ0Esa0ZBQ0EsRUFBQSxZQUVBLEdBQUEsSUFBQSxHQUFBLEtBQ0EsTUFBQSxHQUFBLEVBRUEsTUFBQSxJQUFBLFNBQUEsd0RBdktBLEdBQUEsR0FBQSxXQUNBLEtBQUEsSUFBQSxTQUFBLHdEQUdBLEdBQUEsSUFBQSxlQUNBLEVBQUEsRUFBQSxJQUFBLGFBcURBLElBQUEsR0FBQSxJQUNBLElBK0dBLE9BN0dBLEdBQUEsR0FBQSxNQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxJQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsY0FBQSxFQUFBLEVBQUEsR0FBQSxPQXlHQSxRQUFBLEVBQ0EsV0FBQSxFQUNBLFFBQUEsS0E4UkEsUUFBQSxNQUNBLEdBQUEsSUFBQSxDQWFBLE1BQUEsUUFBQSxTQUFBLEdBSUEsTUFIQSxXQUFBLFNBQ0EsSUFBQSxHQUVBLEdBa0RBLEtBQUEsTUFBQSxTQUFBLGVBQUEsU0FDQSxFQUFBLEdBR0EsR0FBQSxHQUFBLEVBQUEsR0FDQSxLQUFBLElBQUEsV0FDQSxxUEFLQSxJQUFBLEdBQUEsRUFBQSxHQWFBLEdBQUEsVUFBQSxXQUNBLE1BQUEsSUFFQSxFQUFBLFFBQUEsRUFBQSxRQUNBLEVBQUEsV0FBQSxFQUFBLFdBQ0EsRUFBQSxRQUFBLEVBQUEsUUFFQSxJQUNBLEVBQUEsUUFBQSxFQUFBLFdBQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxJQUNBLEVBQUEsUUFBQSxHQXNCQSxFQUFBLFFBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxPQUFBLEdBQUEsU0FBQSxFQUFBLFNBQ0EsRUFFQSxFQUFBLEVBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxXQUFBLEVBQUEsS0F3UEEsSUFBQSxHQUFBLEVBQUEsUUFDQSxFQUFBLEVBQUEsV0FDQSxFQUFBLEVBQUEsT0FlQSxPQWJBLEdBQUEsR0FBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxFQUNBLEdBQUEsR0FBQSxZQUFBLElBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxFQUFBLElBRUEsRUFBQSxHQUFBLGVBQUEsSUFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsSUFFQSxFQUFBLEdBQUEsWUFBQSxJQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsRUFBQSxNQUlBLElBa0JBLFFBQUEsTUFDQSxLQUFBLE1BQUEsVUFBQSxZQUFBLFNBQUEsRUFBQSxHQUNBLEdBS0EsR0FLQSxFQVZBLEtBQ0EsRUFDQSxHQUFBLGdCQUFBLEtBQUEsSUFBQSxFQUFBLGVBQUEsaUJBQUEsSUFDQSxFQUFBLFNBQUEsTUFBQSxFQUFBLGVBQUEsV0FDQSxFQUFBLEVBQUEsT0FFQSxFQUFBLDRCQUNBLEVBQUEsRUFBQSxNQUFBLEVBQUEsS0FBQSxNQUNBLEdBQUEsRUFDQSxHQUFBLENBR0EsSUFBQSxFQUFBLENBQ0EsSUFBQSxHQUFBLEtBQUEsR0FDQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEdBQUEsQ0FDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsY0FBQSxFQUFBLE9BQUEsRUFDQSxPQUlBLElBQ0EsRUFBQSxpQkFBQSxJQUFBLFVBR0EsS0FBQSxjQUFBLElBQUEsRUFBQSxjQUFBLElBQ0EsS0FBQSxhQUFBLElBQUEsRUFBQSxhQUFBLEtBRUEsR0FBQSxHQUFBLElBQ0EsRUFBQSxFQUFBLEVBQUEsS0FBQSxNQUFBLGtCQUNBLEVBQUEsRUFBQSxFQUFBLEtBQUEsTUFBQSxrQkFLQSxPQVVBLFdBQUEsRUFBQSxVQUFBLEVBQUEsUUFBQSxXQUFBLEVBQUEsR0FBQSxHQUVBLFNBQUEsU0FBQSxHQUlBLEdBQUEsU0FBQSxHQUFBLEdBQUEsR0FBQSxPQUFBLENBRUEsSUFBQSxFQUFBLEVBQUEsSUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLGNBQUEsTUFDQSxHQUFBLEdBQUEsS0FBQSxJQUFBLEdBR0EsTUFBQSxHQUFBLElBRUEsSUFBQSxLQUNBLGFBQUEsRUFDQSxZQUFBLEVBQ0EsV0FBQSxFQUNBLFFBQUEsS0F3QkEsUUFBQSxNQUNBLEtBQUEsTUFBQSxpQkFBQSxRQUFBLEtBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxRQUFBLEdBQUEsRUFBQSxHQWdDQSxRQUFBLEtBRUEsR0FEQSxFQUFBLHdCQUNBLEVBQ0EsS0FBQSxJQUFBLFNBQUEsK0JBQUEsRUFFQSxPQUFBLEdBQUEsU0FwQ0EsR0FBQSxHQUFBLENBQ0EsR0FBQSxzQkFFQSxJQUFBLEdBQUEsRUFBQSxVQUFBLEVBQUEsU0FBQSxpQkFFQSxJQUFBLEdBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxDQUNBLEtBQ0EsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxLQUFBLElBQ0EsRUFBQSxLQUFBLFFBR0EsS0FBQSxLQUNBLEVBQUEsS0FHQSxJQUFBLElBQ0EsTUFBQSxFQUNBLGtCQUFBLEVBR0EsT0FBQSxHQUFBLElBQUEsRUFBQSxHQUNBLEtBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLElBR0EsT0FGQSxHQUFBLHVCQUNBLEVBQUEsSUFBQSxFQUFBLEdBQ0EsR0FDQSxHQWFBLE1BRkEsR0FBQSxxQkFBQSxFQUVBLElBSUEsUUFBQSxNQUNBLEtBQUEsTUFBQSxhQUFBLFdBQUEsWUFDQSxTQUFBLEVBQUEsRUFBQSxHQVNBLEdBQUEsS0FvR0EsT0F0RkEsR0FBQSxhQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsdUJBQUEsY0FDQSxJQWtCQSxPQWpCQSxHQUFBLEVBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLFFBQUEsR0FBQSxLQUFBLFdBQ0EsSUFDQSxFQUFBLEVBQUEsU0FBQSxHQUNBLEdBQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxHQUFBLFFBQUEsVUFBQSxHQUFBLEdBQUEsY0FDQSxHQUFBLEtBQUEsSUFDQSxFQUFBLEtBQUEsT0FHQSxJQUFBLEVBQUEsUUFBQSxJQUNBLEVBQUEsS0FBQSxPQU1BLEdBZUEsRUFBQSxXQUFBLFNBQUEsRUFBQSxFQUFBLEdBRUEsSUFBQSxHQURBLElBQUEsTUFBQSxXQUFBLFNBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxJQUFBLEtBQ0EsRUFBQSxJQUFBLEVBQUEsR0FBQSxRQUFBLEVBQUEsSUFBQSxFQUFBLEtBQ0EsRUFBQSxFQUFBLGlCQUFBLEVBQ0EsSUFBQSxFQUFBLE9BQ0EsTUFBQSxLQVlBLEVBQUEsWUFBQSxXQUNBLE1BQUEsR0FBQSxPQVlBLEVBQUEsWUFBQSxTQUFBLEdBQ0EsSUFBQSxFQUFBLFFBQ0EsRUFBQSxJQUFBLEdBQ0EsRUFBQSxZQVlBLEVBQUEsV0FBQSxTQUFBLEdBQ0EsRUFBQSxnQ0FBQSxJQUdBLElBSUEsUUFBQSxNQUNBLEtBQUEsTUFBQSxhQUFBLFdBQUEsS0FBQSxNQUFBLG9CQUNBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQTZCQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsR0FHQSxHQUhBLEVBQUEsRUFBQSxLQUFBLEVBQ0EsR0FBQSxFQUFBLEVBQUEsR0FBQSxRQUNBLEVBQUEsRUFBQSxPQW9CQSxPQWpCQSxHQUFBLEVBQUEsTUFBQSxXQUNBLElBQ0EsRUFBQSxRQUFBLEtBQ0EsTUFBQSxHQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsR0FFQSxjQUNBLEdBQUEsRUFBQSxhQUdBLEdBQUEsRUFBQSxVQUNBLEdBRUEsRUFBQSxZQUFBLEVBQ0EsRUFBQSxHQUFBLEVBRUEsRUFuREEsR0FBQSxLQTRFQSxPQVRBLEdBQUEsT0FBQSxTQUFBLEdBQ0EsTUFBQSxJQUFBLEVBQUEsY0FBQSxJQUNBLEVBQUEsRUFBQSxhQUFBLE9BQUEsa0JBQ0EsR0FBQSxFQUFBLGFBQ0EsRUFBQSxNQUFBLE9BQUEsRUFBQSxlQUVBLEdBR0EsSUFtRUEsUUFBQSxJQUFBLEdBQ0EsR0FBQSxHQUFBLENBWUEsT0FWQSxNQUdBLEdBQUEsYUFBQSxPQUFBLEdBQ0EsRUFBQSxHQUFBLE1BR0EsR0FBQSxhQUFBLE9BQUEsSUFJQSxLQUFBLEdBQUEsS0FDQSxTQUFBLEdBQUEsU0FBQSxHQUFBLFNBQUEsUUFBQSxLQUFBLElBQUEsR0FDQSxLQUFBLEdBQUEsS0FDQSxPQUFBLEdBQUEsT0FBQSxHQUFBLE9BQUEsUUFBQSxNQUFBLElBQUEsR0FDQSxLQUFBLEdBQUEsS0FBQSxHQUFBLEtBQUEsUUFBQSxLQUFBLElBQUEsR0FDQSxTQUFBLEdBQUEsU0FDQSxLQUFBLEdBQUEsS0FDQSxTQUFBLE1BQUEsR0FBQSxTQUFBLE9BQUEsR0FDQSxHQUFBLFNBQ0EsSUFBQSxHQUFBLFVBV0EsUUFBQSxJQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsQ0FDQSxPQUFBLEdBQUEsV0FBQSxHQUFBLFVBQ0EsRUFBQSxPQUFBLEdBQUEsS0E0Q0EsUUFBQSxNQUNBLEtBQUEsS0FBQSxFQUFBLEdBZ0dBLFFBQUEsSUFBQSxHQVdBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxFQUFBLEdBQUEsQ0FDQSxHQUFBLEtBSUEsT0FIQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsRUFBQSxLQUVBLEVBRUEsTUFBQSxHQUFBLFFBQUEsRUFBQSxFQUFBLEdBbEJBLEdBQUEsR0FBQSxRQXFCQSxNQUFBLFNBQUEsRUFFQSxLQUFBLE1BQUEsWUFBQSxTQUFBLEdBQ0EsTUFBQSxVQUFBLEdBQ0EsTUFBQSxHQUFBLElBQUEsRUFBQSxNQWtCQSxFQUFBLFdBQUEsSUFDQSxFQUFBLE9BQUEsSUFDQSxFQUFBLFNBQUEsSUFDQSxFQUFBLE9BQUEsSUFDQSxFQUFBLFVBQUEsSUFDQSxFQUFBLFlBQUEsSUFDQSxFQUFBLFNBQUEsSUFDQSxFQUFBLFVBQUEsSUFDQSxFQUFBLFlBQUEsSUFzSEEsUUFBQSxNQUNBLE1BQUEsVUFBQSxFQUFBLEVBQUEsR0FDQSxJQUFBLEdBQUEsR0FBQSxNQUFBLEVBRUEsSUFBQSxTQUFBLEdBQ0EsSUFFQSxHQUFBLE1BQUEsU0FBQSxFQUFBLEdBQ0EsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUNBLElBQUEsRUFBQSxHQUFBLEVBQUEsR0FDQSxPQUFBLENBR0EsUUFBQSxHQUdBLGFBQUEsSUFFQSxFQURBLFlBQUEsR0FBQSxFQUNBLFNBQUEsRUFBQSxHQUNBLE1BQUEsSUFBQSxPQUFBLEVBQUEsSUFHQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxnQkFBQSxJQUFBLGdCQUFBLEdBQUEsQ0FDQSxJQUFBLEdBQUEsS0FBQSxHQUNBLEdBQUEsTUFBQSxFQUFBLE9BQUEsSUFBQSxHQUFBLEtBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxHQUFBLEVBQUEsSUFDQSxPQUFBLENBR0EsUUFBQSxFQUdBLE1BREEsSUFBQSxHQUFBLEdBQUEsZUFDQSxHQUFBLEdBQUEsY0FBQSxRQUFBLEdBQUEsSUFLQSxJQUFBLEdBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxnQkFBQSxJQUFBLE1BQUEsRUFBQSxPQUFBLEdBQ0EsT0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEdBRUEsY0FBQSxJQUNBLElBQUEsVUFDQSxJQUFBLFNBQ0EsSUFBQSxTQUNBLE1BQUEsR0FBQSxFQUFBLEVBQ0EsS0FBQSxTQUNBLGFBQUEsSUFDQSxJQUFBLFNBQ0EsTUFBQSxHQUFBLEVBQUEsRUFDQSxTQUNBLElBQUEsR0FBQSxLQUFBLEdBQ0EsR0FBQSxNQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEdBQ0EsT0FBQSxFQUtBLE9BQUEsQ0FDQSxLQUFBLFFBQ0EsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUNBLEdBQUEsRUFBQSxFQUFBLEdBQUEsR0FDQSxPQUFBLENBR0EsUUFBQSxDQUNBLFNBQ0EsT0FBQSxHQUdBLGNBQUEsSUFDQSxJQUFBLFVBQ0EsSUFBQSxTQUNBLElBQUEsU0FFQSxHQUFBLEVBQUEsRUFFQSxLQUFBLFNBRUEsSUFBQSxHQUFBLEtBQUEsSUFDQSxTQUFBLEdBQ0EsbUJBQUEsR0FBQSxJQUNBLEVBQUEsS0FBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsT0FFQSxFQUVBLE1BQ0EsS0FBQSxXQUNBLEVBQUEsS0FBQSxFQUNBLE1BQ0EsU0FDQSxNQUFBLEdBR0EsSUFBQSxHQURBLE1BQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLEdBQUEsTUFBQSxFQUFBLElBQ0EsRUFBQSxLQUFBLEdBR0EsTUFBQSxJQXlEQSxRQUFBLElBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxjQUNBLE9BQUEsVUFBQSxFQUFBLEVBQUEsR0FXQSxNQVZBLEdBQUEsS0FDQSxFQUFBLEVBQUEsY0FHQSxFQUFBLEtBRUEsRUFBQSxHQUlBLE1BQUEsRUFDQSxFQUNBLEdBQUEsRUFBQSxFQUFBLFNBQUEsR0FBQSxFQUFBLFVBQUEsRUFBQSxZQUFBLEdBQ0EsUUFBQSxVQUFBLElBd0RBLFFBQUEsSUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLGNBQ0EsT0FBQSxVQUFBLEVBQUEsR0FHQSxNQUFBLE9BQUEsRUFDQSxFQUNBLEdBQUEsRUFBQSxFQUFBLFNBQUEsR0FBQSxFQUFBLFVBQUEsRUFBQSxZQUNBLElBS0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxJQUFBLFNBQUEsSUFBQSxFQUFBLEdBQUEsTUFBQSxFQUVBLElBQUEsR0FBQSxFQUFBLENBQ0EsR0FBQSxLQUFBLElBQUEsRUFDQSxJQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsR0FDQSxLQUVBLEdBQUEsQ0FDQSxJQUFBLEtBQUEsRUFBQSxRQUFBLEtBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxNQUFBLHNCQUNBLElBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLElBQ0EsRUFBQSxJQUVBLEVBQUEsRUFDQSxHQUFBLEdBSUEsR0FBQSxFQWtEQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsUUFBQSxRQW5EQSxDQUNBLEdBQUEsSUFBQSxFQUFBLE1BQUEsSUFBQSxJQUFBLElBQUEsTUFHQSxHQUFBLEtBQ0EsRUFBQSxLQUFBLElBQUEsS0FBQSxJQUFBLEVBQUEsUUFBQSxHQUFBLEVBQUEsVUFNQSxJQUFBLEtBQUEsUUFBQSxFQUFBLFdBQUEsSUFBQSxJQUFBLFdBQUEsS0FBQSxHQUVBLElBQUEsSUFDQSxHQUFBLEVBR0EsSUFBQSxJQUFBLEdBQUEsR0FBQSxNQUFBLElBQ0EsRUFBQSxFQUFBLEVBQ0EsR0FBQSxFQUFBLElBQUEsRUFFQSxJQUFBLEdBQUEsRUFBQSxFQUNBLEVBQUEsRUFBQSxPQUNBLEVBQUEsRUFBQSxLQUVBLElBQUEsRUFBQSxRQUFBLEVBQUEsRUFFQSxJQURBLEVBQUEsRUFBQSxPQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxLQUNBLEVBQUEsR0FBQSxJQUFBLEdBQUEsSUFBQSxJQUNBLEdBQUEsR0FFQSxHQUFBLEVBQUEsT0FBQSxFQUlBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEtBQ0EsRUFBQSxPQUFBLEdBQUEsSUFBQSxHQUFBLElBQUEsSUFDQSxHQUFBLEdBRUEsR0FBQSxFQUFBLE9BQUEsRUFJQSxNQUFBLEVBQUEsT0FBQSxHQUNBLEdBQUEsR0FHQSxJQUFBLE1BQUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsSUFXQSxNQUhBLEdBQUEsS0FBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLFFBQ0EsRUFBQSxLQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsUUFDQSxFQUFBLEtBQUEsSUFHQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBTUEsS0FMQSxFQUFBLElBQ0EsRUFBQSxJQUNBLEdBQUEsR0FFQSxFQUFBLEdBQUEsRUFDQSxFQUFBLE9BQUEsR0FBQSxFQUFBLElBQUEsQ0FHQSxPQUZBLEtBQ0EsRUFBQSxFQUFBLE9BQUEsRUFBQSxPQUFBLElBQ0EsRUFBQSxFQUlBLFFBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQUVBLE1BREEsR0FBQSxHQUFBLEVBQ0EsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLE1BQUEsSUFJQSxRQUhBLEVBQUEsR0FBQSxHQUFBLEtBQ0EsR0FBQSxHQUNBLElBQUEsR0FBQSxLQUFBLElBQUEsRUFBQSxJQUNBLEdBQUEsRUFBQSxFQUFBLElBSUEsUUFBQSxJQUFBLEVBQUEsR0FDQSxNQUFBLFVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLE1BQUEsS0FDQSxFQUFBLEdBQUEsRUFBQSxRQUFBLEVBQUEsRUFFQSxPQUFBLEdBQUEsR0FBQSxJQUlBLFFBQUEsSUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEVBQUEsb0JBQ0EsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUtBLE9BSEEsSUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLFFBQUEsUUFBQSxFQUFBLElBQUEsR0FDQSxHQUFBLEtBQUEsSUFBQSxFQUFBLElBQUEsR0FLQSxRQUFBLElBQUEsR0FFQSxHQUFBLEdBQUEsR0FBQSxNQUFBLEVBQUEsRUFBQSxHQUFBLFFBR0EsT0FBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsR0FHQSxRQUFBLElBQUEsR0FDQSxNQUFBLElBQUEsTUFBQSxFQUFBLGNBQUEsRUFBQSxXQUVBLEVBQUEsV0FBQSxFQUFBLEVBQUEsV0FHQSxRQUFBLElBQUEsR0FDQSxNQUFBLFVBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxFQUFBLGVBQ0EsRUFBQSxHQUFBLEdBRUEsR0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLEtBQUEsTUFBQSxFQUFBLE9BRUEsT0FBQSxJQUFBLEVBQUEsSUFJQSxRQUFBLElBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxXQUFBLEdBQUEsRUFBQSxNQUFBLEdBQUEsRUFBQSxNQUFBLEdBNkhBLFFBQUEsSUFBQSxHQUtBLFFBQUEsR0FBQSxHQUNBLEdBQUEsRUFDQSxJQUFBLEVBQUEsRUFBQSxNQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsR0FBQSxNQUFBLEdBQ0EsRUFBQSxFQUNBLEVBQUEsRUFDQSxFQUFBLEVBQUEsR0FBQSxFQUFBLGVBQUEsRUFBQSxZQUNBLEVBQUEsRUFBQSxHQUFBLEVBQUEsWUFBQSxFQUFBLFFBRUEsR0FBQSxLQUNBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxLQUNBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxNQUVBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLElBQ0EsSUFBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsRUFDQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsRUFDQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEdBQ0EsRUFBQSxLQUFBLE1BQUEsSUFBQSxXQUFBLE1BQUEsRUFBQSxJQUFBLElBRUEsT0FEQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBRUEsTUFBQSxHQXZCQSxHQUFBLEdBQUEsc0dBMkJBLE9BQUEsVUFBQSxFQUFBLEVBQUEsR0FDQSxHQUVBLEdBQUEsRUFGQSxFQUFBLEdBQ0EsSUFhQSxJQVZBLEVBQUEsR0FBQSxhQUNBLEVBQUEsRUFBQSxpQkFBQSxJQUFBLEVBQ0EsRUFBQSxLQUNBLEVBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsSUFHQSxFQUFBLEtBQ0EsRUFBQSxHQUFBLE1BQUEsS0FHQSxFQUFBLEdBQ0EsTUFBQSxFQUdBLE1BQUEsR0FDQSxFQUFBLEdBQUEsS0FBQSxHQUNBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxRQUVBLEVBQUEsS0FBQSxHQUNBLEVBQUEsS0FjQSxPQVZBLElBQUEsUUFBQSxJQUNBLEVBQUEsR0FBQSxNQUFBLEVBQUEsV0FDQSxFQUFBLFdBQUEsRUFBQSxhQUFBLEVBQUEsc0JBRUEsRUFBQSxFQUFBLFNBQUEsR0FDQSxFQUFBLEdBQUEsR0FDQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsa0JBQ0EsRUFBQSxRQUFBLFdBQUEsSUFBQSxRQUFBLE1BQUEsT0FHQSxHQWlDQSxRQUFBLE1BQ0EsTUFBQSxVQUFBLEdBQ0EsTUFBQSxHQUFBLEdBQUEsSUFnSEEsUUFBQSxNQUNBLE1BQUEsVUFBQSxFQUFBLEdBRUEsR0FEQSxFQUFBLEtBQUEsRUFBQSxFQUFBLGFBQ0EsR0FBQSxLQUFBLEVBQUEsR0FBQSxNQUFBLEVBUUEsSUFMQSxFQURBLE1BQUEsS0FBQSxJQUFBLE9BQUEsSUFDQSxPQUFBLEdBRUEsRUFBQSxHQUdBLEVBQUEsR0FFQSxNQUFBLEdBQ0EsR0FBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxRQUVBLEVBSUEsSUFDQSxHQUFBLEVBREEsSUFpQkEsS0FiQSxFQUFBLEVBQUEsT0FDQSxFQUFBLEVBQUEsT0FDQSxHQUFBLEVBQUEsU0FDQSxHQUFBLEVBQUEsUUFFQSxFQUFBLEdBQ0EsRUFBQSxFQUNBLEVBQUEsSUFFQSxFQUFBLEVBQUEsT0FBQSxFQUNBLEVBQUEsRUFBQSxRQUdBLEVBQUEsRUFBQSxJQUNBLEVBQUEsS0FBQSxFQUFBLEdBR0EsT0FBQSxJQXdIQSxRQUFBLElBQUEsR0FDQSxNQUFBLFVBQUEsRUFBQSxFQUFBLEdBaUNBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQ0EsSUFBQSxJQUFBLEVBQUEsTUFBQSxHQUVBLE1BQUEsR0FFQSxRQUFBLEdBQUEsRUFBQSxHQUNBLE1BQUEsR0FDQSxTQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxJQUNBLEVBRUEsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLFNBQUEsR0FDQSxRQUFBLEVBQ0EsT0FBQSxJQUFBLEdBQ0EsRUFBQSxJQUFBLEVBQUEsS0FDQSxFQUFBLEVBQUEsVUFDQSxFQUFBLEVBQUEsV0FFQSxVQUFBLElBQ0EsRUFBQSxFQUFBLGNBQ0EsRUFBQSxFQUFBLGVBRUEsSUFBQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLEdBQUEsR0FFQSxFQUFBLEVBQUEsR0FBQSxFQTNEQSxJQUFBLEVBQUEsR0FBQSxNQUFBLEVBQ0EsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUNBLElBQUEsRUFBQSxTQUFBLEdBQUEsTUFDQSxFQUFBLEVBQUEsSUFBQSxTQUFBLEdBQ0EsR0FBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLENBQ0EsSUFBQSxFQUFBLEdBQUEsQ0FLQSxJQUpBLEtBQUEsRUFBQSxPQUFBLElBQUEsS0FBQSxFQUFBLE9BQUEsTUFDQSxFQUFBLEtBQUEsRUFBQSxPQUFBLEdBQ0EsRUFBQSxFQUFBLFVBQUEsSUFFQSxLQUFBLEVBRUEsTUFBQSxHQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxFQUFBLElBQ0EsRUFHQSxJQURBLEVBQUEsRUFBQSxHQUNBLEVBQUEsU0FBQSxDQUNBLEdBQUEsR0FBQSxHQUNBLE9BQUEsR0FBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsS0FDQSxJQUdBLE1BQUEsR0FBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsS0FDQSxJQUdBLEtBQUEsR0FEQSxNQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLEdBQ0EsT0FBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEtBbUNBLFFBQUEsSUFBQSxHQU9BLE1BTkEsR0FBQSxLQUNBLEdBQ0EsS0FBQSxJQUdBLEVBQUEsU0FBQSxFQUFBLFVBQUEsS0FDQSxFQUFBLEdBd2RBLFFBQUEsSUFBQSxFQUFBLEdBQ0EsRUFBQSxNQUFBLEVBOENBLFFBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQ0EsS0FFQSxFQUFBLEVBQUEsYUFBQSxFQUFBLFNBQUEsV0FBQSxTQUFBLEVBR0EsR0FBQSxVQUNBLEVBQUEsYUFDQSxFQUFBLFNBQUEsRUFDQSxFQUFBLE1BQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxRQUFBLElBQUEsR0FDQSxFQUFBLFFBQUEsRUFDQSxFQUFBLFdBQUEsRUFDQSxFQUFBLFFBQUEsRUFDQSxFQUFBLFVBQUEsRUFDQSxFQUFBLFlBQUEsRUFFQSxFQUFBLFlBQUEsR0FhQSxFQUFBLG1CQUFBLFdBQ0EsRUFBQSxFQUFBLFNBQUEsR0FDQSxFQUFBLHdCQWVBLEVBQUEsaUJBQUEsV0FDQSxFQUFBLEVBQUEsU0FBQSxHQUNBLEVBQUEsc0JBYUEsRUFBQSxZQUFBLFNBQUEsR0FHQSxHQUFBLEVBQUEsTUFBQSxTQUNBLEVBQUEsS0FBQSxHQUVBLEVBQUEsUUFDQSxFQUFBLEVBQUEsT0FBQSxJQUtBLEVBQUEsZ0JBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsS0FFQSxHQUFBLEtBQUEsU0FDQSxHQUFBLEdBRUEsRUFBQSxHQUFBLEVBQ0EsRUFBQSxNQUFBLEdBWUEsRUFBQSxlQUFBLFNBQUEsR0FDQSxFQUFBLE9BQUEsRUFBQSxFQUFBLFNBQUEsU0FDQSxHQUFBLEVBQUEsT0FFQSxFQUFBLEVBQUEsU0FBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLGFBQUEsRUFBQSxLQUFBLEtBRUEsRUFBQSxFQUFBLE9BQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxhQUFBLEVBQUEsS0FBQSxLQUdBLEVBQUEsRUFBQSxJQWFBLElBQ0EsS0FBQSxLQUNBLFNBQUEsRUFDQSxJQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxJQUFBLEVBRUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxRQUFBLEVBQ0EsTUFBQSxHQUNBLEVBQUEsS0FBQSxPQUpBLEdBQUEsSUFBQSxJQVFBLE1BQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLEtBR0EsRUFBQSxFQUFBLEdBQ0EsSUFBQSxFQUFBLGNBQ0EsR0FBQSxLQUdBLFdBQUEsRUFDQSxTQUFBLElBYUEsRUFBQSxVQUFBLFdBQ0EsRUFBQSxZQUFBLEVBQUEsSUFDQSxFQUFBLFNBQUEsRUFBQSxJQUNBLEVBQUEsUUFBQSxFQUNBLEVBQUEsV0FBQSxFQUNBLEVBQUEsYUFpQkEsRUFBQSxhQUFBLFdBQ0EsRUFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLElBQUEsSUFDQSxFQUFBLFFBQUEsRUFDQSxFQUFBLFdBQUEsRUFDQSxFQUFBLFlBQUEsRUFDQSxFQUFBLEVBQUEsU0FBQSxHQUNBLEVBQUEsa0JBaUJBLEVBQUEsY0FBQSxXQUNBLEVBQUEsRUFBQSxTQUFBLEdBQ0EsRUFBQSxtQkFXQSxFQUFBLGNBQUEsV0FDQSxFQUFBLFNBQUEsRUFBQSxJQUNBLEVBQUEsWUFBQSxFQUNBLEVBQUEsaUJBeW9DQSxRQUFBLElBQUEsR0FDQSxFQUFBLFlBQUEsS0FBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLFNBQUEsR0FBQSxFQUFBLEVBQUEsYUFJQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBR0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEdBQUEsWUFBQSxLQUNBLEVBQUEsR0FBQSxFQUFBLEdBQUEsS0FLQSxLQUFBLEVBQUEsUUFBQSxDQUNBLEdBQUEsSUFBQSxDQUVBLEdBQUEsR0FBQSxtQkFBQSxXQUNBLEdBQUEsSUFHQSxFQUFBLEdBQUEsaUJBQUEsV0FDQSxHQUFBLEVBQ0EsTUFJQSxHQUFBLEdBQUEsU0FBQSxHQUNBLElBQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLE1BQ0EsRUFBQSxHQUFBLEVBQUEsSUFNQSxJQUFBLElBQUEsV0FBQSxHQUFBLEdBQUEsTUFBQSxFQUFBLEdBQUEsY0FBQSxFQUVBLFlBREEsRUFBQSxFQUFBLEdBQUEsWUFPQSxjQUFBLEdBQUEsRUFBQSxRQUFBLFVBQUEsRUFBQSxTQUNBLEVBQUEsR0FBQSxLQU1BLEVBQUEsYUFBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLHdCQUNBLEVBQUEsY0FBQSxFQUFBLElBTUEsSUFBQSxFQUFBLFNBQUEsU0FDQSxFQUFBLEdBQUEsUUFBQSxPQUNBLENBQ0EsR0FBQSxHQUVBLEVBQUEsU0FBQSxHQUNBLElBQ0EsRUFBQSxFQUFBLE1BQUEsV0FDQSxFQUFBLEdBQ0EsRUFBQSxRQUtBLEdBQUEsR0FBQSxVQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxPQUlBLE1BQUEsR0FBQSxFQUFBLElBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxJQUFBLEdBRUEsRUFBQSxLQUlBLEVBQUEsU0FBQSxVQUNBLEVBQUEsR0FBQSxZQUFBLEdBTUEsRUFBQSxHQUFBLFNBQUEsR0FFQSxFQUFBLFFBQUEsV0FDQSxFQUFBLElBQUEsRUFBQSxTQUFBLEVBQUEsYUFBQSxHQUFBLEVBQUEsYUFJQSxRQUFBLElBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxHQUNBLE1BQUEsRUFHQSxJQUFBLEVBQUEsR0FBQSxDQUNBLEdBQUEsVUFBQSxDQUNBLElBQUEsR0FBQSxHQUFBLEtBQUEsRUFDQSxJQUFBLEVBQUEsQ0FDQSxHQUFBLElBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxHQUNBLEVBQUEsRUFDQSxFQUFBLEVBQ0EsRUFBQSxFQUNBLEVBQUEsRUFDQSxFQUFBLEdBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxFQVNBLE9BUEEsS0FDQSxFQUFBLEVBQUEsV0FDQSxFQUFBLEVBQUEsYUFDQSxFQUFBLEVBQUEsYUFDQSxFQUFBLEVBQUEsbUJBR0EsR0FBQSxNQUFBLEVBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUlBLE1BQUEsS0FHQSxRQUFBLElBQUEsRUFBQSxHQUNBLE1BQUEsVUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLENBRUEsSUFBQSxFQUFBLEdBQ0EsTUFBQSxFQUdBLElBQUEsRUFBQSxHQUFBLENBT0EsR0FIQSxLQUFBLEVBQUEsT0FBQSxJQUFBLEtBQUEsRUFBQSxPQUFBLEVBQUEsT0FBQSxLQUNBLEVBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxPQUFBLElBRUEsR0FBQSxLQUFBLEdBQ0EsTUFBQSxJQUFBLE1BQUEsRUFLQSxJQUhBLEVBQUEsVUFBQSxFQUNBLEVBQUEsRUFBQSxLQUFBLEdBdUJBLE1BcEJBLEdBQUEsUUFFQSxFQURBLEdBRUEsS0FBQSxFQUFBLGNBQ0EsR0FBQSxFQUFBLFdBQUEsRUFDQSxHQUFBLEVBQUEsVUFDQSxHQUFBLEVBQUEsV0FDQSxHQUFBLEVBQUEsYUFDQSxHQUFBLEVBQUEsYUFDQSxJQUFBLEVBQUEsa0JBQUEsTUFHQSxLQUFBLEtBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEdBR0EsRUFBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxTQUNBLEVBQUEsRUFBQSxLQUFBLEtBR0EsR0FBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxHQUlBLE1BQUEsTUFJQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLFVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FrRUEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBbEVBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUNBLElBQ0EsR0FEQSxFQUFBLEdBQUEsRUFBQSxVQUFBLEVBQUEsU0FBQSxRQW9DQSxJQWpDQSxFQUFBLGFBQUEsRUFDQSxFQUFBLFNBQUEsS0FBQSxTQUFBLEdBQ0EsR0FBQSxFQUFBLFNBQUEsR0FBQSxNQUFBLEtBQ0EsSUFBQSxFQUFBLEtBQUEsR0FBQSxDQUlBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFJQSxPQUhBLFFBQUEsR0FDQSxFQUFBLFdBQUEsRUFBQSxhQUFBLEVBQUEscUJBRUEsRUFFQSxNQUFBLEtBR0EsRUFBQSxZQUFBLEtBQUEsU0FBQSxHQUNBLElBQUEsRUFBQSxTQUFBLEdBQUEsQ0FDQSxJQUFBLEVBQUEsR0FDQSxLQUFBLElBQUEsVUFBQSw4QkFBQSxFQUdBLElBREEsRUFBQSxFQUNBLEdBQUEsUUFBQSxFQUFBLENBQ0EsR0FBQSxHQUFBLElBQUEsRUFBQSxtQkFDQSxHQUFBLEdBQUEsTUFBQSxFQUFBLFVBQUEsR0FFQSxNQUFBLEdBQUEsUUFBQSxFQUFBLEVBQUEsR0FJQSxNQUZBLEdBQUEsS0FFQSxLQUdBLEVBQUEsRUFBQSxNQUFBLEVBQUEsTUFBQSxDQUNBLEdBQUEsRUFDQSxHQUFBLFlBQUEsSUFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLFNBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEdBRUEsRUFBQSxTQUFBLE1BQUEsU0FBQSxHQUNBLEVBQUEsRUFBQSxHQUNBLEVBQUEsY0FJQSxHQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsTUFBQSxDQUNBLEdBQUEsRUFDQSxHQUFBLFlBQUEsSUFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLFNBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEdBRUEsRUFBQSxTQUFBLE1BQUEsU0FBQSxHQUNBLEVBQUEsRUFBQSxHQUNBLEVBQUEsY0FJQSxFQUFBLFNBQUEsU0FBQSxHQUVBLE9BQUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxZQUFBLEVBQUEsWUFTQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxzQkFBQSxFQUFBLEVBQUEsU0FDQSxJQUNBLEVBQUEsU0FBQSxLQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxLQUFBLE9BS0EsT0FBQSxHQUFBLFdBQUEsRUFBQSxhQUFBLEVBQUEsSUFLQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBcUJBLEdBcEJBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUVBLEVBQUEsYUFBQSxTQUNBLEVBQUEsU0FBQSxLQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsU0FBQSxHQUFBLEtBQ0EsR0FBQSxLQUFBLEdBQUEsV0FBQSxHQUNBLElBR0EsRUFBQSxZQUFBLEtBQUEsU0FBQSxHQUNBLElBQUEsRUFBQSxTQUFBLEdBQUEsQ0FDQSxJQUFBLEVBQUEsR0FDQSxLQUFBLElBQUEsU0FBQSxnQ0FBQSxFQUVBLEdBQUEsRUFBQSxXQUVBLE1BQUEsS0FHQSxFQUFBLEtBQUEsRUFBQSxNQUFBLENBQ0EsR0FBQSxFQUNBLEdBQUEsWUFBQSxJQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsU0FBQSxJQUFBLEVBQUEsSUFBQSxHQUFBLEdBR0EsRUFBQSxTQUFBLE1BQUEsU0FBQSxHQUNBLEVBQUEsS0FBQSxFQUFBLEtBQ0EsRUFBQSxXQUFBLEVBQUEsS0FFQSxFQUFBLEVBQUEsS0FBQSxNQUFBLEdBQUEsRUFBQSxFQUVBLEVBQUEsY0FJQSxHQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsQ0FDQSxHQUFBLEVBQ0EsR0FBQSxZQUFBLElBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxTQUFBLElBQUEsRUFBQSxJQUFBLEdBQUEsR0FHQSxFQUFBLFNBQUEsTUFBQSxTQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsS0FDQSxFQUFBLFdBQUEsRUFBQSxLQUVBLEVBQUEsRUFBQSxLQUFBLE1BQUEsR0FBQSxFQUFBLEVBRUEsRUFBQSxlQUtBLFFBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FHQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FFQSxFQUFBLGFBQUEsTUFDQSxFQUFBLFlBQUEsSUFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLFNBQUEsSUFBQSxHQUFBLEtBQUEsSUFJQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBR0EsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBRUEsRUFBQSxhQUFBLFFBQ0EsRUFBQSxZQUFBLE1BQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxTQUFBLElBQUEsR0FBQSxLQUFBLElBSUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxFQUFBLE9BQ0EsRUFBQSxLQUFBLE9BQUEsSUFHQSxJQUFBLEdBQUEsU0FBQSxHQUNBLEVBQUEsR0FBQSxTQUNBLEVBQUEsY0FBQSxFQUFBLE1BQUEsR0FBQSxFQUFBLE1BSUEsR0FBQSxHQUFBLFFBQUEsR0FFQSxFQUFBLFFBQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxLQUNBLEdBQUEsR0FBQSxRQUFBLEdBQUEsRUFBQSxZQUdBLEVBQUEsU0FBQSxRQUFBLEVBQUEsU0FHQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFDQSxJQUFBLEVBQUEsR0FBQSxDQUVBLEdBREEsRUFBQSxFQUFBLElBQ0EsRUFBQSxTQUNBLEtBQUEsR0FBQSxXQUFBLFlBQUEseURBQ0EsRUFBQSxFQUVBLE9BQUEsR0FBQSxHQUVBLE1BQUEsR0FHQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxjQUFBLEVBQUEsYUFBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLEVBQUEsZUFBQSxFQUFBLGNBQUEsR0FFQSxFQUFBLFNBQUEsR0FDQSxFQUFBLGNBQUEsRUFBQSxHQUFBLFFBQUEsR0FBQSxFQUFBLE1BR0EsR0FBQSxHQUFBLFFBQUEsR0FFQSxFQUFBLFFBQUEsV0FDQSxFQUFBLEdBQUEsUUFBQSxFQUFBLFlBSUEsRUFBQSxTQUFBLFNBQUEsR0FDQSxNQUFBLEtBQUEsR0FHQSxFQUFBLFlBQUEsS0FBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsS0FHQSxFQUFBLFNBQUEsS0FBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsSUFxcERBLFFBQUEsSUFBQSxHQWFBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxJQUFBLEVBQ0EsRUFBQSxXQUFBLEVBQUEsR0FFQSxFQUFBLFdBQUEsRUFBQSxHQUVBLEVBQUEsR0FJQSxHQUNBLEVBQUEsRUFBQSxPQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEtBRUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxVQUFBLEVBQUEsS0FSQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLFVBQUEsRUFBQSxJQVVBLEVBQUEsVUFDQSxFQUFBLElBQUEsR0FDQSxFQUFBLE9BQUEsRUFBQSxTQUFBLEVBQ0EsRUFBQSxHQUFBLFFBRUEsRUFBQSxJQUFBLEdBQ0EsRUFBQSxPQUFBLEdBQUEsRUFBQSxRQUNBLEVBQUEsVUFBQSxFQUFBLE9BQ0EsRUFBQSxHQUFBLEVBQUEsUUFPQSxJQUFBLEVBRUEsR0FEQSxFQUFBLFVBQUEsRUFBQSxTQUFBLEdBQ0EsRUFDQSxFQUFBLE9BQUEsSUFDQSxFQUNBLEVBQUEsVUFBQSxJQUNBLEVBRUEsS0FFQSxFQUFBLEVBQUEsR0FDQSxFQUFBLGFBQUEsRUFBQSxFQUFBLEdBR0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsS0FDQSxFQUFBLE9BRUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLElBQ0EsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUVBLEdBQUEsRUFBQSxNQUNBLEVBQUEsR0FBQSxHQUlBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsSUFBQSxFQUFBLElBQ0EsRUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLElBQUEsSUFDQSxHQUFBLEVBQUEsS0FDQSxFQUFBLFlBQUEsRUFBQSxHQUNBLEVBQUEsSUFBQSxHQUlBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLElBQUEsR0FBQSxFQUFBLEtBQUEsR0FFQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsS0FBQSxHQXpGQSxHQUFBLEdBQUEsRUFBQSxLQUNBLEVBQUEsRUFBQSxTQUNBLEtBQ0EsRUFBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLFdBQ0EsRUFBQSxFQUFBLFFBRUEsR0FBQSxNQUFBLEVBQUEsSUFBQSxFQUFBLFNBQUEsS0FFQSxFQUFBLGFBQUEsRUFtRkEsUUFBQSxJQUFBLEdBQ0EsR0FBQSxFQUNBLElBQUEsR0FBQSxLQUFBLEdBQ0EsT0FBQSxDQUdBLFFBQUEsRUFrTkEsUUFBQSxJQUFBLEVBQUEsR0FFQSxNQURBLEdBQUEsVUFBQSxHQUNBLFdBQUEsU0FBQSxHQStFQSxRQUFBLEdBQUEsRUFBQSxHQUNBLEdBQUEsS0FFQSxHQUNBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxDQUVBLElBQUEsR0FEQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFDQSxHQUFBLEdBQUEsRUFBQSxHQUFBLFFBQUEsRUFFQSxHQUFBLEtBQUEsR0FFQSxNQUFBLEdBR0EsUUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQ0EsTUFBQSxFQUNBLElBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxNQUFBLElBQ0EsSUFBQSxFQUFBLEdBQUEsQ0FDQSxHQUFBLEtBTUEsT0FMQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsSUFDQSxFQUFBLEVBQUEsT0FBQSxFQUFBLE1BQUEsU0FHQSxFQUVBLE1BQUEsR0ExR0EsT0FDQSxTQUFBLEtBQ0EsS0FBQSxTQUFBLEVBQUEsRUFBQSxHQXVCQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQ0EsR0FBQSxVQUFBLEdBR0EsUUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsYUFBQSxHQUdBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxvQkFDQSxJQVVBLE9BVEEsR0FBQSxFQUFBLFNBQUEsSUFDQSxFQUFBLEdBQUEsRUFBQSxNQUNBLEVBQUEsSUFBQSxFQUFBLElBQUEsR0FBQSxFQUNBLEVBQUEsT0FBQSxFQUFBLElBQ0EsRUFBQSxLQUFBLE1BSUEsRUFBQSxLQUFBLGVBQUEsR0FDQSxFQUFBLEtBQUEsS0FHQSxRQUFBLEdBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUNBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsSUFDQSxHQUFBLEVBQUEsUUFDQSxFQUFBLFNBQUEsRUFBQSxHQUVBLEdBQUEsRUFBQSxRQUNBLEVBQUEsWUFBQSxFQUFBLEdBSUEsUUFBQSxHQUFBLEdBQ0EsR0FBQSxLQUFBLEdBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLE1BQ0EsSUFBQSxHQUVBLElBQUEsRUFBQSxFQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLEdBQUEsRUFBQSxRQUhBLEdBQUEsR0FNQSxFQUFBLEVBQUEsR0F0RUEsR0FBQSxFQUVBLEdBQUEsT0FBQSxFQUFBLEdBQUEsR0FBQSxHQUVBLEVBQUEsU0FBQSxRQUFBLFdBQ0EsRUFBQSxFQUFBLE1BQUEsRUFBQSxPQUlBLFlBQUEsR0FDQSxFQUFBLE9BQUEsU0FBQSxTQUFBLEVBQUEsR0FFQSxHQUFBLEdBQUEsRUFBQSxDQUNBLElBQUEsS0FBQSxFQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxJQUNBLEtBQUEsRUFDQSxFQUFBLEdBQ0EsRUFBQSxVQXgvcEJBLEdBQUEsSUFBQSxxQkFJQSxHQUFBLFdBWUEsR0FBQSxTQUFBLEdBQUEsTUFBQSxHQUFBLEdBQUEsRUFBQSxjQUFBLEdBQ0EsR0FBQSxPQUFBLFVBQUEsZUFZQSxHQUFBLFNBQUEsR0FBQSxNQUFBLEdBQUEsR0FBQSxFQUFBLGNBQUEsR0FHQSxHQUFBLFNBQUEsR0FFQSxNQUFBLEdBQUEsR0FDQSxFQUFBLFFBQUEsU0FBQSxTQUFBLEdBQUEsTUFBQSxRQUFBLGFBQUEsR0FBQSxFQUFBLFdBQUEsTUFDQSxHQUVBLEdBQUEsU0FBQSxHQUVBLE1BQUEsR0FBQSxHQUNBLEVBQUEsUUFBQSxTQUFBLFNBQUEsR0FBQSxNQUFBLFFBQUEsYUFBQSxJQUFBLEVBQUEsV0FBQSxNQUNBLEVBT0EsT0FBQSxJQUFBLGdCQUNBLEdBQUEsR0FDQSxHQUFBLEdBSUEsSUFDQSxJQUNBLEdBQ0EsR0FTQSxHQVJBLE1BQUEsTUFDQSxNQUFBLE9BQ0EsTUFBQSxLQUNBLEdBQUEsT0FBQSxVQUFBLFNBQ0EsR0FBQSxFQUFBLE1BR0EsR0FBQSxFQUFBLFVBQUEsRUFBQSxZQUVBLEdBQUEsQ0FNQSxJQUFBLEVBQUEsYUF5TUEsRUFBQSxXQW9CQSxFQUFBLFVBaUhBLElBeTVCQSxJQXo1QkEsR0FBQSxNQUFBLFFBa0VBLEdBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxHQU1BLEdBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxRQUFBLGdDQUFBLFFBQ0EsUUFBQSxRQUFBLFVBb1JBLEdBQUEsV0FDQSxHQUFBLEVBQUEsR0FBQSxXQUFBLE1BQUEsSUFBQSxTQUVBLElBQUEsTUFBQSxFQUFBLGNBQUEsY0FDQSxFQUFBLGNBQUEsaUJBRUEsS0FBQSxFQUNBLElBRUEsR0FBQSxVQUFBLElBRUEsTUFBQSxHQUNBLEdBQUEsRUFJQSxNQUFBLElBQUEsVUFBQSxHQTBPQSxJQUFBLE1BQUEsV0FBQSxNQUFBLFNBdVRBLEdBQUEsU0FRQSxJQUFBLEVBb0pBLEdBQUEsRUFDQSxHQUFBLEVBQ0EsR0FBQSxFQUNBLEdBQUEsRUFDQSxHQUFBLEdBb2FBLElBQ0EsS0FBQSxRQUNBLE1BQUEsRUFDQSxNQUFBLEVBQ0EsSUFBQSxFQUNBLFNBQUEsbUJBME9BLElBQUEsUUFBQSxPQUVBLElBQUEsSUFBQSxHQUFBLFNBQ0EsR0FBQSxFQUNBLEdBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLGlCQUFBLEVBQUEsR0FBQSxJQUVBLEdBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLG9CQUFBLEVBQUEsR0FBQSxHQU1BLElBQUEsTUFBQSxTQUFBLEdBRUEsTUFBQSxNQUFBLE1BQUEsRUFBQSxLQUFBLGNBTUEsSUFBQSxJQUFBLGtCQUNBLEdBQUEsY0FDQSxJQUFBLFdBQUEsV0FBQSxXQUFBLGFBQ0EsR0FBQSxFQUFBLFVBZUEsR0FBQSw2QkFDQSxHQUFBLFlBQ0EsR0FBQSxZQUNBLEdBQUEsMEVBRUEsSUFDQSxRQUFBLEVBQUEsK0JBQUEsYUFFQSxPQUFBLEVBQUEsVUFBQSxZQUNBLEtBQUEsRUFBQSxvQkFBQSx1QkFDQSxJQUFBLEVBQUEsaUJBQUEsb0JBQ0EsSUFBQSxFQUFBLHFCQUFBLHlCQUNBLFVBQUEsRUFBQSxHQUFBLElBR0EsSUFBQSxTQUFBLEdBQUEsT0FDQSxHQUFBLE1BQUEsR0FBQSxNQUFBLEdBQUEsU0FBQSxHQUFBLFFBQUEsR0FBQSxNQUNBLEdBQUEsR0FBQSxHQUFBLEVBMlRBLElBQUEsSUFBQSxHQUFBLFdBQ0EsTUFBQSxTQUFBLEdBR0EsUUFBQSxLQUNBLElBQ0EsR0FBQSxFQUNBLEtBTEEsR0FBQSxJQUFBLENBU0EsY0FBQSxFQUFBLFdBQ0EsV0FBQSxJQUVBLEtBQUEsR0FBQSxtQkFBQSxHQUdBLEdBQUEsR0FBQSxHQUFBLE9BQUEsS0FJQSxTQUFBLFdBQ0EsR0FBQSxLQUVBLE9BREEsR0FBQSxLQUFBLFNBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxLQUNBLElBQUEsRUFBQSxLQUFBLE1BQUEsS0FHQSxHQUFBLFNBQUEsR0FDQSxNQUFBLElBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxLQUFBLEtBQUEsT0FBQSxLQUdBLE9BQUEsRUFDQSxLQUFBLEdBQ0EsUUFBQSxLQUNBLFVBQUEsUUFRQSxLQUNBLEdBQUEsNERBQUEsTUFBQSxLQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsSUFBQSxHQUVBLElBQUEsTUFDQSxHQUFBLG1EQUFBLE1BQUEsS0FBQSxTQUFBLEdBQ0EsR0FBQSxJQUFBLEdBRUEsSUFBQSxLQUNBLFlBQUEsWUFDQSxZQUFBLFlBQ0EsTUFBQSxNQUNBLE1BQUEsTUFDQSxVQUFBLFVBZ0JBLElBQ0EsS0FBQSxHQUNBLFdBQUEsSUFDQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsSUFHQSxHQUNBLEtBQUEsR0FDQSxjQUFBLEdBRUEsTUFBQSxTQUFBLEdBRUEsTUFBQSxJQUFBLEtBQUEsRUFBQSxXQUFBLEdBQUEsRUFBQSxZQUFBLEdBQUEsZ0JBQUEsWUFHQSxhQUFBLFNBQUEsR0FFQSxNQUFBLElBQUEsS0FBQSxFQUFBLGtCQUFBLEdBQUEsS0FBQSxFQUFBLDRCQUdBLFdBQUEsR0FFQSxTQUFBLFNBQUEsR0FDQSxNQUFBLElBQUEsRUFBQSxjQUdBLFdBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxnQkFBQSxJQUdBLFNBQUEsR0FFQSxJQUFBLFNBQUEsRUFBQSxFQUFBLEdBR0EsTUFGQSxHQUFBLEdBQUEsR0FFQSxFQUFBLFFBQ0EsRUFBQSxNQUFBLEdBQUEsR0FFQSxFQUFBLE1BQUEsSUFJQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsRUFDQSxJQUFBLEdBQUEsR0FBQSxDQUNBLElBQUEsRUFBQSxHQVNBLE1BQUEsR0FBQSxLQUNBLEVBQUEsV0FBQSxhQUFBLElBQUEsR0FBQSxVQUNBLEVBQ0EsQ0FYQSxJQUNBLEVBQUEsSUFBQSxFQUNBLEVBQUEsYUFBQSxFQUFBLEtBRUEsRUFBQSxJQUFBLEVBQ0EsRUFBQSxnQkFBQSxRQVFBLElBQUEsRUFBQSxHQUNBLEVBQUEsYUFBQSxFQUFBLE9BQ0EsSUFBQSxFQUFBLGFBQUEsQ0FHQSxHQUFBLEdBQUEsRUFBQSxhQUFBLEVBQUEsRUFFQSxPQUFBLFFBQUEsRUFBQSxFQUFBLElBSUEsS0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxRQUNBLEVBQUEsR0FBQSxHQUVBLEVBQUEsSUFJQSxLQUFBLFdBSUEsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLFFBQ0EsT0FBQSxLQUFBLElBQUEsSUFBQSxHQUFBLEVBQUEsWUFBQSxHQUVBLEVBQUEsWUFBQSxFQVBBLE1BREEsR0FBQSxJQUFBLEdBQ0EsS0FXQSxJQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxHQUFBLENBQ0EsR0FBQSxFQUFBLFVBQUEsV0FBQSxFQUFBLEdBQUEsQ0FDQSxHQUFBLEtBTUEsT0FMQSxHQUFBLEVBQUEsUUFBQSxTQUFBLEdBQ0EsRUFBQSxVQUNBLEVBQUEsS0FBQSxFQUFBLE9BQUEsRUFBQSxRQUdBLElBQUEsRUFBQSxPQUFBLEtBQUEsRUFFQSxNQUFBLEdBQUEsTUFFQSxFQUFBLE1BQUEsR0FHQSxLQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxHQUNBLEVBQUEsV0FFQSxHQUFBLEdBQUEsUUFDQSxFQUFBLFVBQUEsS0FHQSxNQUFBLElBQ0EsU0FBQSxFQUFBLEdBSUEsR0FBQSxVQUFBLEdBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQ0EsRUFBQSxLQUFBLE1BS0EsSUFBQSxJQUFBLEtBQ0EsR0FBQSxFQUFBLFFBQUEsSUFBQSxJQUFBLElBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxDQUNBLEdBQUEsRUFBQSxHQUFBLENBR0EsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQ0EsR0FBQSxJQUFBLEdBRUEsRUFBQSxLQUFBLEdBQUEsT0FFQSxLQUFBLElBQUEsR0FDQSxFQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsR0FLQSxPQUFBLE1BT0EsSUFBQSxHQUhBLEdBQUEsRUFBQSxJQUVBLEVBQUEsSUFBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLEdBQUEsRUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxFQUNBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFFQSxNQUFBLEdBSUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxLQUFBLEdBQUEsRUFBQSxFQUdBLE9BQUEsU0EyREEsR0FDQSxXQUFBLEdBRUEsR0FBQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsR0FBQSxLQUFBLElBQUEsU0FBQSx3RUFHQSxJQUFBLEdBQUEsR0FBQSxDQUlBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsT0FDQSxFQUFBLEVBQUEsTUFFQSxLQUNBLEVBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxHQU9BLEtBSEEsR0FBQSxHQUFBLEVBQUEsUUFBQSxNQUFBLEVBQUEsRUFBQSxNQUFBLE1BQUEsR0FDQSxFQUFBLEVBQUEsT0FFQSxLQUFBLENBQ0EsRUFBQSxFQUFBLEVBQ0EsSUFBQSxHQUFBLEVBQUEsRUFFQSxLQUNBLEVBQUEsTUFFQSxlQUFBLEdBQUEsZUFBQSxFQUtBLEdBQUEsRUFBQSxHQUFBLEdBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxnQkFHQSxHQUFBLElBQUEsSUFBQSxFQUFBLFNBQUEsS0FDQSxFQUFBLEVBQUEsS0FLQSxhQUFBLEdBQ0EsR0FBQSxFQUFBLEVBQUEsR0FHQSxFQUFBLEVBQUEsSUFFQSxFQUFBLEtBQUEsTUFJQSxJQUFBLEdBRUEsSUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxHQUtBLEVBQUEsR0FBQSxFQUFBLFFBQUEsS0FDQSxFQUFBLElBQUEsRUFBQSxHQUNBLEVBQUEsSUFBQSxFQUFBLEtBRUEsRUFBQSxHQUFBLEVBQUEsSUFHQSxZQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsVUFDQSxJQUFBLEdBQ0EsRUFBQSxHQUFBLElBQUEsR0FBQSxTQUFBLEdBQ0EsRUFDQSxFQUFBLGFBQUEsRUFBQSxFQUFBLGFBRUEsRUFBQSxhQUFBLEVBQUEsR0FFQSxFQUFBLEtBSUEsU0FBQSxTQUFBLEdBQ0EsR0FBQSxLQUtBLE9BSkEsR0FBQSxFQUFBLFdBQUEsU0FBQSxHQUNBLEVBQUEsV0FBQSxJQUNBLEVBQUEsS0FBQSxLQUVBLEdBR0EsU0FBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLGlCQUFBLEVBQUEsZ0JBR0EsT0FBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxRQUNBLElBQUEsSUFBQSxJQUFBLElBQUEsR0FBQSxDQUVBLEVBQUEsR0FBQSxJQUFBLEVBRUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsR0FBQSxZQUFBLE1BSUEsUUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsV0FBQSxHQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsVUFDQSxHQUFBLEdBQUEsSUFBQSxHQUFBLFNBQUEsR0FDQSxFQUFBLGFBQUEsRUFBQSxPQUtBLEtBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLFFBQUEsRUFDQSxJQUFBLEdBQUEsRUFBQSxVQUNBLElBQ0EsRUFBQSxhQUFBLEVBQUEsR0FFQSxFQUFBLFlBQUEsSUFHQSxPQUFBLEdBRUEsT0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLElBR0EsTUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsVUFDQSxHQUFBLEdBQUEsSUFBQSxFQUVBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLEdBQUEsYUFBQSxFQUFBLEVBQUEsYUFDQSxFQUFBLElBSUEsU0FBQSxHQUNBLFlBQUEsR0FFQSxZQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FDQSxFQUFBLEVBQUEsTUFBQSxLQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsQ0FDQSxHQUFBLEtBQ0EsR0FBQSxHQUFBLEVBQUEsS0FFQSxFQUFBLEdBQUEsSUFBQSxFQUFBLE1BS0EsT0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsVUFDQSxPQUFBLElBQUEsRUFBQSxXQUFBLEdBQUEsRUFBQSxNQUdBLEtBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxvQkFHQSxLQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxxQkFDQSxFQUFBLHFCQUFBLE9BTUEsTUFBQSxHQUVBLGVBQUEsU0FBQSxFQUFBLEVBQUEsR0FFQSxHQUFBLEdBQUEsRUFBQSxFQUNBLEVBQUEsRUFBQSxNQUFBLEVBQ0EsRUFBQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsT0FDQSxFQUFBLEdBQUEsRUFBQSxFQUVBLEtBRUEsR0FDQSxlQUFBLFdBQUEsS0FBQSxrQkFBQSxHQUNBLG1CQUFBLFdBQUEsTUFBQSxNQUFBLG9CQUFBLEdBQ0EseUJBQUEsV0FBQSxLQUFBLDZCQUFBLEdBQ0EsOEJBQUEsV0FBQSxNQUFBLE1BQUEsK0JBQUEsR0FDQSxnQkFBQSxFQUNBLEtBQUEsRUFDQSxPQUFBLEdBSUEsRUFBQSxPQUNBLEVBQUEsRUFBQSxFQUFBLElBSUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEdBQUEsT0FBQSxJQUFBLEdBRUEsRUFBQSxFQUFBLFNBQUEsR0FDQSxFQUFBLGlDQUNBLEVBQUEsTUFBQSxFQUFBLFFBS0EsU0FBQSxFQUFBLEdBSUEsR0FBQSxVQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsR0FHQSxJQUFBLEdBRkEsR0FFQSxFQUFBLEVBQUEsRUFBQSxLQUFBLE9BQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxJQUNBLEVBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxLQUVBLEVBQUEsR0FBQSxLQUdBLEdBQUEsRUFBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsR0FHQSxPQUFBLEdBQUEsR0FBQSxFQUFBLE1BSUEsR0FBQSxVQUFBLEtBQUEsR0FBQSxVQUFBLEdBQ0EsR0FBQSxVQUFBLE9BQUEsR0FBQSxVQUFBLE1BK0NBLEdBQUEsV0FNQSxJQUFBLFNBQUEsRUFBQSxHQUNBLEtBQUEsR0FBQSxFQUFBLEtBQUEsVUFBQSxHQU9BLElBQUEsU0FBQSxHQUNBLE1BQUEsTUFBQSxHQUFBLEVBQUEsS0FBQSxXQU9BLE9BQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsU0FFQSxjQURBLE1BQUEsR0FDQSxHQWlFQSxJQUFBLElBQUEscUNBQ0EsR0FBQSxJQUNBLEdBQUEsdUJBQ0EsR0FBQSxtQ0FDQSxHQUFBLEVBQUEsWUFzd0JBLElBQUEsV0FBQSxFQTRRQSxJQUFBLElBQUEsRUFBQSxZQWVBLElBQUEsV0FBQSxTQUFBLEdBR0EsS0FBQSxlQWtDQSxLQUFBLFNBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsWUFDQSxJQUFBLEdBQUEsS0FBQSxFQUFBLE9BQUEsR0FBQSxLQUFBLElBQUEsVUFDQSx3REFBQSxFQUNBLE1BQUEsWUFBQSxFQUFBLE9BQUEsSUFBQSxFQUNBLEVBQUEsUUFBQSxFQUFBLElBaUJBLEtBQUEsZ0JBQUEsU0FBQSxHQUlBLE1BSEEsS0FBQSxVQUFBLFNBQ0EsS0FBQSxrQkFBQSxZQUFBLFFBQUEsRUFBQSxNQUVBLEtBQUEsbUJBR0EsS0FBQSxNQUFBLE1BQUEsa0JBQUEsYUFBQSxTQUFBLEVBQUEsRUFBQSxHQUlBLFFBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsT0FXQSxPQVZBLEdBQUEsUUFBQSxXQUFBLFdBQ0EsR0FBQSxLQUdBLEVBQUEsYUFBQSxXQUNBLEVBQUEsRUFBQSxXQUNBLEVBQUEsY0FJQSxFQUFBLFFBR0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLE1BQUEsS0FFQSxFQUFBLElBbUJBLE9BbEJBLElBQUEsRUFBQSxLQUFBLFVBQUEsSUFBQSxNQUFBLE9BQUEsU0FBQSxHQUNBLEVBQUEsSUFBQSxJQUdBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQU1BLE1BQUEsR0FBQSxFQUNBLEVBQUEsS0FBQSxHQUNBLEtBQUEsR0FBQSxHQUNBLEVBQUEsS0FBQSxLQUlBLEVBQUEsT0FBQSxFQUFBLE9BQUEsSUFDQSxFQUFBLE9BQUEsRUFBQSxLQUFBLEVBQUEsT0FBQSxFQUFBLE1BR0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLEdBQUEsR0FBQSxHQUlBLFFBQUEsS0FTQSxNQVBBLEtBQ0EsRUFBQSxFQUFBLFFBQ0EsRUFBQSxXQUNBLEVBQUEsVUFDQSxFQUFBLFFBR0EsRUFBQSxRQUdBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLFNBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLE9BQ0EsR0FBQSxJQUFBLElBakVBLEdBQUEsRUFzRkEsUUFDQSxRQUFBLFNBQUEsRUFBQSxFQUFBLEdBRUEsTUFEQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsSUFDQSxLQW1CQSxNQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FJQSxNQUhBLEdBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxNQUFBLEdBQ0EsRUFBQSxRQUFBLEdBQ0EsS0FjQSxNQUFBLFNBQUEsR0FFQSxNQURBLEdBQUEsU0FDQSxLQXFCQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FHQSxNQUFBLE1BQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxJQWdCQSxTQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxNQUFBLFNBQUEsRUFBQSxLQUFBLElBR0Esc0JBQUEsU0FBQSxFQUFBLEVBQUEsR0FTQSxNQVJBLEdBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxHQUVBLEVBREEsR0FBQSxHQUFBLEVBQUEsS0FBQSxLQUFBLEdBRUEsRUFBQSxFQUFBLFNBQUEsR0FDQSxHQUFBLEVBQUEsS0FFQSxFQUFBLEVBQUEsR0FDQSxLQWdCQSxZQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxNQUFBLFNBQUEsS0FBQSxFQUFBLElBR0EseUJBQUEsU0FBQSxFQUFBLEVBQUEsR0FTQSxNQVJBLEdBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxHQUVBLEVBREEsR0FBQSxHQUFBLEVBQUEsS0FBQSxLQUFBLEdBRUEsRUFBQSxFQUFBLFNBQUEsR0FDQSxHQUFBLEVBQUEsS0FFQSxFQUFBLEVBQUEsR0FDQSxLQWlCQSxTQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsS0FDQSxFQUFBLG1CQUNBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsRUFFQSxJQUFBLEdBQUEsRUFBQSxLQUFBLEVBQ0EsR0FNQSxHQUFBLEVBQUEsVUFDQSxFQUFBLFFBQUEsR0FBQSxPQUFBLEVBQUEsWUFBQSxLQU5BLEdBQ0EsV0FDQSxRQUFBLEdBRUEsR0FBQSxFQUtBLElBQUEsR0FBQSxFQUFBLE9BMkJBLE9BekJBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxNQUFBLEtBQ0EsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLE1BQUEsS0FDQSxFQUFBLEVBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxHQUFBLEdBRUEsSUFDQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxFQU1BLElBTEEsRUFBQSxXQUFBLEdBS0EsRUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxRQUNBLElBQ0EsRUFBQSxzQkFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxTQUlBLE1BRUEsRUFBQSxLQUFBLEVBQUEsSUFHQSxFQUFBLFNBR0Esc0JBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUlBLE1BSEEsSUFBQSxLQUFBLHNCQUFBLEVBQUEsR0FDQSxHQUFBLEtBQUEseUJBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxHQUNBLEtBR0EsUUFBQSxFQUNBLE9BQUEsT0FzZ0RBLEdBQUEsRUFBQSxXQVFBLElBQUEsU0FBQSxXQUFBLHdCQWd1REEsSUFBQSxJQUFBLHdCQTJVQSxHQUFBLG1CQUNBLElBQUEsZUFBQSxHQUFBLGtCQUNBLEdBQUEsbUJBQ0EsR0FBQSxhQUNBLEdBQUEsZUE2dkNBLEdBQUEsRUFBQSxnQkEybEJBLEdBQUEsa0NBQ0EsSUFBQSxLQUFBLEdBQUEsTUFBQSxJQUFBLElBQUEsSUFDQSxHQUFBLEVBQUEsYUE2U0EsSUFNQSxTQUFBLEVBTUEsV0FBQSxFQWNBLE9BQUEsR0FBQSxZQWdCQSxJQUFBLFNBQUEsR0FDQSxHQUFBLEVBQUEsR0FDQSxNQUFBLE1BQUEsS0FFQSxJQUFBLEdBQUEsR0FBQSxLQUFBLEVBS0EsT0FKQSxHQUFBLElBQUEsS0FBQSxLQUFBLG1CQUFBLEVBQUEsTUFDQSxFQUFBLElBQUEsRUFBQSxLQUFBLEtBQUEsT0FBQSxFQUFBLElBQUEsSUFDQSxLQUFBLEtBQUEsRUFBQSxJQUFBLElBRUEsTUFjQSxTQUFBLEdBQUEsY0FhQSxLQUFBLEdBQUEsVUFhQSxLQUFBLEdBQUEsVUFtQkEsS0FBQSxHQUFBLFNBQUEsU0FBQSxHQUVBLE1BREEsR0FBQSxPQUFBLEVBQUEsRUFBQSxXQUFBLEdBQ0EsS0FBQSxFQUFBLE9BQUEsR0FBQSxFQUFBLElBQUEsSUFpREEsT0FBQSxTQUFBLEVBQUEsR0FDQSxPQUFBLFVBQUEsUUFDQSxJQUFBLEdBQ0EsTUFBQSxNQUFBLFFBQ0EsS0FBQSxHQUNBLEdBQUEsRUFBQSxJQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsV0FDQSxLQUFBLFNBQUEsRUFBQSxPQUNBLENBQUEsSUFBQSxFQUFBLEdBU0EsS0FBQSxJQUFBLFdBQ0EscUZBVEEsR0FBQSxFQUFBLE1BRUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsU0FBQSxHQUFBLEtBR0EsS0FBQSxTQUFBLEVBS0EsS0FDQSxTQUNBLEVBQUEsSUFBQSxPQUFBLFFBQ0EsTUFBQSxTQUFBLEdBRUEsS0FBQSxTQUFBLEdBQUEsRUFLQSxNQURBLE1BQUEsWUFDQSxNQWlCQSxLQUFBLEdBQUEsU0FBQSxTQUFBLEdBQ0EsTUFBQSxRQUFBLEVBQUEsRUFBQSxXQUFBLEtBV0EsUUFBQSxXQUVBLE1BREEsTUFBQSxXQUFBLEVBQ0EsTUFJQSxJQUFBLEdBQUEsR0FBQSxJQUFBLFNBQUEsR0FDQSxFQUFBLFVBQUEsT0FBQSxPQUFBLElBcUJBLEVBQUEsVUFBQSxNQUFBLFNBQUEsR0FDQSxJQUFBLFVBQUEsT0FDQSxNQUFBLE1BQUEsT0FFQSxJQUFBLElBQUEsS0FBQSxLQUFBLFFBQ0EsS0FBQSxJQUFBLFVBQUEsOEdBUUEsT0FGQSxNQUFBLFFBQUEsRUFBQSxHQUFBLEtBQUEsRUFFQSxPQW9lQSxJQUFBLElBQUEsRUFBQSxVQThEQSxHQUFBLFNBQUEsVUFBQSxLQUNBLEdBQUEsU0FBQSxVQUFBLE1BQ0EsR0FBQSxTQUFBLFVBQUEsS0FpQkEsR0FBQSxJQUNBLElBQ0EsT0FBQSxXQUFBLE1BQUEsT0FDQSxPQUFBLFdBQUEsT0FBQSxHQUNBLFFBQUEsV0FBQSxPQUFBLEdBQ0EsVUFBQSxjQUNBLFNBQUEsRUFBQSxHQUNBLEVBQUEsU0FBQSxFQUFBLFFBQUEsRUFBQSxjQUFBLEVBQ0EsR0FBQSxHQUFBLElBSUEsR0FBQSxRQUFBLFNBQUEsR0FBQSxNQUFBLElBQ0EsR0FBQSxRQUFBLGNBQUEsQ0FJQSxJQUFBLElBQUEsRUFBQSxNQUNBLElBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUVBLE1BREEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsR0FDQSxFQUFBLEdBQ0EsRUFBQSxFQUVBLEVBRUEsRUFBQSxHQUFBLEVBQUE7RUFDQSxJQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FFQSxNQURBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLElBRUEsSUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsSUFDQSxJQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxJQUNBLElBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLElBQ0EsTUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsSUFDQSxNQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxJQUNBLEtBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLElBQ0EsS0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsSUFDQSxJQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxJQUNBLElBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLElBQ0EsS0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsSUFDQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxJQUNBLEtBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLElBQ0EsS0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsSUFDQSxJQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsT0FBQSxFQUFBLEVBQUEsSUFHQSxLQUFBLEVBQ0EsS0FBQSxJQUVBLElBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxLQVNBLEdBQUEsU0FBQSxHQUNBLEtBQUEsUUFBQSxFQUdBLElBQUEsV0FDQSxZQUFBLEdBRUEsSUFBQSxTQUFBLEdBTUEsSUFMQSxLQUFBLEtBQUEsRUFDQSxLQUFBLE1BQUEsRUFDQSxLQUFBLEdBQUEsRUFDQSxLQUFBLFVBRUEsS0FBQSxNQUFBLEtBQUEsS0FBQSxRQUVBLEdBREEsS0FBQSxHQUFBLEtBQUEsS0FBQSxPQUFBLEtBQUEsT0FDQSxLQUFBLEdBQUEsT0FDQSxLQUFBLFdBQUEsS0FBQSxRQUNBLElBQUEsS0FBQSxTQUFBLEtBQUEsS0FBQSxLQUFBLEdBQUEsTUFBQSxLQUFBLFNBQUEsS0FBQSxRQUNBLEtBQUEsaUJBQ0EsSUFBQSxLQUFBLFFBQUEsS0FBQSxJQUNBLEtBQUEsZ0JBQ0EsSUFBQSxLQUFBLEdBQUEsZUFDQSxLQUFBLE9BQUEsTUFDQSxNQUFBLEtBQUEsTUFDQSxLQUFBLEtBQUEsS0FFQSxLQUFBLFlBQ0EsSUFBQSxLQUFBLGFBQUEsS0FBQSxJQUNBLEtBQUEsWUFDQSxDQUNBLEdBQUEsR0FBQSxLQUFBLEdBQUEsS0FBQSxPQUNBLEVBQUEsRUFBQSxLQUFBLEtBQUEsR0FDQSxFQUFBLEdBQUEsS0FBQSxJQUNBLEVBQUEsR0FBQSxHQUNBLEVBQUEsR0FBQSxFQUNBLElBQ0EsS0FBQSxPQUFBLE1BQUEsTUFBQSxLQUFBLE1BQUEsS0FBQSxFQUFBLEdBQUEsSUFDQSxLQUFBLE9BQUEsR0FDQSxHQUNBLEtBQUEsT0FBQSxNQUFBLE1BQUEsS0FBQSxNQUFBLEtBQUEsRUFBQSxHQUFBLElBQ0EsS0FBQSxPQUFBLEdBQ0EsR0FDQSxLQUFBLE9BQUEsTUFDQSxNQUFBLEtBQUEsTUFDQSxLQUFBLEtBQUEsR0FDQSxHQUFBLElBRUEsS0FBQSxPQUFBLEdBRUEsS0FBQSxXQUFBLDZCQUFBLEtBQUEsTUFBQSxLQUFBLE1BQUEsR0FJQSxNQUFBLE1BQUEsUUFHQSxHQUFBLFNBQUEsR0FDQSxNQUFBLEtBQUEsRUFBQSxRQUFBLEtBQUEsS0FHQSxLQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxDQUNBLE9BQUEsTUFBQSxNQUFBLEVBQUEsS0FBQSxLQUFBLE9BQUEsS0FBQSxLQUFBLE9BQUEsS0FBQSxNQUFBLElBQUEsR0FHQSxTQUFBLFNBQUEsR0FDQSxNQUFBLElBQUEsS0FBQSxLQUFBLEdBR0EsYUFBQSxTQUFBLEdBRUEsTUFBQSxNQUFBLEdBQUEsT0FBQSxHQUFBLE1BQUEsR0FDQSxPQUFBLEdBQUEsTUFBQSxHQUFBLE1BQUEsR0FHQSxRQUFBLFNBQUEsR0FDQSxNQUFBLElBQUEsS0FBQSxLQUFBLEdBQ0EsR0FBQSxLQUFBLEtBQUEsR0FDQSxNQUFBLEdBQUEsTUFBQSxHQUdBLGNBQUEsU0FBQSxHQUNBLE1BQUEsTUFBQSxHQUFBLE1BQUEsR0FBQSxLQUFBLFNBQUEsSUFHQSxXQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEtBQUEsS0FDQSxJQUFBLEdBQUEsRUFBQSxHQUNBLEtBQUEsRUFBQSxJQUFBLEtBQUEsTUFBQSxLQUFBLEtBQUEsS0FBQSxVQUFBLEVBQUEsR0FBQSxJQUNBLElBQUEsQ0FDQSxNQUFBLElBQUEsU0FBQSxxREFDQSxFQUFBLEVBQUEsS0FBQSxPQUdBLFdBQUEsV0FHQSxJQUZBLEdBQUEsR0FBQSxHQUNBLEVBQUEsS0FBQSxNQUNBLEtBQUEsTUFBQSxLQUFBLEtBQUEsUUFBQSxDQUNBLEdBQUEsR0FBQSxHQUFBLEtBQUEsS0FBQSxPQUFBLEtBQUEsT0FDQSxJQUFBLEtBQUEsR0FBQSxLQUFBLFNBQUEsR0FDQSxHQUFBLE1BQ0EsQ0FDQSxHQUFBLEdBQUEsS0FBQSxNQUNBLElBQUEsS0FBQSxHQUFBLEtBQUEsY0FBQSxHQUNBLEdBQUEsTUFDQSxJQUFBLEtBQUEsY0FBQSxJQUNBLEdBQUEsS0FBQSxTQUFBLElBQ0EsS0FBQSxFQUFBLE9BQUEsRUFBQSxPQUFBLEdBQ0EsR0FBQSxNQUNBLENBQUEsSUFBQSxLQUFBLGNBQUEsSUFDQSxHQUFBLEtBQUEsU0FBQSxJQUNBLEtBQUEsRUFBQSxPQUFBLEVBQUEsT0FBQSxHQUdBLEtBRkEsTUFBQSxXQUFBLHFCQUtBLEtBQUEsUUFFQSxFQUFBLEVBQUEsRUFDQSxLQUFBLE9BQUEsTUFDQSxNQUFBLEVBQ0EsS0FBQSxFQUNBLFVBQUEsRUFDQSxHQUFBLFdBQUEsTUFBQSxPQUlBLFVBQUEsV0FRQSxJQVBBLEdBS0EsR0FBQSxFQUFBLEVBQUEsRUFMQSxFQUFBLEtBQUEsS0FFQSxFQUFBLEdBQ0EsRUFBQSxLQUFBLE1BSUEsS0FBQSxNQUFBLEtBQUEsS0FBQSxTQUNBLEVBQUEsS0FBQSxLQUFBLE9BQUEsS0FBQSxPQUNBLE1BQUEsR0FBQSxLQUFBLFFBQUEsSUFBQSxLQUFBLFNBQUEsS0FDQSxNQUFBLElBQUEsRUFBQSxLQUFBLE9BQ0EsR0FBQSxFQUlBLEtBQUEsT0FjQSxJQVZBLEdBQUEsTUFBQSxFQUFBLEVBQUEsT0FBQSxLQUNBLEtBQUEsUUFDQSxFQUFBLEVBQUEsTUFBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLFlBQUEsS0FDQSxLQUFBLElBQ0EsRUFBQSxJQUtBLEVBRUEsSUFEQSxFQUFBLEtBQUEsTUFDQSxFQUFBLEtBQUEsS0FBQSxRQUFBLENBRUEsR0FEQSxFQUFBLEtBQUEsS0FBQSxPQUFBLEdBQ0EsTUFBQSxFQUFBLENBQ0EsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEdBQ0EsS0FBQSxNQUFBLENBQ0EsT0FFQSxJQUFBLEtBQUEsYUFBQSxHQUdBLEtBRkEsS0FPQSxLQUFBLE9BQUEsTUFDQSxNQUFBLEVBQ0EsS0FBQSxFQUNBLEdBQUEsR0FBQSxJQUFBLEdBQUEsRUFBQSxLQUFBLFFBQUEsS0FHQSxJQUNBLEtBQUEsT0FBQSxNQUNBLE1BQUEsRUFDQSxLQUFBLE1BRUEsS0FBQSxPQUFBLE1BQ0EsTUFBQSxFQUFBLEVBQ0EsS0FBQSxNQUtBLFdBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLEtBQ0EsTUFBQSxPQUlBLEtBSEEsR0FBQSxHQUFBLEdBQ0EsRUFBQSxFQUNBLEdBQUEsRUFDQSxLQUFBLE1BQUEsS0FBQSxLQUFBLFFBQUEsQ0FDQSxHQUFBLEdBQUEsS0FBQSxLQUFBLE9BQUEsS0FBQSxNQUVBLElBREEsR0FBQSxFQUNBLEVBQUEsQ0FDQSxHQUFBLE1BQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxLQUFBLEtBQUEsVUFBQSxLQUFBLE1BQUEsRUFBQSxLQUFBLE1BQUEsRUFDQSxHQUFBLE1BQUEsZ0JBQ0EsS0FBQSxXQUFBLDhCQUFBLEVBQUEsS0FDQSxLQUFBLE9BQUEsRUFDQSxHQUFBLE9BQUEsYUFBQSxTQUFBLEVBQUEsU0FDQSxDQUNBLEdBQUEsR0FBQSxHQUFBLEVBQ0EsSUFBQSxHQUFBLEVBRUEsR0FBQSxNQUNBLElBQUEsT0FBQSxFQUNBLEdBQUEsTUFDQSxDQUFBLEdBQUEsSUFBQSxFQVNBLE1BUkEsTUFBQSxZQUNBLE1BQUEsT0FBQSxNQUNBLE1BQUEsRUFDQSxLQUFBLEVBQ0EsT0FBQSxFQUNBLFVBQUEsRUFDQSxHQUFBLFdBQUEsTUFBQSxLQUlBLElBQUEsRUFFQSxLQUFBLFFBRUEsS0FBQSxXQUFBLHFCQUFBLElBWUEsSUFBQSxJQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsS0FBQSxNQUFBLEVBQ0EsS0FBQSxRQUFBLEVBQ0EsS0FBQSxRQUFBLEVBR0EsSUFBQSxLQUFBLEVBQUEsV0FDQSxNQUFBLEtBRUEsY0FBQSxFQUNBLFVBQUEsSUFHQSxHQUFBLFdBQ0EsWUFBQSxHQUVBLE1BQUEsU0FBQSxHQUNBLEtBQUEsS0FBQSxFQUNBLEtBQUEsT0FBQSxLQUFBLE1BQUEsSUFBQSxFQUVBLElBQUEsR0FBQSxLQUFBLFlBU0EsT0FQQSxLQUFBLEtBQUEsT0FBQSxRQUNBLEtBQUEsV0FBQSx5QkFBQSxLQUFBLE9BQUEsSUFHQSxFQUFBLFVBQUEsRUFBQSxRQUNBLEVBQUEsV0FBQSxFQUFBLFNBRUEsR0FHQSxRQUFBLFdBQ0EsR0FBQSxFQUNBLElBQUEsS0FBQSxPQUFBLEtBQ0EsRUFBQSxLQUFBLGNBQ0EsS0FBQSxRQUFBLFNBQ0EsSUFBQSxLQUFBLE9BQUEsS0FDQSxFQUFBLEtBQUEsdUJBQ0EsSUFBQSxLQUFBLE9BQUEsS0FDQSxFQUFBLEtBQUEsYUFDQSxDQUNBLEdBQUEsR0FBQSxLQUFBLFFBQ0EsR0FBQSxFQUFBLEdBQ0EsR0FDQSxLQUFBLFdBQUEsMkJBQUEsR0FFQSxFQUFBLFdBQ0EsRUFBQSxVQUFBLEVBQ0EsRUFBQSxTQUFBLEdBS0EsSUFEQSxHQUFBLEdBQUEsRUFDQSxFQUFBLEtBQUEsT0FBQSxJQUFBLElBQUEsTUFDQSxNQUFBLEVBQUEsTUFDQSxFQUFBLEtBQUEsYUFBQSxFQUFBLEdBQ0EsRUFBQSxNQUNBLE1BQUEsRUFBQSxNQUNBLEVBQUEsRUFDQSxFQUFBLEtBQUEsWUFBQSxJQUNBLE1BQUEsRUFBQSxNQUNBLEVBQUEsRUFDQSxFQUFBLEtBQUEsWUFBQSxJQUVBLEtBQUEsV0FBQSxhQUdBLE9BQUEsSUFHQSxXQUFBLFNBQUEsRUFBQSxHQUNBLEtBQUEsSUFBQSxTQUNBLHlGQUNBLEVBQUEsS0FBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEtBQUEsS0FBQSxLQUFBLEtBQUEsVUFBQSxFQUFBLFNBR0EsVUFBQSxXQUNBLEdBQUEsSUFBQSxLQUFBLE9BQUEsT0FDQSxLQUFBLElBQUEsT0FBQSxvQ0FBQSxLQUFBLEtBQ0EsT0FBQSxNQUFBLE9BQUEsSUFHQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEtBQUEsT0FBQSxPQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsS0FBQSxPQUFBLEdBQ0EsRUFBQSxFQUFBLElBQ0EsSUFBQSxJQUFBLEdBQUEsSUFBQSxHQUFBLElBQUEsR0FBQSxJQUFBLElBQ0EsSUFBQSxJQUFBLElBQUEsRUFDQSxNQUFBLEdBR0EsT0FBQSxHQUdBLE9BQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFDQSxPQUFBLElBQ0EsS0FBQSxPQUFBLFFBQ0EsSUFFQSxHQUdBLFFBQUEsU0FBQSxHQUNBLEtBQUEsT0FBQSxJQUNBLEtBQUEsV0FBQSw2QkFBQSxFQUFBLElBQUEsS0FBQSxTQUlBLFFBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxFQUFBLEVBQUEsS0FFQSxTQUFBLEVBQUEsU0FDQSxRQUFBLE1BSUEsU0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxLQUVBLFNBQUEsRUFBQSxVQUFBLEVBQUEsU0FDQSxRQUFBLElBQUEsRUFBQSxNQUlBLFdBQUEsV0FFQSxJQURBLEdBQUEsUUFJQSxHQUZBLEtBQUEsT0FBQSxPQUFBLElBQUEsS0FBQSxLQUFBLElBQUEsSUFBQSxJQUFBLE1BQ0EsRUFBQSxLQUFBLEtBQUEsZ0JBQ0EsS0FBQSxPQUFBLEtBR0EsTUFBQSxLQUFBLEVBQUEsT0FDQSxFQUFBLEdBQ0EsU0FBQSxFQUFBLEdBRUEsSUFBQSxHQURBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFFQSxPQUFBLEtBTUEsWUFBQSxXQUdBLElBRkEsR0FDQSxHQURBLEVBQUEsS0FBQSxhQUVBLEVBQUEsS0FBQSxPQUFBLE1BQ0EsRUFBQSxLQUFBLE9BQUEsRUFFQSxPQUFBLElBR0EsT0FBQSxTQUFBLEdBQ0EsR0FFQSxHQUNBLEVBSEEsRUFBQSxLQUFBLFNBQ0EsRUFBQSxLQUFBLFFBQUEsRUFBQSxLQUlBLElBQUEsS0FBQSxLQUFBLEtBR0EsSUFGQSxLQUNBLEtBQ0EsS0FBQSxPQUFBLE1BQ0EsRUFBQSxLQUFBLEtBQUEsYUFJQSxJQUFBLElBQUEsR0FBQSxPQUFBLE1BRUEsT0FBQSxHQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFDQSxJQUFBLEVBQUEsQ0FDQSxFQUFBLEdBQUEsQ0FHQSxLQURBLEdBQUEsR0FBQSxFQUFBLE9BQ0EsS0FDQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUdBLE9BQUEsR0FBQSxNQUFBLEVBQUEsR0FHQSxNQUFBLEdBQUEsS0FFQSxVQUFBLEVBQUEsV0FBQSxFQUFBLE1BQUEsSUFDQSxRQUFBLEVBQUEsV0FBQSxLQUlBLFdBQUEsV0FDQSxNQUFBLE1BQUEsY0FHQSxXQUFBLFdBQ0EsR0FDQSxHQUNBLEVBRkEsRUFBQSxLQUFBLFNBR0EsUUFBQSxFQUFBLEtBQUEsT0FBQSxPQUNBLEVBQUEsUUFDQSxLQUFBLFdBQUEsMkJBQ0EsS0FBQSxLQUFBLFVBQUEsRUFBQSxFQUFBLE9BQUEsMkJBQUEsR0FFQSxFQUFBLEtBQUEsVUFDQSxFQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsS0FFQSxRQUFBLEVBQUEsTUFHQSxHQUdBLFFBQUEsV0FDQSxHQUNBLEdBQ0EsRUFGQSxFQUFBLEtBQUEsV0FHQSxJQUFBLEVBQUEsS0FBQSxPQUFBLEtBQUEsQ0FFQSxHQURBLEVBQUEsS0FBQSxhQUNBLEVBQUEsS0FBQSxPQUFBLEtBQUEsQ0FDQSxHQUFBLEdBQUEsS0FBQSxZQUVBLE9BQUEsR0FBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxLQUVBLFNBQUEsRUFBQSxVQUFBLEVBQUEsVUFBQSxFQUFBLFdBSUEsS0FBQSxXQUFBLGFBQUEsR0FJQSxNQUFBLElBR0EsVUFBQSxXQUdBLElBRkEsR0FDQSxHQURBLEVBQUEsS0FBQSxhQUVBLEVBQUEsS0FBQSxPQUFBLE9BQ0EsRUFBQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxjQUFBLEVBRUEsT0FBQSxJQUdBLFdBQUEsV0FDQSxHQUNBLEdBREEsRUFBQSxLQUFBLFVBS0EsUUFIQSxFQUFBLEtBQUEsT0FBQSxTQUNBLEVBQUEsS0FBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsY0FBQSxJQUVBLEdBR0EsU0FBQSxXQUNBLEdBQ0EsR0FEQSxFQUFBLEtBQUEsWUFLQSxRQUhBLEVBQUEsS0FBQSxPQUFBLEtBQUEsS0FBQSxNQUFBLFVBQ0EsRUFBQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxhQUVBLEdBR0EsV0FBQSxXQUNBLEdBQ0EsR0FEQSxFQUFBLEtBQUEsVUFLQSxRQUhBLEVBQUEsS0FBQSxPQUFBLElBQUEsSUFBQSxLQUFBLFNBQ0EsRUFBQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxlQUVBLEdBR0EsU0FBQSxXQUdBLElBRkEsR0FDQSxHQURBLEVBQUEsS0FBQSxpQkFFQSxFQUFBLEtBQUEsT0FBQSxJQUFBLE1BQ0EsRUFBQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxpQkFFQSxPQUFBLElBR0EsZUFBQSxXQUdBLElBRkEsR0FDQSxHQURBLEVBQUEsS0FBQSxRQUVBLEVBQUEsS0FBQSxPQUFBLElBQUEsSUFBQSxNQUNBLEVBQUEsS0FBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsUUFFQSxPQUFBLElBR0EsTUFBQSxXQUNBLEdBQUEsRUFDQSxPQUFBLE1BQUEsT0FBQSxLQUNBLEtBQUEsV0FDQSxFQUFBLEtBQUEsT0FBQSxNQUNBLEtBQUEsU0FBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsVUFDQSxFQUFBLEtBQUEsT0FBQSxNQUNBLEtBQUEsUUFBQSxFQUFBLEdBQUEsS0FBQSxTQUVBLEtBQUEsV0FJQSxZQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsS0FBQSxLQUNBLEVBQUEsS0FBQSxTQUFBLEtBQ0EsRUFBQSxHQUFBLEVBQUEsS0FBQSxRQUFBLEVBRUEsT0FBQSxHQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLE1BRUEsT0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFFQSxPQURBLElBQUEsRUFBQSxPQUFBLEVBQUEsTUFDQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BS0EsWUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQUEsS0FFQSxFQUFBLEtBQUEsWUFHQSxPQUZBLE1BQUEsUUFBQSxLQUVBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsR0FFQSxHQUZBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFJQSxPQURBLElBQUEsRUFBQSxHQUNBLEVBQ0EsRUFBQSxHQUFBLEVBQUEsR0FBQSxHQURBLElBSUEsT0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBRUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBRUEsT0FEQSxJQUFBLEVBQUEsT0FBQSxFQUFBLE1BQ0EsRUFBQSxHQUFBLE1BS0EsYUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEtBQ0EsSUFBQSxNQUFBLEtBQUEsWUFBQSxLQUNBLEVBQ0EsR0FBQSxLQUFBLEtBQUEsb0JBQ0EsS0FBQSxPQUFBLEtBRUEsTUFBQSxRQUFBLElBRUEsSUFBQSxHQUFBLEtBQUEsS0FFQSxFQUFBLEVBQUEsVUFBQSxJQUVBLE9BQUEsVUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsQ0FFQSxJQUFBLEVBRUEsSUFEQSxHQUFBLEdBQUEsRUFBQSxPQUNBLEtBQ0EsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUlBLElBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxFQUdBLElBQUEsR0FBQSxFQUFBLE1BQ0EsRUFBQSxNQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEdBRUEsT0FBQSxJQUFBLEVBQUEsS0FLQSxpQkFBQSxXQUNBLEdBQUEsS0FDQSxJQUFBLE1BQUEsS0FBQSxZQUFBLEtBQ0EsRUFBQSxDQUNBLEdBQUEsS0FBQSxLQUFBLEtBRUEsS0FFQSxJQUFBLEdBQUEsS0FBQSxZQUNBLEdBQUEsS0FBQSxTQUNBLEtBQUEsT0FBQSxLQUlBLE9BRkEsTUFBQSxRQUFBLEtBRUEsRUFBQSxTQUFBLEVBQUEsR0FFQSxJQUFBLEdBREEsTUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEdBRUEsT0FBQSxLQUVBLFNBQUEsRUFDQSxTQUFBLEVBQUEsTUFBQSxJQUNBLE9BQUEsS0FJQSxPQUFBLFdBQ0EsR0FBQSxNQUFBLElBQ0EsSUFBQSxNQUFBLEtBQUEsWUFBQSxLQUNBLEVBQUEsQ0FDQSxHQUFBLEtBQUEsS0FBQSxLQUVBLEtBRUEsSUFBQSxHQUFBLEtBQUEsUUFDQSxHQUFBLEtBQUEsRUFBQSxRQUFBLEVBQUEsTUFDQSxLQUFBLFFBQUEsSUFDQSxJQUFBLEdBQUEsS0FBQSxZQUNBLEdBQUEsS0FBQSxTQUNBLEtBQUEsT0FBQSxLQUlBLE9BRkEsTUFBQSxRQUFBLEtBRUEsRUFBQSxTQUFBLEVBQUEsR0FFQSxJQUFBLEdBREEsTUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsRUFFQSxPQUFBLEtBRUEsU0FBQSxFQUNBLFNBQUEsRUFBQSxNQUFBLElBQ0EsT0FBQSxLQTZCQSxJQUFBLElBQUEsS0E4RkEsR0FBQSxPQUFBLFVBQUEsUUEydUVBLEdBQUEsRUFBQSxRQUVBLElBQ0EsS0FBQSxPQUNBLElBQUEsTUFDQSxJQUFBLE1BR0EsYUFBQSxjQUNBLEdBQUEsTUFvbUNBLEdBQUEsRUFBQSxZQWlSQSxHQUFBLEVBQUEsY0FBQSxLQUNBLEdBQUEsR0FBQSxFQUFBLFNBQUEsTUFBQSxFQXdPQSxJQUFBLFNBQUEsWUF5VUEsR0FBQSxTQUFBLFdBd0VBLEdBQUEsU0FBQSxVQWFBLElBQUEsSUFBQSxJQTZKQSxJQUNBLEtBQUEsR0FBQSxXQUFBLEdBQ0EsR0FBQSxHQUFBLFdBQUEsRUFBQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLFdBQUEsR0FDQSxLQUFBLEdBQUEsU0FDQSxJQUFBLEdBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxRQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsUUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLE9BQUEsR0FDQSxFQUFBLEdBQUEsT0FBQSxHQUNBLEdBQUEsR0FBQSxRQUFBLEdBQ0EsRUFBQSxHQUFBLFFBQUEsR0FDQSxHQUFBLEdBQUEsUUFBQSxFQUFBLEtBQ0EsRUFBQSxHQUFBLFFBQUEsRUFBQSxLQUNBLEdBQUEsR0FBQSxVQUFBLEdBQ0EsRUFBQSxHQUFBLFVBQUEsR0FDQSxHQUFBLEdBQUEsVUFBQSxHQUNBLEVBQUEsR0FBQSxVQUFBLEdBR0EsSUFBQSxHQUFBLGVBQUEsR0FDQSxLQUFBLEdBQUEsT0FDQSxJQUFBLEdBQUEsT0FBQSxHQUNBLEVBQUEsR0FDQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLElBR0EsR0FBQSxtRkFDQSxHQUFBLFVBMkZBLElBQUEsU0FBQSxVQXVIQSxJQUFBLElBQUEsRUFBQSxJQVdBLEdBQUEsRUFBQSxHQXdQQSxJQUFBLFNBQUEsU0EyRkEsSUFBQSxJQUFBLEdBQ0EsU0FBQSxJQUNBLFFBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLE1BQUEsRUFBQSxXQUFBLEVBQUEsS0FBQSxPQUNBLFNBQUEsRUFBQSxHQUVBLEdBQUEsR0FBQSwrQkFBQSxHQUFBLEtBQUEsRUFBQSxLQUFBLFNBQ0EsYUFBQSxNQUNBLEdBQUEsR0FBQSxRQUFBLFNBQUEsR0FFQSxFQUFBLEtBQUEsSUFDQSxFQUFBLHVCQTRWQSxLQUlBLEdBQUEsR0FBQSxTQUFBLEVBQUEsR0FFQSxHQUFBLFlBQUEsRUFBQSxDQUVBLEdBQUEsR0FBQSxHQUFBLE1BQUEsRUFDQSxJQUFBLEdBQUEsV0FDQSxPQUNBLFNBQUEsSUFDQSxTQUFBLElBQ0EsS0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsT0FBQSxFQUFBLEdBQUEsU0FBQSxHQUNBLEVBQUEsS0FBQSxJQUFBLFdBUUEsRUFBQSxHQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxXQUNBLE9BQ0EsU0FBQSxJQUNBLEtBQUEsU0FBQSxFQUFBLEVBQUEsR0FHQSxHQUFBLGNBQUEsR0FBQSxLQUFBLEVBQUEsVUFBQSxPQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxVQUFBLE1BQUEsR0FDQSxJQUFBLEVBRUEsV0FEQSxHQUFBLEtBQUEsWUFBQSxHQUFBLFFBQUEsRUFBQSxHQUFBLEVBQUEsS0FLQSxFQUFBLE9BQUEsRUFBQSxHQUFBLFNBQUEsR0FDQSxFQUFBLEtBQUEsRUFBQSxVQVFBLEdBQUEsTUFBQSxTQUFBLFFBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLE1BQUEsRUFDQSxJQUFBLEdBQUEsV0FDQSxPQUNBLFNBQUEsR0FDQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQ0EsRUFBQSxDQUVBLFVBQUEsR0FDQSwrQkFBQSxHQUFBLEtBQUEsRUFBQSxLQUFBLFdBQ0EsRUFBQSxZQUNBLEVBQUEsTUFBQSxHQUFBLGFBQ0EsRUFBQSxNQUdBLEVBQUEsU0FBQSxFQUFBLFNBQUEsR0FDQSxNQUFBLElBT0EsRUFBQSxLQUFBLEVBQUEsUUFNQSxJQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxXQVpBLFNBQUEsR0FDQSxFQUFBLEtBQUEsRUFBQSxhQW9CQSxJQUFBLEtBQ0EsWUFBQSxFQUNBLGdCQUFBLEdBQ0EsZUFBQSxFQUNBLGFBQUEsRUFDQSxVQUFBLEVBQ0EsYUFBQSxFQUNBLGNBQUEsR0FFQSxHQUFBLGNBZ0RBLElBQUEsU0FBQSxXQUFBLFNBQUEsU0FBQSxXQUFBLGVBa1lBLElBQUEsSUFBQSxTQUFBLEdBQ0EsT0FBQSxXQUFBLFNBQUEsR0FDQSxHQUFBLElBQ0EsS0FBQSxPQUNBLFNBQUEsRUFBQSxNQUFBLElBQ0EsV0FBQSxHQUNBLFFBQUEsU0FBQSxHQUlBLE1BRkEsR0FBQSxTQUFBLElBQUEsU0FBQSxLQUdBLElBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUVBLEtBQUEsVUFBQSxJQUFBLENBT0EsR0FBQSxHQUFBLFNBQUEsR0FDQSxFQUFBLE9BQUEsV0FDQSxFQUFBLG1CQUNBLEVBQUEsa0JBR0EsRUFBQSxlQUNBLEVBQUEsaUJBQ0EsRUFBQSxhQUFBLEVBR0EsSUFBQSxFQUFBLEdBQUEsU0FBQSxHQUlBLEVBQUEsR0FBQSxXQUFBLFdBQ0EsRUFBQSxXQUNBLEdBQUEsRUFBQSxHQUFBLFNBQUEsSUFDQSxHQUFBLEtBSUEsR0FBQSxHQUFBLEVBQUEsYUFDQSxFQUFBLEVBQUEsS0FFQSxLQUNBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLFNBQUEsRUFBQSxLQUFBLE9BQUEsU0FBQSxTQUFBLEdBQ0EsSUFBQSxJQUNBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQ0EsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsZ0JBQUEsRUFBQSxPQUdBLEVBQUEsR0FBQSxXQUFBLFdBQ0EsRUFBQSxlQUFBLEdBQ0EsR0FDQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxFQUFBLFNBT0EsT0FBQSxNQUlBLEdBQUEsS0FDQSxHQUFBLElBQUEsR0FXQSxHQUFBLDJFQUNBLEdBQUEsc0ZBQ0EsR0FBQSxvR0FDQSxHQUFBLHFDQUNBLEdBQUEsNEJBQ0EsR0FBQSxnRUFDQSxHQUFBLG9CQUNBLEdBQUEsbUJBQ0EsR0FBQSwwQ0FDQSxHQUFBLHdCQUVBLEdBQUEsR0FBQSxHQUFBLFdBRUEsSUFpRkEsS0FBQSxHQTJGQSxLQUFBLEdBQUEsT0FBQSxHQUNBLEdBQUEsSUFBQSxPQUFBLEtBQUEsT0FDQSxjQXlGQSxpQkFBQSxHQUFBLGdCQUFBLEdBQ0EsR0FBQSxJQUFBLE9BQUEsS0FBQSxLQUFBLEtBQUEsS0FBQSxLQUFBLFFBQ0EsMkJBMEZBLEtBQUEsR0FBQSxPQUFBLEdBQ0EsR0FBQSxJQUFBLEtBQUEsS0FBQSxLQUFBLFFBQ0EsZ0JBeUZBLEtBQUEsR0FBQSxPQUFBLEdBQUEsR0FBQSxZQTJGQSxNQUFBLEdBQUEsUUFBQSxHQUNBLEdBQUEsSUFBQSxPQUFBLE9BQ0EsV0ErRUEsT0FBQSxHQW1GQSxJQUFBLEdBa0ZBLE1BQUEsR0FvREEsTUFBQSxHQW9EQSxTQUFBLEdBRUEsT0FBQSxFQUNBLE9BQUEsRUFDQSxPQUFBLEVBQ0EsTUFBQSxFQUNBLEtBQUEsR0FxakJBLElBQUEsV0FBQSxXQUFBLFVBQUEsU0FDQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsT0FDQSxTQUFBLElBQ0EsU0FBQSxZQUNBLE1BQ0EsSUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxLQUNBLEdBQUEsR0FBQSxFQUFBLFFBQUEsR0FBQSxNQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUNBLEVBQUEsRUFBQSxRQU9BLEdBQUEsV0FDQSxHQUFBLGFBQ0EsR0FBQSxjQUNBLEdBQUEsV0FDQSxHQUFBLGVBQ0EsR0FBQSxhQUNBLEdBQUEsYUFnTUEsSUFBQSxTQUFBLG9CQUFBLFNBQUEsV0FBQSxTQUFBLFdBQUEsV0FBQSxhQUFBLEtBQUEsZUFDQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsS0FBQSxXQUFBLE9BQUEsSUFDQSxLQUFBLFlBQUEsT0FBQSxJQUNBLEtBQUEsZUFDQSxLQUFBLG9CQUNBLEtBQUEsWUFDQSxLQUFBLGVBQ0EsS0FBQSx3QkFDQSxLQUFBLFlBQUEsRUFDQSxLQUFBLFVBQUEsRUFDQSxLQUFBLFdBQUEsRUFDQSxLQUFBLFFBQUEsRUFDQSxLQUFBLFFBQUEsRUFDQSxLQUFBLFVBQUEsRUFDQSxLQUFBLFVBQ0EsS0FBQSxhQUNBLEtBQUEsU0FBQSxFQUNBLEtBQUEsTUFBQSxFQUFBLEVBQUEsTUFBQSxJQUFBLEdBQUEsRUFHQSxJQUFBLEdBQUEsRUFBQSxFQUFBLFNBQ0EsRUFBQSxLQUNBLEVBQUEsS0FFQSxFQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFJQSxPQUhBLEdBQUEsVUFBQSxFQUFBLFNBQUEsY0FBQSxFQUFBLEtBQ0EsRUFBQSxLQUVBLEdBR0EsRUFBQSxXQUNBLEdBQUEsRUFDQSxHQUFBLFVBQUEsRUFBQSxTQUFBLGNBQ0EsRUFBQSxFQUFBLEVBQUEsSUFFQSxFQUFBLEVBQUEsYUFFQSxFQUFBLE9BQUEsRUFBQSxFQUFBLGFBSUEsTUFBQSxhQUFBLFNBQUEsR0FHQSxHQUZBLEVBQUEsU0FBQSxJQUVBLEVBQUEsUUFBQSxHQUFBLEVBQUEsY0FDQSxLQUFBLElBQUEsWUFBQSxtREFDQSxFQUFBLFFBQUEsRUFBQSxLQXdCQSxLQUFBLFFBQUEsRUFtQkEsS0FBQSxTQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsSUFBQSxLQUFBLEdBQUEsT0FBQSxHQUFBLElBQUEsRUFHQSxJQUFBLEdBQUEsRUFBQSxjQUFBLG9CQUFBLEdBQ0EsRUFBQSxDQXdCQSxLQUNBLEtBQUEsS0FDQSxTQUFBLEVBQ0EsSUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLElBQUEsR0FFQSxNQUFBLFNBQUEsRUFBQSxTQUNBLEdBQUEsSUFFQSxXQUFBLEVBQ0EsU0FBQSxJQWNBLEtBQUEsYUFBQSxXQUNBLEVBQUEsUUFBQSxFQUNBLEVBQUEsV0FBQSxFQUNBLEVBQUEsWUFBQSxFQUFBLElBQ0EsRUFBQSxTQUFBLEVBQUEsS0FlQSxLQUFBLGNBQUEsV0FDQSxFQUFBLFVBQUEsRUFDQSxFQUFBLFlBQUEsRUFDQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEtBZUEsS0FBQSxZQUFBLFdBQ0EsRUFBQSxVQUFBLEVBQ0EsRUFBQSxZQUFBLEVBQ0EsRUFBQSxTQUFBLEVBQUEsR0FBQSxLQThEQSxLQUFBLG1CQUFBLFdBQ0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxXQUFBLEVBQUEseUJBQ0EsRUFBQSxXQVVBLEtBQUEsVUFBQSxXQUVBLEVBQUEsRUFBQSxjQUFBLE1BQUEsRUFBQSxjQUdBLEtBQUEsc0JBR0EsS0FBQSxnQkFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBZUEsUUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsY0FBQSxPQUNBLElBQUEsSUFBQSxFQUNBLEVBQUEsRUFBQSxVQUdBLElBREEsRUFBQSxFQUFBLElBQ0EsRUFPQSxNQU5BLEdBQUEsRUFBQSxZQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxRQUVBLEVBQUEsRUFBQSxpQkFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsU0FFQSxDQUdBLFFBQUEsRUFHQSxRQUFBLEtBQ0EsR0FBQSxJQUFBLENBTUEsT0FMQSxHQUFBLEVBQUEsWUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQ0EsR0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLEtBRUEsR0FNQSxHQUxBLEVBQUEsRUFBQSxpQkFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsU0FFQSxHQUtBLFFBQUEsS0FDQSxHQUFBLE1BQ0EsR0FBQSxDQUNBLEdBQUEsRUFBQSxpQkFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQ0EsS0FBQSxFQUFBLEdBQ0EsS0FBQSxJQUFBLG1CQUNBLDZFQUFBLEVBRUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsS0FBQSxXQUNBLEVBQUEsR0FBQSxJQUNBLFdBQ0EsR0FBQSxFQUNBLEVBQUEsR0FBQSxRQUdBLEVBQUEsT0FHQSxFQUFBLElBQUEsR0FBQSxLQUFBLFdBQ0EsRUFBQSxJQUNBLEdBSkEsR0FBQSxHQVFBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsSUFBQSxHQUNBLEVBQUEsYUFBQSxFQUFBLEdBSUEsUUFBQSxHQUFBLEdBQ0EsSUFBQSxHQUVBLEVBQUEsR0FwRkEsR0FDQSxJQUFBLEdBQUEsQ0FHQSxPQUFBLEdBQUEsSUFJQSxRQUlBLFNBUEEsSUFBQSxJQStGQSxLQUFBLGlCQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsVUFFQSxHQUFBLE9BQUEsSUFLQSxFQUFBLDJCQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEseUJBR0EsRUFBQSx5QkFBQSxFQUdBLEVBQUEsWUFDQSxFQUFBLFFBQUEsRUFDQSxFQUFBLFdBQUEsRUFDQSxFQUFBLFlBQUEsRUFBQSxJQUNBLEVBQUEsU0FBQSxFQUFBLElBQ0EsRUFBQSxhQUVBLEtBQUEsdUJBR0EsS0FBQSxtQkFBQSxXQW1DQSxRQUFBLEtBQ0EsRUFBQSxjQUFBLEdBQ0EsRUFBQSxzQkFwQ0EsR0FBQSxHQUFBLEVBQUEseUJBQ0EsRUFBQSxFQUNBLEVBQUEsRUFBQSxHQUFBLEdBQUEsQ0FFQSxJQUFBLEVBQ0EsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsU0FBQSxPQUFBLElBRUEsR0FEQSxFQUFBLEVBQUEsU0FBQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLENBQ0EsR0FBQSxDQUNBLE9BSUEsRUFBQSxFQUFBLGNBQUEsTUFBQSxFQUFBLGVBRUEsRUFBQSxZQUFBLElBRUEsSUFBQSxHQUFBLEVBQUEsWUFDQSxFQUFBLEVBQUEsVUFBQSxFQUFBLFNBQUEsWUFDQSxLQUNBLEVBQUEsWUFBQSxFQUNBLEtBRUEsRUFBQSxnQkFBQSxFQUFBLEVBQUEsRUFBQSxTQUFBLEdBQ0EsSUFLQSxFQUFBLFlBQUEsRUFBQSxFQUFBLEVBQ0EsUUFXQSxLQUFBLG9CQUFBLFdBQ0EsRUFBQSxFQUFBLGFBQ0EsRUFBQSxFQUFBLHFCQUFBLFNBQUEsR0FDQSxJQUNBLElBQ0EsTUFBQSxHQUNBLEVBQUEsT0E2Q0EsS0FBQSxjQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsV0FBQSxJQUNBLEVBQUEsVUFBQSxFQUFBLFNBQUEsa0JBQ0EsRUFBQSwwQkFBQSxJQUlBLEtBQUEsMEJBQUEsU0FBQSxHQUNBLEdBRUEsR0FGQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLFFBR0EsSUFBQSxFQUFBLEVBQUEsWUFDQSxFQUFBLEVBQUEsU0FDQSxFQUFBLEdBQ0EsRUFBQSxFQUNBLEVBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxjQUNBLEVBQUEsRUFBQSxhQUlBLEVBQUEsT0FBQSxHQUNBLEVBQ0EsRUFBQSxFQUFBLFdBQ0EsRUFBQSxvQkFDQSxHQUNBLEVBQUEsUUFDQSxFQUFBLG1CQUVBLEVBQUEsT0FBQSxXQUNBLEVBQUEsc0JBYUEsRUFBQSxPQUFBLFdBQ0EsR0FBQSxHQUFBLEdBSUEsSUFBQSxJQUFBLEVBQUEsWUFBQSxDQUNBLEVBQUEsWUFBQSxDQU1BLEtBSkEsR0FBQSxHQUFBLEVBQUEsWUFDQSxFQUFBLEVBQUEsT0FFQSxFQUFBLEVBQ0EsS0FDQSxFQUFBLEVBQUEsR0FBQSxFQUVBLEdBQUEsYUFBQSxJQUNBLEVBQUEsV0FBQSxFQUFBLHlCQUFBLEVBQ0EsRUFBQSxVQUVBLEVBQUEsZ0JBQUEsRUFBQSxFQUFBLEVBQUEsSUFJQSxNQUFBLE9Bd0tBLEdBQUEsV0FDQSxPQUNBLFNBQUEsSUFDQSxTQUFBLFVBQUEsU0FBQSxvQkFDQSxXQUFBLEdBSUEsU0FBQSxFQUNBLFFBQUEsU0FBQSxHQUlBLE1BRkEsR0FBQSxTQUFBLElBQUEsU0FBQSxJQUFBLFNBQUEsS0FHQSxJQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxJQUFBLEVBRUEsR0FBQSxhQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsVUFHQSxFQUFBLFlBQUEsR0FFQSxFQUFBLFNBQUEsT0FBQSxTQUFBLEdBQ0EsRUFBQSxRQUFBLEdBQ0EsRUFBQSxnQkFBQSxFQUFBLEtBSUEsRUFBQSxJQUFBLFdBQUEsV0FDQSxFQUFBLGVBQUEsTUFHQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLEdBQUEsVUFBQSxFQUFBLFNBQUEsVUFDQSxFQUFBLEdBQUEsRUFBQSxTQUFBLFNBQUEsU0FBQSxHQUNBLEVBQUEsMEJBQUEsR0FBQSxFQUFBLFFBSUEsRUFBQSxHQUFBLE9BQUEsV0FDQSxFQUFBLFVBRUEsRUFBQSxPQUFBLFdBQ0EsRUFBQSx1QkE2RUEsR0FBQSxHQUNBLFNBQUEsSUFDQSxRQUFBLFVBQ0EsS0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxxQkFBQSxLQUFBLFdBQ0EsRUFBQSxNQUFBLEVBQUEsZUFNQSxHQUFBLFdBQ0EsT0FDQSxTQUFBLElBQ0EsUUFBQSxXQUNBLEtBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLElBQ0EsRUFBQSxVQUFBLEVBRUEsRUFBQSxZQUFBLFNBQUEsU0FBQSxHQUNBLE9BQUEsRUFBQSxXQUFBLEVBQUEsU0FBQSxJQUdBLEVBQUEsU0FBQSxXQUFBLFdBQ0EsRUFBQSxrQkFPQSxHQUFBLFdBQ0EsT0FDQSxTQUFBLElBQ0EsUUFBQSxXQUNBLEtBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxDQUVBLEdBQUEsR0FBQSxFQUFBLEVBQUEsV0FBQSxFQUFBLE9BQ0EsR0FBQSxTQUFBLFVBQUEsU0FBQSxHQUtBLEdBSkEsRUFBQSxJQUFBLEVBQUEsT0FBQSxJQUNBLEVBQUEsR0FBQSxRQUFBLElBR0EsSUFBQSxFQUFBLEtBQ0EsS0FBQSxHQUFBLGFBQUEsV0FDQSx3REFBQSxFQUNBLEVBQUEsRUFBQSxHQUdBLEdBQUEsR0FBQSxFQUNBLEVBQUEsY0FHQSxFQUFBLFlBQUEsUUFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLFNBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxLQUFBLFFBT0EsR0FBQSxXQUNBLE9BQ0EsU0FBQSxJQUNBLFFBQUEsV0FDQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsQ0FFQSxHQUFBLEdBQUEsQ0FDQSxHQUFBLFNBQUEsWUFBQSxTQUFBLEdBQ0EsRUFBQSxFQUFBLElBQUEsRUFDQSxFQUFBLGNBRUEsRUFBQSxZQUFBLFVBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLFNBQUEsSUFBQSxFQUFBLFFBQUEsT0FNQSxHQUFBLFdBQ0EsT0FDQSxTQUFBLElBQ0EsUUFBQSxXQUNBLEtBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxDQUVBLEdBQUEsR0FBQSxDQUNBLEdBQUEsU0FBQSxZQUFBLFNBQUEsR0FDQSxFQUFBLEVBQUEsSUFBQSxFQUNBLEVBQUEsY0FFQSxFQUFBLFlBQUEsVUFBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsU0FBQSxJQUFBLEVBQUEsUUFBQSxPQXlGQSxHQUFBLFdBQ0EsT0FDQSxTQUFBLElBQ0EsU0FBQSxJQUNBLFFBQUEsVUFDQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FHQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxTQUFBLEtBQ0EsRUFBQSxVQUFBLEVBQUEsT0FDQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBRUEsRUFBQSxTQUFBLEdBRUEsSUFBQSxFQUFBLEdBQUEsQ0FFQSxHQUFBLEtBUUEsT0FOQSxJQUNBLEVBQUEsRUFBQSxNQUFBLEdBQUEsU0FBQSxHQUNBLEdBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLEtBSUEsR0FHQSxHQUFBLFNBQUEsS0FBQSxHQUNBLEVBQUEsWUFBQSxLQUFBLFNBQUEsR0FDQSxNQUFBLElBQUEsR0FDQSxFQUFBLEtBQUEsR0FHQSxJQUlBLEVBQUEsU0FBQSxTQUFBLEdBQ0EsT0FBQSxJQUFBLEVBQUEsV0FPQSxHQUFBLHFCQXFEQSxHQUFBLFdBQ0EsT0FDQSxTQUFBLElBQ0EsU0FBQSxJQUNBLFFBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxJQUFBLEtBQUEsRUFBQSxTQUNBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxLQUFBLFFBQUEsRUFBQSxNQUFBLEVBQUEsV0FHQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsT0FBQSxFQUFBLFFBQUEsU0FBQSxHQUNBLEVBQUEsS0FBQSxRQUFBLFNBOEpBLEdBQUEsV0FDQSxPQUNBLFNBQUEsSUFDQSxZQUFBLFNBQUEsU0FBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsSUFDQSxNQUFBLFNBQUEsRUFBQSxNQUFBLEVBQUEsZ0JBRUEsS0FBQSxTQUFBLFdBQUEsR0FDQSxLQUFBLFNBQUEsaUJBQUEsRUFFQSxLQUFBLFNBQUEsU0FBQSxHQUFBLEtBQUEsU0FBQSxTQUFBLFFBQUEsR0FBQSxXQUVBLE1BREEsR0FBQSxTQUFBLGlCQUFBLEVBQ0EsUUFHQSxLQUFBLFNBQUEsaUJBQUEsTUFpS0EsSUFBQSxXQUFBLFNBQUEsR0FDQSxPQUNBLFNBQUEsS0FDQSxRQUFBLFNBQUEsR0FFQSxNQURBLEdBQUEsa0JBQUEsR0FDQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsaUJBQUEsRUFBQSxFQUFBLFFBQ0EsRUFBQSxFQUFBLEdBQ0EsRUFBQSxPQUFBLEVBQUEsT0FBQSxTQUFBLEdBQ0EsRUFBQSxZQUFBLElBQUEsRUFBQSxHQUFBLFNBMkRBLElBQUEsZUFBQSxXQUFBLFNBQUEsRUFBQSxHQUNBLE9BQ0EsUUFBQSxTQUFBLEdBRUEsTUFEQSxHQUFBLGtCQUFBLEdBQ0EsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLGdCQUNBLEdBQUEsaUJBQUEsRUFBQSxFQUFBLGFBQ0EsRUFBQSxFQUFBLEdBQ0EsRUFBQSxTQUFBLGlCQUFBLFNBQUEsR0FDQSxFQUFBLFlBQUEsSUFBQSxFQUFBLEdBQUEsU0F3REEsSUFBQSxPQUFBLFNBQUEsV0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE9BQ0EsU0FBQSxJQUNBLFFBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxZQUNBLEVBQUEsRUFBQSxFQUFBLFdBQUEsU0FBQSxHQUNBLE9BQUEsR0FBQSxJQUFBLFlBSUEsT0FGQSxHQUFBLGtCQUFBLEdBRUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLGlCQUFBLEVBQUEsRUFBQSxZQUVBLEVBQUEsT0FBQSxFQUFBLFdBR0EsRUFBQSxLQUFBLEVBQUEsZUFBQSxFQUFBLEtBQUEsV0F5UUEsR0FBQSxHQUFBLElBQUEsR0FnREEsR0FBQSxHQUFBLE1BQUEsR0FnREEsR0FBQSxHQUFBLE9BQUEsR0EwREEsR0FBQSxJQUNBLFFBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxLQUFBLFVBQUEsR0FDQSxFQUFBLFlBQUEsZUFzT0EsSUFBQSxXQUNBLE9BQ0EsU0FBQSxJQUNBLE9BQUEsRUFDQSxXQUFBLElBQ0EsU0FBQSxPQXFOQSxNQUtBLElBQ0EsTUFBQSxFQUNBLE9BQUEsRUFFQSxHQUNBLDhJQUFBLE1BQUEsS0FDQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsTUFBQSxFQUNBLElBQUEsSUFBQSxTQUFBLGFBQUEsU0FBQSxFQUFBLEdBQ0EsT0FDQSxTQUFBLElBQ0EsUUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsT0FBQSxVQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLFdBQ0EsRUFBQSxHQUFBLE9BQUEsSUFFQSxJQUFBLElBQUEsRUFBQSxRQUNBLEVBQUEsV0FBQSxHQUVBLEVBQUEsT0FBQSxXQThlQSxJQUFBLEtBQUEsV0FBQSxTQUFBLEdBQ0EsT0FDQSxjQUFBLEVBQ0EsV0FBQSxVQUNBLFNBQUEsSUFDQSxVQUFBLEVBQ0EsU0FBQSxJQUNBLE9BQUEsRUFDQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLENBQ0EsR0FBQSxPQUFBLEVBQUEsS0FBQSxTQUFBLEdBRUEsRUFDQSxHQUNBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUNBLEVBQUEsRUFBQSxVQUFBLEVBQUEsY0FBQSxjQUFBLEVBQUEsS0FBQSxLQUlBLEdBQ0EsTUFBQSxHQUVBLEVBQUEsTUFBQSxFQUFBLEVBQUEsU0FBQSxNQUlBLElBQ0EsRUFBQSxTQUNBLEVBQUEsTUFFQSxJQUNBLEVBQUEsV0FDQSxFQUFBLE1BRUEsSUFDQSxFQUFBLEdBQUEsRUFBQSxPQUNBLEVBQUEsTUFBQSxHQUFBLEtBQUEsV0FDQSxFQUFBLE9BRUEsRUFBQSxhQTBMQSxJQUFBLG1CQUFBLGdCQUFBLFdBQUEsT0FDQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsT0FDQSxTQUFBLE1BQ0EsU0FBQSxJQUNBLFVBQUEsRUFDQSxXQUFBLFVBQ0EsV0FBQSxHQUFBLEtBQ0EsUUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxXQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsUUFBQSxHQUNBLEVBQUEsRUFBQSxVQUVBLE9BQUEsVUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FDQSxHQUNBLEVBQ0EsRUFIQSxFQUFBLEVBS0EsRUFBQSxXQUNBLElBQ0EsRUFBQSxTQUNBLEVBQUEsTUFFQSxJQUNBLEVBQUEsV0FDQSxFQUFBLE1BRUEsSUFDQSxFQUFBLE1BQUEsR0FBQSxLQUFBLFdBQ0EsRUFBQSxPQUVBLEVBQUEsRUFDQSxFQUFBLE1BSUEsR0FBQSxPQUFBLEVBQUEsbUJBQUEsR0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLFlBQ0EsRUFBQSxJQUFBLElBQUEsRUFBQSxNQUFBLElBQ0EsS0FHQSxJQUFBLENBRUEsSUFHQSxFQUFBLEdBQUEsR0FBQSxLQUFBLFNBQUEsR0FDQSxHQUFBLElBQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLE1BQ0EsR0FBQSxTQUFBLENBUUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxTQUFBLEdBQ0EsSUFDQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEdBQUEsS0FBQSxJQUdBLEdBQUEsRUFDQSxFQUFBLEVBRUEsRUFBQSxNQUFBLHdCQUFBLEdBQ0EsRUFBQSxNQUFBLEtBQ0EsV0FDQSxJQUFBLElBQ0EsSUFDQSxFQUFBLE1BQUEsdUJBQUEsTUFHQSxFQUFBLE1BQUEsMkJBQUEsS0FFQSxJQUNBLEVBQUEsU0FBQSxhQWFBLElBQUEsV0FDQSxTQUFBLEdBQ0EsT0FDQSxTQUFBLE1BQ0EsU0FBQSxLQUNBLFFBQUEsWUFDQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLE1BQUEsS0FBQSxFQUFBLEdBQUEsYUFJQSxFQUFBLFlBQ0EsR0FBQSxHQUFBLEVBQUEsU0FBQSxHQUFBLFlBQUEsRUFDQSxTQUFBLEdBQ0EsRUFBQSxPQUFBLElBQ0EsRUFBQSxFQUFBLEtBSUEsRUFBQSxLQUFBLEVBQUEsY0FDQSxHQUFBLEVBQUEsWUFBQSxRQTZEQSxHQUFBLElBQ0EsU0FBQSxJQUNBLFFBQUEsV0FDQSxPQUNBLElBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLE1BQUEsRUFBQSxhQXNDQSxHQUFBLElBQUEsVUFBQSxFQUFBLFNBQUEsTUE4S0EsSUFBQSxVQUFBLGVBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQ0EsUUFDQSxTQUFBLEtBQ0EsS0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLE1BQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLE1BQ0EsRUFBQSxFQUFBLFFBQUEsRUFDQSxFQUFBLEVBQUEsTUFBQSxPQUNBLEtBQ0EsRUFBQSxFQUFBLGNBQ0EsRUFBQSxFQUFBLFlBQ0EsRUFBQSxvQkFFQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxLQUFBLEtBQ0EsRUFBQSxHQUFBLEVBQUEsUUFBQSxPQUFBLElBQUEsUUFBQSxRQUFBLE9BQ0EsRUFBQSxLQUFBLEVBQUEsTUFBQSxPQUdBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLFFBQUEsRUFBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLE1BR0EsRUFBQSxPQUFBLFdBQ0EsR0FBQSxHQUFBLFdBQUEsRUFBQSxNQUFBLEdBRUEsT0FBQSxPQUFBLEdBTUEsSUFIQSxJQUFBLEtBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxJQUNBLEVBQUEsR0FBQSxLQUlBLFNBQUEsR0FDQSxFQUFBLEtBQUEsU0FzTkEsSUFBQSxTQUFBLFdBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLGVBQ0EsRUFBQSxFQUFBLFlBRUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxHQUFBLEVBQ0EsSUFBQSxFQUFBLEdBQUEsR0FDQSxFQUFBLE9BQUEsRUFDQSxFQUFBLE9BQUEsSUFBQSxFQUNBLEVBQUEsTUFBQSxJQUFBLEVBQUEsRUFDQSxFQUFBLFVBQUEsRUFBQSxRQUFBLEVBQUEsT0FFQSxFQUFBLE9BQUEsRUFBQSxNQUFBLEtBQUEsRUFBQSxLQUlBLEVBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxNQUFBLElBR0EsRUFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLE1BQUEsRUFBQSxNQUFBLE9BQUEsR0FJQSxRQUNBLFNBQUEsSUFDQSxjQUFBLEVBQ0EsV0FBQSxVQUNBLFNBQUEsSUFDQSxVQUFBLEVBQ0EsT0FBQSxFQUNBLFFBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsU0FDQSxFQUFBLEVBQUEsY0FBQSxrQkFBQSxFQUFBLEtBRUEsRUFBQSxFQUFBLE1BQUEsNkZBRUEsS0FBQSxFQUNBLEtBQUEsR0FBQSxPQUFBLHlGQUNBLEVBR0EsSUFBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFJQSxJQUZBLEVBQUEsRUFBQSxNQUFBLGtEQUVBLEVBQ0EsS0FBQSxHQUFBLFNBQUEsZ0hBQ0EsRUFFQSxJQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFFQSxJQUFBLEtBQUEsNkJBQUEsS0FBQSxJQUNBLGdGQUFBLEtBQUEsSUFDQSxLQUFBLEdBQUEsV0FBQSx5RkFDQSxFQUdBLElBQUEsR0FBQSxFQUFBLEVBQUEsRUFDQSxHQUFBLElBQUEsR0FhQSxPQVhBLEdBQ0EsRUFBQSxFQUFBLElBRUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLElBQUEsSUFFQSxFQUFBLFNBQUEsR0FDQSxNQUFBLEtBSUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBRUEsSUFDQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEdBS0EsTUFIQSxLQUFBLEVBQUEsR0FBQSxHQUNBLEVBQUEsR0FBQSxFQUNBLEVBQUEsT0FBQSxFQUNBLEVBQUEsRUFBQSxJQVlBLElBQUEsR0FBQSxJQUdBLEdBQUEsaUJBQUEsRUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBR0EsRUFJQSxFQUNBLEVBQUEsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFiQSxFQUFBLEVBQUEsR0FLQSxFQUFBLElBY0EsSUFKQSxJQUNBLEVBQUEsR0FBQSxHQUdBLEVBQUEsR0FDQSxFQUFBLEVBQ0EsRUFBQSxHQUFBLE1BQ0EsQ0FDQSxFQUFBLEdBQUEsRUFFQSxJQUNBLEtBQUEsR0FBQSxLQUFBLEdBQ0EsRUFBQSxlQUFBLElBQUEsS0FBQSxFQUFBLE9BQUEsSUFDQSxFQUFBLEtBQUEsRUFHQSxHQUFBLE9BT0EsSUFKQSxFQUFBLEVBQUEsT0FDQSxFQUFBLEdBQUEsT0FBQSxHQUdBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFJQSxHQUhBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEdBRUEsRUFBQSxFQUFBLFNBQ0EsR0FBQSxHQUNBLEVBQUEsR0FBQSxFQUNBLEVBQUEsR0FBQSxNQUNBLENBQUEsR0FBQSxFQUFBLEdBS0EsS0FIQSxHQUFBLEVBQUEsU0FBQSxHQUNBLEdBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxJQUFBLEtBRUEsRUFBQSxRQUNBLHNKQUNBLEVBQUEsRUFBQSxFQUFBLEdBR0EsR0FBQSxJQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsTUFBQSxHQUNBLEVBQUEsSUFBQSxFQUtBLElBQUEsR0FBQSxLQUFBLEdBQUEsQ0FJQSxHQUhBLEVBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLE9BQ0EsRUFBQSxNQUFBLEdBQ0EsRUFBQSxHQUFBLFdBR0EsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxHQUFBLElBQUEsQ0FHQSxHQUFBLE1BQUEsV0FJQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFLQSxHQUpBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxHQUVBLEVBQUEsTUFBQSxDQUlBLEVBQUEsQ0FHQSxHQUNBLEdBQUEsRUFBQSxrQkFDQSxHQUFBLEVBQUEsR0FFQSxHQUFBLElBQUEsR0FFQSxFQUFBLEtBQUEsR0FBQSxFQUFBLE9BQUEsS0FBQSxHQUFBLElBRUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BR0EsR0FBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLE1BQUEsQ0FFQSxJQUFBLEdBQUEsRUFBQSxXQUFBLEVBQ0EsR0FBQSxFQUFBLFVBQUEsRUFHQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEdBQUEsSUFDQSxFQUFBLEVBSUEsRUFBQSxNQUFBLEVBQ0EsRUFBQSxFQUFBLElBQUEsRUFDQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFJQSxHQUFBLFNBT0EsR0FBQSxVQUNBLEdBQUEsa0JBNEpBLElBQUEsV0FBQSxTQUFBLEdBQ0EsT0FDQSxTQUFBLElBQ0EsY0FBQSxFQUNBLEtBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLE9BQUEsRUFBQSxPQUFBLFNBQUEsR0FLQSxFQUFBLEVBQUEsY0FBQSxZQUFBLEVBQUEsSUFDQSxZQUFBLFdBc0pBLElBQUEsV0FBQSxTQUFBLEdBQ0EsT0FDQSxTQUFBLElBQ0EsY0FBQSxFQUNBLEtBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLE9BQUEsRUFBQSxPQUFBLFNBQUEsR0FHQSxFQUFBLEVBQUEsV0FBQSxlQUFBLEVBQUEsSUFDQSxZQUFBLFdBcURBLEdBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsT0FBQSxFQUFBLFFBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxJQUFBLEdBQ0EsRUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLE1BRUEsR0FBQSxFQUFBLElBQUEsS0FDQSxLQW1JQSxJQUFBLFdBQUEsU0FBQSxHQUNBLE9BQ0EsU0FBQSxLQUNBLFFBQUEsV0FHQSxZQUFBLFNBQUEsV0FDQSxLQUFBLFdBRUEsS0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLEdBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FFQSxFQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsWUFBQSxFQUFBLE9BQUEsRUFBQSxJQUdBLEdBQUEsT0FBQSxFQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsQ0FDQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLElBQUEsRUFDQSxFQUFBLE9BQUEsRUFBQSxHQUlBLEtBRkEsRUFBQSxPQUFBLEVBRUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLENBQ0EsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLE1BQ0EsR0FBQSxHQUFBLFVBQ0EsSUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsRUFDQSxHQUFBLEtBQUEsRUFBQSxFQUFBLElBR0EsRUFBQSxPQUFBLEVBQ0EsRUFBQSxPQUFBLEdBRUEsRUFBQSxFQUFBLE1BQUEsSUFBQSxJQUFBLEVBQUEsTUFBQSxPQUNBLEVBQUEsRUFBQSxTQUFBLEdBQ0EsRUFBQSxXQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsS0FBQSxFQUNBLElBQUEsR0FBQSxFQUFBLE9BQ0EsR0FBQSxFQUFBLFVBQUEsRUFBQSxjQUFBLHNCQUNBLElBQUEsSUFBQSxNQUFBLEVBRUEsR0FBQSxLQUFBLEdBQ0EsRUFBQSxNQUFBLEVBQUEsRUFBQSxTQUFBLGFBU0EsR0FBQSxJQUNBLFdBQUEsVUFDQSxTQUFBLEtBQ0EsUUFBQSxZQUNBLGNBQUEsRUFDQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsTUFBQSxJQUFBLEVBQUEsY0FBQSxFQUFBLE1BQUEsSUFBQSxFQUFBLGtCQUNBLEVBQUEsTUFBQSxJQUFBLEVBQUEsY0FBQSxNQUFBLFdBQUEsRUFBQSxRQUFBLE9BSUEsR0FBQSxJQUNBLFdBQUEsVUFDQSxTQUFBLEtBQ0EsUUFBQSxZQUNBLGNBQUEsRUFDQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsTUFBQSxLQUFBLEVBQUEsTUFBQSxTQUNBLEVBQUEsTUFBQSxLQUFBLE1BQUEsV0FBQSxFQUFBLFFBQUEsT0EwREEsR0FBQSxJQUNBLFNBQUEsTUFDQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLElBQUEsRUFDQSxLQUFBLEdBQUEsZ0JBQUEsU0FDQSw4SEFHQSxFQUFBLEdBR0EsR0FBQSxTQUFBLEdBQ0EsRUFBQSxRQUNBLEVBQUEsT0FBQSxRQXNDQSxJQUFBLGlCQUFBLFNBQUEsR0FDQSxPQUNBLFNBQUEsSUFDQSxVQUFBLEVBQ0EsUUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLG9CQUFBLEVBQUEsS0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEdBRUEsRUFBQSxFQUFBLEdBQUEsSUFFQSxHQUFBLElBQUEsRUFBQSxRQU1BLEdBQUEsRUFBQSxhQStKQSxHQUFBLEdBQ0EsU0FBQSxJQUNBLFVBQUEsSUFJQSxJQUFBLFdBQUEsU0FBQSxTQUFBLEVBQUEsR0FFQSxHQUFBLEdBQUEseU1BQ0EsR0FBQSxjQUFBLEVBR0EsUUFDQSxTQUFBLElBQ0EsU0FBQSxTQUFBLFlBQ0EsWUFBQSxXQUFBLFNBQUEsU0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBR0EsR0FDQSxFQUpBLEVBQUEsS0FDQSxLQUNBLEVBQUEsQ0FLQSxHQUFBLFVBQUEsRUFBQSxRQUdBLEVBQUEsS0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFDQSxFQUFBLEVBQ0EsRUFBQSxHQUlBLEVBQUEsVUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsa0JBQ0EsRUFBQSxJQUFBLEVBRUEsRUFBQSxZQUFBLElBQ0EsRUFBQSxJQUFBLEdBQ0EsRUFBQSxVQUFBLEVBQUEsVUFLQSxHQUFBLEVBQUEsR0FBQSxhQUFBLGNBQ0EsRUFBQSxHQUFBLFVBQUEsSUFLQSxFQUFBLGFBQUEsU0FBQSxHQUNBLEtBQUEsVUFBQSxXQUNBLEdBQUEsR0FDQSxFQUFBLFlBQUEsR0FDQSxLQUFBLG9CQUFBLEtBTUEsRUFBQSxvQkFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLElBQ0EsR0FBQSxJQUFBLEdBQ0EsRUFBQSxRQUFBLEdBQ0EsRUFBQSxJQUFBLEdBQ0EsRUFBQSxLQUFBLFlBQUEsSUFJQSxFQUFBLFVBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxlQUFBLElBR0EsRUFBQSxJQUFBLFdBQUEsV0FFQSxFQUFBLG9CQUFBLE1BSUEsS0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBMkNBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsUUFBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLFVBRUEsR0FBQSxVQUFBLElBQ0EsRUFBQSxVQUFBLEVBQUEsU0FDQSxFQUFBLElBQUEsR0FDQSxLQUFBLEdBQUEsRUFBQSxLQUFBLFlBQUEsSUFFQSxFQUFBLElBQUEsRUFDQSxFQUFBLElBQUEsSUFFQSxFQUFBLG9CQUFBLElBS0EsRUFBQSxHQUFBLFNBQUEsV0FDQSxFQUFBLE9BQUEsV0FDQSxFQUFBLFVBQUEsRUFBQSxTQUNBLEVBQUEsY0FBQSxFQUFBLFdBS0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFDQSxHQUFBLFFBQUEsV0FDQSxHQUFBLEdBQUEsR0FBQSxJQUFBLEVBQUEsV0FDQSxHQUFBLEVBQUEsS0FBQSxVQUFBLFNBQUEsR0FDQSxFQUFBLFNBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxXQU1BLEVBQUEsT0FBQSxXQUNBLEVBQUEsRUFBQSxFQUFBLGNBQ0EsRUFBQSxFQUFBLEVBQUEsWUFDQSxFQUFBLGFBSUEsRUFBQSxHQUFBLFNBQUEsV0FDQSxFQUFBLE9BQUEsV0FDQSxHQUFBLEtBQ0EsR0FBQSxFQUFBLEtBQUEsVUFBQSxTQUFBLEdBQ0EsRUFBQSxVQUNBLEVBQUEsS0FBQSxFQUFBLFNBR0EsRUFBQSxjQUFBLE9BS0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQTJEQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBR0EsTUFGQSxHQUFBLEdBQUEsRUFDQSxJQUFBLEVBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxHQUdBLFFBQUEsS0FDQSxFQUFBLE9BQUEsV0FDQSxHQUNBLEdBREEsRUFBQSxFQUFBLE1BRUEsSUFBQSxFQUNBLEtBQ0EsRUFBQSxFQUFBLE1BQUEsU0FBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFDQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsV0FFQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsS0FDQSxHQUFBLEVBQUEsRUFBQSxFQUFBLElBRUEsRUFBQSxjQUFBLEdBQ0EsTUFJQSxRQUFBLEdBQUEsRUFBQSxHQUNBLEdBQUEsTUFBQSxFQUNBLE1BQUEsRUFDQSxJQUFBLEtBQUEsRUFDQSxNQUFBLEtBRUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxDQUNBLE9BQUEsR0FBQSxFQUFBLEVBQUEsR0FJQSxRQUFBLEtBQ0EsR0FDQSxHQURBLEVBQUEsRUFBQSxFQUVBLElBQUEsR0FBQSxHQUFBLEdBQUEsQ0FDQSxFQUFBLEdBQUEsT0FBQSxFQUFBLE9BQ0EsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUVBLE9BQUEsR0FDQSxHQUFBLEVBQUEsQ0FFQSxJQUNBLEtBQUEsR0FBQSxLQUFBLEdBQ0EsRUFBQSxlQUFBLEtBQ0EsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsS0FJQSxNQUFBLEdBR0EsUUFBQSxHQUFBLEdBQ0EsR0FBQSxFQUNBLElBQUEsRUFDQSxHQUFBLEdBQUEsR0FBQSxHQUFBLENBRUEsRUFBQSxHQUFBLE9BQ0EsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUVBLEVBQUEsSUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsT0FHQSxHQUFBLEdBQUEsSUFBQSxPQUVBLEtBQ0EsRUFBQSxFQUFBLEVBQUEsS0FBQSxHQUdBLE9BQUEsVUFBQSxFQUFBLEdBQ0EsR0FBQSxFQVNBLE9BUEEsR0FEQSxFQUNBLEVBQ0EsRUFDQSxFQUVBLEVBR0EsRUFDQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxLQUVBLEdBQUEsRUFBQSxFQUFBLEVBQUEsSUFLQSxRQUFBLEtBQ0EsSUFDQSxFQUFBLGFBQUEsR0FDQSxHQUFBLEdBZ0JBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQ0EsRUFBQSxJQUFBLEVBQUEsRUFBQSxHQUdBLFFBQUEsS0FDQSxHQUFBLENBR0EsSUFFQSxHQUNBLEVBQ0EsRUFDQSxFQUFBLEVBQUEsRUFJQSxFQUNBLEVBQ0EsRUFBQSxFQUNBLEVBQUEsRUFFQSxFQUdBLEVBQ0EsRUFDQSxFQUNBLEVBcEJBLEdBQUEsT0FDQSxHQUFBLElBS0EsRUFBQSxFQUFBLFdBQ0EsRUFBQSxFQUFBLE9BQ0EsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUtBLEtBRUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxDQVNBLEtBSEEsS0FHQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxFQUNBLElBQ0EsRUFBQSxFQUFBLEdBQ0EsTUFBQSxFQUFBLE9BQUEsTUFFQSxFQUFBLEVBQUEsR0FFQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsSUFDQSxFQUFBLEVBQUEsTUFDQSxFQUFBLEVBQUEsTUFDQSxFQUFBLEtBQUEsSUFHQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUVBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FHQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQ0EsSUFDQSxFQUFBLEdBQUEsR0FHQSxFQUFBLE1BRUEsR0FBQSxFQUNBLE1BQUEsRUFDQSxTQUFBLElBY0EsS0FYQSxJQUNBLEdBQUEsT0FBQSxFQUVBLEVBQUEsSUFBQSxTQUFBLEdBQUEsR0FBQSxNQUFBLEdBQUEsVUFBQSxJQUNBLEdBRUEsRUFBQSxJQUFBLFNBQUEsR0FBQSxJQUFBLE1BQUEsR0FBQSxVQUFBLEtBS0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUNBLEVBQUEsRUFDQSxJQUFBLENBMkJBLElBekJBLEVBQUEsRUFBQSxHQUdBLEVBQUEsRUFBQSxHQUVBLEVBQUEsUUFBQSxHQUVBLEdBQ0EsUUFBQSxFQUFBLFFBQUEsS0FBQSxRQUFBLEdBQ0EsTUFBQSxFQUFBLE9BRUEsR0FBQSxHQUNBLEVBQUEsS0FBQSxHQUNBLEVBQUEsT0FBQSxFQUFBLFdBRUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEdBR0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxRQUFBLEtBQUEsUUFBQSxFQUFBLE1BQUEsSUFJQSxFQUFBLEtBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxFQUFBLEtBRUEsRUFBQSxFQUFBLFFBQ0EsRUFBQSxRQUFBLEVBQUEsUUFDQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxHQUNBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxRQUVBLEVBQUEsS0FBQSxFQUFBLElBQ0EsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLElBR0EsRUFBQSxHQUFBLFdBQUEsRUFBQSxXQUNBLEVBQUEsS0FBQSxXQUFBLEVBQUEsU0FBQSxFQUFBLFVBQ0EsSUFJQSxFQUFBLEtBQUEsV0FBQSxFQUFBLGFBT0EsS0FBQSxFQUFBLElBQUEsRUFFQSxFQUFBLEdBS0EsRUFBQSxFQUFBLFNBQ0EsSUFBQSxFQUFBLElBQ0EsS0FBQSxXQUFBLEVBQUEsVUFDQSxLQUFBLFdBQUEsRUFBQSxVQUNBLEtBQUEsRUFBQSxPQUdBLEVBQUEsS0FBQSxHQUNBLFFBQUEsRUFDQSxNQUFBLEVBQUEsTUFDQSxHQUFBLEVBQUEsR0FDQSxTQUFBLEVBQUEsV0FFQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEdBQ0EsRUFDQSxFQUFBLE1BQUEsR0FFQSxFQUFBLFFBQUEsT0FBQSxHQUVBLEVBQUEsRUFLQSxLQURBLElBQ0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxHQUNBLEVBQUEsUUFBQSxRQUVBLEdBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLEVBQ0EsRUFBQSxVQUFBLEdBQ0EsRUFBQSxHQUNBLEVBQUEsYUFBQSxLQUtBLEtBQUEsRUFBQSxPQUFBLEdBQ0EsRUFBQSxNQUFBLEdBQUEsUUFBQSxTQTdWQSxHQUFBLEVBRUEsTUFBQSxFQUFBLEVBQUEsTUFBQSxJQUNBLEtBQUEsSUFBQSxPQUNBLDJIQUdBLEVBQUEsRUFBQSxHQUdBO0dBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLElBQUEsRUFBQSxHQUNBLEVBQUEsT0FBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsR0FBQSxLQUNBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLElBQUEsSUFDQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEtBQ0EsS0FLQSxLQUFBLFFBQUEsRUFBQSxNQUFBLE1BRUEsSUFFQSxLQUVBLEVBQUEsR0FBQSxHQUlBLEVBQUEsWUFBQSxZQUlBLEVBQUEsVUFJQSxFQUFBLFFBRUEsRUFBQSxHQUFBLFNBQUEsR0FFQSxFQUFBLFFBQUEsRUFFQSxFQUFBLGlCQUFBLEVBQUEsR0FDQSxFQUFBLGlCQUFBLEVBQUEsR0FFQSxHQUNBLEVBQUEsaUJBQUEsV0FBQSxNQUFBLEdBQUEsYUFBQSxHQXZKQSxHQUFBLEVBQUEsR0FBQSxDQWdCQSxJQUFBLEdBVEEsR0FMQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsU0FDQSxFQUFBLEVBQUEsVUFDQSxHQUFBLEVBRUEsR0FBQSxFQUdBLEVBQUEsR0FBQSxFQUFBLGNBQUEsV0FDQSxFQUFBLEdBQUEsRUFBQSxjQUFBLGFBQ0EsRUFBQSxFQUFBLFFBR0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQUNBLEdBQUEsS0FBQSxFQUFBLEdBQUEsTUFBQSxDQUNBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFDQSxPQUlBLEVBQUEsS0FBQSxFQUFBLEVBQUEsR0FHQSxJQUNBLEVBQUEsU0FBQSxTQUFBLEdBQ0EsT0FBQSxHQUFBLElBQUEsRUFBQSxTQUlBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxRQXFhQSxJQUFBLGVBQUEsU0FBQSxHQUNBLEdBQUEsSUFDQSxVQUFBLEVBQ0EsYUFBQSxFQUdBLFFBQ0EsU0FBQSxJQUNBLFNBQUEsSUFDQSxRQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxFQUFBLE9BQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsRUFDQSxJQUNBLEVBQUEsS0FBQSxRQUFBLEVBQUEsUUFJQSxNQUFBLFVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLG9CQUNBLEVBQUEsRUFBQSxTQUNBLEVBQUEsRUFBQSxLQUFBLElBQ0EsRUFBQSxTQUFBLEtBQUEsRUFFQSxJQUFBLEVBQUEsWUFDQSxFQUFBLEdBR0EsRUFDQSxFQUFBLE9BQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLEtBQUEsUUFBQSxHQUNBLElBQUEsR0FDQSxFQUFBLGFBQUEsR0FFQSxFQUFBLFVBQUEsRUFBQSxLQUdBLEVBQUEsVUFBQSxFQUFBLE1BQUEsR0FHQSxFQUFBLEdBQUEsV0FBQSxXQUNBLEVBQUEsYUFBQSxFQUFBLGNBT0EsR0FBQSxHQUNBLFNBQUEsSUFDQSxVQUFBLEdBR0EsT0FBQSxHQUFBLFFBQUEsY0FFQSxTQUFBLElBQUEsbURBTUEsS0FFQSxHQUFBLFFBRUEsSUFBQSxHQUFBLE1BQUEsV0FDQSxFQUFBLEVBQUEsT0FHQSxPQUFBLFdBRUEsT0FBQSxRQUFBLFNBQUEsT0FBQSxRQUFBLFFBQUEsVUFBQSxLQUFBLFFBQUEsUUFBQSxnTkNqaHlCQSxRQUFBLE9BQUEsZ0JBQUEsb0JBQUEsMEJBQUEsd0JBQUEseUJBQUEscUJBQUEsd0JBQUEsdUJBQUEsd0JBQUEsMEJBQUEsd0JBQUEsMEJBQUEsd0JBQUEscUJBQUEsMEJBQUEsdUJBQUEsdUJBQUEsMkJBQUEsc0JBQUEsb0JBQUEsMEJBQUEsMkJBQ0EsUUFBQSxPQUFBLHFCQUFBLDBDQUFBLG9DQUFBLDRCQUFBLGtDQUFBLCtCQUFBLHNDQUFBLCtCQUFBLGlDQUFBLGlDQUFBLGdDQUFBLCtCQUFBLDZCQUFBLGlDQUFBLHNDQUFBLGtEQUFBLHNDQUFBLGdDQUFBLGdDQUFBLHFDQUFBLHdDQUFBLDhCQUFBLHlCQUFBLDRCQUFBLHNDQUFBLDBDQUFBLDRDQUNBLFFBQUEsT0FBQSw4QkFXQSxRQUFBLGVBQUEsS0FBQSxXQUFBLGFBQUEsU0FBQSxFQUFBLEVBQUEsR0E0REEsUUFBQSxHQUFBLEdBQ0EsSUFBQSxHQUFBLEtBQUEsR0FDQSxHQUFBLFNBQUEsRUFBQSxNQUFBLEdBQ0EsTUFBQSxHQUFBLEdBN0RBLEdBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsS0FDQSxJQUFBLEdBQUEsRUFBQSxRQUNBLEVBQUEsRUFBQSxFQUFBLFVBQUEsd0JBQUEsMEJBRUEsRUFBQSxXQUNBLEVBQUEsT0FBQSxXQUNBLEVBQUEsT0FBQSxFQUFBLEdBQ0EsRUFBQSxRQUFBLEtBaUNBLE9BN0JBLElBQ0EsRUFBQSxLQUFBLEVBQUEsR0FJQSxFQUFBLFdBQ0EsUUFBQSxTQUFBLEdBQ0EsRUFBQSxTQUFBLEdBQ0EsUUFBQSxXQUFBLEdBQ0EsRUFBQSxHQUNBLFFBQUEsU0FBQSxJQUNBLEVBQUEsSUFBQSxHQUdBLEdBQ0EsRUFBQSxRQUFBLEtBT0EsRUFBQSxRQUFBLE9BQUEsV0FDQSxHQUNBLEVBQUEsT0FBQSxFQUFBLEdBRUEsRUFBQSxPQUFBLHlCQUdBLEVBQUEsU0FJQSxFQUFBLFNBQUEsY0FBQSxTQUNBLEdBQ0EsaUJBQUEsc0JBQ0EsY0FBQSxnQkFDQSxZQUFBLGlCQUNBLFdBQUEsaUJBRUEsR0FDQSxpQkFBQSxxQkFDQSxjQUFBLGVBQ0EsWUFBQSxnQkFDQSxXQUFBLGVBV0EsT0FGQSxHQUFBLHVCQUFBLEVBQUEsR0FDQSxFQUFBLHNCQUFBLEVBQUEsR0FDQSxLQUdBLFFBQUEsT0FBQSx5QkFBQSw0QkFFQSxVQUFBLFlBQUEsY0FBQSxTQUFBLEdBRUEsT0FDQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBS0EsUUFBQSxHQUFBLEdBU0EsUUFBQSxLQUVBLElBQUEsSUFDQSxFQUFBLFFBWEEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQU1BLE9BTEEsSUFDQSxFQUFBLFNBRUEsRUFBQSxFQUNBLEVBQUEsS0FBQSxFQUFBLEdBQ0EsRUFVQSxRQUFBLEtBQ0EsR0FDQSxHQUFBLEVBQ0EsTUFFQSxFQUFBLFlBQUEsWUFBQSxTQUFBLGNBQ0EsR0FBQSxPQUFBLEVBQUEsR0FBQSxhQUFBLE9BQUEsS0FBQSxJQUlBLFFBQUEsS0FDQSxFQUFBLFlBQUEsY0FDQSxFQUFBLFNBQUEsZUFDQSxFQUFBLEtBQUEsT0FBQSxTQUdBLFFBQUEsS0FDQSxHQUFBLEVBQ0EsR0FBQSxFQUNBLElBQ0EsRUFBQSxLQUFBLE9BQUEsUUFDQSxDQUVBLEVBQUEsS0FBQSxPQUFBLEVBQUEsR0FBQSxhQUFBLE1BRUEsRUFBQSxFQUFBLEdBQUEsWUFFQSxFQUFBLFlBQUEsZUFBQSxTQUFBLGNBRUEsR0FBQSxPQUFBLElBQUEsS0FBQSxJQUlBLFFBQUEsS0FDQSxFQUFBLFlBQUEsY0FDQSxFQUFBLFNBQUEsWUF2REEsR0FDQSxHQURBLEdBQUEsQ0EwREEsR0FBQSxPQUFBLEVBQUEsU0FBQSxTQUFBLEdBQ0EsRUFDQSxJQUVBLFdBT0EsUUFBQSxPQUFBLDBCQUFBLDBCQUVBLFNBQUEsbUJBQ0EsYUFBQSxJQUdBLFdBQUEsdUJBQUEsU0FBQSxTQUFBLGtCQUFBLFNBQUEsRUFBQSxFQUFBLEdBR0EsS0FBQSxVQUdBLEtBQUEsWUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLFFBQUEsVUFBQSxFQUFBLGFBQUEsRUFBQSxNQUFBLEVBQUEsYUFBQSxFQUFBLFdBQ0EsSUFDQSxRQUFBLFFBQUEsS0FBQSxPQUFBLFNBQUEsR0FDQSxJQUFBLElBQ0EsRUFBQSxRQUFBLE1BT0EsS0FBQSxTQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsSUFDQSxNQUFBLE9BQUEsS0FBQSxHQUVBLEVBQUEsSUFBQSxXQUFBLFdBQ0EsRUFBQSxZQUFBLE1BS0EsS0FBQSxZQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsS0FBQSxPQUFBLFFBQUEsRUFDQSxNQUFBLEdBQ0EsS0FBQSxPQUFBLE9BQUEsRUFBQSxPQVFBLFVBQUEsWUFBQSxXQUNBLE9BQ0EsU0FBQSxLQUNBLFdBQUEsc0JBQ0EsWUFBQSxFQUNBLFNBQUEsRUFDQSxZQUFBLHVDQUtBLFVBQUEsaUJBQUEsV0FDQSxPQUNBLFFBQUEsYUFDQSxTQUFBLEtBQ0EsWUFBQSxFQUNBLFNBQUEsRUFDQSxZQUFBLDBDQUNBLE9BQ0EsUUFBQSxJQUNBLE9BQUEsS0FDQSxXQUFBLE1BRUEsV0FBQSxXQUNBLEtBQUEsV0FBQSxTQUFBLEdBQ0EsS0FBQSxRQUFBLElBR0EsS0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxTQUFBLEdBRUEsRUFBQSxPQUFBLFNBQUEsU0FBQSxHQUNBLEdBQ0EsRUFBQSxZQUFBLEtBSUEsRUFBQSxXQUFBLFdBQ0EsRUFBQSxhQUNBLEVBQUEsUUFBQSxFQUFBLGFBV0EsVUFBQSxtQkFBQSxXQUNBLE9BQ0EsU0FBQSxLQUNBLFlBQUEsRUFDQSxTQUFBLEdBQ0EsU0FBQSxFQUNBLFFBQUEsa0JBQ0EsS0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FJQSxFQUFBLFdBQUEsRUFBQSxFQUFBLG1CQVdBLFVBQUEsc0JBQUEsV0FDQSxPQUNBLFFBQUEsa0JBQ0EsS0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxPQUFBLFdBQUEsTUFBQSxHQUFBLEVBQUEsc0JBQUEsU0FBQSxHQUNBLElBQ0EsRUFBQSxLQUFBLElBQ0EsRUFBQSxPQUFBLFVBT0EsUUFBQSxPQUFBLHlCQUVBLFdBQUEsbUJBQUEsU0FBQSxTQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsVUFBQSxTQUFBLE1BR0EsVUFBQSxRQUFBLFdBQ0EsT0FDQSxTQUFBLEtBQ0EsV0FBQSxrQkFDQSxZQUFBLDRCQUNBLFlBQUEsRUFDQSxTQUFBLEVBQ0EsT0FDQSxLQUFBLElBQ0EsTUFBQSxRQUtBLFFBQUEsT0FBQSw0QkFFQSxVQUFBLGlCQUFBLFdBQ0EsTUFBQSxVQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsU0FBQSxjQUFBLEtBQUEsV0FBQSxFQUFBLGdCQUNBLEVBQUEsT0FBQSxFQUFBLGVBQUEsU0FBQSxHQUNBLEVBQUEsS0FBQSxHQUFBLFNBSUEsUUFBQSxPQUFBLDJCQUVBLFNBQUEsZ0JBQ0EsWUFBQSxTQUNBLFlBQUEsVUFHQSxXQUFBLHFCQUFBLGVBQUEsU0FBQSxHQUNBLEtBQUEsWUFBQSxFQUFBLGFBQUEsU0FDQSxLQUFBLFlBQUEsRUFBQSxhQUFBLFdBR0EsVUFBQSxXQUFBLFdBQ0EsT0FDQSxTQUFBLFdBQUEsV0FDQSxXQUFBLG9CQUNBLEtBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBR0EsR0FBQSxRQUFBLFdBQ0EsRUFBQSxZQUFBLEVBQUEsWUFBQSxRQUFBLE9BQUEsRUFBQSxZQUFBLEVBQUEsTUFBQSxFQUFBLGFBSUEsRUFBQSxLQUFBLEVBQUEsWUFBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxlQUVBLEdBQUEsUUFBQSxVQUFBLEVBQUEsZUFDQSxFQUFBLE9BQUEsV0FDQSxFQUFBLGNBQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLFdBQ0EsRUFBQSxrQkFRQSxVQUFBLGNBQUEsV0FDQSxPQUNBLFNBQUEsY0FBQSxXQUNBLFdBQUEsb0JBQ0EsS0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBR0EsUUFBQSxLQUNBLE1BQUEsR0FBQSxFQUFBLGlCQUFBLEdBR0EsUUFBQSxLQUNBLE1BQUEsR0FBQSxFQUFBLGtCQUFBLEdBR0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxNQUFBLEVBQ0EsT0FBQSxTQUFBLFVBQUEsR0FBQSxFQUFBLEVBWkEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFnQkEsR0FBQSxRQUFBLFdBQ0EsRUFBQSxZQUFBLEVBQUEsWUFBQSxRQUFBLE9BQUEsRUFBQSxZQUFBLE9BSUEsRUFBQSxLQUFBLEVBQUEsWUFBQSxXQUNBLEVBQUEsT0FBQSxXQUNBLEVBQUEsY0FBQSxFQUFBLFNBQUEsRUFBQSxhQUFBLElBQUEsS0FDQSxFQUFBLGtCQWVBLFFBQUEsT0FBQSx5QkFBQSw0QkFDQSxXQUFBLHNCQUFBLFNBQUEsV0FBQSxjQUFBLFNBQUEsRUFBQSxFQUFBLEdBZ0dBLFFBQUEsS0FDQSxHQUNBLElBQUEsSUFBQSxFQUFBLFVBQ0EsTUFBQSxJQUFBLEdBQUEsSUFDQSxFQUFBLEVBQUEsRUFBQSxJQUlBLFFBQUEsS0FDQSxJQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsTUFJQSxRQUFBLEtBQ0EsR0FDQSxFQUFBLE9BQ0EsS0FFQSxFQUFBLFFBbkhBLEdBR0EsR0FBQSxFQUhBLEVBQUEsS0FDQSxFQUFBLEVBQUEsT0FBQSxFQUFBLFVBQ0EsRUFBQSxFQUVBLEdBQUEsYUFBQSxJQUVBLElBQUEsSUFBQSxDQUVBLEdBQUEsT0FBQSxFQUFBLE9BQUEsU0FBQSxFQUFBLEdBZUEsUUFBQSxLQUVBLElBQUEsRUFBQSxDQUVBLEdBQUEsRUFBQSxjQUFBLFFBQUEsU0FBQSxLQUFBLEVBQUEsY0FBQSxFQUFBLFNBQUEsQ0FFQSxFQUFBLFNBQUEsU0FBQSxFQUNBLEVBQUEsRUFBQSxTQUFBLEdBQUEsWUFHQSxRQUFBLFFBQUEsRUFBQSxTQUFBLEdBQ0EsUUFBQSxPQUFBLEdBQUEsVUFBQSxHQUFBLFVBQUEsRUFBQSxTQUFBLEVBQUEsUUFBQSxNQUVBLFFBQUEsT0FBQSxHQUFBLFVBQUEsRUFBQSxRQUFBLEVBQUEsVUFBQSxJQUNBLFFBQUEsT0FBQSxFQUFBLGtCQUFBLFVBQUEsRUFBQSxTQUFBLElBRUEsRUFBQSxtQkFBQSxFQUFBLEVBQUEsYUFFQSxTQUFBLEVBQUEsR0FDQSxFQUFBLG1CQUFBLEtBQ0EsV0FBQSxFQUFBLEVBQUEsSUFDQSxXQUFBLEVBQUEsRUFBQSxNQUVBLEVBQUEsRUFBQSxrQkFFQSxHQUFBLEVBQUEsRUFBQSxhQUVBLEdBQUEsYUFBQSxFQUNBLEVBQUEsRUFFQSxLQUVBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsUUFBQSxPQUFBLEdBQUEsVUFBQSxHQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsVUFBQSxJQUNBLFFBQUEsT0FBQSxPQUFBLFVBQUEsR0FBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLFVBQUEsSUFDQSxFQUFBLG1CQUFBLEtBakRBLEdBQUEsR0FBQSxFQUFBLFFBQUEsRUFFQSxVQUFBLElBQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxRQUVBLEdBQUEsSUFBQSxFQUFBLGVBQ0EsRUFBQSxvQkFDQSxFQUFBLG1CQUFBLFNBRUEsRUFBQSxJQUVBLE1BeUNBLEVBQUEsSUFBQSxXQUFBLFdBQ0EsR0FBQSxJQUlBLEVBQUEsYUFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLFFBQUEsSUFHQSxFQUFBLEtBQUEsV0FDQSxHQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsTUFHQSxPQUFBLEdBQUEsbUJBQUEsT0FDQSxFQUFBLE9BQUEsRUFBQSxHQUFBLFNBSUEsRUFBQSxLQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsQ0FHQSxPQUFBLEdBQUEsbUJBQUEsT0FDQSxFQUFBLE9BQUEsRUFBQSxHQUFBLFNBSUEsRUFBQSxTQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsZUFBQSxHQUdBLEVBQUEsT0FBQSxXQUFBLEdBQ0EsRUFBQSxJQUFBLFdBQUEsR0EwQkEsRUFBQSxLQUFBLFdBQ0EsSUFDQSxHQUFBLEVBQ0EsTUFHQSxFQUFBLE1BQUEsV0FDQSxFQUFBLFVBQ0EsR0FBQSxFQUNBLE1BSUEsRUFBQSxTQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsU0FBQSxFQUNBLEVBQUEsS0FBQSxHQUVBLElBQUEsRUFBQSxRQUFBLEVBQUEsUUFDQSxFQUFBLE9BQUEsRUFBQSxFQUFBLE9BQUEsSUFDQSxHQUFBLEVBQUEsUUFDQSxFQUFBLFFBR0EsRUFBQSxRQUFBLEdBSUEsRUFBQSxZQUFBLFNBQUEsR0FFQSxHQUFBLEdBQUEsRUFBQSxRQUFBLEVBQ0EsR0FBQSxPQUFBLEVBQUEsR0FDQSxFQUFBLE9BQUEsR0FBQSxFQUFBLE9BRUEsRUFBQSxPQURBLEdBQUEsRUFBQSxPQUNBLEVBQUEsRUFBQSxHQUVBLEVBQUEsSUFFQSxFQUFBLEdBQ0EsUUE0Q0EsVUFBQSxZQUFBLFdBQ0EsT0FDQSxTQUFBLEtBQ0EsWUFBQSxFQUNBLFNBQUEsRUFDQSxXQUFBLHFCQUNBLFFBQUEsV0FDQSxZQUFBLGtDQUNBLE9BQ0EsU0FBQSxJQUNBLGFBQUEsSUFDQSxRQUFBLFNBOENBLFVBQUEsUUFBQSxXQUNBLE9BQ0EsUUFBQSxZQUNBLFNBQUEsS0FDQSxZQUFBLEVBQ0EsU0FBQSxFQUNBLFlBQUEsK0JBQ0EsT0FDQSxPQUFBLE1BRUEsS0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxTQUFBLEVBQUEsR0FFQSxFQUFBLElBQUEsV0FBQSxXQUNBLEVBQUEsWUFBQSxLQUdBLEVBQUEsT0FBQSxTQUFBLFNBQUEsR0FDQSxHQUNBLEVBQUEsT0FBQSxTQU9BLFFBQUEsT0FBQSw4QkFFQSxRQUFBLGNBQUEsVUFBQSxnQkFBQSxTQUFBLEVBQUEsR0FpREEsUUFBQSxHQUFBLEdBQ0EsR0FBQSxNQUFBLEVBQUEsRUFBQSxNQUFBLEdBb0JBLE9BbEJBLFNBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFFBQUEsRUFFQSxJQUFBLEVBQUEsR0FBQSxDQUNBLEVBQUEsRUFBQSxNQUFBLElBRUEsRUFBQSxHQUFBLElBQUEsRUFBQSxNQUFBLElBQ0EsRUFBQSxHQUFBLEdBQ0EsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLEdBRUEsR0FBQSxFQUFBLEtBQUEsSUFFQSxFQUFBLE1BQUEsTUFBQSxFQUFBLE1BQUEsRUFBQSxZQUtBLE1BQUEsR0FBQSxRQUFBLElBQUEsRUFBQSxLQUFBLElBQUEsS0FDQSxJQUFBLEVBQUEsRUFBQSxVQXdDQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxLQUFBLEdBQUEsRUFBQSxHQUNBLEtBQUEsSUFBQSxFQUFBLElBQUEsR0FBQSxFQUFBLE1BQUEsR0FBQSxFQUFBLE1BQUEsR0FHQSxJQUFBLEdBQUEsSUFBQSxHQUFBLElBQUEsR0FBQSxLQUFBLEVBQ0EsR0FBQSxHQUdBLEVBdkhBLEtBQUEsVUFFQSxJQUFBLElBQ0EsTUFDQSxNQUFBLFNBQ0EsTUFBQSxTQUFBLEdBQUEsS0FBQSxNQUFBLElBRUEsSUFDQSxNQUFBLFNBQ0EsTUFBQSxTQUFBLEdBQUEsS0FBQSxNQUFBLEVBQUEsTUFFQSxHQUNBLE1BQUEsV0FDQSxNQUFBLFNBQUEsR0FBQSxLQUFBLE1BQUEsSUFFQSxNQUNBLE1BQUEsRUFBQSxpQkFBQSxNQUFBLEtBQUEsS0FDQSxNQUFBLFNBQUEsR0FBQSxLQUFBLE1BQUEsRUFBQSxpQkFBQSxNQUFBLFFBQUEsS0FFQSxLQUNBLE1BQUEsRUFBQSxpQkFBQSxXQUFBLEtBQUEsS0FDQSxNQUFBLFNBQUEsR0FBQSxLQUFBLE1BQUEsRUFBQSxpQkFBQSxXQUFBLFFBQUEsS0FFQSxJQUNBLE1BQUEsZ0JBQ0EsTUFBQSxTQUFBLEdBQUEsS0FBQSxNQUFBLEVBQUEsSUFFQSxHQUNBLE1BQUEsZUFDQSxNQUFBLFNBQUEsR0FBQSxLQUFBLE1BQUEsRUFBQSxJQUVBLElBQ0EsTUFBQSwwQkFDQSxNQUFBLFNBQUEsR0FBQSxLQUFBLE1BQUEsSUFFQSxHQUNBLE1BQUEsMkJBQ0EsTUFBQSxTQUFBLEdBQUEsS0FBQSxNQUFBLElBRUEsTUFDQSxNQUFBLEVBQUEsaUJBQUEsSUFBQSxLQUFBLE1BRUEsS0FDQSxNQUFBLEVBQUEsaUJBQUEsU0FBQSxLQUFBLE1BK0JBLE1BQUEsTUFBQSxTQUFBLEVBQUEsR0FDQSxJQUFBLFFBQUEsU0FBQSxLQUFBLEVBQ0EsTUFBQSxFQUdBLEdBQUEsRUFBQSxpQkFBQSxJQUFBLEVBRUEsS0FBQSxRQUFBLEtBQ0EsS0FBQSxRQUFBLEdBQUEsRUFBQSxHQUdBLElBQUEsR0FBQSxLQUFBLFFBQUEsR0FDQSxFQUFBLEVBQUEsTUFDQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsTUFBQSxFQUVBLElBQUEsR0FBQSxFQUFBLE9BQUEsQ0FHQSxJQUFBLEdBRkEsR0FBQSxHQUFBLEtBQUEsS0FBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsR0FFQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQ0EsR0FBQSxPQUNBLEVBQUEsTUFBQSxLQUFBLEVBQUEsRUFBQSxJQVFBLE1BSkEsR0FBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsUUFDQSxFQUFBLEdBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLFFBR0EsT0FtQkEsUUFBQSxPQUFBLDRCQVFBLFFBQUEsYUFBQSxZQUFBLFVBQUEsU0FBQSxFQUFBLEdBRUEsUUFBQSxHQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsYUFDQSxFQUFBLGFBQUEsR0FDQSxFQUFBLGlCQUNBLEVBQUEsaUJBQUEsR0FBQSxHQUdBLEVBQUEsTUFBQSxHQU9BLFFBQUEsR0FBQSxHQUNBLE1BQUEsWUFBQSxFQUFBLEVBQUEsYUFBQSxVQU9BLEdBQUEsR0FBQSxTQUFBLEdBR0EsSUFGQSxHQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxjQUFBLEVBQ0EsR0FBQSxJQUFBLEdBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxZQUVBLE9BQUEsSUFBQSxFQUdBLFFBS0EsU0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQUEsT0FBQSxHQUNBLEdBQUEsSUFBQSxFQUFBLEtBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxHQUNBLElBQUEsRUFBQSxLQUNBLEVBQUEsS0FBQSxPQUFBLFFBQUEsUUFBQSxJQUNBLEVBQUEsS0FBQSxFQUFBLFVBQUEsRUFBQSxVQUNBLEVBQUEsTUFBQSxFQUFBLFdBQUEsRUFBQSxXQUdBLElBQUEsR0FBQSxFQUFBLEdBQUEsdUJBQ0EsUUFDQSxNQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsZUFDQSxPQUFBLEVBQUEsUUFBQSxFQUFBLEtBQUEsZ0JBQ0EsSUFBQSxFQUFBLElBQUEsRUFBQSxJQUNBLEtBQUEsRUFBQSxLQUFBLEVBQUEsT0FRQSxPQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxHQUFBLHVCQUNBLFFBQ0EsTUFBQSxFQUFBLE9BQUEsRUFBQSxLQUFBLGVBQ0EsT0FBQSxFQUFBLFFBQUEsRUFBQSxLQUFBLGdCQUNBLElBQUEsRUFBQSxLQUFBLEVBQUEsYUFBQSxFQUFBLEdBQUEsZ0JBQUEsV0FDQSxLQUFBLEVBQUEsTUFBQSxFQUFBLGFBQUEsRUFBQSxHQUFBLGdCQUFBLGNBT0EsaUJBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUVBLEdBR0EsR0FDQSxFQUNBLEVBQ0EsRUFOQSxFQUFBLEVBQUEsTUFBQSxLQUNBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLFFBT0EsR0FBQSxFQUFBLEtBQUEsT0FBQSxHQUFBLEtBQUEsU0FBQSxHQUVBLEVBQUEsRUFBQSxLQUFBLGVBQ0EsRUFBQSxFQUFBLEtBQUEsZUFFQSxJQUFBLElBQ0EsT0FBQSxXQUNBLE1BQUEsR0FBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsR0FFQSxLQUFBLFdBQ0EsTUFBQSxHQUFBLE1BRUEsTUFBQSxXQUNBLE1BQUEsR0FBQSxLQUFBLEVBQUEsUUFJQSxHQUNBLE9BQUEsV0FDQSxNQUFBLEdBQUEsSUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEdBRUEsSUFBQSxXQUNBLE1BQUEsR0FBQSxLQUVBLE9BQUEsV0FDQSxNQUFBLEdBQUEsSUFBQSxFQUFBLFFBSUEsUUFBQSxHQUNBLElBQUEsUUFDQSxHQUNBLElBQUEsRUFBQSxLQUNBLEtBQUEsRUFBQSxLQUVBLE1BQ0EsS0FBQSxPQUNBLEdBQ0EsSUFBQSxFQUFBLEtBQ0EsS0FBQSxFQUFBLEtBQUEsRUFFQSxNQUNBLEtBQUEsU0FDQSxHQUNBLElBQUEsRUFBQSxLQUNBLEtBQUEsRUFBQSxLQUVBLE1BQ0EsU0FDQSxHQUNBLElBQUEsRUFBQSxJQUFBLEVBQ0EsS0FBQSxFQUFBLE1BS0EsTUFBQSxRQUtBLFFBQUEsT0FBQSwyQkFBQSwwQkFBQSwwQkFFQSxTQUFBLG9CQUNBLFVBQUEsS0FDQSxZQUFBLE9BQ0EsV0FBQSxPQUNBLGdCQUFBLE1BQ0EsZUFBQSxZQUNBLGlCQUFBLE9BQ0EsZUFBQSxNQUNBLFFBQUEsTUFDQSxRQUFBLE9BQ0EsV0FBQSxFQUNBLFlBQUEsRUFDQSxVQUFBLEdBQ0EsUUFBQSxLQUNBLFFBQUEsT0FHQSxXQUFBLHdCQUFBLFNBQUEsU0FBQSxTQUFBLGVBQUEsV0FBQSxPQUFBLGFBQUEsbUJBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQ0EsR0FBQSxjQUFBLFFBQUEsS0FHQSxNQUFBLE9BQUEsTUFBQSxRQUFBLFFBR0EsUUFBQSxTQUFBLFlBQUEsY0FBQSxhQUFBLGtCQUFBLGlCQUFBLG1CQUNBLFVBQUEsVUFBQSxZQUFBLGNBQUEsYUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsUUFBQSxVQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxTQUFBLEVBQUEsUUFBQSxNQUFBLEVBQUEsSUFBQSxFQUFBLEtBSUEsUUFBQSxTQUFBLFVBQUEsV0FBQSxTQUFBLEdBQ0EsRUFBQSxHQUNBLEVBQUEsUUFBQSxPQUFBLEVBQUEsRUFBQSxJQUFBLFNBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxLQUNBLEVBQUEsZ0JBR0EsRUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLE1BQUEsRUFBQSxJQUFBLE9BSUEsRUFBQSxlQUFBLEVBQUEsZ0JBQUEsRUFBQSxlQUNBLEVBQUEsU0FBQSxjQUFBLEVBQUEsSUFBQSxJQUFBLEtBQUEsTUFBQSxJQUFBLEtBQUEsVUFDQSxLQUFBLFdBQUEsUUFBQSxVQUFBLEVBQUEsVUFBQSxFQUFBLFFBQUEsTUFBQSxFQUFBLFVBQUEsR0FBQSxNQUVBLEVBQUEsU0FBQSxTQUFBLEdBQ0EsTUFBQSxLQUFBLEVBQUEsUUFBQSxFQUFBLEtBQUEsRUFBQSxhQUNBLEVBQUEsYUFBQSxFQUFBLEtBQ0EsSUFFQSxHQUdBLEtBQUEsS0FBQSxTQUFBLEdBQ0EsRUFBQSxFQUVBLEVBQUEsUUFBQSxXQUNBLEVBQUEsV0FJQSxLQUFBLE9BQUEsV0FDQSxHQUFBLEVBQUEsWUFBQSxDQUNBLEdBQUEsR0FBQSxHQUFBLE1BQUEsRUFBQSxhQUNBLEdBQUEsTUFBQSxFQUVBLEdBQ0EsS0FBQSxXQUFBLEVBRUEsRUFBQSxNQUFBLGlLQUVBLEVBQUEsYUFBQSxPQUFBLEdBRUEsS0FBQSxlQUdBLEtBQUEsWUFBQSxXQUNBLEdBQUEsS0FBQSxRQUFBLENBQ0EsS0FBQSxjQUVBLElBQUEsR0FBQSxFQUFBLFlBQUEsR0FBQSxNQUFBLEVBQUEsYUFBQSxJQUNBLEdBQUEsYUFBQSxpQkFBQSxHQUFBLEtBQUEsVUFBQSxLQUFBLFdBQUEsTUFJQSxLQUFBLGlCQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFlBQUEsR0FBQSxNQUFBLEVBQUEsYUFBQSxJQUNBLFFBQ0EsS0FBQSxFQUNBLE1BQUEsRUFBQSxFQUFBLEdBQ0EsU0FBQSxHQUFBLElBQUEsS0FBQSxRQUFBLEVBQUEsR0FDQSxTQUFBLEtBQUEsV0FBQSxHQUNBLFFBQUEsSUFBQSxLQUFBLFFBQUEsRUFBQSxHQUFBLFNBSUEsS0FBQSxXQUFBLFNBQUEsR0FDQSxNQUFBLE1BQUEsU0FBQSxLQUFBLFFBQUEsRUFBQSxLQUFBLFNBQUEsR0FBQSxLQUFBLFNBQUEsS0FBQSxRQUFBLEVBQUEsS0FBQSxTQUFBLEdBQUEsRUFBQSxjQUFBLEVBQUEsY0FBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLGtCQUlBLEtBQUEsTUFBQSxTQUFBLEVBQUEsR0FFQSxJQURBLEdBQUEsTUFDQSxFQUFBLE9BQUEsR0FDQSxFQUFBLEtBQUEsRUFBQSxPQUFBLEVBQUEsR0FFQSxPQUFBLElBR0EsRUFBQSxPQUFBLFNBQUEsR0FDQSxHQUFBLEVBQUEsaUJBQUEsRUFBQSxRQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsWUFBQSxHQUFBLE1BQUEsRUFBQSxhQUFBLEdBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUNBLEdBQUEsWUFBQSxFQUFBLGNBQUEsRUFBQSxXQUFBLEVBQUEsV0FDQSxFQUFBLGNBQUEsR0FDQSxFQUFBLGNBRUEsR0FBQSxXQUFBLEVBQ0EsRUFBQSxlQUFBLEVBQUEsTUFBQSxFQUFBLE1BQUEsUUFBQSxFQUFBLGdCQUFBLElBSUEsRUFBQSxLQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxXQUFBLGNBQUEsR0FBQSxFQUFBLEtBQUEsT0FBQSxHQUNBLEVBQUEsRUFBQSxXQUFBLFdBQUEsR0FBQSxFQUFBLEtBQUEsUUFBQSxFQUNBLEdBQUEsV0FBQSxZQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsZUFHQSxFQUFBLFdBQUEsU0FBQSxHQUNBLEVBQUEsR0FBQSxFQUVBLEVBQUEsaUJBQUEsRUFBQSxTQUFBLElBQUEsR0FBQSxFQUFBLGlCQUFBLEVBQUEsU0FBQSxLQUFBLElBSUEsRUFBQSxlQUFBLEVBQUEsTUFBQSxFQUFBLE1BQUEsUUFBQSxFQUFBLGdCQUFBLEtBSUEsRUFBQSxNQUFBLEdBQUEsUUFBQSxHQUFBLFFBQUEsR0FBQSxTQUFBLEdBQUEsV0FBQSxHQUFBLE1BQUEsR0FBQSxPQUFBLEdBQUEsT0FBQSxHQUFBLEtBQUEsR0FBQSxRQUFBLEdBQUEsT0FFQSxJQUFBLEdBQUEsV0FDQSxFQUFBLFdBQ0EsRUFBQSxRQUFBLEdBQUEsU0FDQSxHQUFBLEdBSUEsR0FBQSxJQUFBLG1CQUFBLEdBRUEsRUFBQSxRQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsTUFFQSxJQUFBLElBQUEsRUFBQSxXQUFBLEVBQUEsT0FPQSxHQUhBLEVBQUEsaUJBQ0EsRUFBQSxrQkFFQSxVQUFBLEdBQUEsVUFBQSxFQUFBLENBQ0EsR0FBQSxFQUFBLFdBQUEsRUFBQSxZQUNBLE1BRUEsR0FBQSxPQUFBLEVBQUEsWUFDQSxTQUNBLEVBQUEsU0FBQSxPQUFBLEdBQUEsU0FBQSxHQUlBLEVBQUEsY0FBQSxFQUFBLEdBQ0EsRUFBQSxnQkFKQSxFQUFBLFdBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxTQVFBLFVBQUEsYUFBQSxXQUNBLE9BQ0EsU0FBQSxLQUNBLFNBQUEsRUFDQSxZQUFBLHNDQUNBLE9BQ0EsZUFBQSxLQUNBLGFBQUEsS0FFQSxTQUFBLGFBQUEsYUFDQSxXQUFBLHVCQUNBLEtBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBRUEsSUFDQSxFQUFBLEtBQUEsT0FNQSxVQUFBLGFBQUEsYUFBQSxTQUFBLEdBQ0EsT0FDQSxTQUFBLEtBQ0EsU0FBQSxFQUNBLFlBQUEsK0JBQ0EsUUFBQSxjQUNBLEtBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQU9BLFFBQUEsR0FBQSxFQUFBLEdBQ0EsTUFBQSxLQUFBLEdBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxNQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxHQUFBLEdBR0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxPQUFBLEdBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxFQUFBLENBRUEsS0FEQSxFQUFBLFNBQUEsSUFDQSxFQUFBLEdBQ0EsRUFBQSxLQUFBLEdBQUEsTUFBQSxHQUNBLEVBQUEsUUFBQSxFQUFBLFVBQUEsRUFFQSxPQUFBLEdBK0NBLFFBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLE1BQUEsRUFDQSxHQUFBLFFBQUEsRUFBQSxVQUFBLEdBQUEsRUFBQSxVQUFBLEdBQ0EsSUFBQSxHQUFBLEVBQUEsU0FHQSxPQUZBLEdBQUEsU0FBQSxHQUNBLEVBQUEsUUFBQSxHQUNBLEtBQUEsTUFBQSxLQUFBLE9BQUEsRUFBQSxHQUFBLE9BQUEsR0FBQSxFQXRFQSxFQUFBLFVBQUEsRUFBQSxVQUVBLEVBQUEsTUFBQSxPQUFBLEdBQ0EsRUFBQSxRQUFBLENBRUEsSUFBQSxJQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQWVBLEdBQUEsYUFBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLFdBQUEsY0FDQSxFQUFBLEVBQUEsV0FBQSxXQUNBLEVBQUEsR0FBQSxNQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxZQUFBLEVBQUEsU0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFDQSxFQUFBLEdBQUEsTUFBQSxFQUVBLEdBQUEsR0FDQSxFQUFBLFNBQUEsRUFBQSxFQUtBLEtBQUEsR0FEQSxHQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxHQUFBLEVBQUEsSUFDQSxFQUFBLEdBQUEsUUFBQSxPQUFBLEVBQUEsaUJBQUEsRUFBQSxHQUFBLEVBQUEsWUFDQSxVQUFBLEVBQUEsR0FBQSxhQUFBLEVBQ0EsSUFBQSxFQUFBLFNBQUEsSUFBQSxHQUlBLEdBQUEsT0FBQSxHQUFBLE9BQUEsRUFDQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsT0FBQSxJQUNBLEtBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLGlCQUNBLEtBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxRQU9BLElBSEEsRUFBQSxNQUFBLEVBQUEsRUFBQSxXQUFBLEVBQUEsZ0JBQ0EsRUFBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLEdBRUEsRUFBQSxVQUFBLENBQ0EsRUFBQSxjQUdBLEtBRkEsR0FBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEdBQUEsR0FBQSxNQUNBLEVBQUEsRUFBQSxLQUFBLE9BQ0EsRUFBQSxZQUFBLEtBQUEsS0FBQSxPQUlBLEVBQUEsUUFBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLElBQUEsTUFBQSxFQUFBLGNBQUEsRUFBQSxXQUFBLEVBQUEsV0FBQSxHQUFBLE1BQUEsRUFBQSxjQUFBLEVBQUEsV0FBQSxFQUFBLFlBWUEsRUFBQSxjQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxXQUFBLFNBRUEsSUFBQSxTQUFBLEVBQ0EsR0FBQSxNQUNBLElBQUEsT0FBQSxFQUNBLEdBQUEsTUFDQSxJQUFBLFVBQUEsRUFDQSxHQUFBLE1BQ0EsSUFBQSxTQUFBLEVBQ0EsR0FBQSxNQUNBLElBQUEsV0FBQSxHQUFBLGFBQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLFdBQUEsWUFBQSxXQUFBLEVBQUEsR0FBQSxFQUNBLEdBQUEsV0FBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLEtBQUEsSUFBQSxFQUFBLEVBQUEsV0FBQSxjQUFBLEVBQUEsV0FBQSxZQUFBLE9BQ0EsU0FBQSxFQUNBLEVBQUEsRUFDQSxRQUFBLElBQ0EsRUFBQSxFQUFBLEVBQUEsV0FBQSxjQUFBLEVBQUEsV0FBQSxZQUVBLEdBQUEsV0FBQSxRQUFBLElBR0EsRUFBQSxtQkFLQSxVQUFBLGVBQUEsYUFBQSxTQUFBLEdBQ0EsT0FDQSxTQUFBLEtBQ0EsU0FBQSxFQUNBLFlBQUEsaUNBQ0EsUUFBQSxjQUNBLEtBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsTUFBQSxNQUFBLEdBQ0EsRUFBQSxRQUFBLEVBRUEsRUFBQSxhQUFBLFdBSUEsSUFBQSxHQUhBLEdBQUEsR0FBQSxPQUFBLElBQ0EsRUFBQSxFQUFBLFdBQUEsY0FFQSxFQUFBLEVBQUEsR0FBQSxFQUFBLElBQ0EsRUFBQSxHQUFBLFFBQUEsT0FBQSxFQUFBLGlCQUFBLEdBQUEsTUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLGNBQ0EsSUFBQSxFQUFBLFNBQUEsSUFBQSxHQUlBLEdBQUEsTUFBQSxFQUFBLEVBQUEsV0FBQSxFQUFBLGtCQUNBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxJQUdBLEVBQUEsUUFBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLElBQUEsTUFBQSxFQUFBLGNBQUEsRUFBQSxZQUFBLEdBQUEsTUFBQSxFQUFBLGNBQUEsRUFBQSxhQUdBLEVBQUEsY0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsV0FBQSxVQUVBLElBQUEsU0FBQSxFQUNBLEdBQUEsTUFDQSxJQUFBLE9BQUEsRUFDQSxHQUFBLE1BQ0EsSUFBQSxVQUFBLEVBQ0EsR0FBQSxNQUNBLElBQUEsU0FBQSxFQUNBLEdBQUEsTUFDQSxJQUFBLFdBQUEsR0FBQSxhQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxXQUFBLGVBQUEsV0FBQSxFQUFBLEdBQUEsRUFDQSxHQUFBLFdBQUEsWUFBQSxPQUNBLFNBQUEsRUFDQSxFQUFBLEVBQ0EsUUFBQSxJQUNBLEVBQUEsR0FFQSxHQUFBLFdBQUEsU0FBQSxJQUdBLEVBQUEsbUJBS0EsVUFBQSxjQUFBLGFBQUEsV0FDQSxPQUNBLFNBQUEsS0FDQSxTQUFBLEVBQ0EsWUFBQSxnQ0FDQSxRQUFBLGNBQ0EsS0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBTUEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxXQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxFQU5BLEdBQUEsR0FBQSxFQUFBLFNBRUEsR0FBQSxNQUFBLE1BQUEsR0FDQSxFQUFBLFFBQUEsRUFNQSxFQUFBLGFBQUEsV0FHQSxJQUFBLEdBRkEsR0FBQSxHQUFBLE9BQUEsR0FFQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsV0FBQSxlQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsR0FBQSxRQUFBLE9BQUEsRUFBQSxpQkFBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLGFBQ0EsSUFBQSxFQUFBLFNBQUEsSUFBQSxHQUlBLEdBQUEsT0FBQSxFQUFBLEdBQUEsTUFBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLEtBQUEsT0FDQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsSUFHQSxFQUFBLFFBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLGNBQUEsRUFBQSxlQUdBLEVBQUEsY0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsV0FBQSxhQUVBLFVBQUEsRUFDQSxHQUFBLEVBQ0EsT0FBQSxFQUNBLEdBQUEsRUFDQSxVQUFBLEVBQ0EsR0FBQSxFQUNBLFNBQUEsRUFDQSxHQUFBLEVBQ0EsV0FBQSxHQUFBLGFBQUEsRUFDQSxJQUFBLFdBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLE1BQ0EsU0FBQSxFQUNBLEVBQUEsRUFBQSxFQUFBLFdBQUEsZUFDQSxRQUFBLElBQ0EsRUFBQSxFQUFBLEVBQUEsV0FBQSxlQUFBLEVBQUEsR0FFQSxFQUFBLFdBQUEsWUFBQSxJQUdBLEVBQUEsbUJBS0EsU0FBQSx5QkFDQSxnQkFBQSxhQUNBLFlBQUEsUUFDQSxVQUFBLFFBQ0EsVUFBQSxPQUNBLHNCQUFBLEVBQ0EsY0FBQSxFQUNBLGVBQUEsSUFHQSxVQUFBLG1CQUFBLFdBQUEsU0FBQSxZQUFBLFlBQUEsYUFBQSxhQUFBLHdCQUNBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxPQUNBLFNBQUEsS0FDQSxRQUFBLFVBQ0EsT0FDQSxPQUFBLEtBQ0EsWUFBQSxJQUNBLFVBQUEsSUFDQSxVQUFBLElBQ0EsYUFBQSxLQUVBLEtBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQXVCQSxRQUFBLEdBQUEsR0FDQSxNQUFBLEdBQUEsUUFBQSxXQUFBLFNBQUEsR0FBQSxNQUFBLElBQUEsRUFBQSxnQkFtQ0EsUUFBQSxHQUFBLEdBQ0EsR0FBQSxFQUdBLENBQUEsR0FBQSxRQUFBLE9BQUEsS0FBQSxNQUFBLEdBRUEsTUFEQSxHQUFBLGFBQUEsUUFBQSxHQUNBLENBQ0EsSUFBQSxRQUFBLFNBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLEdBQUEsTUFBQSxFQUNBLE9BQUEsT0FBQSxPQUNBLEdBQUEsYUFBQSxRQUFBLElBR0EsRUFBQSxhQUFBLFFBQUEsR0FDQSxHQUlBLFdBREEsR0FBQSxhQUFBLFFBQUEsR0FkQSxNQURBLEdBQUEsYUFBQSxRQUFBLEdBQ0EsS0E3REEsR0FBQSxHQUNBLEVBQUEsUUFBQSxVQUFBLEVBQUEsc0JBQUEsRUFBQSxRQUFBLE1BQUEsRUFBQSxzQkFBQSxFQUFBLHFCQUNBLEVBQUEsUUFBQSxVQUFBLEVBQUEsd0JBQUEsRUFBQSxRQUFBLE1BQUEsRUFBQSx3QkFBQSxFQUFBLFlBRUEsR0FBQSxjQUFBLFFBQUEsVUFBQSxFQUFBLGVBQUEsRUFBQSxRQUFBLE1BQUEsRUFBQSxlQUFBLEVBQUEsY0FFQSxFQUFBLFFBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLFNBR0EsRUFBQSxTQUFBLGtCQUFBLFNBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxnQkFDQSxFQUFBLFdBSUEsSUFBQSxHQUFBLFFBQUEsUUFBQSwwREFDQSxHQUFBLE1BQ0EsV0FBQSxPQUNBLFlBQUEsbUJBUUEsSUFBQSxHQUFBLFFBQUEsUUFBQSxFQUFBLFdBQUEsR0FDQSxHQUFBLG1CQUNBLFFBQUEsUUFBQSxFQUFBLFFBQUEsTUFBQSxFQUFBLG1CQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsS0FBQSxFQUFBLEdBQUEsS0FJQSxFQUFBLGFBQ0EsUUFBQSxTQUFBLFVBQUEsVUFBQSxrQkFBQSxTQUFBLEdBQ0EsR0FBQSxFQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBT0EsSUFOQSxFQUFBLFFBQUEsT0FBQSxFQUFBLFNBQUEsR0FDQSxFQUFBLFVBQUEsR0FBQSxJQUVBLEVBQUEsS0FBQSxFQUFBLEdBQUEsYUFBQSxHQUdBLG1CQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxNQUNBLEdBQUEsT0FBQSxhQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsSUFBQSxHQUNBLEVBQUEsRUFBQSxRQUFBLFNBTUEsRUFBQSxjQUNBLEVBQUEsS0FBQSxnQkFBQSw0Q0F3QkEsRUFBQSxTQUFBLFFBQUEsR0FHQSxFQUFBLGNBQUEsU0FBQSxHQUNBLFFBQUEsVUFBQSxLQUNBLEVBQUEsS0FBQSxHQUVBLEVBQUEsY0FBQSxFQUFBLE1BQ0EsRUFBQSxVQUVBLElBQ0EsRUFBQSxRQUFBLEVBQ0EsRUFBQSxHQUFBLFVBSUEsRUFBQSxLQUFBLHFCQUFBLFdBQ0EsRUFBQSxPQUFBLFdBQ0EsRUFBQSxLQUFBLEVBQUEsZ0JBS0EsRUFBQSxRQUFBLFdBQ0EsR0FBQSxHQUFBLEVBQUEsV0FBQSxFQUFBLEVBQUEsV0FBQSxHQUFBLEVBQ0EsR0FBQSxJQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsRUFBQSxhQUdBLElBQUEsR0FBQSxTQUFBLEdBQ0EsRUFBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLElBQ0EsRUFBQSxPQUFBLFdBQ0EsRUFBQSxRQUFBLEtBS0EsRUFBQSxTQUFBLEdBQ0EsRUFBQSxRQUFBLEdBRUEsR0FBQSxLQUFBLFVBQUEsR0FFQSxFQUFBLFFBQUEsU0FBQSxHQUNBLEtBQUEsRUFBQSxPQUNBLEVBQUEsaUJBQ0EsRUFBQSxrQkFDQSxFQUFBLFNBQ0EsS0FBQSxFQUFBLE9BQUEsRUFBQSxTQUNBLEVBQUEsUUFBQSxJQUlBLEVBQUEsT0FBQSxTQUFBLFNBQUEsR0FDQSxHQUNBLEVBQUEsV0FBQSxvQkFDQSxFQUFBLFNBQUEsRUFBQSxFQUFBLE9BQUEsR0FBQSxFQUFBLFNBQUEsR0FDQSxFQUFBLFNBQUEsSUFBQSxFQUFBLFNBQUEsSUFBQSxFQUFBLEtBQUEsZ0JBRUEsRUFBQSxLQUFBLFFBQUEsSUFFQSxFQUFBLE9BQUEsUUFBQSxLQUlBLEVBQUEsT0FBQSxTQUFBLEdBQ0EsR0FBQSxVQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsR0FBQSxLQUNBLFNBQUEsT0FBQSxFQUFBLGNBQ0EsRUFBQSxHQUFBLE1BQUEsRUFBQSxhQUNBLEVBQUEsWUFBQSxFQUFBLGNBQUEsRUFBQSxXQUFBLEVBQUEsWUFFQSxFQUFBLEdBQUEsTUFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsSUFHQSxFQUFBLGNBQUEsSUFHQSxFQUFBLE1BQUEsV0FDQSxFQUFBLFFBQUEsRUFDQSxFQUFBLEdBQUEsUUFHQSxJQUFBLEdBQUEsRUFBQSxHQUFBLEVBRUEsR0FBQSxTQUVBLEVBQ0EsRUFBQSxLQUFBLFFBQUEsT0FBQSxHQUVBLEVBQUEsTUFBQSxHQUdBLEVBQUEsSUFBQSxXQUFBLFdBQ0EsRUFBQSxTQUNBLEVBQUEsT0FBQSxVQUFBLEdBQ0EsRUFBQSxPQUFBLFFBQUEsVUFNQSxVQUFBLHNCQUFBLFdBQ0EsT0FDQSxTQUFBLEtBQ0EsU0FBQSxFQUNBLFlBQUEsRUFDQSxZQUFBLGlDQUNBLEtBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxLQUFBLFFBQUEsU0FBQSxHQUNBLEVBQUEsaUJBQ0EsRUFBQSx3QkFNQSxRQUFBLE9BQUEsNEJBRUEsU0FBQSxrQkFDQSxVQUFBLFNBR0EsUUFBQSxtQkFBQSxZQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsSUFFQSxNQUFBLEtBQUEsU0FBQSxHQUNBLElBQ0EsRUFBQSxLQUFBLFFBQUEsR0FDQSxFQUFBLEtBQUEsVUFBQSxJQUdBLEdBQUEsSUFBQSxJQUNBLEVBQUEsUUFBQSxHQUdBLEVBQUEsR0FHQSxLQUFBLE1BQUEsU0FBQSxHQUNBLElBQUEsSUFDQSxFQUFBLEtBQ0EsRUFBQSxPQUFBLFFBQUEsR0FDQSxFQUFBLE9BQUEsVUFBQSxJQUlBLElBQUEsR0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsa0JBQ0EsSUFBQSxHQUFBLEVBQUEsR0FBQSxTQUFBLEVBQUEsU0FJQSxFQUFBLE9BQUEsV0FDQSxFQUFBLFFBQUEsS0FJQSxFQUFBLFNBQUEsR0FDQSxLQUFBLEVBQUEsUUFDQSxFQUFBLHFCQUNBLFNBS0EsV0FBQSxzQkFBQSxTQUFBLFNBQUEsU0FBQSxpQkFBQSxrQkFBQSxXQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FHQSxHQUhBLEVBQUEsS0FDQSxFQUFBLEVBQUEsT0FDQSxFQUFBLEVBQUEsVUFFQSxFQUFBLFFBQUEsS0FDQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsVUFBQSxRQUFBLElBRUEsTUFBQSxLQUFBLFNBQUEsR0FDQSxFQUFBLFNBQUEsRUFFQSxFQUFBLFNBQ0EsRUFBQSxFQUFBLEVBQUEsUUFDQSxFQUFBLEVBQUEsT0FFQSxFQUFBLE9BQUEsRUFBQSxTQUFBLEdBQ0EsRUFBQSxTQUFBLE1BS0EsS0FBQSxPQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsT0FBQSxVQUFBLFNBQUEsR0FBQSxFQUFBLFFBSUEsS0FBQSxPQUFBLFdBQ0EsTUFBQSxHQUFBLFFBR0EsRUFBQSxpQkFBQSxXQUNBLE1BQUEsR0FBQSxlQUdBLEVBQUEsbUJBQUEsV0FDQSxFQUFBLGVBQ0EsRUFBQSxjQUFBLEdBQUEsU0FJQSxFQUFBLE9BQUEsU0FBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsV0FBQSxlQUFBLEVBQUEsU0FBQSxHQUVBLEdBQ0EsRUFBQSxxQkFDQSxFQUFBLEtBQUEsSUFFQSxFQUFBLE1BQUEsR0FHQSxFQUFBLEVBQUEsR0FDQSxRQUFBLFVBQUEsSUFBQSxJQUFBLEdBQ0EsRUFBQSxHQUFBLE9BQUEsTUFJQSxFQUFBLElBQUEseUJBQUEsV0FDQSxFQUFBLFFBQUEsSUFHQSxFQUFBLElBQUEsV0FBQSxXQUNBLEVBQUEsZ0JBSUEsVUFBQSxXQUFBLFdBQ0EsT0FDQSxTQUFBLEtBQ0EsV0FBQSxxQkFDQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEtBQUEsT0FLQSxVQUFBLGlCQUFBLFdBQ0EsT0FDQSxTQUFBLEtBQ0EsUUFBQSxhQUNBLEtBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxDQUlBLEVBQUEsY0FBQSxDQUVBLElBQUEsR0FBQSxTQUFBLEdBQ0EsRUFBQSxpQkFFQSxFQUFBLFNBQUEsYUFBQSxFQUFBLFVBQ0EsRUFBQSxPQUFBLFdBQ0EsRUFBQSxXQUtBLEdBQUEsS0FBQSxRQUFBLEdBR0EsRUFBQSxNQUFBLGlCQUFBLEVBQUEsaUJBQUEsSUFDQSxFQUFBLE9BQUEsRUFBQSxPQUFBLFNBQUEsR0FDQSxFQUFBLEtBQUEsa0JBQUEsS0FHQSxFQUFBLElBQUEsV0FBQSxXQUNBLEVBQUEsT0FBQSxRQUFBLFVBTUEsUUFBQSxPQUFBLHNCQUFBLDRCQU1BLFFBQUEsZUFBQSxXQUNBLE9BQ0EsVUFBQSxXQUNBLEdBQUEsS0FFQSxRQUNBLElBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxNQUNBLElBQUEsRUFDQSxNQUFBLEtBR0EsSUFBQSxTQUFBLEdBQ0EsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUNBLEdBQUEsR0FBQSxFQUFBLEdBQUEsSUFDQSxNQUFBLEdBQUEsSUFJQSxLQUFBLFdBRUEsSUFBQSxHQURBLE1BQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQ0EsRUFBQSxLQUFBLEVBQUEsR0FBQSxJQUVBLE9BQUEsSUFFQSxJQUFBLFdBQ0EsTUFBQSxHQUFBLEVBQUEsT0FBQSxJQUVBLE9BQUEsU0FBQSxHQUVBLElBQUEsR0FEQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQ0EsR0FBQSxHQUFBLEVBQUEsR0FBQSxJQUFBLENBQ0EsRUFBQSxDQUNBLE9BR0EsTUFBQSxHQUFBLE9BQUEsRUFBQSxHQUFBLElBRUEsVUFBQSxXQUNBLE1BQUEsR0FBQSxPQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsSUFFQSxPQUFBLFdBQ0EsTUFBQSxHQUFBLGFBVUEsVUFBQSxpQkFBQSxXQUFBLFNBQUEsR0FDQSxPQUNBLFNBQUEsS0FDQSxTQUFBLEVBQ0EsWUFBQSwrQkFDQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxjQUFBLEVBQUEsZUFBQSxHQUVBLEVBQUEsU0FBQSxFQUdBLEVBQUEsV0FDQSxFQUFBLFNBQUEsU0FNQSxVQUFBLGVBQUEsY0FBQSxXQUFBLFNBQUEsRUFBQSxHQUNBLE9BQ0EsU0FBQSxLQUNBLE9BQ0EsTUFBQSxJQUNBLFFBQUEsS0FFQSxTQUFBLEVBQ0EsWUFBQSxFQUNBLFlBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLGFBQUEsOEJBRUEsS0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsU0FBQSxFQUFBLGFBQUEsSUFDQSxFQUFBLEtBQUEsRUFBQSxLQUVBLEVBQUEsV0FFQSxFQUFBLFNBQUEsRUFVQSxFQUFBLEdBQUEsaUJBQUEsZUFBQSxRQUNBLEVBQUEsR0FBQSxVQUlBLEVBQUEsTUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsUUFDQSxJQUFBLEVBQUEsTUFBQSxVQUFBLFVBQUEsRUFBQSxNQUFBLFVBQUEsRUFBQSxTQUFBLEVBQUEsZ0JBQ0EsRUFBQSxpQkFDQSxFQUFBLGtCQUNBLEVBQUEsUUFBQSxFQUFBLElBQUEseUJBT0EsVUFBQSxrQkFBQSxXQUNBLE9BQ0EsS0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsUUFBQSxTQUFBLEdBQ0EsRUFBQSxRQUNBLEVBQUEsT0FBQSxTQU1BLFFBQUEsZUFBQSxjQUFBLFdBQUEsWUFBQSxXQUFBLGFBQUEsZUFDQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQVFBLFFBQUEsS0FHQSxJQUFBLEdBRkEsR0FBQSxHQUNBLEVBQUEsRUFBQSxPQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUNBLEVBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxXQUNBLEVBQUEsRUFHQSxPQUFBLEdBU0EsUUFBQSxHQUFBLEdBRUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxRQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEtBR0EsR0FBQSxPQUFBLEdBR0EsRUFBQSxFQUFBLFdBQUEsRUFBQSxXQUFBLElBQUEsV0FDQSxFQUFBLFdBQUEsV0FDQSxFQUFBLFlBQUEsRUFBQSxFQUFBLFNBQUEsR0FDQSxNQUlBLFFBQUEsS0FFQSxHQUFBLEdBQUEsSUFBQSxJQUFBLENBQ0EsR0FBQSxHQUFBLENBQ0EsR0FBQSxFQUFBLEVBQUEsSUFBQSxXQUNBLEVBQUEsV0FDQSxFQUFBLE9BRUEsRUFBQSxPQUNBLEVBQUEsUUFJQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FtQkEsUUFBQSxLQUNBLEVBQUEsT0FHQSxFQUFBLE1BQUEsRUFFQSxFQUFBLFNBQ0EsR0FDQSxLQXpCQSxFQUFBLFNBQUEsQ0FFQSxJQUFBLEdBQUEsRUFBQSxzQkFDQSxJQUFBLEVBQUEsQ0FFQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBRUEsR0FBQSxLQUFBLEVBQUEsV0FDQSxFQUFBLE9BQUEsR0FDQSxJQUNBLEVBQUEsZUFJQSxHQUFBLEdBcEVBLEdBRUEsR0FBQSxFQUZBLEVBQUEsYUFHQSxFQUFBLEVBQUEsWUFDQSxJQThKQSxPQWpKQSxHQUFBLE9BQUEsRUFBQSxTQUFBLEdBQ0EsSUFDQSxFQUFBLE1BQUEsS0FpRUEsRUFBQSxLQUFBLFVBQUEsU0FBQSxHQUNBLEdBQUEsRUFFQSxNQUFBLEVBQUEsUUFDQSxFQUFBLEVBQUEsTUFDQSxHQUFBLEVBQUEsTUFBQSxXQUNBLEVBQUEsaUJBQ0EsRUFBQSxPQUFBLFdBQ0EsRUFBQSxRQUFBLEVBQUEsSUFBQSwwQkFNQSxFQUFBLEtBQUEsU0FBQSxFQUFBLEdBRUEsRUFBQSxJQUFBLEdBQ0EsU0FBQSxFQUFBLFNBQ0EsV0FBQSxFQUFBLE1BQ0EsU0FBQSxFQUFBLFNBQ0EsU0FBQSxFQUFBLFVBR0EsSUFBQSxHQUFBLEVBQUEsS0FBQSxRQUFBLEdBQUEsR0FDQSxFQUFBLEdBRUEsSUFBQSxHQUFBLElBQUEsRUFBQSxDQUNBLEVBQUEsRUFBQSxNQUFBLEdBQ0EsRUFBQSxNQUFBLENBQ0EsSUFBQSxHQUFBLFFBQUEsUUFBQSw2QkFDQSxHQUFBLEtBQUEsaUJBQUEsRUFBQSxlQUNBLEVBQUEsRUFBQSxHQUFBLEdBQ0EsRUFBQSxPQUFBLEdBR0EsR0FBQSxHQUFBLFFBQUEsUUFBQSwyQkFDQSxHQUFBLE1BQ0EsZUFBQSxFQUFBLGtCQUNBLGVBQUEsRUFBQSxZQUNBLEtBQUEsRUFBQSxLQUNBLE1BQUEsRUFBQSxTQUFBLEVBQ0EsUUFBQSxZQUNBLEtBQUEsRUFBQSxRQUVBLElBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxNQUNBLEdBQUEsTUFBQSxNQUFBLFdBQUEsRUFDQSxFQUFBLE9BQUEsR0FDQSxFQUFBLFNBQUEsSUFHQSxFQUFBLE1BQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsSUFBQSxFQUNBLEtBQ0EsRUFBQSxNQUFBLFNBQUEsUUFBQSxHQUNBLEVBQUEsS0FJQSxFQUFBLFFBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsSUFBQSxFQUNBLEtBQ0EsRUFBQSxNQUFBLFNBQUEsT0FBQSxHQUNBLEVBQUEsS0FJQSxFQUFBLFdBQUEsU0FBQSxHQUVBLElBREEsR0FBQSxHQUFBLEtBQUEsU0FDQSxHQUNBLEtBQUEsUUFBQSxFQUFBLElBQUEsR0FDQSxFQUFBLEtBQUEsVUFJQSxFQUFBLE9BQUEsV0FDQSxNQUFBLEdBQUEsT0FHQSxLQUdBLFNBQUEsU0FBQSxXQUVBLEdBQUEsSUFDQSxTQUNBLFVBQUEsRUFDQSxVQUFBLEdBRUEsTUFBQSxZQUFBLGFBQUEsS0FBQSxRQUFBLGlCQUFBLGNBQUEsY0FDQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBSUEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxHQUFBLFNBQUEsRUFBQSxLQUFBLEVBQUEsVUFDQSxFQUFBLElBQUEsUUFBQSxXQUFBLEVBQUEsYUFBQSxFQUFBLGNBQUEsRUFBQSxhQUNBLE1BQUEsSUFBQSxLQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsT0FJQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEtBTUEsT0FMQSxTQUFBLFFBQUEsRUFBQSxTQUFBLElBQ0EsUUFBQSxXQUFBLElBQUEsUUFBQSxRQUFBLEtBQ0EsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUEsT0FHQSxFQWpCQSxHQUFBLEtBa0dBLE9BOUVBLEdBQUEsS0FBQSxTQUFBLEdBRUEsR0FBQSxHQUFBLEVBQUEsUUFDQSxFQUFBLEVBQUEsUUFHQSxHQUNBLE9BQUEsRUFBQSxRQUNBLE9BQUEsRUFBQSxRQUNBLE1BQUEsU0FBQSxHQUNBLEVBQUEsTUFBQSxFQUFBLElBRUEsUUFBQSxTQUFBLEdBQ0EsRUFBQSxRQUFBLEVBQUEsSUFTQSxJQUpBLEVBQUEsUUFBQSxVQUFBLEVBQUEsUUFBQSxHQUNBLEVBQUEsUUFBQSxFQUFBLGFBR0EsRUFBQSxXQUFBLEVBQUEsWUFDQSxLQUFBLElBQUEsT0FBQSxzREFHQSxJQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsSUFBQSxPQUFBLEVBQUEsRUFBQSxVQWdEQSxPQTdDQSxHQUFBLEtBQUEsU0FBQSxHQUVBLEdBQUEsSUFBQSxFQUFBLE9BQUEsR0FBQSxNQUNBLEdBQUEsT0FBQSxFQUFBLE1BQ0EsRUFBQSxTQUFBLEVBQUEsT0FFQSxJQUFBLEdBQUEsS0FDQSxFQUFBLENBR0EsR0FBQSxhQUNBLEVBQUEsT0FBQSxFQUNBLEVBQUEsZUFBQSxFQUNBLFFBQUEsUUFBQSxFQUFBLFFBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsT0FHQSxFQUFBLEVBQUEsRUFBQSxXQUFBLEdBQ0EsRUFBQSxlQUNBLEVBQUEsRUFBQSxjQUFBLElBSUEsRUFBQSxLQUFBLEdBQ0EsTUFBQSxFQUNBLFNBQUEsRUFDQSxRQUFBLEVBQUEsR0FDQSxTQUFBLEVBQUEsU0FDQSxTQUFBLEVBQUEsU0FDQSxjQUFBLEVBQUEsY0FDQSxZQUFBLEVBQUEsWUFDQSxrQkFBQSxFQUFBLGtCQUNBLEtBQUEsRUFBQSxRQUdBLFNBQUEsR0FDQSxFQUFBLE9BQUEsS0FHQSxFQUFBLEtBQUEsV0FDQSxFQUFBLFNBQUEsSUFDQSxXQUNBLEVBQUEsUUFBQSxLQUdBLEdBR0EsSUFJQSxPQUFBLEtBR0EsUUFBQSxPQUFBLDhCQUVBLFdBQUEsd0JBQUEsU0FBQSxTQUFBLFNBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsS0FDQSxHQUFBLGNBQUEsUUFBQSxNQUNBLEVBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxVQUFBLE9BQUEsUUFBQSxJQUVBLE1BQUEsS0FBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLEVBQ0EsS0FBQSxPQUFBLEVBRUEsRUFBQSxRQUFBLFdBQ0EsRUFBQSxVQUdBLEVBQUEsYUFDQSxFQUFBLFFBQUEsT0FBQSxFQUFBLEVBQUEsY0FBQSxTQUFBLEdBQ0EsRUFBQSxhQUFBLFNBQUEsRUFBQSxJQUNBLEVBQUEsV0FBQSxFQUFBLHdCQUdBLEtBQUEsYUFBQSxFQUFBLGNBSUEsS0FBQSxvQkFBQSxXQUNBLEdBQUEsR0FBQSxLQUFBLGFBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLFdBQUEsS0FBQSxhQUNBLE9BQUEsTUFBQSxJQUFBLEdBQUEsRUFBQSxJQUdBLEtBQUEsT0FBQSxXQUNBLEVBQUEsS0FBQSxTQUFBLEVBQUEsV0FBQSxLQUFBLEdBR0EsRUFBQSxXQUFBLFNBQUEsR0FDQSxFQUFBLE9BQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLGFBQ0EsRUFBQSxjQUFBLEdBQ0EsRUFBQTtFQUlBLEVBQUEsUUFBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsU0FBQSxFQUFBLE9BQUEsRUFBQSxTQUVBLEVBQUEsV0FBQSxXQUNBLE1BQUEsS0FBQSxFQUFBLE1BRUEsRUFBQSxPQUFBLFdBQ0EsTUFBQSxHQUFBLE9BQUEsRUFBQSxZQUdBLEVBQUEsT0FBQSxhQUFBLFdBQ0EsRUFBQSxXQUFBLEVBQUEsd0JBR0EsRUFBQSxPQUFBLGFBQUEsU0FBQSxHQUNBLEVBQUEsRUFBQSxRQUFBLEdBRUEsRUFBQSxLQUFBLEVBQ0EsRUFBQSxXQUFBLEdBRUEsRUFBQSxlQUtBLFNBQUEsb0JBQ0EsYUFBQSxHQUNBLGVBQUEsRUFDQSxnQkFBQSxFQUNBLFVBQUEsUUFDQSxhQUFBLFdBQ0EsU0FBQSxPQUNBLFNBQUEsT0FDQSxRQUFBLElBR0EsVUFBQSxjQUFBLFNBQUEsbUJBQUEsU0FBQSxFQUFBLEdBQ0EsT0FDQSxTQUFBLEtBQ0EsT0FDQSxXQUFBLElBQ0EsVUFBQSxJQUNBLGFBQUEsSUFDQSxTQUFBLElBQ0EsU0FBQSxLQUVBLFNBQUEsYUFBQSxZQUNBLFdBQUEsdUJBQ0EsWUFBQSxzQ0FDQSxTQUFBLEVBQ0EsS0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBdUJBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxPQUNBLE9BQUEsRUFDQSxLQUFBLEVBQ0EsT0FBQSxHQUlBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxNQUdBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsRUFBQSxRQUFBLFVBQUEsSUFBQSxFQUFBLENBR0EsS0FDQSxHQUVBLEVBQUEsS0FBQSxJQUFBLEVBQUEsS0FBQSxNQUFBLEVBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEVBR0EsRUFBQSxJQUNBLEVBQUEsRUFDQSxFQUFBLEVBQUEsRUFBQSxLQUlBLEdBQUEsS0FBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFHQSxFQUFBLEtBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxJQUtBLEtBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUNBLEdBQUEsS0FBQSxHQUlBLEdBQUEsSUFBQSxFQUFBLENBQ0EsR0FBQSxFQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUNBLEdBQUEsUUFBQSxHQUdBLEdBQUEsRUFBQSxFQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFDQSxHQUFBLEtBQUEsSUFJQSxNQUFBLEdBN0VBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBRUEsSUFBQSxFQUFBLENBS0EsR0FBQSxHQUFBLFFBQUEsVUFBQSxFQUFBLFNBQUEsRUFBQSxRQUFBLE1BQUEsRUFBQSxTQUFBLEVBQUEsUUFDQSxFQUFBLFFBQUEsVUFBQSxFQUFBLFFBQUEsRUFBQSxRQUFBLE1BQUEsRUFBQSxRQUFBLEVBQUEsTUFDQSxHQUFBLGNBQUEsUUFBQSxVQUFBLEVBQUEsZUFBQSxFQUFBLFFBQUEsTUFBQSxFQUFBLGVBQUEsRUFBQSxjQUNBLEVBQUEsZUFBQSxRQUFBLFVBQUEsRUFBQSxnQkFBQSxFQUFBLFFBQUEsTUFBQSxFQUFBLGdCQUFBLEVBQUEsZUFFQSxFQUFBLEtBQUEsRUFBQSxHQUVBLEVBQUEsU0FDQSxFQUFBLFFBQUEsT0FBQSxFQUFBLEVBQUEsU0FBQSxTQUFBLEdBQ0EsRUFBQSxTQUFBLEVBQUEsSUFDQSxFQUFBLFVBK0RBLElBQUEsR0FBQSxFQUFBLE1BQ0EsR0FBQSxPQUFBLFdBQ0EsSUFDQSxFQUFBLEtBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxhQUNBLEVBQUEsTUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLG9CQU9BLFNBQUEsZUFDQSxhQUFBLEdBQ0EsYUFBQSxhQUNBLFNBQUEsU0FDQSxPQUFBLElBR0EsVUFBQSxTQUFBLGNBQUEsU0FBQSxHQUNBLE9BQ0EsU0FBQSxLQUNBLE9BQ0EsV0FBQSxJQUNBLGFBQUEsSUFDQSxTQUFBLEtBRUEsU0FBQSxRQUFBLFlBQ0EsV0FBQSx1QkFDQSxZQUFBLGlDQUNBLFNBQUEsRUFDQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUVBLEtBSUEsRUFBQSxNQUFBLFFBQUEsVUFBQSxFQUFBLE9BQUEsRUFBQSxRQUFBLE1BQUEsRUFBQSxPQUFBLEVBQUEsTUFDQSxFQUFBLEtBQUEsRUFBQSxTQVVBLFFBQUEsT0FBQSx3QkFBQSx3QkFBQSwwQkFNQSxTQUFBLFdBQUEsV0EyQ0EsUUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLFNBQ0EsRUFBQSxHQUNBLE9BQUEsR0FBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsT0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLGdCQTdDQSxHQUFBLElBQ0EsVUFBQSxNQUNBLFdBQUEsRUFDQSxXQUFBLEdBSUEsR0FDQSxXQUFBLGFBQ0EsTUFBQSxRQUNBLE1BQUEsUUFJQSxJQVdBLE1BQUEsUUFBQSxTQUFBLEdBQ0EsUUFBQSxPQUFBLEVBQUEsSUFRQSxLQUFBLFlBQUEsU0FBQSxHQUNBLFFBQUEsT0FBQSxFQUFBLElBa0JBLEtBQUEsTUFBQSxVQUFBLFdBQUEsV0FBQSxTQUFBLFlBQUEsWUFBQSxlQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLFVBQUEsRUFBQSxFQUFBLEdBaUJBLFFBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEVBQUEsU0FBQSxFQUNBLEVBQUEsRUFBQSxJQUFBLENBQ0EsUUFDQSxLQUFBLEVBQ0EsS0FBQSxHQXJCQSxHQUFBLEdBQUEsUUFBQSxVQUFBLEVBQUEsR0F5QkEsRUFBQSxFQUFBLEdBRUEsRUFBQSxFQUFBLGNBQ0EsRUFBQSxFQUFBLFlBQ0EsRUFDQSxRQUFBLEVBQUEsaUJBQ0EsRUFBQSxXQUFBLEVBQUEsY0FDQSxFQUFBLGFBQUEsRUFBQSxnQkFDQSxFQUFBLGVBQUEsRUFBQSx1REFNQSxRQUNBLFNBQUEsS0FDQSxPQUFBLEVBQ0EsUUFBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLEVBRUEsT0FBQSxVQUFBLEVBQUEsRUFBQSxHQXNCQSxRQUFBLEtBQ0EsRUFBQSxVQUdBLElBRkEsSUFPQSxRQUFBLE9BQ0EsR0FBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLGNBR0EsRUFBQSxjQUdBLElBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxlQUFBLEdBQ0EsRUFBQSxLQUFBLFNBQUEsR0FBQSxPQUdBLE9BSUEsUUFBQSxLQUNBLEVBQUEsT0FBQSxXQUNBLE1BS0EsUUFBQSxLQVlBLE1BVkEsR0FBQSxLQUlBLElBQ0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxNQUlBLEVBQUEsWUFJQSxJQUdBLEVBQUEsS0FBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLFFBQUEsVUFJQSxFQUNBLEVBQUEsS0FBQSxRQUFBLE9BQUEsR0FFQSxFQUFBLE1BQUEsR0FHQSxJQUdBLEVBQUEsV0FBQSxFQUNBLEVBQUEsVUFJQSxHQXhCQSxRQUFBLEtBNEJBLFFBQUEsS0FFQSxFQUFBLFdBQUEsRUFHQSxFQUFBLE9BQUEsR0FDQSxFQUFBLEtBS0EsRUFBQSxhQUNBLElBQ0EsRUFBQSxFQUFBLEVBQUEsTUFHQSxJQUlBLFFBQUEsS0FFQSxHQUNBLElBRUEsRUFBQSxFQUFBLEVBQUEsY0FHQSxFQUFBLFVBR0EsUUFBQSxLQUNBLEVBQUEsS0FDQSxJQUNBLEVBQUEsU0FDQSxFQUFBLE1BaklBLEdBQUEsR0FDQSxFQUNBLEVBQ0EsRUFBQSxRQUFBLFVBQUEsRUFBQSxjQUFBLEVBQUEsY0FBQSxFQUNBLEVBQUEsRUFBQSxRQUNBLEVBQUEsUUFBQSxVQUFBLEVBQUEsRUFBQSxXQUVBLEVBQUEsV0FFQSxHQUFBLEdBQUEsRUFBQSxpQkFBQSxFQUFBLEVBQUEsRUFBQSxhQUFBLEVBQ0EsR0FBQSxLQUFBLEtBQ0EsRUFBQSxNQUFBLEtBR0EsRUFBQSxJQUFBLEdBS0EsR0FBQSxXQUFBLEVBcUhBLEVBQUEsU0FBQSxFQUFBLFNBQUEsR0FDQSxFQUFBLFdBQUEsR0FFQSxHQUFBLEVBQUEsV0FDQSxNQUlBLEVBQUEsU0FBQSxFQUFBLFFBQUEsU0FBQSxHQUNBLEVBQUEsU0FBQSxJQUdBLEVBQUEsU0FBQSxFQUFBLFlBQUEsU0FBQSxHQUNBLEVBQUEsYUFBQSxRQUFBLFVBQUEsR0FBQSxFQUFBLEVBQUEsWUFHQSxFQUFBLFNBQUEsRUFBQSxhQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxjQUFBLE1BQUEsR0FBQSxFQUFBLFdBQUEsR0FHQSxJQUFBLEdBQUEsV0FDQSxFQUFBLE9BQUEsRUFBQSxLQUFBLEdBQ0EsRUFBQSxPQUFBLEVBQUEsS0FBQSxHQUdBLEdBQUEsU0FBQSxFQUFBLFVBQUEsU0FBQSxHQUNBLElBRUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxPQUFBLEVBQUEsS0FDQSxFQUFBLEtBQUEsRUFBQSxLQUFBLElBRUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxHQUNBLEVBQUEsS0FBQSxFQUFBLEtBQUEsS0FJQSxJQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxhQUNBLEdBQUEsYUFBQSxRQUFBLFVBQUEsS0FBQSxFQUFBLEVBQUEsVUFFQSxFQUFBLFNBQUEsRUFBQSxlQUFBLFNBQUEsR0FDQSxFQUFBLFFBQUEsVUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLElBTUEsR0FDQSxFQUFBLElBQUEseUJBQUEsV0FDQSxFQUFBLFdBQ0EsTUFNQSxFQUFBLElBQUEsV0FBQSxXQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsT0FBQSxHQUNBLElBQ0EsY0FTQSxVQUFBLGVBQUEsV0FDQSxPQUNBLFNBQUEsS0FDQSxTQUFBLEVBQ0EsT0FBQSxRQUFBLElBQUEsVUFBQSxJQUFBLFVBQUEsSUFBQSxPQUFBLEtBQ0EsWUFBQSx5Q0FJQSxVQUFBLFdBQUEsV0FBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLFVBQUEsVUFBQSxpQkFHQSxVQUFBLHlCQUFBLFdBQ0EsT0FDQSxTQUFBLEtBQ0EsU0FBQSxFQUNBLE9BQUEsUUFBQSxJQUFBLFVBQUEsSUFBQSxVQUFBLElBQUEsT0FBQSxLQUNBLFlBQUEscURBSUEsVUFBQSxxQkFBQSxXQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsb0JBQUEsVUFBQSxpQkFRQSxRQUFBLE9BQUEsd0JBQUEseUJBRUEsVUFBQSxlQUFBLFdBQ0EsT0FDQSxTQUFBLEtBQ0EsU0FBQSxFQUNBLE9BQUEsTUFBQSxJQUFBLFFBQUEsSUFBQSxVQUFBLElBQUEsVUFBQSxJQUFBLE9BQUEsS0FDQSxZQUFBLG1DQUlBLFVBQUEsV0FBQSxXQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsVUFBQSxVQUFBLFlBR0EsUUFBQSxPQUFBLCtCQUVBLFNBQUEsa0JBQ0EsU0FBQSxFQUNBLElBQUEsTUFHQSxXQUFBLHNCQUFBLFNBQUEsU0FBQSxpQkFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxLQUNBLEVBQUEsUUFBQSxVQUFBLEVBQUEsU0FBQSxFQUFBLFFBQUEsTUFBQSxFQUFBLFNBQUEsRUFBQSxPQUVBLE1BQUEsUUFDQSxFQUFBLElBQUEsUUFBQSxVQUFBLEVBQUEsS0FBQSxFQUFBLFFBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxJQUVBLEtBQUEsT0FBQSxTQUFBLEVBQUEsR0FDQSxHQUNBLEVBQUEsS0FBQSxXQUFBLFNBR0EsS0FBQSxLQUFBLEtBQUEsR0FFQSxFQUFBLE9BQUEsUUFBQSxTQUFBLEdBQ0EsRUFBQSxVQUFBLElBQUEsRUFBQSxFQUFBLEtBQUEsUUFBQSxLQUdBLEVBQUEsSUFBQSxXQUFBLFdBQ0EsRUFBQSxLQUNBLEVBQUEsVUFBQSxNQUlBLEtBQUEsVUFBQSxTQUFBLEdBQ0EsS0FBQSxLQUFBLE9BQUEsS0FBQSxLQUFBLFFBQUEsR0FBQSxPQUlBLFVBQUEsV0FBQSxXQUNBLE9BQ0EsU0FBQSxLQUNBLFNBQUEsRUFDQSxZQUFBLEVBQ0EsV0FBQSxxQkFDQSxRQUFBLFdBQ0EsU0FDQSxZQUFBLHdDQUlBLFVBQUEsTUFBQSxXQUNBLE9BQ0EsU0FBQSxLQUNBLFNBQUEsRUFDQSxZQUFBLEVBQ0EsUUFBQSxZQUNBLE9BQ0EsTUFBQSxJQUNBLEtBQUEsS0FFQSxZQUFBLGdDQUNBLEtBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsT0FBQSxFQUFBLE9BS0EsVUFBQSxjQUFBLFdBQ0EsT0FDQSxTQUFBLEtBQ0EsU0FBQSxFQUNBLFlBQUEsRUFDQSxXQUFBLHFCQUNBLE9BQ0EsTUFBQSxJQUNBLEtBQUEsS0FFQSxZQUFBLHdDQUNBLEtBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsT0FBQSxFQUFBLFFBQUEsUUFBQSxFQUFBLFdBQUEsU0FJQSxRQUFBLE9BQUEsMEJBRUEsU0FBQSxnQkFDQSxJQUFBLEVBQ0EsUUFBQSxLQUNBLFNBQUEsT0FHQSxXQUFBLG9CQUFBLFNBQUEsU0FBQSxlQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxJQUFBLGNBQUEsUUFBQSxLQUVBLE1BQUEsS0FBQSxTQUFBLEdBQ0EsRUFBQSxFQUNBLEVBQUEsUUFBQSxLQUFBLE9BRUEsS0FBQSxRQUFBLFFBQUEsVUFBQSxFQUFBLFNBQUEsRUFBQSxRQUFBLE1BQUEsRUFBQSxTQUFBLEVBQUEsUUFDQSxLQUFBLFNBQUEsUUFBQSxVQUFBLEVBQUEsVUFBQSxFQUFBLFFBQUEsTUFBQSxFQUFBLFVBQUEsRUFBQSxRQUVBLElBQUEsR0FBQSxRQUFBLFVBQUEsRUFBQSxjQUFBLEVBQUEsUUFBQSxNQUFBLEVBQUEsY0FDQSxHQUFBLE9BQUEsUUFBQSxVQUFBLEVBQUEsS0FBQSxFQUFBLFFBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxJQUNBLEdBQUEsTUFBQSxLQUFBLHFCQUFBLElBR0EsS0FBQSxxQkFBQSxTQUFBLEdBQ0EsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEdBQUEsUUFBQSxRQUFBLE1BQUEsSUFBQSxRQUFBLEtBQUEsUUFBQSxTQUFBLEtBQUEsVUFBQSxFQUFBLEdBRUEsT0FBQSxJQUdBLEVBQUEsS0FBQSxTQUFBLElBQ0EsRUFBQSxVQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsTUFBQSxTQUNBLEVBQUEsY0FBQSxHQUNBLEVBQUEsWUFJQSxFQUFBLE1BQUEsU0FBQSxHQUNBLEVBQUEsV0FDQSxFQUFBLE1BQUEsR0FFQSxFQUFBLFNBQUEsTUFBQSxLQUdBLEVBQUEsTUFBQSxXQUNBLEVBQUEsTUFBQSxFQUFBLFdBQ0EsRUFBQSxXQUdBLEVBQUEsVUFBQSxTQUFBLEdBQ0EsZ0JBQUEsS0FBQSxFQUFBLFNBQ0EsRUFBQSxpQkFDQSxFQUFBLGtCQUNBLEVBQUEsS0FBQSxFQUFBLE9BQUEsS0FBQSxFQUFBLE9BQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxPQUlBLEtBQUEsT0FBQSxXQUNBLEVBQUEsTUFBQSxFQUFBLGVBSUEsVUFBQSxTQUFBLFdBQ0EsT0FDQSxTQUFBLEtBQ0EsU0FBQSxTQUFBLFdBQ0EsT0FDQSxTQUFBLEtBQ0EsUUFBQSxJQUNBLFFBQUEsS0FFQSxXQUFBLG1CQUNBLFlBQUEsOEJBQ0EsU0FBQSxFQUNBLEtBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBRUEsSUFDQSxFQUFBLEtBQUEsT0FjQSxRQUFBLE9BQUEsd0JBRUEsV0FBQSxvQkFBQSxTQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsS0FDQSxFQUFBLEVBQUEsS0FBQSxFQUFBLE9BRUEsR0FBQSxPQUFBLFNBQUEsR0FDQSxRQUFBLFFBQUEsRUFBQSxTQUFBLEdBQ0EsRUFBQSxRQUFBLElBQUEsSUFDQSxFQUFBLFFBQUEsRUFDQSxFQUFBLGdCQUdBLEVBQUEsUUFBQSxFQUNBLEVBQUEsWUFHQSxFQUFBLE9BQUEsU0FBQSxHQUNBLEVBQUEsS0FBQSxHQUdBLElBQUEsRUFBQSxPQUNBLEVBQUEsUUFBQSxFQUNBLEVBQUEsUUFDQSxFQUFBLE9BQUEsSUFJQSxFQUFBLFVBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFFBQUEsRUFFQSxJQUFBLEVBQUEsUUFBQSxFQUFBLE9BQUEsRUFBQSxDQUVBLEdBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLENBQ0EsR0FBQSxPQUFBLEVBQUEsSUFFQSxFQUFBLE9BQUEsRUFBQSxPQWtDQSxVQUFBLFNBQUEsV0FDQSxPQUNBLFNBQUEsS0FDQSxZQUFBLEVBQ0EsU0FBQSxFQUNBLE9BQ0EsS0FBQSxLQUVBLFdBQUEsbUJBQ0EsWUFBQSw0QkFDQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxTQUFBLFFBQUEsVUFBQSxFQUFBLFVBQUEsRUFBQSxRQUFBLE1BQUEsRUFBQSxXQUFBLEVBQ0EsRUFBQSxVQUFBLFFBQUEsVUFBQSxFQUFBLFdBQUEsRUFBQSxRQUFBLE1BQUEsRUFBQSxZQUFBLE1BcUZBLFVBQUEsT0FBQSxTQUFBLFNBQUEsR0FDQSxPQUNBLFFBQUEsVUFDQSxTQUFBLEtBQ0EsU0FBQSxFQUNBLFlBQUEseUJBQ0EsWUFBQSxFQUNBLE9BQ0EsT0FBQSxLQUNBLFFBQUEsSUFDQSxTQUFBLFVBRUEsV0FBQSxhQUVBLFdBQUEsYUFHQSxRQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxVQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxPQUFBLFNBQUEsU0FBQSxHQUNBLEdBQ0EsRUFBQSxPQUFBLEtBSUEsRUFBQSxVQUFBLEVBQ0EsRUFBQSxVQUNBLEVBQUEsUUFBQSxPQUFBLEVBQUEsRUFBQSxVQUFBLFNBQUEsR0FDQSxFQUFBLFdBQUEsSUFJQSxFQUFBLE9BQUEsV0FDQSxFQUFBLFdBQ0EsRUFBQSxRQUFBLElBSUEsRUFBQSxPQUFBLEdBQ0EsRUFBQSxJQUFBLFdBQUEsV0FDQSxFQUFBLFVBQUEsS0FLQSxFQUFBLGNBQUEsUUFNQSxVQUFBLHdCQUFBLFdBQ0EsT0FDQSxTQUFBLElBQ0EsUUFBQSxPQUNBLEtBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxPQUFBLGlCQUFBLFNBQUEsR0FDQSxJQUNBLEVBQUEsS0FBQSxJQUNBLEVBQUEsT0FBQSxXQU9BLFVBQUEsdUJBQUEsV0FxQkEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxHQUFBLFVBQ0EsRUFBQSxhQUFBLGdCQUNBLEVBQUEsYUFBQSxxQkFDQSxnQkFBQSxFQUFBLFFBQUEsZUFDQSxxQkFBQSxFQUFBLFFBQUEsZUF6QkEsT0FDQSxTQUFBLElBQ0EsUUFBQSxVQUNBLEtBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEscUJBSUEsR0FBQSxjQUFBLEVBQUEsUUFBQSxTQUFBLEdBQ0EsUUFBQSxRQUFBLEVBQUEsU0FBQSxHQUNBLEVBQUEsR0FFQSxFQUFBLGVBQUEsRUFFQSxFQUFBLE9BQUEsV0FrQkEsUUFBQSxPQUFBLDhCQUVBLFNBQUEsb0JBQ0EsU0FBQSxFQUNBLFdBQUEsRUFDQSxjQUFBLEVBQ0EsVUFBQSxLQUNBLGVBQUEsRUFDQSxZQUFBLElBR0EsV0FBQSx3QkFBQSxTQUFBLFNBQUEsU0FBQSxPQUFBLFVBQUEsbUJBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0F1REEsUUFBQSxLQUNBLEdBQUEsR0FBQSxTQUFBLEVBQUEsTUFBQSxJQUNBLEVBQUEsRUFBQSxhQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsQ0FDQSxPQUFBLElBSUEsRUFBQSxlQUNBLEtBQUEsSUFDQSxFQUFBLEdBRUEsRUFBQSxXQUFBLEVBQUEsS0FDQSxHQUFBLEtBR0EsR0FYQSxPQWNBLFFBQUEsS0FDQSxHQUFBLEdBQUEsU0FBQSxFQUFBLFFBQUEsR0FDQSxPQUFBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxPQUdBLFFBQUEsR0FBQSxHQUNBLE1BQUEsU0FBQSxVQUFBLElBQUEsRUFBQSxXQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsRUFvR0EsUUFBQSxHQUFBLEdBQ0EsSUFDQSxFQUFBLGNBQUEsR0FBQSxNQUFBLElBQ0EsRUFBQSxHQUdBLFFBQUEsS0FDQSxFQUFBLGFBQUEsUUFBQSxHQUNBLEVBQUEsY0FBQSxFQUNBLEVBQUEsZ0JBQUEsRUFHQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxZQUVBLEdBQUEsZUFDQSxFQUFBLElBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLElBR0EsRUFBQSxNQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLFFBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsU0FBQSxFQUFBLFdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxHQUdBLFFBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLE1BQUEsRUFBQSxVQUFBLElBQUEsRUFDQSxHQUFBLFNBQUEsRUFBQSxXQUFBLEVBQUEsY0FDQSxJQTdNQSxHQUFBLEdBQUEsR0FBQSxNQUNBLEdBQUEsY0FBQSxRQUFBLE1BQ0EsRUFBQSxRQUFBLFVBQUEsRUFBQSxXQUFBLEVBQUEsUUFBQSxNQUFBLEVBQUEsV0FBQSxFQUFBLFdBQUEsRUFBQSxpQkFBQSxLQUVBLE1BQUEsS0FBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLEVBQ0EsRUFBQSxRQUFBLEtBQUEsTUFFQSxJQUFBLEdBQUEsRUFBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQUEsR0FFQSxFQUFBLFFBQUEsVUFBQSxFQUFBLFlBQUEsRUFBQSxRQUFBLE1BQUEsRUFBQSxZQUFBLEVBQUEsVUFDQSxJQUNBLEtBQUEsc0JBQUEsRUFBQSxHQUdBLEVBQUEsY0FBQSxRQUFBLFVBQUEsRUFBQSxlQUFBLEVBQUEsUUFBQSxNQUFBLEVBQUEsZUFBQSxFQUFBLGNBQ0EsS0FBQSxpQkFBQSxFQUFBLEdBR0EsSUFBQSxHQUFBLEVBQUEsUUFDQSxHQUFBLFVBQ0EsRUFBQSxRQUFBLE9BQUEsRUFBQSxFQUFBLFVBQUEsU0FBQSxHQUNBLEVBQUEsU0FBQSxFQUFBLEtBSUEsSUFBQSxHQUFBLEVBQUEsVUFDQSxHQUFBLFlBQ0EsRUFBQSxRQUFBLE9BQUEsRUFBQSxFQUFBLFlBQUEsU0FBQSxHQUNBLEVBQUEsU0FBQSxFQUFBLE1BS0EsRUFBQSxhQUFBLEVBQUEsYUFDQSxFQUFBLGNBQ0EsRUFBQSxRQUFBLE9BQUEsRUFBQSxFQUFBLGNBQUEsU0FBQSxHQUdBLEdBRkEsRUFBQSxlQUFBLEVBRUEsRUFBQSxPQUFBLEtBQUEsQ0FFQSxHQUFBLEdBQUEsSUFBQSxFQUFBLEdBQ0EsU0FBQSxVQUFBLElBQUEsUUFBQSxVQUFBLEtBQ0EsRUFBQSxTQUFBLEdBQ0EsU0FHQSxPQWtDQSxLQUFBLHNCQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxTQUFBLEdBQ0EsRUFBQSxnQkFDQSxFQUFBLEVBQUEsY0FHQSxJQUFBLEdBQUEsRUFBQSxXQUFBLEVBQUEsWUFBQSxFQUFBLE1BQ0EsT0FBQSxHQUFBLFFBQUEsRUFBQSxFQUdBLEdBQUEsS0FBQSxtQkFBQSxTQUFBLEdBQ0EsRUFBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLGlCQUFBLEVBQUEsa0JBQ0EsRUFBQSxtQkFHQSxFQUFBLEtBQUEsbUJBQUEsU0FBQSxHQUNBLEVBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxtQkFBQSxFQUFBLG9CQUNBLEVBQUEsb0JBS0EsS0FBQSxpQkFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsY0FHQSxNQUZBLEdBQUEsWUFBQSxRQUFBLFVBQ0EsRUFBQSxjQUFBLFFBQUEsS0FJQSxJQUFBLEdBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxjQUFBLE1BQ0EsRUFBQSxhQUFBLFFBQUEsR0FDQSxRQUFBLFVBQUEsS0FDQSxFQUFBLGFBQUEsR0FFQSxRQUFBLFVBQUEsS0FDQSxFQUFBLGVBQUEsR0FJQSxHQUFBLFlBQUEsV0FDQSxHQUFBLEdBQUEsR0FFQSxTQUFBLFVBQUEsSUFDQSxFQUFBLFNBQUEsR0FDQSxFQUFBLE1BRUEsR0FBQSxJQUlBLEVBQUEsS0FBQSxPQUFBLFlBQ0EsRUFBQSxjQUFBLEVBQUEsTUFBQSxJQUNBLEVBQUEsT0FBQSxXQUNBLEVBQUEsTUFBQSxFQUFBLEVBQUEsV0FLQSxFQUFBLGNBQUEsV0FDQSxHQUFBLEdBQUEsR0FFQSxTQUFBLFVBQUEsSUFDQSxFQUFBLFdBQUEsR0FDQSxFQUFBLE1BRUEsRUFBQSxRQUFBLElBSUEsRUFBQSxLQUFBLE9BQUEsWUFDQSxFQUFBLGdCQUFBLEVBQUEsUUFBQSxJQUNBLEVBQUEsT0FBQSxXQUNBLEVBQUEsUUFBQSxFQUFBLEVBQUEsY0FPQSxLQUFBLE9BQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxZQUFBLEdBQUEsTUFBQSxFQUFBLGFBQUEsSUFFQSxPQUFBLElBQ0EsRUFBQSxhQUFBLFFBQUEsR0FDQSxFQUFBLE1BQUEsbUtBRUEsSUFDQSxFQUFBLEdBRUEsSUFDQSxNQW1DQSxFQUFBLGVBQUEsV0FDQSxFQUFBLEdBQUEsSUFFQSxFQUFBLGVBQUEsV0FDQSxFQUFBLElBQUEsSUFFQSxFQUFBLGlCQUFBLFdBQ0EsRUFBQSxJQUVBLEVBQUEsaUJBQUEsV0FDQSxHQUFBLElBRUEsRUFBQSxlQUFBLFdBQ0EsRUFBQSxLQUFBLEVBQUEsV0FBQSxHQUFBLEVBQUEsU0FJQSxVQUFBLGFBQUEsV0FDQSxPQUNBLFNBQUEsS0FDQSxTQUFBLGFBQUEsYUFDQSxXQUFBLHVCQUNBLFNBQUEsRUFDQSxTQUNBLFlBQUEsc0NBQ0EsS0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFFQSxJQUNBLEVBQUEsS0FBQSxFQUFBLEVBQUEsS0FBQSxjQU1BLFFBQUEsT0FBQSwwQkFBQSx3QkFBQSwwQkFNQSxRQUFBLG1CQUFBLFNBQUEsU0FBQSxHQUdBLEdBQUEsR0FBQSx3RkFFQSxRQUNBLE1BQUEsU0FBQSxHQUVBLEdBQUEsR0FBQSxFQUFBLE1BQUEsRUFDQSxLQUFBLEVBQ0EsS0FBQSxJQUFBLE9BQ0EsZ0hBQ0EsRUFBQSxLQUdBLFFBQ0EsU0FBQSxFQUFBLEdBQ0EsT0FBQSxFQUFBLEVBQUEsSUFDQSxXQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsSUFDQSxZQUFBLEVBQUEsRUFBQSxVQU1BLFVBQUEsYUFBQSxXQUFBLFNBQUEsS0FBQSxXQUFBLFlBQUEsWUFBQSxrQkFDQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBRUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsR0FFQSxRQUNBLFFBQUEsVUFDQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FLQSxHQTBCQSxHQTFCQSxFQUFBLEVBQUEsTUFBQSxFQUFBLHFCQUFBLEVBR0EsRUFBQSxFQUFBLE1BQUEsRUFBQSxrQkFBQSxFQUdBLEVBQUEsRUFBQSxNQUFBLEVBQUEsc0JBQUEsRUFHQSxFQUFBLEVBQUEsRUFBQSxrQkFBQSxRQUFBLFFBQUEsS0FHQSxFQUFBLEVBQUEsRUFBQSxtQkFFQSxFQUFBLEVBQUEsd0JBQUEsRUFBQSxFQUFBLHlCQUFBLE9BRUEsRUFBQSxFQUFBLHNCQUFBLEVBQUEsTUFBQSxFQUFBLHdCQUFBLEVBS0EsRUFBQSxFQUFBLEVBQUEsU0FBQSxPQUdBLEVBQUEsRUFBQSxNQUFBLEVBQUEsV0FNQSxFQUFBLEVBQUEsTUFDQSxHQUFBLElBQUEsV0FBQSxXQUNBLEVBQUEsWUFJQSxJQUFBLEdBQUEsYUFBQSxFQUFBLElBQUEsSUFBQSxLQUFBLE1BQUEsSUFBQSxLQUFBLFNBQ0EsR0FBQSxNQUNBLG9CQUFBLE9BQ0EsaUJBQUEsRUFDQSxZQUFBLEdBSUEsSUFBQSxHQUFBLFFBQUEsUUFBQSw4QkFDQSxHQUFBLE1BQ0EsR0FBQSxFQUNBLFFBQUEsVUFDQSxPQUFBLFlBQ0EsT0FBQSxvQkFDQSxNQUFBLFFBQ0EsU0FBQSxhQUdBLFFBQUEsVUFBQSxFQUFBLHVCQUNBLEVBQUEsS0FBQSxlQUFBLEVBQUEscUJBR0EsSUFBQSxHQUFBLFdBQ0EsRUFBQSxXQUNBLEVBQUEsVUFBQSxHQUNBLEVBQUEsS0FBQSxpQkFBQSxJQUdBLEVBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxXQUFBLEVBS0EsR0FBQSxPQUFBLFlBQUEsU0FBQSxHQUNBLEVBQUEsRUFDQSxFQUFBLFdBQUEseUJBRUEsRUFBQSxLQUFBLHdCQUFBLEVBQUEsS0FJQSxJQUFBLEdBQUEsU0FBQSxHQUVBLEdBQUEsSUFBQSxXQUFBLEVBQ0EsR0FBQSxHQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsT0FBQSxFQUFBLElBQUEsS0FBQSxTQUFBLEdBSUEsR0FBQSxHQUFBLElBQUEsRUFBQSxVQUNBLElBQUEsR0FBQSxFQUNBLEdBQUEsRUFBQSxPQUFBLEVBQUEsQ0FFQSxFQUFBLFVBQUEsRUFDQSxFQUFBLFFBQUEsT0FBQSxDQUdBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFDQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEdBQ0EsRUFBQSxRQUFBLE1BQ0EsR0FBQSxFQUFBLEdBQ0EsTUFBQSxFQUFBLFdBQUEsRUFBQSxHQUNBLE1BQUEsRUFBQSxJQUlBLEdBQUEsTUFBQSxFQUlBLEVBQUEsU0FBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsU0FBQSxHQUNBLEVBQUEsU0FBQSxJQUFBLEVBQUEsU0FBQSxJQUFBLEVBQUEsS0FBQSxnQkFFQSxFQUFBLEtBQUEsaUJBQUEsT0FFQSxJQUdBLElBQ0EsRUFBQSxHQUFBLElBRUEsV0FDQSxJQUNBLEVBQUEsR0FBQSxLQUlBLEtBR0EsRUFBQSxNQUFBLE1BR0EsSUFBQSxHQUVBLEVBQUEsU0FBQSxHQUNBLEVBQUEsRUFBQSxXQUNBLEVBQUEsSUFDQSxJQUdBLEVBQUEsV0FDQSxHQUNBLEVBQUEsT0FBQSxHQU1BLEdBQUEsU0FBQSxRQUFBLFNBQUEsR0FpQkEsTUFmQSxJQUFBLEVBRUEsR0FBQSxFQUFBLFFBQUEsRUFDQSxFQUFBLEdBQ0EsSUFDQSxFQUFBLElBRUEsRUFBQSxJQUdBLEVBQUEsR0FBQSxHQUNBLElBQ0EsS0FHQSxFQUNBLEVBRUEsTUFLQSxHQUFBLGFBQUEsWUFBQSxJQUhBLEVBQUEsYUFBQSxZQUFBLEdBQ0EsS0FRQSxFQUFBLFlBQUEsS0FBQSxTQUFBLEdBRUEsR0FBQSxHQUFBLEVBQ0EsSUFFQSxPQUFBLElBRUEsRUFBQSxPQUFBLEVBQ0EsRUFBQSxFQUFBLEtBTUEsRUFBQSxFQUFBLFVBQUEsRUFDQSxFQUFBLEVBQUEsV0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLFVBQUEsT0FDQSxFQUFBLEVBQUEsV0FBQSxFQUFBLEdBRUEsSUFBQSxFQUFBLEVBQUEsS0FJQSxFQUFBLE9BQUEsU0FBQSxHQUVBLEdBQ0EsR0FBQSxFQURBLElBR0EsR0FBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLFFBQUEsR0FBQSxNQUNBLEVBQUEsRUFBQSxZQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLGFBQUEsWUFBQSxHQUVBLEVBQUEsR0FDQSxNQUFBLEVBQ0EsT0FBQSxFQUNBLE9BQUEsRUFBQSxXQUFBLEVBQUEsS0FHQSxJQUlBLEVBQUEsV0FBQSxFQUFBLEdBQUEsU0FBQSxHQUFBLElBSUEsRUFBQSxLQUFBLFVBQUEsU0FBQSxHQUdBLElBQUEsRUFBQSxRQUFBLFFBQUEsS0FBQSxFQUFBLFFBQUEsRUFBQSxTQUlBLEVBQUEsaUJBRUEsS0FBQSxFQUFBLE9BQ0EsRUFBQSxXQUFBLEVBQUEsVUFBQSxHQUFBLEVBQUEsUUFBQSxPQUNBLEVBQUEsV0FFQSxLQUFBLEVBQUEsT0FDQSxFQUFBLFdBQUEsRUFBQSxVQUFBLEVBQUEsVUFBQSxFQUFBLFFBQUEsUUFBQSxFQUNBLEVBQUEsV0FFQSxLQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsTUFDQSxFQUFBLE9BQUEsV0FDQSxFQUFBLE9BQUEsRUFBQSxhQUdBLEtBQUEsRUFBQSxRQUNBLEVBQUEsa0JBRUEsSUFDQSxFQUFBLGNBSUEsRUFBQSxLQUFBLE9BQUEsV0FDQSxHQUFBLEdBSUEsSUFBQSxHQUFBLFNBQUEsR0FDQSxFQUFBLEtBQUEsRUFBQSxTQUNBLElBQ0EsRUFBQSxXQUlBLEdBQUEsS0FBQSxRQUFBLEdBRUEsRUFBQSxJQUFBLFdBQUEsV0FDQSxFQUFBLE9BQUEsUUFBQSxJQUdBLElBQUEsR0FBQSxFQUFBLEdBQUEsRUFDQSxHQUNBLEVBQUEsS0FBQSxRQUFBLE9BQUEsR0FFQSxFQUFBLE1BQUEsUUFPQSxVQUFBLGlCQUFBLFdBQ0EsT0FDQSxTQUFBLEtBQ0EsT0FDQSxRQUFBLElBQ0EsTUFBQSxJQUNBLE9BQUEsSUFDQSxTQUFBLElBQ0EsT0FBQSxLQUVBLFNBQUEsRUFDQSxZQUFBLDBDQUNBLEtBQUEsU0FBQSxFQUFBLEVBQUEsR0FFQSxFQUFBLFlBQUEsRUFBQSxZQUVBLEVBQUEsT0FBQSxXQUNBLE1BQUEsR0FBQSxRQUFBLE9BQUEsR0FHQSxFQUFBLFNBQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxRQUFBLEdBR0EsRUFBQSxhQUFBLFNBQUEsR0FDQSxFQUFBLE9BQUEsR0FHQSxFQUFBLFlBQUEsU0FBQSxHQUNBLEVBQUEsUUFBQSxVQUFBLFNBTUEsVUFBQSxrQkFBQSxRQUFBLGlCQUFBLFdBQUEsU0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsT0FDQSxTQUFBLEtBQ0EsT0FDQSxNQUFBLElBQ0EsTUFBQSxJQUNBLE1BQUEsS0FFQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxhQUFBLEVBQUEsVUFBQSx5Q0FDQSxHQUFBLElBQUEsR0FBQSxNQUFBLElBQUEsUUFBQSxTQUFBLEdBQ0EsRUFBQSxZQUFBLEVBQUEsRUFBQSxRQUFBLFdBTUEsT0FBQSxxQkFBQSxXQUVBLFFBQUEsR0FBQSxHQUNBLE1BQUEsR0FBQSxRQUFBLHlCQUFBLFFBR0EsTUFBQSxVQUFBLEVBQUEsR0FDQSxNQUFBLElBQUEsR0FBQSxHQUFBLFFBQUEsR0FBQSxRQUFBLEVBQUEsR0FBQSxNQUFBLHVCQUFBLEtBSUEsUUFBQSxPQUFBLDhDQUFBLEtBQUEsaUJBQUEsU0FBQSxHQUNBLEVBQUEsSUFBQSwwQ0FDQSwrWUFZQSxRQUFBLE9BQUEsd0NBQUEsS0FBQSxpQkFBQSxTQUFBLEdBQ0EsRUFBQSxJQUFBLG9DQUNBLG9EQUdBLFFBQUEsT0FBQSxnQ0FBQSxLQUFBLGlCQUFBLFNBQUEsR0FDQSxFQUFBLElBQUEsNEJBQ0EsdVdBVUEsUUFBQSxPQUFBLHNDQUFBLEtBQUEsaUJBQUEsU0FBQSxHQUNBLEVBQUEsSUFBQSxrQ0FDQSxxcUJBV0EsUUFBQSxPQUFBLG1DQUFBLEtBQUEsaUJBQUEsU0FBQSxHQUNBLEVBQUEsSUFBQSwrQkFDQSwwU0FVQSxRQUFBLE9BQUEsMENBQUEsS0FBQSxpQkFBQSxTQUFBLEdBQ0EsRUFBQSxJQUFBLHNDQUNBLCtSQU9BLFFBQUEsT0FBQSxtQ0FBQSxLQUFBLGlCQUFBLFNBQUEsR0FDQSxFQUFBLElBQUEsK0JBQ0EsZ21EQXdCQSxRQUFBLE9BQUEscUNBQUEsS0FBQSxpQkFBQSxTQUFBLEdBQ0EsRUFBQSxJQUFBLGlDQUNBLHl1Q0FtQkEsUUFBQSxPQUFBLHFDQUFBLEtBQUEsaUJBQUEsU0FBQSxHQUNBLEVBQUEsSUFBQSxpQ0FDQSx5cEJBYUEsUUFBQSxPQUFBLG9DQUFBLEtBQUEsaUJBQUEsU0FBQSxHQUNBLEVBQUEsSUFBQSxnQ0FDQSxxdkNBbUJBLFFBQUEsT0FBQSxtQ0FBQSxLQUFBLGlCQUFBLFNBQUEsR0FDQSxFQUFBLElBQUEsK0JBQ0EseUtBT0EsUUFBQSxPQUFBLGlDQUFBLEtBQUEsaUJBQUEsU0FBQSxHQUNBLEVBQUEsSUFBQSw2QkFDQSxtVkFLQSxRQUFBLE9BQUEscUNBQUEsS0FBQSxpQkFBQSxTQUFBLEdBQ0EsRUFBQSxJQUFBLGlDQUNBLGtTQU1BLFFBQUEsT0FBQSwwQ0FBQSxLQUFBLGlCQUFBLFNBQUEsR0FDQSxFQUFBLElBQUEsc0NBQ0EsbXRCQVNBLFFBQUEsT0FBQSxzREFBQSxLQUFBLGlCQUFBLFNBQUEsR0FDQSxFQUFBLElBQUEsa0RBQ0Esd01BT0EsUUFBQSxPQUFBLDBDQUFBLEtBQUEsaUJBQUEsU0FBQSxHQUNBLEVBQUEsSUFBQSxzQ0FDQSwrTEFPQSxRQUFBLE9BQUEsb0NBQUEsS0FBQSxpQkFBQSxTQUFBLEdBQ0EsRUFBQSxJQUFBLGdDQUNBLCtTQVdBLFFBQUEsT0FBQSxvQ0FBQSxLQUFBLGlCQUFBLFNBQUEsR0FDQSxFQUFBLElBQUEsZ0NBQ0EscVFBR0EsUUFBQSxPQUFBLHlDQUFBLEtBQUEsaUJBQUEsU0FBQSxHQUNBLEVBQUEsSUFBQSxxQ0FDQSxpREFHQSxRQUFBLE9BQUEsNENBQUEsS0FBQSxpQkFBQSxTQUFBLEdBQ0EsRUFBQSxJQUFBLHdDQUNBLHVTQUtBLFFBQUEsT0FBQSxrQ0FBQSxLQUFBLGlCQUFBLFNBQUEsR0FDQSxFQUFBLElBQUEsOEJBQ0EsdWZBT0EsUUFBQSxPQUFBLDZCQUFBLEtBQUEsaUJBQUEsU0FBQSxHQUNBLEVBQUEsSUFBQSx5QkFDQSxxSUFNQSxRQUFBLE9BQUEsZ0NBQUEsS0FBQSxpQkFBQSxTQUFBLEdBQ0EsRUFBQSxJQUFBLDRCQUNBLCtWQWFBLFFBQUEsT0FBQSwwQ0FBQSxLQUFBLGlCQUFBLFNBQUEsR0FDQSxFQUFBLElBQUEsc0NBQ0E7SUE2QkEsUUFBQSxPQUFBLDhDQUFBLEtBQUEsaUJBQUEsU0FBQSxHQUNBLEVBQUEsSUFBQSwwQ0FDQSxzRkFHQSxRQUFBLE9BQUEsOENBQUEsS0FBQSxpQkFBQSxTQUFBLEdBQ0EsRUFBQSxJQUFBLDBDQUNBLDBmQzNqSUEsU0FBQSxFQUFBLEdBQUEsWUFvQ0EsU0FBQSxLQUNBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLE9BQUEsSUFBQSxFQUFBLE9BQUEsY0FBQSxVQUFBLEtBQUEsR0F5SUEsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxxQkFDQSxHQUNBLGFBQUEsRUFDQSxPQUFBLEdBRUEsRUFBQSxFQUFBLE9BcUJBLE9BbkJBLEdBQUEsRUFDQSxRQUFBLFdBQUEsUUFDQSxRQUFBLHdCQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsTUFBQSxFQUFBLEVBQUEsS0FDQSxFQUFBLE1BQUEsRUFBQSxFQUFBLElBR0EsT0FGQSxHQUFBLE1BQUEsS0FBQSxFQUFBLFdBQUEsSUFDQSxFQUFBLEdBQUEsR0FDQSxJQUNBLEVBQUEsR0FBQSxHQUNBLE9BQ0EsRUFBQSxFQUFBLEtBQ0EsR0FBQSxTQUFBLFlBQ0EsR0FBQSxJQUNBLEtBQ0EsR0FBQSxNQUVBLFFBQUEsYUFBQSxRQUVBLEVBQUEsT0FBQSxHQUFBLFFBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxJQUFBLElBQ0EsRUFqS0EsR0FBQSxLQXFHQSxNQUFBLEtBQUEsU0FBQSxFQUFBLEdBUUEsR0FQQSxFQUFBLEdBQUEsRUFBQSxRQUNBLGdCQUFBLEdBQ0EsRUFDQSxHQUFBLEVBQUEsRUFBQSxJQUlBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsT0FBQSxHQUNBLEVBQUEsT0FBQSxFQUFBLEVBQUEsT0FBQSxHQUNBLEVBQUEsR0FFQSxHQUFBLEdBQUEsRUFBQSxRQUNBLFdBQUEsR0FDQSxFQUFBLEVBQUEsSUFJQSxNQUFBLE9Bd0RBLEtBQUEsVUFBQSxTQUFBLEdBS0EsTUFKQSxnQkFBQSxLQUNBLEdBQUEsV0FBQSxJQUVBLEtBQUEsS0FBQSxLQUFBLEdBQ0EsTUFJQSxLQUFBLE1BQUEsYUFDQSxZQUNBLGVBQ0EsS0FDQSxZQUNBLG1CQUNBLE9BQ0EsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQTBRQSxRQUFBLEdBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEtBQ0EsSUFFQSxLQUFBLEVBQUEsT0FBQSxNQUFBLEtBRUEsSUFBQSxHQUFBLEVBQUEsT0FBQSxLQUFBLEVBQ0EsS0FBQSxFQUFBLE1BQUEsS0FFQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUVBLEVBQUEsRUFBQSxFQUVBLElBQUEsSUFDQSxFQUFBLEVBQUEsTUFBQSxHQUdBLE1BQUEsR0FHQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxPQUVBLEdBQUEsSUFDQSxFQUFBLEdBQUEsR0FBQSxFQUFBLFVBQUEsRUFBQSxTQUNBLEVBQUEsT0FBQSxFQUFBLFdBQUEsRUFBQSxjQUNBLEVBQUEsaUJBQUEsRUFFQSxJQUFBLElBQUEsR0FDQSxFQUFBLFdBQUEsb0JBQUEsRUFBQSxHQUFBLGtCQUNBLEdBQ0EsRUFBQSxpQkFNQSxRQUFBLEtBQ0EsR0FBQSxHQUFBLEVBQUEsUUFDQSxFQUFBLENBRUEsSUFDQSxFQUFBLE9BQUEsRUFBQSxPQUNBLEVBQUEsS0FBQSxFQUFBLE9BQUEsR0FDQSxFQUFBLFdBQUEsZUFBQSxLQUNBLEdBQUEsS0FDQSxHQUFBLEVBQ0EsRUFBQSxRQUFBLEVBQ0EsR0FDQSxFQUFBLGFBQ0EsRUFBQSxTQUFBLEVBQUEsWUFDQSxFQUFBLEtBQUEsRUFBQSxFQUFBLFdBQUEsRUFBQSxTQUFBLE9BQUEsRUFBQSxRQUNBLFVBRUEsRUFBQSxJQUFBLEVBQUEsV0FBQSxFQUFBLFdBQUEsRUFBQSxPQUFBLEVBQUEsV0FDQSxXQUtBLEVBQUEsS0FBQSxHQUNBLEtBQUEsV0FDQSxHQUFBLEVBQUEsQ0FDQSxHQUNBLEdBQUEsRUFEQSxFQUFBLEVBQUEsVUFBQSxFQUFBLFFBeUJBLE9BdEJBLEdBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLFNBQUEsR0FDQSxFQUFBLElBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxLQUFBLEtBQUEsS0FHQSxFQUFBLFVBQUEsRUFBQSxFQUFBLFVBQ0EsRUFBQSxXQUFBLEtBQ0EsRUFBQSxFQUFBLEVBQUEsU0FFQSxFQUFBLFVBQUEsRUFBQSxFQUFBLGVBQ0EsRUFBQSxXQUFBLEtBQ0EsRUFBQSxFQUFBLEVBQUEsU0FFQSxFQUFBLEVBQUEsc0JBQUEsR0FDQSxFQUFBLFVBQUEsS0FDQSxFQUFBLGtCQUFBLEVBQ0EsRUFBQSxFQUFBLEtBR0EsRUFBQSxVQUFBLEtBQ0EsRUFBQSxVQUFBLEdBRUEsRUFBQSxJQUFBLE1BSUEsS0FBQSxTQUFBLEdBQ0EsR0FBQSxFQUFBLFVBQ0EsSUFDQSxFQUFBLE9BQUEsRUFDQSxFQUFBLEtBQUEsRUFBQSxPQUFBLElBRUEsRUFBQSxXQUFBLHNCQUFBLEVBQUEsS0FFQSxTQUFBLEdBQ0EsR0FBQSxFQUFBLFNBQ0EsRUFBQSxXQUFBLG9CQUFBLEVBQUEsRUFBQSxNQVVBLFFBQUEsS0FFQSxHQUFBLEdBQUEsQ0FVQSxPQVRBLEdBQUEsUUFBQSxFQUFBLFNBQUEsSUFDQSxJQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsTUFDQSxFQUFBLEVBQUEsR0FDQSxPQUFBLEVBQUEsVUFBQSxFQUFBLFNBQUEsR0FDQSxXQUFBLElBQ0EsRUFBQSxRQUFBLEtBSUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLE9BQUEsVUFBQSxnQkFNQSxRQUFBLEdBQUEsRUFBQSxHQUNBLEdBQUEsS0FZQSxPQVhBLEdBQUEsU0FBQSxHQUFBLElBQUEsTUFBQSxLQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsSUFBQSxFQUNBLEVBQUEsS0FBQSxPQUNBLENBQ0EsR0FBQSxHQUFBLEVBQUEsTUFBQSxhQUNBLEVBQUEsRUFBQSxFQUNBLEdBQUEsS0FBQSxFQUFBLElBQ0EsRUFBQSxLQUFBLEVBQUEsSUFBQSxVQUNBLEdBQUEsTUFHQSxFQUFBLEtBQUEsSUEzTkEsR0FDQSxHQUNBLEVBRkEsR0FBQSxFQUdBLEdBQ0EsT0FBQSxFQWFBLE9BQUEsV0FDQSxHQUFBLEVBQ0EsRUFBQSxXQUFBLFdBRUEsSUFDQSxPQWlCQSxhQUFBLFNBQUEsR0FDQSxJQUFBLEtBQUEsVUFBQSxLQUFBLFFBQUEsUUFZQSxLQUFBLEdBQUEsU0FBQSxrREFYQSxJQUFBLE1BQUEsRUFBQSxJQUVBLEdBQUEsUUFBQSxPQUFBLEtBQUEsR0FBQSxTQUFBLEdBQ0EsRUFBQSxRQUFBLFdBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxNQUdBLEVBQUEsRUFBQSxVQUFBLEtBQUEsUUFBQSxPQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsS0FBQSxRQUFBLFFBQUEsYUFBQSxJQUNBLEVBQUEsT0FBQSxFQUFBLFVBQUEsRUFBQSxTQUFBLEtBV0EsT0FIQSxHQUFBLElBQUEsdUJBQUEsR0FDQSxFQUFBLElBQUEseUJBQUEsR0FFQSxJQXdNQSxRQUFBLEtBQ0EsS0FBQSxLQUFBLFdBQUEsVUFzTEEsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLE9BQ0EsU0FBQSxNQUNBLFVBQUEsRUFDQSxTQUFBLElBQ0EsV0FBQSxVQUNBLEtBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBVUEsUUFBQSxLQUNBLElBQ0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxNQUdBLElBQ0EsRUFBQSxXQUNBLEVBQUEsTUFFQSxJQUNBLEVBQUEsRUFBQSxNQUFBLEdBQ0EsRUFBQSxLQUFBLFdBQ0EsRUFBQSxPQUVBLEVBQUEsTUFJQSxRQUFBLEtBQ0EsR0FBQSxHQUFBLEVBQUEsU0FBQSxFQUFBLFFBQUEsT0FDQSxFQUFBLEdBQUEsRUFBQSxTQUVBLElBQUEsRUFBQSxVQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxPQUNBLEVBQUEsRUFBQSxRQVFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsR0FDQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEdBQUEsR0FBQSxLQUFBLFlBQ0EsRUFBQSxVQUFBLElBQ0EsSUFBQSxFQUFBLE1BQUEsSUFDQSxNQUdBLEtBR0EsR0FBQSxFQUNBLEVBQUEsRUFBQSxNQUFBLEVBQ0EsRUFBQSxNQUFBLHNCQUNBLEVBQUEsTUFBQSxPQUVBLEtBekRBLEdBQUEsR0FDQSxFQUNBLEVBQ0EsRUFBQSxFQUFBLFdBQ0EsRUFBQSxFQUFBLFFBQUEsRUFFQSxHQUFBLElBQUEsc0JBQUEsR0FDQSxNQStEQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsT0FDQSxTQUFBLE1BQ0EsU0FBQSxLQUNBLEtBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsUUFDQSxFQUFBLEVBQUEsTUFFQSxHQUFBLEtBQUEsRUFBQSxVQUVBLElBQUEsR0FBQSxFQUFBLEVBQUEsV0FFQSxJQUFBLEVBQUEsV0FBQSxDQUNBLEVBQUEsT0FBQSxDQUNBLElBQUEsR0FBQSxFQUFBLEVBQUEsV0FBQSxFQUNBLEdBQUEsZUFDQSxFQUFBLEVBQUEsY0FBQSxHQUVBLEVBQUEsS0FBQSwwQkFBQSxHQUNBLEVBQUEsV0FBQSxLQUFBLDBCQUFBLEdBR0EsRUFBQSxLQXA3QkEsR0FBQSxHQUFBLEVBQUEsT0FBQSxXQUFBLE9BQ0EsU0FBQSxTQUFBLEdBQ0EsRUFBQSxFQUFBLFNBQUEsVUFvbkJBLEdBQUEsU0FBQSxlQUFBLEdBd0NBLEVBQUEsVUFBQSxTQUFBLEdBQ0EsRUFBQSxVQUFBLFNBQUEsR0FpTEEsRUFBQSxTQUFBLFNBQUEsZ0JBQUEsWUE2RUEsRUFBQSxTQUFBLFdBQUEsY0FBQSxXQTZCQSxPQUFBLE9BQUEsU0NqOUJBLFFBQUEsT0FBQSxlQUFBLFFBQUEsVUFBQSxXQUFBLFFBQUEsV0FBQSxpQkFBQSxhQUNBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUVBLEdBQUEsR0FBQSxHQUNBLEVBQUEsR0FDQSxFQUFBLElBQ0EsRUFBQSxzQkFDQSxFQUFBLFNBQ0EsRUFBQSxTQUFBLEtBRUEsS0FFQSxFQUFBLFNBQUEsR0FFQSxnQkFBQSxLQUNBLEdBQUEsUUFBQSxJQUdBLEVBQUEsWUFBQSxFQUFBLFlBQUEsRUFBQSxZQUFBLEVBQ0EsRUFBQSxTQUFBLEVBQUEsU0FBQSxFQUFBLFNBQUEsRUFDQSxFQUFBLFVBQUEsRUFBQSxVQUFBLEVBQUEsVUFBQSxFQUNBLEVBQUEsUUFBQSxFQUFBLFFBQUEsRUFBQSxRQUFBLEVBRUEsSUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLE1BQUEsT0FBQSxFQUFBLE1BQ0EsR0FBQSxTQUFBLEVBQUEsUUFDQSxFQUFBLFNBQUEsRUFBQSxRQUNBLEVBQUEsaUJBQUEsRUFBQSxnQkFFQSxFQUFBLElBQUEsRUFBQSxhQUFBLE1BQUEsSUFBQSxRQUFBLFNBQUEsR0FFQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBV0EsSUFWQSxFQUFBLEtBQUEsa0ZBQUEsU0FBQSxJQUNBLFlBQUEsRUFBQSxjQUNBLEVBQUEsZUFBQSxZQUFBLEVBQUEsY0FBQSxnQkFFQSxFQUFBLFNBQ0EsRUFBQSxPQUFBLEVBQUEsUUFBQSxHQUFBLEdBQ0EsT0FJQSxFQUFBLGdCQUFBLENBRUEsSUFBQSxHQURBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxXQUFBLE9BQUEsSUFDQSxHQUFBLFFBQUEsUUFBQSxFQUFBLFdBQUEsSUFBQSxTQUFBLDhCQUFBLENBQ0EsRUFBQSxRQUFBLFFBQUEsRUFBQSxXQUFBLEdBQ0EsT0FHQSxJQUFBLEVBR0EsS0FBQSxJQUFBLE9BQUEsc0VBQUEsRUFBQSxZQUFBLElBRkEsR0FBQSxPQUFBLEVBQUEsRUFBQSxpQkFBQSxJQU1BLFFBQUEsUUFBQSxFQUFBLFdBQUEsT0FBQSxHQUNBLEVBQUEsS0FBQSxHQUVBLFdBQUEsRUFBQSxVQUNBLEVBQUEsV0FDQSxFQUFBLElBQUEsY0FBQSxJQUFBLEVBQUEsR0FBQSxZQUFBLEVBQUEsUUFJQSxFQUFBLE9BQUEsV0FDQSxFQUFBLElBQUEsVUFBQSxHQUFBLEtBQUEsZUFBQSxRQUNBLElBR0EsSUFBQSxHQUFBLFdBR0EsSUFBQSxHQUZBLEdBQUEsRUFDQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxDQUNBLEdBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxHQUFBLGFBQ0EsRUFBQSxFQUFBLEVBQUEsQ0FDQSxHQUFBLEtBQUEsZ0JBQ0EsR0FBQSxHQUVBLEdBQUEsRUFBQSxFQUVBLEVBQUEsSUFBQSxNQUFBLEVBQUEsTUFBQSxJQUFBLGFBQUEsS0FBQSxFQUFBLEdBQUEsTUFBQSxJQUFBLGFBQUEsV0FDQSxLQUlBLEdBQUEsV0FDQSxNQUdBLEVBQUEsR0FDQSxFQUFBLFdBQ0EsRUFBQSxVQUNBLEtBR0EsTUFBQSxTQUFBLEdBQ0EsS0FBQSxJQUFBLE9BQUEsb0NBQUEsRUFBQSxZQUFBLDBCQUFBLElBR0EsSUFBQSxLQWlCQSxPQWZBLEdBQUEsTUFBQSxXQUNBLEVBQUEsUUFDQSxFQUFBLFVBSUEsT0FBQSxlQUFBLEVBQUEsV0FDQSxJQUFBLFdBQ0EsTUFBQSxHQUFBLFVBRUEsSUFBQSxTQUFBLEdBQ0EsRUFBQSxTQUFBLEtBSUEsRUFvQkEsT0FoQkEsR0FBQSxPQUFBLFNBQUEsR0FDQSxFQUFBLFFBQUEsWUFBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLFNBQ0EsRUFBQSxRQUFBLFlBQUEsRUFBQSxpQkFBQSxFQUFBLEVBQUEsZ0JBQ0EsRUFBQSxRQUFBLFlBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxTQUNBLEVBQUEsRUFBQSxZQUFBLEVBQUEsWUFBQSxFQUNBLEVBQUEsUUFBQSxZQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsU0FDQSxFQUFBLEVBQUEsVUFBQSxFQUFBLFVBQUEsR0FHQSxFQUFBLFNBQUEsV0FDQSxJQUFBLEdBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsR0FBQSxJQUFBLFVBQUEsS0FJQSxLQUlBLFFBQUEsT0FBQSxZQUFBLEtBQUEsaUJBQUEsU0FBQSxHQUNBLFlBRUEsR0FBQSxJQUFBLHNCQUNBLGdiQ25KQSxXQUtBLFFBQUEsR0FBQSxHQUFBLE1BQUEsVUFBQSxFQUFBLFFBQUEsT0FBQSxRQUFBLElBQUEsR0FBQSxFQUFBLEdBQUEsV0FBQSxNQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsSUFDQSxRQUFBLElBQUEsR0FBQSxHQUFBLFNBQUEsRUFBQSxJQUFBLFVBQUEsRUFBQSxDQUFBLElBQUEsRUFBQSxNQUFBLE1BQUEsSUFBQSxZQUFBLE9BQUEsTUFBQSxPQUFBLElBQUEsWUFBQSxRQUFBLE1BQUEsRUFBQSxJQUFBLEdBQUEsT0FBQSxVQUFBLFNBQUEsS0FBQSxFQUFBLElBQUEsbUJBQUEsRUFBQSxNQUFBLFFBQUEsSUFBQSxrQkFBQSxHQUFBLGdCQUFBLEdBQUEsUUFBQSxtQkFBQSxHQUFBLFFBQUEsbUJBQUEsR0FBQSx1QkFBQSxFQUFBLHFCQUFBLFVBQUEsTUFBQSxPQUFBLElBQUEscUJBQUEsR0FBQSxtQkFBQSxHQUFBLE1BQUEsbUJBQUEsR0FBQSx1QkFBQSxFQUFBLHFCQUFBLFFBQUEsTUFBQSxlQUNBLElBQUEsWUFBQSxHQUFBLG1CQUFBLEdBQUEsS0FBQSxNQUFBLFFBQUEsT0FBQSxHQUFBLFFBQUEsSUFBQSxHQUFBLE1BQUEsU0FBQSxHQUFBLEdBQUEsUUFBQSxJQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxPQUFBLFNBQUEsR0FBQSxVQUFBLEdBQUEsZ0JBQUEsR0FBQSxPQUFBLFFBQUEsR0FBQSxHQUFBLE1BQUEsZ0JBQUEsR0FBQSxRQUFBLElBQUEsR0FBQSxNQUFBLGdCQUFBLEdBQUEsUUFBQSxJQUFBLEdBQUEsR0FBQSxTQUFBLEVBQUEsT0FBQSxVQUFBLEdBQUEsTUFBQSxHQUFBLFlBQUEsRUFBQSxRQUFBLElBQUEsR0FBQSxNQUFBLEdBQUEsS0FBQSxNQUFBLEVBQUEsS0FBQSxXQUNBLFFBQUEsSUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEtBQUEsUUFBQSxJQUFBLEVBQUEsVUFBQSxPQUFBLENBQUEsR0FBQSxHQUFBLE1BQUEsVUFBQSxNQUFBLEtBQUEsVUFBQSxFQUFBLE9BQUEsWUFBQSxHQUFBLEdBQUEsTUFBQSxVQUFBLE1BQUEsS0FBQSxVQUFBLE9BQUEsT0FBQSxVQUFBLFFBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsSUFBQSxNQUFBLFlBQUEsTUFBQSxHQUFBLE1BQUEsRUFBQSxZQUFBLFFBQUEsS0FBQSxNQUFBLEdBQUEsU0FBQSxVQUFBLE1BQUEsSUFBQSxTQUFBLFVBQUEsS0FBQSxXQUFBLFFBQUEsZUFBQSxHQUFBLEdBQUEsRUFBQSxNQUFBLEtBQUEsV0FDQSxRQUFBLElBQUEsRUFBQSxHQUFBLFFBQUEsTUFBQSxFQUFBLFVBQUEsRUFBQSxVQUFBLEVBQUEsR0FBQSxFQUFBLFVBQUEsRUFBQSxVQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLFVBQUEsR0FBQSxNQUFBLEVBQUEsTUFBQSxVQUFBLE1BQUEsS0FBQSxVQUFBLEtBQUEsUUFBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLE9BQUEsR0FBQSxRQUFBLEtBQUEsR0FBQSxFQUFBLDRCQUFBLEtBQUEsRUFBQSxRQUFBLG1CQUFBLEtBQUEsUUFBQSxpR0FBQSxLQUFBLFFBQUEscUNBQUEsS0FBQSxJQUFBLE1BQUEsTUFBQSxJQUFBLEVBQUEsS0FBQSxNQUFBLElBQUEsS0FBQSxPQUFBLHdCQUFBLEdBQUEsUUFBQSxNQUFBLEtBQUEsR0FBQSxPQUNBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxhQUFBLElBQUEsSUFBQSxTQUFBLEdBQUEsRUFBQSxFQUFBLE1BQUEsS0FBQSxTQUFBLEVBQUEsS0FBQSxTQUFBLEtBQUEsTUFBQSxHQUFBLEVBQUEsT0FBQSxNQUFBLEtBQUEsVUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEtBQUEsWUFBQSxFQUFBLEtBQUEsT0FBQSxNQUFBLEtBQUEsU0FBQSxHQUFBLE1BQUEsRUFBQSxDQUFBLEVBQUEsS0FBQSxPQUFBLE9BQUEsR0FBQSxHQUFBLEdBQUEsQ0FBQSxHQUFBLEdBQUEsRUFBQSxNQUFBLEdBQUEsS0FBQSxJQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxPQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxJQUFBLE9BQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLEtBQUEsSUFBQSxHQUFBLE9BQUEsVUFBQSxlQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLGtCQUFBLEtBQUEsRUFBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxLQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEdBQUEsS0FBQSxJQUFBLE1BQUEsS0FBQSxXQUFBLEtBQUEsU0FBQSxLQUFBLE9BQUEsdUJBQUEsS0FDQSxRQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsUUFBQSxHQUFBLFNBQUEsR0FBQSxHQUFBLElBQUEsSUFBQSxNQUFBLElBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxXQUFBLEdBQUEsRUFBQSxLQUFBLE9BQUEsSUFBQSxFQUFBLEdBQUEsTUFBQSxJQUFBLEVBQUEsR0FBQSxLQUFBLEtBQUEsSUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxTQUFBLE1BQUEsS0FBQSxRQUFBLElBQUEsR0FBQSxNQUFBLG1CQUFBLE9BQUEsRUFBQSxLQUFBLE9BQUEsS0FBQSxNQUFBLEdBQUEsR0FBQSxHQUFBLFFBQUEsR0FBQSxHQUFBLEdBQUEsbUJBQUEsT0FBQSxFQUFBLEtBQUEsV0FBQSxFQUFBLEtBQUEsVUFBQSxPQUFBLENBQUEsR0FBQSxLQUFBLElBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxJQUFBLE1BQUEsR0FBQSxRQUFBLElBQUEsR0FBQSxJQUFBLEdBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsQ0FBQSxHQUFBLEdBQUEsRUFBQSxXQUFBLEVBQUEsSUFBQSxPQUFBLE9BQUEsSUFBQSxHQUFBLE1BQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLDJDQUFBLEVBQUEsT0FBQSxHQUFBLEtBQUEsRUFBQSxXQUFBLEdBQUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxLQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxNQUFBLEVBQUEsRUFBQSxLQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsSUFBQSxFQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsTUFBQSxHQUFBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLFlBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsT0FBQSxnQkFBQSxHQUFBLEVBQUEsS0FBQSxPQUFBLEVBQUEsNEJBQUEsR0FBQSxJQUFBLEVBQUEsYUFBQSxlQUFBLFlBQUEsRUFBQSxLQUNBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxRQUFBLEdBQUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLE9BQUEsTUFBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLFNBQUEsUUFBQSxNQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxPQUFBLE1BQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxTQUFBLFFBQUEsTUFBQSxTQUFBLEdBQUEsUUFBQSxFQUFBLG9FQUFBLE1BQUEsR0FBQSxFQUFBLGFBQUEsRUFBQSxjQUFBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsWUFBQSxHQUFBLEdBQUEsS0FBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsNkJBQ0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxNQUFBLEdBQUEsSUFBQSxPQUFBLEdBQUEsS0FBQSxPQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsbUNBQUEsUUFBQSxHQUFBLEVBQUEsR0FBQSxNQUFBLFFBQUEsVUFBQSxlQUFBLEtBQUEsRUFBQSxHQUFBLFFBQUEsSUFBQSxFQUFBLEdBQUEsTUFBQSxRQUFBLFVBQUEsZUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsT0FBQSxRQUFBLElBQUEsR0FBQSxNQUFBLEdBQUEsSUFBQSxJQUFBLEVBQUEsU0FBQSxHQUFBLEtBQUEsR0FBQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQ0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEtBQUEsT0FBQSxFQUFBLHFCQUFBLEdBQUEsR0FBQSxJQUFBLFlBQUEsR0FBQSxHQUFBLEtBQUEsT0FBQSxFQUFBLHNCQUFBLEdBQUEsR0FBQSxtQkFBQSxFQUFBLFdBQUEsSUFBQSxHQUFBLEdBQUEsS0FBQSxPQUFBLEVBQUEsWUFBQSxFQUFBLFdBQUEsR0FBQSxHQUFBLElBQUEsRUFBQSxJQUFBLEtBQUEsSUFBQSxXQUFBLEVBQUEsbUNBQUEsRUFBQSxNQUFBLEVBQUEsS0FBQSxLQUFBLEtBQUEsT0FBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLE9BQUEsU0FBQSxHQUFBLFNBQUEsR0FBQSxHQUFBLE9BQUEsS0FBQSxPQUFBLEVBQUEscURBQUEsR0FBQSxHQUFBLE1BQUEsRUFBQSxVQUFBLEVBQUEsSUFBQSxRQUFBLElBQUEsR0FBQSxHQUFBLElBQUEsR0FBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsR0FBQSxDQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxjQUFBLEdBQUEsV0FBQSxHQUFBLFFBQUEsSUFBQSxHQUFBLEdBQUEsS0FBQSxPQUFBLEVBQUEsNkJBQUEsRUFBQSxJQUFBLEdBQUEsR0FBQSx1RkFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsUUFBQSxJQUFBLEdBQUEsTUFBQSxJQUFBLEVBQUEsT0FBQSxHQUFBLGlCQUFBLEVBQUEsS0FBQSxLQUFBLElBQUEsUUFBQSxJQUFBLEVBQUEsR0FBQSxJQUFBLEdBQUEsSUFBQSxHQUFBLEdBQUEsS0FBQSxPQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEseURBQUEsSUFBQSxFQUFBLEdBQUEsR0FDQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxJQUFBLEdBQUEsRUFBQSxHQUFBLENBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxFQUFBLFdBQUEsOEVBQUEsTUFBQSxPQUFBLEdBQUEsR0FBQSxJQUFBLEVBQUEsSUFBQSxHQUFBLElBQUEsRUFBQSxFQUFBLFFBQUEsS0FBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsMEVBQ0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxFQUFBLEdBQUEsT0FBQSxHQUFBLElBQUEsUUFBQSxJQUFBLGNBQUEsSUFBQSxnQkFBQSxJQUFBLGdCQUFBLElBQUEsY0FBQSxLQUFBLFNBQUEsS0FBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsNEdBQUEsUUFBQSxJQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsS0FBQSxPQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsd0JBQUEsRUFBQSxvR0FDQSxRQUFBLElBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxRQUFBLEdBQUEsS0FBQSxHQUFBLEtBQUEsT0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLHlCQUFBLEVBQUEsb0ZBQUEsUUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLFVBQUEsRUFBQSxHQUFBLEtBQUEsT0FBQSxFQUFBLDRDQUFBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxLQUFBLElBQUEsS0FBQSx3REFLQSxRQUFBLElBQUEsR0FBQSxHQUFBLEtBQUEsT0FBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEtBQUEsT0FBQSxFQUFBLElBQUEsT0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFDQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsR0FBQSxnQkFBQSxJQUFBLE9BQUEsRUFBQSxFQUFBLEVBQUEsTUFBQSxDQUFBLEdBQUEsa0JBQUEsR0FBQSxLQUFBLE9BQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLHdEQUFBLEdBQUEsT0FBQSxFQUFBLE1BQUEsR0FBQSxRQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxVQUFBLE9BQUEsQ0FBQSxLQUFBLEVBQUEsRUFBQSxNQUFBLElBQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsU0FBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxJQUFBLE1BQUEsRUFBQSxPQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsTUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsUUFBQSxHQUFBLEdBQUEsTUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLFFBQUEsSUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLENBQUEsT0FBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLFFBQUEsSUFBQSxHQUFBLE1BQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLEtBRUEsUUFBQSxJQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsT0FBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxHQUFBLE1BQUEsSUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLE1BQUEsOEJBQUEsRUFBQSw4QkFBQSxFQUFBLElBQUEsUUFBQSxNQUFBLEtBQUEsWUFBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLE1BQUEsS0FBQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxRQUFBLEdBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxHQUFBLEVBQUEsWUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFNBQUEsSUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsT0FBQSxHQUFBLFFBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxtQkFBQSxHQUFBLGlDQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsR0FBQSxHQUNBLFFBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFNBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsT0FBQSxHQUFBLENBQUEsR0FBQSxFQUFBLEdBQUEsT0FBQSxDQUFBLEdBQUEsRUFBQSxTQUFBLE9BQUEsRUFDQSxRQUFBLElBQUEsR0FBQSxHQUFBLE9BQUEsRUFBQSxHQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxJQUFBLFNBQUEsR0FBQSxFQUFBLFNBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxHQUFBLElBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxTQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEdBQUEsS0FBQSxRQUFBLElBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsUUFBQSxJQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsUUFBQSxJQUFBLEVBQUEsR0FBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxLQUFBLENBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsQ0FBQSxHQUFBLEVBQUEsS0FBQSxJQUFBLE1BQUEsR0FBQSxFQUFBLElBQUEsSUFBQSxLQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsTUFBQSxLQUFBLEVBQUEsRUFBQSxLQUFBLE9BQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEtBQUEsT0FBQSx5RUFDQSxRQUFBLElBQUEsRUFBQSxHQUFBLElBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxPQUFBLEVBQUEsS0FBQSxLQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLFFBQUEsSUFBQSxHQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsT0FBQSxNQUFBLEtBQUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsUUFBQSxJQUFBLEVBQUEsSUFBQSxNQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxPQUFBLEdBQUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLElBQUEsRUFBQSxLQUFBLE1BQUEsRUFBQSxLQUFBLE1BQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEtBQUEsTUFBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLE1BQUEsTUFBQSxFQUFBLEVBQUEsR0FDQSxRQUFBLElBQUEsR0FBQSxNQUFBLEdBQUEsS0FBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLE1BQ0EsUUFBQSxJQUFBLEdBQUEsTUFBQSxHQUFBLEtBQUEsSUFBQSxJQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsS0FBQSxLQUFBLE1BQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEtBQUEsR0FBQSxFQUFBLE1BQUEsTUFBQSxHQUFBLElBRUEsUUFBQSxJQUFBLEdBQUEsTUFBQSxHQUFBLE1BQUEsTUFBQSxFQUFBLEtBQUEsTUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEtBQUEsS0FBQSxNQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsTUFBQSxNQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsUUFBQSxJQUFBLEdBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLE1BQUEsS0FBQSxNQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxLQUFBLEtBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxRQUFBLElBQUEsR0FBQSxNQUFBLEdBQUEsTUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLEtBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLE1BQUEsTUFBQSxRQUFBLElBQUEsR0FBQSxNQUFBLEdBQUEsS0FBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLE1BQUEsS0FBQSxFQUFBLEVBQUEsS0FBQSxNQUFBLEVBQUEsRUFBQSxLQUFBLE1BQUEsT0FDQSxRQUFBLElBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxLQUFBLE1BQUEsRUFBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsTUFBQSxFQUFBLEtBQUEsTUFBQSxLQUFBLE1BQUEsRUFBQSxNQUFBLEVBQUEsS0FBQSxNQUFBLEVBQUEsTUFBQSxNQUFBLEtBQUEsT0FBQSxRQUFBLE9BQUEsUUFBQSxJQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLFlBQUEsUUFBQSxNQUFBLEtBQUEsTUFBQSxRQUFBLElBQUEsR0FBQSxJQUFBLEdBQUEsbUJBQUEsU0FBQSxtQkFBQSxRQUFBLEdBQUEsQ0FBQSxHQUFBLEdBQUEsT0FBQSxFQUFBLE9BQUEsR0FBQSxRQUFBLG9CQUFBLFNBQUEsRUFBQSxXQUFBLHFCQUFBLEdBQUEsSUFBQSxJQUFBLE1BQUEsSUFBQSxNQUFBLElBQUEsSUFBQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEtBQUEsRUFBQSxjQUFBLEtBQUEsT0FBQSxLQUFBLEtBQUEsT0FBQSxLQUFBLEtBQUEsUUFBQSxLQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsSUFBQSxRQUFBLElBQUEsS0FBQSxLQUFBLFFBQUEsSUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsT0FBQSxFQUFBLElBQUEsR0FBQSxJQUFBLFFBQUEsRUFBQSxLQUFBLEVBQUEsS0FDQSxRQUFBLElBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLENBQUEsRUFBQSxFQUFBLE1BQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsSUFBQSxJQUFBLEVBQUEsS0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsQ0FBQSxFQUFBLENBQUEsTUFBQSxHQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsR0FBQSxFQUFBLEdBQUEsUUFBQSxJQUFBLEdBQUEsTUFBQSxJQUFBLEdBQUEsUUFBQSxHQUFBLFFBQUEsR0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEtBQUEsT0FBQSxtQ0FBQSxHQUFBLFFBQUEsTUFBQSxJQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLFVBQUEsT0FBQSxJQUFBLEVBQUEsR0FBQSxVQUFBLElBQUEsRUFBQSxHQUFBLE1BQUEsS0FBQSxVQUFBLElBQUEsZ0JBQUEsV0FBQSxHQUFBLEVBQUEsRUFBQSxVQUFBLElBQUEsRUFBQSxVQUFBLEdBQUEsR0FBQSxHQUFBLE9BQUEsR0FBQSxRQUFBLEtBQUEsSUFBQSxJQUFBLEtBQUEsSUFBQSxFQUFBLE9BQUEsS0FBQSxJQUFBLEdBQUEsSUFBQSxvQkFBQSxJQUFBLElBQUEsR0FBQSxDQUFBLEdBQUEsR0FBQSxHQUFBLE1BQUEsS0FBQSxVQUFBLElBQUEsSUFDQSxRQUFBLElBQUEsR0FBQSxNQUFBLFlBQUEsRUFBQSxFQUFBLFlBQUEsUUFBQSxNQUFBLEdBQUEsbUJBQUEsU0FBQSxDQUFBLEdBQUEsR0FBQSw0QkFBQSxHQUFBLE1BQUEsS0FBQSxVQUFBLG9CQUFBLFNBQUEsTUFBQSxRQUFBLE1BQUEsR0FBQSxRQUFBLElBQUEsSUFBQSxRQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsTUFBQSxLQUFBLFVBQUEsTUFBQSxPQUFBLHlCQUFBLEdBQUEsUUFBQSxLQUFBLEdBQUEsbUJBQUEsU0FBQSxDQUFBLEdBQUEsR0FBQSxxQkFBQSxHQUFBLE1BQUEsS0FBQSxVQUFBLG9CQUFBLFNBQUEsS0FBQSxRQUFBLEtBQUEsR0FBQSxRQUFBLElBQUEsSUFDQSxRQUFBLElBQUEsR0FBQSxNQUFBLElBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxPQUFBLG1CQUFBLEdBQUEsT0FBQSxtQkFBQSxRQUFBLElBQUEsR0FBQSxHQUFBLGFBQUEsU0FBQSxXQUFBLFFBQUEsQ0FBQSxHQUFBLElBQUEsRUFBQSxFQUFBLFdBQUEsU0FBQSxLQUFBLElBQUEsR0FBQSxFQUFBLEtBQUEsV0FBQSxFQUFBLEtBQUEsTUFBQSxLQUFBLFVBQUEsa0JBQUEsU0FBQSxpQkFBQSxtQkFBQSxHQUFBLEdBQUEsT0FBQSxpQkFBQSxPQUFBLEdBQUEsSUFBQSxTQUFBLGNBQUEsU0FBQSxZQUFBLHFCQUFBLFdBQUEsYUFBQSxTQUFBLFlBQUEsTUFBQSxPQUFBLFlBQUEsU0FBQSxLQUNBLFFBQUEsSUFBQSxFQUFBLEdBQUEsTUFBQSxLQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsT0FBQSxFQUFBLFFBQUEsVUFBQSxHQUFBLGdCQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxRQUFBLElBQUEsRUFBQSxHQUFBLEdBQUEsSUFBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsUUFBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxHQUFBLE9BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsUUFBQSxJQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxHQUFBLE1BQUEsR0FBQSxFQUFBLE1BQUEsT0FBQSx5QkFBQSxFQUFBLGdCQUFBLEVBQUEsSUFDQSxRQUFBLElBQUEsR0FBQSxHQUFBLGdCQUFBLElBQUEsT0FBQSxFQUFBLE1BQUEsR0FBQSxFQUFBLElBQUEsR0FBQSxJQUFBLEtBQUEsSUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsT0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLElBQUEsSUFBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLE9BQUEsR0FBQSxJQUFBLFFBQUEsSUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxPQUFBLEVBQUEsS0FBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLEdBQUEsUUFBQSxJQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsUUFBQSxJQUFBLEVBQUEsR0FBQSxRQUFBLElBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUNBLFFBQUEsSUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLHNCQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsQ0FBQSxLQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsSUFBQSxHQUFBLEdBQUEsS0FBQSxJQUFBLEVBQUEsUUFBQSxFQUFBLEtBQUEsSUFBQSxLQUFBLE1BQUEsS0FBQSxJQUFBLEdBQUEsS0FBQSxLQUFBLE1BQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLE1BQUEsRUFBQSxLQUFBLElBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxJQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLE1BQUEsRUFBQSxLQUFBLElBQUEsRUFBQSxVQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxNQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsTUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxLQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEdBQUEsU0FBQSxJQUFBLElBQUEsRUFBQSxTQUNBLEVBQUEsSUFBQSxHQUFBLEdBQUEsQ0FBQSxPQUFBLEdBQUEsY0FBQSxRQUFBLElBQUEsR0FBQSxHQUFBLEdBQUEsZUFBQSxPQUFBLFlBQUEsRUFBQSxFQUFBLDBGQUFBLHFCQUFBLEVBQUEsRUFBQSw2REFBQSxlQUFBLElBQUEsRUFBQSw4QkFBQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsY0FBQSxFQUFBLFFBQUEsSUFBQSxHQUFBLE1BQUEsSUFBQSxLQUFBLEtBQUEsRUFBQSxPQUFBLEdBQUEsR0FBQSxhQUFBLFlBQUEsR0FBQSxFQUFBLEtBQ0EsUUFBQSxJQUFBLEdBQUEsSUFBQSxJQUFBLE1BQUEsR0FBQSxXQUFBLFdBQUEsS0FBQSxJQUFBLEtBQUEsTUFBQSxLQUFBLFFBQUEsSUFBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEtBQUEsRUFBQSxrREFBQSxLQUFBLEdBQUEsbUJBQUEsR0FBQSxFQUFBLEtBQ0EsUUFBQSxJQUFBLEVBQUEsR0FBQSxNQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsUUFBQSxJQUFBLEVBQUEsR0FBQSxNQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxRQUFBLElBQUEsRUFBQSxHQUFBLE1BQUEsSUFBQSxFQUFBLEdBQUEsUUFBQSxHQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLElBQUEsSUFBQSxLQUFBLEdBQUEsbUJBQUEsR0FBQSxFQUFBLEtBRUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsR0FBQSxPQUFBLElBQUEsRUFBQSxHQUFBLElBQUEsSUFBQSxFQUFBLEdBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLE1BQUEsS0FBQSxHQUFBLEVBQ0EsUUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLE9BQUEsRUFBQSxNQUFBLEVBQUEsSUFBQSxHQUFBLElBQUEsSUFBQSxnQkFBQSxJQUFBLGFBQUEsR0FBQSxFQUFBLEVBQUEsYUFBQSxtQkFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsR0FBQSxnQkFBQSxJQUFBLGdCQUFBLElBQUEsZ0JBQUEsSUFBQSxPQUFBLEdBQUEsc0NBQUEsSUFBQSxnQkFBQSxJQUFBLFVBQUEsSUFBQSxPQUFBLEVBQUEsWUFBQSxFQUFBLEVBQUEsV0FBQSxnQkFBQSxJQUFBLE9BQUEsR0FBQSxNQUFBLElBQUEsSUFBQSxFQUFBLEVBQUEsSUFBQSxZQUFBLE9BQUEsQ0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLENBQ0EsT0FEQSxJQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxNQUFBLEVBQUEsVUFBQSxFQUFBLEdBQUEsQ0FBQSxHQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsTUFBQSxFQUFBLE9BQUEsRUFDQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsTUFBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLENBQUEsSUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsZ0JBQUEsSUFBQSxNQUFBLEVBQUEsVUFBQSxFQUFBLEdBQUEsQ0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxNQUFBLEVBQUEsR0FBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLE1BQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsR0FBQSxLQUFBLElBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxDQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsSUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLE1BQUEsSUFBQSxHQUFBLEVBQUEsR0FBQSxRQUFBLElBQUEsR0FBQSxLQUFBLE1BQUEsU0FBQSxLQUFBLElBQUEsRUFBQSxHQUFBLEdBQUEsSUFBQSxLQUFBLEdBQUEsS0FBQSxNQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxTQUFBLE1BQUEsS0FBQSxNQUFBLEdBQUEsS0FBQSxLQUFBLEdBQUEsUUFBQSxJQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxPQUFBLEdBQUEsS0FBQSxFQUNBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxRQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLENBQUEsSUFBQSxHQUFBLEVBQUEsTUFBQSxLQUFBLElBQUEsR0FBQSxFQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsQ0FBQSxPQUFBLElBQUEsSUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUEsTUFBQSxHQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxDQUFBLE9BQUEsSUFBQSxJQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEdBQUEsU0FBQSxHQUFBLFFBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLENBQUEsSUFBQSxDQUFBLElBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsQ0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxJQUFBLE1BQUEsSUFBQSxHQUFBLElBQUEsRUFBQSxTQUNBLEVBQUEsRUFBQSxHQUFBLEVBQUEsT0FBQSxRQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxHQUFBLElBQUEsR0FBQSxRQUFBLElBQUEsR0FBQSxNQUFBLGdCQUFBLEdBQUEsVUFBQSxHQUFBLEdBQUEsVUFBQSxFQUFBLFFBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsS0FBQSxHQUFBLEVBR0EsUUFBQSxJQUFBLEdBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxFQUFBLE9BQUEsOEJBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxNQUNBLFFBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxTQUFBLEdBQUEsTUFBQSxLQUFBLElBQUEsa0JBQUEsR0FBQSxRQUFBLE1BQUEsR0FBQSxLQUFBLE1BQUEsV0FBQSxJQUFBLEdBQUEsQ0FBQSxJQUFBLG1CQUFBLFdBQUEsbUJBQUEsVUFBQSxtQkFBQSxtQkFBQSxVQUFBLFFBQUEsRUFBQSxtQkFBQSxFQUFBLFVBQUEsbUJBQUEsVUFBQSxXQUFBLEVBQUEsc0JBQUEsRUFBQSxhQUFBLG1CQUFBLFVBQUEsVUFBQSxFQUFBLHFCQUFBLEVBQUEsWUFBQSxtQkFBQSxVQUFBLGVBQUEsRUFBQSx5QkFBQSxFQUFBLGlCQUFBLEtBQUEsSUFBQSxFQUFBLEVBQUEsQ0FBQSxHQUFBLEdBQUEsSUFBQSxVQUFBLGlCQUFBLEVBQ0EsV0FBQSxHQUFBLElBQUEsU0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxVQUFBLE1BQUEsSUFBQSxRQUFBLE1BQUEsR0FBQSxHQUFBLEtBQUEsTUFBQSxXQUFBLEtBQUEsSUFBQSxFQUFBLG1CQUFBLFNBQUEsbUJBQUEsUUFBQSxpQkFBQSxDQUFBLEdBQUEsR0FBQSxJQUFBLFFBQUEsaUJBQUEsU0FBQSxXQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsVUFBQSxHQUFBLEVBQUEsSUFBQSxJQUFBLEdBQUEsT0FBQSxpQkFBQSxVQUFBLFdBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxVQUFBLEdBQUEsRUFBQSxJQUFBLElBQUEsSUFBQSxRQUFBLElBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxRQUFBLElBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLENBQUEsS0FBQSxJQUFBLEdBQUEsRUFBQSxLQUFBLENBQUEsT0FBQSxHQUFBLFFBQUEsSUFBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLEtBQUEsSUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLFFBQUEsTUFBQSxLQUFBLE1BQUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsUUFBQSxJQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEtBQUEsUUFBQSxJQUFBLEVBQUEsR0FBQSxLQUFBLE1BQUEsS0FBQSxHQUFBLEdBQUEsSUFBQSxHQUFBLEtBQUEsRUFBQSxDQUFBLElBQUEsR0FBQSxJQUFBLElBQUEsS0FBQSxRQUFBLFlBQUEsRUFBQSxLQUFBLEdBQUEsTUFBQSxLQUFBLE1BQUEsSUFBQSxRQUFBLElBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxXQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEdBQUEsR0FBQSxRQUFBLElBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLFVBQUEsT0FBQSxJQUFBLEtBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLElBQUEsS0FBQSxPQUFBLEtBQUEsR0FBQSxLQUFBLEtBQUEsR0FBQSxLQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLElBQUEsRUFBQSxHQUFBLFNBQUEsU0FBQSxFQUFBLEdBQUEsV0FBQSxtQkFBQSxXQUFBLFNBQUEsTUFBQSxLQUFBLFNBQUEsS0FBQSxRQUFBLG9CQUFBLEtBQUEsSUFBQSxRQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsS0FBQSxHQUFBLEtBQUEsR0FBQSxPQUFBLEVBQUEsSUFBQSxJQUFBLEtBQUEsR0FBQSxLQUFBLEdBQUEsTUFBQSxHQUdBLFFBQUEsSUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLE9BQUEsS0FBQSxHQUFBLEVBQUEsT0FBQSxRQUFBLEVBQUEsR0FBQSxDQUFBLEdBQUEsR0FBQSxFQUFBLE9BQUEsS0FBQSxHQUFBLEdBQUEsT0FBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxJQUNBLFFBQUEsSUFBQSxHQUFBLGNBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxZQUFBLFdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsR0FBQSxJQUFBLEtBQUEsTUFBQSxPQUFBLFFBQUEsSUFBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsTUFBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLEdBQUEsR0FBQSxLQUFBLEdBQUEsS0FBQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLE1BQUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLFVBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsQ0FBQSxHQUFBLEdBQUEsQ0FBQSxJQUFBLFdBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsQ0FBQSxFQUFBLEtBQUEsYUFBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLE9BQUEsRUFBQSxNQUFBLFFBQUEsTUFBQSxLQUFBLE9BQUEsUUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsSUFBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLElBQUEsRUFBQSxLQUFBLEdBQUEsU0FBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxJQUFBLEdBQUEsSUFBQSxLQUFBLElBQUEsR0FBQSxFQUFBLGVBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxRQUFBLEVBQUEsR0FBQSxXQUFBLFdBQUEsRUFBQSxHQUFBLFFBQUEsRUFBQSxLQUFBLE1BTUEsUUFBQSxJQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsaUJBQUEsR0FDQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxHQUFBLElBQUEsS0FBQSxNQUFBLEtBQUEsR0FBQSxLQUFBLE1BQUEsSUFBQSxLQUFBLFVBQUEsS0FBQSxJQUFBLEVBQUEsS0FBQSxHQUFBLEtBQUEsT0FBQSxhQUFBLEtBQUEsSUFBQSxFQUFBLE9BQUEsVUFBQSxLQUFBLElBQUEsRUFBQSxFQUFBLFNBQUEsY0FBQSxVQUFBLEVBQUEsTUFBQSxRQUFBLFFBQUEsU0FBQSxLQUFBLEtBQUEsbUdBQUEsVUFBQSxLQUFBLFlBQUEsRUFBQSxLQUFBLEVBQUEsY0FBQSxVQUFBLEVBQUEsaUNBQUEsTUFBQSxHQUFBLEVBQUEsSUFBQSxnRUFBQSxTQUFBLE9BQUEsMkJBQ0EsRUFBQSxnQkFBQSxFQUFBLEdBQUEsRUFBQSxnQkFBQSxFQUFBLGNBQUEsRUFBQSxHQUFBLEVBQUEsY0FBQSxTQUFBLEVBQUEsV0FBQSxFQUFBLEdBQUEsRUFBQSxVQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsS0FBQSxnQkFBQSxLQUFBLEVBQUEsSUFBQSxPQUFBLEVBQUEsTUFBQSxFQUFBLDRCQUFBLFNBQUEsT0FBQSxlQUFBLEVBQUEsZUFBQSxFQUFBLGdCQUFBLEtBQUEsS0FBQSxFQUFBLEdBQUEsT0FBQSxLQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsUUFBQSxNQUFBLEdBQUEsRUFBQSwyQkFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxJQUVBLFFBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLEVBQUEsR0FBQSxDQUFBLEVBQUEsSUFBQSxJQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxRQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxPQUFBLEdBQUEsRUFBQSxRQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxRQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsTUFBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxLQUFBLE1BQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxPQUFBLEVBQUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLFFBQUEsS0FBQSxFQUFBLEdBQUEsT0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLElBQUEsR0FBQSxXQUFBLEVBQUEsS0FBQSxNQUFBLE1BQUEsSUFBQSxFQUFBLEVBQUEsV0FBQSxhQUFBLEdBQUEsTUFDQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsV0FBQSxXQUFBLElBQUEsR0FBQSxFQUFBLEdBQUEsQ0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsY0FBQSxTQUFBLEdBQUEsS0FBQSxrQkFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxtQkFBQSxXQUFBLEdBQUEsR0FBQSxFQUFBLFVBQUEsSUFBQSxXQUFBLEdBQUEsYUFBQSxJQUFBLEVBQUEsT0FBQSxFQUFBLG1CQUFBLEtBQUEsRUFBQSxZQUFBLEVBQUEsV0FBQSxZQUFBLEdBQUEsTUFBQSxFQUFBLFFBQUEsV0FBQSxFQUFBLG9DQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsWUFBQSxJQUFBLE1BQUEsTUFBQSxLQUFBLE1BQUEsSUFBQSxRQUFBLElBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxRQUFBLElBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsY0FBQSxFQUFBLEtBQUEsR0FBQSxLQUFBLElBQUEsR0FBQSxJQUFBLDhCQUFBLElBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxtRkFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsT0FBQSxDQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEsSUFBQSxHQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxlQUFBLEVBQUEsS0FBQSxNQUFBLFFBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsT0FBQSxNQUFBLEdBQUEsR0FBQSxFQUFBLE1BQUEsT0FBQSwyQkFBQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxLQUFBLEdBQUEsS0FBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxLQUFBLE1BQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsSUFBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxzQkFBQSxHQUFBLE1BQ0EsUUFBQSxJQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLDhCQUFBLENBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxXQUFBLFdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxLQUFBLE1BQUEsSUFBQSxFQUFBLEVBQUEsZ0JBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxHQUFBLFdBQUEsV0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLE9BQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLHdEQUFBLEVBQUEsRUFBQSxHQUFBLHdDQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsR0FBQSxNQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxvREFDQSxFQUFBLEVBQUEsR0FBQSx1Q0FBQSxFQUFBLEVBQUEsK0NBQUEsRUFBQSxXQUFBLEtBQUEsTUFBQSxLQUFBLFFBQUEsSUFBQSxFQUFBLEdBQUEsTUFBQSxVQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsOEJBQUEsRUFBQSxFQUFBLCtCQUFBLE9BQUEsRUFBQSxFQUFBLEdBQUEsT0FBQSxFQUFBLEtBQUEsR0FBQSxPQUFBLFFBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxTQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSw4QkFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLDhCQUNBLFFBQUEsSUFBQSxFQUFBLEdBQUEsTUFBQSxVQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLElBQUEsRUFBQSxHQUFBLENBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsSUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxDQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxzQ0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLE9BQUEsRUFBQSxHQUFBLEdBQUEsT0FBQSxHQUFBLEVBQUEsUUFBQSxJQUFBLE1BQUEsRUFBQSxDQUFBLElBQUEsRUFBQSxFQUFBLHFDQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxNQUFBLEdBQUEsT0FBQSxNQUFBLEdBQUEsRUFBQSxFQUFBLDBEQUNBLEVBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsTUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLFNBQUEsTUFBQSxHQUFBLEVBQUEsRUFBQSxxQ0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxTQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsTUFBQSxFQUFBLEdBQUEsaUJBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxFQUFBLHdCQUFBLEdBQUEsR0FBQSxHQUFBLElBQUEsR0FBQSxtQ0FBQSxPQUFBLEtBQUEsR0FBQSxFQUFBLEdBQUEsT0FBQSxJQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxFQUFBLEdBQUEsSUFBQSxHQUFBLEtBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxFQUFBLHdDQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLFNBQUEsTUFBQSxJQUFBLEVBQUEsRUFBQSwwQkFDQSxFQUFBLEtBQUEsR0FBQSxTQUFBLENBQUEsR0FBQSxLQUFBLEVBQUEsS0FBQSxPQUFBLDJCQUFBLEVBQUEsR0FBQSxHQUFBLEtBQUEsT0FBQSxHQUFBLEVBQUEsOEJBQUEsUUFBQSxJQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSwyQ0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxNQUNBLFFBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxvQ0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLEVBQUEsbUNBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxJQUFBLFFBQUEsRUFBQSxFQUFBLGtDQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsSUFBQSxRQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSw4QkFBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLElBQUEsR0FBQSxFQUFBLElBQUEsU0FBQSxRQUFBLElBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxrQ0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsT0FDQSxRQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSw4QkFBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxXQUFBLFdBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxnQ0FBQSxFQUFBLEVBQUEsVUFBQSxLQUFBLE1BQUEsTUFBQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLG9DQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsTUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsa0NBQUEsRUFBQSxJQUFBLEdBQUEsV0FBQSxXQUFBLEdBQUE7RUFBQSxLQUFBLE1BQUEsTUFDQSxRQUFBLElBQUEsR0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLDRCQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsR0FBQSxFQUFBLElBQUEsU0FBQSxRQUFBLElBQUEsRUFBQSxHQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsS0FBQSw2QkFBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLFFBQUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxpQ0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsS0FBQSxhQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsTUFBQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEtBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxLQUFBLEdBQUEsS0FBQSxLQUFBLElBQUEsRUFBQSxLQUFBLE1BQUEsS0FBQSxLQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsTUFBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLEdBQUEsSUFBQSxLQUFBLEdBQUEsSUFBQSxLQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsS0FBQSxHQUFBLEtBQUEsS0FBQSxNQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxLQUFBLEdBQUEsS0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxVQUFBLEtBQUEsR0FBQSxNQUFBLEtBQUEsRUFBQSxLQUFBLFFBQUEsWUFBQSxHQUFBLEtBQUEsR0FBQSxTQUFBLEtBQUEsR0FBQSxNQUNBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxPQUFBLFVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLE9BQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLGdEQUFBLEVBQUEsR0FBQSxHQUFBLElBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxHQUNBLFFBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLGFBQUEsRUFBQSxRQUFBLEVBQUEsSUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxTQUFBLEdBQUEsTUFBQSxJQUFBLEtBQUEsT0FBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLFNBQUEsR0FBQSxFQUFBLEVBQUEsa0JBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsS0FFQSxRQUFBLElBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxRQUFBLEtBQUEsRUFBQSxJQUFBLFNBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxDQUFBLEdBQUEsRUFBQSxHQUFBLFFBQUEsT0FBQSxHQUFBLEVBQUEsS0FBQSxTQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsT0FBQSxHQUFBLEVBQUEsR0FBQSxPQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFdBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLFFBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxlQUFBLEVBQUEsUUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLFNBQUEsR0FBQSxNQUFBLElBQUEsS0FBQSxPQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLElBQUEsR0FDQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxFQUFBLE9BQUEsSUFBQSxLQUFBLEVBQUEsRUFBQSxJQUFBLFFBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLEVBQUEsT0FBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLElBQUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLGdCQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFNBQUEsR0FBQSxHQUFBLFdBQUEsV0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsS0FBQSxNQUFBLE1BQUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsUUFDQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsTUFBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxRQUFBLElBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLENBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxTQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsWUFBQSxTQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEtBR0EsUUFBQSxJQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSwwREFBQSxFQUFBLElBQUEsYUFBQSxFQUFBLElBQUEsRUFBQSxHQUFBLFdBQUEsV0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLElBQUEsS0FBQSxNQUFBLElBR0EsUUFBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsQ0FBQSxFQUFBLEVBQUEsK0JBQUEsRUFBQSxJQUFBLEdBQUEsT0FBQSxVQUFBLEVBQUEsR0FBQSxJQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxJQUFBLEdBQUEsR0FBQSxHQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsU0FBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxXQUFBLEtBQUEsRUFBQSxJQUFBLEtBQ0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsU0FBQSxHQUFBLE1BQUEsSUFBQSxLQUFBLEtBQUEsS0FBQSxNQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLHFCQUFBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLFdBQUEsSUFBQSxFQUFBLEtBQUEsSUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsY0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsUUFBQSxNQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsSUFBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxPQUFBLENBQUEsTUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxTQUFBLElBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsUUFBQSxJQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsSUFBQSxNQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxNQUFBLENBQUEsSUFBQSxPQUFBLEVBQUEsRUFBQSxDQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsT0FBQSxDQUFBLElBQUEsR0FBQSxFQUFBLENBQUEsT0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEdBQUEsTUFBQSxRQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsU0FBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLE1BQUEsSUFBQSxJQUFBLEVBQ0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLE9BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxXQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxLQUFBLFFBQUEsTUFBQSxLQUFBLEVBQUEsRUFBQSxRQUFBLEdBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxRQUFBLE1BQUEsS0FBQSxHQUFBLEdBQUEsSUFBQSxLQUFBLEVBQUEsR0FBQSxJQUFBLEtBQUEsR0FBQSxHQUFBLElBQUEsS0FBQSxHQUFBLEdBQUEsSUFBQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsUUFBQSxJQUFBLEVBQUEsR0FBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsQ0FBQSxHQUFBLE9BQUEsRUFBQSxJQUFBLENBQUEsR0FBQSxDQUFBLE9BQUEsRUFBQSxFQUFBLFNBQUEsTUFBQSxJQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsSUFBQSxHQUFBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsSUFBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsR0FBQSxFQUFBLEVBQUEsTUFBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsR0FDQSxRQUFBLElBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxTQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxJQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsT0FBQSxFQUFBLGtDQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxRQUFBLElBQUEsRUFBQSxHQUFBLE1BQUEsSUFBQSxnQkFBQSxJQUFBLEVBQUEsT0FBQSxHQUFBLDZDQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsUUFBQSxJQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLE9BQUEsSUFBQSxFQUFBLEdBQUEsR0FBQSxJQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsUUFBQSxJQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxJQUFBLENBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsT0FBQSxLQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsSUFBQSxHQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxRQUFBLE1BQUEsS0FBQSxNQUFBLFFBQUEsSUFBQSxFQUFBLEdBQUEsR0FBQSxJQUFBLEVBQUEsT0FBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLFFBQUEsSUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxXQUFBLEVBQUEsRUFBQSxLQUFBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsS0FBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLFFBQUEsSUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEtBQUEsTUFBQSxLQUFBLEdBQUEsR0FBQSxJQUFBLFFBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLE1BQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQUFBLElBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEtBQUEsR0FBQSxHQUFBLFFBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxHQUFBLEVBQUEsR0FBQSxPQUFBLEVBQUEsQ0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsTUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsR0FBQSxHQUNBLFFBQUEsSUFBQSxFQUFBLEdBQUEsSUFBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsQ0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxVQUFBLEVBQUEsTUFBQSxFQUFBLEtBQUEsVUFBQSxFQUFBLE9BQUEsR0FBQSxJQUFBLEVBQUEsUUFBQSxHQUFBLElBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsV0FBQSxFQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsRUFBQSxLQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsT0FBQSxJQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxPQUFBLEVBQUEsTUFBQSxFQUFBLE1BQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEdBQUEsRUFBQSxHQUFBLEdBQ0EsUUFBQSxJQUFBLEdBQUEsR0FBQSxLQUFBLEtBQUEsRUFBQSxJQUFBLENBQUEsR0FBQSxHQUFBLElBQUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsY0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxHQUFBLFFBQUEsSUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLFFBQUEsRUFBQSxNQUFBLFFBQUEsSUFBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLEtBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxRQUFBLElBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLFFBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLElBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsVUFBQSxDQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxFQUFBLFFBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxJQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxHQUFBLGNBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsZ0JBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsY0FBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsZ0JBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQ0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLElBQUEsT0FBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxNQUFBLEVBQ0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsSUFBQSxLQUFBLEtBQUEsS0FBQSxLQUFBLEtBQUEsSUFBQSxLQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLE9BQUEsR0FBQSxPQUFBLEdBQ0EsR0FEQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxLQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsTUFBQSxNQUFBLEtBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxNQUFBLE1BQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxNQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsT0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUEsRUFBQSxLQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsTUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLElBQUEsRUFBQSxHQUFBLE9BQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxPQUFBLEVBQUEsS0FBQSxJQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE1BQ0EsRUFBQSxVQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLE1BQUEsTUFBQSxFQUFBLE1BQUEsTUFBQSxFQUFBLE1BQUEsR0FBQSxFQUFBLEdBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLE9BQUEsQ0FBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxLQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxHQUFBLGdCQUFBLEVBQUEsTUFBQSxFQUFBLE1BQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsS0FBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsR0FBQSxHQUFBLGNBQUEsRUFBQSxNQUFBLEVBQUEsSUFBQSxJQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxPQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsY0FBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxTQUNBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsR0FBQSxHQUFBLGdCQUFBLEVBQUEsTUFBQSxFQUFBLElBQUEsR0FBQSxPQUFBLEdBQUEsUUFBQSxNQUFBLEtBQUEsRUFBQSxLQUFBLEdBQUEsS0FBQSxLQUFBLE9BQUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsTUFBQSxRQUFBLElBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxRQUFBLElBQUEsR0FBQSxNQUFBLEdBQUEsU0FBQSxXQUFBLFFBQUEsSUFBQSxHQUFBLE1BQUEsT0FBQSxFQUFBLElBQUEsR0FBQSxHQUNBLFFBQUEsSUFBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLEtBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxHQUFBLElBSUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsTUFBQSxLQUFBLElBQUEsR0FBQSxJQUFBLFFBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLElBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLElBQUEsSUFBQSxJQUFBLEVBQUEsU0FBQSxFQUNBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsT0FBQSxDQUFBLFFBQUEsRUFDQSxRQUFBLElBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsSUFDQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLENBQUEsR0FBQSxDQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsQ0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxHQUFBLEVBQUEsT0FBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsS0FBQSxFQUFBLEdBQUEsT0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxPQUFBLE9BQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLFVBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsSUFBQSxJQUFBLEtBQUEsT0FBQSxJQUFBLFlBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxTQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEtBQUEsRUFDQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLENBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxDQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsQ0FBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLEdBQUEsRUFBQSxPQUFBLEdBQUEsQ0FBQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxJQUFBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsU0FBQSxNQUFBLEdBQUEsS0FBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxNQUFBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsU0FBQSxJQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLE1BQUEsR0FBQSxHQUNBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxRQUFBLEdBQUEsR0FBQSxFQUFBLENBQUEsR0FBQSxFQUFBLEVBQUEsWUFBQSxPQUFBLENBQUEsR0FBQSxFQUFBLGVBQUEsT0FBQSxFQUFBLFFBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLENBQUEsR0FBQSxHQUFBLENBQUEsS0FBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsYUFBQSxDQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLFNBQUEsR0FBQSxDQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLE9BQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLFFBQUEsSUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLFNBQUEsSUFBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxTQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsU0FBQSxJQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLFNBQUEsR0FDQSxRQUFBLElBQUEsR0FBQSxNQUFBLElBQUEsRUFBQSxTQUFBLEdBQUEsTUFBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLE9BQUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxDQUFBLEdBQUEsR0FBQSxDQUFBLEdBQUEsTUFBQSxFQUFBLEVBQUEsV0FBQSxFQUFBLEVBQUEsTUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsVUFBQSxHQUFBLEVBQUEsSUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxHQUFBLElBQUEsR0FBQSxFQUFBLFNBQUEsSUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxRQUNBLFFBQUEsSUFBQSxFQUFBLEdBQUEsUUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxJQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLFFBQUEsTUFBQSxFQUFBLElBQUEsRUFBQSxVQUFBLEdBQUEsRUFBQSxRQUFBLENBQUEsR0FBQSxFQUFBLENBQUEsTUFBQSxFQUFBLElBQUEsRUFBQSxVQUFBLEdBQUEsRUFBQSxHQUFBLElBQUEsS0FBQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsU0FBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsUUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEtBQUEsT0FBQSxHQUFBLEdBQUEsRUFDQSxRQUFBLElBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxTQUFBLEdBQUEsT0FBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsc0JBQUEsRUFBQSxPQUFBLFdBQUEsWUFBQSxFQUFBLFlBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxHQUFBLEdBQUEsRUFBQSxTQUFBLElBQUEsRUFBQSxFQUFBLElBQUEsS0FBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsV0FBQSxXQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsTUFBQSxJQUFBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLE9BQUEsSUFBQSxDQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLFFBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxFQUFBLElBQ0EsUUFBQSxJQUFBLEVBQUEsR0FBQSxNQUFBLFlBQUEsRUFBQSxLQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLE1BQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxJQUFBLE9BQUEsSUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsSUFBQSxHQUFBLEVBQUEsTUFBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsU0FBQSxLQUFBLEVBQUEsR0FBQSxJQUFBLE9BQUEsR0FDQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxDQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxRQUFBLEtBQUEsR0FBQSxNQUFBLE9BQUEsR0FBQSxDQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsSUFBQSxPQUFBLEVBQUEsQ0FBQSxHQUFBLEdBQUEsR0FBQSxDQUFBLElBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxNQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxJQUFBLEdBQUEsSUFBQSxFQUFBLENBQUEsSUFBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLE1BQUEsR0FBQSxJQUFBLEdBQUEsRUFBQSxNQUFBLEtBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxNQUFBLElBQUEsRUFBQSxRQUFBLEVBQUEsR0FBQSxHQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxPQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsTUFBQSxLQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEVBQ0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxJQUFBLE9BQUEsRUFBQSxNQUFBLElBQUEsS0FBQSxLQUFBLEVBQUEsT0FBQSxHQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxLQUFBLE9BQUEsR0FBQSxFQUFBLFNBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxLQUFBLEVBQUEsUUFBQSxJQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxJQUFBLEtBQUEsRUFBQSxFQUFBLEtBQUEsR0FBQSxNQUFBLEVBQUEsS0FBQSxHQUFBLE1BQUEsRUFBQSxLQUFBLEdBQUEsTUFBQSxFQUFBLEtBQUEsR0FBQSxNQUFBLEVBQUEsS0FBQSxHQUFBLE9BQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLFdBQUEsTUFBQSxJQUFBLElBQUEsS0FBQSxHQUFBLEtBQUEsSUFBQSxPQUFBLEtBQUEsR0FBQSxHQUFBLElBQUEsS0FBQSxHQUFBLEdBQUEsSUFBQSxLQUFBLEVBQUEsR0FBQSxJQUFBLEtBQUEsRUFBQSxHQUFBLElBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEtBQUEsR0FBQSxHQUFBLElBQUEsS0FBQSxHQUFBLEdBQUEsSUFBQSxLQUFBLEtBQUEsSUFBQSxHQUFBLEtBQUEsYUFBQSxHQUFBLEdBQUEsS0FBQSxpQkFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLElBQUEsS0FBQSxHQUFBLEVBQ0EsUUFBQSxJQUFBLEdBQUEsTUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSwyQkFBQSxLQUFBLEdBQUEsR0FBQSxPQUFBLFVBQUEsRUFBQSxRQUFBLElBQUEsR0FBQSxNQUFBLEdBQUEsR0FBQSxVQUFBLEdBQUEsSUFBQSxFQUFBLFVBQUEsRUFBQSxZQUFBLEdBQUEsT0FBQSxVQUFBLEVBRUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLFVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLElBS0EsUUFBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLHFCQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLElBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLElBQUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLFdBQUEsRUFBQSxHQUFBLEdBQUEsU0FBQSxFQUFBLEdBQUEsT0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxLQUNBLFFBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsV0FBQSxFQUFBLEdBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxPQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsQ0FBQSxLQUFBLElBQUEsR0FBQSxHQUFBLENBQUEsSUFBQSxFQUFBLHVFQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsV0FBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsT0FBQSxFQUFBLElBQUEsR0FBQSxLQUFBLEdBQUEsQ0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLFFBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLDRCQUFBLEVBQUEsR0FBQSxHQUFBLDBCQUFBLEVBR0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxXQUFBLEdBQUEsTUFBQSxFQUFBLEVBQUEsS0FBQSxPQUFBLENBQUEsR0FBQSxJQUFBLEdBQUEsU0FBQSxjQUFBLEVBQUEsQ0FBQSxLQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsTUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsTUFBQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLFFBQUEsTUFBQSxFQUFBLEVBQUEsa0JBQUEsRUFBQSxJQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxRQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEtBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxXQUFBLEVBQUEsR0FBQSxRQUFBLElBQUEsR0FBQSxNQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLENBQUEsR0FBQSxxQ0FBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxPQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsZ0JBQUEsSUFBQSxPQUFBLEdBQUEsRUFBQSxFQUFBLGFBQUEsRUFBQSxhQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUNBLEdBQUEsS0FBQSxHQUFBLE9BQUEsR0FBQSxLQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsSUFBQSxRQUFBLElBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsT0FBQSxFQUFBLElBQUEsQ0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxHQUFBLEVBQUEsU0FBQSxHQUFBLE1BQUEsS0FBQSxFQUFBLFVBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxPQUFBLEdBQUEsTUFBQSxFQUFBLEVBQUEsU0FBQSxHQUFBLEdBQUEsRUFBQSxLQUNBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxPQUFBLGlFQUFBLEVBQUEsR0FBQSxPQUFBLEVBQUEsRUFBQSxHQUFBLElBQUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLFdBQUEsRUFBQSxTQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsNEJBQUEsS0FBQSxFQUFBLFdBQUEsT0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsT0FBQSxFQUFBLHlEQUFBLElBQ0EsSUFBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxHQUFBLE9BQUEsRUFBQSxDQUFBLElBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLEdBQUEsT0FBQSxFQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLElBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsR0FBQSxFQUFBLFFBQUEsQ0FBQSxHQUFBLGNBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsR0FBQSxPQUFBLElBQUEsRUFBQSxHQUFBLE9BQUEsRUFBQSxNQUFBLEtBQUEsRUFBQSxrQkFBQSxFQUFBLFlBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLEdBQUEsT0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLE1BQUEsR0FDQSxRQUFBLElBQUEsR0FBQSxJQUFBLEdBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLFlBQUEsRUFBQSxHQUFBLEtBQUEsS0FBQSxLQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsT0FBQSxHQUNBLFFBQUEsSUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxPQUFBLENBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsQ0FBQSxJQUFBLEVBQUEsT0FBQSxFQUFBLGlFQUFBLElBQUEsRUFBQSxHQUFBLE9BQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLE9BQUEsSUFBQSxJQUFBLEVBQUEsR0FBQSxPQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxlQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLE9BQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxHQUFBLENBQUEsR0FBQSxxQ0FBQSxFQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsaUJBQUEsSUFBQSxNQUFBLEdBQUEsRUFBQSxFQUFBLGVBQ0EsRUFBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLFFBQUEsSUFBQSxFQUFBLEVBQUEsU0FBQSxJQUFBLEVBQUEsR0FBQSxPQUFBLEVBQUEsV0FBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLE1BQUEsSUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLFdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLE1BQUEsSUFBQSxFQUFBLE1BQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxHQUFBLEVBQUEsR0FBQSxJQUFBLEdBQUEsTUFBQSxHQUFBLFFBQUEsSUFBQSxFQUFBLEdBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsUUFBQSxFQUFBLEVBQUEsS0FBQSxPQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsR0FDQSxRQUFBLElBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxPQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLElBQUEsT0FBQSxFQUFBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxTQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxRQUFBLElBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLENBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxJQUFBLEVBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsSUFBQSxHQUFBLE9BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxTQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEsUUFBQSxJQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsU0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLFNBQUEsR0FBQSxHQUFBLEtBQUEsRUFDQSxRQUFBLElBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLElBQUEsT0FBQSxFQUFBLENBQUEsSUFBQSxHQUFBLE1BQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLElBQUEsRUFBQSxHQUFBLFNBQUEsSUFBQSxFQUFBLEdBQUEsUUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLG1EQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsT0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLFFBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxRQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsTUFBQSxRQUFBLEVBQUEsUUFBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEdBQUEsRUFBQSxLQUFBLFFBQUEsSUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUNBLFFBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxJQUFBLEdBQUEsQ0FBQSxPQUFBLEdBQUEsRUFBQSxTQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsUUFBQSxLQUFBLEtBQUEsTUFDQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsS0FBQSxHQUFBLEVBS0EsUUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsQ0FBQSxJQUFBLFlBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxNQUFBLENBQUEsRUFBQSxlQUFBLEVBQUEsRUFBQSxVQUFBLE9BQUEsSUFBQSxHQUFBLFVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsQ0FBQSxHQUFBLEdBQUEsRUFBQSxRQUFBLEtBQUEsSUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLFFBQUEsS0FBQSxLQUFBLElBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxFQUFBLFVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxNQUFBLElBQUEsSUFBQSxHQUFBLEVBQUEsT0FBQSxDQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsUUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLFVBQUEsR0FBQSxRQUFBLEdBQUEsRUFBQSxhQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsa0ZBQUEsS0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsR0FBQSxJQUFBLEdBQUEsTUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsT0FBQSxDQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxtQkFBQSxFQUFBLFFBQUEsTUFBQSxNQUFBLE1BQUEsSUFBQSxHQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsa0JBQUEsSUFBQSxnRkFDQSxHQURBLEdBQUEsbUJBQUEsU0FBQSxPQUFBLFVBQUEsT0FBQSxTQUFBLFVBQUEsS0FBQSxPQUFBLFNBQUEsU0FBQSxRQUFBLFdBQUEsRUFBQSw2RkFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsUUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLGFBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsS0FBQSxTQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLFVBQUEsSUFBQSxFQUFBLEVBQUEsUUFBQSxtQkFBQSxNQUFBLElBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxTQUFBLEdBQUEsS0FBQSxLQUFBLEVBQUEsS0FBQSxPQUFBLEVBQUEsZUFBQSxHQUFBLEdBQUEsdUZBQUEsSUFBQSxFQUFBLENBQUEsS0FBQSxZQUFBLElBQUEsS0FBQSxPQUFBLDBFQUFBLEdBQUEsTUFBQSxHQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsV0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsSUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsR0FhQSxRQUFBLElBQUEsRUFBQSxHQUFBLEdBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxFQUFBLCtDQUFBLElBQUEsR0FBQSxtQkFBQSxXQUFBLGtCQUFBLFNBQUEsSUFBQSxHQUFBLEVBQUEsUUFBQSxJQUFBLFNBQUEsZ0JBQUEsU0FBQSxNQUFBLEdBQUEsU0FBQSxHQUFBLFFBQUEsSUFBQSxNQUFBLEdBQUEsR0FBQSxJQUFBLG1CQUFBLElBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEdBQUEsT0FBQSxvQkE5SkEsR0FBQSxXQUFBLFdBQUEsWUFBQSxTQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsSUFBQSxFQUFBLFFBQUEsSUFBQSxFQUFBLE9BQUEsTUFBQSxHQUFBLE9BQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsS0FBQSxNQUFBLEVBQUEsZ0JBQUEsRUFBQSxJQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxPQUFBLENBQUEsRUFBQSxDQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsU0FBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLENBQUEsSUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsT0FBQSxDQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxDQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsTUFBQSxFQUFBLGdCQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLE1BQUEsSUFBQSxFQUFBLEdBQUEsTUFBQSxHQUNBLFFBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLE1BQUEsT0FBQSxLQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxLQUFBLE1BQUEsRUFBQSxFQUFBLEdBQUEsZ0JBQUEsSUFBQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxNQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxjQUFBLEVBQUEsUUFBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsUUFFQSxRQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsTUFBQSxHQUFBLEVBQUEsRUFBQSxDQUFBLEtBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLE1BQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLEdBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQ0EsUUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLE9BQUEsR0FBQSxFQUFBLEVBQUEsQ0FBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsS0FBQSxNQUFBLEVBQUEsRUFBQSxhQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLElBQUEsR0FBQSxPQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxDQUFBLElBQUEsR0FBQSxtRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsSUFBQSxNQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLEdBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxNQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsUUFBQSxHQUFBLEdBQUEsT0FBQSxHQUZBLEVBQUEsV0FBQSxFQUFBLElBQUEsTUFBQSxXQUFBLE1BQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEdBQUEsS0FBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLE1BQUEsT0FBQSxTQUFBLEdBQUEsR0FBQSxnQkFBQSxHQUFBLENBQUEsRUFBQSxTQUFBLG1CQUFBLEdBQUEsSUFBQSxHQUFBLEtBQUEsRUFBQSxDQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxXQUFBLEdBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLE9BQUEsT0FBQSxHQUFBLFdBQUEsV0FBQSxXQUFBLFVBQUEsWUFBQSxHQUFBLFdBQUEsV0FBQSxXQUFBLFlBRUEsSUFBQSxJQUFBLG9CQUFBLEVBQUEsSUFDQSxHQUFBLElBQUEsS0FBQSxFQUFBLFlBQUEsRUFBQSxXQUFBLE9BQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLFFBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLElBQUEsTUFBQSxNQUFBLElBQUEsa0JBQUEsTUFBQSxpQkFBQSxFQUFBLEdBQUEsS0FNQSxJQUFBLElBQUEsTUFBQSxLQUFBLE9BQUEsSUFBQSxNQUFBLEtBQUEsTUFBQSxLQUFBLE1BQUEsS0FBQSxNQUFBLEtBQUEsTUFBQSxJQUFBLE1BQUEsSUFBQSxXQUFBLEdBQUEsU0FBQSxLQUFBLEtBQUEsOEJBQUEsNEJBQ0EsTUFFQSxNQUFBLEdBQUEsaUNBQUEsR0FBQSw4QkFLQSxHQUFBLFVBQUEsR0FBQSxXQUFBLE1BQUEsR0FBQSxZQUFBLEVBQUEsRUFBQSxVQUFBLFFBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxLQUFBLE9BQUEsRUFBQSxVQUFBLElBQUEsRUFBQSxVQUFBLEdBQ0EsRUFBQSxVQUFBLEdBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxVQUFBLFFBQUEsR0FBQSxXQUFBLEdBQUEsR0FBQSxFQUFBLFdBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxHQUFBLEdBQUEsV0FBQSxVQUFBLEdBQUEsVUFBQSxHQUFBLE9BQUEsTUFBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsVUFBQSxHQUFBLEVBQUEsVUFBQSxHQUFBLEVBQUEsVUFBQSxHQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxZQUFBLEVBQUEsRUFBQSxVQUFBLFFBQUEsR0FBQSxZQUFBLEdBQUEsR0FBQSxFQUFBLFlBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxZQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsVUFBQSxJQUFBLEVBQUEsVUFBQSxHQUNBLEVBQUEsVUFBQSxHQUFBLFNBQUEsRUFBQSxHQUFBLFFBQUEsR0FBQSxHQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsYUFBQSxFQUFBLEVBQUEsVUFBQSxRQUFBLEdBQUEsYUFBQSxHQUFBLEdBQUEsRUFBQSxhQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsR0FBQSxHQUFBLGFBQUEsVUFBQSxHQUFBLFVBQUEsSUFBQSxFQUFBLEtBQUEsR0FBQSxDQUFBLE1BQUEsR0FBQSxFQUFBLEVBQUEsU0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxRQUFBLEVBQUEsT0FBQSxLQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsVUFBQSxLQUFBLEVBQUEsVUFBQSxHQUNBLEVBQUEsVUFBQSxHQUFBLFNBQUEsR0FBQSxHQUFBLEVBQUEsY0FBQSxFQUFBLEVBQUEsVUFBQSxTQUFBLEdBQUEsSUFBQSxLQUFBLE1BQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLHlEQUFBLE9BQUEsSUFBQSxHQUFBLEtBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxLQUFBLEdBQUEsS0FBQSxHQUFBLEtBQUEsR0FBQSxLQUFBLEtBQUEsRUFBQSxVQUFBLE1BQUEsRUFBQSxVQUFBLEdBQUEsRUFBQSxVQUFBLEdBQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLGdCQUFBLEVBQUEsRUFBQSxVQUFBLFFBQUEsR0FBQSxnQkFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLGdCQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxNQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsS0FBQSxLQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxHQUFBLEtBQUEsS0FBQSxFQUFBLFVBQUEsUUFBQSxFQUFBLFVBQUEsR0FDQSxFQUFBLFVBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsY0FBQSxFQUFBLEVBQUEsVUFBQSxRQUFBLEdBQUEsY0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLGNBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEtBQUEsS0FBQSxLQUFBLEdBQUEsS0FBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxVQUFBLE1BQUEsRUFBQSxVQUFBLEdBQUEsRUFBQSxVQUFBLEdBQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLGdCQUFBLEVBQUEsRUFBQSxVQUFBLFFBQUEsR0FBQSxnQkFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLGdCQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLFVBQUEsUUFBQSxFQUFBLFVBQUEsR0FDQSxFQUFBLFVBQUEsR0FBQSxXQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsTUFBQSxPQUFBLE9BQUEsRUFBQSxVQUFBLEdBQ0EsRUFBQSxFQUFBLFVBQUEsRUFBQSxTQUFBLFdBQUEsSUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxPQUFBLElBQUEsS0FBQSxLQUFBLEVBQUEsS0FBQSxHQUFBLElBQUEsS0FBQSxFQUFBLEdBQUEsT0FBQSxJQUFBLEtBQ0EsRUFBQSxPQUFBLFdBQUEsR0FBQSxLQUFBLEdBQUEsS0FBQSxFQUFBLE9BQUEsTUFBQSxLQUFBLEtBQUEsR0FBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsR0FBQSxPQUFBLElBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLFNBQUEsR0FBQSxJQUFBLEdBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxHQUFBLElBQUEsWUFBQSxHQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsUUFBQSxLQUFBLEVBQUEsRUFBQSxNQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsUUFBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLE9BQUEsSUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsV0FBQSxNQUFBLE1BQUEsR0FBQSxLQUFBLEVBQUEsUUFBQSxFQUFBLE9BQUEsV0FBQSxNQUFBLE1BQUEsRUFBQSxPQUFBLEtBQUEsR0FDQSxFQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLENBQUEsSUFBQSxLQUFBLFNBQUEsRUFBQSxTQUFBLE9BQUEsQ0FBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLFFBQUEsQ0FBQSxHQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLE9BQUEsSUFBQSxJQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsR0FBQSxVQUFBLEVBQUEsRUFBQSxXQUFBLE1BQUEsTUFBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLFdBQUEsTUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxXQUFBLE1BQUEsUUFBQSxLQUFBLE1BQUEsS0FBQSxNQUNBLEVBQUEsRUFBQSxTQUFBLEdBQUEsSUFBQSxHQUFBLEtBQUEsTUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxTQUFBLE1BQUEsRUFBQSxLQUFBLFdBQUEsTUFBQSxJQUFBLEdBQUEsT0FBQSxLQUFBLEdBQUEsS0FBQSxHQUFBLEtBQUEsR0FBQSxPQUFBLElBQUEsS0FBQSxLQUFBLEVBQUEsS0FBQSxXQUFBLE1BQUEsTUFBQSxJQUFBLEVBQUEsT0FBQSxXQUFBLE1BQUEsTUFBQSxJQUNBLEVBQUEsR0FBQSxVQUFBLEVBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLElBQUEsSUFBQSxLQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLEtBQUEsTUFBQSxFQUFBLEtBQUEsUUFBQSxFQUFBLE9BQUEsU0FBQSxHQUFBLE1BQUEsSUFBQSxJQUFBLEtBQUEsR0FBQSxLQUFBLEdBQUEsT0FBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLEtBQUEsTUFBQSxFQUFBLEtBQUEsUUFBQSxFQUFBLElBQUEsU0FBQSxHQUFBLElBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsS0FBQSxDQUFBLEdBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLE1BQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLE9BQUEsTUFBQSxPQUNBLEVBQUEsRUFBQSxXQUFBLE1BQUEsTUFBQSxHQUFBLEtBQUEsRUFBQSxNQUFBLFdBQUEsTUFBQSxNQUFBLEdBQUEsU0FBQSxFQUFBLEdBQUEsV0FBQSxNQUFBLE1BQUEsR0FBQSxNQUFBLEVBQUEsR0FBQSxXQUFBLE1BQUEsTUFBQSxHQUFBLE1BQUEsRUFBQSxHQUFBLFNBQUEsR0FBQSxNQUFBLE1BQUEsR0FBQSxHQUFBLElBQUEsRUFBQSxHQUFBLFNBQUEsR0FBQSxNQUFBLE1BQUEsR0FBQSxHQUFBLElBQ0EsRUFBQSxHQUFBLFNBQUEsR0FBQSxNQUFBLElBQUEsSUFBQSxLQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsVUFDQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxJQUFBLElBQUEsTUFBQSxFQUFBLEVBQUEsS0FBQSxJQUFBLE1BQUEsRUFBQSxFQUFBLEtBQUEsTUFBQSxNQUFBLEVBQUEsRUFBQSxLQUFBLE1BQUEsTUFBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLE1BQUEsRUFBQSxFQUFBLEtBQUEsUUFBQSxFQUFBLE1BQUEsV0FBQSxNQUFBLE1BQUEsS0FBQSxRQUFBLEVBQUEsS0FBQSxNQUFBLFNBQUEsRUFBQSxFQUFBLFdBQUEsT0FBQSxHQUFBLEVBQUEsR0FBQSxTQUFBLEdBQUEsTUFBQSxNQUFBLEtBQUEsR0FBQSxJQUFBLEVBQUEsS0FBQSxJQUFBLEtBQUEsUUFBQSxLQUFBLE1BQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxTQUFBLEdBQUEsTUFBQSxNQUFBLE1BQUEsR0FBQSxJQUFBLEVBQUEsS0FBQSxJQUFBLEtBQUEsUUFBQSxLQUFBLEtBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxXQUFBLE1BQUEsSUFBQSxNQUFBLEtBQ0EsRUFBQSxHQUFBLFdBQUEsTUFBQSxNQUFBLE1BQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxNQUFBLE1BQUEsRUFBQSxHQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLENBQUEsT0FBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsS0FBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsS0FBQSxNQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsS0FBQSxLQUFBLEVBQUEsTUFBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsSUFDQSxFQUFBLE9BQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLENBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsS0FBQSxLQUFBLE1BQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEtBQUEsRUFBQSxLQUFBLE9BQUEsRUFBQSxHQUFBLFVBQUEsQ0FBQSxHQUFBLEVBQUEsS0FBQSxNQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsTUFBQSxLQUFBLEVBQUEsTUFBQSxLQUFBLEVBQUEsTUFBQSxLQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEtBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsQ0FBQSxHQUFBLEVBQUEsTUFBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLE1BQUEsS0FBQSxLQUFBLEdBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxLQUFBLEtBQUEsRUFBQSxNQUFBLE9BQUEsRUFBQSxJQUFBLE1BQUEsSUFBQSxJQUFBLEVBQUEsRUFBQSxXQUFBLE1BQUEsTUFBQSxPQUVBLEVBQUEsR0FBQSxVQUFBLEVBQUEsRUFBQSxXQUFBLE1BQUEsT0FBQSxFQUFBLEdBQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxJQUFBLElBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxPQUFBLFdBQUEsTUFBQSxPQUFBLEVBQUEsTUFBQSxXQUFBLE1BQUEsSUFBQSxFQUFBLEVBQUEsV0FBQSxPQUFBLEdBQUEsRUFBQSxHQUFBLFdBQUEsT0FBQSxHQUFBLEVBQUEsR0FBQSxXQUFBLE9BQUEsR0FBQSxFQUFBLEdBQUEsV0FBQSxNQUFBLE9BQUEsRUFBQSxHQUFBLFdBQUEsTUFBQSxPQUFBLEVBQUEsRUFBQSxXQUFBLE9BQUEsRUFBQSxJQUFBLElBQUEsR0FBQSxHQUFBLElBQUEsVUFBQSxJQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsRUFBQSxLQUFBLEdBQUEsV0FBQSxLQUFBLEdBQUEsR0FBQSxLQUFBLEdBQUEsUUFBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsR0FBQSxVQUFBLElBQUEsU0FBQSxHQUFBLE1BQUEsR0FBQSxLQUFBLEdBQUEsUUFBQSxLQUFBLEdBQUEsR0FBQSxNQUFBLEVBQUEsS0FBQSxHQUFBLElBQUEsR0FBQSxVQUFBLE9BQUEsU0FBQSxHQUFBLEtBQUEsR0FBQSxXQUFBLEtBQUEsR0FBQSxJQUFBLEdBQUEsVUFBQSxJQUFBLEVBQUEsR0FBQSxVQUFBLElBQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxRQUFBLE1BQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxVQUFBLElBQUEsU0FBQSxHQUFBLE1BQUEsR0FBQSxLQUFBLEdBQUEsR0FBQSxLQUFBLEdBQUEsR0FBQSxNQUFBLEdBQUEsVUFBQSxPQUFBLFNBQUEsU0FBQSxNQUFBLEdBQUEsSUFBQSxHQUFBLFVBQUEsSUFBQSxDQUFBLElBQUEsSUFBQSxHQUFBLGdCQUFBLEdBQUEsR0FBQSxpQkFBQSxJQUFBLFVBQUEsU0FBQSxXQUFBLE9BQUEsS0FBQSxHQUFBLFdBQUEsV0FBQSxLQUFBLEtBQUEsSUFBQSxJQUFBLE1BQUEsVUFBQSxHQUFBLEdBQUEsUUFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsUUFBQSxLQUFBLEVBQUEsRUFBQSxJQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLElBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEdBQUEsR0FBQSxJQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxJQUFBLElBQUEsS0FBQSxFQUFBLEVBQUEsSUFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLE1BQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxJQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsT0FBQSxJQUFBLEdBQUEsR0FBQSxPQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLE9BQUEsS0FBQSxFQUFBLEVBQUEsSUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLENBQUEsT0FBQSxJQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEdBQ0EsR0FBQSxHQUFBLE1BQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLElBQUEsTUFBQSxLQUFBLEVBQUEsRUFBQSxJQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsSUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsT0FBQSxDQUFBLFFBQUEsR0FBQSxFQUFBLEdBQUEsQ0FBQSxHQUFBLElBQUEsR0FBQSxTQUFBLElBQUEsR0FBQSxDQUFBLEdBQUEsSUFBQSxHQUFBLFNBQUEsSUFBQSxHQUFBLENBQUEsR0FBQSxFQUFBLE1BQUEsSUFBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLEdBQUEsVUFBQSxHQUFBLE9BQUEsR0FBQSxHQUFBLFlBQUEsR0FBQSxRQUFBLEdBQUEsR0FBQSxVQUFBLElBQUEsR0FBQSxjQUFBLFFBQUEsYUFBQSxHQUFBLFlBQUEsR0FBQSxTQUFBLEdBQUEsSUFBQSxHQUFBLGNBQUEsUUFBQSxXQUFBLFdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxPQUFBLEtBQUEsR0FBQSxPQUFBLEVBQUEsR0FBQSxNQUFBLFFBQUEsWUFBQSxHQUFBLEdBQUEsSUFBQSxJQUFBLEdBQUEsRUFBQSxzQkFBQSxHQUFBLEVBQUEsbUNBQUEsS0FBQSxFQUFBLGlCQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsR0FBQSxJQUFBLEtBQUEsR0FBQSxFQUFBLEdBQUEsVUFBQSxFQUFBLGFBQUEsT0FBQSxFQUFBLFdBQUEsSUFBQSxPQUFBLEdBQUEsS0FBQSxJQUFBLElBQUEsS0FBQSxHQUFBLEtBQUEsR0FBQSxXQUFBLEdBQUEsR0FBQSxDQUFBLE9BQUEsWUFBQSxNQUFBLFNBQUEsR0FBQSxLQUFBLElBQUEsRUFNQSxHQUFBLGNBQ0EsR0FBQSxHQUFBLFVBQUEsRUFBQSxFQUFBLFdBQUEsT0FBQSxHQUFBLEVBQUEsRUFBQSxXQUFBLE1BQUEsTUFBQSxJQUFBLEVBQUEsR0FBQSxTQUFBLEdBQUEsTUFBQSxJQUFBLElBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLFdBQUEsTUFBQSxJQUFBLEVBQUEsRUFBQSxTQUFBLEdBQUEsTUFBQSxRQUFBLEVBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxHQUFBLFdBQUEsTUFBQSxPQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxPQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEtBQUEsS0FBQSxFQUFBLEdBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxPQUFBLFFBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsV0FBQSxPQUFBLEdBQUEsRUFBQSxHQUFBLFdBQUEsTUFBQSxJQUNBLEVBQUEsRUFBQSxTQUFBLEdBQUEsTUFBQSxJQUFBLE9BQUEsS0FBQSxLQUFBLFNBQUEsS0FBQSxJQUFBLFlBQUEsS0FBQSxLQUFBLEtBQUEsS0FBQSxFQUFBLEtBQUEsV0FBQSxHQUFBLEdBQUEsRUFBQSxRQUFBLEtBQUEsTUFBQSxHQUFBLFlBQUEsR0FBQSxLQUFBLEtBQUEsSUFBQSxJQUFBLFNBQUEsTUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsQ0FBQSxPQUFBLGtCQUFBLElBQUEsRUFBQSxFQUFBLFdBQUEsTUFBQSxNQUFBLEdBQUEsRUFBQSxTQUFBLFdBQUEsTUFBQSxnQkFBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLFdBQUEsT0FBQSxHQUFBLEVBQUEsRUFBQSxXQUFBLE1BQUEsTUFBQSxJQUFBLEVBQUEsR0FBQSxTQUFBLEdBQUEsTUFBQSxJQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsT0FBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLE1BQUEsRUFBQSxNQUFBLE9BQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsR0FBQSxPQUFBLEVBQUEsSUFBQSxHQUFBLElBQUEsRUFBQSxLQUFBLEtBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxHQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxPQUFBLEVBQUEsTUFBQSxFQUFBLElBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLE9BQUEsTUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsV0FBQSxNQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxXQUFBLE1BQUEsTUFBQSxFQUFBLFFBQ0EsSUFBQSxJQUFBLGdCQUFBLEdBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxTQUFBLEdBQUEsR0FBQSxLQUFBLElBQUEsTUFBQSxLQUFBLElBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsQ0FBQSxJQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsT0FBQSxJQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsQ0FBQSxHQUFBLEdBQUEsSUFBQSxLQUFBLElBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUEsR0FBQSxNQUFBLElBQUEsT0FBQSxLQUFBLE1BQUEsRUFBQSxhQUFBLEtBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxXQUFBLEdBQUEsR0FBQSxFQUFBLE9BQUEsUUFBQSxLQUFBLE1BQUEsR0FBQSxZQUFBLEdBQUEsS0FBQSxLQUFBLEtBQUEsS0FBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLE1BQUEsTUFBQSxJQUFBLEdBQUEsSUFBQSxFQUFBLElBQUEsS0FBQSxLQUFBLEVBQUEsR0FBQSxpQkFBQSxJQUNBLEVBQUEsRUFBQSxTQUFBLEdBQUEsTUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEdBQUEsT0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsU0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxRQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsU0FBQSxHQUFBLE1BQUEsSUFBQSxLQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsV0FBQSxNQUFBLE1BQUEsRUFBQSxNQUFBLEVBQUEsR0FBQSxXQUFBLE1BQUEsTUFBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLFNBQUEsR0FBQSxNQUFBLE1BQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxHQUFBLFNBQUEsR0FBQSxNQUFBLE1BQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxHQUFBLFdBQUEsTUFBQSxNQUFBLEVBQUEsTUFBQSxFQUFBLFNBQUEsV0FBQSxHQUFBLEdBQUEsSUFBQSxHQUFBLENBQUEsT0FBQSxNQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxLQUFBLEdBQUEsSUFBQSxFQUFBLE9BQUEsRUFBQSxhQUFBLEdBQUEsSUFBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxVQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsT0FBQSxRQUFBLElBQUEsRUFBQSxFQUFBLE9BQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxNQUFBLE9BQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLElBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxLQUFBLE1BQUEsRUFBQSxHQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsSUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsT0FBQSxHQUFBLEVBQUEsS0FBQSxNQUFBLEVBQUEsRUFBQSxTQUFBLEdBQUEsTUFBQSxNQUFBLEdBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxLQUFBLE1BQ0EsRUFBQSxHQUFBLFNBQUEsR0FBQSxNQUFBLE1BQUEsR0FBQSxHQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxFQUFBLEtBQUEsTUFBQSxFQUFBLEdBQUEsV0FBQSxNQUFBLE1BQUEsR0FBQSxHQUFBLFNBQUEsRUFBQSxHQUFBLE9BQUEsSUFBQSxFQUFBLEtBQUEsTUFBQSxNQUFBLEVBQUEsR0FBQSxXQUFBLE1BQUEsTUFBQSxHQUFBLElBQUEsS0FBQSxLQUFBLEdBQUEsS0FBQSxNQUFBLEVBQUEsR0FBQSxXQUFBLE1BQUEsTUFBQSxHQUFBLElBQUEsS0FBQSxLQUFBLEdBQUEsS0FBQSxLQUNBLElBQUEsSUFBQSxLQUFBLElBQUEsRUFFQSxHQUFBLFVBQUEsRUFBQSxXQUFBLE1BQUEsR0FBQSw0QkFBQSxFQUFBLEVBQUEsVUFBQSxRQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsVUFBQSxJQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsVUFBQSxHQUFBLFdBQUEsTUFBQSxHQUFBLGtDQUFBLEVBQUEsRUFBQSxVQUFBLFFBQUEsS0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLFVBQUEsVUFBQSxFQUFBLFVBQUEsR0FBQSxFQUFBLFVBQUEsRUFBQSxTQUFBLEdBQUEsRUFBQSw4QkFBQSxFQUFBLEVBQUEsVUFBQSxRQUFBLEdBQUEsS0FBQSxFQUFBLE9BQUEsSUFBQSxHQUFBLDhCQUFBLEVBQUEsSUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLElBQ0EsRUFBQSxVQUFBLE1BQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxVQUFBLEdBQUEsU0FBQSxHQUFBLEVBQUEsaUNBQUEsRUFBQSxFQUFBLFVBQUEsUUFBQSxHQUFBLGlDQUFBLEVBQUEsSUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLFFBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsVUFBQSxTQUFBLEVBQUEsVUFBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLFdBQUEsTUFBQSxHQUFBLG9DQUFBLEVBQUEsRUFBQSxVQUFBLFFBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxVQUFBLFlBQUEsRUFBQSxVQUFBLEVBQ0EsRUFBQSxVQUFBLFFBQUEsU0FBQSxHQUFBLEdBQUEsRUFBQSxnQ0FBQSxFQUFBLEVBQUEsVUFBQSxRQUFBLEVBQUEsZ0NBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsT0FBQSxDQUFBLElBQUEsR0FBQSxJQUFBLE9BQUEsTUFBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxVQUFBLFFBQUEsRUFBQSxVQUFBLFFBQUEsRUFBQSxVQUFBLEdBQUEsV0FBQSxNQUFBLEdBQUEsb0NBQUEsRUFBQSxFQUFBLFVBQUEsUUFBQSxLQUFBLEVBQUEsS0FBQSxHQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsVUFBQSxZQUFBLEVBQUEsVUFBQSxHQUNBLEVBQUEsVUFBQSxLQUFBLFdBQUEsTUFBQSxHQUFBLDZCQUFBLEVBQUEsRUFBQSxVQUFBLFFBQUEsS0FBQSxHQUFBO0VBQUEsRUFBQSxVQUFBLEtBQUEsRUFBQSxVQUFBLEtBQUEsRUFBQSxVQUFBLEdBQUEsV0FBQSxNQUFBLEdBQUEsb0NBQUEsRUFBQSxFQUFBLFVBQUEsUUFBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLFVBQUEsWUFBQSxFQUFBLFVBQUEsR0FBQSxFQUFBLFVBQUEsR0FBQSxXQUFBLE1BQUEsR0FBQSw0QkFBQSxFQUFBLEVBQUEsVUFBQSxRQUFBLEtBQUEsSUFBQSxFQUFBLFVBQUEsSUFBQSxFQUFBLFVBQUEsR0FBQSxHQUFBLFVBQUEsR0FBQSxTQUFBLEdBQUEsSUFBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLE9BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxHQUFBLEdBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLFVBQUEsTUFBQSxLQUFBLFVBQUEsS0FBQSxHQUFBLFVBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxPQUFBLEtBQUEsR0FBQSxHQUFBLE1BQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsR0FBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLElBQUEsR0FBQSxVQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxNQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxHQUFBLEVBQUEsR0FBQSxLQUFBLEtBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxHQUFBLENBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxTQUVBLEdBQUEsR0FBQSxJQUFBLEdBQUEsSUFBQSxHQUFBLFVBQUEsR0FBQSxTQUFBLEdBQUEsTUFBQSxHQUFBLFlBQUEsRUFBQSx1QkFBQSxJQUFBLEtBQUEsS0FBQSxHQUFBLEdBQUEsSUFBQSxHQUFBLElBQUEsR0FBQSxVQUFBLEdBQUEsU0FBQSxHQUFBLE1BQUEsR0FBQSxXQUFBLEVBQUEsdUJBQUEsSUFBQSxLQUFBLEtBQUEsR0FBQSxVQUFBLElBQUEsV0FBQSxNQUFBLElBQUEsS0FBQSxLQUFBLEdBQUEsVUFBQSxJQUFBLFdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxNQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsS0FBQSxHQUFBLElBQUEsR0FBQSxLQUFBLE1BQUEsR0FBQSxFQUFBLElBQUEsS0FBQSxHQUFBLEVBQUEsT0FBQSxNQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsVUFBQSxHQUFBLFdBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLE1BQUEsS0FBQSxHQUFBLENBQUEsS0FBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsY0FBQSxHQUFBLEVBQUEsR0FBQSxJQUFBLEtBQUEsV0FBQSxFQUFBLEtBQUEsR0FBQSxNQUFBLEtBQUEsTUFBQSxJQUFBLEtBQUEsV0FBQSxJQUFBLE9BQUEsTUFBQSxHQUFBLElBQUEsb0JBQUEsY0FBQSxHQUFBLGFBQUEsbUJBQUEsYUFBQSxHQUFBLFVBQUEsSUFBQSxHQUNBLEdBQUEsVUFBQSxLQUFBLFNBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSwyQkFBQSxLQUFBLElBQUEsS0FBQSxFQUFBLEdBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxJQUFBLEVBQUEsR0FBQSxJQUFBLDhCQUFBLEVBQUEsSUFBQSxHQUFBLElBQUEsTUFBQSxFQUFBLE9BQUEsV0FBQSxFQUFBLEVBQUEsd0JBQUEsRUFBQSxJQUFBLEdBQUEsS0FBQSxFQUFBLFFBQUEsV0FBQSxFQUFBLEVBQUEsMENBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEtBQUEsRUFBQSxVQUFBLFNBQUEsR0FBQSxHQUFBLE9BQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsR0FBQSxpQkFBQSxFQUFBLFFBQUEsR0FBQSxHQUFBLE9BQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxPQUFBLENBQUEsRUFBQSxDQUNBLEdBREEsRUFBQSxPQUFBLEVBQUEsT0FBQSxrQ0FDQSxHQUFBLEVBQUEsT0FBQSxDQUFBLEdBQUEsR0FBQSxPQUFBLEVBQUEsS0FBQSxNQUFBLEdBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxJQUFBLE1BQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFVBQUEsT0FBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxRQUFBLFNBQUEsR0FBQSxFQUFBLEVBQUEsMENBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLFVBQUEsTUFBQSxhQUFBLEVBQUEsWUFBQSxXQUFBLEdBQUEsSUFBQSxDQUFBLElBQUEsbUJBQUEsWUFBQSxVQUFBLFVBQUEsQ0FBQSxHQUFBLEdBQUEsVUFBQSxVQUFBLE1BQUEsaUNBQUEsSUFBQSxFQUFBLEVBQUEsUUFBQSxJQUFBLFdBQUEsRUFBQSxNQUFBLEdBQUEsR0FBQSxPQUFBLEdBQUEsT0FBQSxLQUFBLElBQ0EsRUFBQSw2QkFBQSxFQUFBLEVBQUEsZUFBQSxJQUFBLEVBQUEsRUFBQSxVQUFBLEVBQUEsR0FBQSxXQUFBLEdBQUEsT0FBQSwrQkFBQSxFQUFBLEtBQUEsU0FBQSxHQUFBLEdBQUEsTUFBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLElBQUEsRUFBQSxPQUFBLEdBQUEsS0FBQSxHQUFBLGFBQUEsRUFBQSxRQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLFFBQUEsS0FBQSxFQUFBLEtBQUEsT0FBQSxFQUFBLFFBQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsS0FDQSxFQUFBLEdBQUEsV0FBQSxLQUFBLElBQUEsRUFBQSxLQUFBLEtBQUEsY0FBQSxLQUFBLElBQUEsS0FBQSxHQUFBLE1BQUEsS0FBQSxJQUFBLEtBQUEsRUFBQSxRQUFBLEtBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxXQUFBLEtBQUEsS0FBQSxLQUFBLEVBQUEsK0JBQUEsS0FBQSxLQUFBLEtBQUEsS0FBQSxLQUFBLEdBQUEsS0FBQSxJQUFBLEtBQUEsR0FBQSxRQUFBLEVBQUEsTUFBQSxXQUFBLEtBQUEsS0FBQSxLQUFBLEVBQUEsNkJBQUEsS0FBQSxPQUFBLEVBQUEsR0FBQSxVQUFBLEVBQUEsSUFBQSxTQUFBLEVBQUEsR0FBQSxLQUFBLElBQUEsR0FBQSxPQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsU0FBQSxTQUFBLEdBQUEsTUFBQSxHQUFBLEtBQUEsSUFBQSxJQUFBLEVBQUEsSUFBQSxTQUFBLEdBQUEsTUFBQSxNQUFBLFNBQUEsR0FBQSxLQUFBLElBQUEsR0FBQSxRQUFBLEVBQUEsT0FBQSxTQUFBLFNBQUEsTUFBQSxJQUFBLElBQUEsRUFBQSxFQUFBLFdBQUEsR0FBQSxFQUFBLEdBQUEsQ0FBQSxFQUFBLEtBQUEsR0FBQSxLQUFBLEdBQUEsS0FBQSxHQUFBLENBQUEsR0FBQSxDQUFBLE1BQUEsR0FBQSxHQUFBLEVBQUEsTUFBQSxJQUFBLEVBQUEsTUFBQSxXQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLENBQUEsS0FBQSxJQUFBLEdBQUEsR0FBQSxPQUFBLElBQUEsRUFBQSxLQUFBLFdBQUEsR0FBQSxLQUFBLE9BQUEsSUFBQSxLQUFBLElBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFDQSxJQUFBLFVBQUEsS0FBQSxTQUFBLEVBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxLQUFBLEdBQUEsR0FBQSxJQUFBLEdBQUEsS0FBQSxJQUFBLENBQUEsSUFBQSxHQUFBLElBQUEsTUFBQSxHQUFBLFdBQUEsV0FBQSxFQUFBLEVBQUEsZ0NBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxNQUFBLEtBQUEsTUFBQSxNQUFBLEdBQUEsV0FBQSxJQUFBLEVBQUEsR0FBQSxDQUFBLEVBQUEsR0FBQSxHQUFBLElBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxXQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxhQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsTUFBQSxFQUFBLElBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLE1BQUEsQ0FBQSxHQUFBLFVBQUEsRUFBQSxLQUFBLE9BQUEsa0NBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxXQUFBLEVBQUEsUUFBQSxFQUFBLE9BQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLFdBQ0EsR0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLFdBQUEsRUFBQSxNQUFBLEVBQUEsR0FBQSxJQUFBLElBQUEsTUFBQSxJQUFBLEdBQUEsSUFBQSxLQUFBLE1BQUEsSUFBQSxLQUFBLFVBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLG1CQUFBLFdBQUEsU0FBQSxNQUFBLEtBQUEsU0FBQSxLQUFBLFFBQUEsb0JBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsK0JBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLGtCQUNBLEdBQUEsVUFBQSxNQUFBLFdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEtBQUEsR0FBQSxTQUFBLGNBQUEsU0FBQSxJQUFBLElBQUEsT0FBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxJQUFBLEtBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxNQUFBLFFBQUEsT0FBQSxTQUFBLEtBQUEsWUFBQSxLQUFBLEtBQUEsR0FBQSxZQUFBLFdBQUEsUUFBQSxJQUFBLGdCQUFBLFNBQUEsT0FBQSxRQUFBLE9BQUEsT0FBQSxZQUFBLFVBQUEsS0FBQSxPQUFBLFNBQUEsT0FBQSxnQkFBQSxVQUFBLGdCQUFBLFNBQUEsS0FBQSxFQUFBLEdBQUEsVUFDQSxFQUFBLEdBQUEsYUFBQSxFQUFBLEdBQUEsV0FBQSxLQUFBLElBQUEsRUFBQSxLQUFBLEtBQUEsS0FBQSxHQUFBLFFBQUEsS0FBQSxHQUFBLE1BQUEsS0FBQSxLQUFBLFNBQUEsS0FBQSxZQUFBLEtBQUEsSUFBQSxLQUFBLEdBQUEsTUFBQSxLQUFBLEtBQUEsYUFBQSxLQUFBLElBQUEsS0FBQSxHQUFBLE9BQUEsRUFBQSxHQUFBLFdBQUEsS0FBQSxLQUFBLEtBQUEsRUFBQSw4QkFBQSxLQUFBLEtBQUEsS0FBQSxJQUFBLEtBQUEsRUFBQSxLQUFBLElBQUEsS0FBQSxFQUFBLFFBQUEsRUFBQSxNQUFBLFdBQUEsS0FBQSxLQUFBLEtBQUEsRUFBQSw2QkFBQSxLQUFBLE9BQ0EsRUFBQSxLQUFBLFNBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsSUFBQSxFQUFBLE9BQUEsR0FBQSxLQUFBLEdBQUEsYUFBQSxFQUFBLFFBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxHQUFBLEtBQUEsT0FBQSxnREFBQSxLQUFBLEdBQUEsQ0FBQSxNQUFBLEtBQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxHQUFBLEdBQUEsb0VBQUEsT0FBQSxHQUFBLEdBQUEsR0FBQSxvRUFBQSxPQUFBLEdBQUEsSUFBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsQ0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLElBQ0EsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLENBQUEsS0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsSUFBQSxNQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxHQUFBLEdBQUEsS0FBQSxNQUdBLEdBQUEsVUFBQSxNQUFBLFdBQUEsR0FBQSxLQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsQ0FBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLFVBQUEsRUFBQSxJQUFBLEdBQUEsSUFBQSxZQUFBLFdBQUEsT0FBQSxFQUFBLElBQUEsU0FBQSxLQUFBLFlBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxPQUFBLEtBQUEsTUFBQSxJQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsS0FBQSxLQUFBLEdBQUEsS0FBQSxLQUVBLElBQUEsS0FBQSxHQUFBLEVBS0EsSUFBQSxVQUFBLEdBQUEsU0FBQSxHQUFBLEdBQUEsTUFBQSxFQUFBLElBQUEsRUFBQSxLQUNBLEdBQUEsVUFBQSxHQUFBLFNBQUEsR0FBQSxHQUFBLE1BQUEsS0FBQSxHQUFBLElBRUEsR0FBQSxVQUFBLE1BQUEsV0FBQSxJQUFBLEtBQUEsS0FBQSxLQUFBLEVBQUEsZ0NBQUEsS0FBQSxHQUFBLEVBQUEsR0FBQSxNQUFBLEtBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxFQUFBLE9BQUEsSUFBQSxJQUFBLEVBQUEsR0FBQSxDQUFBLEdBQUEsR0FBQSxVQUNBLEVBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxLQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLDJEQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxLQUFBLEdBQUEsR0FBQSxJQUVBLEVBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxJQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsb0NBQUEsS0FBQSxJQUFBLEdBQUEsUUFBQSxFQUFBLElBQUEsRUFBQSxRQUFBLEVBQUEsQ0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxNQUFBLElBQUEsSUFBQSxJQUFBLEVBQUEsT0FBQSxDQUFBLEdBQUEsQ0FBQSxNQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsQ0FBQSxJQUFBLEdBQUEsbUJBQUEsTUFBQSxDQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsTUFBQSxJQUFBLE1BQUEsR0FBQSxFQUFBLHVDQUFBLEdBQUEsRUFBQSxLQUFBLE9BQUEsSUFBQSxFQUFBLEdBQUEsSUFBQSxNQUFBLEdBQUEsRUFBQSwyQkFBQSxHQUFBLEVBQUEsZ0JBQUEsS0FBQSxJQUFBLEdBQUEsRUFBQSxTQUFBLElBQUEsS0FBQSxFQUFBLGlFQUFBLEtBQUEsR0FDQSxNQUFBLEVBQUEsR0FBQSxTQUFBLFNBQUEsTUFBQSxHQUFBLEtBQUEsSUFBQSxHQUFBLEtBQUEsR0FBQSxLQUFBLEdBQUEsWUFBQSxTQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxNQUNBLEVBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEtBQUEsRUFBQSxLQUFBLEdBQUEsS0FBQSxHQUFBLE1BQUEsR0FBQSxFQUFBLE9BQUEsS0FBQSxLQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsSUFFQSxFQUFBLEdBQUEsU0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLENBQUEsS0FBQSxFQUFBLGdCQUFBLEVBQUEsR0FBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsV0FBQSxNQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxDQUFBLEdBQUEsU0FBQSxHQUFBLEtBQUEscUNBQUEsRUFBQSxLQUFBLE1BQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsc0JBQUEsRUFBQSxHQUFBLE1BQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLE1BQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLE1BQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLFNBQUEsTUFBQSxHQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxJQUFBLElBQUEsT0FBQSxFQUFBLEtBQUEsR0FBQSxLQUFBLEdBQUEsR0FBQSxPQUFBLElBQUEsbUJBQUEsVUFBQSxRQUFBLElBQUEsYUFBQSxFQUFBLElBQUEsUUFBQSxLQUNBLGlCQUFBLEdBQUEsNkNBQUEsRUFBQSxHQUFBLHlDQUFBLEVBQUEsR0FBQSxTQUFBLEdBQUEsS0FBQSxFQUFBLG9CQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsSUFBQSxHQUFBLE9BQUEsVUFBQSxLQUFBLElBQUEsaUJBQUEsR0FBQSxHQUFBLE9BQUEsWUFBQSxHQUFBLEtBQUEsS0FBQSxHQUFBLEtBQUEsTUFBQSxHQUFBLElBQUEsR0FBQSxLQUFBLE1BQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsT0FBQSxJQUFBLEtBQUEsRUFBQSxJQUFBLEdBQUEsS0FBQSxFQUFBLE1BQUEsS0FBQSxHQUFBLFFBQUEsRUFBQSxLQUFBLEdBQUEsUUFBQSxHQUFBLEtBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLE1BQUEsSUFBQSxJQUNBLEVBQUEsR0FBQSxTQUFBLEdBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxLQUFBLEtBQUEsS0FBQSxLQUFBLEVBQUEsMkNBQUEsS0FBQSxHQUFBLElBQUEsS0FBQSxJQUFBLEdBQUEsS0FBQSxJQUFBLEtBQUEsR0FBQSxHQUNBLEVBQUEsR0FBQSxTQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsdUNBQUEsS0FBQSxHQUFBLElBQUEsS0FBQSxJQUFBLEVBQUEsS0FBQSxJQUFBLEdBQUEsS0FBQSxLQUFBLEtBQUEsRUFBQSwrREFBQSxLQUFBLElBQUEsRUFBQSxLQUFBLElBQUEsS0FBQSxHQUFBLFVBQ0EsRUFBQSxHQUFBLFdBQUEsS0FBQSxFQUFBLDRCQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxJQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsT0FBQSxJQUFBLENBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLElBQUEsS0FBQSxHQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsb0JBQUEsTUFBQSxFQUFBLEdBQUEsS0FBQSxNQUFBLEdBQUEsSUFBQSxLQUFBLEtBQUEsS0FBQSxNQUFBLEtBQUEsR0FBQSxLQUFBLEdBQUEsS0FBQSxLQUFBLEtBQUEsR0FBQSxPQUFBLFVBQUEsS0FBQSxLQUFBLEtBQUEsR0FBQSxLQUFBLEtBQUEsR0FBQSxPQUFBLEtBQUEsRUFBQSw4Q0FBQSxLQUFBLEdBQUEsS0FBQSxHQUFBLEtBQUEsSUFBQSxHQUFBLE9BQUEsV0FBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLEtBQUEsS0FBQSxHQUFBLE9BQUEsVUFBQSxLQUFBLEtBQUEsR0FBQSxLQUFBLFNBQUEsS0FBQSxFQUFBLDBCQUNBLEVBQUEsTUFBQSxHQUFBLEtBQUEsR0FBQSxLQUFBLEdBQUEsS0FBQSxJQUFBLEtBQUEsR0FBQSxJQUFBLEtBQUEsUUFBQSxLQUFBLEdBQUEsS0FBQSxNQUFBLFNBQUEsTUFBQSxHQUFBLEVBQUEsTUFBQSxJQUFBLElBQUEsRUFBQSxHQUFBLFdBQUEsS0FBQSxJQUFBLEVBQUEsS0FBQSxHQUFBLEtBQUEsR0FBQSxTQUFBLEtBQUEsS0FBQSxhQUFBLEtBQUEsSUFBQSxLQUFBLEdBQUEsTUFBQSxLQUFBLEdBQUEsS0FBQSxPQUNBLEVBQUEsR0FBQSxXQUFBLEtBQUEsSUFBQSxFQUFBLEtBQUEsR0FBQSxJQUFBLEtBQUEsR0FBQSxHQUFBLEtBQUEsSUFDQSxHQUFBLFVBQUEsRUFBQSxTQUFBLEdBQUEsT0FBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLE1BQUEsR0FBQSxVQUFBLFNBQUEsV0FBQSxNQUFBLE1BQUEsRUFBQSxZQUNBLEdBQUEsVUFBQSxJQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLElBQUEsT0FBQSxJQUFBLEVBQUEsU0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxLQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsR0FBQSxVQUFBLEdBQUEsV0FBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxHQUFBLE9BQUEsSUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLENBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLE1BQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEtBQUEsT0FBQSxHQUFBLFVBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLEdBQUEsS0FBQSxJQUNBLEdBQUEsVUFBQSxHQUFBLFdBQUEsS0FBQSxHQUFBLE1BQ0EsR0FBQSxHQUFBLElBQUEsR0FBQSxVQUFBLEdBQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxNQUFBLEVBQUEsRUFBQSxLQUFBLElBQUEsTUFBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsUUFBQSxLQUFBLElBQUEsR0FBQSxHQUFBLFVBQUEsR0FBQSxXQUFBLFVBSUEsR0FBQSxHQUFBLElBQUEsRUFBQSxHQUFBLFVBQUEsRUFBQSxVQUFBLFNBQUEsR0FBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLFlBQUEsV0FBQSxNQUFBLElBQUEsTUFBQSxLQUFBLElBQUEsV0FBQSxNQUFBLEVBQUEsS0FBQSxXQUFBLE1BQUEsTUFBQSxHQUFBLEVBQUEsU0FBQSxXQUFBLE1BQUEsSUFBQSxLQUFBLE9BQUEsU0FBQSxHQUFBLE1BQUEsWUFBQSxFQUFBLEtBQUEsSUFBQSxLQUFBLE1BQ0EsRUFBQSxHQUFBLFdBQUEsR0FBQSxLQUFBLE9BQUEsR0FBQSxLQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsSUFDQSxHQUFBLFVBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLE9BQUEsRUFBQSxNQUFBLEVBQUEsSUFBQSxNQUFBLEVBQUEsS0FBQSxDQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsS0FBQSxNQUFBLEVBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLEdBQUEsR0FBQSxJQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsSUFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLEdBQUEsR0FBQSxJQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLElBQUEsR0FBQSxLQUFBLEVBQUEsSUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxHQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsR0FBQSxJQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsVUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsR0FBQSxDQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLEdBQUEsSUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEsSUFBQSxHQUFBLE1BQUEsS0FBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsQ0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxRQUFBLEVBQUEsR0FBQSxNQUFBLElBQUEsY0FBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxNQUFBLEtBQUEsZ0JBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxNQUFBLEtBQUEsaUJBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLE1BQUEsS0FBQSxjQUFBLEdBQUEsSUFBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLElBQ0EsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEdBQUEsR0FBQSxnQkFBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLElBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxDQUFBLElBQUEsRUFBQSxDQUFBLEdBQUEsSUFBQSxFQUFBLE9BQUEsR0FBQSxLQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsSUFBQSxPQUFBLElBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEdBQUEsR0FBQSxnQkFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsY0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxJQUFBLElBQUEsR0FBQSxRQUFBLElBQUEsSUFBQSxHQUFBLE9BQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxFQUNBLEVBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEdBQUEsR0FBQSxjQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUEsR0FBQSxHQUFBLGNBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsZ0JBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLE9BQUEsTUFBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsUUFBQSxLQUFBLElBQUEsR0FDQSxHQUFBLFVBQUEsR0FBQSxTQUFBLEdBQUEsTUFBQSxNQUFBLEVBQUEsRUFBQSxLQUFBLEdBQ0EsR0FBQSxVQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEtBQUEsTUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEVBQUEsU0FBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLElBQUEsR0FBQSxLQUFBLENBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLElBQUEsSUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsSUFBQSxPQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLE9BQUEsR0FBQSxFQUFBLGFBQUEsRUFBQSxFQUFBLEtBQUEsWUFBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxLQUFBLEVBQUEsRUFBQSxTQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxFQUFBLEdBQUEsTUFBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsVUFBQSxHQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLFFBQUEsR0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsSUFBQSwwQ0FBQSxJQUFBLEdBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxTQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxDQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxHQUFBLFNBQUEsR0FBQSxHQUFBLEVBQUEsUUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsaUJBQUEsRUFBQSxFQUFBLElBQUEsY0FBQSxJQUFBLEdBQUEsRUFBQSxTQUFBLEtBQUEsT0FBQSxLQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsR0FBQSxFQUFBLE1BQ0EsR0FBQSxVQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLE1BQUEsR0FBQSxPQUFBLFFBQUEsRUFBQSxLQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBR0EsR0FBQSxVQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsSUFBQSxPQUFBLEdBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLE1BR0EsR0FBQSxVQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLFFBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsS0FBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEtBQUEsT0FBQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxTQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsR0FFQSxFQUFBLEdBQUEsVUFBQSxFQUFBLFNBQUEsV0FBQSxPQUFBLEtBQUEsRUFBQSxHQUFBLFdBQUEsV0FBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLEtBQUEsV0FBQSxNQUFBLE1BQUEsRUFBQSxJQUVBLEVBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsS0FBQSxLQUFBLEtBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxFQUFBLElBQUEsS0FBQSxHQUFBLEVBQUEsUUFBQSxFQUFBLFlBQUEsZUFBQSxFQUFBLE9BQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLElBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsZUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLElBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxLQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsR0FBQSxTQUFBLEdBQUEsR0FBQSxLQUFBLFlBQUEsSUFBQSxJQUFBLEdBQUEsR0FBQSxPQUFBLEVBQUEsR0FBQSxTQUFBLEdBQUEsR0FBQSxHQUFBLElBQUEsSUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLFNBQUEsR0FBQSxNQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLFFBQUEsRUFBQSxHQUFBLFNBQUEsR0FBQSxHQUFBLEtBQUEsZ0JBQUEsSUFDQSxFQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSx3QkFBQSxLQUFBLEVBQUEsUUFBQSxFQUFBLDJJQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsd0JBQUEsR0FBQSxFQUFBLENBQUEsR0FBQSxHQUFBLE1BQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxjQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsU0FBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE1BQ0EsRUFBQSxHQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsT0FBQSxLQUFBLEVBQUEsV0FBQSxNQUFBLEVBQUEsR0FBQSxHQUFBLElBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxJQUFBLEVBQUEsV0FBQSxFQUFBLEdBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxPQUFBLEdBQUEsRUFBQSxVQUFBLEVBQUEsWUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEdBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxLQUNBLEVBQUEsT0FBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxVQUFBLEtBQUEsRUFBQSxXQUFBLE1BQUEsR0FBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLE1BQUEsSUFBQSxLQUFBLElBQUEsR0FBQSxDQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxLQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsd0RBQUEsRUFBQSxFQUFBLFVBQUEsQ0FBQSxHQUFBLEdBQUEsSUFBQSxJQUFBLEtBQUEsRUFBQSxFQUFBLFdBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxPQUFBLEdBQUEsRUFBQSxhQUFBLEVBQUEsWUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEdBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLEVBQ0EsRUFBQSxLQUFBLEVBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxlQUFBLEtBQUEsRUFBQSxXQUFBLEdBQUEsR0FBQSxJQUFBLEdBQUEsR0FBQSxNQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxNQUFBLEVBQUEsSUFBQSxFQUFBLFdBQUEsYUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLHNCQUFBLEdBQUEsRUFBQSxrQkFBQSxFQUFBLFlBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQ0EsRUFBQSxHQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEVBQUEsV0FBQSxTQUFBLEVBQUEsR0FBQSxPQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxNQUVBLEVBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxVQUFBLEVBQUEsRUFBQSxNQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxHQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLFVBQUEsRUFBQSxFQUFBLE1BQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxDQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLENBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsS0FBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLElBQUEsS0FBQSxFQUFBLEdBQUEscUZBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FDQSxFQUFBLEdBQUEsV0FBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLEdBQUEsV0FBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLEdBQUEsU0FBQSxHQUFBLEdBQUEsbUJBQUEsU0FBQSxDQUFBLEdBQUEsS0FBQSxLQUFBLEtBQUEsR0FBQSxHQUFBLElBQUEsS0FBQSxLQUFBLEVBQUEsS0FBQSxHQUFBLE9BQUEsRUFBQSxLQUFBLEdBQUEsS0FBQSxJQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLE1BQUEsSUFBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLEtBQUEsSUFBQSxHQUFBLENBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxHQUFBLFNBQUEsSUFBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLFNBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsV0FBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEdBQUEsSUFBQSxZQVVBLEdBQUEsR0FBQSxFQUFBLFVBQUEsR0FBQSxXQUFBLElBQUEsR0FBQSxLQUFBLE1BQUEsR0FBQSxLQUFBLEdBQUEsR0FBQSxNQUFBLEVBQUEsVUFBQSxVQUFBLEVBQUEsVUFBQSxHQUFBLEVBQUEsVUFBQSxHQUFBLFdBQUEsSUFBQSxHQUFBLEtBQUEsTUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLE1BQUEsRUFBQSxVQUFBLE9BQUEsRUFBQSxVQUFBLEVBQUEsSUFBQSxJQUFBLEdBQUEsU0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLFVBQUEsSUFBQSxHQUFBLFVBQUEsS0FBQSxDQUFBLElBQUEsR0FBQSxHQUFBLFVBQUEsSUFBQSxPQUFBLElBQUEsVUFBQSxLQUFBLEVBQUEsV0FBQSxFQUFBLFVBQUEsS0FBQSxFQUFBLEdBQUEsVUFBQSxLQUFBLElBQUEsR0FBQSxXQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsU0FBQSxHQUFBLE1BQUEsR0FBQSxNQUFBLEVBQUEsZ0JBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxTQUFBLEdBQUEsTUFBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsUUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLFNBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxjQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLGVBQUEsRUFBQSxHQUFBLEdBQUEsVUFBQSxZQUFBLEdBQUEsVUFBQSxHQUFBLEdBQUEsVUFBQSxVQUFBLEdBQUEsVUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsbUJBQUEsRUFBQSxHQUNBLEdBQUEsVUFBQSxZQUFBLEdBQUEsVUFBQSxHQUFBLEdBQUEsVUFBQSxNQUFBLEdBQUEsVUFBQSxNQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsaUJBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxXQUFBLEdBQUEsSUFBQSxHQUFBLEVBQUEsaUJBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxXQUFBLElBQUEsR0FBQSxFQUFBLGdCQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEseUJBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxzQkFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLFNBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsZ0JBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsb0JBQUEsRUFBQSxHQUFBLEVBQUEsVUFBQSxPQUFBLFNBQUEsR0FBQSxFQUFBLGlDQUFBLEVBQUEsRUFBQSxVQUFBLFFBQUEsRUFBQSxpQ0FBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsSUFBQSxFQUFBLFVBQUEsT0FBQSxFQUFBLFVBQUEsT0FBQSxFQUFBLFVBQUEsT0FBQSxTQUFBLEdBQUEsRUFBQSxpQ0FBQSxFQUFBLEVBQUEsVUFBQSxRQUFBLEVBQUEsaUNBQUEsS0FBQSxHQUFBLEVBQUEsaUNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEdBQUEsS0FBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLFVBQUEsT0FBQSxFQUFBLFVBQUEsT0FDQSxFQUFBLFVBQUEsSUFBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLDhCQUFBLEVBQUEsRUFBQSxVQUFBLFFBQUEsRUFBQSw4QkFBQSxLQUFBLEdBQUEsR0FBQSw4QkFBQSxHQUFBLEdBQUEsRUFBQSw4QkFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsVUFBQSxJQUFBLEVBQUEsVUFBQSxJQUNBLEVBQUEsVUFBQSxHQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLDBDQUFBLEVBQUEsRUFBQSxVQUFBLFFBQUEsRUFBQSwwQ0FBQSxLQUFBLEdBQUEsR0FBQSwwQ0FBQSxHQUFBLEdBQUEsR0FBQSwwQ0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLDBDQUFBLEVBQUEsR0FBQSxHQUFBLFlBQUEsS0FBQSxJQUFBLFVBQUEsS0FBQSxHQUFBLEtBQUEsbURBQUEsS0FBQSxHQUFBLHlCQUFBLElBQUEsS0FBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLFVBQUEsZ0JBQUEsRUFBQSxVQUFBLEdBQ0EsRUFBQSxVQUFBLE9BQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLGlDQUFBLEVBQUEsRUFBQSxVQUFBLFFBQUEsRUFBQSxpQ0FBQSxLQUFBLEdBQUEsR0FBQSxHQUFBLENBQUEsSUFBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLHVOQUFBLEdBQUEsaUNBQUEsR0FBQSxFQUFBLGlDQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUNBLEtBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxVQUFBLE9BQUEsRUFBQSxVQUFBLE1BQUEsSUFBQSxJQUFBLFdBQUEsR0FBQSxHQUFBLEVBQUEsSUFBQSxPQUFBLFVBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxDQUFBLEdBQUEsQ0FBQSxLQUFBLEdBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxtRUFBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUEsTUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSw0QkFBQSxFQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsQ0FBQSxJQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsQ0FBQSxHQUFBLFNBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEtBQUEsTUFBQSxHQUFBLEtBQUEsU0FBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxHQUFBLG1FQUFBLE9BQUEsRUFBQSxHQUNBLE9BREEsR0FBQSxLQUFBLEVBQUEsT0FBQSxvQ0FDQSxLQUdBLElBQUEsRUFBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsWUFBQSxHQUFBLEVBQUEsSUFBQSxJQUFBLE1BQUEsR0FBQSxZQUFBLEdBQUEsV0FBQSxPQUFBLEdBQUEsR0FBQSxLQUFBLEdBQUEsSUFBQSxHQUFBLFNBQUEsR0FBQSxHQUFBLFdBQUEsR0FBQSxRQUFBLEVBQUEsSUFBQSxHQUFBLElBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxHQUFBLElBQUEsR0FBQSxNQUFBLEdBQUEsVUFBQSxLQUFBLFdBQUEsTUFBQSxHQUFBLGdCQUFBLEVBQUEsRUFBQSxVQUFBLFFBQUEsS0FBQSxLQUFBLElBQUEsS0FBQSxHQUFBLEtBQUEsT0FBQSxFQUFBLFVBQUEsS0FBQSxFQUFBLFVBQUEsS0FDQSxFQUFBLFVBQUEsRUFBQSxTQUFBLEdBQUEsR0FBQSxFQUFBLGlCQUFBLEVBQUEsRUFBQSxVQUFBLFFBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxPQUFBLE1BQUEsWUFBQSxJQUFBLEdBQUEsT0FBQSxFQUFBLEtBQUEsTUFBQSxDQUFBLEdBQUEsR0FBQSxDQUFBLEtBQUEsRUFBQSxFQUFBLFFBQUEsbUJBQUEsTUFBQSxHQUFBLGlCQUFBLE9BQUEsSUFBQSxpQkFBQSxFQUFBLE9BQUEsSUFBQSxHQUFBLEtBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsVUFBQSxNQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsVUFBQSxPQUFBLFdBQUEsRUFBQSxrQkFBQSxFQUFBLEVBQUEsVUFBQSxPQUFBLElBQUEsR0FBQSxLQUFBLEtBQUEsUUFBQSxPQUFBLFFBQUEsRUFBQSxLQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsSUFBQSxFQUFBLFVBQUEsT0FBQSxFQUFBLFVBQUEsT0FDQSxFQUFBLFVBQUEsS0FBQSxXQUFBLEVBQUEsZUFBQSxFQUFBLEVBQUEsVUFBQSxPQUFBLEtBQUEsR0FBQSxHQUFBLEtBQUEsT0FBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLFFBQUEsT0FBQSxJQUFBLEVBQUEsVUFBQSxLQUFBLEVBQUEsVUFBQSxLQUFBLEVBQUEsVUFBQSxTQUFBLFdBQUEsRUFBQSxvQkFBQSxFQUFBLEVBQUEsVUFBQSxPQUFBLElBQUEsRUFBQSxJQUFBLE9BQUEsS0FBQSxTQUFBLEVBQUEsS0FBQSxFQUFBLGVBQUEsQ0FBQSxFQUFBLEtBQUEsU0FBQSxXQUFBLEdBQUEsSUFBQSxHQUFBLEtBQUEsTUFBQSxJQUFBLG1CQUFBLE9BQUEsSUFBQSxNQUFBLElBQUEsRUFBQSxVQUFBLFNBQUEsRUFBQSxVQUFBLFNBQ0EsRUFBQSxVQUFBLElBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxlQUFBLEVBQUEsRUFBQSxVQUFBLFFBQUEsRUFBQSxlQUFBLEtBQUEsTUFBQSxHQUFBLGVBQUEsR0FBQSxHQUFBLEVBQUEsZUFBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEtBQUEsRUFBQSxLQUFBLElBQUEsRUFBQSxVQUFBLElBQUEsRUFBQSxVQUFBLElBQ0EsRUFBQSxVQUFBLE9BQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLGtCQUFBLEVBQUEsRUFBQSxVQUFBLFFBQUEsRUFBQSxrQkFBQSxLQUFBLE1BQUEsR0FBQSxHQUFBLENBQUEsSUFBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLHdNQUFBLEdBQUEsR0FBQSxrQkFBQSxHQUFBLEVBQUEsa0JBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLGFBQUEsS0FBQSxPQUFBLDBEQUNBLE1BQUEsRUFBQSxPQUFBLEtBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxVQUFBLE9BQUEsRUFBQSxVQUFBLE9BQUEsRUFBQSxVQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsMkJBQUEsRUFBQSxFQUFBLFVBQUEsUUFBQSxFQUFBLDJCQUFBLEtBQUEsTUFBQSxHQUFBLDJCQUFBLEdBQUEsR0FBQSxHQUFBLDJCQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsMkJBQUEsRUFBQSxHQUFBLEdBQUEsWUFBQSxLQUFBLFFBQUEsVUFBQSxLQUFBLE9BQUEsS0FBQSxvQ0FBQSxLQUFBLE9BQUEseUJBQUEsTUFBQSxFQUFBLEdBQUEsS0FBQSxLQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsVUFBQSxnQkFBQSxFQUFBLFVBQUEsR0FDQSxFQUFBLFVBQUEsT0FBQSxTQUFBLEdBQUEsRUFBQSxrQkFBQSxFQUFBLEVBQUEsVUFBQSxRQUFBLEVBQUEsa0JBQUEsS0FBQSxNQUFBLEVBQUEsa0JBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxJQUFBLEtBQUEsSUFBQSxFQUFBLFVBQUEsT0FBQSxFQUFBLFVBQUEsT0FDQSxFQUFBLFVBQUEsWUFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSx1QkFBQSxFQUFBLEVBQUEsVUFBQSxRQUFBLEVBQUEsdUJBQUEsS0FBQSxNQUFBLEVBQUEsdUJBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSx1QkFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsaUJBQUEsR0FBQSxLQUFBLE9BQUEsRUFBQSx1QkFBQSxHQUFBLEdBQUEscUJBQUEsSUFBQSxZQUFBLEtBQUEsUUFBQSxVQUFBLEtBQUEsT0FBQSxLQUFBLGdDQUFBLEtBQUEsT0FBQSx5QkFBQSxvQkFBQSxLQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxVQUFBLFlBQUEsRUFBQSxVQUFBLFlBQ0EsRUFBQSxVQUFBLEdBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSx1QkFBQSxFQUFBLEVBQUEsVUFBQSxRQUFBLEVBQUEsdUJBQUEsS0FBQSxNQUFBLEdBQUEsdUJBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSx1QkFBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsVUFBQSxZQUFBLEVBQUEsVUFBQSxHQUFBLEVBQUEsVUFBQSxLQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsZ0JBQUEsRUFBQSxFQUFBLFVBQUEsUUFBQSxFQUFBLGdCQUFBLEtBQUEsTUFBQSxHQUFBLGdCQUFBLEdBQUEsR0FBQSxFQUFBLGdCQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLE9BQUEsbUJBQUEsSUFBQSxPQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxHQUNBLEVBQUEsVUFBQSxLQUFBLEVBQUEsVUFBQSxLQUFBLEVBQUEsVUFBQSxHQUFBLFdBQUEsTUFBQSxJQUFBLEdBQUEsS0FBQSxFQUFBLEtBQUEsS0FBQSxLQUFBLFNBQUEsRUFBQSxVQUFBLGFBQUEsRUFBQSxVQUFBLEdBQUEsRUFBQSxVQUFBLEdBQUEsV0FBQSxFQUFBLDhHQUFBLEtBQUEsS0FBQSxTQUFBLEdBQUEsS0FBQSxJQUFBLEVBQUEsVUFBQSxtQkFBQSxFQUFBLFVBQUEsR0FDQSxFQUFBLFVBQUEsR0FBQSxTQUFBLEdBQUEsRUFBQSxrSEFBQSxLQUFBLEtBQUEsSUFBQSxHQUFBLEdBQUEsS0FBQSxJQUFBLEVBQUEsVUFBQSxnQkFBQSxFQUFBLFVBQUEsR0FBQSxFQUFBLFVBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxnQkFBQSxFQUFBLEVBQUEsVUFBQSxTQUFBLEVBQUEsR0FBQSxLQUFBLE9BQUEsRUFBQSxnQkFBQSxHQUFBLEdBQUEseUNBQUEsR0FBQSxnQkFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLGdCQUFBLEVBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsVUFBQSxLQUFBLEVBQUEsVUFBQSxHQUNBLEVBQUEsVUFBQSxHQUFBLFNBQUEsR0FBQSxFQUFBLGtCQUFBLEVBQUEsRUFBQSxVQUFBLFFBQUEsRUFBQSxrQkFBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsVUFBQSxPQUFBLEVBQUEsVUFBQSxHQUFBLEVBQUEsVUFBQSxXQUFBLEVBQUEscUJBQUEsRUFBQSxFQUFBLFVBQUEsUUFBQSxFQUFBLEtBQUEsTUFBQSxFQUFBLFNBQUEsV0FBQSxFQUFBLG9CQUFBLEVBQUEsRUFBQSxVQUFBLFFBQUEsRUFBQSxLQUFBLE1BQ0EsRUFBQSxjQUFBLEdBQUEsRUFBQSxhQUFBLFdBQUEsTUFBQSxjQUFBLEVBQUEsWUFBQSxTQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsUUFBQSxLQzlKQSxXQWdDQSxRQUFBLGFBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxZQUFBLEVBQUEsWUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLGtCQUFBLEVBQUEsaUJBQUEsRUFBQSxHQUFBLEdBQUEsUUFBQSxnQkFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLFlBQUEsRUFBQSxZQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEscUJBQUEsRUFBQSxvQkFBQSxFQUFBLEdBQUEsR0FBQSxRQUFBLGVBQUEsR0FBQSxlQUFBLEtBQUEsS0FBQSxFQUFBLE9BQUEsU0FBQSxLQUFBLElBQUEsR0FBQSxtQ0FBQSxLQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsR0FBQSxFQUNBLFFBQUEsYUFBQSxJQUFBLEdBQUEsR0FBQSxPQUFBLFNBQUEsRUFBQSxPQUFBLE9BQUEsT0FBQSxFQUFBLEVBQUEsU0FBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLElBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxTQUFBLEtBQUEsUUFBQSxJQUFBLEVBQUEsR0FBQSxPQUFBLGlCQUFBLE1BQUEsR0FBQSxHQUFBLE1BQUEsS0FqQ0EsR0FBQSxXQUFBLEVBQUEsS0FBQSxRQUFBLE1BQUEsT0FBQSxLQUFBLEtBQUEsWUFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxNQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsT0FBQSxFQUFBLElBQUEsS0FBQSxFQUFBLFlBQUEsRUFBQSxXQUFBLE9BQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLFFBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxPQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxDQUFBLFdBQUEsS0FBQSxPQUFBLGlCQUFBLE9BQUEsVUFBQSxlQUFBLEtBQUEsS0FBQSxPQUFBLGdCQUFBLEtBQUEsRUFBQSxLQUFBLE9BQUEsZ0JBQUEsSUFBQSxLQUFBLFlBQUEsRUFBQSxJQUFBLEtBQUEsT0FBQSxFQUFBLEtBQUEsT0FBQSxLQUFBLEtBQUEsY0FBQSxFQUNBLEtBQUEsUUFBQSxTQUFBLEdBQUEsSUFBQSxTQUFBLENBQUEsR0FBQSxLQUFBLFlBQUEsR0FBQSxLQUFBLE9BQUEsY0FBQSxFQUFBLDZCQUFBLE1BQUEsb0JBQUEsRUFBQSxLQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxZQUFBLFNBQUEsS0FBQSxnQkFBQSxJQUFBLEtBQUEsb0JBQUEsSUFBQSxFQUFBLEtBQUEsWUFBQSxJQUFBLEtBQUEsWUFBQSxTQUFBLEdBQUEsR0FBQSxXQUFBLEtBQUEsTUFBQSxLQUFBLEdBQUEsR0FBQSxHQUFBLE1BQUEsS0FBQSxJQUFBLEtBQUEsZUFBQSxhQUNBLFdBQUEsS0FBQSxZQUFBLFNBQUEsR0FBQSxPQUFBLEtBQUEsb0JBQUEsSUFBQSxLQUFBLGdCQUFBLEtBQUEsZ0JBQUEsS0FBQSxLQUFBLHdCQUFBLEtBQUEsZ0JBQUEsU0FBQSxFQUFBLEdBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLE1BQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxPQUFBLEVBQUEsRUFBQSxTQUFBLENBQUEsSUFBQSxLQUFBLGdCQUFBLEVBQUEsSUFBQSxNQUFBLEtBQUEsR0FBQSxFQUFBLEdBQUEsTUFBQSxJQUFBLEtBQUEsVUFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsTUFBQSxLQUFBLElBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxJQUNBLEtBQUEsY0FBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxxQkFBQSxDQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsUUFBQSxNQUFBLElBQUEsS0FBQSxHQUFBLEdBQUEsS0FBQSxjQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsV0FBQSxHQUFBLEVBQUEsSUFBQSxHQUFBLGNBQUEsRUFBQSxZQUFBLE9BQUEsRUFBQSxZQUFBLEdBQUEsSUFBQSxDQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLElBQUEsSUFBQSxHQUFBLFdBQUEsRUFBQSxTQUFBLE9BQUEsRUFBQSxTQUFBLEdBQUEsSUFBQSxJQUFBLEtBQUEscUJBQUEsRUFDQSxLQUFBLFFBQUEsU0FBQSxHQUFBLElBQUEsV0FBQSxLQUFBLFlBQUEsR0FBQSxDQUFBLEdBQUEsS0FBQSxvQkFBQSxDQUFBLEdBQUEsR0FBQSxLQUFBLGlCQUFBLEVBQUEsSUFBQSxFQUFBLE1BQUEsTUFBQSxVQUFBLElBQUEsTUFBQSxNQUFBLGdCQUFBLEtBQUEsR0FBQSxnQ0FBQSxFQUFBLEtBQUEsT0FBQSxTQUFBLEtBQUEsT0FBQSxRQUFBLE1BQUEsR0FBQSxNQUFBLEtBQUEsS0FBQSxTQUFBLEdBQUEsS0FBQSxhQUFBLGFBQUEsS0FBQSxpQkFBQSxTQUFBLEdBQUEsTUFBQSxJQUFBLEtBQUEsZUFBQSxXQUFBLEtBQUEsT0FBQSxrQ0FDQSxLQUFBLG1CQUFBLFNBQUEsR0FBQSxFQUFBLFlBQUEsV0FBQSxNQUFBLEdBQUEsVUFBQSxFQUFBLFdBQUEsS0FBQSxRQUFBLEtBQUEsd0JBQUEsS0FBQSx3QkFBQSxRQUFBLEdBQUEsRUFBQSxVQUFBLEdBQUEsTUFBQSxLQUFBLDJCQUFBLEtBQUEsc0JBQUEsVUFBQSxLQUFBLG9CQUNBLEtBQUEsdUJBQUEsS0FBQSxhQUFBLEtBQUEsZUFBQSxlQUFBLGNBQUEsWUFBQSxXQUFBLFlBQUEsS0FBQSxnQkFBQSxXQUFBLEdBQUEsR0FBQSxLQUFBLE9BQUEsUUFBQSxPQUFBLG1CQUFBLElBQUEsU0FBQSxJQUFBLEtBQUEsY0FBQSxXQUFBLEdBQUEsS0FBQSxPQUFBLGtCQUFBLEtBQUEsU0FBQSxLQUFBLE9BQUEsc0JBQUEsSUFBQSxLQUFBLGtCQUFBLElBQUEsR0FBQSxHQUFBLEtBQUEsT0FBQSxTQUFBLHFCQUFBLFVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxDQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsWUFBQSxLQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsT0FDQSxDQUFBLElBQUEsV0FBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEdBQUEsQ0FBQSxLQUFBLFNBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLFVBQUEsS0FBQSxjQUFBLFNBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxPQUFBLHVCQUFBLEtBQUEsaUJBQUEsS0FBQSxjQUFBLFFBQUEsSUFBQSxFQUFBLEtBQUEsS0FBQSxjQUFBLFFBQUEsSUFBQSxJQUFBLEtBQUEsZ0JBQUEsU0FBQSxHQUFBLEdBQUEsS0FBQSxrQkFBQSxDQUFBLEdBQUEsR0FBQSxLQUFBLE9BQUEsUUFBQSxJQUFBLFlBQUEsRUFBQSxXQUFBLENBQUEsR0FBQSxhQUFBLEtBQUEsR0FBQSxPQUFBLENBQUEsTUFBQSxPQUFBLGlCQUFBLEVBQUEseUJBQ0EsTUFEQSxHQUFBLE1BQUEsdUNBQUEsRUFBQSxnQkFDQSxFQUFBLE9BQUEsR0FBQSxLQUFBLGNBQUEsV0FBQSxRQUFBLEdBQUEsR0FBQSxLQUFBLElBQUEsR0FBQSxTQUFBLENBQUEsS0FBQSxJQUFBLEdBQUEsV0FBQSxFQUFBLFFBQUEsSUFBQSxFQUFBLElBQUEsR0FBQSxVQUFBLElBQUEsR0FBQSxLQUFBLEdBQUEsU0FBQSxHQUFBLElBQUEsS0FBQSxZQUFBLEdBQUEsQ0FBQSxLQUFBLElBQUEsR0FBQSxZQUFBLEtBQUEsT0FBQSw0QkFBQSxFQUFBLEdBQUEsRUFBQSxXQUFBLElBQUEsSUFBQSxLQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEdBQUEsR0FBQSxLQUFBLEtBQUEsRUFBQSxLQUFBLGFBQUEsS0FBQSxJQUFBLE1BQUEsVUFBQSxFQUFBLFFBQUEsSUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxDQUFBLElBQUEsRUFBQSxHQUFBLEtBQUEsT0FBQSx5QkFBQSxNQUFBLGNBQUEsS0FBQSxTQUFBLEVBQUEsTUFDQSxLQUFBLGlCQUFBLFNBQUEsR0FBQSxNQUFBLEtBQUEsTUFBQSxjQUFBLFdBQUEsS0FBQSxjQUFBLFdBQUEsR0FBQSxNQUFBLEtBQUEsZ0JBQUEsS0FBQSxPQUFBLGlCQUFBLEtBQUEsY0FBQSxLQUFBLFNBQUEsWUFDQSxLQUFBLE9BQUEsU0FBQSxHQUFBLEdBQUEsU0FBQSxFQUFBLElBQUEsVUFBQSxFQUFBLENBQUEsSUFBQSxFQUFBLE1BQUEsTUFBQSxJQUFBLFlBQUEsT0FBQSxNQUFBLE9BQUEsSUFBQSxZQUFBLFFBQUEsTUFBQSxFQUFBLElBQUEsR0FBQSxPQUFBLFVBQUEsU0FBQSxLQUFBLEVBQUEsSUFBQSxtQkFBQSxFQUFBLE1BQUEsUUFBQSxJQUFBLGtCQUFBLEdBQUEsZ0JBQUEsR0FBQSxRQUFBLG1CQUFBLEdBQUEsUUFBQSxtQkFBQSxHQUFBLHVCQUFBLEVBQUEscUJBQUEsVUFBQSxNQUFBLE9BQUEsSUFBQSxxQkFBQSxHQUFBLG1CQUFBLEdBQUEsTUFBQSxtQkFBQSxHQUFBLHVCQUFBLEVBQUEscUJBQUEsUUFBQSxNQUFBLGVBQ0EsSUFBQSxZQUFBLEdBQUEsbUJBQUEsR0FBQSxLQUFBLE1BQUEsUUFBQSxPQUFBLElBQUEsS0FBQSxNQUFBLFNBQUEsR0FBQSxNQUFBLFVBQUEsR0FBQSxLQUFBLE9BQUEsU0FBQSxHQUFBLE1BQUEsUUFBQSxHQUFBLEtBQUEsZ0JBQUEsU0FBQSxHQUFBLE1BQUEsT0FBQSxHQUFBLEtBQUEsUUFBQSxTQUFBLEdBQUEsTUFBQSxTQUFBLEtBQUEsT0FBQSxJQUFBLEtBQUEsWUFBQSxTQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsT0FBQSxFQUFBLE9BQUEsU0FBQSxHQUFBLFVBQUEsR0FBQSxnQkFBQSxHQUFBLFFBQUEsS0FBQSxXQUFBLFNBQUEsR0FBQSxNQUFBLE1BQUEsU0FBQSxJQUFBLGtCQUFBLEdBQUEsYUFBQSxLQUFBLFNBQUEsU0FBQSxHQUFBLE1BQUEsZ0JBQUEsSUFDQSxLQUFBLFVBQUEsU0FBQSxHQUFBLE1BQUEsaUJBQUEsSUFBQSxLQUFBLFNBQUEsU0FBQSxHQUFBLE1BQUEsZ0JBQUEsSUFBQSxLQUFBLFdBQUEsU0FBQSxHQUFBLE1BQUEsWUFBQSxLQUFBLE9BQUEsSUFBQSxLQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUEsU0FBQSxFQUFBLE9BQUEsVUFBQSxHQUFBLE1BQUEsR0FBQSxZQUFBLEdBQUEsS0FBQSxPQUFBLFNBQUEsR0FBQSxNQUFBLEdBQUEsS0FBQSxpQkFBQSxFQUFBLEtBQUEsaUJBQUEsS0FBQSxjQUFBLEtBQUEsT0FBQSxTQUFBLEdBQUEsUUFBQSxFQUFBLEtBQUEsZ0JBQUEsS0FBQSxVQUFBLFNBQUEsR0FBQSxtQkFBQSxJQUFBLEVBQUEsZ0JBQUEsS0FBQSxjQUFBLFdBQUEsR0FBQSxLQUFBLGVBQUEsTUFBQSxNQUNBLEtBQUEsY0FBQSxnQkFBQSxJQUFBLEtBQUEsV0FBQSxHQUFBLEtBQUEsWUFBQSxFQUFBLEtBQUEsWUFBQSxLQUFBLE9BQUEsS0FBQSxlQUFBLEtBQUEsVUFBQSxLQUFBLFlBQUEsU0FBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLE9BQUEsRUFBQSxJQUFBLFVBQUEsR0FBQSxTQUFBLEVBQUEsQ0FBQSxHQUFBLEVBQUEsTUFBQSxNQUFBLEdBQUEsT0FBQSxJQUFBLEdBQUEsRUFBQSxTQUFBLE9BQUEsS0FBQSxJQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsWUFBQSxFQUFBLEdBQUEsT0FBQSxHQUFBLE1BQUEsSUFBQSxLQUFBLFlBQUEsU0FBQSxHQUFBLE1BQUEsR0FBQSxLQUFBLE1BQUEsRUFBQSxLQUFBLFlBQ0EsS0FBQSxRQUFBLFNBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxLQUFBLFFBQUE7R0FBQSxFQUFBLFVBQUEsT0FBQSxDQUFBLEdBQUEsR0FBQSxNQUFBLFVBQUEsTUFBQSxLQUFBLFVBQUEsRUFBQSxPQUFBLFlBQUEsR0FBQSxHQUFBLE1BQUEsVUFBQSxNQUFBLEtBQUEsVUFBQSxPQUFBLE9BQUEsVUFBQSxRQUFBLE1BQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLElBQUEsTUFBQSxZQUFBLE1BQUEsR0FBQSxNQUFBLEVBQUEsYUFBQSxLQUFBLEtBQUEsV0FBQSxNQUFBLE1BQUEsS0FBQSxTQUFBLFVBQUEsTUFBQSxJQUFBLFNBQUEsVUFBQSxLQUFBLFdBQUEsUUFBQSxlQUFBLEtBQUEsWUFBQSxLQUFBLFFBQUEsS0FBQSxLQUFBLE1BQUEsS0FBQSxZQUNBLEtBQUEsUUFBQSxTQUFBLEdBQUEsR0FBQSxHQUFBLE1BQUEsVUFBQSxNQUFBLEtBQUEsVUFBQSxFQUFBLE9BQUEsWUFBQSxHQUFBLEdBQUEsRUFBQSxPQUFBLE9BQUEsR0FBQSxLQUFBLE1BQUEsRUFBQSxXQUFBLEVBQUEsTUFBQSxLQUFBLEtBQUEsS0FBQSxNQUFBLFNBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxLQUFBLElBQUEsS0FBQSxjQUFBLEtBQUEsS0FBQSxXQUFBLE9BQUEsR0FBQSxPQUNBLEtBQUEsV0FBQSxTQUFBLEdBQUEsR0FBQSxLQUFBLE9BQUEsV0FBQSxLQUFBLE9BQUEsV0FBQSxFQUFBLGtCQUFBLENBQUEsSUFBQSxLQUFBLE9BQUEsS0FDQSxLQUFBLE9BQUEsZ0NBREEsSUFBQSxNQUFBLEtBQUEsdUJBQUEsS0FBQSxPQUFBLEtBQUEsaUJBQUEsbUJBQUEsTUFBQSxPQUFBLFlBQUEsTUFBQSxPQUFBLEtBQUEsS0FBQSxzQkFBQSxHQUFBLEtBQUEsc0JBQUEsR0FBQSxLQUFBLHFCQUFBLEtBQUEsT0FBQSxLQUFBLE9BQUEsQ0FBQSxHQUFBLEdBQUEsS0FBQSxPQUFBLFNBQUEsRUFBQSxFQUFBLGNBQUEsU0FBQSxHQUFBLEtBQUEsa0JBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxZQUFBLEVBQUEsZUFBQSxJQUFBLEVBQUEsS0FBQSxZQUFBLEdBQ0EsRUFBQSxLQUFBLFlBQUEsTUFBQSxLQUFBLHFCQUFBLEtBQUEsS0FBQSxXQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxTQUFBLEdBQUEsTUFBQSxNQUFBLGdCQUFBLElBQUEsR0FBQSxFQUFBLFNBQUEsR0FBQSxFQUFBLEVBQUEsTUFBQSxJQUFBLEtBQUEsR0FBQSxNQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsSUFBQSxPQUFBLEdBQUEsS0FBQSxNQUFBLEVBQUEsS0FBQSxnQkFBQSxZQUFBLEtBQUEscUJBQUEsRUFBQSxFQUFBLFNBQUEsR0FBQSxNQUFBLEdBQUEsT0FBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEtBQUEsa0JBQUEsU0FBQSxFQUFBLEdBQUEsS0FBQSxnQkFBQSxFQUFBLEtBQUEscUJBQUEsSUFDQSxVQUFBLEtBQUEsT0FBQSwyQkFBQSxLQUFBLGdCQUFBLEtBQUEsT0FBQSwwQkFBQSxLQUFBLE9BQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxLQUFBLElBQUEsR0FBQSxDQUFBLEdBQUEsSUFBQSxHQUFBLEVBQUEsSUFBQSxRQUFBLE1BQUEsT0FBQSxHQUFBLEVBQUEsUUFBQSxPQUFBLFNBQUEsRUFBQSxNQUFBLE1BQUEsR0FBQSxNQUFBLElBQUEsS0FBQSxtQkFBQSxTQUFBLEdBQUEsTUFBQSxJQUFBLEtBQUEsYUFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsWUFBQSxFQUFBLEVBQUEsSUFBQSxLQUFBLGVBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsR0FDQSxLQUFBLFNBQUEsU0FBQSxFQUFBLEdBQUEsUUFBQSxNQUFBLEVBQUEsVUFBQSxFQUFBLFVBQUEsRUFBQSxZQUFBLEVBQUEsVUFBQSxFQUFBLFVBQUEsR0FBQSxHQUFBLEVBQUEsVUFBQSxZQUFBLEVBQUEsRUFBQSxLQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxNQUFBLFVBQUEsTUFBQSxLQUFBLFVBQUEsRUFBQSxPQUFBLEdBQUEsVUFBQSxHQUFBLE1BQUEsRUFBQSxLQUNBLEtBQUEsS0FBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsVUFBQSxPQUFBLE1BQUEsSUFBQSxLQUFBLFFBQUEsRUFBQSxLQUFBLE9BQUEsaUpBQUEsSUFBQSxFQUFBLFlBQUEsTUFBQSxHQUFBLFlBQUEsWUFBQSxNQUFBLEVBQUEsTUFBQSxVQUFBLE1BQUEsS0FBQSxVQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsTUFBQSxVQUFBLE1BQUEsS0FBQSxVQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxZQUFBLEVBQUEsRUFBQSxFQUFBLGFBQUEsRUFBQSxZQUFBLFlBQUEsR0FBQSxFQUFBLFVBQUEsS0FBQSxFQUFBLEdBQUEsTUFBQSxJQUFBLEVBQUEsTUFBQSxHQUFBLFVBQUEsR0FBQSxNQUFBLEVBQ0EsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsR0FBQSxZQUFBLFVBQUEsR0FBQSxNQUFBLEVBQUEsRUFBQSxNQUFBLE9BQUEsK0VBQUEsS0FBQSxNQUFBLFNBQUEsR0FBQSxFQUFBLEtBQUEsS0FBQSxRQUFBLElBQUEsS0FBQSxlQUFBLElBQUEsWUFBQSxNQUFBLFdBQUEsS0FBQSxRQUFBLDZCQUFBLEdBQUEsWUFBQSxNQUFBLFVBQUEsV0FBQSxTQUFBLEdBQUEsS0FBQSxRQUFBLEdBQUEsR0FBQSxZQUFBLE1BQUEsVUFBQSxXQUFBLFdBQUEsTUFBQSxNQUFBLFNBQUEsR0FBQSxZQUFBLEtBQUEsR0FBQSxJQUFBLFlBQUEsTUFBQSxLQUFBLFFBQUEsS0FBQSxLQUFBLGlCQUFBLEVBQUEsS0FBQSxLQUFBLFNBQUEsU0FBQSxHQUFBLE1BQUEsUUFBQSxLQUFBLElBQUEsRUFBQSw0QkFBQSxLQUFBLEVBQUEsUUFBQSxtQkFBQSxLQUFBLFFBQUEsaUdBQUEsS0FBQSxRQUFBLHFDQUFBLE1BQ0EsS0FBQSxLQUFBLE1BQUEsS0FBQSxLQUFBLGdCQUFBLEtBQUEsT0FBQSxLQUFBLE1BQUEsU0FBQSxHQUFBLEdBQUEsRUFBQSxPQUFBLEdBQUEsS0FBQSxLQUFBLFNBQUEsR0FBQSxJQUFBLE1BQUEsTUFBQSxJQUFBLEVBQUEsS0FBQSxNQUFBLElBQUEsS0FBQSxPQUFBLHdCQUFBLElBQUEsS0FBQSxLQUFBLFlBQUEsS0FBQSxLQUFBLGdCQUFBLEtBQUEsT0FBQSxLQUFBLE1BQUEsU0FBQSxHQUFBLE1BQUEsTUFBQSxJQUFBLEVBQUEsTUFBQSxLQUFBLEtBQUEsVUFBQSxLQUFBLEtBQUEsZ0JBQUEsS0FBQSxPQUFBLEtBQUEsVUFBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLElBQUEsTUFBQSxLQUFBLFdBQUEsR0FBQSxVQUFBLElBQUEsS0FBQSxLQUFBLFdBQUEsU0FBQSxHQUFBLEtBQUEsVUFBQSxHQUNBLEtBQUEsS0FBQSxXQUFBLFVBQUEsVUFBQSxTQUFBLEdBQUEsR0FBQSxLQUFBLE9BQUEsTUFBQSxXQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsS0FDQSxLQUFBLEtBQUEsV0FBQSxVQUFBLFdBQUEsU0FBQSxFQUFBLEdBQUEsYUFBQSxJQUFBLElBQUEsU0FBQSxLQUFBLGlCQUFBLEVBQUEsRUFBQSxNQUFBLEtBQUEsU0FBQSxLQUFBLGlCQUFBLEVBQUEsRUFBQSxNQUFBLEtBQUEsVUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEtBQUEsWUFBQSxFQUFBLEtBQUEsT0FBQSxNQUFBLEtBQUEsU0FBQSxHQUFBLE1BQUEsRUFBQSxDQUFBLEVBQUEsS0FBQSxPQUFBLE9BQUEsR0FBQSxLQUFBLFFBQUEsR0FBQSxDQUFBLEtBQUEsZUFBQSxFQUFBLEVBQUEsT0FBQSxLQUFBLGlCQUFBLEVBQUEsRUFBQSxNQUFBLEtBQUEsV0FBQSxLQUFBLFNBQUEsS0FBQSxPQUFBLHVCQUFBLE1BQ0EsS0FBQSxLQUFBLFdBQUEsc0JBQUEsSUFBQSxNQUFBLEtBQUEsT0FBQSxJQUFBLE1BQUEsS0FBQSxNQUFBLEtBQUEsTUFBQSxLQUFBLE1BQUEsS0FBQSxNQUFBLElBQUEsTUFBQSxJQUFBLFdBQUEsS0FBQSxLQUFBLFdBQUEsZ0JBQUEsU0FBQSxLQUFBLEtBQUEsOEJBQUEsNEJBQ0EsS0FBQSxLQUFBLFdBQUEsVUFBQSxpQkFBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLFFBQUEsS0FBQSxLQUFBLFdBQUEsZ0JBQUEsU0FBQSxHQUFBLEdBQUEsSUFBQSxNQUFBLEtBQUEsV0FBQSxxQkFBQSxNQUFBLE1BQUEsS0FBQSxXQUFBLHFCQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsV0FBQSxHQUFBLEVBQUEsS0FBQSxPQUFBLElBQUEsRUFBQSxHQUFBLE1BQUEsSUFBQSxFQUFBLEdBQUEsS0FBQSxLQUFBLElBQUEsR0FBQSxLQUFBLEtBQUEsS0FBQSxXQUFBLHFCQUFBLEdBQUEsRUFBQSxFQUFBLFNBQUEsTUFBQSxNQUFBLEtBQUEsS0FBQSxXQUFBLFVBQUEsaUJBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLFNBQUEsS0FBQSxNQUFBLEdBQUEsRUFBQSxTQUNBLEtBQUEsS0FBQSxXQUFBLFVBQUEsZUFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxNQUFBLEdBQUEsS0FBQSxJQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsV0FBQSxLQUFBLFVBQUEsS0FBQSxVQUFBLEtBQUEsRUFBQSxPQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxNQUNBLEtBQUEsS0FBQSxXQUFBLFVBQUEsaUJBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLElBQUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLElBQUEsR0FBQSxHQUFBLE9BQUEsVUFBQSxlQUFBLEtBQUEsRUFBQSxHQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxtQkFBQSxLQUFBLEVBQUEsS0FBQSxHQUFBLEtBQUEsaUJBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxLQUFBLEtBQUEsV0FBQSxLQUFBLFVBQUEsS0FBQSxVQUFBLEtBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsTUFBQSxHQUFBLFlBQUEsUUFBQSxHQUFBLFlBQUEsS0FBQSxRQUFBLEdBQUEsWUFBQSxLQUFBLEtBQUEsTUFBQSxTQUFBLEdBQUEsTUFBQSxtQkFBQSxPQUFBLEtBQUEsTUFBQSxLQUFBLE9BQUEsS0FBQSxNQUFBLEdBQUEsS0FBQSxLQUFBLE1BQUEsSUFBQSxHQUFBLFlBQUEsS0FBQSxLQUFBLFVBQUEsU0FBQSxHQUFBLE1BQUEsbUJBQUEsT0FBQSxLQUFBLE1BQUEsS0FBQSxXQUFBLEtBQUEsVUFBQSxHQUFBLEtBQUEsS0FBQSxVQUFBLElBQUEsR0FBQSxZQUFBLGNBQUEsR0FBQSxZQUFBLFdBQUEsYUFBQSxHQUFBLFlBQUEsVUFBQSxhQUFBLEdBQUEsWUFBQSxVQUFBLFVBQUEsS0FBQSxhQUFBLEdBQUEsWUFBQSxXQUFBLFNBQUEsR0FBQSxZQUFBLE1BQUEsYUFBQSxHQUFBLFlBQUEsTUFBQSxVQUFBLEtBQUEsYUFBQSxHQUFBLFlBQUEsS0FBQSxRQUFBLEdBQUEsWUFBQSxLQUFBLEtBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQSxHQUFBLFNBQUEsY0FBQSxJQUFBLE9BQUEsR0FBQSxLQUFBLEdBQUEsU0FBQSxFQUFBLFNBQUEsUUFBQSxJQUFBLElBQUEsS0FBQSxFQUFBLFNBQUEsS0FBQSxFQUFBLEtBQUEsTUFBQSxFQUFBLE9BQUEsT0FBQSxHQUFBLFlBQUEsS0FBQSxLQUFBLGlCQUFBLEVBQUEsUUFBQSxLQUFBLEVBQUEsS0FBQSxRQUFBLElBQUEsSUFBQSxLQUFBLEVBQUEsU0FBQSxRQUFBLFdBQUEsU0FBQSxHQUFBLFlBQUEsS0FBQSxLQUFBLGlCQUFBLFNBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLFFBQUEsTUFBQSxJQUFBLE1BQUEsSUFBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsR0FBQSxFQUFBLEdBQUEsQ0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLE1BQUEsSUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsTUFBQSxJQUNBLEdBQUEsWUFBQSxLQUFBLEtBQUEsZUFBQSxTQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxZQUFBLEtBQUEsS0FBQSxTQUFBLEdBQUEsS0FBQSxNQUFBLElBQUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLEtBQUEsTUFBQSxNQUFBLElBQUEsTUFBQSxJQUFBLEdBQUEsWUFBQSxLQUFBLEtBQUEsS0FBQSxTQUFBLEdBQUEsbUJBQUEsV0FBQSxtQkFBQSxTQUFBLEtBQUEsUUFBQSxLQUFBLEdBQUEsUUFBQSxJQUFBLElBQUEsSUFBQSxjQUFBLElBQUEsSUFBQSxZQUFBLFdBQUEscUJBQUEsYUFDQSxHQUFBLFlBQUEsV0FBQSxxQkFBQSxVQUFBLEtBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxpQkFBQSxDQUFBLElBQUEsR0FBQSxXQUFBLEdBQUEsR0FBQSxNQUFBLFVBQUEsTUFBQSxNQUFBLFVBQUEsbUJBQUEsaUJBQUEsRUFBQSxFQUFBLE1BQUEsS0FBQSxLQUFBLEVBQUEsT0FBQSxLQUFBLEVBQUEsb0NBQUEsUUFBQSxjQUFBLEdBQUEsaUJBQUEsV0FBQSxTQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLFlBQUEsS0FBQSxLQUFBLFNBQUEsRUFBQSxLQUFBLHFCQUFBLEVBQUEsTUFBQSxDQUFBLEVBQUEsT0FBQSxLQUFBLEdBQUEsR0FBQSxHQUFBLFlBQUEsS0FBQSxLQUFBLGlCQUFBLEVBQUEsS0FBQSxLQUFBLEtBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxHQUNBLEdBQUEsWUFBQSxLQUFBLEtBQUEsTUFBQSxtQkFBQSxFQUFBLElBQUEsR0FBQSxFQUFBLE1BQUEsSUFBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLE9BQUEsS0FBQSx5QkFBQSxRQUFBLHNEQUFBLEVBQUEsaUJBQUEsT0FBQSxXQUFBLEdBQUEsS0FBQSxjQUFBLFFBQUEsaURBQUEsV0FBQSxXQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsU0FBQSxlQUFBLEdBQUEsWUFBQSxXQUFBLG9CQUFBLEdBQUEsSUFBQSxZQUFBLFdBQUEscUJBQUEsR0FBQSxZQUFBLFNBQUEsSUFBQSxlQUFBLHdCQUFBLFFBQUEsY0FBQSw2QkFBQSxjQUFBLDJCQUFBLGlCQUFBLDhCQUFBLFlBQUEsNkNBQUEsdUJBQUEsb0NBQUEsZ0JBQUEseVFBQ0EsSUFBQSxZQUFBLE9BQUEsT0FBQSxXQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxTQUFBLElBQUEsSUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxJQUFBLEVBQUEsT0FBQSxHQUFBLGdCQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsTUFBQSxFQUFBLEdBQUEsUUFBQSxDQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsUUFBQSxRQUFBLGVBQUEsTUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxRQUFBLEVBQUEsRUFBQSxHQUFBLFNBQUEsZ0JBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsT0FBQSxRQUFBLEdBQUEsZ0JBQUEsRUFBQSxPQUFBLEVBQUEsT0FBQSxHQUFBLE1BQUEsY0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEdBQUEsRUFBQSxJQUFBLGtCQUFBLHdCQUFBLFVBQUEsTUFFQSxtQkFBQSxXQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxVQUFBLFNBQUEsT0FBQSxnQ0FBQSxVQUFBLFNBQUEsRUFBQSwrQkFBQSxFQUFBLEVBQUEsTUFBQSxLQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsV0FBQSxFQUFBLE1BQUEsR0FBQSxFQUFBLFFBQUEsYUFBQSxFQUFBLDhCQUFBLEVBQUEsRUFBQSxNQUFBLEtBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxXQUFBLEVBQUEsTUFBQSxHQUFBLElBQUEsSUFBQSxZQUFBLFdBQUEsU0FBQSxhQUNBLEdBQUEsWUFBQSxXQUFBLFNBQUEsVUFBQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsUUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLFNBQUEsS0FBQSxZQUFBLEdBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxjQUFBLElBQUEsZUFBQSxPQUFBLFVBQUEsR0FBQSxlQUFBLE9BQUEsU0FBQSxHQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsUUFBQSxNQUFBLEdBQUEsRUFBQSxZQUFBLFVBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxRQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsU0FBQSxFQUFBLElBQUEsR0FBQSxHQUFBLEdBQUEsWUFBQSxLQUFBLEtBQUEsTUFBQSxFQUFBLEtBQUEsV0FBQSxFQUFBLEVBQUEsRUFBQSxZQUFBLEVBQUEsR0FBQSxVQUFBLEVBQUEsR0FBQSxJQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxPQUFBLGFBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxxQkFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxPQUFBLE1BQUEsS0FDQSxJQUFBLEVBQUEsS0FBQSxvQ0FBQSxHQUFBLElBQUEsQ0FBQSxJQUFBLEVBQUEsR0FBQSxNQUFBLEVBQUEsb0NBQUEsRUFBQSxZQUFBLEVBQUEsMENBQUEsR0FBQSxXQUFBLFdBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxjQUFBLEVBQUEsWUFBQSxRQUFBLEVBQUEsaUJBQUEsR0FBQSxZQUFBLEtBQUEsSUFBQSxjQUFBLEVBQUEsZ0JBQUEsT0FBQSxJQUFBLEdBQUEsRUFBQSxjQUFBLEVBQUEsSUFBQSxJQUFBLElBQUEsY0FBQSxFQUFBLFdBQUEsTUFBQSxZQUFBLFdBQUEsRUFBQSw4REFBQSxFQUFBLElBQUEsRUFBQSxzQkFDQSxFQUFBLFNBQUEsY0FBQSxVQUFBLEVBQUEsYUFBQSxNQUFBLEVBQUEsV0FBQSxFQUFBLE1BQUEsUUFBQSxPQUFBLEVBQUEsYUFBQSxPQUFBLGtCQUFBLFNBQUEsS0FBQSxZQUFBLEdBQUEsRUFBQSxFQUFBLGNBQUEsSUFBQSxHQUFBLE9BQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxZQUFBLEVBQUEsZ0JBQUEsS0FBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLFlBQUEsV0FBQSxHQUFBLEVBQUEsU0FBQSxJQUFBLElBQUEsRUFBQSx5QkFBQSxFQUFBLFFBQUEsS0FBQSxFQUFBLEdBQUEsWUFBQSxLQUFBLEtBQUEsV0FBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLFFBQUEsT0FBQSxhQUFBLE9BQUEsU0FBQSxHQUFBLFlBQUEsT0FBQSxVQUFBLElBQUEsTUFBQSxFQUFBLE1BQUEsV0FBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLFFBQUEsTUFBQSxRQUNBLEtBQUEsYUFBQSxvREFBQSxHQUFBLFlBQUEsV0FBQSxTQUFBLFVBQUEsTUFDQSxHQUFBLFlBQUEsV0FBQSxTQUFBLFVBQUEsT0FBQSxTQUFBLEdBQUEsUUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLFlBQUEsS0FBQSxLQUFBLFVBQUEsR0FBQSxtQkFBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsWUFBQSxFQUFBLEdBQUEsUUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLFlBQUEsS0FBQSxLQUFBLE1BQUEsRUFBQSxNQUFBLE1BQUEsSUFBQSxHQUFBLFlBQUEsRUFBQSxJQUFBLGVBQUEsT0FBQSxVQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUEsR0FBQSxXQUFBLFdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxvQkFBQSxPQUFBLElBQUEsUUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxVQUFBLElBQUEsT0FBQSxRQUFBLE1BQUEsS0FBQSxHQUFBLEdBQUEsSUFDQSxFQUFBLG1CQUFBLFlBQUEsT0FBQSxPQUFBLEdBQUEsQ0FBQSxLQUFBLEVBQUEsS0FBQSx3QkFBQSxhQUFBLG1CQUFBLEVBQUEsT0FBQSxVQUFBLEdBQUEsWUFBQSxtQkFBQSxFQUFBLE9BQUEsVUFBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLFVBQUEsTUFBQSxHQUFBLFlBQUEsRUFBQSxPQUFBLFdBQUEsR0FBQSxFQUFBLFlBQUEsR0FBQSxHQUFBLFdBQUEsSUFBQSxlQUFBLG1CQUFBLEVBQUEsT0FBQSxVQUFBLEdBQUEsTUFBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSx5QkFBQSxFQUFBLE1BQUEsS0FBQSxPQUFBLFFBQUEsTUFBQSxLQUFBLE9BQUEsYUFBQSxPQUFBLFNBQUEsSUFBQSxPQUFBLFdBQUEsZUFBQSxPQUNBLFNBQUEsTUFBQSxLQUFBLGFBQUEsc0RBQUEsR0FBQSxZQUFBLFdBQUEsU0FBQSxVQUFBLFFBQUEsR0FBQSxZQUFBLFdBQUEsU0FBQSxVQUFBLFlBQUEsV0FBQSxNQUFBLElBQUEsWUFBQSxLQUFBLE1BQUEsR0FBQSxZQUFBLEtBQUEsS0FBQSxPQUFBLEdBQUEsWUFBQSxLQUFBLEtBQUEsV0FBQSxPQUFBLGFBQUEsR0FBQSxZQUFBLFdBQUEsUUFBQSxHQUFBLElBQUEsWUFBQSxXQUFBLFNBQUEsR0FBQSxZQUFBLFdBQUEsY0FBQSxhQUNBLEdBQUEsWUFBQSxXQUFBLGNBQUEsVUFBQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsaUJBQUEsQ0FBQSxJQUFBLEdBQUEsV0FBQSxHQUFBLEdBQUEsTUFBQSxVQUFBLE1BQUEsTUFBQSxVQUFBLG1CQUFBLGlCQUFBLEVBQUEsRUFBQSxNQUFBLEtBQUEsSUFBQSxPQUFBLEtBQUEsaUJBQUEsSUFBQSxFQUFBLG9DQUFBLFFBQUEsR0FBQSxZQUFBLEtBQUEsYUFBQSxnQkFBQSxTQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsR0FBQSxFQUFBLElBQUEsSUFBQSxHQUFBLEdBQUEsR0FBQSxZQUFBLEtBQUEsS0FBQSxTQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsWUFBQSxLQUFBLEtBQUEsaUJBQUEsRUFBQSxLQUFBLEtBQUEsS0FBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxZQUFBLEtBQUEsS0FBQSxNQUFBLG1CQUFBLEVBQUEsSUFDQSxHQUFBLEVBQUEsTUFBQSxJQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsT0FBQSxLQUFBLHlCQUFBLFFBQUEsc0RBQUEsV0FBQSxHQUFBLEtBQUEsZ0JBQUEsUUFBQSxpREFBQSxHQUFBLFlBQUEsV0FBQSxhQUFBLEdBQUEsSUFBQSxZQUFBLFdBQUEsYUFBQSxJQUFBLEdBQUEsR0FDQSxXQUFBLEdBQUEsTUFBQSxJQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsS0FBQSxFQUFBLFNBQUEsSUFBQSxFQUFBLFNBQUEsR0FBQSxRQUFBLEdBQUEsR0FBQSxHQUFBLE1BQUEsRUFBQSxPQUFBLEdBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLElBQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxNQUFBLEtBQUEsTUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxNQUFBLE1BQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxNQUFBLEdBQUEsS0FBQSxLQUFBLEdBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxLQUFBLE9BQUEseUJBQUEsRUFBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsU0FBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUEsWUFBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLE9BQUEsR0FBQSxFQUFBLE1BQUEsS0FBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxRQUFBLEtBQ0EsRUFBQSxvQkFBQSxZQUFBLFVBQUEsV0FBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLFdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxFQUFBLGFBQUEsR0FBQSxXQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsSUFBQSxHQUFBLFNBQUEsR0FBQSxRQUFBLEdBQUEsR0FBQSxNQUFBLFVBQUEsR0FBQSxFQUFBLEdBQUEsTUFBQSxZQUFBLE1BQUEsS0FBQSxRQUFBLEdBQUEsR0FBQSxNQUFBLFVBQUEsR0FBQSxFQUFBLEdBQUEsTUFBQSxXQUFBLE9BQUEsS0FBQSxRQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsR0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsS0FBQSxJQUFBLFdBQUEsd0NBQUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxNQUFBLElBQUEsSUFBQSxFQUFBLFdBQUEsTUFBQSxLQUFBLEdBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsR0FBQSxNQUFBLFlBQUEsTUFBQSxJQUFBLEVBQUEsUUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxNQUFBLEVBQUEsWUFBQSxZQUFBLFdBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsVUFBQSxHQUFBLFdBQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLElBQUEsRUFBQSxNQUNBLEVBQUEsYUFBQSxXQUFBLFNBQUEsR0FBQSxRQUFBLEtBQUEsTUFBQSxZQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsU0FBQSxlQUFBLEdBQUEsT0FBQSxHQUFBLFFBQUEsR0FBQSxlQUFBLElBQUEsV0FBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLEdBQUEsUUFBQSxLQUFBLE1BQUEsWUFBQSxXQUFBLEVBQUEsSUFBQSxRQUFBLEtBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsV0FBQSxTQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsTUFBQSxFQUFBLEtBQUEsSUFBQSxJQUFBLEVBQUEsR0FBQSxtQkFBQSxRQUFBLFNBQUEsSUFBQSxHQUFBLEVBQUEsa0JBQUEsRUFBQSx1QkFBQSxJQUFBLEdBQUEsbUJBQ0EsVUFBQSx3QkFBQSxTQUFBLEtBQUEsU0FBQSxJQUFBLEVBQUEsSUFBQSxNQUFBLEVBQUEsZUFBQSxXQUFBLFdBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxJQUFBLFlBQUEsRUFBQSxHQUFBLFdBQUEsTUFBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsVUFBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLFlBQUEsTUFBQSxHQUFBLEdBQUEsUUFBQSxHQUFBLElBQUEsVUFBQSxPQUFBLEVBQUEsUUFBQSxFQUFBLEdBQUEsTUFBQSxFQUFBLGNBQUEsWUFBQSxXQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLFVBQUEsR0FBQSxXQUFBLFNBQUEsR0FBQSxHQUFBLEtBQUEsT0FBQSxHQUFBLFFBQUEsR0FBQSxHQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsUUFBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLEdBQUEsS0FDQSxFQUFBLGVBQUEsV0FBQSxTQUFBLEdBQUEsUUFBQSxHQUFBLEVBQUEsR0FBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLE9BQUEsR0FBQSxRQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxpQkFBQSxPQUFBLEtBQUEsRUFBQSxFQUFBLHNCQUFBLEVBQUEsRUFBQSxZQUFBLE1BQUEsU0FBQSxHQUFBLE1BQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLElBQUEsS0FBQSxJQUFBLEVBQUEsUUFBQSxLQUFBLFFBQUEsRUFBQSxrQkFBQSxPQUFBLEdBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLE9BQUEsS0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUEsSUFBQSxJQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLE9BQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxRQUFBLEtBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxVQUFBLEVBQUEsUUFDQSxRQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxNQUFBLEdBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsR0FBQSxPQUNBLEVBQUEsZUFBQSxZQUFBLFVBQUEsV0FBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLFdBQUEsRUFBQSxFQUFBLFVBQUEsR0FBQSxXQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLElBQUEsRUFBQSxHQUFBLEtBQUEsU0FBQSxHQUFBLElBQUEsRUFBQSxHQUFBLEtBQUEsSUFBQSxXQUFBLHdEQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLE1BQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLE9BQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxLQUFBLFNBQUEsR0FBQSxJQUFBLEdBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLElBQUEsT0FBQSxHQUFBLE9BQUEsRUFBQSxTQUNBLEVBQUEscUJBQUEsWUFBQSxVQUFBLFdBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxjQUFBLEVBQUEsRUFBQSxNQUFBLEdBQUEsV0FBQSxTQUFBLEdBQUEsTUFBQSxJQUFBLEdBQUEsU0FBQSxHQUFBLFFBQUEsR0FBQSxHQUFBLE1BQUEsVUFBQSxHQUFBLEVBQUEsR0FBQSxNQUFBLFlBQUEsTUFBQSxLQUFBLFFBQUEsR0FBQSxHQUFBLE1BQUEsVUFBQSxHQUFBLEVBQUEsR0FBQSxNQUFBLFdBQUEsT0FBQSxLQUFBLFFBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxNQUFBLElBQUEsSUFBQSxFQUFBLFdBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLE1BQUEsWUFBQSxNQUFBLElBQUEsRUFBQSxRQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxTQUNBLEVBQUEsYUFBQSxZQUFBLFVBQUEsV0FBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLFdBQUEsRUFBQSxFQUFBLGNBQUEsRUFBQSxFQUFBLE1BQUEsR0FBQSxXQUFBLFNBQUEsR0FBQSxNQUFBLElBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxRQUFBLEdBQUEsR0FBQSxNQUFBLFVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEdBQUEsRUFBQSxJQUFBLFFBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsTUFBQSxJQUFBLElBQUEsRUFBQSxXQUFBLEdBQUEsRUFBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxRQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsUUFDQSxFQUFBLG1CQUFBLFdBQUEsVUFBQSxXQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLFdBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsUUFBQSxHQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsSUFBQSxVQUFBLEVBQUEsT0FBQSxFQUFBLFFBQUEsVUFBQSxHQUFBLEVBQUEsU0FBQSxFQUFBLElBQUEsTUFBQSxFQUFBLE9BQUEsVUFBQSxJQUFBLE1BQUEsTUFBQSxFQUFBLFFBQUEsUUFBQSxNQUFBLEdBQUEsV0FBQSxXQUFBLEtBQUEsSUFBQSxPQUNBLEVBQUEsWUFBQSxZQUFBLFVBQUEsV0FBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLFdBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxXQUFBLEdBQUEsV0FBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxLQUFBLFNBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxLQUFBLElBQUEsV0FBQSxxREFBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxNQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLEdBQUEsSUFBQSxFQUFBLFFBQ0EsRUFBQSxhQUFBLFlBQUEsVUFBQSxXQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsV0FBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLFdBQUEsU0FBQSxFQUFBLEdBQUEsUUFBQSxLQUFBLElBQUEsR0FBQSxHQUFBLFVBQUEsT0FBQSxFQUFBLE1BQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxHQUFBLFVBQUEsRUFBQSxJQUFBLEVBQUEsT0FBQSxJQUFBLElBQUEsRUFBQSxFQUFBLE1BQUEsUUFBQSxLQUFBLDZIQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsR0FBQSxLQUFBLFNBQUEsR0FBQSxNQUFBLElBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsV0FBQSxJQUFBLEdBQUEsR0FBQSxVQUFBLE9BQUEsRUFBQSxNQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsR0FDQSxVQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsUUFBQSxJQUFBLEVBQUEsQ0FBQSxJQUFBLEdBQUEsTUFBQSxFQUFBLEVBQUEsTUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLEdBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxPQUFBLEdBQUEsSUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLFVBQUEsRUFBQSxLQUNBLEVBQUEsZUFBQSxnSUFBQSxNQUFBLEtBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLFFBQUEsTUFBQSxRQUFBLEdBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxHQUFBLEtBQUEsSUFBQSxXQUFBLHFGQUFBLE1BQUEsZUFBQSxJQUFBLEtBQUEsSUFBQSxXQUFBLHdIQUFBLE1BQUEsSUFDQSxJQUFBLEtBQUEsT0FBQSxFQUFBLEtBQUEsZ0JBQUEsRUFBQSxZQUFBLEVBQUEsVUFBQSxNQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsTUFBQSxRQUFBLEdBQUEsRUFBQSxHQUFBLFFBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLFFBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLEVBQUEsSUFBQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsWUFBQSxJQUFBLEdBQUEsRUFBQSxNQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxRQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxhQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsWUFBQSxFQUFBLElBQUEsRUFBQSxZQUFBLFdBQUEsRUFBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLGFBQUEsS0FBQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLE1BQUEsR0FBQSxHQUFBLEVBQUEsRUFDQSxNQUFBLEdBQUEsRUFBQSxHQUFBLENBQUEsR0FBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxRQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsS0FBQSxHQUFBLElBQUEsRUFBQSxLQUFBLElBQUEsV0FBQSx1REFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsTUFBQSxHQUFBLEtBQUEsRUFBQSxTQUFBLEdBQUEsTUFBQSxJQUFBLEdBQUEsR0FBQSxPQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsTUFBQSxTQUFBLEdBQUEsTUFBQSxJQUFBLEdBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxLQUFBLFlBQUEsRUFBQSxRQUFBLHNCQUFBLEVBQUEsTUFBQSxHQUFBLE1BQUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsT0FBQSxFQUFBLFFBQUEsR0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLFFBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxTQUFBLElBQUEsRUFBQSxPQUNBLEVBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsSUFBQSxRQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsU0FBQSxJQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLElBQUEsUUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLFFBQUEsR0FBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLFNBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxXQUFBLEVBQUEsWUFBQSxFQUFBLEVBQUEsaUJBQUEsRUFBQSxFQUFBLFVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxFQUFBLFdBQUEsRUFBQSxFQUFBLFdBQUEsRUFBQSxFQUFBLFdBQUEsRUFBQSxFQUFBLFdBQUEsRUFBQSxFQUFBLFdBQUEsRUFBQSxRQUFBLElBQUEsR0FBQSxJQUFBLEdBQUEsQ0FBQSxHQUFBLFdBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxFQUFBLE9BQUEsQ0FBQSxJQUFBLEdBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsQ0FBQSxHQUFBLFdBQUEsWUFBQSxFQUFBLElBQUEsT0FDQSxTQUFBLEVBQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxRQUFBLE9BQUEsYUFBQSxPQUFBLFNBQUEsU0FBQSxHQUFBLEVBQUEsUUFBQSxRQUFBLElBQUEsS0FBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLE1BQUEsU0FBQSxJQUFBLElBQUEsR0FBQSxHQUFBLE1BQUEsWUFBQSxFQUFBLEVBQUEsSUFBQSxLQUFBLE9BQUEsQ0FBQSxHQUFBLEdBQUEsU0FBQSxHQUFBLE1BQUEsV0FBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxlQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsWUFBQSxFQUFBLFVBQUEsRUFBQSxHQUFBLEdBQUEsUUFBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLE1BQUEsS0FBQSxLQUFBLEVBQUEsSUFBQSxVQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLFdBQUEsT0FBQSxNQUFBLEtBQUEsU0FBQSxHQUFBLE1BQUEsR0FBQSxRQUFBLEtBQUEsS0FBQSxXQUFBLE1BQUEsTUFDQSxTQUFBLEdBQUEsTUFBQSxHQUFBLFFBQUEsS0FBQSxLQUFBLFdBQUEsS0FBQSxNQUFBLE9BQ0EsRUFBQSxvQkFBQSxXQUFBLFdBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsUUFBQSxFQUFBLEVBQUEsYUFBQSxHQUFBLFdBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLElBQUEsT0FBQSxJQUFBLEdBQUEsU0FBQSxFQUFBLEdBQUEsUUFBQSxHQUFBLEdBQUEsTUFBQSxVQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxHQUFBLEVBQUEsSUFBQSxRQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxHQUFBLEtBQUEsSUFBQSxXQUFBLGlDQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxXQUFBLEdBQUEsRUFBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxRQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsSUFBQSxNQUNBLEVBQUEscUJBQUEsV0FBQSxTQUFBLEdBQUEsRUFBQSxXQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsSUFBQSxnQkFBQSxJQUFBLEVBQUEsY0FBQSxLQUFBLEVBQUEsR0FBQSxNQUFBLFNBQUEsR0FBQSxFQUFBLElBQUEsTUFDQSxFQUFBLHFCQUFBLFdBQUEsV0FBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxRQUFBLEdBQUEsRUFBQSxXQUFBLEVBQUEsY0FBQSxHQUFBLFdBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsSUFBQSxPQUFBLElBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxRQUFBLEdBQUEsR0FBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsUUFBQSxHQUFBLEdBQUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxHQUFBLEtBQUEsSUFBQSxXQUFBLGtDQUFBLEtBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsQ0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxNQUFBLElBQUEsTUFBQSxHQUFBLEVBQUEsR0FBQSxRQUFBLEdBQUEsS0FBQSxFQUFBLEtBQUEsTUFDQSxFQUFBLHVCQUFBLFdBQUEsU0FBQSxHQUFBLEVBQUEsV0FBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLElBQUEsTUFBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsTUFBQSxFQUFBLHdCQUFBLFdBQUEsU0FBQSxHQUFBLEVBQUEsV0FBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLElBQUEsZ0JBQUEsSUFBQSxFQUFBLGNBQUEsS0FBQSxFQUFBLEdBQUEsTUFBQSxTQUFBLEdBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxhQUFBLFlBQUEsV0FBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxVQUFBLEdBQUEsV0FBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsS0FBQSxFQUFBLE1BQ0EsRUFBQSxlQUFBLFlBQUEsV0FBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxVQUFBLEdBQUEsV0FBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsT0FBQSxFQUFBLE1BQUEsRUFBQSxnQkFBQSxZQUFBLFdBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsVUFBQSxHQUFBLFdBQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLFFBQUEsRUFBQSxNQUFBLEVBQUEsZ0JBQUEsV0FBQSxTQUFBLEdBQUEsRUFBQSxXQUFBLFNBQUEsR0FBQSxLQUFBLFlBQUEsV0FBQSxLQUFBLEtBQUEsS0FDQSxFQUFBLGNBQUEsV0FBQSxTQUFBLEdBQUEsUUFBQSxHQUFBLEdBQUEsTUFBQSxrQkFBQSxJQUFBLGdCQUFBLElBQUEsT0FBQSxFQUFBLEVBQUEsaUJBQUEsRUFBQSxFQUFBLFdBQUEsU0FBQSxHQUFBLE1BQUEsa0JBQUEsSUFBQSxFQUFBLGNBQUEsU0FBQSxHQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsUUFBQSxNQUFBLFFBQUEsTUFBQSxRQUFBLFNBQUEsR0FBQSxNQUFBLG1CQUFBLE9BQUEsVUFBQSxTQUFBLEtBQUEsSUFBQSxFQUFBLElBQUEsS0FBQSxLQUFBLFdBQUEsT0FBQSxHQUFBLE9BQUEsV0FBQSxFQUFBLE9BQUEsT0FBQSxNQUFBLFNBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxLQUFBLElBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxPQUFBLE1BQ0EsRUFBQSxPQUFBLHlPQUFBLE1BQUEsS0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxRQUFBLEtBQUEsRUFBQSxHQUFBLE1BQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxVQUFBLElBQUEsR0FBQSxFQUFBLE1BQ0EsSUFEQSxFQUNBLEVBQUEsVUFBQSxFQUFBLEVBQUEsV0FBQSxFQUFBLEVBQUEsV0FBQSxFQUFBLEVBQUEsV0FBQSxFQUFBLEVBQUEsV0FBQSxFQUFBLE1BQUEsRUFBQSxXQUFBLG1CQUFBLFNBQUEsZ0JBQUEsUUFBQSw0QkFBQSxDQUFBLEVBQUEsT0FBQSw0QkFBQSxFQUFBLGNBQUEsRUFBQSxLQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsZUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxZQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxZQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLFdBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxZQUFBLEVBQUEsUUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsTUFBQSxTQUFBLEVBQ0EsR0FBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEdBQUEsWUFBQSxLQUFBLEtBQUEsRUFBQSxRQUFBLEdBQUEsWUFBQSxLQUFBLE9BQUEsR0FBQSxZQUFBLEtBQUEsSUFBQSxnQkFBQSxXQUFBLElBQUEsR0FBQSxhQUFBLENBQUEsYUFBQSxRQUFBLG9CQUFBLE9BQUEsSUFBQSxHQUFBLGFBQUEsUUFBQSxvQkFBQSxPQUFBLGNBQUEsV0FBQSxxQkFBQSxTQUFBLEdBQUEsTUFBQSxJQUFBLE9BQUEsR0FDQSxHQUFBLFlBQUEsS0FBQSxJQUFBLGtCQUFBLFdBQUEsSUFBQSxHQUFBLGVBQUEsQ0FBQSxlQUFBLFFBQUEsb0JBQUEsT0FBQSxJQUFBLEdBQUEsZUFBQSxRQUFBLG9CQUFBLE9BQUEsZ0JBQUEsV0FBQSxxQkFBQSxTQUFBLEdBQUEsTUFBQSxJQUFBLE9BQUEsR0FBQSxHQUFBLFlBQUEsS0FBQSxJQUFBLDRCQUFBLFdBQUEsT0FBQSxPQUFBLFNBQUEsT0FBQSxxQkFBQSxPQUFBLFdBQUEsZ0NBQUEsS0FBQSxVQUFBLFlBQ0EsR0FBQSxZQUFBLEtBQUEsSUFBQSxxQkFBQSxXQUFBLE1BQUEsUUFBQSxPQUFBLGdDQUFBLEtBQUEsVUFBQSxZQUFBLEdBQUEsWUFBQSxLQUFBLElBQUEsZUFBQSxXQUFBLFFBQUEsT0FBQSxTQUFBLFlBQUEsS0FBQSxTQUFBLE9BQUEsR0FBQSxZQUFBLEtBQUEsSUFBQSxZQUFBLFdBQUEsUUFBQSxVQUFBLFVBQUEsTUFBQSxVQUFBLEdBQUEsWUFBQSxLQUFBLElBQUEsYUFBQSxXQUFBLFFBQUEsVUFBQSxVQUFBLE1BQUEsdUJBQUEsR0FBQSxZQUFBLEtBQUEsSUFBQSxjQUFBLFdBQUEsUUFBQSxVQUFBLFVBQUEsTUFBQSxnQkFDQSxHQUFBLFlBQUEsS0FBQSxJQUFBLGVBQUEsV0FBQSxRQUFBLFVBQUEsVUFBQSxNQUFBLGtCQUFBLEdBQUEsWUFBQSxLQUFBLElBQUEsZ0JBQUEsV0FBQSxRQUFBLE9BQUEsVUFBQSxZQUFBLEdBQUEsWUFBQSxLQUFBLElBQUEsWUFBQSxXQUFBLFFBQUEsVUFBQSxVQUFBLE1BQUEsY0FDQSxHQUFBLFlBQUEsS0FBQSxJQUFBLFNBQUEsV0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsVUFBQSxTQUFBLE9BQUEsZ0NBQUEsVUFBQSxVQUFBLEVBQUEsK0JBQUEsRUFBQSxFQUFBLE1BQUEsS0FBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLFdBQUEsRUFBQSxLQUFBLEdBQUEsSUFBQSxHQUFBLEdBQUEsR0FBQSxZQUFBLEtBQUEsSUFBQSxTQUFBLFdBQUEsSUFBQSxHQUFBLEdBQUEsVUFBQSxTQUFBLE9BQUEsSUFBQSxFQUFBLFFBQUEsWUFBQSxJQUFBLEVBQUEsUUFBQSxhQUFBLElBQUEsRUFBQSxRQUFBLFdBQUEsTUFBQSxJQUFBLE9BQUEsR0FBQSxHQUFBLFlBQUEsV0FBQSxLQUFBLGFBQ0EsR0FBQSxZQUFBLFdBQUEsS0FBQSxVQUFBLEtBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxZQUFBLG9CQUFBLEVBQUEsR0FBQSxnQkFBQSxHQUFBLEVBQUEsUUFBQSxPQUFBLGNBQUEsRUFBQSxFQUFBLGFBQUEsb0NBQUEsR0FBQSxDQUFBLEdBQUEsbUJBQUEsV0FBQSxJQUFBLEdBQUEsSUFBQSxFQUFBLFdBQUEsQ0FBQSxHQUFBLEdBQUEsQ0FBQSxJQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsUUFBQSxJQUFBLEVBQUEsUUFBQSxLQUFBLEVBQUEsUUFBQSxNQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsR0FBQSxZQUFBLEtBQUEsS0FBQSxNQUFBLEVBQUEsY0FBQSxFQUFBLEVBQUEsT0FBQSxXQUFBLEdBQUEsTUFBQSxNQUFBLEdBQUEsRUFBQSxvQkFBQSxHQUFBLHdCQUFBLE9BQUEsSUFDQSxFQUFBLEVBQUEsS0FBQSxJQUFBLFFBQUEsR0FBQSxLQUFBLEVBQUEsUUFBQSxPQUFBLEdBQUEsS0FBQSxHQUFBLEtBQUEsa0JBQUEsR0FBQSxFQUFBLE9BQUEscUJBQUEsSUFBQSxFQUFBLEdBQUEsWUFBQSxLQUFBLEtBQUEsVUFBQSxJQUFBLHNDQUFBLElBQUEsRUFBQSxLQUFBLGtCQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsbUJBQUEsaUJBQUEsT0FBQSw4QkFBQSxlQUFBLEdBQUEsRUFBQSxRQUFBLEVBQUEsV0FBQSxLQUFBLElBQUEsR0FBQSxRQUFBLEVBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxLQUFBLElBQUEsR0FBQSxFQUFBLGlCQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxJQUNBLEdBQUEsWUFBQSxXQUFBLEtBQUEsVUFBQSxZQUFBLFdBQUEsTUFBQSxRQUFBLGdCQUFBLGtCQUFBLFFBQUEsaUJBQUEsR0FBQSxZQUFBLEtBQUEsSUFBQSxZQUFBLEdBQUEsWUFBQSxXQUFBLEtBQUEsVUFBQSxrQkFBQSxTQUFBLEdBQUEsSUFBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLEdBQUEsSUFBQSxLQUFBLElBQUEsR0FBQSxFQUFBLEtBQUEsbUJBQUEsR0FBQSxJQUFBLG1CQUFBLEVBQUEsSUFBQSxPQUFBLEdBQUEsS0FBQSxNQUFBLEdBQUEsWUFBQSxXQUFBLElBQUEsR0FBQSxJQUFBLFlBQUEsV0FBQSxLQUFBLEdBQUEsWUFBQSxLQUFBLGFBQUEsSUFBQSxvQkFBQSxtRUFBQSxJQUFBLFlBQUEsS0FBQSxXQUFBLGlCQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxZQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLE9BQUEsZ0JBQUEsR0FBQSxFQUFBLEtBQUEsT0FBQSxFQUFBLDRCQUFBLEdBQUEsSUFBQSxFQUFBLGFBQUEsZUFBQSxZQUFBLEVBQUEsTUFBQSxHQUFBLFlBQUEsS0FBQSxXQUFBLGFBQUEsU0FBQSxHQUFBLE1BQUEsTUFBQSxTQUFBLElBQUEsbUJBQUEsS0FBQSxJQUNBLEdBQUEsWUFBQSxLQUFBLFdBQUEsZ0JBQUEsU0FBQSxHQUFBLE1BQUEsTUFBQSxTQUFBLElBQUEsR0FBQSxZQUFBLEtBQUEsV0FBQSxpQkFBQSxTQUFBLEdBQUEsTUFBQSxNQUFBLFNBQUEsSUFDQSxHQUFBLFlBQUEsS0FBQSxXQUFBLGFBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxRQUFBLEdBQUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLE9BQUEsTUFBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLFNBQUEsUUFBQSxNQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxPQUFBLE1BQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxTQUFBLFFBQUEsTUFBQSxTQUFBLEdBQUEsS0FBQSxLQUFBLFdBQUEsUUFBQSxFQUFBLG9FQUFBLE1BQUEsR0FBQSxFQUFBLGFBQUEsRUFBQSxlQUNBLEdBQUEsWUFBQSxLQUFBLFdBQUEsa0JBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxLQUFBLE1BQUEsTUFBQSxLQUFBLFNBQUEsR0FBQSxLQUFBLE9BQUEsR0FBQSxZQUFBLEtBQUEsV0FBQSxhQUFBLEVBQUEsRUFBQSxHQUFBLHdDQUFBLEdBQUEsWUFBQSxLQUFBLFdBQUEsaUJBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxLQUFBLE1BQUEsTUFBQSxLQUFBLFdBQUEsR0FBQSxLQUFBLE9BQUEsR0FBQSxZQUFBLEtBQUEsV0FBQSxhQUFBLEVBQUEsRUFBQSxHQUFBLDhCQUNBLEdBQUEsWUFBQSxLQUFBLFdBQUEsZUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEtBQUEsTUFBQSxNQUFBLEtBQUEsU0FBQSxHQUFBLEtBQUEsT0FBQSxHQUFBLFlBQUEsS0FBQSxXQUFBLGFBQUEsRUFBQSxFQUFBLEdBQUEsNEJBQUEsR0FBQSxZQUFBLEtBQUEsV0FBQSxzQkFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxJQUFBLEtBQUEsTUFBQSxJQUFBLEtBQUEsU0FBQSxJQUFBLE9BQUEsR0FBQSxLQUFBLE9BQUEsR0FBQSxZQUFBLEtBQUEsV0FBQSxhQUFBLEVBQUEsRUFBQSxHQUFBLG1DQUFBLElBQUEsb0JBQUEsMkJBQUEsSUFBQSxZQUFBLFdBQUEsT0FBQSxXQUFBLE9BQUEsb0JBQUEsT0FBQSx5QkFBQSxHQUFBLFlBQUEsV0FBQSxPQUFBLFVBQUEsS0FBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxLQUFBLEdBQUEsR0FBQSxJQUFBLEdBQUEsa0JBQUEsS0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLElBQUEsbUJBQUEsR0FBQSxJQUFBLG1CQUFBLEVBQUEsR0FBQSxHQUFBLEtBQUEscUJBQUEsR0FBQSxhQUFBLG1CQUFBLG1CQUFBLElBQUEsR0FBQSxLQUFBLGtCQUFBLEVBQUEsR0FBQSxLQUFBLGdCQUFBLEVBQUEsRUFBQSxJQUNBLEdBQUEsWUFBQSxXQUFBLE9BQUEsVUFBQSxtQkFBQSxXQUFBLE1BQUEsa0JBQUEsR0FBQSxPQUFBLFVBQUEsS0FBQSxNQUFBLElBQUEsS0FBQSxXQUFBLEdBQUEsWUFBQSxXQUFBLE9BQUEsVUFBQSxrQkFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxRQUFBLG9CQUFBLEdBQUEsU0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLE9BQUEsV0FBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxnQkFBQSxLQUNBLEdBQUEsWUFBQSxXQUFBLE9BQUEsVUFBQSxnQkFBQSxTQUFBLEdBQUEsV0FBQSxpQkFBQSxRQUFBLG9CQUFBLEVBQUEsSUFBQSxHQUFBLFNBQUEsZUFBQSxFQUFBLElBQUEsRUFBQSxXQUFBLFlBQUEsSUFBQSxJQUNBLEdBQUEsWUFBQSxXQUFBLE9BQUEsVUFBQSxnQkFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLFlBQUEsV0FBQSxJQUFBLEdBQUEsR0FBQSxTQUFBLGNBQUEsU0FBQSxHQUFBLEtBQUEsa0JBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLFdBQUEsR0FBQSxHQUFBLFNBQUEsZUFBQSxFQUFBLFFBQUEsR0FBQSxFQUFBLFdBQUEsWUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLGNBQUEsS0FBQSxlQUFBLFFBQUEsd0NBQUEsU0FBQSxxQkFBQSxRQUFBLEdBQUEsWUFBQTtDQUFBLE1BQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxjQUFBLEtBQUEsZUFBQSxRQUFBLHlDQUNBLElBQUEsR0FBQSxZQUFBLFdBQUEsT0FBQSxVQUFBLGFBQUEsU0FBQSxHQUFBLEdBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxNQUFBLEVBQUEsU0FBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLGtCQUFBLEVBQUEsUUFBQSxFQUFBLEtBQUEsaUJBQUEsR0FBQSxHQUFBLFlBQUEsV0FBQSxNQUFBLEdBQUEsSUFBQSxZQUFBLFdBQUEsT0FBQSxHQUFBLFlBQUEsYUFBQSxHQUFBLFlBQUEsVUFBQSxVQUFBLGFBQUEsR0FBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLGNBQUEsV0FBQSxNQUFBLElBQUEsWUFBQSxXQUFBLElBQUEsY0FBQSxHQUFBLFlBQUEsV0FBQSxJQUFBLEdBQUEsWUFBQSxXQUFBLE9BQ0EsR0FBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLE1BQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsWUFBQSxLQUFBLGFBQUEsZ0JBQUEsT0FBQSxJQUFBLFlBQUEsS0FBQSxXQUFBLGlCQUFBLEVBQUEsY0FBQSxNQUFBLGdCQUFBLEtBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLHFCQUNBLEdBQUEsWUFBQSxVQUFBLFVBQUEsVUFBQSxXQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLFlBQUEsS0FBQSxhQUFBLHVCQUFBLE9BQUEsSUFBQSxZQUFBLEtBQUEsV0FBQSxpQkFBQSxFQUFBLFVBQUEsR0FBQSxZQUFBLEtBQUEsV0FBQSxhQUFBLEVBQUEsT0FBQSxHQUFBLFlBQUEsS0FBQSxXQUFBLGdCQUFBLEVBQUEsY0FBQSxNQUFBLGdCQUFBLEtBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLG9CQUFBLEdBQUEsRUFBQSxpQkFBQSxHQUFBLEVBQUEscUJBQ0EsR0FBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLGVBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsWUFBQSxLQUFBLGFBQUEsdUJBQUEsT0FBQSxJQUFBLFlBQUEsS0FBQSxXQUFBLGlCQUFBLEVBQUEsVUFBQSxHQUFBLFlBQUEsS0FBQSxXQUFBLGFBQUEsRUFBQSxPQUFBLEdBQUEsWUFBQSxLQUFBLFdBQUEsZ0JBQUEsRUFBQSxpQkFBQSxNQUFBLGdCQUFBLEtBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLG9CQUFBLEdBQUEsRUFBQSxpQkFBQSxHQUFBLEVBQUEscUJBQ0EsR0FBQSxZQUFBLFVBQUEsVUFBQSxVQUFBLFdBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsWUFBQSxLQUFBLGFBQUEsdUJBQUEsT0FBQSxJQUFBLFlBQUEsS0FBQSxXQUFBLGlCQUFBLEVBQUEsVUFBQSxHQUFBLFlBQUEsS0FBQSxXQUFBLGFBQUEsRUFBQSxPQUFBLEdBQUEsWUFBQSxLQUFBLFdBQUEsZ0JBQUEsRUFBQSxjQUFBLE1BQUEsZ0JBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsb0JBQUEsR0FBQSxFQUFBLGlCQUFBLEdBQUEsRUFBQSxxQkFDQSxHQUFBLFlBQUEsVUFBQSxVQUFBLFVBQUEsdUJBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsWUFBQSxLQUFBLGFBQUEsK0JBQUEsT0FBQSxJQUFBLFlBQUEsS0FBQSxXQUFBLGlCQUFBLEVBQUEsVUFBQSxHQUFBLFlBQUEsS0FBQSxXQUFBLGFBQUEsRUFBQSxXQUFBLE1BQUEsZ0JBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsaUJBQUEsR0FBQSxFQUFBLHFCQUFBLEdBQUEsWUFBQSxVQUFBLFNBQUEsR0FBQSxJQUFBLFlBQUEsVUFBQSxVQUFBLEdBQUEsWUFBQSxXQUFBLHdCQUFBLGFBQ0EsR0FBQSxZQUFBLFdBQUEsd0JBQUEsVUFBQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsQ0FBQSxLQUFBLEVBQUEsT0FBQSxRQUFBLFdBQUEsSUFBQSxFQUFBLE9BQUEsUUFBQSxTQUFBLGVBQUEsSUFBQSx5QkFBQSxFQUFBLE9BQUEsUUFBQSxTQUFBLGVBQUEsSUFBQSx3QkFBQSxFQUFBLEVBQUEsa0JBQUEsTUFBQSxHQUFBLE1BQUEsSUFBQSxLQUFBLGdCQUFBLFFBQUEscUlBQUEsR0FBQSxFQUFBLEVBQUEsV0FBQSxHQUFBLEdBQUEsTUFBQSxVQUFBLE1BQUEsTUFBQSxVQUNBLEtBQUEsR0FBQSxFQUFBLEVBQUEsTUFBQSxLQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxxQ0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLFlBQUEsS0FBQSxhQUFBLG9CQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLFNBQUEsR0FBQSxHQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsYUFBQSxJQUFBLEdBQUEsR0FBQSxHQUFBLFlBQUEsS0FBQSxLQUFBLFNBQUEsRUFBQSxjQUFBLEVBQUEsR0FBQSxZQUFBLEtBQUEsS0FBQSxpQkFBQSxFQUFBLEtBQUEsS0FBQSxLQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLFlBQUEsS0FBQSxLQUFBLE1BQUEsbUJBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxNQUFBLElBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxPQUFBLEtBQUEseUJBQUEsUUFBQSxtREFDQSxXQUFBLEdBQUEsS0FBQSxnQkFBQSxRQUFBLDhDQUFBLEdBQUEsWUFBQSxXQUFBLHVCQUFBLEdBQUEsSUFBQSxZQUFBLFdBQUEsd0JBQUEsS0FBQSxVQUFBLEtBQUEsT0FBQSxTQUFBLEtBQUEsS0FBQSxLQUFBLE9BQUEsV0FBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLElBQUEsRUFBQSxZQUFBLEVBQUEsSUFBQSxLQUFBLE9BQUEsU0FBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsTUFBQSxPQUFBLElBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxJQUFBLEdBQUEsS0FBQSxPQUFBLDBCQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsSUFBQSxLQUFBLE9BQUEsdUJBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLFVBQUEsS0FBQSxPQUFBLHdCQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsSUFBQSxLQUFBLE9BQUEsdUJBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUEsT0FBQSxFQUFBLFVBQ0EsS0FBQSxPQUFBLHNCQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxlQUFBLEVBQUEsZUFBQSxLQUFBLE9BQUEsS0FBQSxTQUFBLEdBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxNQUFBLE1BQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxVQUFBLE1BQUEsS0FBQSxVQUFBLEdBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxRQUFBLEdBQUEsRUFBQSxRQUFBLEVBQUEsT0FBQSxPQUFBLEdBQUEsRUFBQSxLQUFBLE9BQUEsS0FBQSxPQUFBLG1CQUFBLFNBQUEsR0FBQSxNQUFBLEdBQUEsUUFBQSxhQUFBLEtBQUEsUUFBQSxhQUFBLEtBQUEsS0FBQSxPQUFBLFFBQUEsU0FBQSxHQUFBLE1BQUEsY0FBQSxLQUFBLElBQUEsS0FBQSxPQUFBLFlBQUEsU0FBQSxHQUFBLE1BQUEsTUFBQSxPQUFBLFFBQUEsS0FBQSxPQUFBLFNBQUEsS0FDQSxLQUFBLE9BQUEscUJBQUEsU0FBQSxHQUFBLE9BQUEsYUFBQSxLQUFBLElBQUEsS0FBQSxPQUFBLFFBQUEsU0FBQSxHQUFBLE9BQUEsWUFBQSxLQUFBLElBQUEsS0FBQSxPQUFBLFVBQUEsU0FBQSxHQUFBLE9BQUEsU0FBQSxLQUFBLElBQUEsS0FBQSxPQUFBLGVBQUEsU0FBQSxHQUFBLE9BQUEsZUFBQSxLQUFBLElBQUEsS0FBQSxPQUFBLFFBQUEsU0FBQSxHQUFBLE1BQUEsS0FBQSxHQUFBLEtBQUEsT0FBQSxjQUFBLFNBQUEsR0FBQSxNQUFBLElBQUEsRUFBQSxRQUFBLEdBQUEsS0FBQSxLQUFBLEdBQUEsR0FBQSxLQUFBLEtBQUEsR0FBQSxLQUFBLE9BQUEsY0FBQSxTQUFBLEdBQUEsTUFBQSxHQUFBLFFBQUEsaUJBQUEsTUFDQSxLQUFBLE9BQUEscUJBQUEsU0FBQSxHQUFBLE1BQUEsR0FBQSxRQUFBLGdCQUFBLE9BQUEsS0FBQSxPQUFBLG9CQUFBLFNBQUEsR0FBQSxNQUFBLEdBQUEsUUFBQSxXQUFBLE1BQUEsS0FBQSxPQUFBLGdCQUFBLFNBQUEsR0FBQSxNQUFBLEdBQUEsUUFBQSxlQUFBLE1BQUEsS0FBQSxPQUFBLHVCQUFBLFNBQUEsR0FBQSxNQUFBLEdBQUEsUUFBQSxjQUFBLEtBQUEsUUFBQSwyQkFBQSxLQUFBLEtBQUEsT0FBQSxLQUFBLFNBQUEsR0FBQSxNQUFBLEdBQUEsUUFBQSx5QkFBQSxLQUNBLEtBQUEsT0FBQSxTQUFBLFNBQUEsR0FBQSxNQUFBLEdBQUEsUUFBQSxhQUFBLEtBQUEsS0FBQSxPQUFBLFVBQUEsU0FBQSxHQUFBLE1BQUEsR0FBQSxRQUFBLGFBQUEsS0FBQSxLQUFBLE9BQUEsdUJBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLE9BQUEsR0FBQSxjQUFBLEVBQUEsT0FBQSxHQUFBLGFBQUEsT0FBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsT0FBQSx1QkFBQSx1QkFDQSxLQUFBLE9BQUEsZ0JBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLGNBQUEsTUFBQSxLQUFBLE9BQUEsd0JBQUEsRUFBQSxFQUFBLGNBQUEsTUFBQSxLQUFBLE9BQUEsd0JBQUEsRUFBQSxLQUFBLElBQUEsRUFBQSxPQUFBLEVBQUEsUUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsQ0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxFQUFBLE1BQUEsR0FBQSxTQUFBLEVBQUEsS0FBQSxNQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsS0FBQSxNQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsR0FBQSxRQUFBLEVBQUEsT0FBQSxFQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxPQUFBLFVBQUEsU0FBQSxHQUFBLE1BQUEsb0JBQUEsT0FBQSxLQUNBLEtBQUEsT0FBQSxVQUFBLFNBQUEsR0FBQSxNQUFBLG9CQUFBLEVBQUEsUUFBQSxNQUFBLE9BQUEsS0FBQSxPQUFBLFlBQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLFFBQUEsZ0JBQUEsRUFBQSxTQUFBLFNBQ0EsS0FBQSxPQUFBLFdBQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLEVBQUEsUUFBQSxLQUFBLE9BQUEsU0FBQSxTQUFBLFFBQUEsS0FBQSxPQUFBLE1BQUEsUUFBQSxRQUFBLEtBQUEsT0FBQSxNQUFBLFFBQUEsUUFBQSxLQUFBLE9BQUEsUUFBQSxVQUFBLFFBQUEsS0FBQSxPQUFBLGVBQUEsU0FBQSxLQUFBLE9BQUEsT0FBQSxLQUFBLElBQUEsSUFBQSxFQUFBLFFBQUEsT0FBQSxFQUFBLEVBQUEsUUFBQSxLQUFBLE9BQUEsU0FBQSxVQUFBLElBQUEsRUFBQSxRQUFBLE9BQUEsRUFBQSxFQUFBLFFBQUEsS0FBQSxPQUFBLE1BQUEsU0FBQSxJQUFBLEVBQUEsUUFBQSxPQUFBLEVBQUEsRUFBQSxRQUFBLEtBQUEsT0FBQSxNQUFBLFNBQUEsSUFBQSxFQUFBLFFBQUEsT0FBQSxFQUFBLEVBQUEsUUFBQSxLQUFBLE9BQUEsUUFDQSxXQUFBLElBQUEsRUFBQSxRQUFBLE9BQUEsRUFBQSxFQUFBLFFBQUEsS0FBQSxPQUFBLGVBQUEsVUFBQSxHQURBLEdBQ0EsS0FBQSxPQUFBLFNBQUEsS0FBQSxLQUFBLE9BQUEsTUFBQSxLQUFBLEtBQUEsT0FBQSxNQUFBLEtBQUEsS0FBQSxPQUFBLFFBQUEsS0FBQSxLQUFBLE9BQUEsZUFBQSxLQUFBLEtBQUEsT0FBQSxPQUFBLFVBQUEsS0FBQSxPQUFBLGlCQUFBLFNBQUEsR0FBQSxNQUFBLE1BQUEsT0FBQSxTQUFBLEVBQUEsS0FBQSxZQUFBLE1BQUEsT0FBQSxLQUFBLE9BQUEsMEJBQUEsR0FBQSxLQUFBLE9BQUEseUJBQUEsR0FBQSxHQUNBLEtBQUEsT0FBQSw2QkFBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLE1BQUEsT0FBQSxTQUFBLEVBQUEsS0FBQSxLQUFBLE9BQUEsMEJBQUEsRUFBQSxHQUFBLEdBQ0EsS0FBQSxPQUFBLDBCQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLFFBQUEsSUFBQSxPQUFBLElBQUEsT0FBQSxJQUFBLFNBQUEsSUFBQSxPQUFBLEdBQUEsRUFBQSxFQUFBLGNBQUEsT0FBQSxTQUFBLGNBQUEsT0FBQSxFQUFBLFFBQUEsS0FBQSxPQUFBLHFCQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLEtBQUEsRUFBQSxPQUFBLEdBQUEsQ0FBQSxHQUFBLEdBQUEsT0FBQSxJQUFBLEVBQUEsT0FBQSxHQUFBLE9BQUEsS0FBQSxFQUFBLE9BQUEsYUFBQSxJQUFBLE1BQUEsS0FBQSxFQUFBLFVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxXQUFBLFVBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLEtBQ0EsS0FBQSxPQUFBLHlCQUFBLFNBQUEsR0FBQSxNQUFBLEdBQUEsUUFBQSxhQUFBLFNBQUEsRUFBQSxHQUFBLE9BQUEsR0FBQSxJQUFBLE1BQUEsTUFBQSxHQUFBLEtBQUEsS0FBQSxNQUFBLEdBQUEsS0FBQSxLQUFBLE1BQUEsR0FBQSxLQUFBLE9BQUEsTUFBQSxHQUFBLFNBQUEsR0FBQSxLQUFBLEVBQUEsT0FBQSxHQUFBLENBQUEsR0FBQSxHQUFBLE9BQUEsSUFBQSxFQUFBLE9BQUEsR0FBQSxLQUFBLE1BQUEsR0FBQSxNQUFBLFFBQUEsYUFBQSxHQUFBLE1BQUEsT0FBQSxLQUFBLE9BQUEscUJBQUEsa0JBQUEsS0FBQSxPQUFBLGlCQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsTUFBQSxPQUFBLFlBQUEsRUFBQSxRQUFBLE1BQUEsV0FBQSxJQUNBLEtBQUEsT0FBQSxZQUFBLFNBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsQ0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLE9BQUEsSUFBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLE1BQUEsR0FBQSxVQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsTUFBQSxJQUFBLEtBQUEsT0FBQSxTQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxLQUFBLEVBQUEsS0FBQSxPQUFBLGlCQUFBLElBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLEdBQUEsT0FBQSxJQUFBLEVBQUEsS0FBQSxPQUFBLFdBQUEsSUFBQSxHQUNBLEtBQUEsT0FBQSxlQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLElBQUEsRUFBQSxLQUFBLE9BQUEsaUJBQUEsSUFBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLENBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxPQUFBLENBQUEsR0FBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxFQUFBLFVBQUEsT0FBQSxHQUFBLE9BQUEsSUFBQSxFQUFBLEtBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLE1BQUEsRUFBQSxVQUFBLEdBQUEsT0FBQSxLQUFBLEVBQUEsS0FBQSxPQUFBLFdBQUEsSUFBQSxHQUFBLEtBQUEsT0FBQSxxQkFBQSxPQUFBLE1BQUEsS0FBQSxNQUFBLEtBQUEsTUFBQSxLQUFBLE1BQUEsS0FBQSxNQUFBLElBQUEsTUFBQSxJQUFBLFFBQUEsSUFBQSxNQUFBLEtBQUEsUUFBQSxLQUFBLE9BQUEsZ0JBQUEsSUFBQSxPQUNBLEtBQUEsT0FBQSxNQUFBLFNBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsTUFBQSxNQUFBLEdBQUEsT0FBQSxLQUFBLEdBQUEsSUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsRUFBQSxXQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxPQUFBLG9CQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxFQUFBLEtBQUEsT0FBQSxXQUFBLElBQUEsTUFBQSxHQUFBLEtBQUEsS0FBQSxFQUFBLEtBQUEsS0FBQSxLQUFBLE9BQUEsYUFBQSxTQUFBLEdBQUEsSUFBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxHQUFBLEtBQUEsT0FBQSxXQUFBLEVBQUEsT0FBQSxHQUFBLE9BQUEsR0FBQSxLQUFBLEtBQ0EsS0FBQSxPQUFBLFdBQUEsU0FBQSxHQUFBLEdBQUEsSUFBQSxNQUFBLE9BQUEsZUFBQSxNQUFBLE1BQUEsT0FBQSxlQUFBLEVBQUEsSUFBQSxJQUFBLE1BQUEsT0FBQSxvQkFBQSxNQUFBLE1BQUEsT0FBQSxlQUFBLEdBQUEsS0FBQSxPQUFBLG9CQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLFdBQUEsRUFBQSxPQUFBLEdBQUEsSUFBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxFQUFBLE9BQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxHQUFBLE9BQUEsRUFBQSxNQUFBLEtBQUEsSUFBQSxHQUFBLE1BQUEsR0FBQSxFQUFBLFNBQUEsSUFBQSxlQUFBLEtBQUEsT0FBQSxlQUFBLEdBQUEsR0FBQSxLQUFBLE9BQUEsTUFBQSxTQUFBLEdBQUEsSUFBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxFQUFBLE9BQUEsS0FBQSxDQUFBLE9BQUEsSUFDQSxLQUFBLE9BQUEsU0FBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLElBQUEsRUFBQSxRQUFBLElBQUEsS0FBQSxPQUFBLFFBQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxJQUFBLEVBQUEsRUFBQSxNQUFBLEdBQUEsT0FBQSxFQUFBLEdBQUEsS0FBQSxPQUFBLFNBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsQ0FBQSxPQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsSUFBQSxHQUFBLEtBQUEsT0FBQSxPQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxPQUFBLEtBQUEsT0FBQSxhQUFBLEdBQUEsR0FBQSxPQUFBLEdBQUEsUUFBQSxFQUFBLEtBQUEsS0FBQSxPQUFBLFVBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLE9BQUEsS0FBQSxPQUFBLGFBQUEsR0FBQSxJQUFBLE9BQUEsR0FBQSxRQUFBLEVBQUEsS0FDQSxLQUFBLE9BQUEsYUFBQSxTQUFBLEdBQUEsTUFBQSxRQUFBLEdBQUEsUUFBQSxnQ0FBQSxRQUFBLFFBQUEsUUFBQSxVQUFBLEtBQUEsT0FBQSxPQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsT0FBQSxFQUFBLEdBQUEsS0FBQSxJQUFBLEtBQUEsT0FBQSxVQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLEtBQUEsTUFBQSxHQUFBLEVBQUEsUUFBQSxHQUFBLE9BQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxLQUFBLElBQUEsSUFBQSxFQUFBLEVBQUEsUUFBQSxLQUFBLE9BQUEsT0FBQSxJQUFBLEtBQUEsSUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEtBQUEsT0FBQSxTQUFBLFNBQUEsR0FBQSxNQUFBLE9BQUEsRUFBQSxHQUFBLE9BQUEsSUFBQSxLQUFBLE9BQUEsWUFBQSxXQUFBLE1BQUEsT0FBQSxVQUFBLEtBQUEsS0FBQSxVQUFBLEtBQ0EsS0FBQSxPQUFBLGdCQUFBLFdBQUEsTUFBQSxNQUFBLE1BQUEsV0FBQSxLQUFBLFVBQUEsU0FBQSxJQUFBLEtBQUEsSUFBQSxLQUFBLE1BQUEsV0FBQSxLQUFBLFVBQUEsS0FBQSxPQUFBLFNBQUEsS0FDQSxLQUFBLE9BQUEsZ0JBQUEsU0FBQSxFQUFBLEdBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsT0FBQSxLQUFBLE9BQUEsSUFBQSxNQUFBLEtBQUEsRUFBQSxLQUFBLE9BQUEsS0FBQSxPQUFBLElBQUEsTUFBQSxLQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsT0FBQSxFQUFBLFFBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxDQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsT0FBQSxlQUFBLEtBQUEsRUFBQSxPQUFBLGVBQUEsSUFBQSxHQUFBLENBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxLQUFBLEdBQUEsR0FBQSxJQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxHQUFBLEVBQUEsR0FBQSxRQUFBLEdBQUEsRUFBQSxHQUFBLE9BQUEsS0FBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsT0FBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxPQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEtBQUEsT0FBQSxpQkFBQSxFQUFBLElBQUEsS0FBQSxPQUFBLGlCQUFBLEdBQ0EsRUFBQSxHQUFBLE9BQUEsR0FBQSxFQUFBLEdBQUEsU0FBQSxLQUFBLE9BQUEsaUJBQUEsRUFBQSxHQUFBLEVBQUEsVUFBQSxHQUFBLEdBQUEsTUFBQSxJQUFBLEtBQUEsT0FBQSxpQkFBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsS0FBQSxPQUFBLGNBQUEsV0FBQSxLQUFBLE9BQUEsU0FBQSxTQUFBLEdBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLFdBQUEsR0FBQSxHQUFBLEtBQUEsT0FBQSxhQUFBLE9BQUEsSUFBQSxLQUFBLE9BQUEscUJBQUEsV0FBQSxLQUFBLFNBQUEsRUFBQSxLQUFBLE9BQUEsbUJBQUEsV0FBQSxNQUFBLFFBQUEsS0FBQSxPQUFBLHdCQUNBLEtBQUEsT0FBQSxTQUFBLFNBQUEsR0FBQSxHQUFBLEdBQUEsT0FBQSxFQUFBLE9BQUEsSUFBQSxHQUFBLEtBQUEsT0FBQSxRQUFBLEdBQUEsSUFBQSxHQUFBLEtBQUEsT0FBQSxpQkFBQSxTQUFBLEdBQUEsTUFBQSx5QkFBQSxLQUFBLElBQUEsS0FBQSxPQUFBLGlCQUFBLFNBQUEsR0FBQSxNQUFBLG1CQUFBLEtBQUEsSUFBQSxLQUFBLE9BQUEsWUFBQSxTQUFBLEdBQUEsTUFBQSxRQUFBLEdBQUEsUUFBQSxhQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxpQkFBQSxLQUFBLE9BQUEsZUFBQSxTQUFBLEdBQUEsTUFBQSxRQUFBLEdBQUEsUUFBQSxXQUFBLE9BQUEsZUFDQSxLQUFBLE9BQUEsWUFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxTQUFBLEdBQUEsS0FBQSxPQUFBLGFBQUEsR0FBQSxLQUFBLE9BQUEsR0FBQSxRQUFBLE9BQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLElBQUEsV0FBQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxHQUFBLEVBQUEsaUJBQUEsS0FBQSxPQUFBLFNBQUEsU0FBQSxHQUFBLE1BQUEsVUFBQSxLQUFBLEVBQUEsT0FBQSxJQUFBLEtBQUEsU0FBQSxHQUFBLFlBQUEsS0FBQSxHQUFBLFNBQUEsRUFBQSxJQUFBLFNBQUEsRUFBQSxJQUFBLEtBQUEsS0FBQSxPQUFBLFdBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEtBQUEsR0FBQSxNQUFBLEVBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxLQUFBLEVBQUEsU0FBQSxHQUFBLE9BQUEsR0FBQSxRQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLElBQUEsNkJBQUEsa0JBQUEsZ0JBQUEsR0FBQSxZQUFBLEtBQUEsSUFBQSxpQkFBQSxJQUFBLFlBQUEsY0FBQSxhQUFBLEdBQUEsWUFBQSxjQUFBLFVBQUEsSUFBQSxTQUFBLEdBQUEsR0FBQSxnQkFBQSxJQUFBLGFBQUEsUUFBQSw0QkFBQSxHQUFBLFlBQUEsS0FBQSxLQUFBLFVBQUEsSUFBQSxNQUFBLE1BQUEsR0FBQSxZQUFBLGNBQUEsVUFBQSxJQUFBLFdBQUEsR0FBQSxnQkFBQSxDQUFBLElBQUEsR0FBQSxHQUFBLGFBQUEsUUFBQSw0QkFBQSxJQUFBLEVBQUEsTUFBQSxJQUFBLFlBQUEsS0FBQSxLQUFBLE1BQUEsR0FBQSxNQUFBLElBQUEsTUFBQSxRQUNBLEdBQUEsWUFBQSxjQUFBLFVBQUEsTUFBQSxXQUFBLGlCQUFBLGFBQUEsV0FBQSw4QkFBQSxHQUFBLFlBQUEsYUFBQSxHQUFBLElBQUEsWUFBQSxhQUFBLElBQUEsZ0JBQUEsT0FDQSxJQUFBLFlBQUEsT0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLFdBQUEsV0FBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEtBQUEsS0FBQSxFQUFBLEtBQUEsV0FBQSxHQUFBLFlBQUEsS0FBQSxLQUFBLGVBQUEsRUFBQSxZQUFBLEtBQUEsa0JBQUEsS0FBQSxPQUFBLHFCQUFBLE9BQUEseUJBQUEsT0FBQSxxQkFBQSxVQUFBLE9BQUEscUJBQUEsY0FBQSxPQUFBLHFCQUFBLFVBQUEsTUFBQSxHQUFBLEVBQUEsSUFBQSxJQUFBLFVBQUEsT0FBQSxTQUFBLFVBQUEsR0FBQSxZQUFBLEtBQUEsSUFBQSxlQUFBLEdBQUEsWUFBQSxLQUFBLElBQUEsK0JBQUEsR0FBQSxZQUFBLEtBQUEsS0FBQSxLQUFBLG9oQkFDQSxHQUFBLEdBQUEsWUFBQSxLQUFBLFdBQUEsR0FBQSxLQUFBLGtCQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxPQUFBLHFCQUFBLGFBQUEsT0FBQSxVQUFBLE1BQUEsTUFBQSxVQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxDQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsSUFBQSxHQUFBLG1CQUFBLEdBQUEsSUFBQSxLQUFBLEVBQUEsQ0FBQSxHQUFBLEdBQUEsQ0FBQSxHQUFBLE1BQUEsRUFBQSxLQUFBLG9CQUFBLEVBQUEsRUFBQSxLQUFBLG1CQUFBLEdBQUEsRUFBQSxvQkFBQSxFQUFBLEVBQUEsbUJBQUEsR0FBQSxHQUFBLElBQUEsSUFBQSxFQUFBLE9BQUEscUJBQUEsVUFBQSxHQUFBLEtBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsS0FBQSxpQkFDQSxHQUFBLFlBQUEsT0FBQSxVQUFBLFdBQUEsU0FBQSxHQUFBLEdBQUEsWUFBQSxLQUFBLFdBQUEsSUFBQSxLQUFBLGFBQUEsNkNBQUEsR0FBQSxZQUFBLE9BQUEsVUFBQSxZQUNBLEdBQUEsWUFBQSxPQUFBLFVBQUEsY0FBQSxXQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsS0FBQSxFQUFBLGVBQUEsUUFBQSxxQkFBQSxlQUFBLFdBQUEscUJBQUEsTUFBQSxJQUFBLEdBQUEsRUFBQSxDQUFBLEdBQUEsR0FBQSxHQUFBLFlBQUEsV0FBQSxLQUFBLElBQUEsWUFBQSxXQUFBLElBQUEsZ0JBQUEsRUFBQSxHQUFBLFlBQUEsV0FBQSxLQUFBLEVBQUEsS0FBQSxHQUFBLFlBQUEsS0FBQSxhQUFBLGlCQUFBLFVBQUEsRUFBQSxTQUFBLEVBQUEsWUFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsRUFBQSxZQUFBLEVBQUEsTUFBQSxFQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsWUFBQSxhQUFBLFFBQUEsRUFBQSxrQkFBQSxLQUNBLEdBQUEsWUFBQSxhQUFBLFFBQUEsRUFBQSxrQkFBQSxLQUFBLGNBQUEsRUFBQSxHQUFBLFlBQUEsYUFBQSxRQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsRUFBQSxZQUFBLEVBQUEsTUFBQSxFQUFBLE1BQUEsR0FBQSxFQUFBLGtCQUFBLEtBQUEsT0FDQSxHQUFBLFlBQUEsT0FBQSxVQUFBLFlBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLElBQUEsTUFBQSxLQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsWUFBQSxhQUFBLFFBQUEsRUFBQSxrQkFBQSxLQUFBLE1BQUEsR0FBQSxNQUFBLEdBQUEsR0FBQSxZQUFBLGFBQUEsS0FBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLFdBQUEsRUFBQSxZQUFBLEVBQUEsbUJBQUEsa0JBQUEsSUFBQSxVQUFBLEdBQUEsV0FBQSxFQUFBLGtCQUFBLEVBQUEsRUFBQSxrQkFBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEsV0FBQSxHQUFBLFlBQUEsYUFBQSxRQUFBLEVBQUEsa0JBQUEsS0FBQSxNQUFBLEdBQUEsT0FDQSxHQUFBLFlBQUEsT0FBQSxVQUFBLE1BQUEsV0FBQSxHQUFBLFlBQUEsS0FBQSxXQUFBLGVBQUEsOEJBQUEsRUFBQSxVQUFBLElBQUEsR0FBQSxHQUFBLFlBQUEsS0FBQSxXQUFBLGlCQUFBLDhCQUFBLEVBQUEsRUFBQSxVQUFBLE9BQUEsSUFBQSxHQUFBLFVBQUEsR0FBQSxjQUFBLEVBQUEsVUFBQSxNQUFBLFFBQUEsS0FBQSxrQkFBQSxFQUFBLFdBQUEsR0FBQSxLQUFBLEdBQUEsSUFBQSxZQUFBLE1BQUEsTUFBQSxpQkFBQSxFQUFBLEtBQUEsaUJBQUEsTUFBQSxNQUFBLHVCQUFBLEVBQUEsS0FBQSxTQUFBLE1BQUEsTUFBQSxnQkFBQSxFQUNBLEtBQUEsZUFBQSxNQUFBLE1BQUEscUJBQUEsRUFBQSxLQUFBLFdBQUEsTUFBQSxNQUFBLGtCQUFBLEVBQUEsS0FBQSxnQkFBQSxNQUFBLE1BQUEsc0JBQUEsRUFBQSxLQUFBLFdBQUEsTUFBQSxHQUFBLGFBQUEsS0FBQSx1QkFBQSxHQUFBLEtBQUEsa0JBQUEsRUFBQSxLQUFBLFNBQUEsTUFBQSxHQUFBLGFBQUEsS0FBQSxxQkFBQSxHQUFBLEtBQUEsZ0JBQUEsRUFBQSxLQUFBLFVBQUEsTUFBQSxHQUFBLGFBQUEsRUFBQSxtQkFBQSxLQUFBLHNCQUFBLEdBQUEsS0FBQSxpQkFBQSxFQUFBLFNBQUEsS0FBQSxPQUFBLDZCQUNBLEVBQUEsb0RBQUEsS0FBQSxhQUFBLHdDQUFBLEdBQUEsWUFBQSxPQUFBLFVBQUEsT0FDQSxHQUFBLFlBQUEsT0FBQSxVQUFBLGlCQUFBLFNBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxPQUFBLElBQUEsSUFBQSxZQUFBLEtBQUEsS0FBQSxRQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsU0FBQSxFQUFBLFdBQUEsRUFBQSxFQUFBLGVBQUEsR0FBQSxZQUFBLFdBQUEsTUFBQSxLQUFBLEdBQUEsWUFBQSxLQUFBLGFBQUEsa0JBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLElBQUEsRUFBQSxNQUFBLENBQUEsR0FBQSxHQUFBLEdBQUEsWUFBQSxPQUFBLE9BQUEsRUFBQSxHQUFBLGtCQUFBLEVBQUEsTUFBQSxFQUFBLE9BQUEsR0FBQSxZQUFBLEVBQUEsTUFBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLFFBQ0EsR0FBQSxZQUFBLE9BQUEsVUFBQSxrQkFBQSxTQUFBLEdBQUEsR0FBQSxHQUFBLElBQUEsT0FBQSxJQUFBLElBQUEsWUFBQSxLQUFBLEtBQUEsUUFBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxlQUFBLEdBQUEsWUFBQSxVQUFBLFNBQUEsTUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsSUFBQSxFQUFBLE1BQUEsQ0FBQSxHQUFBLEdBQUEsR0FBQSxZQUFBLE9BQUEsT0FBQSxFQUFBLEdBQUEsa0JBQUEsRUFBQSxNQUFBLEVBQUEsT0FBQSxHQUFBLFlBQUEsRUFBQSxNQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsUUFBQSxHQUFBLFlBQUEsT0FBQSxVQUFBLGdCQUFBLFNBQUEsR0FBQSxNQUFBLEdBQUEsT0FBQSxJQUFBLEVBQUEsTUFBQSxJQUFBLEtBQUEsY0FBQSxTQUFBLElBQ0EsR0FBQSxZQUFBLE9BQUEsVUFBQSxnQkFBQSxTQUFBLEdBQUEsTUFBQSxHQUFBLE9BQUEsSUFBQSxFQUFBLE1BQUEsSUFBQSxLQUFBLGNBQUEsU0FBQSxJQUFBLEdBQUEsWUFBQSxPQUFBLFVBQUEsa0JBQUEsU0FBQSxHQUFBLE1BQUEsR0FBQSxPQUFBLElBQUEsRUFBQSxNQUFBLElBQUEsS0FBQSxjQUFBLFdBQUEsSUFBQSxHQUFBLFlBQUEsT0FBQSxVQUFBLGlCQUFBLFNBQUEsR0FBQSxNQUFBLE1BQUEsY0FBQSxVQUFBLElBQUEsR0FBQSxZQUFBLE9BQUEsVUFBQSx1QkFBQSxTQUFBLEdBQUEsTUFBQSxNQUFBLGNBQUEsV0FBQSxJQUNBLEdBQUEsWUFBQSxPQUFBLFVBQUEscUJBQUEsU0FBQSxHQUFBLE1BQUEsTUFBQSxjQUFBLFNBQUEsSUFBQSxHQUFBLFlBQUEsT0FBQSxVQUFBLHNCQUFBLFNBQUEsR0FBQSxNQUFBLE1BQUEsY0FBQSxVQUFBLElBQUEsR0FBQSxZQUFBLE9BQUEsVUFBQSxPQUFBLFdBQUEsR0FBQSxZQUFBLGFBQUEsUUFBQSxLQUFBLEtBQUEsU0FBQSxLQUFBLGtCQUFBLEtBQUEsT0FBQSxLQUFBLGFBQUEseUNBQUEsR0FBQSxZQUFBLE9BQUEsVUFBQSxRQUNBLEdBQUEsWUFBQSxPQUFBLFVBQUEsY0FBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLGNBQUEsSUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLFlBQUEsS0FBQSxhQUFBLFNBQUEsRUFBQSxtQkFBQSxFQUFBLFVBQUEsT0FBQSxJQUFBLElBQUEsWUFBQSxLQUFBLEtBQUEsUUFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLFlBQUEsV0FBQSxNQUFBLEtBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxLQUFBLEVBQUEsWUFBQSxFQUFBLE1BQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxPQUFBLENBQUEsR0FBQSxHQUFBLEdBQUEsWUFBQSxPQUFBLE9BQUEsRUFBQSxHQUFBLGtCQUFBLEdBQUEsRUFBQSxTQUNBLEdBQUEsWUFBQSxPQUFBLFVBQUEsY0FBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxJQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsWUFBQSxLQUFBLGFBQUEsU0FBQSxFQUFBLGFBQUEsRUFBQSxVQUFBLEdBQUEsUUFBQSxHQUFBLFVBQUEsRUFBQSxPQUFBLEdBQUEsTUFBQSxtQkFBQSxnQkFBQSxHQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsVUFBQSxFQUFBLFdBQUEsRUFBQSxPQUFBLEVBQUEsT0FBQSxFQUFBLE1BQUEsSUFBQSxPQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsT0FBQSxFQUFBLGFBQUEsR0FBQSxRQUFBLEVBQUEsUUFBQSxFQUFBLE1BQUEsRUFBQSxZQUFBLEdBQUEsT0FBQSxFQUFBLEdBQUEsWUFBQSxLQUFBLElBQUEsOEJBQUEsa0JBQUEsR0FBQSxZQUFBLEtBQUEsSUFBQSx1QkFDQSxtQkFBQSxHQUFBLFlBQUEsS0FBQSxJQUFBLGlCQUFBLGdCQUFBLFNBQUEsSUFBQSxFQUFBLElBQUEsWUFBQSxFQUFBLENBQUEsRUFBQSxHQUFBLFlBQUEsV0FBQSxRQUFBLElBQUEsS0FBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxHQUFBLEtBQUEscUJBQUEsRUFBQSxVQUFBLEdBQUEsWUFBQSxLQUFBLGFBQUEsZ0JBQUEsRUFBQSxnQkFBQSxFQUFBLEtBQUEsU0FBQSxvQkFBQSxFQUFBLEVBQUEsR0FBQSxZQUFBLFdBQUEsb0JBQUEscUJBQUEsRUFBQSxFQUFBLEdBQUEsWUFBQSxXQUFBLGFBQUEsa0JBQUEsSUFBQSxFQUFBLEdBQUEsWUFBQSxXQUFBLHVCQUNBLE1BQUEsRUFBQSxnQkFBQSxHQUFBLFlBQUEsS0FBQSxJQUFBLGVBQUEsR0FBQSxZQUFBLEtBQUEsSUFBQSxrQkFBQSxHQUFBLFlBQUEsS0FBQSxJQUFBLG1CQUFBLEdBQUEsWUFBQSxLQUFBLElBQUEsZ0JBQUEsR0FBQSxZQUFBLEtBQUEsSUFBQSxpQkFBQSxNQUFBLElBQUEsSUFBQSxZQUFBLEtBQUEsS0FBQSxRQUFBLFNBQUEsRUFDQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsRUFBQSxZQUFBLEVBQUEsTUFBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLE9BQUEsQ0FBQSxHQUFBLEdBQUEsSUFBQSxLQUFBLGdCQUFBLFFBQUEsNkJBQUEsMkJBQUEsRUFBQSxHQUFBLEtBQUEsY0FBQSxRQUFBLDhDQUFBLEdBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxZQUFBLE9BQUEsT0FBQSxHQUFBLEVBQUEsa0JBQUEsR0FBQSxFQUFBLE9BREEsR0FBQSxLQUFBLE9BQUEsa0JBQUEsS0FBQSxPQUFBLGlCQUFBLEtBQUEsZUFBQSxRQUFBLG9CQUFBLEdBQUEsTUFBQSxJQUFBLEdBQUEsY0FBQSxFQUFBLG9CQUFBLG1CQUFBLE9BQUEsU0FBQSxNQUFBLE9BQUEsU0FBQSxHQUVBLEdBQUEsWUFBQSxPQUFBLFVBQUEsb0JBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsU0FBQSxLQUFBLFdBQUEsR0FBQSxJQUFBLFlBQUEsS0FBQSxLQUFBLFFBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxZQUFBLFVBQUEsU0FBQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLENBQUEsR0FBQSxHQUFBLEdBQUEsWUFBQSxPQUFBLE9BQUEsRUFBQSxPQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxNQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLFFBQUEsR0FBQSxZQUFBLE9BQUEsVUFBQSxXQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxNQUFBLG9CQUFBLGNBQUEsTUFBQSxFQUFBLFNBQUEsR0FBQSxJQUFBLEtBQUEsYUFBQSw2Q0FBQSxHQUFBLFlBQUEsT0FBQSxVQUFBLFlBQ0EsR0FBQSxZQUFBLE9BQUEsVUFBQSxlQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLE1BQUEsb0JBQUEsa0JBQUEsTUFBQSxFQUFBLFlBQUEsRUFBQSxZQUFBLEdBQUEsU0FBQSxHQUFBLE1BQUEsSUFBQSxFQUFBLE1BQUEsS0FBQSxhQUFBLGlEQUFBLEdBQUEsWUFBQSxPQUFBLFVBQUEsZ0JBQUEsR0FBQSxZQUFBLE9BQUEsVUFBQSxXQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxNQUFBLG9CQUFBLGNBQUEsTUFBQSxFQUFBLFNBQUEsR0FBQSxTQUFBLEdBQUEsTUFBQSxJQUFBLEVBQUEsTUFDQSxLQUFBLGFBQUEsNkNBQUEsR0FBQSxZQUFBLE9BQUEsVUFBQSxZQUFBLEdBQUEsWUFBQSxPQUFBLFVBQUEsdUJBQUEsU0FBQSxFQUFBLEdBQUEsTUFBQSxNQUFBLG9CQUFBLDBCQUFBLE1BQUEsR0FBQSxTQUFBLEdBQUEsTUFBQSxJQUFBLEVBQUEsTUFBQSxLQUFBLGFBQUEseURBQUEsR0FBQSxZQUFBLE9BQUEsVUFBQSx3QkFBQSxHQUFBLFlBQUEsT0FBQSxPQUFBLFNBQUEsR0FBQSxHQUFBLFlBQUEsV0FBQSxRQUFBLE9BQUEsSUFDQSxLQUFBLGFBQUEsK0JBQUEsR0FBQSxZQUFBLE9BQUEsUUFBQSxHQUFBLFlBQUEsT0FBQSxRQUFBLFdBQUEsTUFBQSxpQkFBQSxLQUFBLGFBQUEsZ0NBQUEsR0FBQSxZQUFBLE9BQUEsUUFBQSxJQUFBLHFCQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsWUFBQSxLQUFBLFdBQUEsaUJBQUEsMEJBQUEsRUFBQSxFQUFBLFVBQUEsUUFBQSxHQUFBLFlBQUEsS0FBQSxXQUFBLGlCQUFBLDBCQUFBLEVBQUEsR0FBQSxHQUFBLEtBQUEsU0FBQSxHQUFBLEtBQUEsT0FBQSx5SUFBQSxJQUFBLEdBQUEsR0FBQSxZQUFBLEtBQUEsS0FBQSxlQUFBLEVBQUEsV0FBQSxLQUFBLEtBQUEsU0FBQSxHQUFBLEtBQUEsT0FBQSxtSEFDQSxJQUFBLEdBQUEsR0FBQSxJQUFBLFlBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFFBQUEsV0FBQSxTQUFBLEdBQUEsTUFBQSxJQUFBLFlBQUEsS0FBQSxXQUFBLGlCQUFBLGlDQUFBLEVBQUEsRUFBQSxVQUFBLFFBQUEsRUFBQSxXQUFBLElBQUEsTUFBQSxXQUFBLE1BQUEsR0FBQSxNQUFBLE1BQUEsRUFBQSxZQUFBLE9BQUEsV0FBQSxNQUFBLElBQUEsWUFBQSxLQUFBLFdBQUEsaUJBQUEsNkJBQUEsRUFBQSxFQUFBLFVBQUEsUUFBQSxFQUFBLFVBQUEsV0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BREEsSUFBQSxZQUFBLEtBQUEsV0FBQSxpQkFBQSxpQ0FBQSxFQUFBLEVBQUEsVUFBQSxRQUNBLEdBQUEsWUFBQSxLQUFBLFdBQUEsaUJBQUEsaUNBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxJQUFBLGVBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLE1BQUEsSUFBQSxZQUFBLEtBQUEsV0FBQSxpQkFBQSxxQ0FBQSxFQUFBLEVBQUEsVUFBQSxRQUFBLEdBQUEsWUFBQSxLQUFBLFdBQUEsaUJBQUEscUNBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxlQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsV0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BREEsSUFBQSxZQUFBLEtBQUEsV0FBQSxpQkFBQSxpQ0FBQSxFQUFBLEVBQUEsVUFBQSxRQUNBLEdBQUEsWUFBQSxLQUFBLFdBQUEsaUJBQUEsaUNBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxXQUFBLEVBQUEsRUFBQSxJQUFBLHVCQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsSUFBQSxZQUFBLEtBQUEsV0FBQSxpQkFBQSw2Q0FBQSxFQUFBLEVBQUEsVUFBQSxRQUFBLEdBQUEsWUFBQSxLQUFBLFdBQUEsaUJBQUEsNkNBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSx1QkFBQSxFQUFBLEtBQUEsTUFBQSxhQUFBLHNCQUFBLHFCQUFBLG9CQUFBLE9BQUEsU0FBQSxHQUFBLEdBQUEsWUFBQSxPQUFBLE9BQUEsSUFDQSxLQUFBLGVBQUEsb0JBQUEsU0FBQSxvQkFBQSxRQUFBLG9CQUFBLFFBQUEsR0FBQSxZQUFBLE9BQUEsY0M1SUEsU0FBQSxHQUFBLEdBQUEsZ0JBQUEsVUFBQSxtQkFBQSxRQUFBLE9BQUEsUUFBQSxRQUFBLElBQUEsa0JBQUEsU0FBQSxPQUFBLElBQUEsVUFBQSxPQUFBLENBQUEsR0FBQSxFQUFBLG9CQUFBLFFBQUEsRUFBQSxPQUFBLG1CQUFBLFFBQUEsRUFBQSxPQUFBLG1CQUFBLFFBQUEsRUFBQSxNQUFBLEVBQUEsYUFBQSxNQUFBLFdBQUEsR0FBQSxFQUFBLE9BQUEsU0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLFFBQUEsR0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsQ0FBQSxJQUFBLEVBQUEsR0FBQSxDQUFBLEdBQUEsR0FBQSxrQkFBQSxVQUFBLE9BQUEsS0FBQSxHQUFBLEVBQUEsTUFBQSxHQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsTUFBQSxHQUFBLEdBQUEsRUFBQSxNQUFBLElBQUEsT0FBQSx1QkFBQSxFQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsSUFBQSxXQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxRQUFBLFNBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxPQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLEdBQUEsR0FBQSxRQUFBLElBQUEsR0FBQSxHQUFBLGtCQUFBLFVBQUEsUUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLEtBQUEsR0FBQSxTQUFBLEVBQUEsSUFDQSxTQUFBLElBQ0EsV0FDQSxHQUFBLEdBQUEsRUFBQSxTQUNBLEVBQUEsRUFBQSxXQUFBLEtBQ0EsRUFBQSxFQUFBLFdBQUEsSUFHQSxFQUFBLFNBQUEsRUFBQSxHQUVBLEVBQUEsYUFBQSxPQUVBLEVBREEsR0FBQSxXQUFBLEVBQUEsU0FDQSxFQUFBLGNBQUEsR0FFQSxFQUFBLGNBQUEsR0FDQSxtQkFBQSxJQUNBLGtCQUFBLEdBQUEsVUFBQSxFQUFBLFNBQUEsR0FDQSxFQUFBLE1BQUEsVUFBQSxNQUFBLEtBQUEsRUFBQSxHQUNBLE1BQUEsUUFBQSxLQUNBLEVBQUEsRUFBQSxXQVdBLEtBQUEsR0FSQSxHQUFBLEVBQUEsYUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLE9BQ0EsRUFBQSxXQUNBLEVBQUEsV0FDQSxFQUFBLFlBQ0EsRUFBQSxVQUdBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUNBLEVBQUEsR0FBQSxVQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsS0FBQSxJQUNBLFlBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxLQUFBLEVBSUEsR0FBQSxJQUFBLElBQUEsS0FBQSxFQUFBLEdBQ0EsR0FBQSxFQUFBLEtBQUEsR0FBQSxHQUFBLElBQUEsQ0FRQSxLQUFBLEdBTEEsR0FBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLElBRUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsR0FBQSxDQUVBLEdBQUEsR0FBQSxFQUNBLEVBQUEsRUFDQSxFQUFBLEVBQ0EsRUFBQSxDQUVBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsWUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLFlBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxXQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsYUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLFlBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxZQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsYUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLFdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxZQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsYUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLFFBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxhQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsWUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLFdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxhQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsWUFFQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLFlBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxhQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsV0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLFlBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxZQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsVUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLFlBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxZQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsV0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLGFBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxZQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsWUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLGFBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxXQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsWUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLGFBRUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxTQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsYUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLFlBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxXQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsYUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLFlBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxZQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsYUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLFdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxZQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsWUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLFVBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxZQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsWUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLFdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxZQUVBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsWUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLFlBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxhQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsV0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLFlBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxhQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsVUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLGFBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxZQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsV0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLGFBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxZQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsWUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLGFBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxXQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsWUFFQSxFQUFBLEVBQUEsSUFBQSxFQUNBLEVBQUEsRUFBQSxJQUFBLEVBQ0EsRUFBQSxFQUFBLElBQUEsRUFDQSxFQUFBLEVBQUEsSUFBQSxFQUdBLE1BQUEsR0FBQSxRQUFBLEVBQUEsRUFBQSxFQUFBLElBSUEsR0FBQSxJQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLElBQUEsR0FBQSxDQUNBLFFBQUEsR0FBQSxFQUFBLElBQUEsR0FBQSxHQUFBLEdBRUEsRUFBQSxJQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxJQUFBLElBQUEsR0FBQSxDQUNBLFFBQUEsR0FBQSxFQUFBLElBQUEsR0FBQSxHQUFBLEdBRUEsRUFBQSxJQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxJQUFBLEdBQUEsQ0FDQSxRQUFBLEdBQUEsRUFBQSxJQUFBLEdBQUEsR0FBQSxHQUVBLEVBQUEsSUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsSUFBQSxHQUFBLENBQ0EsUUFBQSxHQUFBLEVBQUEsSUFBQSxHQUFBLEdBQUEsR0FJQSxFQUFBLFdBQUEsR0FDQSxFQUFBLFlBQUEsR0FFQSxFQUFBLFFBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxtQkFBQSxHQUFBLENBR0EsR0FBQSxHQUFBLEVBQUEsYUFBQSxFQUFBLEVBQUEsR0FDQSxPQUFBLElBQUEsRUFBQSxRQUFBLEVBQ0EsR0FBQSxFQUFBLFNBQUEsRUFBQSxjQUFBLEdBQ0EsRUFBQSxXQUFBLFVBS0EsS0FBQSxLQUFBLEVBQUEsVUFBQSxVQUNBLE9BQUEsRUFBQSxRQUFBLEVBQUEsTUFBQSxJQUFBLEdBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxJQUVBLE1BRUEsY0FBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLElBQUEsY0FBQSxTQUFBLG1CQUFBLE1BSUEsY0FBQSxTQUFBLEdBQ0EsTUFBQSxvQkFBQSxPQUFBLEVBQUEsSUFBQSxjQUFBLE9BS0EsS0FFQSxjQUFBLFNBQUEsR0FDQSxJQUFBLEdBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFDQSxFQUFBLEtBQUEsSUFBQSxFQUFBLFdBQUEsR0FDQSxPQUFBLElBSUEsY0FBQSxTQUFBLEdBQ0EsSUFBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQ0EsRUFBQSxLQUFBLE9BQUEsYUFBQSxFQUFBLElBQ0EsT0FBQSxHQUFBLEtBQUEsTUFLQSxHQUFBLFFBQUEsT0FFQSxHQUFBLFNBQUEsRUFBQSxJQUNBLFdBQ0EsR0FBQSxHQUNBLG1FQUVBLEdBRUEsS0FBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLElBQUEsRUFBQSxJQUFBLEdBQUEsR0FJQSxLQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsSUFBQSxHQUFBLEVBQUEsSUFBQSxHQUlBLE9BQUEsU0FBQSxHQUVBLEdBQUEsRUFBQSxhQUFBLE9BQ0EsTUFBQSxVQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsV0FBQSxFQUFBLEtBQUEsRUFBQSxHQUlBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFDQSxFQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsR0FDQSxPQUFBLElBSUEsWUFBQSxTQUFBLEdBQ0EsSUFBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxLQUFBLEtBQUEsTUFBQSxJQUFBLEtBQUEsVUFDQSxPQUFBLElBSUEsYUFBQSxTQUFBLEdBQ0EsSUFBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEdBQUEsRUFDQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsR0FBQSxFQUFBLEVBQ0EsT0FBQSxJQUlBLGFBQUEsU0FBQSxHQUNBLElBQUEsR0FBQSxNQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxPQUFBLEdBQUEsRUFDQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEtBQUEsR0FBQSxFQUFBLEdBQUEsSUFDQSxPQUFBLElBSUEsV0FBQSxTQUFBLEdBQ0EsSUFBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQ0EsRUFBQSxNQUFBLEVBQUEsS0FBQSxHQUFBLFNBQUEsS0FDQSxFQUFBLE1BQUEsR0FBQSxFQUFBLElBQUEsU0FBQSxJQUVBLE9BQUEsR0FBQSxLQUFBLEtBSUEsV0FBQSxTQUFBLEdBQ0EsSUFBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEdBQUEsRUFDQSxFQUFBLEtBQUEsU0FBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLElBQ0EsT0FBQSxJQUlBLGNBQUEsU0FBQSxHQUNBLElBQUEsR0FBQSxNQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLEVBRUEsSUFBQSxHQURBLEdBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBRUEsRUFBQSxLQURBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLE9BQ0EsRUFBQSxPQUFBLElBQUEsR0FBQSxFQUFBLEdBQUEsSUFFQSxJQUVBO01BQUEsR0FBQSxLQUFBLEtBSUEsY0FBQSxTQUFBLEdBRUEsRUFBQSxFQUFBLFFBQUEsaUJBQUEsR0FFQSxLQUFBLEdBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUNBLElBQUEsRUFBQSxFQUNBLEdBQUEsR0FDQSxFQUFBLE1BQUEsRUFBQSxRQUFBLEVBQUEsT0FBQSxFQUFBLElBQ0EsS0FBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEVBQ0EsRUFBQSxRQUFBLEVBQUEsT0FBQSxNQUFBLEVBQUEsRUFBQSxFQUVBLE9BQUEsSUFJQSxHQUFBLFFBQUEsVUFHQSxHQUFBLFNBQUEsRUFBQSxFQUFBLEdBK0RBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxLQUFBLGVBQUEsSUFDQSxNQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsRUFFQSxJQUdBLEdBSEEsUUFBQSxFQUlBLElBQUEsV0FBQSxFQUNBLEVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxNQUNBLElBQUEsV0FBQSxFQUNBLFdBQUEsSUFDQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsV0FBQSxFQUFBLE9BQ0EsQ0FBQSxHQUFBLFdBQUEsR0FBQSxPQUFBLEVBS0EsS0FBQSxJQUFBLE9BQUEsd0RBSkEsWUFBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLFFBQ0EsRUFBQSxFQUFBLE1BQ0EsR0FBQSxFQUFBLE9BQUEsRUFBQSxLQUFBLE9BQUEsRUFBQSxRQUFBLEVBSUEsR0FBQSxFQUNBLEdBRUEsRUFBQSxFQUFBLFNBQUEsR0FBQSxZQUFBLEtBR0EsRUFBQSxLQUNBLEVBQUEsT0FBQSxFQUNBLEVBQUEsV0FBQSxFQUdBLElBQUEsRUFDQSxJQUFBLEdBQUEsZ0JBQUEsR0FBQSxXQUVBLEVBQUEsS0FBQSxPQUNBLElBQUEsRUFBQSxHQUVBLEdBQUEsRUFBQSxTQUFBLEdBQ0EsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxHQUFBLEVBQUEsVUFBQSxPQUVBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsSUFBQSxFQUFBLEdBQUEsSUFBQSxLQUFBLFFBRUEsSUFBQSxXQUFBLEVBQ0EsRUFBQSxNQUFBLEVBQUEsRUFBQSxPQUNBLElBQUEsV0FBQSxJQUFBLElBQUEsRUFDQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEdBQUEsQ0FJQSxPQUFBLEdBNEdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsT0FBQSxJQUFBLENBQ0EsSUFBQSxHQUFBLEVBQUEsT0FBQSxDQUNBLElBR0EsRUFBQSxPQUFBLEdBQ0EsRUFBQSxJQUNBLEVBQUEsSUFKQSxFQUFBLENBU0EsSUFBQSxHQUFBLEVBQUEsTUFDQSxHQUFBLEVBQUEsSUFBQSxFQUFBLHNCQUVBLEVBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxFQUVBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsQ0FDQSxHQUFBLEdBQUEsU0FBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEdBQUEsR0FDQSxJQUFBLE1BQUEsR0FBQSxzQkFDQSxFQUFBLEVBQUEsR0FBQSxFQUVBLE1BQUEsR0FHQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQ0EsT0FBQSxHQUdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFDQSxPQUFBLEdBR0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBR0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUNBLE9BQUEsR0FHQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQ0EsT0FBQSxHQTBKQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsTUFDQSxHQUFBLGNBREEsSUFBQSxHQUFBLElBQUEsRUFBQSxPQUNBLEVBRUEsRUFBQSxNQUFBLEVBQUEsSUFJQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQ0EsRUFBQSxFQUNBLEdBQUEsS0FBQSxJQUFBLEVBQUEsT0FBQSxFQUVBLEtBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxJQUFBLEtBQ0EsR0FBQSxFQUFBLEdBQUEsT0FBQSxhQUFBLEVBQUEsSUFDQSxFQUFBLElBRUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxTQUFBLEdBSUEsT0FBQSxHQUFBLEVBQUEsR0FHQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQ0EsR0FBQSxLQUFBLElBQUEsRUFBQSxPQUFBLEVBRUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsSUFDQSxHQUFBLE9BQUEsYUFBQSxFQUFBLEdBRUEsT0FBQSxHQUdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsRUFBQSxFQUFBLEdBR0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFNBRUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxLQUNBLEdBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEVBR0EsS0FBQSxHQURBLEdBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQ0EsR0FBQSxFQUFBLEVBQUEsR0FFQSxPQUFBLEdBR0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUdBLElBQUEsR0FGQSxHQUFBLEVBQUEsTUFBQSxFQUFBLEdBQ0EsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLEVBQ0EsR0FBQSxPQUFBLGFBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxFQUFBLEdBRUEsT0FBQSxHQStEQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxJQUNBLEVBQUEsaUJBQUEsR0FBQSw2QkFDQSxFQUFBLFNBQUEsR0FBQSxPQUFBLEVBQUEsa0JBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLHVDQUdBLElBQUEsR0FBQSxFQUFBLE1BQ0EsTUFBQSxHQUFBLEdBQUEsQ0FHQSxHQUFBLEVBVUEsT0FUQSxJQUNBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxJQUNBLEdBQUEsRUFBQSxFQUFBLElBQUEsS0FFQSxFQUFBLEVBQUEsSUFBQSxFQUNBLEVBQUEsRUFBQSxJQUNBLEdBQUEsRUFBQSxFQUFBLEtBRUEsR0FXQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxJQUNBLEVBQUEsaUJBQUEsR0FBQSw2QkFDQSxFQUFBLFNBQUEsR0FBQSxPQUFBLEVBQUEsa0JBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLHVDQUdBLElBQUEsR0FBQSxFQUFBLE1BQ0EsTUFBQSxHQUFBLEdBQUEsQ0FHQSxHQUFBLEVBa0JBLE9BakJBLElBQ0EsRUFBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLEVBQUEsSUFBQSxJQUNBLEVBQUEsRUFBQSxJQUNBLEdBQUEsRUFBQSxFQUFBLElBQUEsR0FDQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsSUFDQSxHQUFBLEVBQUEsRUFBQSxJQUFBLEtBQUEsS0FFQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsRUFBQSxJQUFBLElBQ0EsRUFBQSxFQUFBLElBQ0EsR0FBQSxFQUFBLEVBQUEsSUFBQSxHQUNBLEVBQUEsRUFBQSxJQUNBLEdBQUEsRUFBQSxFQUFBLElBQ0EsR0FBQSxFQUFBLElBQUEsS0FBQSxHQUVBLEdBNEJBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLElBQ0EsRUFBQSxpQkFBQSxHQUFBLDZCQUNBLEVBQUEsU0FBQSxHQUFBLE9BQUEsRUFBQSxrQkFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsdUNBR0EsSUFBQSxHQUFBLEVBQUEsTUFDQSxNQUFBLEdBQUEsR0FBQSxDQUdBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQ0EsRUFBQSxNQUFBLENBQ0EsT0FBQSxHQUNBLElBQUEsTUFBQSxFQUFBLEdBRUEsR0FXQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxJQUNBLEVBQUEsaUJBQUEsR0FBQSw2QkFDQSxFQUFBLFNBQUEsR0FBQSxPQUFBLEVBQUEsa0JBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLHVDQUdBLElBQUEsR0FBQSxFQUFBLE1BQ0EsTUFBQSxHQUFBLEdBQUEsQ0FHQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUNBLEVBQUEsV0FBQSxDQUNBLE9BQUEsR0FDQSxJQUFBLFdBQUEsRUFBQSxHQUVBLEdBV0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBTUEsTUFMQSxLQUNBLEVBQUEsaUJBQUEsR0FBQSw2QkFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsd0NBR0EsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FXQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FNQSxNQUxBLEtBQ0EsRUFBQSxpQkFBQSxHQUFBLDZCQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSx3Q0FHQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQXlCQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLElBQ0EsRUFBQSxTQUFBLEdBQUEsT0FBQSxFQUFBLGlCQUNBLEVBQUEsaUJBQUEsR0FBQSw2QkFDQSxFQUFBLFNBQUEsR0FBQSxPQUFBLEVBQUEsa0JBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLHdDQUNBLEVBQUEsRUFBQSxPQUdBLElBQUEsR0FBQSxFQUFBLE1BQ0EsTUFBQSxHQUFBLEdBQUEsQ0FHQSxJQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsRUFBQSxJQUNBLEVBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE1BQ0EsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUVBLE9BQUEsR0FBQSxHQVdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsSUFDQSxFQUFBLFNBQUEsR0FBQSxPQUFBLEVBQUEsaUJBQ0EsRUFBQSxpQkFBQSxHQUFBLDZCQUNBLEVBQUEsU0FBQSxHQUFBLE9BQUEsRUFBQSxrQkFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsd0NBQ0EsRUFBQSxFQUFBLFlBR0EsSUFBQSxHQUFBLEVBQUEsTUFDQSxNQUFBLEdBQUEsR0FBQSxDQUdBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLElBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLEdBQ0EsSUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FFQSxPQUFBLEdBQUEsR0E2QkEsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxJQUNBLEVBQUEsU0FBQSxHQUFBLE9BQUEsRUFBQSxpQkFDQSxFQUFBLGlCQUFBLEdBQUEsNkJBQ0EsRUFBQSxTQUFBLEdBQUEsT0FBQSxFQUFBLGtCQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSx3Q0FDQSxFQUFBLEVBQUEsTUFBQSxRQUdBLElBQUEsR0FBQSxFQUFBLE1BQ0EsTUFBQSxHQUFBLEdBT0EsTUFKQSxJQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBRUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFXQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLElBQ0EsRUFBQSxTQUFBLEdBQUEsT0FBQSxFQUFBLGlCQUNBLEVBQUEsaUJBQUEsR0FBQSw2QkFDQSxFQUFBLFNBQUEsR0FBQSxPQUFBLEVBQUEsa0JBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLHdDQUNBLEVBQUEsRUFBQSxXQUFBLGFBR0EsSUFBQSxHQUFBLEVBQUEsTUFDQSxNQUFBLEdBQUEsR0FPQSxNQUpBLElBQUEsRUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FFQSxFQUFBLEVBQUEsV0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQVdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsSUFDQSxFQUFBLFNBQUEsR0FBQSxPQUFBLEVBQUEsaUJBQ0EsRUFBQSxpQkFBQSxHQUFBLDZCQUNBLEVBQUEsU0FBQSxHQUFBLE9BQUEsRUFBQSxrQkFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsd0NBQ0EsRUFBQSxFQUFBLHNCQUFBLHdCQUdBLElBQUEsR0FBQSxFQUFBLE1BQ0EsTUFBQSxHQUFBLEdBSUEsTUFEQSxHQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQ0EsRUFBQSxFQVdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsSUFDQSxFQUFBLFNBQUEsR0FBQSxPQUFBLEVBQUEsaUJBQ0EsRUFBQSxpQkFBQSxHQUFBLDZCQUNBLEVBQUEsU0FBQSxHQUFBLE9BQUEsRUFBQSxrQkFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQ0Esd0NBQ0EsRUFBQSxFQUFBLHVCQUFBLHlCQUdBLElBQUEsR0FBQSxFQUFBLE1BQ0EsTUFBQSxHQUFBLEdBSUEsTUFEQSxHQUFBLE1BQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQ0EsRUFBQSxFQTJJQSxRQUFBLEdBQUEsR0FJQSxJQUZBLEVBQUEsRUFBQSxHQUFBLFFBQUEsRUFBQSxJQUVBLEVBQUEsT0FBQSxJQUFBLEdBQ0EsR0FBQSxHQUVBLE9BQUEsR0FHQSxRQUFBLEdBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxFQUFBLE9BQ0EsRUFBQSxRQUFBLGFBQUEsSUFHQSxRQUFBLEdBQUEsR0FDQSxPQUFBLE1BQUEsU0FBQSxTQUFBLEdBQ0EsTUFBQSxtQkFBQSxPQUFBLFVBQUEsU0FBQSxLQUFBLEtBQ0EsR0FHQSxRQUFBLEdBQUEsR0FDQSxNQUFBLEdBQUEsSUFBQSxFQUFBLFNBQUEsSUFDQSxHQUFBLGdCQUFBLElBQ0EsZ0JBQUEsR0FBQSxPQUdBLFFBQUEsR0FBQSxHQUNBLE1BQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxTQUFBLElBQ0EsRUFBQSxTQUFBLElBR0EsUUFBQSxHQUFBLEdBRUEsSUFBQSxHQURBLE1BQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxXQUFBLEVBQ0EsSUFBQSxLQUFBLEVBQ0EsRUFBQSxLQUFBLE9BQ0EsQ0FDQSxHQUFBLEdBQUEsQ0FDQSxJQUFBLE9BQUEsT0FBQSxHQUFBLEdBRUEsS0FBQSxHQURBLEdBQUEsbUJBQUEsRUFBQSxNQUFBLEVBQUEsRUFBQSxJQUFBLE9BQUEsR0FBQSxNQUFBLEtBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBQ0EsRUFBQSxLQUFBLFNBQUEsRUFBQSxHQUFBLE1BSUEsTUFBQSxHQUdBLFFBQUEsR0FBQSxHQUVBLElBQUEsR0FEQSxNQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUVBLEVBQUEsS0FBQSxJQUFBLEVBQUEsV0FBQSxHQUVBLE9BQUEsR0FHQSxRQUFBLEdBQUEsR0FHQSxJQUFBLEdBRkEsR0FBQSxFQUFBLEVBQ0EsS0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFDQSxFQUFBLEVBQUEsV0FBQSxHQUNBLEVBQUEsR0FBQSxFQUNBLEVBQUEsRUFBQSxJQUNBLEVBQUEsS0FBQSxHQUNBLEVBQUEsS0FBQSxFQUdBLE9BQUEsR0FHQSxRQUFBLEdBQUEsR0FDQSxNQUFBLEdBQUEsWUFBQSxHQUdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxLQUNBLEVBQUEsR0FBQSxFQUFBLFFBQUEsR0FBQSxFQUFBLFFBREEsSUFHQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBRUEsT0FBQSxHQUdBLFFBQUEsR0FBQSxHQUNBLElBQ0EsTUFBQSxvQkFBQSxHQUNBLE1BQUEsR0FDQSxNQUFBLFFBQUEsYUFBQSxRQVNBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxnQkFBQSxHQUFBLHlDQUNBLEVBQUEsR0FBQSxFQUFBLDREQUNBLEVBQUEsR0FBQSxFQUFBLCtDQUNBLEVBQUEsS0FBQSxNQUFBLEtBQUEsRUFBQSxvQ0FHQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxnQkFBQSxHQUFBLHlDQUNBLEVBQUEsR0FBQSxFQUFBLDJDQUNBLEVBQUEsR0FBQSxFQUFBLDRDQUNBLEVBQUEsS0FBQSxNQUFBLEtBQUEsRUFBQSxvQ0FHQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxnQkFBQSxHQUFBLHlDQUNBLEVBQUEsR0FBQSxFQUFBLDJDQUNBLEVBQUEsR0FBQSxFQUFBLDRDQUdBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsSUFBQSxFQUFBLEtBQUEsSUFBQSxPQUFBLEdBQUEsb0JBeG9DQSxHQUFBLEdBQUEsRUFBQSxhQUNBLEVBQUEsRUFBQSxVQUVBLEdBQUEsT0FBQSxFQUNBLEVBQUEsV0FBQSxFQUNBLEVBQUEsa0JBQUEsR0FDQSxFQUFBLFNBQUEsSUF3QkEsSUFBQSxHQUFBLFdBQ0EsSUFDQSxHQUFBLEdBQUEsR0FBQSxhQUFBLEdBQ0EsRUFBQSxHQUFBLFlBQUEsRUFFQSxPQURBLEdBQUEsSUFBQSxXQUFBLE1BQUEsS0FDQSxLQUFBLEVBQUEsT0FDQSxrQkFBQSxHQUFBLFVBQ0EsSUFBQSxHQUFBLFlBQUEsR0FBQSxTQUFBLEVBQUEsR0FBQSxXQUNBLE1BQUEsR0FDQSxPQUFBLEtBMkVBLEdBQUEsV0FBQSxTQUFBLEdBQ0EsT0FBQSxPQUFBLEdBQUEsZUFDQSxJQUFBLE1BQ0EsSUFBQSxPQUNBLElBQUEsUUFDQSxJQUFBLFFBQ0EsSUFBQSxTQUNBLElBQUEsU0FDQSxJQUFBLE1BQ0EsSUFBQSxPQUNBLElBQUEsUUFDQSxJQUFBLFVBQ0EsSUFBQSxXQUNBLE9BQUEsQ0FDQSxTQUNBLE9BQUEsSUFJQSxFQUFBLFNBQUEsU0FBQSxHQUNBLFFBQUEsTUFBQSxJQUFBLEVBQUEsWUFHQSxFQUFBLFdBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxFQUVBLFFBREEsRUFBQSxFQUFBLFdBQ0EsR0FBQSxRQUNBLElBQUEsTUFDQSxFQUFBLEVBQUEsT0FBQSxDQUNBLE1BQ0EsS0FBQSxPQUNBLElBQUEsUUFDQSxFQUFBLEVBQUEsR0FBQSxNQUNBLE1BQ0EsS0FBQSxRQUNBLElBQUEsU0FDQSxJQUFBLE1BQ0EsRUFBQSxFQUFBLE1BQ0EsTUFDQSxLQUFBLFNBQ0EsRUFBQSxFQUFBLEdBQUEsTUFDQSxNQUNBLEtBQUEsT0FDQSxJQUFBLFFBQ0EsSUFBQSxVQUNBLElBQUEsV0FDQSxFQUFBLEVBQUEsRUFBQSxNQUNBLE1BQ0EsU0FDQSxLQUFBLElBQUEsT0FBQSxvQkFFQSxNQUFBLElBR0EsRUFBQSxPQUFBLFNBQUEsRUFBQSxHQUdBLEdBRkEsRUFBQSxFQUFBLEdBQUEsd0NBRUEsSUFBQSxFQUFBLE9BQ0EsTUFBQSxJQUFBLEdBQUEsRUFDQSxJQUFBLElBQUEsRUFBQSxPQUNBLE1BQUEsR0FBQSxFQUdBLElBQUEsRUFDQSxJQUFBLFNBQUEsRUFFQSxJQURBLEVBQUEsRUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFDQSxHQUFBLEVBQUEsR0FBQSxNQUlBLElBQUEsR0FBQSxHQUFBLEdBQUEsR0FDQSxFQUFBLENBQ0EsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsR0FBQSxLQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsT0FFQSxNQUFBLElBR0EsRUFBQSxRQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxTQUFBLElBQUEsRUFBQSxTQUFBLEdBQUEsNEJBR0EsS0FBQSxHQUZBLEdBQUEsRUFBQSxPQUNBLEVBQUEsRUFBQSxPQUNBLEVBQUEsRUFBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsS0FLQSxNQUpBLEtBQUEsSUFDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsSUFFQSxFQUFBLEVBQ0EsR0FFQSxFQUFBLEVBQ0EsRUFFQSxHQXlEQSxFQUFBLFVBQUEsTUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBR0EsR0FBQSxTQUFBLEdBQ0EsU0FBQSxLQUNBLEVBQUEsRUFDQSxFQUFBLFlBRUEsQ0FDQSxHQUFBLEdBQUEsQ0FDQSxHQUFBLEVBQ0EsRUFBQSxFQUNBLEVBQUEsRUFHQSxFQUFBLE9BQUEsSUFBQSxDQUNBLElBQUEsR0FBQSxLQUFBLE9BQUEsQ0FDQSxJQUdBLEVBQUEsT0FBQSxHQUNBLEVBQUEsSUFDQSxFQUFBLElBSkEsRUFBQSxFQU9BLEVBQUEsT0FBQSxHQUFBLFFBQUEsYUFFQSxJQUFBLEVBQ0EsUUFBQSxHQUNBLElBQUEsTUFDQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFDQSxNQUNBLEtBQUEsT0FDQSxJQUFBLFFBQ0EsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQ0EsTUFDQSxLQUFBLFFBQ0EsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQ0EsTUFDQSxLQUFBLFNBQ0EsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQ0EsTUFDQSxLQUFBLFNBQ0EsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQ0EsTUFDQSxLQUFBLE9BQ0EsSUFBQSxRQUNBLElBQUEsVUFDQSxJQUFBLFdBQ0EsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQ0EsTUFDQSxTQUNBLEtBQUEsSUFBQSxPQUFBLG9CQUVBLE1BQUEsSUFHQSxFQUFBLFVBQUEsU0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxJQU9BLElBTEEsRUFBQSxPQUFBLEdBQUEsUUFBQSxjQUNBLEVBQUEsT0FBQSxJQUFBLEVBQ0EsRUFBQSxTQUFBLEVBQUEsRUFBQSxPQUFBLE9BQUEsR0FHQSxJQUFBLEVBQ0EsTUFBQSxFQUVBLElBQUEsRUFDQSxRQUFBLEdBQ0EsSUFBQSxNQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFDQSxNQUNBLEtBQUEsT0FDQSxJQUFBLFFBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUNBLE1BQ0EsS0FBQSxRQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFDQSxNQUNBLEtBQUEsU0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsTUFDQSxLQUFBLFNBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUNBLE1BQ0EsS0FBQSxPQUNBLElBQUEsUUFDQSxJQUFBLFVBQ0EsSUFBQSxXQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFDQSxNQUNBLFNBQ0EsS0FBQSxJQUFBLE9BQUEsb0JBRUEsTUFBQSxJQUdBLEVBQUEsVUFBQSxPQUFBLFdBQ0EsT0FDQSxLQUFBLFNBQ0EsS0FBQSxNQUFBLFVBQUEsTUFBQSxLQUFBLEtBQUEsTUFBQSxLQUFBLEtBSUEsRUFBQSxVQUFBLE9BQUEsU0FBQSxHQUVBLE1BREEsR0FBQSxFQUFBLFNBQUEsR0FBQSw2QkFDQSxJQUFBLEVBQUEsUUFBQSxLQUFBLElBR0EsRUFBQSxVQUFBLFFBQUEsU0FBQSxHQUVBLE1BREEsR0FBQSxFQUFBLFNBQUEsR0FBQSw2QkFDQSxFQUFBLFFBQUEsS0FBQSxJQUlBLEVBQUEsVUFBQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsSUFPQSxJQUxBLElBQUEsRUFBQSxHQUNBLEdBQUEsSUFBQSxJQUFBLEVBQUEsS0FBQSxRQUNBLElBQUEsRUFBQSxHQUdBLElBQUEsR0FDQSxJQUFBLEVBQUEsUUFBQSxJQUFBLEVBQUEsT0FBQSxDQUdBLEVBQUEsR0FBQSxFQUFBLDJCQUNBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxPQUNBLDZCQUNBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxPQUFBLDZCQUNBLEVBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxPQUFBLDJCQUdBLEVBQUEsS0FBQSxTQUNBLEVBQUEsS0FBQSxRQUNBLEVBQUEsT0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEVBRUEsSUFBQSxHQUFBLEVBQUEsQ0FFQSxJQUFBLElBQUEsSUFBQSxFQUNBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLE9BR0EsR0FBQSxLQUFBLEtBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxLQWlFQSxFQUFBLFVBQUEsTUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsS0FBQSxNQXVCQSxJQXRCQSxJQUFBLEVBQ0EsRUFBQSxTQUFBLEVBQUEsSUFBQSxFQUVBLEVBQUEsR0FDQSxHQUFBLEVBQ0EsRUFBQSxJQUNBLEVBQUEsSUFDQSxFQUFBLElBQ0EsRUFBQSxHQUdBLEVBQUEsR0FDQSxHQUFBLEVBQ0EsRUFBQSxJQUNBLEVBQUEsSUFDQSxFQUFBLElBQ0EsRUFBQSxHQUdBLEVBQUEsSUFDQSxFQUFBLEdBRUEsRUFDQSxNQUFBLEdBQUEsU0FBQSxLQUFBLFNBQUEsRUFBQSxHQUlBLEtBQUEsR0FGQSxHQUFBLEVBQUEsRUFDQSxFQUFBLEdBQUEsR0FBQSxFQUFBLFFBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxHQUFBLEtBQUEsRUFBQSxFQUVBLE9BQUEsSUFLQSxFQUFBLFVBQUEsSUFBQSxTQUFBLEdBRUEsTUFEQSxTQUFBLElBQUEsNkRBQ0EsS0FBQSxVQUFBLElBSUEsRUFBQSxVQUFBLElBQUEsU0FBQSxFQUFBLEdBRUEsTUFEQSxTQUFBLElBQUEsNkRBQ0EsS0FBQSxXQUFBLEVBQUEsSUFHQSxFQUFBLFVBQUEsVUFBQSxTQUFBLEVBQUEsR0FNQSxNQUxBLEtBQ0EsRUFBQSxTQUFBLEdBQUEsT0FBQSxFQUFBLGtCQUNBLEVBQUEsRUFBQSxLQUFBLE9BQUEsd0NBR0EsR0FBQSxLQUFBLE9BQUEsT0FHQSxLQUFBLElBMkJBLEVBQUEsVUFBQSxhQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxJQUdBLEVBQUEsVUFBQSxhQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxJQW1DQSxFQUFBLFVBQUEsYUFBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsSUFHQSxFQUFBLFVBQUEsYUFBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsSUFHQSxFQUFBLFVBQUEsU0FBQSxTQUFBLEVBQUEsR0FPQSxHQU5BLElBQ0EsRUFBQSxTQUFBLEdBQUEsT0FBQSxFQUNBLGtCQUNBLEVBQUEsRUFBQSxLQUFBLE9BQUEsMENBR0EsR0FBQSxLQUFBLFFBQUEsQ0FHQSxHQUFBLEdBQUEsSUFBQSxLQUFBLEVBQ0EsT0FBQSxHQUNBLElBQUEsSUFBQSxLQUFBLEdBQUEsR0FFQSxLQUFBLEtBc0JBLEVBQUEsVUFBQSxZQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxJQUdBLEVBQUEsVUFBQSxZQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxJQXNCQSxFQUFBLFVBQUEsWUFBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsSUFHQSxFQUFBLFVBQUEsWUFBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsSUFZQSxFQUFBLFVBQUEsWUFBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsSUFHQSxFQUFBLFVBQUEsWUFBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsSUFZQSxFQUFBLFVBQUEsYUFBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsSUFHQSxFQUFBLFVBQUEsYUFBQSxTQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsSUFHQSxFQUFBLFVBQUEsV0FBQSxTQUFBLEVBQUEsRUFBQSxHQVFBLE1BUEEsS0FDQSxFQUFBLFNBQUEsR0FBQSxPQUFBLEVBQUEsaUJBQ0EsRUFBQSxTQUFBLEdBQUEsT0FBQSxFQUFBLGtCQUNBLEVBQUEsRUFBQSxLQUFBLE9BQUEsd0NBQ0EsRUFBQSxFQUFBLE1BR0EsR0FBQSxLQUFBLE9BQUEsUUFFQSxLQUFBLEdBQUEsRUFDQSxFQUFBLElBd0JBLEVBQUEsVUFBQSxjQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsSUFHQSxFQUFBLFVBQUEsY0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLElBdUJBLEVBQUEsVUFBQSxjQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsSUFHQSxFQUFBLFVBQUEsY0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLElBR0EsRUFBQSxVQUFBLFVBQUEsU0FBQSxFQUFBLEVBQUEsR0FRQSxNQVBBLEtBQ0EsRUFBQSxTQUFBLEdBQUEsT0FBQSxFQUFBLGlCQUNBLEVBQUEsU0FBQSxHQUFBLE9BQUEsRUFBQSxrQkFDQSxFQUFBLEVBQUEsS0FBQSxPQUFBLHdDQUNBLEVBQUEsRUFBQSxJQUFBLE9BR0EsR0FBQSxLQUFBLE9BQUEsUUFHQSxHQUFBLEVBQ0EsS0FBQSxXQUFBLEVBQUEsRUFBQSxHQUVBLEtBQUEsV0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxJQXVCQSxFQUFBLFVBQUEsYUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLElBR0EsRUFBQSxVQUFBLGFBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxJQXVCQSxFQUFBLFVBQUEsYUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLElBR0EsRUFBQSxVQUFBLGFBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxJQW9CQSxFQUFBLFVBQUEsYUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLElBR0EsRUFBQSxVQUFBLGFBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxJQXFCQSxFQUFBLFVBQUEsY0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLElBR0EsRUFBQSxVQUFBLGNBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxJQUlBLEVBQUEsVUFBQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBUUEsR0FQQSxJQUFBLEVBQUEsR0FDQSxJQUFBLEVBQUEsR0FDQSxJQUFBLEVBQUEsS0FBQSxRQUVBLEVBQUEsR0FBQSxFQUFBLGVBR0EsSUFBQSxHQUNBLElBQUEsS0FBQSxPQUFBLENBRUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLE9BQUEsdUJBQ0EsRUFBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLE9BQUEsb0JBRUEsSUFBQSxFQUNBLElBQUEsZ0JBQUEsR0FDQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFDQSxLQUFBLEdBQUEsTUFFQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsWUFDQSxFQUFBLEVBQUEsTUFDQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFDQSxLQUFBLEdBQUEsRUFBQSxFQUFBLEdBSUEsTUFBQSxRQUdBLEVBQUEsVUFBQSxRQUFBLFdBR0EsSUFBQSxHQUZBLE1BQ0EsRUFBQSxLQUFBLE9BQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUVBLEdBREEsRUFBQSxHQUFBLEVBQUEsS0FBQSxJQUNBLElBQUEsRUFBQSxrQkFBQSxDQUNBLEVBQUEsRUFBQSxHQUFBLEtBQ0EsT0FHQSxNQUFBLFdBQUEsRUFBQSxLQUFBLEtBQUEsS0FPQSxFQUFBLFVBQUEsY0FBQSxXQUNBLEdBQUEsbUJBQUEsWUFBQSxDQUNBLEdBQUEsRUFDQSxNQUFBLElBQUEsR0FBQSxNQUFBLE1BR0EsS0FBQSxHQURBLEdBQUEsR0FBQSxZQUFBLEtBQUEsUUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEdBQUEsRUFDQSxFQUFBLEdBQUEsS0FBQSxFQUVBLE9BQUEsR0FBQSxPQUdBLEtBQUEsSUFBQSxPQUFBLHNEQU9BLElBQUEsR0FBQSxFQUFBLFNBS0EsR0FBQSxTQUFBLFNBQUEsR0FtREEsTUFsREEsR0FBQSxXQUFBLEVBR0EsRUFBQSxLQUFBLEVBQUEsSUFDQSxFQUFBLEtBQUEsRUFBQSxJQUdBLEVBQUEsSUFBQSxFQUFBLElBQ0EsRUFBQSxJQUFBLEVBQUEsSUFFQSxFQUFBLE1BQUEsRUFBQSxNQUNBLEVBQUEsU0FBQSxFQUFBLFNBQ0EsRUFBQSxlQUFBLEVBQUEsU0FDQSxFQUFBLE9BQUEsRUFBQSxPQUNBLEVBQUEsT0FBQSxFQUFBLE9BQ0EsRUFBQSxRQUFBLEVBQUEsUUFDQSxFQUFBLEtBQUEsRUFBQSxLQUNBLEVBQUEsTUFBQSxFQUFBLE1BQ0EsRUFBQSxVQUFBLEVBQUEsVUFDQSxFQUFBLGFBQUEsRUFBQSxhQUNBLEVBQUEsYUFBQSxFQUFBLGFBQ0EsRUFBQSxhQUFBLEVBQUEsYUFDQSxFQUFBLGFBQUEsRUFBQSxhQUNBLEVBQUEsU0FBQSxFQUFBLFNBQ0EsRUFBQSxZQUFBLEVBQUEsWUFDQSxFQUFBLFlBQUEsRUFBQSxZQUNBLEVBQUEsWUFBQSxFQUFBLFlBQ0EsRUFBQSxZQUFBLEVBQUEsWUFDQSxFQUFBLFlBQUEsRUFBQSxZQUNBLEVBQUEsWUFBQSxFQUFBLFlBQ0EsRUFBQSxhQUFBLEVBQUEsYUFDQSxFQUFBLGFBQUEsRUFBQSxhQUNBLEVBQUEsV0FBQSxFQUFBLFdBQ0EsRUFBQSxjQUFBLEVBQUEsY0FDQSxFQUFBLGNBQUEsRUFBQSxjQUNBLEVBQUEsY0FBQSxFQUFBLGNBQ0EsRUFBQSxjQUFBLEVBQUEsY0FDQSxFQUFBLFVBQUEsRUFBQSxVQUNBLEVBQUEsYUFBQSxFQUFBLGFBQ0EsRUFBQSxhQUFBLEVBQUEsYUFDQSxFQUFBLGFBQUEsRUFBQSxhQUNBLEVBQUEsYUFBQSxFQUFBLGFBQ0EsRUFBQSxhQUFBLEVBQUEsYUFDQSxFQUFBLGFBQUEsRUFBQSxhQUNBLEVBQUEsY0FBQSxFQUFBLGNBQ0EsRUFBQSxjQUFBLEVBQUEsY0FDQSxFQUFBLEtBQUEsRUFBQSxLQUNBLEVBQUEsUUFBQSxFQUFBLFFBQ0EsRUFBQSxjQUFBLEVBQUEsY0FFQSxFQUdBLElBQUEsR0FBQSxrQkE2SEEsWUFBQSxFQUFBLFFBQUEsSUFBQSxHQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLG9FQUVBLFNBQUEsR0FDQSxZQVlBLFNBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFdBQUEsRUFDQSxPQUFBLEtBQUEsRUFDQSxHQUNBLElBQUEsRUFDQSxHQUNBLEVBQUEsRUFDQSxHQUNBLEVBQUEsR0FBQSxFQUNBLEVBQUEsRUFBQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQ0EsRUFBQSxFQUNBLEVBQUEsR0FBQSxFQUNBLEVBQUEsRUFBQSxHQURBLE9BSUEsUUFBQSxHQUFBLEdBdUJBLFFBQUEsR0FBQSxHQUNBLEVBQUEsS0FBQSxFQXZCQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxDQUVBLElBQUEsRUFBQSxPQUFBLEVBQUEsRUFDQSxLQUFBLElBQUEsT0FBQSxpREFRQSxJQUFBLEdBQUEsRUFBQSxNQUNBLEdBQUEsTUFBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsRUFHQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEdBR0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxNQUVBLElBQUEsR0FBQSxDQU1BLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFDQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLElBQ0EsR0FBQSxTQUFBLElBQUEsSUFDQSxHQUFBLE1BQUEsSUFBQSxHQUNBLEVBQUEsSUFBQSxFQVlBLE9BVEEsS0FBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLE9BQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQUEsS0FBQSxFQUNBLEVBQUEsSUFBQSxJQUNBLElBQUEsSUFDQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsRUFDQSxFQUFBLEdBQUEsRUFBQSxLQUNBLEVBQUEsSUFBQSxJQUdBLEVBR0EsUUFBQSxHQUFBLEdBTUEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxHQUFBLE9BQUEsR0FHQSxRQUFBLEdBQUEsR0FDQSxNQUFBLEdBQUEsR0FBQSxHQUFBLElBQUEsRUFBQSxHQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxHQVZBLEdBQUEsR0FHQSxFQUFBLEVBRkEsRUFBQSxFQUFBLE9BQUEsRUFDQSxFQUFBLEVBWUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUNBLEdBQUEsRUFBQSxJQUFBLEtBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsRUFJQSxRQUFBLEdBQ0EsSUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLE9BQUEsR0FDQSxHQUFBLEVBQUEsR0FBQSxHQUNBLEdBQUEsRUFBQSxHQUFBLEVBQUEsSUFDQSxHQUFBLElBQ0EsTUFDQSxLQUFBLEdBQ0EsR0FBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUEsR0FDQSxHQUFBLEVBQUEsR0FBQSxJQUNBLEdBQUEsRUFBQSxHQUFBLEVBQUEsSUFDQSxHQUFBLEVBQUEsR0FBQSxFQUFBLElBQ0EsR0FBQSxJQUlBLE1BQUEsR0E3R0EsR0FBQSxHQUFBLG1CQUFBLFlBQ0EsV0FDQSxNQUVBLEVBQUEsSUFBQSxXQUFBLEdBQ0EsRUFBQSxJQUFBLFdBQUEsR0FDQSxFQUFBLElBQUEsV0FBQSxHQUNBLEVBQUEsSUFBQSxXQUFBLEdBQ0EsRUFBQSxJQUFBLFdBQUEsRUF3R0EsR0FBQSxZQUFBLEVBQ0EsRUFBQSxjQUFBLEdBQ0EsbUJBQUEsR0FBQSxLQUFBLFlBQUEsUUFFQSxHQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFDQSxHQUFBLEdBQUEsR0FBQSxFQUNBLEVBQUEsR0FBQSxFQUNBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLEdBQUEsRUFDQSxFQUFBLEVBQUEsRUFBQSxFQU9BLEtBTEEsR0FBQSxFQUVBLEVBQUEsR0FBQSxJQUFBLEdBQUEsRUFDQSxLQUFBLEVBQ0EsR0FBQSxFQUNBLEVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxHQUtBLElBSEEsRUFBQSxHQUFBLElBQUEsR0FBQSxFQUNBLEtBQUEsRUFDQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEdBRUEsR0FBQSxJQUFBLEVBQ0EsRUFBQSxFQUFBLE1BQ0EsQ0FBQSxHQUFBLElBQUEsRUFDQSxNQUFBLEdBQUEsSUFBQSxLQUFBLEVBQUEsR0FBQSxFQUVBLElBQUEsS0FBQSxJQUFBLEVBQUEsR0FDQSxHQUFBLEVBRUEsT0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLEVBQUEsSUFHQSxFQUFBLE1BQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFDQSxHQUFBLEdBQUEsR0FBQSxFQUNBLEVBQUEsR0FBQSxFQUNBLEVBQUEsS0FBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLEtBQUEsS0FBQSxJQUFBLEVBQUEsS0FBQSxFQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFDQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLENBbUNBLEtBakNBLEVBQUEsS0FBQSxJQUFBLEdBRUEsTUFBQSxJQUFBLE1BQUEsR0FDQSxFQUFBLE1BQUEsR0FBQSxFQUFBLEVBQ0EsRUFBQSxJQUVBLEVBQUEsS0FBQSxNQUFBLEtBQUEsSUFBQSxHQUFBLEtBQUEsS0FDQSxHQUFBLEVBQUEsS0FBQSxJQUFBLEdBQUEsSUFBQSxJQUNBLElBQ0EsR0FBQSxHQUdBLEdBREEsRUFBQSxHQUFBLEVBQ0EsRUFBQSxFQUVBLEVBQUEsS0FBQSxJQUFBLEVBQUEsRUFBQSxHQUVBLEVBQUEsR0FBQSxJQUNBLElBQ0EsR0FBQSxHQUdBLEVBQUEsR0FBQSxHQUNBLEVBQUEsRUFDQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEdBQ0EsR0FBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLElBQUEsRUFBQSxHQUNBLEdBQUEsSUFFQSxFQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEtBQUEsSUFBQSxFQUFBLEdBQ0EsRUFBQSxJQUlBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsSUFBQSxHQUFBLEdBSUEsSUFGQSxFQUFBLEdBQUEsRUFBQSxFQUNBLEdBQUEsRUFDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxHQUVBLEVBQUEsRUFBQSxFQUFBLElBQUEsSUFBQSxRQUdBLEdBQUEsU0FBQSxFQUFBLEVBQUEsSUFDQSxTQUFBLElBVUEsV0FnS0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUlBLElBSEEsR0FBQSxJQUFBLEdBQUEsR0FBQSxFQUNBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFFQSxFQUFBLEdBQ0EsR0FBQSxFQUFBLEtBQUEsRUFDQSxNQUFBLEVBR0EsT0FBQSxHQVlBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxTQUFBLEVBR0EsSUFGQSxFQUFBLEVBQUEsTUFFQSxXQUFBLEdBQUEsTUFBQSxFQUNBLE1BQUEsR0FBQSxHQUFBLEVBQUEsRUFFQSxXQUFBLEdBQUEsVUFBQSxJQUNBLEVBQUEsU0FFQSxJQUFBLEdBQUEsVUFBQSxFQUFBLEVBQUEsRUFBQSxDQUdBLE9BRkEsSUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEdBRUEsVUFBQSxFQUNBLEdBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEdBU0EsUUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQUEsTUFDQSxRQUFBLEVBRUEsSUFBQSxXQUFBLEdBQUEsTUFBQSxFQUNBLEVBQUEsSUFBQSxNQUNBLENBQ0EsVUFBQSxHQUFBLFVBQUEsSUFDQSxFQUFBLFNBRUEsSUFBQSxHQUFBLFVBQUEsRUFBQSxFQUFBLEVBQUEsRUFDQSxFQUFBLEVBQUEsS0FBQSxFQUFBLE1BRUEsV0FBQSxHQUNBLEVBQUEsS0FBQSxFQUFBLFFBQUEsS0FBQSxHQUVBLEVBQUEsSUFBQSxHQWFBLFFBQUEsR0FBQSxHQUNBLE1BQUEsR0FBQSxXQUFBLEdBWUEsUUFBQSxHQUFBLEVBQUEsR0FNQSxJQUxBLEdBQUEsR0FBQSxFQUFBLFNBQ0EsRUFBQSxFQUFBLFNBQ0EsRUFBQSxHQUNBLEVBQUEsRUFBQSxTQUVBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEVBRUEsSUFBQSxJQUFBLEVBQUEsQ0FDQSxHQUFBLEVBQUEsR0FBQSxtQkFBQSxHQUNBLE1BQUEsRUFFQSxJQUFBLEVBQUEsR0FBQSxtQkFBQSxHQUNBLE1BQUEsSUFVQSxNQUFBLEdBQUEsTUFBQSxFQUFBLE1BVUEsUUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLE9BQ0EsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEVBRUEsSUFBQSxHQUFBLGdCQUFBLElBQ0EsR0FBQSxnQkFBQSxJQUFBLEdBQUEsZ0JBQUEsR0FDQSxPQUFBLENBRUEsSUFBQSxHQUFBLEdBQ0EsR0FBQSxTQUFBLEVBQUEsUUFBQSxFQUFBLFFBQUEsRUFBQSxXQUFBLENBRUEsSUFBQSxHQUFBLEdBS0EsS0FKQSxFQUFBLE1BQUEsRUFDQSxFQUFBLE1BQUEsRUFDQSxFQUFBLEtBQUEsSUFFQSxFQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsR0FFQSxPQUFBLEdBV0EsUUFBQSxHQUFBLEdBQ0EsTUFBQSxLQUFBLEVBQUEsR0FTQSxRQUFBLEtBQ0EsTUFBQSxHQUFBLFVBU0EsUUFBQSxLQUNBLE1BQUEsR0FBQSxRQUNBLE1BQUEsS0FDQSxNQUFBLEtBQ0EsU0FBQSxLQUNBLFNBQUEsRUFDQSxNQUFBLEVBQ0EsUUFBQSxFQUNBLE9BQUEsS0FDQSxPQUFBLEtBQ0EsS0FBQSxLQUNBLE9BQUEsS0FDQSxRQUFBLEVBQ0EsV0FBQSxFQUNBLE1BQUEsTUFVQSxRQUFBLEdBQUEsR0FDQSxFQUFBLE9BQUEsRUFDQSxFQUFBLE9BQUEsR0FDQSxFQUFBLEtBQUEsR0FVQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxLQUNBLElBQ0EsRUFBQSxHQUVBLEVBQUEsTUFBQSxFQUFBLE1BQUEsRUFBQSxTQUFBLEVBQUEsT0FBQSxFQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUEsTUFBQSxLQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsS0FBQSxHQWlCQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsSUFBQSxFQUFBLEdBQ0EsbUJBQUEsS0FDQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBTUEsS0FKQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsR0FBQSxFQUNBLEVBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxLQUVBLEVBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBRUEsT0FBQSxHQWNBLFFBQUEsR0FBQSxHQTJKQSxRQUFBLEdBQUEsR0FFQSxNQUFBLElBQUEsZ0JBQUEsS0FBQSxHQUFBLElBQUEsR0FBQSxLQUFBLEVBQUEsZUFDQSxFQUNBLEdBQUEsR0FBQSxHQVdBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsS0FBQSxZQUFBLEVBQ0EsS0FBQSxZQUFBLEVBc0dBLFFBQUEsR0FBQSxHQUtBLFFBQUEsS0FHQSxHQUFBLEVBQUEsQ0FJQSxHQUFBLEdBQUEsRUFBQSxFQUNBLElBQUEsTUFBQSxFQUFBLFdBSUEsR0FBQSxlQUFBLEdBQUEsQ0FFQSxHQUFBLEdBQUEsRUFBQSxFQUFBLFdBQ0EsRUFBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLFVBQ0EsT0FBQSxJQUFBLEdBQUEsRUFBQSxFQUVBLE1BQUEsR0FBQSxNQUFBLEVBQUEsR0FBQSxXQXRCQSxHQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQXVCQSxPQURBLElBQUEsRUFBQSxHQUNBLEVBZUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLElBQUEsbUJBQUEsR0FDQSxNQUFBLEdBSUEsR0FBQSxHQUFBLEdBQUEsRUFDQSxLQUFBLEVBcUJBLE1BQUEsRUFwQkEsSUFBQSxHQUFBLEdBQUEsS0FBQSxFQUNBLEtBQUEsRUFBQSxHQUNBLE1BQUEsRUFFQSxJQUFBLEdBQUEsR0FBQSxFQUNBLFFBQUEsR0FDQSxJQUFBLEdBQ0EsSUFBQSxHQUNBLE1BQUEsSUFBQSxJQUFBLEVBRUEsS0FBQSxHQUNBLElBQUEsR0FDQSxNQUFBLElBQUEsR0FBQSxFQUVBLEtBQUEsR0FHQSxNQUZBLEdBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxLQUFBLElBQ0EsRUFBQSxVQUFBLEVBQUEsVUFDQSxFQUtBLEdBQUEsR0FBQSxHQUFBLEVBQ0EsSUFBQSxFQUFBLENBRUEsR0FBQSxJQUFBLENBQ0EsS0FBQSxFQUFBLEtBQ0EsSUFBQSxFQUFBLElBR0EsS0FEQSxHQUFBLEdBQUEsRUFBQSxPQUNBLEtBQ0EsR0FBQSxFQUFBLElBQUEsRUFDQSxNQUFBLEdBQUEsRUFHQSxHQUFBLEVBQUEsRUFBQSxFQUFBLGVBR0EsR0FBQSxFQUFBLEVBQUEsR0FBQSxNQUFBLEVBWUEsT0FUQSxLQUNBLEdBQUEsS0FBQSxFQUFBLFdBQ0EsRUFBQSxNQUFBLEVBQUEsT0FFQSxHQUFBLEtBQUEsRUFBQSxXQUNBLEVBQUEsTUFBQSxFQUFBLFFBSUEsR0FLQSxFQUFBLEtBQUEsR0FDQSxFQUFBLEtBQUEsSUFHQSxFQUFBLEdBQUEsSUFBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsS0FHQSxJQUNBLEVBQUEsR0FDQSxFQUFBLElBRUEsR0FoQkEsRUEyQkEsUUFBQSxHQUFBLEdBQ0EsTUFBQSxJQUFBLEdBQUEsR0FBQSxNQTJCQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxrQkFBQSxHQUNBLE1BQUEsR0FHQSxJQUFBLG1CQUFBLE1BQUEsYUFBQSxJQUNBLE1BQUEsRUFFQSxJQUFBLEdBQUEsRUFBQSxZQUNBLElBQUEsbUJBQUEsS0FDQSxHQUFBLFlBQ0EsR0FBQSxFQUFBLE1BRUEsRUFBQSxJQUFBLEdBQUEsWUFDQSxHQUFBLENBQ0EsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUNBLElBQUEsWUFDQSxHQUFBLEVBQUEsS0FBQSxJQUVBLElBRUEsRUFBQSxFQUFBLEtBQUEsR0FDQSxHQUFBLEVBQUEsSUFLQSxHQUFBLEtBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxFQUVBLFFBQUEsR0FDQSxJQUFBLEdBQUEsTUFBQSxVQUFBLEdBQ0EsTUFBQSxHQUFBLEtBQUEsRUFBQSxHQUVBLEtBQUEsR0FBQSxNQUFBLFVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxHQUVBLEtBQUEsR0FBQSxNQUFBLFVBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsR0FFQSxLQUFBLEdBQUEsTUFBQSxVQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUdBLE1BQUEsSUFBQSxFQUFBLEdBV0EsUUFBQSxHQUFBLEdBY0EsUUFBQSxLQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsSUFDQSxJQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLElBQUEsTUFBQSxFQUFBLFdBRUEsSUFBQSxHQUFBLEtBQ0EsSUFBQSxFQUFBLEVBQUEsWUFDQSxHQUNBLEdBQUEsTUFBQSxFQUFBLEdBRUEsR0FBQSxFQUFBLE9BQUEsR0FFQSxNQURBLElBQUEsR0FDQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxHQU9BLElBSkEsSUFBQSxFQUFBLFdBQ0EsSUFDQSxFQUFBLEVBQUEsSUFFQSxlQUFBLEdBQUEsQ0FDQSxFQUFBLEVBQUEsRUFBQSxVQUNBLElBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxFQUNBLE9BQUEsSUFBQSxHQUFBLEVBQUEsRUFFQSxNQUFBLEdBQUEsTUFBQSxFQUFBLEdBdENBLEdBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEdBRUEsRUFBQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQ0EsRUFBQSxDQThCQSxPQURBLElBQUEsRUFBQSxHQUNBLEVBWUEsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEtBQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUNBLEVBQUEsR0FBQSxHQUFBLElBQUEsRUFDQSxJQUVBLElBQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsSUFDQSxFQUFBLEVBQ0EsRUFBQSxHQUVBLEdBQUEsRUFHQSxPQUFBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsR0FBQSxFQUFBLEdBQUEsR0FDQSxFQUFBLEtBQUEsR0FNQSxNQUhBLElBQ0EsRUFBQSxHQUVBLEVBY0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBS0EsSUFKQSxHQUFBLElBQUEsR0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUNBLE9BRUEsRUFBQSxHQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFFQSxJQUFBLEdBQUEsZ0JBQUEsSUFBQSxnQkFBQSxHQUFBLFNBQ0EsR0FBQSxJQUFBLEdBQUEsSUFBQSxDQUVBLElBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUVBLElBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxPQUNBLEVBQUEsRUFBQSxNQUdBLEtBREEsRUFBQSxRQUFBLElBQ0EsRUFBQSxHQUNBLEVBQUEsS0FBQSxFQUFBLE9BRUEsSUFDQSxFQUFBLEtBQUEsR0FHQSxNQUFBLEdBZ0JBLFFBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FFQSxHQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQ0EsSUFBQSxtQkFBQSxHQUNBLFFBQUEsRUFJQSxHQUFBLElBQUEsRUFFQSxNQUFBLEtBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxDQUVBLElBQUEsU0FBQSxHQUNBLFFBQUEsRUFHQSxNQUFBLElBQUEsR0FDQSxHQUFBLEVBQUEsSUFDQSxHQUFBLEVBQUEsSUFDQSxPQUFBLENBSUEsSUFBQSxNQUFBLEdBQUEsTUFBQSxFQUNBLE1BQUEsS0FBQSxDQUdBLElBQUEsR0FBQSxHQUFBLEtBQUEsR0FDQSxFQUFBLEdBQUEsS0FBQSxFQVFBLElBTkEsR0FBQSxJQUNBLEVBQUEsR0FFQSxHQUFBLElBQ0EsRUFBQSxHQUVBLEdBQUEsRUFDQSxPQUFBLENBRUEsUUFBQSxHQUNBLElBQUEsR0FDQSxJQUFBLEdBR0EsT0FBQSxJQUFBLENBRUEsS0FBQSxHQUVBLE1BQUEsS0FBQSxFQUNBLElBQUEsRUFFQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLENBRUEsS0FBQSxHQUNBLElBQUEsR0FHQSxNQUFBLElBQUEsR0FBQSxHQUVBLEdBQUEsR0FBQSxHQUFBLENBQ0EsS0FBQSxFQUFBLENBRUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLGVBQ0EsRUFBQSxHQUFBLEtBQUEsRUFBQSxjQUVBLElBQUEsR0FBQSxFQUNBLE1BQUEsSUFBQSxFQUFBLEVBQUEsWUFBQSxFQUFBLEVBQUEsRUFBQSxZQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFHQSxJQUFBLEdBQUEsRUFDQSxPQUFBLENBR0EsSUFBQSxHQUFBLEVBQUEsWUFDQSxFQUFBLEVBQUEsV0FHQSxJQUFBLEdBQUEsS0FDQSxHQUFBLElBQUEsWUFBQSxJQUFBLEdBQUEsSUFBQSxZQUFBLEtBQ0EsZUFBQSxJQUFBLGVBQUEsR0FFQSxPQUFBLEVBTUEsR0FBQSxJQUFBLENBQ0EsS0FBQSxFQUFBLEtBQ0EsSUFBQSxFQUFBLElBR0EsS0FEQSxHQUFBLEdBQUEsRUFBQSxPQUNBLEtBQ0EsR0FBQSxFQUFBLElBQUEsRUFDQSxNQUFBLEdBQUEsSUFBQSxDQUdBLElBQUEsR0FBQSxDQVFBLElBUEEsR0FBQSxFQUdBLEVBQUEsS0FBQSxHQUNBLEVBQUEsS0FBQSxHQUdBLEdBTUEsR0FKQSxFQUFBLEVBQUEsT0FDQSxFQUFBLEVBQUEsT0FDQSxFQUFBLEdBQUEsRUFFQSxHQUFBLEVBRUEsS0FBQSxLQUFBLENBQ0EsR0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLEVBRUEsSUFBQSxFQUNBLEtBQUEsT0FDQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsVUFJQSxNQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUNBLFdBUUEsSUFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxJQUFBLEtBQUEsRUFBQSxJQUVBLElBRUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFKQSxTQVFBLElBQUEsR0FFQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLElBQUEsS0FBQSxFQUFBLEdBRUEsSUFBQSxFQUFBLEdBRkEsUUFjQSxPQVBBLEdBQUEsTUFDQSxFQUFBLE1BRUEsSUFDQSxFQUFBLEdBQ0EsRUFBQSxJQUVBLEVBY0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFDQSxHQUFBLEdBQUEsR0FBQSxJQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUNBLEVBQ0EsRUFBQSxFQUNBLEVBQUEsRUFBQSxFQUVBLElBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLElBQUEsQ0FHQSxJQURBLEdBQUEsR0FBQSxFQUFBLE9BQ0EsS0FDQSxHQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsQ0FDQSxFQUFBLEVBQUEsRUFDQSxPQUdBLElBQUEsRUFBQSxDQUNBLEdBQUEsRUFDQSxLQUNBLEVBQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxtQkFBQSxNQUNBLEVBQUEsSUFHQSxJQUNBLEVBQUEsRUFDQSxHQUFBLEdBQUEsS0FDQSxHQUFBLEdBQUEsTUFHQSxFQUFBLEtBQUEsR0FDQSxFQUFBLEtBQUEsR0FHQSxHQUNBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxRQUtBLEtBQ0EsRUFBQSxFQUFBLEVBQUEsR0FDQSxtQkFBQSxLQUNBLEVBQUEsSUFHQSxtQkFBQSxLQUNBLEVBQUEsRUFHQSxHQUFBLEdBQUEsSUFhQSxRQUFBLElBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLElBYUEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUNBLEVBQUEsS0FDQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQ0EsS0FFQSxHQUFBLEdBQUEsR0FBQSxHQUFBLElBQUEsRUFDQSxFQUFBLEdBQUEsRUFBQSxJQUFBLENBRUEsSUFBQSxFQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxHQUFBLEVBQ0EsRUFBQSxFQUVBLE9BQUEsRUFBQSxHQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUVBLEdBQ0EsR0FBQSxFQUFBLEVBQUEsT0FBQSxLQUFBLEVBQ0EsRUFBQSxFQUFBLEdBQUEsTUFFQSxHQUFBLElBQ0EsRUFBQSxLQUFBLEdBRUEsRUFBQSxLQUFBLElBU0EsTUFOQSxJQUNBLEVBQUEsRUFBQSxPQUNBLEVBQUEsSUFDQSxHQUNBLEVBQUEsR0FFQSxFQWFBLFFBQUEsSUFBQSxHQUNBLE1BQUEsVUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEtBQ0EsR0FBQSxFQUFBLGVBQUEsRUFBQSxFQUFBLEVBRUEsSUFBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxDQUVBLElBQUEsZ0JBQUEsR0FDQSxPQUFBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxPQUdBLElBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsSUFHQSxPQUFBLElBMEJBLFFBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLEVBQUEsRUFBQSxFQUNBLEVBQUEsRUFBQSxFQUVBLEVBQUEsR0FBQSxFQUNBLEVBQUEsR0FBQSxDQUVBLEtBQUEsSUFBQSxHQUFBLEdBQ0EsS0FBQSxJQUFBLEdBRUEsS0FBQSxFQUFBLFNBQ0EsR0FBQSxJQUNBLEVBQUEsR0FBQSxHQUVBLElBQUEsRUFBQSxTQUNBLEdBQUEsSUFDQSxFQUFBLEdBQUEsRUFFQSxJQUFBLEdBQUEsR0FBQSxFQUFBLFlBQ0EsSUFBQSxHQUFBLEtBQUEsRUErQkEsTUE3QkEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxLQUNBLEVBQUEsR0FBQSxFQUFBLEVBQUEsS0FFQSxFQUFBLEtBQ0EsRUFBQSxHQUFBLEVBQUEsRUFBQSxNQUdBLEdBQUEsRUFBQSxFQUFBLEtBQ0EsRUFBQSxHQUFBLElBR0EsR0FBQSxFQUFBLEVBQUEsS0FDQSxHQUFBLElBR0EsR0FBQSxFQUFBLEVBQUEsS0FDQSxFQUFBLEdBQUEsR0FHQSxHQUNBLEdBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxPQUFBLEdBR0EsR0FDQSxHQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsT0FBQSxHQUdBLEVBQUEsSUFBQSxFQUNBLEdBQUEsTUFBQSxLQUFBLEVBR0EsSUFBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsRUFBQSxDQUNBLE9BQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFVQSxRQUFBLElBQUEsR0FDQSxNQUFBLElBQUEsR0FXQSxRQUFBLE1BQ0EsR0FBQSxJQUFBLEVBQUEsRUFBQSxXQUFBLEdBQUEsRUFBQSxDQUNBLE9BQUEsR0FVQSxRQUFBLElBQUEsR0FDQSxNQUFBLGtCQUFBLElBQUEsR0FBQSxLQUFBLEdBeUJBLFFBQUEsSUFBQSxHQUNBLEdBQUEsR0FDQSxDQUdBLE9BQUEsSUFBQSxHQUFBLEtBQUEsSUFBQSxJQUNBLEVBQUEsRUFBQSxhQUFBLEdBQUEsSUFBQSxZQUFBLEtBTUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsSUFFQSxtQkFBQSxJQUFBLEdBQUEsS0FBQSxFQUFBLEtBUkEsRUFrQkEsUUFBQSxJQUFBLEdBQ0EsTUFBQSxJQUFBLEdBcUJBLFFBQUEsSUFBQSxHQUNBLE1BQUEsSUFBQSxnQkFBQSxJQUFBLGdCQUFBLEdBQUEsUUFDQSxHQUFBLEtBQUEsSUFBQSxJQUFBLEVBNExBLFFBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQVFBLE1BTEEsaUJBQUEsSUFBQSxNQUFBLElBQ0EsRUFBQSxFQUNBLEVBQUEsRUFDQSxHQUFBLEdBRUEsRUFBQSxFQUFBLEVBQUEsa0JBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxJQTRDQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEdBQUEsRUFBQSxrQkFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLElBa0NBLFFBQUEsSUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxPQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFzRkEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFRQSxPQVBBLEdBQUEsRUFBQSxlQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEdBQ0EsR0FGQSxTQUtBLEVBNENBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBUUEsT0FQQSxHQUFBLEVBQUEsZUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxHQUNBLEdBRkEsU0FLQSxFQXlFQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxLQUVBLElBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLEtBQUEsRUFBQSxJQUdBLElBQUEsR0FBQSxFQUFBLE1BRUEsS0FEQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsS0FDQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsTUFBQSxJQUlBLE1BQUEsR0EwREEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLE1BR0EsS0FEQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsS0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsSUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsRUFDQSxNQUdBLE1BQUEsR0FrQkEsUUFBQSxJQUFBLEdBQ0EsR0FBQSxLQU1BLE9BTEEsSUFBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsSUFDQSxFQUFBLEtBQUEsS0FHQSxFQUFBLE9Ba0JBLFFBQUEsSUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsRUFnQkEsUUFBQSxJQUFBLEdBTUEsSUFMQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsT0FDQSxPQUVBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsR0FBQSxFQUFBLElBQUEsRUFFQSxNQUFBLEdBZ0JBLFFBQUEsSUFBQSxHQUNBLE1BQUEsTUFBQSxHQUFBLEtBQUEsR0FDQSxHQUFBLGdCQUFBLElBQUEsR0FBQSxLQUFBLElBQUEsSUFBQSxFQWdCQSxRQUFBLElBQUEsR0FDQSxNQUFBLElBQUEsZ0JBQUEsSUFBQSxHQUFBLEtBQUEsSUFBQSxJQUFBLEVBZ0JBLFFBQUEsSUFBQSxHQUNBLE1BQUEsSUFBQSxJQUFBLEVBQUEsV0FBQSxFQXdCQSxRQUFBLElBQUEsR0FDQSxHQUFBLElBQUEsQ0FDQSxLQUFBLEVBQ0EsTUFBQSxFQUVBLElBQUEsR0FBQSxHQUFBLEtBQUEsR0FDQSxFQUFBLEVBQUEsTUFFQSxPQUFBLElBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxnQkFBQSxJQUFBLEdBQUEsRUFBQSxTQUNBLEdBRUEsR0FBQSxFQUFBLFdBQ0EsTUFBQSxJQUFBLElBRUEsR0F5Q0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxJQUFBLEVBQUEsRUFBQSxrQkFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLElBK0JBLFFBQUEsSUFBQSxHQUNBLE1BQUEsSUFBQSxLQUFBLEdBQUEsV0FBQSxJQWdCQSxRQUFBLElBQUEsR0FDQSxNQUFBLGtCQUFBLEdBdUJBLFFBQUEsSUFBQSxHQUtBLFNBQUEsSUFBQSxRQUFBLEtBNEJBLFFBQUEsSUFBQSxHQUdBLE1BQUEsSUFBQSxJQUFBLElBQUEsRUFtQkEsUUFBQSxJQUFBLEdBQ0EsTUFBQSxRQUFBLEVBa0JBLFFBQUEsSUFBQSxHQUNBLE1BQUEsZ0JBQUEsSUFDQSxHQUFBLGdCQUFBLElBQUEsR0FBQSxLQUFBLElBQUEsSUFBQSxFQW9EQSxRQUFBLElBQUEsR0FDQSxNQUFBLElBQUEsZ0JBQUEsSUFBQSxHQUFBLEtBQUEsSUFBQSxJQUFBLEVBZ0JBLFFBQUEsSUFBQSxHQUNBLE1BQUEsZ0JBQUEsSUFDQSxHQUFBLGdCQUFBLElBQUEsR0FBQSxLQUFBLElBQUEsSUFBQSxFQWdCQSxRQUFBLElBQUEsR0FDQSxNQUFBLG1CQUFBLEdBdUNBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEtBTUEsT0FMQSxHQUFBLEVBQUEsZUFBQSxFQUFBLEVBQUEsR0FFQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsS0FFQSxFQXNEQSxRQUFBLElBQUEsR0FDQSxHQUFBLEdBQUEsVUFDQSxFQUFBLENBRUEsS0FBQSxHQUFBLEdBQ0EsTUFBQSxFQU9BLElBSEEsZ0JBQUEsR0FBQSxLQUNBLEVBQUEsRUFBQSxRQUVBLEVBQUEsR0FBQSxrQkFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsT0FDQSxHQUFBLEdBQUEsa0JBQUEsR0FBQSxFQUFBLEtBQ0EsRUFBQSxJQUFBLEdBT0EsS0FMQSxHQUFBLEdBQUEsRUFBQSxVQUFBLEVBQUEsR0FDQSxFQUFBLEdBQ0EsRUFBQSxJQUNBLEVBQUEsTUFFQSxFQUFBLEdBQ0EsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFJQSxPQUZBLEdBQUEsR0FDQSxFQUFBLEdBQ0EsRUE2QkEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsS0FDQSxJQUFBLGtCQUFBLEdBQUEsQ0FDQSxHQUFBLEtBQ0EsSUFBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsS0FBQSxLQUVBLEVBQUEsRUFBQSxFQUFBLEVBQUEsV0FBQSxHQUFBLEVBQUEsR0FLQSxLQUhBLEdBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxTQUVBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsR0FBQSxHQUFBLEVBQUEsUUFHQSxHQUFBLEVBQUEsZUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxLQUNBLEVBQUEsR0FBQSxJQUlBLE9BQUEsR0FpQkEsUUFBQSxJQUFBLEdBTUEsSUFMQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsT0FDQSxFQUFBLEdBQUEsS0FFQSxFQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLEdBQUEsSUFBQSxFQUFBLEVBQUEsSUFFQSxNQUFBLEdBOEJBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEtBQ0EsSUFBQSxrQkFBQSxHQUtBLElBSkEsR0FBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLFdBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEdBQUEsRUFBQSxPQUFBLElBRUEsRUFBQSxHQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxLQUFBLEtBQ0EsRUFBQSxHQUFBLEVBQUEsUUFJQSxHQUFBLEVBQUEsZUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxLQUNBLEVBQUEsR0FBQSxJQUlBLE9BQUEsR0FrQ0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsRUFDQSxJQUFBLE1BQUEsRUFDQSxHQUFBLEVBQ0EsU0FDQSxDQUNBLEdBQUEsR0FBQSxHQUFBLEVBQUEsWUFDQSxFQUFBLEdBQUEsRUFBQSxTQUVBLEdBQUEsRUFBQSxHQVNBLE1BTkEsS0FDQSxFQUFBLEVBQUEsZUFBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEdBQUEsSUFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE1BR0EsRUFnQkEsUUFBQSxJQUFBLEdBTUEsSUFMQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsT0FDQSxFQUFBLEdBQUEsS0FFQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUVBLE9BQUEsR0EwQkEsUUFBQSxJQUFBLEdBT0EsSUFOQSxHQUFBLEdBQUEsVUFDQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxPQUNBLEVBQUEsR0FBQSxLQUVBLEVBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBRUEsT0FBQSxHQThCQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQ0EsRUFBQSxLQUNBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFDQSxHQUFBLENBY0EsT0FaQSxJQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLElBQUEsRUFDQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEdBQ0EsZ0JBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsR0FFQSxHQUFBLEVBQUEsU0FBQSxHQUNBLFFBQUEsR0FBQSxJQUNBLEVBQUEsSUFBQSxHQURBLFNBS0EsRUFrRkEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsSUFBQSxDQUNBLEdBQUEsRUFBQSxlQUFBLEVBQUEsRUFBQSxFQUVBLElBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLE9BQUEsQ0FFQSxJQUFBLGdCQUFBLEdBQ0EsT0FBQSxFQUFBLElBQ0EsSUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLFVBS0EsSUFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLElBR0EsT0FBQSxHQTJDQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxLQUNBLEdBQUEsRUFBQSxlQUFBLEVBQUEsRUFBQSxFQUVBLElBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLE9BQUEsQ0FFQSxJQUFBLGdCQUFBLEdBQ0EsT0FBQSxFQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLEdBQUEsRUFBQSxFQUFBLElBQ0EsRUFBQSxLQUFBLE9BSUEsSUFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEtBQUEsSUFJQSxPQUFBLEdBOENBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsZUFBQSxFQUFBLEVBQUEsRUFFQSxJQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxPQUFBLENBRUEsSUFBQSxnQkFBQSxHQU9BLENBQ0EsR0FBQSxFQU9BLE9BTkEsSUFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsRUFBQSxJQUNBLEVBQUEsR0FDQSxHQUZBLFNBS0EsRUFkQSxPQUFBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsSUFBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsSUFtQ0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFRQSxPQVBBLEdBQUEsRUFBQSxlQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE1BQUEsR0FBQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEdBQ0EsR0FGQSxTQUtBLEVBNkJBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxPQUFBLENBR0EsSUFEQSxFQUFBLEdBQUEsbUJBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsZ0JBQUEsR0FDQSxPQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsUUFLQSxJQUFBLEVBQUEsRUFFQSxPQUFBLEdBb0JBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUEsQ0FFQSxJQURBLEVBQUEsR0FBQSxtQkFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxnQkFBQSxHQUNBLEtBQUEsS0FDQSxFQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsUUFJQSxDQUNBLEdBQUEsR0FBQSxHQUFBLEVBQ0EsR0FBQSxFQUFBLE9BQ0EsR0FBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEdBRUEsTUFEQSxHQUFBLEVBQUEsSUFBQSxLQUFBLEVBQ0EsRUFBQSxFQUFBLEdBQUEsRUFBQSxLQUdBLE1BQUEsR0EyR0EsUUFBQSxJQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxVQUFBLEdBQ0EsRUFBQSxHQUNBLEVBQUEsa0JBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQ0EsRUFBQSxHQUFBLGdCQUFBLEdBQUEsRUFBQSxFQUtBLE9BSEEsSUFBQSxFQUFBLFNBQUEsR0FDQSxJQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxNQUFBLEVBQUEsS0FFQSxFQTBDQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxDQUdBLElBREEsRUFBQSxFQUFBLGVBQUEsRUFBQSxFQUFBLEdBQ0EsZ0JBQUEsR0FFQSxJQURBLEdBQUEsR0FBQSxHQUFBLEtBQ0EsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLE9BR0EsTUFDQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxJQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsSUFHQSxPQUFBLEdBMkNBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLElBQUEsSUFDQSxFQUFBLENBT0EsSUFIQSxrQkFBQSxJQUFBLEdBQUEsRUFBQSxLQUFBLElBQ0EsRUFBQSxNQUVBLE1BQUEsR0FBQSxHQUFBLEdBSUEsSUFIQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsU0FFQSxFQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLEdBQUEsSUFDQSxFQUFBLE9BSUEsR0FBQSxNQUFBLEdBQUEsR0FBQSxHQUNBLEVBQ0EsRUFBQSxlQUFBLEVBQUEsRUFBQSxHQUVBLEdBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUNBLEdBQUEsSUFDQSxFQUFBLEVBQ0EsRUFBQSxJQUlBLE9BQUEsR0EyQ0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxJQUNBLEVBQUEsQ0FPQSxJQUhBLGtCQUFBLElBQUEsR0FBQSxFQUFBLEtBQUEsSUFDQSxFQUFBLE1BRUEsTUFBQSxHQUFBLEdBQUEsR0FJQSxJQUhBLEdBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxTQUVBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsR0FBQSxJQUNBLEVBQUEsT0FJQSxHQUFBLE1BQUEsR0FBQSxHQUFBLEdBQ0EsRUFDQSxFQUFBLGVBQUEsRUFBQSxFQUFBLEdBRUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsR0FBQSxJQUNBLEVBQUEsRUFDQSxFQUFBLElBSUEsT0FBQSxHQXVEQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxJQUFBLEVBQUEsTUFBQSxFQUNBLElBQUEsR0FBQSxVQUFBLE9BQUEsQ0FDQSxHQUFBLEVBQUEsZUFBQSxFQUFBLEVBQUEsRUFFQSxJQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsTUFFQSxJQUFBLGdCQUFBLEdBSUEsSUFIQSxJQUNBLEVBQUEsSUFBQSxNQUVBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxPQUdBLElBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEVBQUEsR0FDQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBR0EsT0FBQSxHQXNCQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsVUFBQSxPQUFBLENBT0EsT0FOQSxHQUFBLEVBQUEsZUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEdBQ0EsR0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsRUFBQSxLQUVBLEVBeUNBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FFQSxNQURBLEdBQUEsRUFBQSxlQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLE9BQUEsRUFBQSxFQUFBLEVBQUEsS0F1QkEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUlBLEdBSEEsR0FBQSxnQkFBQSxHQUFBLFNBQ0EsRUFBQSxHQUFBLElBRUEsTUFBQSxHQUFBLEVBQ0EsTUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLENBRUEsSUFBQSxHQUFBLEdBQUEsRUFFQSxPQURBLEdBQUEsT0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsUUFDQSxFQWlCQSxRQUFBLElBQUEsR0FDQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQ0EsRUFBQSxHQUFBLGdCQUFBLEdBQUEsRUFBQSxFQU9BLE9BTEEsSUFBQSxFQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxJQUFBLEVBQ0EsR0FBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsSUFFQSxFQXVCQSxRQUFBLElBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUEsQ0FDQSxPQUFBLGdCQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsT0E2Q0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsRUFDQSxHQUFBLEVBQUEsZUFBQSxFQUFBLEVBQUEsRUFFQSxJQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxPQUFBLENBRUEsSUFBQSxnQkFBQSxHQUNBLE9BQUEsRUFBQSxLQUNBLEVBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxVQUtBLElBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLFFBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxLQUdBLFNBQUEsRUFvREEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUNBLEVBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFDQSxFQUFBLEdBQUEsZ0JBQUEsR0FBQSxFQUFBLEVBa0JBLEtBaEJBLElBQ0EsRUFBQSxFQUFBLGVBQUEsRUFBQSxFQUFBLElBRUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLElBQUEsR0FBQSxHQUNBLEdBQ0EsRUFBQSxTQUFBLEdBQUEsRUFBQSxTQUFBLEdBQUEsTUFBQSxHQUFBLE1BRUEsRUFBQSxTQUFBLEtBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUVBLEVBQUEsTUFBQSxFQUNBLEVBQUEsTUFBQSxJQUdBLEVBQUEsRUFBQSxPQUNBLEVBQUEsS0FBQSxHQUNBLEtBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUNBLEdBQUEsR0FBQSxFQUFBLE1BQ0EsR0FDQSxFQUFBLEVBQUEsVUFFQSxFQUFBLEdBRUEsTUFBQSxHQWdCQSxRQUFBLElBQUEsR0FDQSxNQUFBLElBQUEsZ0JBQUEsR0FBQSxPQUNBLEVBQUEsR0FFQSxHQUFBLEdBOENBLFFBQUEsSUFBQSxHQUtBLElBSkEsR0FBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUNBLE9BRUEsRUFBQSxHQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxJQUNBLEVBQUEsS0FBQSxHQUdBLE1BQUEsR0FrQkEsUUFBQSxJQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsRUFBQSxXQUFBLEdBQUEsRUFBQSxJQTRDQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxDQUdBLEtBREEsRUFBQSxFQUFBLGVBQUEsRUFBQSxFQUFBLEtBQ0EsRUFBQSxHQUNBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxHQUNBLE1BQUEsRUFHQSxPQUFBLEdBNENBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUEsQ0FFQSxLQURBLEVBQUEsRUFBQSxlQUFBLEVBQUEsRUFBQSxHQUNBLEtBQ0EsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQ0EsTUFBQSxFQUdBLE9BQUEsR0FzREEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUNBLEVBQUEsRUFBQSxFQUFBLE9BQUEsQ0FFQSxJQUFBLGdCQUFBLElBQUEsTUFBQSxFQUFBLENBQ0EsR0FBQSxHQUFBLEVBRUEsS0FEQSxFQUFBLEVBQUEsZUFBQSxFQUFBLEVBQUEsS0FDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUNBLFFBSUEsSUFEQSxFQUFBLEVBQ0EsTUFBQSxHQUFBLEVBQ0EsTUFBQSxHQUFBLEVBQUEsR0FBQSxDQUdBLE9BQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxJQTRDQSxRQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FVQSxNQVJBLGlCQUFBLElBQUEsTUFBQSxJQUNBLEVBQUEsRUFDQSxFQUFBLGtCQUFBLElBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQ0EsR0FBQSxHQUVBLE1BQUEsSUFDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLElBRUEsRUFBQSxFQUFBLEdBMkJBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLGdCQUFBLEdBQUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLE9BQUEsQ0FDQTtFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsTUFDQSxJQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsT0FBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLEdBRUEsTUFBQSxHQUFBLEVBQUEsRUFBQSxHQXFEQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxDQUVBLElBQUEsZ0JBQUEsSUFBQSxNQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsQ0FFQSxLQURBLEVBQUEsRUFBQSxlQUFBLEVBQUEsRUFBQSxHQUNBLEtBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUNBLFFBR0EsR0FBQSxNQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsQ0FFQSxPQUFBLEdBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxJQWlCQSxRQUFBLE1BU0EsSUFSQSxHQUFBLE1BQ0EsRUFBQSxHQUNBLEVBQUEsVUFBQSxPQUNBLEVBQUEsSUFDQSxFQUFBLEtBQ0EsRUFBQSxJQUFBLEVBQ0EsRUFBQSxNQUVBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxVQUFBLElBQ0EsR0FBQSxJQUFBLEdBQUEsTUFDQSxFQUFBLEtBQUEsR0FDQSxFQUFBLEtBQUEsR0FBQSxFQUFBLFFBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEtBR0EsR0FBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUNBLElBRUEsR0FDQSxPQUFBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBR0EsSUFGQSxFQUFBLEVBQUEsSUFFQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsQ0FHQSxJQUZBLEVBQUEsR0FDQSxHQUFBLEdBQUEsS0FBQSxLQUNBLEdBRUEsR0FEQSxFQUFBLEVBQUEsSUFDQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLElBQUEsRUFDQSxRQUFBLEVBR0EsR0FBQSxLQUFBLElBR0EsS0FBQSxLQUNBLEVBQUEsRUFBQSxHQUNBLEdBQ0EsRUFBQSxFQUtBLE9BRkEsR0FBQSxHQUNBLEVBQUEsR0FDQSxFQXFEQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxDQUVBLElBQUEsZ0JBQUEsSUFBQSxNQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsQ0FFQSxLQURBLEVBQUEsRUFBQSxlQUFBLEVBQUEsRUFBQSxHQUNBLEtBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxJQUNBLFFBSUEsSUFEQSxFQUFBLEVBQ0EsTUFBQSxHQUFBLEVBQ0EsTUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLENBR0EsT0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsSUE4QkEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxDQUlBLEtBSEEsZ0JBQUEsS0FDQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsR0FFQSxLQUNBLEdBQUEsRUFBQSxLQUFBLEVBQ0EsTUFBQSxFQUdBLE9BQUEsR0FvQkEsUUFBQSxJQUFBLEdBTUEsSUFMQSxHQUFBLEdBQUEsVUFDQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLE9BQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUVBLEVBQUEsR0FHQSxJQUZBLEdBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxLQUNBLEVBQUEsR0FDQSxFQUFBLEtBQUEsSUFDQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEdBQ0EsSUFJQSxPQUFBLEdBbUNBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFDQSxFQUFBLGdCQUFBLEdBQUEsR0FBQSxHQUFBLEVBRUEsTUFBQSxJQUNBLEVBQUEsRUFDQSxFQUFBLEVBUUEsS0FKQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxHQUFBLEtBQ0EsRUFBQSxHQUFBLEtBRUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUNBLEdBQUEsQ0FFQSxPQUFBLEdBbUNBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxPQUFBLEVBQ0EsSUFHQSxLQURBLEVBQUEsRUFBQSxlQUFBLEVBQUEsRUFBQSxLQUNBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsR0FBQSxFQUFBLEVBQUEsS0FDQSxFQUFBLEtBQUEsR0FDQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEdBQ0EsS0FHQSxNQUFBLEdBdURBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLGdCQUFBLElBQUEsTUFBQSxFQUFBLENBQ0EsR0FBQSxHQUFBLEVBQ0EsRUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLE9BQUEsQ0FHQSxLQURBLEVBQUEsRUFBQSxlQUFBLEVBQUEsRUFBQSxLQUNBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLElBQ0EsUUFHQSxHQUFBLE1BQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBRUEsT0FBQSxHQUFBLEVBQUEsR0FtREEsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxDQU1BLEtBSEEsRUFBQSxFQUFBLEVBQUEsZUFBQSxFQUFBLEVBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxHQUVBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLElBQUEsQ0FDQSxHQUFBLEVBQUEsSUFBQSxFQUNBLEVBQUEsRUFBQSxFQUNBLEVBQUEsRUFFQSxNQUFBLEdBaUJBLFFBQUEsTUFDQSxNQUFBLElBQUEsRUFBQSxXQUFBLEdBQUEsSUErQ0EsUUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEdBVUEsTUFSQSxpQkFBQSxJQUFBLE1BQUEsSUFDQSxFQUFBLEVBQ0EsRUFBQSxrQkFBQSxJQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUNBLEdBQUEsR0FFQSxNQUFBLElBQ0EsRUFBQSxFQUFBLGVBQUEsRUFBQSxFQUFBLElBRUEsR0FBQSxFQUFBLEVBQUEsR0FrQkEsUUFBQSxJQUFBLEdBQ0EsTUFBQSxHQUFBLEVBQUEsRUFBQSxVQUFBLElBb0JBLFFBQUEsTUFJQSxJQUhBLEdBQUEsR0FBQSxHQUNBLEVBQUEsVUFBQSxTQUVBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxVQUFBLEVBQ0EsSUFBQSxHQUFBLElBQUEsR0FBQSxHQUNBLEdBQUEsR0FBQSxFQUNBLEdBQUEsRUFBQSxFQUFBLEdBQUEsT0FBQSxFQUFBLEVBQUEsS0FDQSxFQUdBLE1BQUEsT0FtQkEsUUFBQSxNQU1BLElBTEEsR0FBQSxHQUFBLFVBQUEsT0FBQSxFQUFBLFVBQUEsVUFBQSxHQUNBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsV0FBQSxFQUNBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxLQUVBLEVBQUEsR0FDQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEVBRUEsT0FBQSxHQXFCQSxRQUFBLElBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFDQSxJQUtBLEtBSEEsSUFBQSxHQUFBLEdBQUEsRUFBQSxNQUNBLFFBRUEsRUFBQSxHQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxHQUNBLEVBQUEsR0FBQSxFQUFBLEdBQ0EsSUFDQSxFQUFBLEVBQUEsSUFBQSxFQUFBLElBR0EsTUFBQSxHQTZCQSxRQUFBLElBQUEsRUFBQSxHQUNBLElBQUEsR0FBQSxHQUNBLEtBQUEsSUFBQSxHQUVBLE9BQUEsWUFDQSxRQUFBLEVBQUEsRUFDQSxFQUFBLE1BQUEsS0FBQSxXQURBLFFBNEJBLFFBQUEsSUFBQSxFQUFBLEdBQ0EsTUFBQSxXQUFBLE9BQUEsRUFDQSxHQUFBLEVBQUEsR0FBQSxFQUFBLFVBQUEsR0FBQSxLQUFBLEdBQ0EsR0FBQSxFQUFBLEVBQUEsS0FBQSxLQUFBLEdBMkJBLFFBQUEsSUFBQSxHQUtBLElBSkEsR0FBQSxHQUFBLFVBQUEsT0FBQSxFQUFBLEVBQUEsV0FBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLEdBQ0EsRUFBQSxHQUNBLEVBQUEsRUFBQSxTQUVBLEVBQUEsR0FBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxLQUFBLEdBRUEsTUFBQSxHQXFDQSxRQUFBLElBQUEsRUFBQSxHQUNBLE1BQUEsV0FBQSxPQUFBLEVBQ0EsR0FBQSxFQUFBLEdBQUEsRUFBQSxVQUFBLEdBQUEsS0FBQSxHQUNBLEdBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxHQWlDQSxRQUFBLE1BSUEsSUFIQSxHQUFBLEdBQUEsVUFDQSxFQUFBLEVBQUEsT0FFQSxLQUNBLElBQUEsR0FBQSxFQUFBLElBQ0EsS0FBQSxJQUFBLEdBR0EsT0FBQSxZQUlBLElBSEEsR0FBQSxHQUFBLFVBQ0EsRUFBQSxFQUFBLE9BRUEsS0FDQSxHQUFBLEVBQUEsR0FBQSxNQUFBLEtBQUEsR0FFQSxPQUFBLEdBQUEsSUFnQ0EsUUFBQSxJQUFBLEVBQUEsR0FFQSxNQURBLEdBQUEsZ0JBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxPQUNBLEdBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxLQUFBLEdBMENBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFBQSxFQUNBLEdBQUEsRUFDQSxHQUFBLENBRUEsS0FBQSxHQUFBLEdBQ0EsS0FBQSxJQUFBLEdBR0EsSUFEQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQ0EsS0FBQSxFQUFBLENBQ0EsR0FBQSxJQUFBLENBQ0EsSUFBQSxNQUNBLElBQUEsS0FDQSxFQUFBLEVBQUEsUUFDQSxFQUFBLFdBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxVQUFBLEdBQ0EsRUFBQSxZQUFBLEdBQUEsRUFBQSxTQUFBLEVBRUEsSUFBQSxHQUFBLFdBQ0EsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUNBLElBQUEsR0FBQSxFQUFBLENBQ0EsR0FDQSxHQUFBLEVBRUEsSUFBQSxHQUFBLENBQ0EsR0FBQSxFQUFBLEVBQUEsRUFDQSxJQUNBLEVBQUEsS0FDQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEdBQ0EsR0FBQSxJQUNBLEVBQUEsRUFBQSxXQUlBLEdBQUEsR0FBQSxFQUFBLElBSUEsRUFBQSxXQUNBLEdBQ0EsR0FBQSxHQUVBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxJQUFBLEtBQ0EsRUFBQSxLQUNBLEVBQUEsRUFBQSxNQUFBLEVBQUEsR0FDQSxHQUFBLElBQ0EsRUFBQSxFQUFBLE9BS0EsT0FBQSxZQU1BLEdBTEEsRUFBQSxVQUNBLEVBQUEsS0FDQSxFQUFBLEtBQ0EsRUFBQSxJQUFBLElBQUEsR0FFQSxLQUFBLEVBQ0EsR0FBQSxHQUFBLElBQUEsTUFDQSxDQUNBLEdBQUEsSUFDQSxFQUFBLEVBRUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxDQUVBLElBQ0EsSUFDQSxFQUFBLEdBQUEsSUFFQSxFQUFBLEVBQ0EsRUFBQSxFQUFBLE1BQUEsRUFBQSxJQUVBLElBQ0EsRUFBQSxHQUFBLEVBQUEsSUFnQkEsTUFiQSxJQUFBLEVBQ0EsRUFBQSxHQUFBLEdBRUEsR0FBQSxJQUFBLElBQ0EsRUFBQSxHQUFBLEVBQUEsSUFFQSxJQUNBLEdBQUEsRUFDQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEtBRUEsR0FBQSxHQUFBLElBQ0EsRUFBQSxFQUFBLE1BRUEsR0FtQkEsUUFBQSxJQUFBLEdBQ0EsSUFBQSxHQUFBLEdBQ0EsS0FBQSxJQUFBLEdBRUEsSUFBQSxHQUFBLEVBQUEsVUFBQSxFQUNBLE9BQUEsSUFBQSxXQUFBLEVBQUEsTUFBQSxFQUFBLElBQUEsR0FtQkEsUUFBQSxJQUFBLEVBQUEsR0FDQSxJQUFBLEdBQUEsR0FDQSxLQUFBLElBQUEsR0FFQSxJQUFBLEdBQUEsRUFBQSxVQUFBLEVBQ0EsT0FBQSxJQUFBLFdBQUEsRUFBQSxNQUFBLEVBQUEsSUFBQSxHQXdDQSxRQUFBLElBQUEsRUFBQSxHQUNBLElBQUEsR0FBQSxHQUNBLEtBQUEsSUFBQSxHQUVBLElBQUEsR0FBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLEVBQUEsTUFBQSxLQUFBLFdBQUEsRUFBQSxVQUFBLEVBRUEsT0FBQSxJQUFBLEtBQUEsRUFBQSxHQUNBLEVBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEtBQUEsV0FHQSxPQURBLEdBQUEsU0FDQSxFQW9CQSxRQUFBLElBQUEsR0FDQSxHQUFBLEdBQ0EsQ0FFQSxLQUFBLEdBQUEsR0FDQSxLQUFBLElBQUEsR0FFQSxPQUFBLFlBQ0EsTUFBQSxHQUNBLEdBRUEsR0FBQSxFQUNBLEVBQUEsRUFBQSxNQUFBLEtBQUEsV0FHQSxFQUFBLEtBQ0EsSUFzQkEsUUFBQSxJQUFBLEdBQ0EsTUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLFVBQUEsSUE4QkEsUUFBQSxJQUFBLEdBQ0EsTUFBQSxJQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsVUFBQSxJQWtDQSxRQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxJQUFBLEVBQ0EsR0FBQSxDQUVBLEtBQUEsR0FBQSxHQUNBLEtBQUEsSUFBQSxHQVlBLE9BVkEsTUFBQSxFQUNBLEdBQUEsRUFDQSxHQUFBLEtBQ0EsRUFBQSxXQUFBLEdBQUEsRUFBQSxRQUFBLEVBQ0EsRUFBQSxZQUFBLEdBQUEsRUFBQSxTQUFBLEdBRUEsRUFBQSxRQUFBLEVBQ0EsRUFBQSxRQUFBLEVBQ0EsRUFBQSxTQUFBLEVBRUEsR0FBQSxFQUFBLEVBQUEsR0F3QkEsUUFBQSxJQUFBLEVBQUEsR0FDQSxNQUFBLElBQUEsRUFBQSxJQUFBLElBb0JBLFFBQUEsSUFBQSxHQUNBLE1BQUEsWUFDQSxNQUFBLElBbUNBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLFNBQUEsRUFDQSxJQUFBLE1BQUEsR0FBQSxZQUFBLEVBQ0EsTUFBQSxHQUFBLEVBQUEsRUFBQSxFQUdBLElBQUEsVUFBQSxFQUNBLE1BQUEsSUFBQSxFQUVBLElBQUEsR0FBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEVBR0EsT0FBQSxJQUFBLEVBQUEsUUFBQSxJQUFBLEdBQUEsR0FBQSxHQVFBLFNBQUEsR0FJQSxJQUhBLEdBQUEsR0FBQSxFQUFBLE9BQ0EsR0FBQSxFQUVBLE1BQ0EsRUFBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxJQUFBLE1BQUEsTUFJQSxNQUFBLElBZEEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsT0FBQSxLQUFBLElBQUEsSUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLElBOEJBLFFBQUEsSUFBQSxHQUNBLE1BQUEsT0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLFFBQUEsR0FBQSxJQWlCQSxRQUFBLElBQUEsR0FDQSxNQUFBLEdBK0JBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLElBQUEsRUFDQSxFQUFBLEdBQUEsR0FBQSxFQUVBLEtBQUEsR0FBQSxFQUFBLFVBQ0EsTUFBQSxJQUNBLEVBQUEsR0FFQSxFQUFBLEVBQ0EsRUFBQSxFQUNBLEVBQUEsRUFDQSxFQUFBLEdBQUEsSUFFQSxLQUFBLEVBQ0EsR0FBQSxFQUNBLEdBQUEsSUFBQSxTQUFBLEtBQ0EsRUFBQSxFQUFBLE1BRUEsSUFBQSxHQUFBLEVBQ0EsRUFBQSxHQUFBLEVBRUEsSUFBQSxFQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFDQSxLQUNBLEVBQUEsVUFBQSxHQUFBLFdBQ0EsR0FBQSxHQUFBLEtBQUEsVUFDQSxFQUFBLEtBQUEsWUFDQSxHQUFBLEVBRUEsSUFBQSxNQUFBLEVBQUEsVUFDQSxJQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsRUFDQSxJQUFBLEdBQUEsRUFBQSxDQUNBLEdBQUEsSUFBQSxHQUFBLEdBQUEsR0FDQSxNQUFBLEtBRUEsR0FBQSxHQUFBLEdBQUEsR0FDQSxFQUFBLFVBQUEsRUFFQSxNQUFBLE9Ba0JBLFFBQUEsTUFFQSxNQURBLEdBQUEsRUFBQSxHQUNBLEtBZUEsUUFBQSxPQXFFQSxRQUFBLElBQUEsR0FDQSxNQUFBLFVBQUEsR0FDQSxNQUFBLEdBQUEsSUErQkEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxNQUFBLEVBQ0EsRUFBQSxNQUFBLENBc0JBLElBcEJBLE1BQUEsSUFDQSxpQkFBQSxJQUFBLEdBQ0EsRUFBQSxFQUNBLEVBQUEsR0FFQSxHQUFBLGlCQUFBLEtBQ0EsRUFBQSxFQUNBLEdBQUEsSUFHQSxHQUFBLElBQ0EsRUFBQSxHQUVBLEdBQUEsR0FBQSxFQUNBLEdBQ0EsRUFBQSxFQUNBLEVBQUEsR0FFQSxHQUFBLEdBQUEsRUFFQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsQ0FDQSxHQUFBLEdBQUEsSUFDQSxPQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxXQUFBLFFBQUEsRUFBQSxJQUFBLE9BQUEsS0FBQSxHQUVBLE1BQUEsSUFBQSxFQUFBLEdBOEJBLFFBQUEsSUFBQSxFQUFBLEdBQ0EsR0FBQSxFQUFBLENBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxPQUFBLElBQUEsR0FBQSxFQUFBLEtBQUEsR0EwRkEsUUFBQSxJQUFBLEVBQUEsRUFBQSxHQUtBLEdBQUEsR0FBQSxFQUFBLGdCQUNBLEdBQUEsR0FBQSxHQUFBLElBR0EsRUFBQSxNQUFBLEVBQUEsRUFFQSxJQUlBLEdBSkEsRUFBQSxNQUFBLEVBQUEsUUFBQSxFQUFBLFNBQ0EsRUFBQSxHQUFBLEdBQ0EsRUFBQSxHQUFBLEdBR0EsRUFBQSxFQUNBLEVBQUEsRUFBQSxhQUFBLEVBQ0EsRUFBQSxXQUdBLEVBQUEsSUFDQSxFQUFBLFFBQUEsR0FBQSxPQUFBLElBQ0EsRUFBQSxPQUFBLEtBQ0EsSUFBQSxFQUFBLEVBQUEsR0FBQSxPQUFBLEtBQ0EsRUFBQSxVQUFBLEdBQUEsT0FBQSxLQUNBLElBRUEsR0FBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FxQkEsTUFwQkEsS0FBQSxFQUFBLEdBR0EsR0FBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLFFBQUEsRUFBQSxHQUdBLElBQ0EsR0FBQSxZQUFBLEVBQUEsVUFFQSxJQUNBLEdBQUEsRUFDQSxHQUFBLE9BQUEsRUFBQSxlQUVBLElBQ0EsR0FBQSxpQkFBQSxFQUFBLCtCQUVBLEVBQUEsRUFBQSxFQUFBLE9BSUEsSUFHQSxHQUFBLE1BSUEsSUFBQSxHQUFBLEVBQUEsU0FDQSxFQUFBLENBRUEsS0FDQSxFQUFBLE1BQ0EsRUFBQSxTQUFBLEVBQUEsUUFBQSxFQUFBLFNBR0EsR0FBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLElBQUEsR0FDQSxRQUFBLEVBQUEsTUFDQSxRQUFBLEVBQUEsT0FHQSxFQUFBLFlBQUEsRUFBQSxTQUNBLEVBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxhQUNBLHFDQUNBLEVBQ0EsdUZBRUEsT0FFQSxFQUNBLGVBSUEsSUFBQSxHQUFBLHdCQUFBLEVBQUEsV0FBQSwyQkFBQSxLQUFBLEtBQUEsTUFFQSxLQUNBLEdBQUEsR0FBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLEdBQUEsTUFBQSxFQUFBLEdBQ0EsTUFBQSxHQUVBLEtBREEsR0FBQSxPQUFBLEVBQ0EsRUFFQSxNQUFBLEdBQ0EsRUFBQSxJQUtBLEVBQUEsT0FBQSxFQUNBLEdBMEJBLFFBQUEsSUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsQ0FDQSxJQUFBLEdBQUEsR0FDQSxFQUFBLEdBQUEsRUFHQSxLQURBLEVBQUEsRUFBQSxFQUFBLEVBQUEsS0FDQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsRUFFQSxPQUFBLEdBa0JBLFFBQUEsSUFBQSxHQUNBLE1BQUEsT0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLFFBQUEsR0FBQSxJQW1CQSxRQUFBLElBQUEsR0FDQSxHQUFBLEtBQUEsQ0FDQSxPQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxFQTZCQSxRQUFBLElBQUEsR0FHQSxNQUZBLEdBQUEsR0FBQSxHQUFBLEdBQ0EsRUFBQSxXQUFBLEVBQ0EsRUF1QkEsUUFBQSxJQUFBLEVBQUEsR0FFQSxNQURBLEdBQUEsR0FDQSxFQTRCQSxRQUFBLE1BRUEsTUFEQSxNQUFBLFdBQUEsRUFDQSxLQWVBLFFBQUEsTUFDQSxNQUFBLElBQUEsS0FBQSxhQWdCQSxRQUFBLE1BQ0EsTUFBQSxNQUFBLFlBMzdMQSxFQUFBLEVBQUEsR0FBQSxTQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsQ0FHQSxJQUFBLElBQUEsRUFBQSxNQUNBLEdBQUEsRUFBQSxRQUNBLEdBQUEsRUFBQSxLQUNBLEdBQUEsRUFBQSxTQUNBLEdBQUEsRUFBQSxLQUNBLEdBQUEsRUFBQSxPQUNBLEdBQUEsRUFBQSxPQUNBLEdBQUEsRUFBQSxPQUNBLEdBQUEsRUFBQSxPQUNBLEdBQUEsRUFBQSxVQVFBLE1BR0EsR0FBQSxHQUFBLFVBR0EsR0FBQSxFQUFBLEVBR0EsR0FBQSxHQUFBLFNBR0EsR0FBQSxHQUFBLElBQ0EsR0FBQSxJQUNBLFFBQUEsc0JBQUEsUUFDQSxRQUFBLHdCQUFBLE9BQUEsS0FJQSxHQUFBLEdBQUEsS0FDQSxHQUFBLEVBQUEsYUFDQSxHQUFBLEdBQUEsTUFDQSxHQUFBLEdBQUEsVUFBQSxTQUNBLEdBQUEsR0FBQSxHQUFBLEdBQUEsaUJBQUEsR0FDQSxHQUFBLEdBQUEsZUFDQSxHQUFBLEdBQUEsS0FDQSxHQUFBLEVBQUEsV0FDQSxHQUFBLEdBQUEsT0FDQSxHQUFBLEdBQUEsUUFHQSxHQUFBLFdBRUEsSUFDQSxHQUFBLE1BQ0EsRUFBQSxHQUFBLEVBQUEsR0FBQSxpQkFBQSxFQUNBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUNBLE1BQUEsSUFDQSxNQUFBLE1BSUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsR0FBQSxVQUFBLEdBQ0EsR0FBQSxFQUFBLFNBQ0EsR0FBQSxFQUFBLE1BQ0EsR0FBQSxHQUFBLEdBQUEsR0FBQSxPQUFBLEdBQ0EsR0FBQSxHQUFBLElBQ0EsR0FBQSxHQUFBLElBQ0EsR0FBQSxFQUFBLFNBQ0EsR0FBQSxHQUFBLE9BR0EsS0FDQSxJQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsR0F5RkEsRUFBQSxVQUFBLEVBQUEsU0FTQSxJQUFBLElBQUEsRUFBQSxVQVNBLElBQUEsWUFBQSxHQUFBLEVBQUEsYUFBQSxFQUFBLEtBQUEsR0FRQSxHQUFBLFVBQUEsZ0JBQUEsSUFBQSxLQVdBLEVBQUEsa0JBUUEsT0FBQSxtQkFRQSxTQUFBLGtCQVFBLFlBQUEsRUFRQSxTQUFBLEdBUUEsU0FRQSxFQUFBLElBbUpBLEtBQ0EsRUFBQSxXQUNBLFFBQUEsTUFDQSxNQUFBLFVBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxDQUNBLEVBQUEsVUFBQSxDQUNBLElBQUEsR0FBQSxHQUFBLEVBQ0EsR0FBQSxVQUFBLEtBRUEsTUFBQSxJQUFBLEVBQUEsYUFzb0JBLElBQUEsSUFBQSxHQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsTUFBQSxFQUNBLEdBQUEsRUFBQSxlQUFBLElBRkEsR0FvRkEsR0FBQSxJQUFBLFNBQUEsR0FDQSxNQUFBLElBQUEsZ0JBQUEsSUFBQSxnQkFBQSxHQUFBLFFBQ0EsR0FBQSxLQUFBLElBQUEsSUFBQSxHQVlBLEdBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsSUFDQSxLQUFBLEVBQUEsTUFBQSxFQUNBLEtBQUEsUUFBQSxJQUFBLE1BQUEsRUFDQSxLQUFBLElBQUEsR0FDQSxHQUFBLEtBQUEsRUFBQSxJQUNBLEVBQUEsS0FBQSxFQUdBLE9BQUEsSUFnQkEsR0FBQSxHQUFBLFNBQUEsR0FDQSxNQUFBLElBQUEsR0FHQSxHQUFBLE9BSkEsR0FlQSxJQUNBLElBQUEsUUFDQSxJQUFBLE9BQ0EsSUFBQSxPQUNBLElBQUEsU0FDQSxJQUFBLFNBSUEsR0FBQSxHQUFBLElBR0EsR0FBQSxHQUFBLElBQUEsR0FBQSxJQUFBLEtBQUEsS0FBQSxJQUFBLEtBQ0EsR0FBQSxHQUFBLElBQUEsR0FBQSxJQUFBLEtBQUEsSUFBQSxJQUFBLEtBa0NBLEdBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsQ0FDQSxLQUFBLEVBQUEsTUFBQSxFQUNBLElBQUEsR0FBQSxVQUNBLEVBQUEsRUFDQSxFQUFBLGdCQUFBLEdBQUEsRUFBQSxFQUFBLE1BQ0EsSUFBQSxFQUFBLEdBQUEsa0JBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLE9BQ0EsR0FBQSxHQUFBLGtCQUFBLEdBQUEsRUFBQSxLQUNBLEVBQUEsSUFBQSxHQUVBLFFBQUEsRUFBQSxHQUVBLEdBREEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxRQUFBLElBS0EsSUFKQSxHQUFBLEdBQUEsR0FDQSxFQUFBLFFBQUEsS0FBQSxHQUFBLEdBQ0EsRUFBQSxFQUFBLEVBQUEsT0FBQSxJQUVBLEVBQUEsR0FDQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxFQUlBLE9BQUEsSUEySkEsR0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxDQUNBLEtBQUEsRUFBQSxNQUFBLEVBSUEsS0FIQSxHQUFBLEdBQUEsVUFDQSxFQUFBLEVBQ0EsRUFBQSxnQkFBQSxHQUFBLEVBQUEsRUFBQSxTQUNBLEVBQUEsR0FFQSxHQURBLEVBQUEsRUFBQSxHQUNBLEdBQUEsUUFBQSxJQUtBLElBSkEsR0FBQSxHQUFBLEdBQ0EsRUFBQSxRQUFBLEtBQUEsR0FBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLE9BQUEsSUFFQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQ0EsbUJBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEdBSUEsT0FBQSxJQTRJQSxHQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLENBQ0EsS0FBQSxFQUFBLE1BQUEsRUFDQSxLQUFBLFFBQUEsSUFBQSxNQUFBLEVBQ0EsR0FBQSxHQUFBLG1CQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUNBLEtBQUEsSUFBQSxHQUNBLEdBQUEsRUFBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsTUFBQSxFQUVBLE9BQUEsSUFxRUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxDQUNBLEtBQUEsRUFBQSxNQUFBLEVBQ0EsS0FBQSxRQUFBLElBQUEsTUFBQSxFQUNBLEdBQUEsR0FBQSxtQkFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFLQSxLQUpBLEdBQUEsR0FBQSxHQUNBLEVBQUEsUUFBQSxLQUFBLEdBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxPQUFBLElBRUEsRUFBQSxHQUVBLEdBREEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsTUFBQSxFQUVBLE9BQUEsSUEwWkEsR0FBQSxHQUFBLFNBQUEsR0FDQSxJQUFBLEdBQUEsR0FBQSxLQUFBLElBQUEsRUFDQSxPQUFBLENBRUEsSUFBQSxHQUFBLEVBQUEsUUFDQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEVBRUEsT0FBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLElBQUEsRUFDQSxHQUFBLElBVEEsR0FxZ0JBLEdBQUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxJQXdWQSxHQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsSUFDQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsS0FBQSxLQTBDQSxHQUFBLEdBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsSUEwUUEsR0FBQSxHQXFaQSxHQUFBLEdBazJEQSxHQUFBLEdBQUEsR0FBQSxHQUFBLE1BQUEsSUFBQSxXQUNBLE9BQUEsR0FBQSxLQUFBLFdBc0JBLEdBQUEsR0FBQSxHQUFBLEVBQUEsTUFBQSxHQUFBLFNBQUEsRUFBQSxHQUVBLE1BQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxRQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsR0FvdUJBLE9Bdk9BLEdBQUEsTUFBQSxHQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsR0FBQSxHQUNBLEVBQUEsS0FBQSxHQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsTUFBQSxHQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsU0FBQSxHQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsZUFBQSxHQUNBLEVBQUEsTUFBQSxHQUNBLEVBQUEsU0FBQSxHQUNBLEVBQUEsU0FBQSxHQUNBLEVBQUEsTUFBQSxHQUNBLEVBQUEsTUFBQSxHQUNBLEVBQUEsV0FBQSxHQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsYUFBQSxHQUNBLEVBQUEsTUFBQSxHQUNBLEVBQUEsV0FBQSxHQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsWUFBQSxHQUNBLEVBQUEsVUFBQSxHQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsYUFBQSxHQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsS0FBQSxHQUNBLEVBQUEsSUFBQSxHQUNBLEVBQUEsVUFBQSxHQUNBLEVBQUEsSUFBQSxHQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsTUFBQSxHQUNBLEVBQUEsSUFBQSxHQUNBLEVBQUEsS0FBQSxHQUNBLEVBQUEsS0FBQSxHQUNBLEVBQUEsTUFBQSxHQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsYUFBQSxHQUNBLEVBQUEsS0FBQSxHQUNBLEVBQUEsTUFBQSxHQUNBLEVBQUEsU0FBQSxHQUNBLEVBQUEsS0FBQSxHQUNBLEVBQUEsTUFBQSxHQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsS0FBQSxHQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsSUFBQSxHQUNBLEVBQUEsU0FBQSxHQUNBLEVBQUEsTUFBQSxHQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsVUFBQSxHQUNBLEVBQUEsTUFBQSxHQUNBLEVBQUEsS0FBQSxHQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsTUFBQSxHQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsS0FBQSxHQUNBLEVBQUEsSUFBQSxHQUNBLEVBQUEsSUFBQSxHQUNBLEVBQUEsVUFBQSxHQUdBLEVBQUEsUUFBQSxHQUNBLEVBQUEsS0FBQSxHQUNBLEVBQUEsS0FBQSxHQUNBLEVBQUEsVUFBQSxHQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsUUFBQSxHQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsS0FBQSxHQUNBLEVBQUEsT0FBQSxHQUNBLEVBQUEsTUFBQSxHQUdBLEdBQUEsR0FLQSxFQUFBLE1BQUEsR0FDQSxFQUFBLFVBQUEsR0FDQSxFQUFBLFNBQUEsR0FDQSxFQUFBLE9BQUEsR0FDQSxFQUFBLE1BQUEsR0FDQSxFQUFBLEtBQUEsR0FDQSxFQUFBLFVBQUEsR0FDQSxFQUFBLFFBQUEsR0FDQSxFQUFBLFNBQUEsR0FDQSxFQUFBLGNBQUEsR0FDQSxFQUFBLFlBQUEsR0FDQSxFQUFBLElBQUEsR0FDQSxFQUFBLFNBQUEsR0FDQSxFQUFBLFFBQUEsR0FDQSxFQUFBLFlBQUEsR0FDQSxFQUFBLFFBQUEsR0FDQSxFQUFBLFVBQUEsR0FDQSxFQUFBLE9BQUEsR0FDQSxFQUFBLFVBQUEsR0FDQSxFQUFBLFFBQUEsR0FDQSxFQUFBLFFBQUEsR0FDQSxFQUFBLFNBQUEsR0FDQSxFQUFBLFdBQUEsR0FDQSxFQUFBLE1BQUEsR0FDQSxFQUFBLE9BQUEsR0FDQSxFQUFBLFNBQUEsR0FDQSxFQUFBLFNBQUEsR0FDQSxFQUFBLGNBQUEsR0FDQSxFQUFBLFNBQUEsR0FDQSxFQUFBLFNBQUEsR0FDQSxFQUFBLFlBQUEsR0FDQSxFQUFBLFlBQUEsR0FDQSxFQUFBLE1BQUEsR0FDQSxFQUFBLFdBQUEsR0FDQSxFQUFBLEtBQUEsR0FDQSxFQUFBLElBQUEsR0FDQSxFQUFBLFNBQUEsR0FDQSxFQUFBLE9BQUEsR0FDQSxFQUFBLE9BQUEsR0FDQSxFQUFBLFlBQUEsR0FDQSxFQUFBLE9BQUEsR0FDQSxFQUFBLGFBQUEsRUFDQSxFQUFBLEtBQUEsR0FDQSxFQUFBLEtBQUEsR0FDQSxFQUFBLFlBQUEsR0FDQSxFQUFBLFNBQUEsR0FDQSxFQUFBLFNBQUEsR0FDQSxFQUFBLFNBQUEsR0FHQSxFQUFBLElBQUEsR0FDQSxFQUFBLElBQUEsR0FDQSxFQUFBLE9BQUEsR0FDQSxFQUFBLFVBQUEsR0FDQSxFQUFBLE1BQUEsR0FDQSxFQUFBLE1BQUEsR0FDQSxFQUFBLFFBQUEsR0FDQSxFQUFBLE9BQUEsR0FFQSxHQUFBLFdBQ0EsR0FBQSxLQU1BLE9BTEEsSUFBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsVUFBQSxLQUNBLEVBQUEsR0FBQSxLQUdBLE1BQ0EsR0FLQSxFQUFBLE1BQUEsR0FDQSxFQUFBLEtBQUEsR0FDQSxFQUFBLE9BQUEsR0FHQSxFQUFBLEtBQUEsR0FDQSxFQUFBLEtBQUEsR0FFQSxHQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLFdBQUEsQ0FDQSxHQUFBLFVBQUEsS0FDQSxFQUFBLFVBQUEsR0FBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsS0FBQSxVQUNBLEVBQUEsRUFBQSxLQUFBLFlBQUEsRUFBQSxFQUVBLE9BQUEsSUFBQSxNQUFBLEtBQUEsR0FBQSxHQUFBLGtCQUFBLElBRUEsR0FBQSxHQUFBLEVBQUEsR0FEQSxNQWVBLEVBQUEsUUFBQSxRQUdBLEVBQUEsVUFBQSxNQUFBLEdBQ0EsRUFBQSxVQUFBLFNBQUEsR0FDQSxFQUFBLFVBQUEsTUFBQSxHQUNBLEVBQUEsVUFBQSxRQUFBLEdBR0EsSUFBQSxPQUFBLE1BQUEsU0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsRUFDQSxHQUFBLFVBQUEsR0FBQSxXQUNBLEdBQUEsR0FBQSxLQUFBLFVBQ0EsRUFBQSxFQUFBLE1BQUEsS0FBQSxZQUFBLFVBRUEsT0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEdBQ0EsS0FLQSxJQUFBLE9BQUEsVUFBQSxPQUFBLFdBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEVBQ0EsR0FBQSxVQUFBLEdBQUEsV0FFQSxNQURBLEdBQUEsTUFBQSxLQUFBLFlBQUEsV0FDQSxRQUtBLElBQUEsU0FBQSxRQUFBLFVBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEVBQ0EsR0FBQSxVQUFBLEdBQUEsV0FDQSxNQUFBLElBQUEsR0FBQSxFQUFBLE1BQUEsS0FBQSxZQUFBLFdBQUEsS0FBQSxjQUlBLEVBaGxOQSxHQUFBLEdBR0EsS0FDQSxLQUdBLEVBQUEsRUFHQSxHQUFBLEdBQUEsTUFBQSxHQUdBLEVBQUEsR0FHQSxFQUFBLEdBR0EsRUFBQSwwQ0FZQSxFQUFBLGlCQUNBLEVBQUEscUJBQ0EsRUFBQSxnQ0FNQSxFQUFBLGtDQUdBLEVBQUEsT0FHQSxFQUFBLDJCQUdBLEVBQUEsbUJBR0EsRUFBQSxPQUFBLEtBQUEsRUFBQSxjQUdBLEVBQUEsT0FHQSxFQUFBLFdBR0EsRUFBQSwyQkFHQSxHQUNBLFFBQUEsVUFBQSxPQUFBLFdBQUEsT0FBQSxTQUFBLFNBQ0EsU0FBQSxTQUFBLElBQUEsY0FBQSxlQUFBLFdBQUEsUUFDQSxXQUFBLGNBSUEsRUFBQSxFQUdBLEVBQUEscUJBQ0EsRUFBQSxpQkFDQSxFQUFBLG1CQUNBLEVBQUEsZ0JBQ0EsRUFBQSxvQkFDQSxFQUFBLGtCQUNBLEVBQUEsa0JBQ0EsRUFBQSxrQkFDQSxFQUFBLGtCQUdBLElBQ0EsR0FBQSxJQUFBLEVBQ0EsRUFBQSxHQUFBLEVBQUEsR0FDQSxFQUFBLEdBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxHQUFBLEVBQUEsSUFBQSxDQUdBLElBQUEsSUFDQSxTQUFBLEVBQ0EsUUFBQSxFQUNBLFVBQUEsR0FJQSxHQUNBLGNBQUEsRUFDQSxZQUFBLEVBQ0EsTUFBQSxLQUNBLFVBQUEsR0FJQSxHQUNBLFdBQUEsRUFDQSxZQUFBLEVBQ0EsUUFBQSxFQUNBLFFBQUEsRUFDQSxRQUFBLEVBQ0EsV0FBQSxHQUlBLEdBQ0EsS0FBQSxLQUNBLElBQUEsSUFDQSxLQUFBLElBQ0EsS0FBQSxJQUNBLElBQUEsSUFDQSxTQUFBLFFBQ0EsU0FBQSxTQUlBLEVBQUEsUUFBQSxVQUFBLFFBQUEsS0FHQSxFQUFBLFFBQUEsS0FBQSxJQUFBLEVBQUEsVUFBQSxFQUdBLEdBQUEsUUFBQSxLQUFBLElBQUEsRUFBQSxVQUFBLEVBR0EsR0FBQSxJQUFBLEdBQUEsVUFBQSxHQUFBLEVBR0EsR0FBQSxRQUFBLEtBQUEsR0FDQSxJQUFBLEdBQUEsU0FBQSxJQUFBLEdBQUEsU0FBQSxLQUNBLEVBQUEsR0F3OE1BLElBQUEsSUFBQSxHQUdBLG1CQUFBLElBQUEsZ0JBQUEsR0FBQSxLQUFBLEVBQUEsS0FJQSxFQUFBLEVBQUEsR0FJQSxFQUFBLFdBQ0EsTUFBQSxPQUlBLEdBQUEsR0FFQSxJQUNBLEdBQUEsUUFBQSxJQUFBLEVBQUEsR0FJQSxFQUFBLEVBQUEsR0FLQSxFQUFBLEVBQUEsS0FFQSxLQUFBLFFBRUEsS0FBQSxLQUFBLG1CQUFBLE1BQUEsS0FBQSxtQkFBQSxRQUFBLGdCQUNBLEdBQUEsU0FBQSxFQUFBLEVBQUEsSUFDQSxTQUFBLEdBQ0EsWUE2RUEsU0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBSUEsS0FBQSxZQUFBLEdBQUEsVUFHQSxLQUFBLFFBR0EsS0FBQSxTQUFBLEtBR0EsS0FBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLEdBR0EsS0FBQSxXQUFBLEVBQUEsRUFBQSxZQUFBLEVBQ0EsS0FBQSxXQUFBLEVBQUEsRUFBQSxXQUFBLEdBQUEsR0FHQSxLQUFBLFNBQUEsU0FBQSxlQUFBLGlCQUFBLGlCQUFBLGdCQUdBLEtBQUEsVUFBQSxHQUFBLEtBQ0EsS0FBQSxZQUNBLElBQUEsRUFBQSxTQUFBLEtBQUEsUUFBQSxNQUdBLEtBQUEsa0JBR0EsS0FBQSxLQUFBLEtBQ0EsS0FBQSxhQUFBLEVBQUEsVUFBQSxVQUFBLE9BQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxlQUdBLEtBQUEsWUFBQSxJQUtBLEtBQUEsR0FBQSxLQUFBLE1BQ0EsRUFBQSxNQUFBLE9BQUEsa0JBQUEsTUFBQSxJQUNBLEVBQUEsS0FBQSxHQW9wQkEsUUFBQSxHQUFBLEdBQ0EsS0FBQSxLQUFBLEVBQ0EsS0FBQSxTQUVBLEtBQUEsTUFtSkEsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUdBLEtBQUEsU0FBQSxXQUFBLEVBQUEsTUFBQSxLQUFBLE1BQUEsVUFBQSxNQUFBLEtBQUEsVUFBQSxLQUNBLEtBQUEsWUFDQSxLQUFBLFdBQUEsRUFBQSxrQkFDQSxLQUFBLElBQUEsRUFDQSxLQUFBLGNBQUEsRUFBQSxtQkFDQSxLQUFBLFNBQUEsRUFBQSxVQUFBLEVBQUEsbUJBQ0EsR0FBQSxFQUFBLE9BQUEsS0FBQSxTQUFBLEVBS0EsS0FBQSxHQUFBLEtBQUEsTUFDQSxFQUFBLE1BQUEsT0FBQSxrQkFBQSxNQUFBLElBQ0EsRUFBQSxLQUFBLEdBb01BLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFBQSxNQUFBLEVBQUEsTUFBQSxTQUNBLE1BQUEsSUFBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLE1BQ0EsS0FBQSxTQUFBLEVBQUEsRUFBQSxjQUFBLEtBQUEsSUFBQSxTQUNBLEtBQUEsUUFDQSxLQUFBLFFBQ0EsS0FBQSxPQUNBLEtBQUEsWUFDQSxLQUFBLFFBQ0EsS0FBQSxNQUFBLEtBQUEsV0FBQSxFQUFBLEdBQUEsS0FBQSxJQUFBLEtBQUEsSUFBQSxVQUFBLFFBQ0EsS0FBQSxPQUFBLEtBQUEsSUFBQSxHQWdMQSxRQUFBLEtBQ0EsS0FBQSxnQkFvQ0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLENBT0EsT0FOQSxHQUFBLFlBQUEsS0FDQSxFQUFBLEVBQUEsRUFBQSxJQUVBLElBQUEsR0FBQSxFQUFBLFlBQUEsSUFBQSxJQUFBLElBQ0EsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUVBLEVBR0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxNQUFBLEtBQUEsRUFDQSxPQUFBLEdBQUEsT0FBQSxFQUNBLE9BQUEsRUFBQSxHQUFBLFFBRUEsVUFBQSxHQUNBLGdCQUFBLEdBQUEsR0FBQSxFQUVBLEVBQUEsRUFBQSxFQUFBLEdBR0EsRUFtREEsUUFBQSxHQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FDQSxRQUNBLElBQUEsWUFBQSxFQUNBLEdBQUEsRUFDQSxNQUFBLEVBQ0EsU0FBQSxFQUNBLFNBQUEsV0FDQSxTQUFBLEVBQUEsR0FDQSxrQkFBQSx1QkFJQSxRQUFBLEdBQUEsR0FDQSxHQUFBLEdBQUEsSUFFQSxHQUNBLElBQUEsRUFBQSxJQUFBLEVBQ0EsR0FBQSxFQUNBLFNBQUEsRUFDQSxTQUFBLEVBQ0Esa0JBQUEsc0JBRUEsUUFBQSxHQUNBLElBQUEsV0FDQSxFQUFBLE1BQUEscUJBQ0EsRUFBQSxTQUFBLEVBQUEsRUFBQSxNQUNBLE1BQ0EsS0FBQSxVQUNBLEVBQUEsWUFBQSxlQUNBLEVBQUEsa0JBQUEsc0JBQ0EsRUFBQSxZQUFBLGVBQ0EsRUFBQSxzQkFDQSxFQUFBLFNBQUEsVUFDQSxNQUNBLEtBQUEsU0FDQSxFQUFBLFlBQUEsZUFDQSxFQUFBLFlBQUEsZUFDQSxFQUFBLE1BQUEscUJBQ0EsRUFBQSxxQkFDQSxNQUNBLEtBQUEsU0FDQSxFQUFBLFlBQUEsZUFDQSxFQUFBLFlBQUEsZUFDQSxFQUFBLHNCQUNBLEVBQUEsU0FBQSxVQUNBLE1BQ0EsS0FBQSxXQUNBLEVBQUEsWUFBQSxlQUNBLEVBQUEsWUFBQSxlQUNBLEVBQUEscUJBQ0EsTUFDQSxLQUFBLFlBQ0EsS0FDQSxTQUNBLEtBQUEsSUFBQSxPQUFBLHdCQUFBLEdBR0EsTUFBQSxHQUdBLFFBQUEsR0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEdBQUEsRUFHQSxPQUZBLEdBQUEsV0FBQSxFQUFBLFlBQUEsSUFBQSxFQUFBLEVBQ0EsSUFBQSxFQUFBLEVBQUEsTUFBQSxJQUNBLEVBR0EsUUFBQSxHQUFBLEVBQUEsR0FDQSxNQUFBLEdBQUEsUUFBQSxNQUFBLElBQUEsSUFBQSxFQUFBLFFBQUEsTUFBQSxJQUdBLFFBQUEsR0FBQSxHQUNBLE1BQUEsR0FBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLFVBR0EsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUdBLE1BRkEsR0FBQSxFQUFBLFVBQUEsR0FDQSxFQUFBLFNBQUEsSUFBQSxFQUFBLFFBQUEsS0FBQSxFQUFBLE9BRUEsSUFBQSxXQUFBLE1BQUEsSUFDQSxJQUFBLFdBQUEsTUFBQSxJQUNBLEtBQUEsV0FBQSxNQUFBLEdBQUEsUUFDQSxZQUFBLFdBQUEsTUFBQSxJQUNBLFFBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLElBQ0EsR0FBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsTUFBQSxHQUNBLE9BQUEsTUFBQSxLQUdBLE1BQUEsU0FBQSxHQUNBLE1BQUEsR0FBQSxFQUFBLE1BQUEsR0FBQSxFQUFBLFNBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsTUFBQSxHQUFBLFlBS0EsUUFBQSxHQUFBLEdBQ0EsUUFBQSxHQUFBLElBQUEsTUFBQSx3QkFBQSxLQUFBLE9BQUEsR0FHQSxRQUFBLEdBQUEsRUFBQSxHQUNBLE9BQUEsS0FBQSxHQUFBLGdCQUFBLFFBQUEseUJBQUEsR0FBQSxHQUFBLHFCQUdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFDQSxFQUFBLElBQUEsQ0FLQSxPQUpBLEdBQUEsU0FBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLEtBQ0EsRUFBQSxFQUFBLFNBQ0EsR0FBQSxJQUVBLEVBR0EsUUFBQSxHQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsTUFBQSxFQWFBLE9BWkEsR0FBQSxTQUFBLEtBQ0EsRUFBQSxJQUFBLEVBQUEsWUFDQSxFQUFBLEVBQUEsTUFBQSxFQUFBLFlBRUEsRUFBQSxJQUFBLEVBQUEsb0JBQ0EsR0FBQSxhQUtBLEVBQUEsUUFBQSxLQUFBLEVBQUEsT0FFQSxFQUdBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FFQSxHQURBLElBQUEsRUFBQSxTQUNBLGdCQUFBLElBQUEsRUFBQSxNQUFBLGVBQ0EsS0FBQSxJQUFBLE9BQUEsRUFBQSxZQUFBLEVBQUEseUJBQUEsRUFBQSxJQUFBLGdHQUlBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLE9BQUEsR0FBQSxnQkFBQSxJQUFBLGdCQUFBLEdBQ0EsS0FBQSxJQUFBLE9BQUEsRUFBQSx5RkFFQSxHQUFBLFlBQUEsSUFDQSxFQUFBLEVBQUEsRUFBQSxVQTVpREEsR0FBQSxJQUFBLEVBRUEsRUFBQSxFQUFBLFVBQ0EsRUFBQSxFQUFBLE1BdUhBLEdBQUEsV0F3Q0EsTUFBQSxTQUFBLEdBRUEsTUFEQSxNQUFBLFdBQUEsTUFBQSxHQUNBLE1BV0EsVUFBQSxTQUFBLEdBVUEsTUFUQSxHQUFBLFlBQUEsS0FBQSxHQUFBLEdBQ0EsS0FBQSxhQUFBLElBQ0EsS0FBQSxXQUFBLEVBQ0EsRUFBQSxLQUFBLEtBQUEsU0FBQSxTQUFBLEdBQ0EsRUFBQSxVQUFBLEtBRUEsS0FBQSxXQUFBLEtBQUEsVUFBQSxVQUFBLEdBQ0EsS0FBQSxHQUFBLEtBQUEsTUFBQSxJQUVBLE1BT0EsZ0JBQUEsV0FDQSxLQUFBLFdBQUEsR0FBQSxJQU1BLGVBQUEsV0FDQSxLQUFBLFNBQ0EsS0FBQSxXQUFBLEtBQUEsT0FBQSxhQVdBLFNBQUEsU0FBQSxFQUFBLEdBQ0EsS0FBQSxLQUFBLEdBQUEsR0FlQSxZQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEVBQUEsT0FDQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxTQUFBLEdBQ0EsT0FBQSxJQUFBLEdBQUEsSUFBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBRUEsR0FBQSxLQUFBLEVBQUEsU0FBQSxHQUNBLEVBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxHQUNBLEVBQUEsSUFBQSxFQUFBLEVBQUEsUUFTQSxRQUFBLFdBQ0EsTUFBQSxHQUFBLFVBQUEsS0FBQSxPQU9BLFFBQUEsV0FDQSxNQUFBLE1BQUEsZUFBQSxTQU9BLGNBQUEsV0FDQSxNQUFBLE1BQUEsYUFnQkEsVUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLFFBQUEsSUFBQSxZQUFBLEVBQUEsS0FBQSxXQUFBLEdBQ0EsVUFBQSxPQUFBLElBQUEsRUFBQSxNQUNBLFVBQUEsT0FBQSxJQUFBLEVBQUEsTUFDQSxVQUFBLE9BQUEsSUFBQSxFQUFBLEtBQ0EsSUFBQSxHQUFBLEtBQ0EsRUFBQSxVQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBWUEsT0FYQSxHQUFBLE9BQUEsV0FDQSxFQUFBLEtBQUEsRUFBQSxRQUFBLEdBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQ0EsR0FBQSxVQUFBLGNBQUEsZUFBQSxHQUNBLEVBQUEsS0FBQSxFQUFBLEVBQUEsR0FHQSxFQUFBLEtBQUEsRUFBQSxPQUlBLE1BT0EsU0FBQSxXQUNBLE1BQUEsTUFBQSxhQUdBLE1BQUEsU0FBQSxHQUNBLElBQUEsRUFBQSxLQUFBLElBQUEsT0FBQSxrQkFBQSxLQUFBLFdBQ0EsSUFBQSxHQUFBLEVBQUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxNQUFBLEtBQ0EsRUFBQSxFQUFBLFFBQ0EsRUFBQSxLQUFBLFNBQUEsRUFRQSxPQVBBLEtBQ0EsRUFBQSxHQUFBLEdBQUEsRUFBQSxLQUFBLFlBQUEsR0FBQSxLQUFBLFdBQUEsR0FBQSxLQUFBLEdBQ0EsS0FBQSxTQUFBLEVBQUEsUUFBQSxHQUVBLEVBQUEsU0FDQSxFQUFBLEVBQUEsTUFBQSxJQUVBLEdBR0EsSUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsS0FDQSxFQUFBLEtBQUEsU0FBQSxNQUNBLEdBQUEsRUFBQSxVQUFBLEdBQ0EsR0FBQSxRQUFBLElBQUEsYUFBQSxLQUFBLFdBQUEsR0FDQSxLQUFBLE9BQUEsV0FDQSxHQUFBLFFBQUEsSUFBQSxnQkFBQSxFQUFBLFdBQUEsR0FDQSxPQUFBLEdBQ0EsRUFBQSxhQUFBLEdBRUEsR0FBQSxFQUFBLE1BSUEsT0FBQSxTQUFBLEVBQUEsR0FDQSxJQUFBLEVBQUEsU0FBQSxHQUNBLEtBQUEsSUFBQSxPQUFBLHdEQUVBLElBQUEsR0FBQSxLQUNBLEVBQUEsS0FBQSxTQUFBLFVBQ0EsRUFBQSxLQUFBLFVBQ0EsRUFBQSxFQUFBLE9BQUEsRUFBQSxTQUFBLEdBQUEsS0FBQSxFQUNBLElBQUEsUUFBQSxJQUFBLGdCQUFBLEtBQUEsV0FBQSxHQUNBLEtBQUEsT0FBQSxXQUNBLEdBQUEsUUFBQSxJQUFBLGlCQUFBLEVBQUEsV0FBQSxHQUNBLE9BQUEsR0FDQSxFQUFBLGFBQUEsR0FFQSxHQUFBLEVBQUEsTUFJQSxZQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxLQUNBLEVBQUEsS0FBQSxTQUFBLGNBQ0EsSUFBQSxRQUFBLElBQUEscUJBQUEsRUFBQSxXQUFBLEdBQ0EsRUFBQSxPQUFBLFdBQ0EsR0FBQSxRQUFBLElBQUEsc0JBQUEsRUFBQSxXQUFBLEdBQ0EsRUFBQSxZQUFBLEdBQ0EsR0FBQSxFQUFBLE1BSUEsZ0JBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxLQUFBLFlBQUEsR0FDQSxLQUFBLElBQUEsRUFBQSxJQUdBLEtBQUEsV0FDQSxNQUFBLE1BQUEsUUFHQSxJQUFBLFdBQ0EsTUFBQSxPQUdBLE9BQUEsV0FDQSxNQUFBLE1BQUEsV0FHQSxLQUFBLFdBRUEsSUFEQSxHQUFBLEdBQUEsS0FDQSxFQUFBLFdBQ0EsRUFBQSxFQUFBLFNBRUEsT0FBQSxJQUdBLEtBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQUEsTUFBQSxLQUFBLGNBQ0EsRUFBQSxLQUFBLFNBQUEsT0FNQSxPQUxBLElBQUEsRUFBQSxTQUFBLE1BQUEsR0FDQSxVQUFBLFFBQUEsT0FBQSxHQUVBLEVBQUEsSUFBQSxFQUFBLEdBRUEsR0FHQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsSUFDQSxLQUFBLFVBQUEsUUFBQSxFQUFBLFdBQUEsR0FJQSxVQUFBLE9BQUEsSUFDQSxFQUFBLGFBQ0EsRUFBQSxPQUxBLEVBQUEsRUFDQSxFQUFBLGFBTUEsSUFBQSxHQUFBLEtBQUEsU0FBQSxPQUNBLElBQUEsRUFDQSxLQUFBLE9BQUEsV0FDQSxFQUFBLEtBQUEsRUFBQSxTQUdBLENBQ0EsR0FBQSxHQUFBLFNBQUEsR0FDQSxFQUFBLElBQUEsRUFBQSxFQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsR0FHQSxNQUFBLEdBQUEsRUFBQSxFQUFBLEtBSUEsT0FBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQ0EsRUFBQSxLQUFBLFNBQUEsU0FTQSxPQVJBLElBQUEsUUFBQSxJQUFBLGdCQUFBLEtBQUEsWUFDQSxLQUFBLE9BQUEsV0FDQSxHQUFBLFFBQUEsSUFBQSxtQkFBQSxFQUFBLFlBQ0EsT0FBQSxHQUNBLEVBQUEsYUFBQSxNQUVBLEdBQUEsRUFBQSxLQUVBLE1BR0EsR0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsSUFBQSxVQUFBLFFBQUEsRUFBQSxXQUFBLEdBSUEsVUFBQSxPQUFBLElBQ0EsRUFBQSxlQUpBLEVBQUEsRUFDQSxFQUFBLGFBTUEsSUFBQSxHQUFBLEtBQUEsU0FBQSxLQUNBLElBQUEsRUFDQSxLQUFBLE9BQUEsV0FDQSxFQUFBLEtBQUEsRUFBQSxTQUdBLENBQ0EsR0FBQSxJQUFBLEVBQUEsRUFBQSxFQUNBLE1BQUEsUUFBQSxHQUFBLEtBQUEsRUFDQSxJQUFBLEdBQUEsSUFDQSxXQUFBLEVBQ0EsRUFBQSxPQUFBLFdBRUEsRUFBQSxRQUFBLEdBQUEsUUFBQSxHQUFBLElBQ0EsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLGFBSUEsZ0JBQUEsR0FDQSxFQUFBLE9BQUEsV0FDQSxHQUFBLEVBQUEsUUFBQSxHQUFBLFFBQUEsR0FBQSxHQUFBLENBQ0EsR0FBQSxHQUFBLElBQ0EsR0FBQSxLQUFBLEVBQUEsZUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsTUFBQSxFQUNBLEdBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLFVBQUEsRUFBQSxVQUFBLEdBQ0EsRUFBQSxTQVFBLElBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEVBS0EsR0FBQSxFQUFBLENBQ0EsR0FBQSxHQUFBLEtBQUEsUUFBQSxHQUNBLEVBQUEsS0FBQSxRQUFBLEtBQ0EsR0FBQSxLQUFBLEVBQUEsU0FBQSxJQUNBLEVBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxJQUNBLEVBQUEsS0FBQSxTQUtBLE1BQUEsUUFBQSxVQWRBLEtBQUEsR0FBQSxLQUFBLE1BQUEsUUFDQSxLQUFBLFFBQUEsZUFBQSxJQUNBLEtBQUEsSUFBQSxJQWdCQSxZQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQ0EsRUFBQSxFQUFBLEVBQUEsZ0JBQ0EsRUFBQSxFQUFBLEVBQUEsa0JBV0EsT0FWQSxNQUFBLE9BQUEsV0FDQSxHQUFBLEdBQUEsRUFBQSxTQUFBLGVBSUEsRUFBQSxFQUFBLEVBQUEsV0FDQSxFQUFBLEVBQUEsWUFBQSxJQUFBLEVBQUEsRUFBQSxVQUFBLENBQ0EsR0FBQSxhQUFBLEdBQ0EsRUFBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLFlBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLGNBRUEsRUFBQSxFQUFBLElBVUEsS0FBQSxTQUFBLEVBQUEsR0FFQSxHQUFBLEtBQUEsT0FBQSxJQU9BLE1BQUEsU0FBQSxHQUNBLE1BQUEsSUFBQSxHQUFBLE1BQUEsTUFBQSxJQUdBLFFBQUEsU0FBQSxFQUFBLEdBQ0EsTUFBQSxJQUFBLEdBQUEsTUFBQSxRQUFBLEVBQUEsSUFHQSxNQUFBLFNBQUEsRUFBQSxHQUNBLE1BQUEsSUFBQSxHQUFBLE1BQUEsTUFBQSxFQUFBLElBT0EsY0FBQSxTQUFBLEdBQ0EsR0FBQSxNQUNBLEVBQUEsRUFBQSxPQUNBLEVBQUEsRUFBQSxTQUNBLElBQUEsUUFBQSxJQUFBLGdCQUFBLEtBQUEsV0FBQSxPQUFBLEVBQUEsR0FDQSxPQUFBLEVBQ0EsS0FBQSxhQUFBLEVBQUEsR0FHQSxLQUFBLGFBQUEsRUFBQSxFQUFBLEdBRUEsS0FBQSxZQUFBLElBR0EsYUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQ0EsRUFBQSxFQUFBLEVBQUEsV0FBQSxFQUFBLFVBQ0EsRUFBQSxFQUFBLEVBSUEsSUFIQSxJQUFBLEVBQUEsVUFDQSxFQUFBLFlBQUEsSUFFQSxFQUFBLFFBQUEsRUFBQSxFQUFBLE1BQUEsQ0FDQSxHQUFBLFFBQUEsSUFBQSxlQUFBLEVBQUEsV0FBQSxFQUNBLElBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLE9BQ0EsRUFBQSxFQUFBLEtBQUEsR0FBQSxPQUNBLEVBQUEsRUFBQSxXQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsV0FBQSxFQUFBLEdBQ0EsSUFFQSxHQUFBLEtBQUEsRUFBQSxTQUFBLEdBQ0EsRUFBQSxhQUFBLEVBQUEsS0FHQSxFQUFBLFNBQUEsR0FLQSxFQUFBLEtBQUEsRUFBQSxTQUFBLEdBQ0EsRUFBQSxhQUFBLEVBQUEsRUFBQSxHQUFBLE1BTEEsRUFBQSxNQUFBLEdBQ0EsRUFBQSxLQUFBLEdBU0EsRUFBQSxVQUlBLEVBQUEsWUFBQSxLQUlBLFlBQUEsU0FBQSxHQUNBLEdBQUEsUUFBQSxJQUFBLGNBQUEsS0FBQSxXQUFBLEdBQ0EsS0FBQSxTQUFBLEVBQ0EsS0FBQSxXQUNBLEtBQUEsVUFBQSxRQUFBLEtBQUEsU0FJQSxRQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsSUFBQSxLQUFBLFNBQUEsR0FBQSxLQUFBLFNBQUEsR0FBQSxTQUFBLE1BR0EsUUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLElBQ0EsR0FBQSxlQUFBLEtBQUEsRUFBQSxnQkFBQSxLQUFBLEdBRUEsSUFBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLEtBQ0EsR0FBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLFNBQUEsR0FBQSxLQUFBLEtBQ0EsRUFBQSxLQUFBLEVBQUEsZUFBQSxTQUFBLEdBQ0EsRUFBQSxLQUFBLEdBQUEsRUFBQSxNQUVBLEVBQUEsWUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUEsSUFDQSxFQUFBLFNBQUEsY0FBQSxFQUFBLEtBQUEsR0FBQSxFQUFBLFFBQUEsR0FBQSxJQUlBLFFBQUEsU0FBQSxHQUNBLEtBQUEsRUFBQSxRQUFBLEtBQUEsZUFBQSxLQUNBLEtBQUEsZUFBQSxLQUFBLEdBQ0EsS0FBQSxZQUlBLFNBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFFBQUEsS0FBQSxlQUFBLEVBQ0EsR0FBQSxJQUNBLEtBQUEsZUFBQSxPQUFBLEVBQUEsSUFJQSxPQUFBLFdBR0EsS0FBQSxXQUFBLElBQUEsTUFBQSxVQUFBLE1BQUEsS0FBQSxVQUFBLElBQ0EsS0FBQSxjQUFBLEdBQUEsS0FBQSxNQUFBLEtBQUEsYUFHQSxTQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLFFBQUEsSUFBQSxXQUFBLEVBQUEsS0FBQSxXQUFBLEVBQ0EsSUFBQSxHQUFBLEtBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQ0EsR0FBQSxLQUFBLEVBQUEsUUFBQSxHQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUNBLEdBQUEsVUFBQSxjQUFBLGVBQUEsR0FDQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsY0FBQSxJQUdBLEVBQUEsS0FBQSxFQUFBLE1BS0EsWUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLElBQ0EsR0FBQSxTQUNBLEVBQUEsS0FBQSxFQUFBLFNBQUEsR0FDQSxLQUFBLEdBQUEsRUFBQSxTQUFBLE1BQUEsRUFBQSxLQUVBLEVBQUEsU0FBQSxRQUFBLEVBQUEsS0FBQSxFQUFBLFVBQ0EsRUFBQSxXQUNBLEVBQUEsVUFBQSxjQUFBLEtBSUEsYUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLFNBQUEsS0FBQSxPQUFBLEtBQUEsS0FBQSxlQUFBLEVBQ0EsT0FBQSxHQUlBLEtBQUEsYUFBQSxFQUFBLEVBQUEsR0FIQSxLQUFBLFVBQUEsRUFBQSxFQUFBLElBT0EsVUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsS0FBQSxVQUFBLEdBQ0EsS0FBQSxJQUFBLE9BQUEsK0JBQUEsRUFFQSxHQUFBLFNBQUEsS0FBQSxRQUNBLEtBQUEsU0FFQSxLQUFBLFFBQUEsR0FDQSxLQUFBLEtBQUEsR0FBQSxFQUFBLEVBQ0EsSUFBQSxHQUFBLEtBQUEsTUFBQSxFQUNBLEdBQUEsYUFBQSxHQUNBLEdBQUEsRUFBQSxNQUFBLGNBQUEsRUFBQSxVQUFBLEVBQUEsU0FBQSxLQUdBLGFBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxLQUFBLFVBQUEsR0FBQSxDQUNBLEtBQUEsU0FBQSxFQUNBLElBQUEsR0FBQSxLQUFBLEtBQUEsU0FDQSxNQUFBLEtBQUEsR0FDQSxFQUFBLFFBQUEsS0FBQSxRQUNBLEtBQUEsS0FBQSxNQUVBLEVBQUEsSUFBQSxLQUFBLFNBQUEsSUFDQSxLQUFBLFNBQUEsR0FBQSxhQUFBLE1BRUEsR0FBQSxFQUFBLE1BQUEsZ0JBQUEsRUFBQSxLQUFBLE1BSUEsYUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsSUFBQSxFQUFBLFNBQUEsS0FBQSxPQUFBLEVBQUEsSUFBQSxLQUFBLEtBQUEsS0FBQSxFQUFBLFFBQUEsS0FBQSxLQUFBLEdBQUEsR0FBQSxDQUNBLEtBQUEsS0FBQSxHQUFBLENBQ0EsSUFBQSxHQUFBLEtBQUEsTUFBQSxFQUNBLEdBQUEsYUFBQSxHQUNBLEdBQUEsRUFBQSxNQUFBLGdCQUFBLEVBQUEsVUFBQSxFQUFBLFNBQUEsTUFJQSxXQUFBLFdBRUEsTUFEQSxNQUFBLFlBQUEsUUFBQSxLQUFBLE1BQUEsSUFBQSxLQUFBLE1BQUEsSUFBQSxLQUFBLFVBQ0EsS0FBQSxhQUdBLFNBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLEtBQUEsRUFFQSxjQURBLE1BQUEsS0FBQSxHQUNBLEdBQUEsTUFHQSxVQUFBLFNBQUEsR0FDQSxNQUFBLEdBQUEsU0FBQSxLQUFBLE9BQUEsRUFBQSxJQUFBLEtBQUEsS0FBQSxJQUdBLFdBQUEsU0FBQSxHQUNBLE1BQUEsTUFBQSxVQUFBLEdBQUEsS0FBQSxLQUFBLEdBQUEsTUFHQSxjQUFBLFNBQUEsR0FFQSxHQUFBLEdBQUEsS0FBQSxlQUNBLEVBQUEsRUFBQSxRQUFBLEVBQUEsRUFPQSxPQU5BLEtBQUEsSUFDQSxFQUFBLEVBQUEsUUFDQSxFQUFBLEtBQUEsR0FDQSxFQUFBLEtBQUEsS0FBQSxnQkFBQSxLQUFBLE9BQ0EsRUFBQSxFQUFBLFFBQUEsRUFBQSxJQUVBLElBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxJQUdBLGdCQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLFFBQUEsR0FDQSxFQUFBLEtBQUEsUUFBQSxHQUNBLEVBQUEsRUFBQSxFQUFBLEVBTUEsT0FMQSxLQUFBLEdBQ0EsSUFBQSxJQUNBLEVBQUEsRUFBQSxFQUFBLEdBQUEsR0FHQSxJQWVBLEVBQUEsV0FJQSxNQUFBLFdBRUEsTUFEQSxNQUFBLE1BQUEsTUFBQSxNQUFBLEtBQUEsTUFBQSxXQUNBLE1BR0EsVUFBQSxXQUVBLE1BREEsTUFBQSxNQUFBLFVBQUEsTUFBQSxLQUFBLE1BQUEsV0FDQSxNQUdBLE1BQUEsV0FDQSxNQUFBLElBQUEsR0FBQSxPQUdBLFFBQUEsV0FDQSxNQUFBLE1BQUEsUUFBQSxNQUdBLFVBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxLQUFBLEtBQUEsTUFBQSxTQUFBLEdBQ0EsVUFBQSxFQUFBLElBQ0EsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLE1BUUEsR0FBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsRUFBQSxLQUFBLFFBQ0EsRUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsVUFDQSxRQUFBLEdBQ0EsSUFBQSxTQUNBLElBQUEsRUFBQSxPQUFBLEtBQ0EsRUFBQSxLQUFBLEVBQUEsRUFBQSxPQUVBLE1BQ0EsS0FBQSxjQUNBLEdBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxRQUNBLEVBQUEsRUFBQSxVQUFBLEVBQUEsT0FDQSxHQUFBLElBQUEsRUFBQSxHQUNBLEVBQUEsS0FBQSxFQUFBLEVBQUEsSUFFQSxFQUFBLElBQUEsRUFBQSxNQUNBLEVBQUEsRUFBQSxVQUFBLEdBRUEsTUFDQSxLQUFBLGNBQ0EsRUFBQSxJQUFBLEVBQUEsU0FBQSxFQUFBLElBQUEsRUFBQSxTQUVBLEVBQUEsS0FBQSxFQUFBLEVBQUEsR0FFQSxFQUFBLEVBQUEsVUFBQSxFQUNBLE1BQ0EsS0FBQSxnQkFDQSxFQUFBLEVBQUEsVUFBQSxFQUNBLE1BQ0EsS0FBQSxnQkFDQSxFQUFBLEtBQUEsRUFBQSxFQUNBLE1BQ0EsU0FDQSxLQUFBLElBQUEsT0FBQSxrQkFBQSxHQUdBLEdBQUEsRUFBQSxDQUNBLEdBQUEsR0FBQSxFQUFBLE9BQ0EsRUFBQSxFQUFBLE1BQ0EsR0FBQSxLQUFBLEVBQUEsTUFBQSxTQUFBLEdBQ0EsRUFBQSxVQUFBLGNBQUEsRUFBQSxNQUFBLE1BRUEsRUFBQSxLQUFBLEVBQUEsUUFBQSxTQUFBLEdBQ0EsRUFBQSxVQUFBLGdCQUFBLEVBQUEsTUFBQSxNQUlBLEdBQUEsRUFDQSxFQUFBLEdBRUEsRUFBQSxTQUFBLEdBQ0EsRUFBQSxLQUFBLEVBQUEsR0FFQSxHQUFBLE1BQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxJQUNBLEtBQUEsTUFBQSxHQUFBLEVBQUEsRUFBQSxJQUdBLElBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsS0FBQSxLQUNBLEdBQUEsS0FBQSxLQUFBLE1BQUEsU0FBQSxHQUNBLEVBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLEVBQUEsS0FBQSxHQUNBLEVBQUEsSUFBQSxFQUFBLEVBQUEsT0FLQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBSUEsUUFBQSxLQUNBLEVBQUEsSUFBQSxFQUFBLEdBRUEsRUFBQSxNQUFBLEVBQUEsV0FOQSxHQUFBLEdBQUEsSUFRQSxHQUFBLEdBQUEsRUFBQSxJQUdBLE1BQUEsU0FBQSxHQUNBLEdBQUEsZ0JBQUEsR0FDQSxLQUFBLElBQUEsT0FBQSwwREFFQSxJQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsTUFFQSxPQURBLEdBQUEsT0FBQSxFQUFBLEdBQUEsS0FBQSxJQUFBLE1BQUEsSUFDQSxHQUdBLFFBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxnQkFBQSxFQUFBLEVBQ0EsSUFBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLE1BRUEsT0FEQSxHQUFBLE9BQUEsRUFBQSxHQUFBLEtBQUEsSUFBQSxTQUFBLEVBQUEsU0FBQSxJQUNBLEdBR0EsTUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLGNBQUEsRUFBQSxFQUNBLElBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxNQUVBLE9BREEsR0FBQSxPQUFBLEVBQUEsR0FBQSxLQUFBLElBQUEsT0FBQSxFQUFBLE9BQUEsSUFDQSxHQUdBLElBQUEsV0FDQSxNQUFBLE1BQUEsT0E2QkEsRUFBQSxXQWVBLE1BQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxJQUNBLElBQUEsRUFBQSxTQUFBLEdBQ0EsV0FBQSxFQUFBLE1BQUEsS0FBQSxHQUFBLE9BRUEsQ0FDQSxHQUFBLEdBQUEsRUFBQSxRQUNBLEdBQUEsWUFDQSxFQUFBLEtBQUEsRUFBQSxTQUFBLEdBQ0EsRUFBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLE1BQUEsTUFHQSxNQUFBLElBbUJBLFVBQUEsU0FBQSxHQUtBLE1BSkEsTUFBQSxjQUFBLEVBQ0EsS0FBQSxpQkFBQSxHQUNBLEtBQUEsTUFBQSxLQUFBLGVBRUEsTUE2QkEsU0FBQSxTQUFBLEdBRUEsTUFEQSxNQUFBLFdBQUEsRUFDQSxNQVNBLFFBQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQUEsU0FBQSxFQUlBLE9BSEEsYUFBQSxJQUNBLEdBQUEsT0FBQSxFQUFBLFFBRUEsR0FBQSxNQU1BLE1BQUEsU0FBQSxFQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQUEsV0FBQSxFQUFBLE1BQUEsS0FBQSxRQUFBLEVBQUEsR0FDQSxNQUFBLFFBQUEsRUFBQSxPQUFBLEVBQUEsS0FBQSxTQUFBLEdBQUEsT0FHQSxPQUFBLFdBQ0EsS0FBQSxRQUFBLEtBQUEsT0FHQSxXQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsSUFBQSxFQUFBLEVBQUEsTUFDQSxLQUFBLE9BQUEsV0FDQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQ0EsTUFBQSxTQUFBLFNBQUEsZUFBQSxHQUNBLEVBQUEsRUFBQSxjQUFBLG1EQUdBLEVBQUEsRUFBQSxFQUFBLEdBQ0EsS0FBQSxTQUFBLFNBQUEsR0FBQSxHQUVBLEVBQUEsRUFBQSxNQUlBLGVBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUNBLElBQUEsRUFBQSxFQUFBLE1BQ0EsS0FBQSxPQUFBLFdBQ0EsR0FBQSxHQUFBLEtBQUEsUUFBQSxZQUFBLE1BQUEsSUFDQSxFQUFBLEtBQUEsV0FBQSxZQUFBLE1BQUEsRUFBQSxTQUFBLEdBQUEsRUFDQSxHQUNBLEVBQUEsR0FBQSxJQUdBLEVBQUEsU0FBQSxFQUNBLEVBQUEsTUFBQSxPQUtBLHVCQUFBLFNBQUEsRUFBQSxHQUNBLElBQUEsRUFBQSxFQUFBLE1BQ0EsS0FBQSxPQUFBLFdBQ0EsR0FBQSxHQUFBLEtBQUEsUUFBQSxZQUFBLE1BQUEsR0FDQSxHQUlBLEVBQUEsTUFBQSxHQUhBLEVBQUEsRUFBQSxpQkFBQSxNQVFBLFdBQUEsU0FBQSxFQUFBLEVBQUEsR0FDQSxJQUFBLEVBQUEsRUFBQSxNQUNBLEtBQUEsT0FBQSxXQUNBLEdBQUEsR0FBQSxLQUFBLFFBQUEsWUFBQSxNQUFBLEdBQ0EsR0FHQSxFQUFBLFdBQUEsRUFDQSxFQUFBLEVBQUEscUJBQUEsVUFHQSxNQUFBLFNBQUEsU0FBQSxHQUNBLEVBQUEsTUFBQSxJQVBBLEVBQUEsRUFBQSxpQkFBQSxNQWVBLFFBQUEsU0FBQSxFQUFBLEdBQ0EsS0FBQSxPQUFBLEtBQUEsU0FBQSxFQUFBLElBR0EsT0FBQSxXQUNBLEdBQUEsR0FBQSxFQUFBLFFBQUEsVUFDQSxNQUFBLFNBQUEsS0FBQSxHQUNBLEtBQUEsaUJBQUEsR0FDQSxLQUFBLE1BQUEsS0FBQSxpQkFzQkEsRUFBQSxXQUNBLEtBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLElBQUEsRUFDQSxPQUFBLEtBQUEsRUFBQSxNQUVBLEVBQUEsSUFBQSxFQUFBLEtBQUEsS0FBQSxRQUNBLEtBQUEsS0FBQSxFQUFBLEtBSUEsT0FBQSxTQUFBLEdBQ0EsTUFBQSxHQUFBLFFBQUEsS0FBQSxLQUFBLEVBQUEsT0FBQSxFQUFBLFFBQUEsS0FBQSxLQUFBLEVBQUEsT0FHQSxJQUFBLFNBQUEsR0FDQSxNQUFBLE1BQUEsSUFBQSxHQUFBLEtBQUEsSUFBQSxHQUFBLElBR0EsVUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEtBQUEsU0FBQSxFQUNBLE9BQUEsSUFBQSxLQUFBLEtBQUEsRUFBQSxLQUFBLElBQ0EsRUFBQSxFQUVBLElBR0EsSUFBQSxTQUFBLEdBQ0EsTUFBQSxNQUFBLElBQUEsZUFBQSxJQUdBLEtBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxLQUFBLElBQ0EsRUFBQSxLQUFBLEtBQ0EsRUFBQSxLQUFBLFFBTUEsT0FMQSxLQUNBLEVBQUEsS0FBQSxJQUFBLEdBQ0EsRUFBQSxFQUFBLE1BQUEsR0FDQSxFQUFBLEtBQUEsSUFBQSxJQUVBLEVBQUEsRUFBQSxFQUFBLElBR0EsSUFBQSxTQUFBLEdBQ0EsTUFBQSxNQUFBLElBQUEsR0FBQSxLQUFBLEtBQUEsR0FBQSxNQUdBLElBQUEsU0FBQSxHQUNBLE1BQUEsTUFBQSxJQUFBLEdBQUEsS0FBQSxLQUFBLEdBQUEsTUFHQSxVQUFBLFNBQUEsR0FDQSxHQUFBLEdBQUEsS0FDQSxHQUFBLFFBQUEsT0FXQSxPQVZBLEdBQUEsS0FBQSxFQUFBLEtBQUEsU0FBQSxFQUFBLEdBQ0EsRUFBQSxJQUFBLElBQ0EsRUFBQSxJQUFBLEtBQUEsS0FHQSxFQUFBLEtBQUEsRUFBQSxLQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsSUFBQSxJQUNBLEVBQUEsR0FBQSxLQUFBLEtBR0EsR0FHQSxTQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxNQUFBLEtBQUEsR0FBQSxHQUNBLEVBQUEsWUFBQSxFQUFBLFdBQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxHQUNBLEdBRUEsRUFBQSxZQUFBLEVBQUEsV0FBQSxFQUFBLEVBQUEsRUFBQSxVQUFBLEdBQ0EsR0FFQSxFQUFBLFlBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLFFBQUEsR0FDQSxHQUVBLEVBQUEsWUFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsUUFBQSxHQUNBLEVBRUEsRUFBQSxJQUFBLElBQUEsRUFBQSxFQUFBLEtBQ0EsRUFFQSxHQUFBLEVBQUEsS0FHQSxTQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FDQSxHQUNBLEdBQUEsRUFBQSxFQURBLEVBQUEsRUFBQSxVQUFBLEVBQUEsR0FBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLE1BQ0EsSUFBQSxFQUFBLFlBQUEsSUFBQSxFQUFBLFlBQUEsR0FDQSxNQUFBLEVBRUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBR0EsR0FGQSxFQUFBLEVBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsTUFBQSxHQUFBLFNBQUEsR0FDQSxJQUFBLEVBR0EsS0FBQSxJQUNBLEVBQUEsR0FFQSxFQUFBLE1BRUEsSUFBQSxFQUFBLEVBQUEsQ0FFQSxJQUFBLElBSUEsRUFBQSxFQUVBLE9BSUEsTUFBQSxLQUFBLEVBRUEsRUFBQSxFQUFBLEVBRUEsRUFBQSxFQUdBLEVBQUEsRUFBQSxFQUFBLEVBSUEsR0FJQSxXQUFBLFNBQUEsRUFBQSxFQUFBLEdBQ0EsR0FBQSxLQW9CQSxPQW5CQSxHQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxFQUFBLFlBQUEsS0FDQSxFQUFBLEdBQUEsS0FHQSxFQUFBLElBQUEsS0FBQSxTQUFBLEVBQUEsU0FBQSxFQUFBLFNBQUEsR0FBQSxHQUNBLEVBQUEsSUFBQSxLQUFBLFNBQUEsRUFBQSxPQUFBLEVBQUEsT0FBQSxHQUNBLEVBQUEsWUFBQSxFQUFBLFNBQ0EsRUFBQSxJQUFBLEdBQ0EsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLE1BRUEsRUFBQSxJQUFBLEdBQ0EsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLE1BRUEsRUFBQSxNQUFBLElBQ0EsRUFBQSxJQUFBLEVBQUEsRUFDQSxFQUFBLElBQUEsS0FBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLFNBR0EsR0FHQSxPQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsS0FBQSxJQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsS0FBQSxTQUNBLEVBQUEsS0FBQSxNQUFBLEVBQUEsS0FBQSxJQUNBLEdBQUEsS0FBQSxFQUFBLFNBQUEsRUFBQSxHQUNBLEVBQUEsR0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEtBQUEsSUFBQSxFQUFBLElBQUEsR0FDQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsTUFBQSxHQUFBLFNBQUEsT0FDQSxFQUFBLEdBQUEsRUFBQSxPQUNBLEVBQUEsS0FBQSxHQUNBLEVBQUEsR0FBQSxJQUVBLFFBYUEsRUFBQSxVQUFBLElBQUEsU0FBQSxHQUNBLEtBQUEsYUFBQSxLQUFBLElBR0EsRUFBQSxVQUFBLE1BQUEsU0FBQSxHQWFBLFFBQUEsS0FFQSxFQUFBLFFBQUEsU0FBQSxHQUNBLEVBQUEsR0FBQSxNQUFBLEtBQUEsRUFBQSxNQUFBLE1BZkEsR0FBQSxLQUFBLGFBQUEsT0FBQSxDQU1BLEdBQUEsR0FBQSxLQUFBLFlBSUEsTUFBQSxnQkFTQSxFQUFBLFNBQUEsR0FDQSxXQUFBLEVBQUEsR0FHQSxLQThCQSxJQUFBLEdBQUEsV0FDQSxHQUFBLEVBMkNBLE9BekNBLEdBREEsbUJBQUEsR0FBQSxRQUNBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxDQTBCQSxPQXpCQSxnQkFBQSxJQUNBLEVBQUEsRUFBQSxNQUFBLEVBQUEsR0FHQSxFQUZBLGtCQUFBLEdBQUEsZUFFQSxFQUFBLGlCQUdBLEVBQUEsSUFBQSxnQkFJQSxFQUFBLEVBQUEsUUFBQSxVQUFBLEdBSUEsRUFIQSxrQkFBQSxXQUFBLEdBQ0Esa0JBQUEsR0FBQSxZQUVBLEVBQUEsWUFBQSxHQUdBLEVBQUEsSUFBQSxTQUFBLEdBSUEsR0FHQSxHQUlBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxtQkFBQSxRQUFBLE9BQUEsTUFBQSxtQkFBQSxHQUFBLEVBQUEsTUFBQSxJQUNBO01BQUEsZ0JBQUEsR0FDQSxFQUFBLElBQUEsRUFBQSxHQUdBLEVBQUEsSUFBQSxPQU9BLEVBQUEsR0F1SkEsR0FBQSxrQkFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxJQVdBLE9BVkEsTUFBQSxXQUFBLFlBQUEsVUFBQSxXQUFBLFNBQUEsVUFBQSxRQUFBLEdBQ0EsUUFBQSxNQUFBLGdGQUFBLEdBR0EsRUFHQSxhQUFBLEdBQUEsRUFBQSxXQUFBLEVBQUEsV0FDQSxFQUFBLEVBQUEsbUJBQUEsd0NBSEEsRUFBQSxFQUFBLGVBQUEscUNBS0EsR0FHQSxFQUFBLHFCQUNBLEVBQUEsTUFBQSxXQUFBLFlBQUEsV0FBQSxVQUFBLFNBQUEsVUFBQSxTQUFBLEdBQ0EsR0FBQSxHQUFBLEVBQUEsRUFDQSxJQUFBLGFBQUEsRUFDQSxFQUFBLGtCQUFBLEdBQUEsTUFFQSxDQUNBLEdBQUEsR0FBQSxFQUFBLGtCQUFBLEtBQ0EsR0FBQSxFQUFBLE9BQUEsS0FLQSxFQUFBLElBQUEsRUFDQSxFQUFBLG9CQUFBLEVBRUEsRUFBQSxFQUFBLEVBQ0EsRUFBQSxNQUFBLEVBRUEsRUFBQSxTQUFBLFdBRUEsbUJBQUEsU0FDQSxFQUFBLGNBQUEsT0FBQSxTQUNBLEVBQUEseUJBQUEsT0FBQSxvQkFDQSxPQUFBLFNBQUEsRUFDQSxPQUFBLG9CQUFBLEdBR0EsUUFBQSxLQUFBLG1FQUlBLEVBQUEsSUFBQSxFQUNBLEVBQUEsY0FDQSxNQUNBLEdBQ0EsUUFBQSxRQUNBLFFBQUEsRUFDQSxVQUFBLEdBRUEsR0FDQSxRQUFBLFFBQ0EsUUFBQSxFQUNBLFVBQUEsR0FFQSxHQUNBLFFBQUEsVUFDQSxRQUFBLEVBQ0EsVUFBQSxHQUVBLEdBQ0EsUUFBQSxRQUNBLFFBQUEsRUFDQSxVQUFBLEdBRUEsR0FDQSxRQUFBLE9BQ0EsUUFBQSxJQUdBLE9BQ0EsR0FBQSxFQUNBLEVBQUEsRUFDQSxHQUFBLEVBQ0EsR0FBQSxHQUVBLFNBQ0EsUUFDQSxRQUFBLEVBQ0EsUUFBQSxLQUVBLFFBQ0EsUUFBQSxFQUNBLFFBQUEsS0FFQSxRQUNBLFFBQUEsRUFDQSxRQUFBLEtBRUEsU0FDQSxZQUFBLEVBQ0EsUUFBQSxHQUVBLFNBQ0EsWUFBQSxFQUNBLFFBQUEsR0FFQSxPQUNBLFlBQUEsRUFDQSxRQUFBLEdBRUEsT0FDQSxZQUFBLEVBQ0EsUUFBQSxHQUVBLFVBQ0EsWUFBQSxJQUNBLFFBQUEsRUFDQSxRQUFBLEtBRUEsVUFDQSxZQUFBLElBQ0EsUUFBQSxFQUNBLFFBQUEsS0FFQSxRQUNBLFlBQUEsSUFDQSxRQUFBLEtBRUEsUUFDQSxZQUFBLElBQ0EsUUFBQSxPQUtBLEVBQUEsYUFBQSxFQUNBLEVBQUEsd0JBQUEsSUFFQSxLQUFBLEtBQUEsbUJBQUEsTUFBQSxLQUFBLG1CQUFBLFFBQUEsYUFDQSxJQUFBLEVBQUEsT0FBQSxTQUFBLElBQ0EsS0FDQSxTQUFBLEdBQ0EsWUFDQSxpQkFBQSxLQUNBLEVBQUEsYUFBQSxFQUFBLGFBQUEsYUFDQSxFQUFBLHdCQUFBLEVBQUEsYUFBQSwwQkFFQSxTQy84VEEsU0FBQSxHQUFBLFlBQUEsU0FBQSxPQUFBLGVBQUEsTUFBQSxXQUFBLEVBQUEsVUFBQSxNQUFBLHFCQUFBLEtBQUEsUUFBQSxXQUFBLFlBQUEsU0FBQSxPQUFBLFlBQUEsUUFBQSxrQkFBQSxPQUFBLGlCQUFBLFNBQUEsRUFBQSxHQUFBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxPQUFBLE1BQUEsY0FBQSxLQUFBLFNBQUEsS0FBQSxNQUFBLEVBQUEsS0FBQSxTQUFBLEVBQUEsS0FBQSxXQUFBLEVBQUEsRUFBQSxpQkFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxHQUFBLEVBQUEsS0FBQSxLQUFBLEtBQUEsTUFBQSxNQUFBLEdBQUEsV0FBQSxLQUFBLFNBQUEsR0FBQSxNQUFBLE1BQUEsb0JBQUEsUUFBQSxLQUFBLFFBQUEsTUFBQSxFQUFBLE9BQUEsS0FBQSxNQUFBLFNBQUEsR0FBQSxLQUFBLG9CQUFBLFFBQUEsSUFBQSxHQUFBLEtBQUEsRUFBQSxFQUFBLGFBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLE9BQUEsUUFBQSxFQUFBLEVBQUEsUUFBQSxLQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsS0FBQSxTQUFBLEdBQUEsTUFBQSxHQUFBLFFBQUEsZ0JBQUEsR0FBQSxJQUFBLEVBQUEsT0FBQSw0Q0FBQSxJQUFBLFFBQUEsU0FBQSxHQUFBLEtBQUEsb0JBQUEsVUFBQSxJQUFBLEdBQUEsS0FBQSxPQUFBLEVBQUEsT0FBQSxRQUFBLEVBQUEsS0FBQSxRQUFBLFFBQUEsR0FBQSxFQUFBLE9BQUEsdUNBQUEsSUFBQSxPQUFBLFNBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxhQUFBLEVBQUEsT0FBQSxNQUFBLFFBQUEsSUFBQSxVQUFBLFNBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxPQUFBLE1BQUEsTUFBQSxVQUFBLFNBQUEsR0FBQSxNQUFBLEdBQUEsUUFBQSxLQUFBLEtBQUEsUUFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxRQUFBLE9BQUEsV0FBQSxTQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxNQUFBLFdBQUEsTUFBQSxNQUFBLE9BQUEsT0FBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxVQUFBLE9BQUEsR0FBQSxNQUFBLEVBQUEsSUFBQSxXQUFBLEdBQUEsR0FBQSxFQUFBLFVBQUEsU0FBQSxHQUFBLE1BQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLEdBQUEsR0FBQSxJQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsU0FBQSxTQUFBLEdBQUEsS0FBQSxlQUFBLEtBQUEsY0FBQSxFQUFBLEtBQUEsTUFBQSxPQUFBLEVBQUEsRUFBQSxNQUFBLHFDQUFBLEtBQUEsUUFBQSxPQUFBLFlBQUEsS0FBQSxXQUFBLEtBQUEsV0FBQSxTQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsVUFBQSxFQUFBLE9BQUEsR0FBQSxHQUFBLEtBQUEsTUFBQSxHQUFBLE1BQUEsUUFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxVQUFBLEVBQUEsT0FBQSxJQUFBLEtBQUEsRUFBQSxDQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEsU0FBQSxTQUFBLEtBQUEsR0FBQSxPQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsT0FBQSxFQUFBLFVBQUEsRUFBQSxjQUFBLEVBQUEsY0FBQSxFQUFBLEtBQUEsWUFBQSxLQUFBLFNBQUEsY0FBQSxFQUFBLEtBQUEsVUFBQSxTQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsV0FBQSxFQUFBLE9BQUEsU0FBQSxTQUFBLElBQUEsS0FBQSxTQUFBLGdCQUFBLElBQUEsVUFBQSxTQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsV0FBQSxFQUFBLE9BQUEsSUFBQSxRQUFBLFNBQUEsR0FBQSxDQUFBLEdBQUEsR0FBQSxFQUFBLFVBQUEsRUFBQSxFQUFBLEdBQUEsY0FBQSxFQUFBLEtBQUEsWUFBQSxHQUFBLEtBQUEsU0FBQSxnQkFBQSxLQUFBLFFBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsV0FBQSxFQUFBLE9BQUEsU0FBQSxTQUFBLEtBQUEsRUFBQSxVQUFBLEVBQUEsY0FBQSxLQUFBLFNBQUEsY0FBQSxFQUFBLEtBQUEsUUFBQSxTQUFBLEdBQUEsRUFBQSxNQUFBLEdBQUEsS0FBQSxTQUFBLElBQUEsUUFBQSxTQUFBLEdBQUEsTUFBQSxTQUFBLFNBQUEsR0FBQSxFQUFBLElBQUEsTUFBQSxTQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxRQUFBLEdBQUEsR0FBQSxDQUFBLFFBQUEsR0FBQSxJQUFBLGNBQUEsRUFBQSxLQUFBLFVBQUEsRUFBQSxNQUFBLEtBQUEsY0FBQSxFQUFBLEtBQUEsVUFBQSxHQUFBLEtBQUEsV0FBQSxFQUFBLE1BQUEsS0FBQSxnQkFBQSxFQUFBLE9BQUEsS0FBQSxXQUFBLEVBQUEsTUFBQSxLQUFBLGdCQUFBLEdBQUEsRUFBQSxNQUFBLFNBQUEsVUFBQSxLQUFBLEVBQUEsS0FBQSxVQUFBLEVBQUEsS0FBQSxHQUFBLEdBQUEsS0FBQSxRQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsUUFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsSUFBQSxNQUFBLEVBQUEsSUFBQSxFQUFBLFNBQUEsVUFBQSxLQUFBLEVBQUEsVUFBQSxHQUFBLFFBQUEsUUFBQSxLQUFBLFdBQUEsU0FBQSxHQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxNQUFBLFVBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLE9BQUEsUUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsVUFBQSxHQUFBLEVBQUEsSUFBQSxJQUFBLEVBQUEsS0FBQSxNQUFBLFNBQUEsS0FBQSxNQUFBLE9BQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxXQUFBLFNBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxVQUFBLEVBQUEsT0FBQSxHQUFBLEdBQUEsS0FBQSxNQUFBLE9BQUEsRUFBQSxHQUFBLEdBQUEsTUFBQSxhQUFBLFNBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxLQUFBLElBQUEsUUFBQSxTQUFBLElBQUEsR0FBQSxHQUFBLEVBQUEsUUFBQSxFQUFBLE1BQUEsR0FBQSxFQUFBLElBQUEsUUFBQSxTQUFBLEdBQUEsSUFBQSxHQUFBLEdBQUEsRUFBQSxPQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsT0FBQSxPQUFBLG9CQUFBLFNBQUEsR0FBQSxHQUFBLEtBQUEsYUFBQSxLQUFBLElBQUEsT0FBQSxlQUFBLEVBQUEsa0RBQUEsRUFBQSxlQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsS0FBQSxVQUFBLFFBQUEsUUFBQSxTQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsV0FBQSxNQUFBLEdBQUEsTUFBQSxLQUFBLGFBQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxJQUFBLFFBQUEsV0FBQSxZQUFBLFNBQUEsT0FBQSxZQUFBLFFBQUEsbUJBQUEsU0FBQSxpQkFBQSxPQUFBLFlBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxLQUFBLFFBQUEsUUFBQSxFQUFBLEtBQUEsRUFBQSxRQUFBLEdBQUEsR0FBQSxNQUFBLFVBQUEsRUFBQSxjQUFBLE9BQUEsZUFBQSxLQUFBLFVBQUEsTUFBQSxLQUFBLFNBQUEsS0FBQSxJQUFBLEVBQUEsT0FBQSxNQUFBLE9BQUEsS0FBQSxVQUFBLEtBQUEsRUFBQSxjQUFBLEtBQUEsS0FBQSxZQUFBLFFBQUEsR0FBQSxHQUFBLEtBQUEsUUFBQSxLQUFBLE1BQUEsS0FBQSxLQUFBLEtBQUEsS0FBQSxLQUFBLElBQUEsRUFBQSxNQUFBLEdBQUEsV0FBQSxNQUFBLFdBQUEsR0FBQSxHQUFBLElBQUEsT0FBQSxHQUFBLFFBQUEsS0FBQSxFQUFBLE9BQUEsSUFBQSxLQUFBLFNBQUEsR0FBQSxNQUFBLEdBQUEsV0FBQSxLQUFBLFFBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsT0FBQSxPQUFBLE9BQUEsV0FBQSxTQUFBLEVBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxFQUFBLElBQUEsR0FBQSxNQUFBLFdBQUEsTUFBQSxNQUFBLE9BQUEsTUFBQSxRQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLE9BQUEsR0FBQSxVQUFBLEtBQUEsV0FBQSxNQUFBLEdBQUEsT0FBQSxRQUFBLE9BQUEsRUFBQSxNQUFBLE9BQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsT0FBQSxTQUFBLE9BQUEsR0FBQSxNQUFBLEVBQUEsSUFBQSxXQUFBLEdBQUEsR0FBQSxFQUFBLFVBQUEsU0FBQSxHQUFBLE1BQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxLQUFBLEdBQUEsR0FBQSxJQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQSxHQUFBLElBQUEsR0FBQSxlQUFBLEVBQUEsY0FBQSxFQUFBLEVBQUEsT0FBQSxRQUFBLFVBQUEsRUFBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLFNBQUEsR0FBQSxLQUFBLEVBQUEsT0FBQSxVQUFBLEtBQUEsVUFBQSxTQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsVUFBQSxLQUFBLEVBQUEsR0FBQSxjQUFBLEtBQUEsS0FBQSxZQUFBLEdBQUEsS0FBQSxZQUFBLFFBQUEsU0FBQSxHQUFBLEVBQUEsTUFBQSxHQUFBLEtBQUEsU0FBQSxJQUFBLGVBQUEsU0FBQSxHQUFBLE1BQUEsTUFBQSxRQUFBLEtBQUEsRUFBQSxPQUFBLEtBQUEsU0FBQSxXQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsS0FBQSxPQUFBLFVBQUEsT0FBQSxTQUFBLFFBQUEsRUFBQSxTQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLE1BQUEsUUFBQSxJQUFBLEVBQUEsU0FBQSxRQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxLQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsZUFBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLEtBQUEsVUFBQSxRQUFBLFFBQUEsU0FBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLFdBQUEsRUFBQSxNQUFBLEtBQUEsYUFBQSxFQUFBLFFBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxXQUFBLGVBQUEsU0FBQSxHQUFBLEdBQUEsS0FBQSxNQUFBLENBQUEsR0FBQSxHQUFBLGtCQUFBLEVBQUEsOENBQUEsS0FBQSxLQUFBLHNGQUFBLE9BQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxPQUFBLEtBQUEsT0FBQSxTQUFBLEVBQUEsR0FBQSxRQUFBLEdBQUEsR0FBQSxRQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsVUFBQSxFQUFBLE9BQUEsU0FBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLFlBQUEsRUFBQSxXQUFBLEVBQUEsU0FBQSxFQUFBLE9BQUEsUUFBQSxLQUFBLE1BQUEsR0FBQSxVQUFBLEVBQUEsSUFBQSxRQUFBLEdBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLFVBQUEsSUFBQSxRQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLFNBQUEsRUFBQSxRQUFBLEVBQUEsWUFBQSxFQUFBLFlBQUEsSUFBQSxHQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLE1BQUEsRUFBQSxFQUFBLFFBQUEsQ0FBQSxJQUFBLEdBQUEsV0FBQSxHQUFBLEdBQUEsRUFBQSxTQUFBLFdBQUEsRUFBQSxlQUFBLEtBQUEsV0FBQSxXQUFBLEdBQUEsS0FBQSxHQUFBLElBQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsV0FBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsT0FBQSxZQUFBLEdBQUEsR0FBQSx5QkFBQSxDQUFBLEdBQUEsR0FBQSxDQUFBLElBQUEsR0FBQSxFQUFBLFdBQUEsRUFBQSxNQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxLQUFBLEVBQUEsT0FBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEtBQUEsV0FBQSxFQUFBLE9BQUEsU0FBQSxHQUFBLFFBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsSUFBQSxXQUFBLEVBQUEsT0FBQSxLQUFBLEtBQUEsRUFBQSxLQUFBLEtBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxJQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsT0FBQSxJQUFBLEVBQUEsT0FBQSxLQUFBLEdBQUEsTUFBQSxNQUFBLGVBQUEsSUFBQSxFQUFBLE9BQUEsT0FBQSxXQUFBLEtBQUEsUUFBQSxRQUFBLFFBQUEsS0FBQSxLQUFBLFNBQUEsR0FBQSxNQUFBLEtBQUEsUUFBQSxLQUFBLE1BQUEsS0FBQSxLQUFBLEtBQUEsT0FBQSxRQUFBLFdBQUEsS0FBQSxTQUFBLEtBQUEsSUFBQSxPQUFBLFFBQUEsV0FBQSxZQUFBLFNBQUEsT0FBQSxZQUFBLFFBQUEsYUFBQSxpQkFBQSxrQkFBQSxTQUFBLEVBQUEsR0FBQSxRQUFBLEdBQUEsRUFBQSxHQUFBLE1BQUEsZ0JBQUEsSUFBQSxLQUFBLFFBQUEsRUFBQSxHQUFBLEtBQUEsS0FBQSxFQUFBLEtBQUEsV0FBQSxLQUFBLEtBQUEsWUFBQSxTQUFBLE1BQUEsbUJBQUEsRUFBQSxLQUFBLFVBQUEsR0FBQSxHQUFBLEVBQUEsR0FBQSxRQUFBLEdBQUEsRUFBQSxHQUFBLFFBQUEsR0FBQSxHQUFBLEVBQUEsYUFBQSxDQUFBLElBQUEsR0FBQSxFQUFBLE1BQUEsR0FBQSxJQUFBLGNBQUEsR0FBQSxFQUFBLElBQUEsY0FBQSxHQUFBLEVBQUEsSUFBQSxnQkFBQSxHQUFBLEVBQUEsSUFBQSxnQkFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsYUFBQSxRQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsTUFBQSxHQUFBLEdBQUEsY0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLGNBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxnQkFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLGdCQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsUUFBQSxXQUFBLEVBQUEsT0FBQSxHQUFBLFFBQUEsR0FBQSxHQUFBLElBQUEsRUFBQSxFQUFBLE9BQUEsR0FBQSxFQUFBLFFBQUEsR0FBQSxFQUFBLE1BQUEsUUFBQSxHQUFBLEdBQUEsSUFBQSxRQUFBLFFBQUEsR0FBQSxDQUFBLEdBQUEsR0FBQSxPQUFBLFVBQUEsU0FBQSxLQUFBLEVBQUEsTUFBQSxJQUFBLE9BQUEsdUdBQUEsRUFBQSxNQUFBLEdBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLEVBQUEsRUFBQSxRQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxVQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsUUFBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxHQUFBLGFBQUEsRUFBQSxFQUFBLFNBQUEsV0FBQSxNQUFBLElBQUEsRUFBQSxHQUFBLElBQUEsUUFBQSxHQUFBLEVBQUEsR0FBQSxRQUFBLEdBQUEsR0FBQSxFQUFBLGFBQUEsRUFBQSxFQUFBLElBQUEsUUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsYUFBQSxRQUFBLEtBQUEsRUFBQSxHQUFBLFFBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxRQUFBLFdBQUEsRUFBQSxPQUFBLEdBQUEsUUFBQSxHQUFBLEdBQUEsSUFBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsUUFBQSxHQUFBLEVBQUEsTUFBQSxHQUFBLEdBQUEsRUFBQSxRQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxFQUFBLEVBQUEsVUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLFFBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsR0FBQSxhQUFBLEVBQUEsRUFBQSxVQUFBLFdBQUEsTUFBQSxJQUFBLElBQUEsTUFBQSxHQUFBLFdBQUEsS0FBQSxXQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsU0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLFFBQUEsRUFBQSxLQUFBLEtBQUEsTUFBQSxPQUFBLEVBQUEsS0FBQSxRQUFBLEVBQUEsRUFBQSxPQUFBLFdBQUEsT0FBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLFNBQUEsS0FBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxLQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsVUFBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsTUFBQSxHQUFBLEVBQUEsRUFBQSxRQUFBLFdBQUEsRUFBQSxPQUFBLFFBQUEsU0FBQSxHQUFBLEVBQUEsTUFBQSxJQUFBLEVBQUEsS0FBQSxRQUFBLEVBQUEsUUFBQSxDQUFBLEdBQUEsR0FBQSxRQUFBLFVBQUEsRUFBQSxHQUFBLEtBQUEsUUFBQSxTQUFBLEdBQUEsRUFBQSxRQUFBLFNBQUEsR0FBQSxFQUFBLGVBQUEsRUFBQSxVQUFBLEVBQUEsRUFBQSxRQUFBLFFBQUEsRUFBQSxNQUFBLE9BQUEsRUFBQSxLQUFBLFFBQUEsRUFBQSxLQUFBLE1BQUEsTUFBQSxHQUFBLFNBQUEsUUFBQSxTQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsS0FBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsT0FBQSxJQUFBLFVBQUEsT0FBQSxJQUFBLEVBQUEsRUFBQSxNQUFBLE1BQUEsSUFBQSxRQUFBLFdBQUEsRUFBQSxRQUFBLEVBQUEsT0FBQSxFQUFBLFFBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxZQUFBLENBQUEsR0FBQSxLQUFBLEdBQUEsS0FBQSxRQUFBLFNBQUEsR0FBQSxFQUFBLFFBQUEsU0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLE9BQUEsR0FBQSxLQUFBLEdBQUEsRUFBQSxNQUFBLE9BQUEsRUFBQSxRQUFBLEVBQUEsRUFBQSxTQUFBLEtBQUEsRUFBQSxFQUFBLFlBQUEsR0FBQSxLQUFBLFdBQUEsTUFBQSxLQUFBLE1BQUEsSUFBQSxRQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEtBQUEsTUFBQSxFQUFBLEVBQUEsT0FBQSxPQUFBLFdBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxNQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLEtBQUEsUUFBQSxFQUFBLElBQUEsRUFBQSxTQUFBLGFBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxLQUFBLEtBQUEsU0FBQSxXQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsTUFBQSxHQUFBLElBQUEsQ0FBQSxJQUFBLEdBQUEsRUFBQSxPQUFBLE9BQUEsR0FBQSxZQUFBLEVBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsUUFBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsU0FBQSxVQUFBLFdBQUEsUUFBQSxLQUFBLGFBQUEsS0FBQSxZQUFBLGVBQUEsS0FBQSxZQUFBLEdBQUEsR0FBQSxLQUFBLEtBQUEsUUFBQSxnQkFBQSxLQUFBLFlBQUEsYUFBQSxTQUFBLFdBQUEsUUFBQSxLQUFBLFlBQUEsS0FBQSxXQUFBLGVBQUEsS0FBQSxXQUFBLEdBQUEsR0FBQSxLQUFBLEtBQUEsUUFBQSxlQUFBLEtBQUEsV0FBQSxZQUFBLFFBQUEsU0FBQSxHQUFBLEdBQUEsR0FBQSxNQUFBLFVBQUEsTUFBQSxLQUFBLFVBQUEsRUFBQSxPQUFBLFVBQUEsR0FBQSxFQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsUUFBQSxNQUFBLEVBQUEsS0FBQSxtQkFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsZUFBQSxFQUFBLDRFQUFBLFFBQUEsV0FBQSxFQUFBLGNBQUEsS0FBQSxJQUFBLE9BQUEsK0NBQUEsS0FBQSxRQUFBLFdBQUEsRUFBQSxlQUFBLEtBQUEsSUFBQSxPQUFBLG1EQUFBLFFBQUEsV0FBQSxZQUFBLElBQUEsRUFBQSxTQUFBLE9BQUEsWUFBQSxRQUFBLHdCQUFBLEtBQUEsV0FBQSxhQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsTUFBQSxVQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsR0FBQSxnQkFBQSxFQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLEtBQUEsU0FBQSxFQUFBLEtBQUEsV0FBQSxFQUFBLEtBQUEsZUFBQSxLQUFBLEtBQUEsMkJBQUEsS0FBQSxpQkFBQSxPQUFBLGdCQUFBLEdBQUEsS0FBQSxJQUFBLE9BQUEsOEVBQUEsTUFBQSxNQUFBLEdBQUEsRUFBQSxXQUFBLFVBQUEsV0FBQSxHQUFBLElBQUEsS0FBQSxLQUFBLE9BQUEsS0FBQSxNQUFBLEtBQUEsTUFBQSxRQUFBLEtBQUEsT0FBQSxLQUFBLE1BQUEsWUFBQSxLQUFBLFdBQUEsS0FBQSxNQUFBLGdCQUFBLEtBQUEsZUFBQSxLQUFBLE1BQUEsWUFBQSxLQUFBLFdBQUEsS0FBQSxNQUFBLGdCQUFBLEtBQUEsZUFBQSxLQUFBLE1BQUEsd0JBQUEsS0FBQSx1QkFBQSxLQUFBLE1BQUEsSUFBQSxLQUFBLFFBQUEsR0FBQSxPQUFBLG9CQUFBLENBQUEsR0FBQSxHQUFBLEdBQUEsT0FBQSx3RkFBQSxNQUFBLE1BQUEsV0FBQSxXQUFBLDZCQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxxQkFBQSxLQUFBLE1BQUEsS0FBQSxjQUFBLEtBQUEsTUFBQSxPQUFBLE1BQUEsWUFBQSxFQUFBLEtBQUEsU0FBQSxNQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEdBQUEsUUFBQSxFQUFBLElBQUEsT0FBQSxNQUFBLGlCQUFBLEtBQUEsV0FBQSxFQUFBLGVBQUEsRUFBQSxFQUFBLFlBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxTQUFBLE9BQUEsV0FBQSxLQUFBLFlBQUEsZUFBQSxNQUFBLGtCQUFBLFdBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxLQUFBLEdBQUEsT0FBQSxPQUFBLEdBQUEsWUFBQSxXQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxHQUFBLEVBQUEsV0FBQSxXQUFBLDZCQUFBLEdBQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxRQUFBLEtBQUEsRUFBQSxTQUFBLGVBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEtBQUEsR0FBQSxPQUFBLE9BQUEsR0FBQSxZQUFBLGVBQUEsRUFBQSxFQUFBLEVBQUEsU0FBQSxHQUFBLEdBQUEsRUFBQSxXQUFBLFdBQUEsNkJBQUEsR0FBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLFlBQUEsRUFBQSxTQUFBLGVBQUEsV0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEtBQUEsR0FBQSxPQUFBLE9BQUEsVUFBQSxFQUFBLGlCQUFBLEVBQUEsUUFBQSxFQUFBLGtCQUFBLEVBQUEsd0JBQUEsS0FBQSxHQUFBLEVBQUEsU0FBQSxXQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsS0FBQSxHQUFBLE9BQUEsT0FBQSxHQUFBLFlBQUEsV0FBQSxFQUFBLEVBQUEsU0FBQSxHQUFBLEdBQUEsRUFBQSxXQUFBLFdBQUEsNkJBQUEsR0FBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLFlBQUEsRUFBQSxTQUFBLHVCQUFBLFNBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEtBQUEsR0FBQSxPQUFBLE9BQUEsR0FBQSxZQUFBLHVCQUFBLEVBQUEsU0FBQSxHQUFBLEdBQUEsRUFBQSxXQUFBLFdBQUEsNkJBQUEsR0FBQSxFQUFBLE9BQUEsSUFBQSxFQUFBLFlBQUEsRUFBQSxTQUFBLGNBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLG1CQUFBLEdBQUEsT0FBQSxFQUFBLENBQUEsR0FBQSxHQUFBLElBQUEsSUFBQSxFQUFBLGlCQUFBLEVBQUEsZUFBQSxPQUFBLEdBQUEsRUFBQSxlQUFBLE1BQUEsRUFBQSxXQUFBLFdBQUEsNkJBQUEsS0FBQSxLQUFBLGlCQUFBLEVBQUEsRUFBQSxTQUFBLFdBQUEsSUFBQSxFQUFBLFFBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxXQUFBLFdBQUEsNkJBQUEsR0FBQSxFQUFBLFdBQUEsV0FBQSwrQkFBQSxFQUFBLGlCQUFBLEVBQUEsZUFBQSxRQUFBLEdBQUEsRUFBQSxlQUFBLE1BQUEsRUFBQSx3QkFBQSxPQUFBLEdBQUEsQ0FBQSxHQUFBLEdBQUEsRUFBQSx3QkFBQSxLQUFBLEdBQUEsUUFBQSxhQUFBLE1BQUEsVUFBQSxVQUFBLE1BQUEsVUFBQSxRQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsU0FBQSxNQUFBLE9BQUEsS0FBQSxLQUFBLElBQUEsV0FBQSxnQ0FBQSxJQUFBLEdBQUEsS0FBQSxTQUFBLENBQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxFQUFBLElBQUEsS0FBQSxJQUFBLEtBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxHQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsSUFBQSxHQUFBLEtBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxPQUFBLEtBQUEsU0FBQSxVQUFBLE9BQUEsU0FBQSxVQUFBLEtBQUEsU0FBQSxHQUFBLEdBQUEsa0JBQUEsTUFBQSxLQUFBLElBQUEsV0FBQSx1RUFBQSxJQUFBLEdBQUEsTUFBQSxVQUFBLE1BQUEsS0FBQSxVQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsYUFBQSxFQUFBLFdBQUEsTUFBQSxHQUFBLE1BQUEsZUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsT0FBQSxNQUFBLFVBQUEsTUFBQSxLQUFBLGFBQUEsT0FBQSxHQUFBLFVBQUEsS0FBQSxVQUFBLEVBQUEsVUFBQSxHQUFBLEdBQUEsSUFBQSxNQUFBLFVBQUEsV0FBQSxPQUFBLGVBQUEsTUFBQSxVQUFBLGFBQUEsWUFBQSxFQUFBLGNBQUEsRUFBQSxVQUFBLEVBQUEsTUFBQSxTQUFBLEdBQUEsR0FBQSxNQUFBLEtBQUEsS0FBQSxJQUFBLFdBQUEsbURBQUEsSUFBQSxrQkFBQSxHQUFBLEtBQUEsSUFBQSxXQUFBLCtCQUFBLEtBQUEsR0FBQSxHQUFBLEVBQUEsT0FBQSxNQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxVQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEdBQUEsSUFBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxPQUFBLE1BQUEsa0JBQUEsUUFBQSxTQUFBLFdBQUEsR0FBQSxHQUFBLFlBQUEsUUFBQSxPQUFBLFNBQUEsR0FBQSxHQUFBLFVBQUEsT0FBQSxFQUFBLEtBQUEsSUFBQSxPQUFBLGdDQUFBLElBQUEsT0FBQSxFQUFBLEtBQUEsSUFBQSxPQUFBLGtDQUFBLElBQUEsZ0JBQUEsR0FBQSxLQUFBLElBQUEsV0FBQSw2QkFBQSxPQUFBLEdBQUEsVUFBQSxFQUFBLEdBQUEsT0FBQSxPQUFBLE9BQUEsT0FBQSxLQUFBLFdBQUEsWUFBQSxJQUFBLEdBQUEsT0FBQSxVQUFBLGVBQUEsSUFBQSxTQUFBLE1BQUEscUJBQUEsWUFBQSxHQUFBLFdBQUEsaUJBQUEsVUFBQSxpQkFBQSxnQkFBQSx1QkFBQSxlQUFBLEVBQUEsRUFBQSxNQUFBLE9BQUEsVUFBQSxHQUFBLEdBQUEsZ0JBQUEsS0FBQSxrQkFBQSxJQUFBLE9BQUEsR0FBQSxLQUFBLElBQUEsV0FBQSxtQ0FBQSxJQUFBLEdBQUEsRUFBQSxJQUFBLEtBQUEsSUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxHQUFBLE9BQUEsUUFBQSxrQkFBQSxRQUFBLGlCQUFBLE9BQUEsZUFBQSxnQkFBQSxPQUFBLFVBQUEsU0FBQSxHQUFBLE1BQUEsR0FBQSxXQUFBLFNBQUEsR0FBQSxNQUFBLEdBQUEsWUFBQSxZQUFBLFdBQUEsWUFBQSxTQUFBLEdBQUEsR0FBQSxJQUFBLFFBQUEsU0FBQSxHQUFBLE1BQUEsRUFBQSxJQUFBLEdBQUEsUUFBQSxRQUFBLFFBQUEsT0FBQSxTQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsSUFBQSxnQkFBQSxJQUFBLE1BQUEsRUFBQSxPQUFBLE1BQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLFFBQUEsT0FBQSxZQUFBLFFBQUEsbUJBQUEsaUJBQUEsa0JBQUEsWUFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLE1BQUEsVUFBQSxHQUFBLEdBQUEsR0FBQSxRQUFBLFVBQUEsRUFBQSxPQUFBLGdCQUFBLEdBQUEsZ0JBQUEsRUFBQSxjQUFBLEVBQUEsSUFBQSxFQUFBLGdCQUFBLGdCQUFBLEdBQUEsZUFBQSxFQUFBLGFBQUEsRUFBQSxJQUFBLEVBQUEsZUFBQSxRQUFBLFFBQUEsYUFBQSxFQUFBLGNBQUEsR0FBQSxPQUFBLFFBQUEsa0JBQUEsS0FBQSxXQUFBLHFCQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxJQUFBLE1BQUEsU0FBQSxFQUFBLEdBQUEsUUFBQSxHQUFBLEVBQUEsR0FBQSxHQUFBLGtCQUFBLEdBQUEsS0FBQSxJQUFBLE9BQUEsOENBQUEsRUFBQSxPQUFBLFlBQUEsR0FBQSxHQUFBLE1BQUEsVUFBQSxNQUFBLEtBQUEsVUFBQSxFQUFBLEdBQUEsTUFBQSxFQUFBLEVBQUEsSUFBQSxLQUFBLFFBQUEsS0FBQSxJQUFBLElBQUEsRUFBQSxNQUFBLEdBQUEsS0FBQSxNQUFBLEVBQUEsRUFBQSxFQUFBLFFBQUEsSUFBQSxJQUFBLEVBQUEsS0FBQSxPQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxRQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxJQUFBLEdBQUEsRUFBQSxNQUFBLEVBQUEsTUFBQSxRQUFBLFFBQUEsRUFBQSxTQUFBLEdBQUEsRUFBQSxHQUFBLE1BQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsR0FBQSxJQUFBLElBQUEsR0FBQSxFQUFBLElBQUEsT0FBQSxJQUFBLFNBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLFFBQUEsS0FBQSxJQUFBLElBQUEsRUFBQSxNQUFBLEdBQUEsS0FBQSxNQUFBLEVBQUEsRUFBQSxFQUFBLFFBQUEsSUFBQSxJQUFBLEVBQUEsS0FBQSxPQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsSUFBQSxRQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLFFBQUEsS0FBQSxFQUFBLE1BQUEsVUFBQSxNQUFBLEtBQUEsVUFBQSxHQUFBLElBQUEsR0FBQSxHQUFBLEVBQUEsQ0FBQSxJQUFBLGdCQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsZ0JBQUEsR0FBQSxLQUFBLElBQUEsT0FBQSw2REFBQSxJQUFBLGtCQUFBLEdBQUEsS0FBQSxJQUFBLE9BQUEsNENBQUEsT0FBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxRQUFBLFdBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxlQUFBLFNBQUEsRUFBQSxHQUFBLElBQUEsUUFBQSxTQUFBLElBQUEsa0JBQUEsR0FBQSxLQUFBLGtCQUFBLEdBQUEsTUFBQSxZQUFBLEtBQUEsSUFBQSxPQUFBLEdBQUEsK0JBQUEsUUFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLFNBQUEsT0FBQSxHQUFBLFVBQUEsT0FBQSxPQUFBLEVBQUEsV0FBQSxFQUFBLFVBQUEsWUFBQSxFQUFBLFFBQUEsUUFBQSxPQUFBLEtBQUEsR0FBQSxTQUFBLEdBQUEsRUFBQSxVQUFBLEdBQUEsRUFBQSxLQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsT0FBQSxFQUFBLFVBQUEsR0FBQSxHQUFBLG9CQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsSUFBQSxHQUFBLE1BQUEsRUFBQSxPQUFBLG1CQUFBLEVBQUEsUUFBQSxXQUFBLElBQUEsUUFBQSxTQUFBLEVBQUEsV0FBQSxFQUFBLFVBQUEsT0FBQSxlQUFBLEdBQUEsR0FBQSxJQUFBLEdBQUEsQ0FBQSxJQUFBLEdBQUEsS0FBQSxHQUFBLEVBQUEsZUFBQSxLQUFBLEVBQUEsZUFBQSxLQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsR0FBQSxPQUFBLGVBQUEsS0FBQSxpQkFBQSxTQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsb0JBQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxrQkFBQSxJQUFBLE1BQUEsRUFBQSxPQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxNQUFBLE1BQUEsV0FBQSxNQUFBLEdBQUEsU0FBQSxPQUFBLFNBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxPQUFBLE9BQUEsR0FBQSxPQUFBLEdBQUEsRUFBQSxTQUFBLFFBQUEsV0FBQSxHQUFBLEdBQUEsRUFBQSxPQUFBLE9BQUEsR0FBQSxRQUFBLE1BQUEsRUFBQSxXQUFBLEVBQUEsU0FBQSxLQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsWUFBQSxJQUFBLEVBQUEsT0FBQSxHQUFBLEVBQUEsUUFBQSxRQUFBLFNBQUEsR0FBQSxNQUFBLEdBQUEsR0FBQSxlQUFBLFNBQUEsU0FBQSxHQUFBLElBQUEsUUFBQSxTQUFBLEdBQUEsTUFBQSxFQUFBLElBQUEsR0FBQSxRQUFBLFFBQUEsR0FBQSxFQUFBLFFBQUEsUUFBQSxVQUFBLEVBQUEsS0FBQSxHQUFBLEtBQUEsR0FBQSxFQUFBLGVBQUEsSUFBQSxRQUFBLFNBQUEsRUFBQSxNQUFBLEVBQUEsR0FBQSxFQUFBLFNBQUEsRUFBQSxJQUFBLE9BQUEsSUFBQSxTQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsZUFBQSxVQUFBLEdBQUEsTUFBQSxXQUFBLFNBQUEsRUFBQSxHQUFBLE1BQUEsR0FBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsU0FBQSxLQUFBLEdBQUEsVUFBQSxTQUFBLEdBQUEsR0FBQSxJQUFBLElBQUEsRUFBQSxJQUFBLFVBQUEsRUFBQSxVQUFBLE9BQUEsR0FBQSxlQUFBLFlBQUEsRUFBQSxPQUFBLEVBQUEsUUFBQSxFQUFBLFdBQUEsRUFBQSxJQUFBLFVBQUEsU0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLFFBQUEsVUFBQSxFQUFBLE9BQUEsU0FBQSxTQUFBLFNBQUEsR0FBQSxRQUFBLEVBQUEsT0FBQSxFQUFBLE1BQUEsRUFBQSxTQUFBLEVBQUEsR0FBQSxRQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUEsVUFBQSxFQUFBLGVBQUEsUUFBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLFNBQUEsRUFBQSxRQUFBLEVBQUEsWUFBQSxFQUFBLFdBQUEsY0FBQSxTQUFBLEVBQUEsR0FBQSxNQUFBLFNBQUEsU0FBQSxJQUFBLFFBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsZUFBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEdBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQSxLQUFBLE9BQUEsR0FBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsRUFBQSxLQUFBLEtBQUEsR0FBQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBQUEsR0FBQSxRQUFBLFNBQUEsSUFBQSxJQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsRUFBQSxlQUFBLEdBQUEsQ0FBQSxHQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsT0FBQSxHQUFBLE1BQUEsR0FBQSxNQUFBLEdBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsUUFBQSxJQUFBLFFBQUEsUUFBQSxHQUFBLElBQUEsR0FBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxPQUFBLElBQUEsT0FBQSxTQUFBLEdBQUEsR0FBQSxFQUFBLE9BQUEsU0FBQSxTQUFBLEtBQUEsR0FBQSxPQUFBLElBQUEsUUFBQSxXQUFBLEVBQUEsUUFBQSxFQUFBLEVBQUEsVUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsUUFBQSxVQUFBLEVBQUEsU0FBQSxJQUFBLE9BQUEsS0FBQSxHQUFBLFFBQUEsT0FBQSxFQUFBLFNBQUEsRUFBQSxVQUFBLEVBQUEsUUFBQSxRQUFBLFVBQUEsRUFBQSxZQUFBLE9BQUEsS0FBQSxHQUFBLE9BQUEsR0FBQSxPQUFBLEVBQUEsWUFBQSxFQUFBLGFBQUEsRUFBQSxXQUFBLFFBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxNQUFBLGdCQUFBLFdBQUEsR0FBQSxjQUFBLEVBQUEsS0FBQSxJQUFBLE9BQUEsZUFBQSxFQUFBLDBCQUFBLElBQUEsUUFBQSxZQUFBLEdBQUEsS0FBQSxJQUFBLE9BQUEsT0FBQSxFQUFBLHNFQUFBLEdBQUEsV0FBQSxFQUFBLFlBQUEsRUFBQSxJQUFBLEtBQUEsR0FBQSxPQUFBIiwiZmlsZSI6InZlbmRvci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlIEFuZ3VsYXJKUyB2MS4zLjFcbiAqIChjKSAyMDEwLTIwMTQgR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkgeyd1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBUaGlzIG9iamVjdCBwcm92aWRlcyBhIHV0aWxpdHkgZm9yIHByb2R1Y2luZyByaWNoIEVycm9yIG1lc3NhZ2VzIHdpdGhpblxuICogQW5ndWxhci4gSXQgY2FuIGJlIGNhbGxlZCBhcyBmb2xsb3dzOlxuICpcbiAqIHZhciBleGFtcGxlTWluRXJyID0gbWluRXJyKCdleGFtcGxlJyk7XG4gKiB0aHJvdyBleGFtcGxlTWluRXJyKCdvbmUnLCAnVGhpcyB7MH0gaXMgezF9JywgZm9vLCBiYXIpO1xuICpcbiAqIFRoZSBhYm92ZSBjcmVhdGVzIGFuIGluc3RhbmNlIG9mIG1pbkVyciBpbiB0aGUgZXhhbXBsZSBuYW1lc3BhY2UuIFRoZVxuICogcmVzdWx0aW5nIGVycm9yIHdpbGwgaGF2ZSBhIG5hbWVzcGFjZWQgZXJyb3IgY29kZSBvZiBleGFtcGxlLm9uZS4gIFRoZVxuICogcmVzdWx0aW5nIGVycm9yIHdpbGwgcmVwbGFjZSB7MH0gd2l0aCB0aGUgdmFsdWUgb2YgZm9vLCBhbmQgezF9IHdpdGggdGhlXG4gKiB2YWx1ZSBvZiBiYXIuIFRoZSBvYmplY3QgaXMgbm90IHJlc3RyaWN0ZWQgaW4gdGhlIG51bWJlciBvZiBhcmd1bWVudHMgaXQgY2FuXG4gKiB0YWtlLlxuICpcbiAqIElmIGZld2VyIGFyZ3VtZW50cyBhcmUgc3BlY2lmaWVkIHRoYW4gbmVjZXNzYXJ5IGZvciBpbnRlcnBvbGF0aW9uLCB0aGUgZXh0cmFcbiAqIGludGVycG9sYXRpb24gbWFya2VycyB3aWxsIGJlIHByZXNlcnZlZCBpbiB0aGUgZmluYWwgc3RyaW5nLlxuICpcbiAqIFNpbmNlIGRhdGEgd2lsbCBiZSBwYXJzZWQgc3RhdGljYWxseSBkdXJpbmcgYSBidWlsZCBzdGVwLCBzb21lIHJlc3RyaWN0aW9uc1xuICogYXJlIGFwcGxpZWQgd2l0aCByZXNwZWN0IHRvIGhvdyBtaW5FcnIgaW5zdGFuY2VzIGFyZSBjcmVhdGVkIGFuZCBjYWxsZWQuXG4gKiBJbnN0YW5jZXMgc2hvdWxkIGhhdmUgbmFtZXMgb2YgdGhlIGZvcm0gbmFtZXNwYWNlTWluRXJyIGZvciBhIG1pbkVyciBjcmVhdGVkXG4gKiB1c2luZyBtaW5FcnIoJ25hbWVzcGFjZScpIC4gRXJyb3IgY29kZXMsIG5hbWVzcGFjZXMgYW5kIHRlbXBsYXRlIHN0cmluZ3NcbiAqIHNob3VsZCBhbGwgYmUgc3RhdGljIHN0cmluZ3MsIG5vdCB2YXJpYWJsZXMgb3IgZ2VuZXJhbCBleHByZXNzaW9ucy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kdWxlIFRoZSBuYW1lc3BhY2UgdG8gdXNlIGZvciB0aGUgbmV3IG1pbkVyciBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IEVycm9yQ29uc3RydWN0b3IgQ3VzdG9tIGVycm9yIGNvbnN0cnVjdG9yIHRvIGJlIGluc3RhbnRpYXRlZCB3aGVuIHJldHVybmluZ1xuICogICBlcnJvciBmcm9tIHJldHVybmVkIGZ1bmN0aW9uLCBmb3IgY2FzZXMgd2hlbiBhIHBhcnRpY3VsYXIgdHlwZSBvZiBlcnJvciBpcyB1c2VmdWwuXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29kZTpzdHJpbmcsIHRlbXBsYXRlOnN0cmluZywgLi4udGVtcGxhdGVBcmdzKTogRXJyb3J9IG1pbkVyciBpbnN0YW5jZVxuICovXG5cbmZ1bmN0aW9uIG1pbkVycihtb2R1bGUsIEVycm9yQ29uc3RydWN0b3IpIHtcbiAgRXJyb3JDb25zdHJ1Y3RvciA9IEVycm9yQ29uc3RydWN0b3IgfHwgRXJyb3I7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgY29kZSA9IGFyZ3VtZW50c1swXSxcbiAgICAgIHByZWZpeCA9ICdbJyArIChtb2R1bGUgPyBtb2R1bGUgKyAnOicgOiAnJykgKyBjb2RlICsgJ10gJyxcbiAgICAgIHRlbXBsYXRlID0gYXJndW1lbnRzWzFdLFxuICAgICAgdGVtcGxhdGVBcmdzID0gYXJndW1lbnRzLFxuICAgICAgc3RyaW5naWZ5ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcmV0dXJuIG9iai50b1N0cmluZygpLnJlcGxhY2UoLyBcXHtbXFxzXFxTXSokLywgJycpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgcmV0dXJuICd1bmRlZmluZWQnO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgIH0sXG4gICAgICBtZXNzYWdlLCBpO1xuXG4gICAgbWVzc2FnZSA9IHByZWZpeCArIHRlbXBsYXRlLnJlcGxhY2UoL1xce1xcZCtcXH0vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgIHZhciBpbmRleCA9ICttYXRjaC5zbGljZSgxLCAtMSksIGFyZztcblxuICAgICAgaWYgKGluZGV4ICsgMiA8IHRlbXBsYXRlQXJncy5sZW5ndGgpIHtcbiAgICAgICAgYXJnID0gdGVtcGxhdGVBcmdzW2luZGV4ICsgMl07XG4gICAgICAgIGlmICh0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcmV0dXJuIGFyZy50b1N0cmluZygpLnJlcGxhY2UoLyA/XFx7W1xcc1xcU10qJC8sICcnKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXJnID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHJldHVybiAndW5kZWZpbmVkJztcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXJnICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgIHJldHVybiB0b0pzb24oYXJnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH0pO1xuXG4gICAgbWVzc2FnZSA9IG1lc3NhZ2UgKyAnXFxuaHR0cDovL2Vycm9ycy5hbmd1bGFyanMub3JnLzEuMy4xLycgK1xuICAgICAgKG1vZHVsZSA/IG1vZHVsZSArICcvJyA6ICcnKSArIGNvZGU7XG4gICAgZm9yIChpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgbWVzc2FnZSA9IG1lc3NhZ2UgKyAoaSA9PSAyID8gJz8nIDogJyYnKSArICdwJyArIChpLTIpICsgJz0nICtcbiAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeShhcmd1bWVudHNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBFcnJvckNvbnN0cnVjdG9yKG1lc3NhZ2UpO1xuICB9O1xufVxuXG4vKiBXZSBuZWVkIHRvIHRlbGwganNoaW50IHdoYXQgdmFyaWFibGVzIGFyZSBiZWluZyBleHBvcnRlZCAqL1xuLyogZ2xvYmFsIGFuZ3VsYXI6IHRydWUsXG4gIG1zaWU6IHRydWUsXG4gIGpxTGl0ZTogdHJ1ZSxcbiAgalF1ZXJ5OiB0cnVlLFxuICBzbGljZTogdHJ1ZSxcbiAgc3BsaWNlOiB0cnVlLFxuICBwdXNoOiB0cnVlLFxuICB0b1N0cmluZzogdHJ1ZSxcbiAgbmdNaW5FcnI6IHRydWUsXG4gIGFuZ3VsYXJNb2R1bGU6IHRydWUsXG4gIHVpZDogdHJ1ZSxcbiAgUkVHRVhfU1RSSU5HX1JFR0VYUDogdHJ1ZSxcbiAgVkFMSURJVFlfU1RBVEVfUFJPUEVSVFk6IHRydWUsXG5cbiAgbG93ZXJjYXNlOiB0cnVlLFxuICB1cHBlcmNhc2U6IHRydWUsXG4gIG1hbnVhbExvd2VyY2FzZTogdHJ1ZSxcbiAgbWFudWFsVXBwZXJjYXNlOiB0cnVlLFxuICBub2RlTmFtZV86IHRydWUsXG4gIGlzQXJyYXlMaWtlOiB0cnVlLFxuICBmb3JFYWNoOiB0cnVlLFxuICBzb3J0ZWRLZXlzOiB0cnVlLFxuICBmb3JFYWNoU29ydGVkOiB0cnVlLFxuICByZXZlcnNlUGFyYW1zOiB0cnVlLFxuICBuZXh0VWlkOiB0cnVlLFxuICBzZXRIYXNoS2V5OiB0cnVlLFxuICBleHRlbmQ6IHRydWUsXG4gIGludDogdHJ1ZSxcbiAgaW5oZXJpdDogdHJ1ZSxcbiAgbm9vcDogdHJ1ZSxcbiAgaWRlbnRpdHk6IHRydWUsXG4gIHZhbHVlRm46IHRydWUsXG4gIGlzVW5kZWZpbmVkOiB0cnVlLFxuICBpc0RlZmluZWQ6IHRydWUsXG4gIGlzT2JqZWN0OiB0cnVlLFxuICBpc1N0cmluZzogdHJ1ZSxcbiAgaXNOdW1iZXI6IHRydWUsXG4gIGlzRGF0ZTogdHJ1ZSxcbiAgaXNBcnJheTogdHJ1ZSxcbiAgaXNGdW5jdGlvbjogdHJ1ZSxcbiAgaXNSZWdFeHA6IHRydWUsXG4gIGlzV2luZG93OiB0cnVlLFxuICBpc1Njb3BlOiB0cnVlLFxuICBpc0ZpbGU6IHRydWUsXG4gIGlzQmxvYjogdHJ1ZSxcbiAgaXNCb29sZWFuOiB0cnVlLFxuICBpc1Byb21pc2VMaWtlOiB0cnVlLFxuICB0cmltOiB0cnVlLFxuICBlc2NhcGVGb3JSZWdleHA6IHRydWUsXG4gIGlzRWxlbWVudDogdHJ1ZSxcbiAgbWFrZU1hcDogdHJ1ZSxcbiAgaW5jbHVkZXM6IHRydWUsXG4gIGFycmF5UmVtb3ZlOiB0cnVlLFxuICBjb3B5OiB0cnVlLFxuICBzaGFsbG93Q29weTogdHJ1ZSxcbiAgZXF1YWxzOiB0cnVlLFxuICBjc3A6IHRydWUsXG4gIGNvbmNhdDogdHJ1ZSxcbiAgc2xpY2VBcmdzOiB0cnVlLFxuICBiaW5kOiB0cnVlLFxuICB0b0pzb25SZXBsYWNlcjogdHJ1ZSxcbiAgdG9Kc29uOiB0cnVlLFxuICBmcm9tSnNvbjogdHJ1ZSxcbiAgc3RhcnRpbmdUYWc6IHRydWUsXG4gIHRyeURlY29kZVVSSUNvbXBvbmVudDogdHJ1ZSxcbiAgcGFyc2VLZXlWYWx1ZTogdHJ1ZSxcbiAgdG9LZXlWYWx1ZTogdHJ1ZSxcbiAgZW5jb2RlVXJpU2VnbWVudDogdHJ1ZSxcbiAgZW5jb2RlVXJpUXVlcnk6IHRydWUsXG4gIGFuZ3VsYXJJbml0OiB0cnVlLFxuICBib290c3RyYXA6IHRydWUsXG4gIGdldFRlc3RhYmlsaXR5OiB0cnVlLFxuICBzbmFrZV9jYXNlOiB0cnVlLFxuICBiaW5kSlF1ZXJ5OiB0cnVlLFxuICBhc3NlcnRBcmc6IHRydWUsXG4gIGFzc2VydEFyZ0ZuOiB0cnVlLFxuICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eTogdHJ1ZSxcbiAgZ2V0dGVyOiB0cnVlLFxuICBnZXRCbG9ja05vZGVzOiB0cnVlLFxuICBoYXNPd25Qcm9wZXJ0eTogdHJ1ZSxcbiAgY3JlYXRlTWFwOiB0cnVlLFxuXG4gIE5PREVfVFlQRV9FTEVNRU5UOiB0cnVlLFxuICBOT0RFX1RZUEVfVEVYVDogdHJ1ZSxcbiAgTk9ERV9UWVBFX0NPTU1FTlQ6IHRydWUsXG4gIE5PREVfVFlQRV9ET0NVTUVOVDogdHJ1ZSxcbiAgTk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UOiB0cnVlLFxuKi9cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbmdcbiAqIEBtb2R1bGUgbmdcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqICMgbmcgKGNvcmUgbW9kdWxlKVxuICogVGhlIG5nIG1vZHVsZSBpcyBsb2FkZWQgYnkgZGVmYXVsdCB3aGVuIGFuIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbiBpcyBzdGFydGVkLiBUaGUgbW9kdWxlIGl0c2VsZlxuICogY29udGFpbnMgdGhlIGVzc2VudGlhbCBjb21wb25lbnRzIGZvciBhbiBBbmd1bGFySlMgYXBwbGljYXRpb24gdG8gZnVuY3Rpb24uIFRoZSB0YWJsZSBiZWxvd1xuICogbGlzdHMgYSBoaWdoIGxldmVsIGJyZWFrZG93biBvZiBlYWNoIG9mIHRoZSBzZXJ2aWNlcy9mYWN0b3JpZXMsIGZpbHRlcnMsIGRpcmVjdGl2ZXMgYW5kIHRlc3RpbmdcbiAqIGNvbXBvbmVudHMgYXZhaWxhYmxlIHdpdGhpbiB0aGlzIGNvcmUgbW9kdWxlLlxuICpcbiAqIDxkaXYgZG9jLW1vZHVsZS1jb21wb25lbnRzPVwibmdcIj48L2Rpdj5cbiAqL1xuXG52YXIgUkVHRVhfU1RSSU5HX1JFR0VYUCA9IC9eXFwvKC4rKVxcLyhbYS16XSopJC87XG5cbi8vIFRoZSBuYW1lIG9mIGEgZm9ybSBjb250cm9sJ3MgVmFsaWRpdHlTdGF0ZSBwcm9wZXJ0eS5cbi8vIFRoaXMgaXMgdXNlZCBzbyB0aGF0IGl0J3MgcG9zc2libGUgZm9yIGludGVybmFsIHRlc3RzIHRvIGNyZWF0ZSBtb2NrIFZhbGlkaXR5U3RhdGVzLlxudmFyIFZBTElESVRZX1NUQVRFX1BST1BFUlRZID0gJ3ZhbGlkaXR5JztcblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIubG93ZXJjYXNlXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvbiBDb252ZXJ0cyB0aGUgc3BlY2lmaWVkIHN0cmluZyB0byBsb3dlcmNhc2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFN0cmluZyB0byBiZSBjb252ZXJ0ZWQgdG8gbG93ZXJjYXNlLlxuICogQHJldHVybnMge3N0cmluZ30gTG93ZXJjYXNlZCBzdHJpbmcuXG4gKi9cbnZhciBsb3dlcmNhc2UgPSBmdW5jdGlvbihzdHJpbmcpIHtyZXR1cm4gaXNTdHJpbmcoc3RyaW5nKSA/IHN0cmluZy50b0xvd2VyQ2FzZSgpIDogc3RyaW5nO307XG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci51cHBlcmNhc2VcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uIENvbnZlcnRzIHRoZSBzcGVjaWZpZWQgc3RyaW5nIHRvIHVwcGVyY2FzZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgU3RyaW5nIHRvIGJlIGNvbnZlcnRlZCB0byB1cHBlcmNhc2UuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBVcHBlcmNhc2VkIHN0cmluZy5cbiAqL1xudmFyIHVwcGVyY2FzZSA9IGZ1bmN0aW9uKHN0cmluZykge3JldHVybiBpc1N0cmluZyhzdHJpbmcpID8gc3RyaW5nLnRvVXBwZXJDYXNlKCkgOiBzdHJpbmc7fTtcblxuXG52YXIgbWFudWFsTG93ZXJjYXNlID0gZnVuY3Rpb24ocykge1xuICAvKiBqc2hpbnQgYml0d2lzZTogZmFsc2UgKi9cbiAgcmV0dXJuIGlzU3RyaW5nKHMpXG4gICAgICA/IHMucmVwbGFjZSgvW0EtWl0vZywgZnVuY3Rpb24oY2gpIHtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjaC5jaGFyQ29kZUF0KDApIHwgMzIpO30pXG4gICAgICA6IHM7XG59O1xudmFyIG1hbnVhbFVwcGVyY2FzZSA9IGZ1bmN0aW9uKHMpIHtcbiAgLyoganNoaW50IGJpdHdpc2U6IGZhbHNlICovXG4gIHJldHVybiBpc1N0cmluZyhzKVxuICAgICAgPyBzLnJlcGxhY2UoL1thLXpdL2csIGZ1bmN0aW9uKGNoKSB7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2guY2hhckNvZGVBdCgwKSAmIH4zMik7fSlcbiAgICAgIDogcztcbn07XG5cblxuLy8gU3RyaW5nI3RvTG93ZXJDYXNlIGFuZCBTdHJpbmcjdG9VcHBlckNhc2UgZG9uJ3QgcHJvZHVjZSBjb3JyZWN0IHJlc3VsdHMgaW4gYnJvd3NlcnMgd2l0aCBUdXJraXNoXG4vLyBsb2NhbGUsIGZvciB0aGlzIHJlYXNvbiB3ZSBuZWVkIHRvIGRldGVjdCB0aGlzIGNhc2UgYW5kIHJlZGVmaW5lIGxvd2VyY2FzZS91cHBlcmNhc2UgbWV0aG9kc1xuLy8gd2l0aCBjb3JyZWN0IGJ1dCBzbG93ZXIgYWx0ZXJuYXRpdmVzLlxuaWYgKCdpJyAhPT0gJ0knLnRvTG93ZXJDYXNlKCkpIHtcbiAgbG93ZXJjYXNlID0gbWFudWFsTG93ZXJjYXNlO1xuICB1cHBlcmNhc2UgPSBtYW51YWxVcHBlcmNhc2U7XG59XG5cblxudmFyIC8qKiBob2xkcyBtYWpvciB2ZXJzaW9uIG51bWJlciBmb3IgSUUgb3IgTmFOIGZvciByZWFsIGJyb3dzZXJzICovXG4gICAgbXNpZSxcbiAgICBqcUxpdGUsICAgICAgICAgICAvLyBkZWxheSBiaW5kaW5nIHNpbmNlIGpRdWVyeSBjb3VsZCBiZSBsb2FkZWQgYWZ0ZXIgdXMuXG4gICAgalF1ZXJ5LCAgICAgICAgICAgLy8gZGVsYXkgYmluZGluZ1xuICAgIHNsaWNlICAgICAgICAgICAgID0gW10uc2xpY2UsXG4gICAgc3BsaWNlICAgICAgICAgICAgPSBbXS5zcGxpY2UsXG4gICAgcHVzaCAgICAgICAgICAgICAgPSBbXS5wdXNoLFxuICAgIHRvU3RyaW5nICAgICAgICAgID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxcbiAgICBuZ01pbkVyciAgICAgICAgICA9IG1pbkVycignbmcnKSxcblxuICAgIC8qKiBAbmFtZSBhbmd1bGFyICovXG4gICAgYW5ndWxhciAgICAgICAgICAgPSB3aW5kb3cuYW5ndWxhciB8fCAod2luZG93LmFuZ3VsYXIgPSB7fSksXG4gICAgYW5ndWxhck1vZHVsZSxcbiAgICB1aWQgICAgICAgICAgICAgICA9IDA7XG5cbi8qKlxuICogZG9jdW1lbnRNb2RlIGlzIGFuIElFLW9ubHkgcHJvcGVydHlcbiAqIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9jYzE5Njk4OCh2PXZzLjg1KS5hc3B4XG4gKi9cbm1zaWUgPSBkb2N1bWVudC5kb2N1bWVudE1vZGU7XG5cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSBvYmpcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiBgb2JqYCBpcyBhbiBhcnJheSBvciBhcnJheS1saWtlIG9iamVjdCAoTm9kZUxpc3QsIEFyZ3VtZW50cyxcbiAqICAgICAgICAgICAgICAgICAgIFN0cmluZyAuLi4pXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKG9iaikge1xuICBpZiAob2JqID09IG51bGwgfHwgaXNXaW5kb3cob2JqKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBvYmoubGVuZ3RoO1xuXG4gIGlmIChvYmoubm9kZVR5cGUgPT09IE5PREVfVFlQRV9FTEVNRU5UICYmIGxlbmd0aCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGlzU3RyaW5nKG9iaikgfHwgaXNBcnJheShvYmopIHx8IGxlbmd0aCA9PT0gMCB8fFxuICAgICAgICAgdHlwZW9mIGxlbmd0aCA9PT0gJ251bWJlcicgJiYgbGVuZ3RoID4gMCAmJiAobGVuZ3RoIC0gMSkgaW4gb2JqO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5mb3JFYWNoXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSW52b2tlcyB0aGUgYGl0ZXJhdG9yYCBmdW5jdGlvbiBvbmNlIGZvciBlYWNoIGl0ZW0gaW4gYG9iamAgY29sbGVjdGlvbiwgd2hpY2ggY2FuIGJlIGVpdGhlciBhblxuICogb2JqZWN0IG9yIGFuIGFycmF5LiBUaGUgYGl0ZXJhdG9yYCBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggYGl0ZXJhdG9yKHZhbHVlLCBrZXksIG9iailgLCB3aGVyZSBgdmFsdWVgXG4gKiBpcyB0aGUgdmFsdWUgb2YgYW4gb2JqZWN0IHByb3BlcnR5IG9yIGFuIGFycmF5IGVsZW1lbnQsIGBrZXlgIGlzIHRoZSBvYmplY3QgcHJvcGVydHkga2V5IG9yXG4gKiBhcnJheSBlbGVtZW50IGluZGV4IGFuZCBvYmogaXMgdGhlIGBvYmpgIGl0c2VsZi4gU3BlY2lmeWluZyBhIGBjb250ZXh0YCBmb3IgdGhlIGZ1bmN0aW9uIGlzIG9wdGlvbmFsLlxuICpcbiAqIEl0IGlzIHdvcnRoIG5vdGluZyB0aGF0IGAuZm9yRWFjaGAgZG9lcyBub3QgaXRlcmF0ZSBvdmVyIGluaGVyaXRlZCBwcm9wZXJ0aWVzIGJlY2F1c2UgaXQgZmlsdGVyc1xuICogdXNpbmcgdGhlIGBoYXNPd25Qcm9wZXJ0eWAgbWV0aG9kLlxuICpcbiAqIFVubGlrZSBFUzI2MidzXG4gKiBbQXJyYXkucHJvdG90eXBlLmZvckVhY2hdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi81LjEvI3NlYy0xNS40LjQuMTgpLFxuICogUHJvdmlkaW5nICd1bmRlZmluZWQnIG9yICdudWxsJyB2YWx1ZXMgZm9yIGBvYmpgIHdpbGwgbm90IHRocm93IGEgVHlwZUVycm9yLCBidXQgcmF0aGVyIGp1c3RcbiAqIHJldHVybiB0aGUgdmFsdWUgcHJvdmlkZWQuXG4gKlxuICAgYGBganNcbiAgICAgdmFyIHZhbHVlcyA9IHtuYW1lOiAnbWlza28nLCBnZW5kZXI6ICdtYWxlJ307XG4gICAgIHZhciBsb2cgPSBbXTtcbiAgICAgYW5ndWxhci5mb3JFYWNoKHZhbHVlcywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgIHRoaXMucHVzaChrZXkgKyAnOiAnICsgdmFsdWUpO1xuICAgICB9LCBsb2cpO1xuICAgICBleHBlY3QobG9nKS50b0VxdWFsKFsnbmFtZTogbWlza28nLCAnZ2VuZGVyOiBtYWxlJ10pO1xuICAgYGBgXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBPYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0b3IgSXRlcmF0b3IgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge09iamVjdD19IGNvbnRleHQgT2JqZWN0IHRvIGJlY29tZSBjb250ZXh0IChgdGhpc2ApIGZvciB0aGUgaXRlcmF0b3IgZnVuY3Rpb24uXG4gKiBAcmV0dXJucyB7T2JqZWN0fEFycmF5fSBSZWZlcmVuY2UgdG8gYG9iamAuXG4gKi9cblxuZnVuY3Rpb24gZm9yRWFjaChvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gIHZhciBrZXksIGxlbmd0aDtcbiAgaWYgKG9iaikge1xuICAgIGlmIChpc0Z1bmN0aW9uKG9iaikpIHtcbiAgICAgIGZvciAoa2V5IGluIG9iaikge1xuICAgICAgICAvLyBOZWVkIHRvIGNoZWNrIGlmIGhhc093blByb3BlcnR5IGV4aXN0cyxcbiAgICAgICAgLy8gYXMgb24gSUU4IHRoZSByZXN1bHQgb2YgcXVlcnlTZWxlY3RvckFsbCBpcyBhbiBvYmplY3Qgd2l0aG91dCBhIGhhc093blByb3BlcnR5IGZ1bmN0aW9uXG4gICAgICAgIGlmIChrZXkgIT0gJ3Byb3RvdHlwZScgJiYga2V5ICE9ICdsZW5ndGgnICYmIGtleSAhPSAnbmFtZScgJiYgKCFvYmouaGFzT3duUHJvcGVydHkgfHwgb2JqLmhhc093blByb3BlcnR5KGtleSkpKSB7XG4gICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KG9iaikgfHwgaXNBcnJheUxpa2Uob2JqKSkge1xuICAgICAgdmFyIGlzUHJpbWl0aXZlID0gdHlwZW9mIG9iaiAhPT0gJ29iamVjdCc7XG4gICAgICBmb3IgKGtleSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGtleSA8IGxlbmd0aDsga2V5KyspIHtcbiAgICAgICAgaWYgKGlzUHJpbWl0aXZlIHx8IGtleSBpbiBvYmopIHtcbiAgICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9iai5mb3JFYWNoICYmIG9iai5mb3JFYWNoICE9PSBmb3JFYWNoKSB7XG4gICAgICAgIG9iai5mb3JFYWNoKGl0ZXJhdG9yLCBjb250ZXh0LCBvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIHNvcnRlZEtleXMob2JqKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmopLnNvcnQoKTtcbn1cblxuZnVuY3Rpb24gZm9yRWFjaFNvcnRlZChvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gIHZhciBrZXlzID0gc29ydGVkS2V5cyhvYmopO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXlzW2ldXSwga2V5c1tpXSk7XG4gIH1cbiAgcmV0dXJuIGtleXM7XG59XG5cblxuLyoqXG4gKiB3aGVuIHVzaW5nIGZvckVhY2ggdGhlIHBhcmFtcyBhcmUgdmFsdWUsIGtleSwgYnV0IGl0IGlzIG9mdGVuIHVzZWZ1bCB0byBoYXZlIGtleSwgdmFsdWUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZywgKil9IGl0ZXJhdG9yRm5cbiAqIEByZXR1cm5zIHtmdW5jdGlvbigqLCBzdHJpbmcpfVxuICovXG5mdW5jdGlvbiByZXZlcnNlUGFyYW1zKGl0ZXJhdG9yRm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHsgaXRlcmF0b3JGbihrZXksIHZhbHVlKTsgfTtcbn1cblxuLyoqXG4gKiBBIGNvbnNpc3RlbnQgd2F5IG9mIGNyZWF0aW5nIHVuaXF1ZSBJRHMgaW4gYW5ndWxhci5cbiAqXG4gKiBVc2luZyBzaW1wbGUgbnVtYmVycyBhbGxvd3MgdXMgdG8gZ2VuZXJhdGUgMjguNiBtaWxsaW9uIHVuaXF1ZSBpZHMgcGVyIHNlY29uZCBmb3IgMTAgeWVhcnMgYmVmb3JlXG4gKiB3ZSBoaXQgbnVtYmVyIHByZWNpc2lvbiBpc3N1ZXMgaW4gSmF2YVNjcmlwdC5cbiAqXG4gKiBNYXRoLnBvdygyLDUzKSAvIDYwIC8gNjAgLyAyNCAvIDM2NSAvIDEwID0gMjguNk1cbiAqXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBhbiB1bmlxdWUgYWxwaGEtbnVtZXJpYyBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gbmV4dFVpZCgpIHtcbiAgcmV0dXJuICsrdWlkO1xufVxuXG5cbi8qKlxuICogU2V0IG9yIGNsZWFyIHRoZSBoYXNoa2V5IGZvciBhbiBvYmplY3QuXG4gKiBAcGFyYW0gb2JqIG9iamVjdFxuICogQHBhcmFtIGggdGhlIGhhc2hrZXkgKCF0cnV0aHkgdG8gZGVsZXRlIHRoZSBoYXNoa2V5KVxuICovXG5mdW5jdGlvbiBzZXRIYXNoS2V5KG9iaiwgaCkge1xuICBpZiAoaCkge1xuICAgIG9iai4kJGhhc2hLZXkgPSBoO1xuICB9XG4gIGVsc2Uge1xuICAgIGRlbGV0ZSBvYmouJCRoYXNoS2V5O1xuICB9XG59XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmV4dGVuZFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEV4dGVuZHMgdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBgZHN0YCBieSBjb3B5aW5nIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgZnJvbSB0aGUgYHNyY2Agb2JqZWN0KHMpXG4gKiB0byBgZHN0YC4gWW91IGNhbiBzcGVjaWZ5IG11bHRpcGxlIGBzcmNgIG9iamVjdHMuIElmIHlvdSB3YW50IHRvIHByZXNlcnZlIG9yaWdpbmFsIG9iamVjdHMsIHlvdSBjYW4gZG8gc29cbiAqIGJ5IHBhc3NpbmcgYW4gZW1wdHkgb2JqZWN0IGFzIHRoZSB0YXJnZXQ6IGB2YXIgb2JqZWN0ID0gYW5ndWxhci5leHRlbmQoe30sIG9iamVjdDEsIG9iamVjdDIpYC5cbiAqIE5vdGU6IEtlZXAgaW4gbWluZCB0aGF0IGBhbmd1bGFyLmV4dGVuZGAgZG9lcyBub3Qgc3VwcG9ydCByZWN1cnNpdmUgbWVyZ2UgKGRlZXAgY29weSkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRzdCBEZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0gey4uLk9iamVjdH0gc3JjIFNvdXJjZSBvYmplY3QocykuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZWZlcmVuY2UgdG8gYGRzdGAuXG4gKi9cbmZ1bmN0aW9uIGV4dGVuZChkc3QpIHtcbiAgdmFyIGggPSBkc3QuJCRoYXNoS2V5O1xuXG4gIGZvciAodmFyIGkgPSAxLCBpaSA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgdmFyIG9iaiA9IGFyZ3VtZW50c1tpXTtcbiAgICBpZiAob2JqKSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICBmb3IgKHZhciBqID0gMCwgamogPSBrZXlzLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNbal07XG4gICAgICAgIGRzdFtrZXldID0gb2JqW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2V0SGFzaEtleShkc3QsIGgpO1xuICByZXR1cm4gZHN0O1xufVxuXG5mdW5jdGlvbiBpbnQoc3RyKSB7XG4gIHJldHVybiBwYXJzZUludChzdHIsIDEwKTtcbn1cblxuXG5mdW5jdGlvbiBpbmhlcml0KHBhcmVudCwgZXh0cmEpIHtcbiAgcmV0dXJuIGV4dGVuZChuZXcgKGV4dGVuZChmdW5jdGlvbigpIHt9LCB7cHJvdG90eXBlOnBhcmVudH0pKSgpLCBleHRyYSk7XG59XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLm5vb3BcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgbm8gb3BlcmF0aW9ucy4gVGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZnVsIHdoZW4gd3JpdGluZyBjb2RlIGluIHRoZVxuICogZnVuY3Rpb25hbCBzdHlsZS5cbiAgIGBgYGpzXG4gICAgIGZ1bmN0aW9uIGZvbyhjYWxsYmFjaykge1xuICAgICAgIHZhciByZXN1bHQgPSBjYWxjdWxhdGVSZXN1bHQoKTtcbiAgICAgICAoY2FsbGJhY2sgfHwgYW5ndWxhci5ub29wKShyZXN1bHQpO1xuICAgICB9XG4gICBgYGBcbiAqL1xuZnVuY3Rpb24gbm9vcCgpIHt9XG5ub29wLiRpbmplY3QgPSBbXTtcblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pZGVudGl0eVxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGl0cyBmaXJzdCBhcmd1bWVudC4gVGhpcyBmdW5jdGlvbiBpcyB1c2VmdWwgd2hlbiB3cml0aW5nIGNvZGUgaW4gdGhlXG4gKiBmdW5jdGlvbmFsIHN0eWxlLlxuICpcbiAgIGBgYGpzXG4gICAgIGZ1bmN0aW9uIHRyYW5zZm9ybWVyKHRyYW5zZm9ybWF0aW9uRm4sIHZhbHVlKSB7XG4gICAgICAgcmV0dXJuICh0cmFuc2Zvcm1hdGlvbkZuIHx8IGFuZ3VsYXIuaWRlbnRpdHkpKHZhbHVlKTtcbiAgICAgfTtcbiAgIGBgYFxuICovXG5mdW5jdGlvbiBpZGVudGl0eSgkKSB7cmV0dXJuICQ7fVxuaWRlbnRpdHkuJGluamVjdCA9IFtdO1xuXG5cbmZ1bmN0aW9uIHZhbHVlRm4odmFsdWUpIHtyZXR1cm4gZnVuY3Rpb24oKSB7cmV0dXJuIHZhbHVlO307fVxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pc1VuZGVmaW5lZFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgdW5kZWZpbmVkLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyB1bmRlZmluZWQuXG4gKi9cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbHVlKSB7cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCc7fVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlzRGVmaW5lZFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgZGVmaW5lZC5cbiAqXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgZGVmaW5lZC5cbiAqL1xuZnVuY3Rpb24gaXNEZWZpbmVkKHZhbHVlKSB7cmV0dXJuIHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCc7fVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlzT2JqZWN0XG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhbiBgT2JqZWN0YC4gVW5saWtlIGB0eXBlb2ZgIGluIEphdmFTY3JpcHQsIGBudWxsYHMgYXJlIG5vdFxuICogY29uc2lkZXJlZCB0byBiZSBvYmplY3RzLiBOb3RlIHRoYXQgSmF2YVNjcmlwdCBhcnJheXMgYXJlIG9iamVjdHMuXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGFuIGBPYmplY3RgIGJ1dCBub3QgYG51bGxgLlxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAvLyBodHRwOi8vanNwZXJmLmNvbS9pc29iamVjdDRcbiAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCc7XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNTdHJpbmdcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGEgYFN0cmluZ2AuXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGEgYFN0cmluZ2AuXG4gKi9cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZyc7fVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlzTnVtYmVyXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhIGBOdW1iZXJgLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBOdW1iZXJgLlxuICovXG5mdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge3JldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInO31cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pc0RhdGVcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgdmFsdWUgaXMgYSBkYXRlLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBEYXRlYC5cbiAqL1xuZnVuY3Rpb24gaXNEYXRlKHZhbHVlKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlzQXJyYXlcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGFuIGBBcnJheWAuXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGFuIGBBcnJheWAuXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNGdW5jdGlvblxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYSBgRnVuY3Rpb25gLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBGdW5jdGlvbmAuXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtyZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO31cblxuXG4vKipcbiAqIERldGVybWluZXMgaWYgYSB2YWx1ZSBpcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBSZWdFeHBgLlxuICovXG5mdW5jdGlvbiBpc1JlZ0V4cCh2YWx1ZSkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuXG5cbi8qKlxuICogQ2hlY2tzIGlmIGBvYmpgIGlzIGEgd2luZG93IG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSBvYmogT2JqZWN0IHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgb2JqYCBpcyBhIHdpbmRvdyBvYmouXG4gKi9cbmZ1bmN0aW9uIGlzV2luZG93KG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai53aW5kb3cgPT09IG9iajtcbn1cblxuXG5mdW5jdGlvbiBpc1Njb3BlKG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai4kZXZhbEFzeW5jICYmIG9iai4kd2F0Y2g7XG59XG5cblxuZnVuY3Rpb24gaXNGaWxlKG9iaikge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBGaWxlXSc7XG59XG5cblxuZnVuY3Rpb24gaXNCbG9iKG9iaikge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBCbG9iXSc7XG59XG5cblxuZnVuY3Rpb24gaXNCb29sZWFuKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJztcbn1cblxuXG5mdW5jdGlvbiBpc1Byb21pc2VMaWtlKG9iaikge1xuICByZXR1cm4gb2JqICYmIGlzRnVuY3Rpb24ob2JqLnRoZW4pO1xufVxuXG5cbnZhciB0cmltID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGlzU3RyaW5nKHZhbHVlKSA/IHZhbHVlLnRyaW0oKSA6IHZhbHVlO1xufTtcblxuLy8gQ29waWVkIGZyb206XG4vLyBodHRwOi8vZG9jcy5jbG9zdXJlLWxpYnJhcnkuZ29vZ2xlY29kZS5jb20vZ2l0L2xvY2FsX2Nsb3N1cmVfZ29vZ19zdHJpbmdfc3RyaW5nLmpzLnNvdXJjZS5odG1sI2xpbmUxMDIxXG4vLyBQcmVyZXE6IHMgaXMgYSBzdHJpbmcuXG52YXIgZXNjYXBlRm9yUmVnZXhwID0gZnVuY3Rpb24ocykge1xuICByZXR1cm4gcy5yZXBsYWNlKC8oWy0oKVxcW1xcXXt9Kz8qLiRcXF58LDojPCFcXFxcXSkvZywgJ1xcXFwkMScpLlxuICAgICAgICAgICByZXBsYWNlKC9cXHgwOC9nLCAnXFxcXHgwOCcpO1xufTtcblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pc0VsZW1lbnRcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGEgRE9NIGVsZW1lbnQgKG9yIHdyYXBwZWQgalF1ZXJ5IGVsZW1lbnQpLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIERPTSBlbGVtZW50IChvciB3cmFwcGVkIGpRdWVyeSBlbGVtZW50KS5cbiAqL1xuZnVuY3Rpb24gaXNFbGVtZW50KG5vZGUpIHtcbiAgcmV0dXJuICEhKG5vZGUgJiZcbiAgICAobm9kZS5ub2RlTmFtZSAgLy8gd2UgYXJlIGEgZGlyZWN0IGVsZW1lbnRcbiAgICB8fCAobm9kZS5wcm9wICYmIG5vZGUuYXR0ciAmJiBub2RlLmZpbmQpKSk7ICAvLyB3ZSBoYXZlIGFuIG9uIGFuZCBmaW5kIG1ldGhvZCBwYXJ0IG9mIGpRdWVyeSBBUElcbn1cblxuLyoqXG4gKiBAcGFyYW0gc3RyICdrZXkxLGtleTIsLi4uJ1xuICogQHJldHVybnMge29iamVjdH0gaW4gdGhlIGZvcm0gb2Yge2tleTE6dHJ1ZSwga2V5Mjp0cnVlLCAuLi59XG4gKi9cbmZ1bmN0aW9uIG1ha2VNYXAoc3RyKSB7XG4gIHZhciBvYmogPSB7fSwgaXRlbXMgPSBzdHIuc3BsaXQoXCIsXCIpLCBpO1xuICBmb3IgKGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspXG4gICAgb2JqWyBpdGVtc1tpXSBdID0gdHJ1ZTtcbiAgcmV0dXJuIG9iajtcbn1cblxuXG5mdW5jdGlvbiBub2RlTmFtZV8oZWxlbWVudCkge1xuICByZXR1cm4gbG93ZXJjYXNlKGVsZW1lbnQubm9kZU5hbWUgfHwgZWxlbWVudFswXS5ub2RlTmFtZSk7XG59XG5cbmZ1bmN0aW9uIGluY2x1ZGVzKGFycmF5LCBvYmopIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYXJyYXksIG9iaikgIT0gLTE7XG59XG5cbmZ1bmN0aW9uIGFycmF5UmVtb3ZlKGFycmF5LCB2YWx1ZSkge1xuICB2YXIgaW5kZXggPSBhcnJheS5pbmRleE9mKHZhbHVlKTtcbiAgaWYgKGluZGV4ID49MClcbiAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xuICByZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmNvcHlcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgZGVlcCBjb3B5IG9mIGBzb3VyY2VgLCB3aGljaCBzaG91bGQgYmUgYW4gb2JqZWN0IG9yIGFuIGFycmF5LlxuICpcbiAqICogSWYgbm8gZGVzdGluYXRpb24gaXMgc3VwcGxpZWQsIGEgY29weSBvZiB0aGUgb2JqZWN0IG9yIGFycmF5IGlzIGNyZWF0ZWQuXG4gKiAqIElmIGEgZGVzdGluYXRpb24gaXMgcHJvdmlkZWQsIGFsbCBvZiBpdHMgZWxlbWVudHMgKGZvciBhcnJheSkgb3IgcHJvcGVydGllcyAoZm9yIG9iamVjdHMpXG4gKiAgIGFyZSBkZWxldGVkIGFuZCB0aGVuIGFsbCBlbGVtZW50cy9wcm9wZXJ0aWVzIGZyb20gdGhlIHNvdXJjZSBhcmUgY29waWVkIHRvIGl0LlxuICogKiBJZiBgc291cmNlYCBpcyBub3QgYW4gb2JqZWN0IG9yIGFycmF5IChpbmMuIGBudWxsYCBhbmQgYHVuZGVmaW5lZGApLCBgc291cmNlYCBpcyByZXR1cm5lZC5cbiAqICogSWYgYHNvdXJjZWAgaXMgaWRlbnRpY2FsIHRvICdkZXN0aW5hdGlvbicgYW4gZXhjZXB0aW9uIHdpbGwgYmUgdGhyb3duLlxuICpcbiAqIEBwYXJhbSB7Kn0gc291cmNlIFRoZSBzb3VyY2UgdGhhdCB3aWxsIGJlIHVzZWQgdG8gbWFrZSBhIGNvcHkuXG4gKiAgICAgICAgICAgICAgICAgICBDYW4gYmUgYW55IHR5cGUsIGluY2x1ZGluZyBwcmltaXRpdmVzLCBgbnVsbGAsIGFuZCBgdW5kZWZpbmVkYC5cbiAqIEBwYXJhbSB7KE9iamVjdHxBcnJheSk9fSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbiBpbnRvIHdoaWNoIHRoZSBzb3VyY2UgaXMgY29waWVkLiBJZlxuICogICAgIHByb3ZpZGVkLCBtdXN0IGJlIG9mIHRoZSBzYW1lIHR5cGUgYXMgYHNvdXJjZWAuXG4gKiBAcmV0dXJucyB7Kn0gVGhlIGNvcHkgb3IgdXBkYXRlZCBgZGVzdGluYXRpb25gLCBpZiBgZGVzdGluYXRpb25gIHdhcyBzcGVjaWZpZWQuXG4gKlxuICogQGV4YW1wbGVcbiA8ZXhhbXBsZSBtb2R1bGU9XCJjb3B5RXhhbXBsZVwiPlxuIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiA8Zm9ybSBub3ZhbGlkYXRlIGNsYXNzPVwic2ltcGxlLWZvcm1cIj5cbiBOYW1lOiA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInVzZXIubmFtZVwiIC8+PGJyIC8+XG4gRS1tYWlsOiA8aW5wdXQgdHlwZT1cImVtYWlsXCIgbmctbW9kZWw9XCJ1c2VyLmVtYWlsXCIgLz48YnIgLz5cbiBHZW5kZXI6IDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuZy1tb2RlbD1cInVzZXIuZ2VuZGVyXCIgdmFsdWU9XCJtYWxlXCIgLz5tYWxlXG4gPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5nLW1vZGVsPVwidXNlci5nZW5kZXJcIiB2YWx1ZT1cImZlbWFsZVwiIC8+ZmVtYWxlPGJyIC8+XG4gPGJ1dHRvbiBuZy1jbGljaz1cInJlc2V0KClcIj5SRVNFVDwvYnV0dG9uPlxuIDxidXR0b24gbmctY2xpY2s9XCJ1cGRhdGUodXNlcilcIj5TQVZFPC9idXR0b24+XG4gPC9mb3JtPlxuIDxwcmU+Zm9ybSA9IHt7dXNlciB8IGpzb259fTwvcHJlPlxuIDxwcmU+bWFzdGVyID0ge3ttYXN0ZXIgfCBqc29ufX08L3ByZT5cbiA8L2Rpdj5cblxuIDxzY3JpcHQ+XG4gIGFuZ3VsYXIubW9kdWxlKCdjb3B5RXhhbXBsZScsIFtdKVxuICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAkc2NvcGUubWFzdGVyPSB7fTtcblxuICAgICAgJHNjb3BlLnVwZGF0ZSA9IGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgICAgLy8gRXhhbXBsZSB3aXRoIDEgYXJndW1lbnRcbiAgICAgICAgJHNjb3BlLm1hc3Rlcj0gYW5ndWxhci5jb3B5KHVzZXIpO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIEV4YW1wbGUgd2l0aCAyIGFyZ3VtZW50c1xuICAgICAgICBhbmd1bGFyLmNvcHkoJHNjb3BlLm1hc3RlciwgJHNjb3BlLnVzZXIpO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLnJlc2V0KCk7XG4gICAgfV0pO1xuIDwvc2NyaXB0PlxuIDwvZmlsZT5cbiA8L2V4YW1wbGU+XG4gKi9cbmZ1bmN0aW9uIGNvcHkoc291cmNlLCBkZXN0aW5hdGlvbiwgc3RhY2tTb3VyY2UsIHN0YWNrRGVzdCkge1xuICBpZiAoaXNXaW5kb3coc291cmNlKSB8fCBpc1Njb3BlKHNvdXJjZSkpIHtcbiAgICB0aHJvdyBuZ01pbkVycignY3B3cycsXG4gICAgICBcIkNhbid0IGNvcHkhIE1ha2luZyBjb3BpZXMgb2YgV2luZG93IG9yIFNjb3BlIGluc3RhbmNlcyBpcyBub3Qgc3VwcG9ydGVkLlwiKTtcbiAgfVxuXG4gIGlmICghZGVzdGluYXRpb24pIHtcbiAgICBkZXN0aW5hdGlvbiA9IHNvdXJjZTtcbiAgICBpZiAoc291cmNlKSB7XG4gICAgICBpZiAoaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICAgIGRlc3RpbmF0aW9uID0gY29weShzb3VyY2UsIFtdLCBzdGFja1NvdXJjZSwgc3RhY2tEZXN0KTtcbiAgICAgIH0gZWxzZSBpZiAoaXNEYXRlKHNvdXJjZSkpIHtcbiAgICAgICAgZGVzdGluYXRpb24gPSBuZXcgRGF0ZShzb3VyY2UuZ2V0VGltZSgpKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNSZWdFeHAoc291cmNlKSkge1xuICAgICAgICBkZXN0aW5hdGlvbiA9IG5ldyBSZWdFeHAoc291cmNlLnNvdXJjZSwgc291cmNlLnRvU3RyaW5nKCkubWF0Y2goL1teXFwvXSokLylbMF0pO1xuICAgICAgICBkZXN0aW5hdGlvbi5sYXN0SW5kZXggPSBzb3VyY2UubGFzdEluZGV4O1xuICAgICAgfSBlbHNlIGlmIChpc09iamVjdChzb3VyY2UpKSB7XG4gICAgICAgIHZhciBlbXB0eU9iamVjdCA9IE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHNvdXJjZSkpO1xuICAgICAgICBkZXN0aW5hdGlvbiA9IGNvcHkoc291cmNlLCBlbXB0eU9iamVjdCwgc3RhY2tTb3VyY2UsIHN0YWNrRGVzdCk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChzb3VyY2UgPT09IGRlc3RpbmF0aW9uKSB0aHJvdyBuZ01pbkVycignY3BpJyxcbiAgICAgIFwiQ2FuJ3QgY29weSEgU291cmNlIGFuZCBkZXN0aW5hdGlvbiBhcmUgaWRlbnRpY2FsLlwiKTtcblxuICAgIHN0YWNrU291cmNlID0gc3RhY2tTb3VyY2UgfHwgW107XG4gICAgc3RhY2tEZXN0ID0gc3RhY2tEZXN0IHx8IFtdO1xuXG4gICAgaWYgKGlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIHZhciBpbmRleCA9IHN0YWNrU291cmNlLmluZGV4T2Yoc291cmNlKTtcbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHJldHVybiBzdGFja0Rlc3RbaW5kZXhdO1xuXG4gICAgICBzdGFja1NvdXJjZS5wdXNoKHNvdXJjZSk7XG4gICAgICBzdGFja0Rlc3QucHVzaChkZXN0aW5hdGlvbik7XG4gICAgfVxuXG4gICAgdmFyIHJlc3VsdDtcbiAgICBpZiAoaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICBkZXN0aW5hdGlvbi5sZW5ndGggPSAwO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzdWx0ID0gY29weShzb3VyY2VbaV0sIG51bGwsIHN0YWNrU291cmNlLCBzdGFja0Rlc3QpO1xuICAgICAgICBpZiAoaXNPYmplY3Qoc291cmNlW2ldKSkge1xuICAgICAgICAgIHN0YWNrU291cmNlLnB1c2goc291cmNlW2ldKTtcbiAgICAgICAgICBzdGFja0Rlc3QucHVzaChyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGRlc3RpbmF0aW9uLnB1c2gocmVzdWx0KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGggPSBkZXN0aW5hdGlvbi4kJGhhc2hLZXk7XG4gICAgICBpZiAoaXNBcnJheShkZXN0aW5hdGlvbikpIHtcbiAgICAgICAgZGVzdGluYXRpb24ubGVuZ3RoID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvckVhY2goZGVzdGluYXRpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICBkZWxldGUgZGVzdGluYXRpb25ba2V5XTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIHJlc3VsdCA9IGNvcHkoc291cmNlW2tleV0sIG51bGwsIHN0YWNrU291cmNlLCBzdGFja0Rlc3QpO1xuICAgICAgICAgIGlmIChpc09iamVjdChzb3VyY2Vba2V5XSkpIHtcbiAgICAgICAgICAgIHN0YWNrU291cmNlLnB1c2goc291cmNlW2tleV0pO1xuICAgICAgICAgICAgc3RhY2tEZXN0LnB1c2gocmVzdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVzdGluYXRpb25ba2V5XSA9IHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2V0SGFzaEtleShkZXN0aW5hdGlvbixoKTtcbiAgICB9XG5cbiAgfVxuICByZXR1cm4gZGVzdGluYXRpb247XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHNoYWxsb3cgY29weSBvZiBhbiBvYmplY3QsIGFuIGFycmF5IG9yIGEgcHJpbWl0aXZlLlxuICpcbiAqIEFzc3VtZXMgdGhhdCB0aGVyZSBhcmUgbm8gcHJvdG8gcHJvcGVydGllcyBmb3Igb2JqZWN0cy5cbiAqL1xuZnVuY3Rpb24gc2hhbGxvd0NvcHkoc3JjLCBkc3QpIHtcbiAgaWYgKGlzQXJyYXkoc3JjKSkge1xuICAgIGRzdCA9IGRzdCB8fCBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHNyYy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICBkc3RbaV0gPSBzcmNbaV07XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHNyYykpIHtcbiAgICBkc3QgPSBkc3QgfHwge307XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc3JjKSB7XG4gICAgICBpZiAoIShrZXkuY2hhckF0KDApID09PSAnJCcgJiYga2V5LmNoYXJBdCgxKSA9PT0gJyQnKSkge1xuICAgICAgICBkc3Rba2V5XSA9IHNyY1trZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkc3QgfHwgc3JjO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmVxdWFsc1xuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERldGVybWluZXMgaWYgdHdvIG9iamVjdHMgb3IgdHdvIHZhbHVlcyBhcmUgZXF1aXZhbGVudC4gU3VwcG9ydHMgdmFsdWUgdHlwZXMsIHJlZ3VsYXJcbiAqIGV4cHJlc3Npb25zLCBhcnJheXMgYW5kIG9iamVjdHMuXG4gKlxuICogVHdvIG9iamVjdHMgb3IgdmFsdWVzIGFyZSBjb25zaWRlcmVkIGVxdWl2YWxlbnQgaWYgYXQgbGVhc3Qgb25lIG9mIHRoZSBmb2xsb3dpbmcgaXMgdHJ1ZTpcbiAqXG4gKiAqIEJvdGggb2JqZWN0cyBvciB2YWx1ZXMgcGFzcyBgPT09YCBjb21wYXJpc29uLlxuICogKiBCb3RoIG9iamVjdHMgb3IgdmFsdWVzIGFyZSBvZiB0aGUgc2FtZSB0eXBlIGFuZCBhbGwgb2YgdGhlaXIgcHJvcGVydGllcyBhcmUgZXF1YWwgYnlcbiAqICAgY29tcGFyaW5nIHRoZW0gd2l0aCBgYW5ndWxhci5lcXVhbHNgLlxuICogKiBCb3RoIHZhbHVlcyBhcmUgTmFOLiAoSW4gSmF2YVNjcmlwdCwgTmFOID09IE5hTiA9PiBmYWxzZS4gQnV0IHdlIGNvbnNpZGVyIHR3byBOYU4gYXMgZXF1YWwpXG4gKiAqIEJvdGggdmFsdWVzIHJlcHJlc2VudCB0aGUgc2FtZSByZWd1bGFyIGV4cHJlc3Npb24gKEluIEphdmFTY3JpcHQsXG4gKiAgIC9hYmMvID09IC9hYmMvID0+IGZhbHNlLiBCdXQgd2UgY29uc2lkZXIgdHdvIHJlZ3VsYXIgZXhwcmVzc2lvbnMgYXMgZXF1YWwgd2hlbiB0aGVpciB0ZXh0dWFsXG4gKiAgIHJlcHJlc2VudGF0aW9uIG1hdGNoZXMpLlxuICpcbiAqIER1cmluZyBhIHByb3BlcnR5IGNvbXBhcmlzb24sIHByb3BlcnRpZXMgb2YgYGZ1bmN0aW9uYCB0eXBlIGFuZCBwcm9wZXJ0aWVzIHdpdGggbmFtZXNcbiAqIHRoYXQgYmVnaW4gd2l0aCBgJGAgYXJlIGlnbm9yZWQuXG4gKlxuICogU2NvcGUgYW5kIERPTVdpbmRvdyBvYmplY3RzIGFyZSBiZWluZyBjb21wYXJlZCBvbmx5IGJ5IGlkZW50aWZ5IChgPT09YCkuXG4gKlxuICogQHBhcmFtIHsqfSBvMSBPYmplY3Qgb3IgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gbzIgT2JqZWN0IG9yIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBhcmd1bWVudHMgYXJlIGVxdWFsLlxuICovXG5mdW5jdGlvbiBlcXVhbHMobzEsIG8yKSB7XG4gIGlmIChvMSA9PT0gbzIpIHJldHVybiB0cnVlO1xuICBpZiAobzEgPT09IG51bGwgfHwgbzIgPT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgaWYgKG8xICE9PSBvMSAmJiBvMiAhPT0gbzIpIHJldHVybiB0cnVlOyAvLyBOYU4gPT09IE5hTlxuICB2YXIgdDEgPSB0eXBlb2YgbzEsIHQyID0gdHlwZW9mIG8yLCBsZW5ndGgsIGtleSwga2V5U2V0O1xuICBpZiAodDEgPT0gdDIpIHtcbiAgICBpZiAodDEgPT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChpc0FycmF5KG8xKSkge1xuICAgICAgICBpZiAoIWlzQXJyYXkobzIpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICgobGVuZ3RoID0gbzEubGVuZ3RoKSA9PSBvMi5sZW5ndGgpIHtcbiAgICAgICAgICBmb3IgKGtleT0wOyBrZXk8bGVuZ3RoOyBrZXkrKykge1xuICAgICAgICAgICAgaWYgKCFlcXVhbHMobzFba2V5XSwgbzJba2V5XSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNEYXRlKG8xKSkge1xuICAgICAgICBpZiAoIWlzRGF0ZShvMikpIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGVxdWFscyhvMS5nZXRUaW1lKCksIG8yLmdldFRpbWUoKSk7XG4gICAgICB9IGVsc2UgaWYgKGlzUmVnRXhwKG8xKSAmJiBpc1JlZ0V4cChvMikpIHtcbiAgICAgICAgcmV0dXJuIG8xLnRvU3RyaW5nKCkgPT0gbzIudG9TdHJpbmcoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpc1Njb3BlKG8xKSB8fCBpc1Njb3BlKG8yKSB8fCBpc1dpbmRvdyhvMSkgfHwgaXNXaW5kb3cobzIpIHx8IGlzQXJyYXkobzIpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGtleVNldCA9IHt9O1xuICAgICAgICBmb3IgKGtleSBpbiBvMSkge1xuICAgICAgICAgIGlmIChrZXkuY2hhckF0KDApID09PSAnJCcgfHwgaXNGdW5jdGlvbihvMVtrZXldKSkgY29udGludWU7XG4gICAgICAgICAgaWYgKCFlcXVhbHMobzFba2V5XSwgbzJba2V5XSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICBrZXlTZXRba2V5XSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChrZXkgaW4gbzIpIHtcbiAgICAgICAgICBpZiAoIWtleVNldC5oYXNPd25Qcm9wZXJ0eShrZXkpICYmXG4gICAgICAgICAgICAgIGtleS5jaGFyQXQoMCkgIT09ICckJyAmJlxuICAgICAgICAgICAgICBvMltrZXldICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgIWlzRnVuY3Rpb24obzJba2V5XSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG52YXIgY3NwID0gZnVuY3Rpb24oKSB7XG4gIGlmIChpc0RlZmluZWQoY3NwLmlzQWN0aXZlXykpIHJldHVybiBjc3AuaXNBY3RpdmVfO1xuXG4gIHZhciBhY3RpdmUgPSAhIShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmctY3NwXScpIHx8XG4gICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1uZy1jc3BdJykpO1xuXG4gIGlmICghYWN0aXZlKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8qIGpzaGludCAtVzAzMSwgLVcwNTQgKi9cbiAgICAgIG5ldyBGdW5jdGlvbignJyk7XG4gICAgICAvKiBqc2hpbnQgK1cwMzEsICtXMDU0ICovXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgYWN0aXZlID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gKGNzcC5pc0FjdGl2ZV8gPSBhY3RpdmUpO1xufTtcblxuXG5cbmZ1bmN0aW9uIGNvbmNhdChhcnJheTEsIGFycmF5MiwgaW5kZXgpIHtcbiAgcmV0dXJuIGFycmF5MS5jb25jYXQoc2xpY2UuY2FsbChhcnJheTIsIGluZGV4KSk7XG59XG5cbmZ1bmN0aW9uIHNsaWNlQXJncyhhcmdzLCBzdGFydEluZGV4KSB7XG4gIHJldHVybiBzbGljZS5jYWxsKGFyZ3MsIHN0YXJ0SW5kZXggfHwgMCk7XG59XG5cblxuLyoganNoaW50IC1XMTAxICovXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5iaW5kXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbGxzIGZ1bmN0aW9uIGBmbmAgYm91bmQgdG8gYHNlbGZgIChgc2VsZmAgYmVjb21lcyB0aGUgYHRoaXNgIGZvclxuICogYGZuYCkuIFlvdSBjYW4gc3VwcGx5IG9wdGlvbmFsIGBhcmdzYCB0aGF0IGFyZSBwcmVib3VuZCB0byB0aGUgZnVuY3Rpb24uIFRoaXMgZmVhdHVyZSBpcyBhbHNvXG4gKiBrbm93biBhcyBbcGFydGlhbCBhcHBsaWNhdGlvbl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9QYXJ0aWFsX2FwcGxpY2F0aW9uKSwgYXNcbiAqIGRpc3Rpbmd1aXNoZWQgZnJvbSBbZnVuY3Rpb24gY3VycnlpbmddKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ3VycnlpbmcjQ29udHJhc3Rfd2l0aF9wYXJ0aWFsX2Z1bmN0aW9uX2FwcGxpY2F0aW9uKS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gc2VsZiBDb250ZXh0IHdoaWNoIGBmbmAgc2hvdWxkIGJlIGV2YWx1YXRlZCBpbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gZm4gRnVuY3Rpb24gdG8gYmUgYm91bmQuXG4gKiBAcGFyYW0gey4uLip9IGFyZ3MgT3B0aW9uYWwgYXJndW1lbnRzIHRvIGJlIHByZWJvdW5kIHRvIHRoZSBgZm5gIGZ1bmN0aW9uIGNhbGwuXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gRnVuY3Rpb24gdGhhdCB3cmFwcyB0aGUgYGZuYCB3aXRoIGFsbCB0aGUgc3BlY2lmaWVkIGJpbmRpbmdzLlxuICovXG4vKiBqc2hpbnQgK1cxMDEgKi9cbmZ1bmN0aW9uIGJpbmQoc2VsZiwgZm4pIHtcbiAgdmFyIGN1cnJ5QXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gc2xpY2VBcmdzKGFyZ3VtZW50cywgMikgOiBbXTtcbiAgaWYgKGlzRnVuY3Rpb24oZm4pICYmICEoZm4gaW5zdGFuY2VvZiBSZWdFeHApKSB7XG4gICAgcmV0dXJuIGN1cnJ5QXJncy5sZW5ndGhcbiAgICAgID8gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgICAgICAgID8gZm4uYXBwbHkoc2VsZiwgY3VycnlBcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cywgMCkpKVxuICAgICAgICAgICAgOiBmbi5hcHBseShzZWxmLCBjdXJyeUFyZ3MpO1xuICAgICAgICB9XG4gICAgICA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICAgICAgICA/IGZuLmFwcGx5KHNlbGYsIGFyZ3VtZW50cylcbiAgICAgICAgICAgIDogZm4uY2FsbChzZWxmKTtcbiAgICAgICAgfTtcbiAgfSBlbHNlIHtcbiAgICAvLyBpbiBJRSwgbmF0aXZlIG1ldGhvZHMgYXJlIG5vdCBmdW5jdGlvbnMgc28gdGhleSBjYW5ub3QgYmUgYm91bmQgKG5vdGU6IHRoZXkgZG9uJ3QgbmVlZCB0byBiZSlcbiAgICByZXR1cm4gZm47XG4gIH1cbn1cblxuXG5mdW5jdGlvbiB0b0pzb25SZXBsYWNlcihrZXksIHZhbHVlKSB7XG4gIHZhciB2YWwgPSB2YWx1ZTtcblxuICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycgJiYga2V5LmNoYXJBdCgwKSA9PT0gJyQnICYmIGtleS5jaGFyQXQoMSkgPT09ICckJykge1xuICAgIHZhbCA9IHVuZGVmaW5lZDtcbiAgfSBlbHNlIGlmIChpc1dpbmRvdyh2YWx1ZSkpIHtcbiAgICB2YWwgPSAnJFdJTkRPVyc7XG4gIH0gZWxzZSBpZiAodmFsdWUgJiYgIGRvY3VtZW50ID09PSB2YWx1ZSkge1xuICAgIHZhbCA9ICckRE9DVU1FTlQnO1xuICB9IGVsc2UgaWYgKGlzU2NvcGUodmFsdWUpKSB7XG4gICAgdmFsID0gJyRTQ09QRSc7XG4gIH1cblxuICByZXR1cm4gdmFsO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLnRvSnNvblxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNlcmlhbGl6ZXMgaW5wdXQgaW50byBhIEpTT04tZm9ybWF0dGVkIHN0cmluZy4gUHJvcGVydGllcyB3aXRoIGxlYWRpbmcgJCQgY2hhcmFjdGVycyB3aWxsIGJlXG4gKiBzdHJpcHBlZCBzaW5jZSBhbmd1bGFyIHVzZXMgdGhpcyBub3RhdGlvbiBpbnRlcm5hbGx5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fERhdGV8c3RyaW5nfG51bWJlcn0gb2JqIElucHV0IHRvIGJlIHNlcmlhbGl6ZWQgaW50byBKU09OLlxuICogQHBhcmFtIHtib29sZWFuPX0gcHJldHR5IElmIHNldCB0byB0cnVlLCB0aGUgSlNPTiBvdXRwdXQgd2lsbCBjb250YWluIG5ld2xpbmVzIGFuZCB3aGl0ZXNwYWNlLlxuICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IEpTT04taWZpZWQgc3RyaW5nIHJlcHJlc2VudGluZyBgb2JqYC5cbiAqL1xuZnVuY3Rpb24gdG9Kc29uKG9iaiwgcHJldHR5KSB7XG4gIGlmICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykgcmV0dXJuIHVuZGVmaW5lZDtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgdG9Kc29uUmVwbGFjZXIsIHByZXR0eSA/ICcgICcgOiBudWxsKTtcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5mcm9tSnNvblxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERlc2VyaWFsaXplcyBhIEpTT04gc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBqc29uIEpTT04gc3RyaW5nIHRvIGRlc2VyaWFsaXplLlxuICogQHJldHVybnMge09iamVjdHxBcnJheXxzdHJpbmd8bnVtYmVyfSBEZXNlcmlhbGl6ZWQgdGhpbmd5LlxuICovXG5mdW5jdGlvbiBmcm9tSnNvbihqc29uKSB7XG4gIHJldHVybiBpc1N0cmluZyhqc29uKVxuICAgICAgPyBKU09OLnBhcnNlKGpzb24pXG4gICAgICA6IGpzb247XG59XG5cblxuLyoqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIHN0YXJ0aW5nVGFnKGVsZW1lbnQpIHtcbiAgZWxlbWVudCA9IGpxTGl0ZShlbGVtZW50KS5jbG9uZSgpO1xuICB0cnkge1xuICAgIC8vIHR1cm5zIG91dCBJRSBkb2VzIG5vdCBsZXQgeW91IHNldCAuaHRtbCgpIG9uIGVsZW1lbnRzIHdoaWNoXG4gICAgLy8gYXJlIG5vdCBhbGxvd2VkIHRvIGhhdmUgY2hpbGRyZW4uIFNvIHdlIGp1c3QgaWdub3JlIGl0LlxuICAgIGVsZW1lbnQuZW1wdHkoKTtcbiAgfSBjYXRjaCAoZSkge31cbiAgdmFyIGVsZW1IdG1sID0ganFMaXRlKCc8ZGl2PicpLmFwcGVuZChlbGVtZW50KS5odG1sKCk7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGVsZW1lbnRbMF0ubm9kZVR5cGUgPT09IE5PREVfVFlQRV9URVhUID8gbG93ZXJjYXNlKGVsZW1IdG1sKSA6XG4gICAgICAgIGVsZW1IdG1sLlxuICAgICAgICAgIG1hdGNoKC9eKDxbXj5dKz4pLylbMV0uXG4gICAgICAgICAgcmVwbGFjZSgvXjwoW1xcd1xcLV0rKS8sIGZ1bmN0aW9uKG1hdGNoLCBub2RlTmFtZSkgeyByZXR1cm4gJzwnICsgbG93ZXJjYXNlKG5vZGVOYW1lKTsgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gbG93ZXJjYXNlKGVsZW1IdG1sKTtcbiAgfVxuXG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIFRyaWVzIHRvIGRlY29kZSB0aGUgVVJJIGNvbXBvbmVudCB3aXRob3V0IHRocm93aW5nIGFuIGV4Y2VwdGlvbi5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHN0ciB2YWx1ZSBwb3RlbnRpYWwgVVJJIGNvbXBvbmVudCB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgY2FuIGJlIGRlY29kZWRcbiAqIHdpdGggdGhlIGRlY29kZVVSSUNvbXBvbmVudCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gdHJ5RGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBJZ25vcmUgYW55IGludmFsaWQgdXJpIGNvbXBvbmVudFxuICB9XG59XG5cblxuLyoqXG4gKiBQYXJzZXMgYW4gZXNjYXBlZCB1cmwgcXVlcnkgc3RyaW5nIGludG8ga2V5LXZhbHVlIHBhaXJzLlxuICogQHJldHVybnMge09iamVjdC48c3RyaW5nLGJvb2xlYW58QXJyYXk+fVxuICovXG5mdW5jdGlvbiBwYXJzZUtleVZhbHVlKC8qKnN0cmluZyova2V5VmFsdWUpIHtcbiAgdmFyIG9iaiA9IHt9LCBrZXlfdmFsdWUsIGtleTtcbiAgZm9yRWFjaCgoa2V5VmFsdWUgfHwgXCJcIikuc3BsaXQoJyYnKSwgZnVuY3Rpb24oa2V5VmFsdWUpIHtcbiAgICBpZiAoa2V5VmFsdWUpIHtcbiAgICAgIGtleV92YWx1ZSA9IGtleVZhbHVlLnJlcGxhY2UoL1xcKy9nLCclMjAnKS5zcGxpdCgnPScpO1xuICAgICAga2V5ID0gdHJ5RGVjb2RlVVJJQ29tcG9uZW50KGtleV92YWx1ZVswXSk7XG4gICAgICBpZiAoaXNEZWZpbmVkKGtleSkpIHtcbiAgICAgICAgdmFyIHZhbCA9IGlzRGVmaW5lZChrZXlfdmFsdWVbMV0pID8gdHJ5RGVjb2RlVVJJQ29tcG9uZW50KGtleV92YWx1ZVsxXSkgOiB0cnVlO1xuICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgb2JqW2tleV0gPSB2YWw7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmpba2V5XSkpIHtcbiAgICAgICAgICBvYmpba2V5XS5wdXNoKHZhbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2JqW2tleV0gPSBbb2JqW2tleV0sdmFsXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIHRvS2V5VmFsdWUob2JqKSB7XG4gIHZhciBwYXJ0cyA9IFtdO1xuICBmb3JFYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgZm9yRWFjaCh2YWx1ZSwgZnVuY3Rpb24oYXJyYXlWYWx1ZSkge1xuICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZVVyaVF1ZXJ5KGtleSwgdHJ1ZSkgK1xuICAgICAgICAgICAgICAgICAgIChhcnJheVZhbHVlID09PSB0cnVlID8gJycgOiAnPScgKyBlbmNvZGVVcmlRdWVyeShhcnJheVZhbHVlLCB0cnVlKSkpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICBwYXJ0cy5wdXNoKGVuY29kZVVyaVF1ZXJ5KGtleSwgdHJ1ZSkgK1xuICAgICAgICAgICAgICAgKHZhbHVlID09PSB0cnVlID8gJycgOiAnPScgKyBlbmNvZGVVcmlRdWVyeSh2YWx1ZSwgdHJ1ZSkpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcGFydHMubGVuZ3RoID8gcGFydHMuam9pbignJicpIDogJyc7XG59XG5cblxuLyoqXG4gKiBXZSBuZWVkIG91ciBjdXN0b20gbWV0aG9kIGJlY2F1c2UgZW5jb2RlVVJJQ29tcG9uZW50IGlzIHRvbyBhZ2dyZXNzaXZlIGFuZCBkb2Vzbid0IGZvbGxvd1xuICogaHR0cDovL3d3dy5pZXRmLm9yZy9yZmMvcmZjMzk4Ni50eHQgd2l0aCByZWdhcmRzIHRvIHRoZSBjaGFyYWN0ZXIgc2V0IChwY2hhcikgYWxsb3dlZCBpbiBwYXRoXG4gKiBzZWdtZW50czpcbiAqICAgIHNlZ21lbnQgICAgICAgPSAqcGNoYXJcbiAqICAgIHBjaGFyICAgICAgICAgPSB1bnJlc2VydmVkIC8gcGN0LWVuY29kZWQgLyBzdWItZGVsaW1zIC8gXCI6XCIgLyBcIkBcIlxuICogICAgcGN0LWVuY29kZWQgICA9IFwiJVwiIEhFWERJRyBIRVhESUdcbiAqICAgIHVucmVzZXJ2ZWQgICAgPSBBTFBIQSAvIERJR0lUIC8gXCItXCIgLyBcIi5cIiAvIFwiX1wiIC8gXCJ+XCJcbiAqICAgIHN1Yi1kZWxpbXMgICAgPSBcIiFcIiAvIFwiJFwiIC8gXCImXCIgLyBcIidcIiAvIFwiKFwiIC8gXCIpXCJcbiAqICAgICAgICAgICAgICAgICAgICAgLyBcIipcIiAvIFwiK1wiIC8gXCIsXCIgLyBcIjtcIiAvIFwiPVwiXG4gKi9cbmZ1bmN0aW9uIGVuY29kZVVyaVNlZ21lbnQodmFsKSB7XG4gIHJldHVybiBlbmNvZGVVcmlRdWVyeSh2YWwsIHRydWUpLlxuICAgICAgICAgICAgIHJlcGxhY2UoLyUyNi9naSwgJyYnKS5cbiAgICAgICAgICAgICByZXBsYWNlKC8lM0QvZ2ksICc9JykuXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTJCL2dpLCAnKycpO1xufVxuXG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgaW50ZW5kZWQgZm9yIGVuY29kaW5nICprZXkqIG9yICp2YWx1ZSogcGFydHMgb2YgcXVlcnkgY29tcG9uZW50LiBXZSBuZWVkIGEgY3VzdG9tXG4gKiBtZXRob2QgYmVjYXVzZSBlbmNvZGVVUklDb21wb25lbnQgaXMgdG9vIGFnZ3Jlc3NpdmUgYW5kIGVuY29kZXMgc3R1ZmYgdGhhdCBkb2Vzbid0IGhhdmUgdG8gYmVcbiAqIGVuY29kZWQgcGVyIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODY6XG4gKiAgICBxdWVyeSAgICAgICA9ICooIHBjaGFyIC8gXCIvXCIgLyBcIj9cIiApXG4gKiAgICBwY2hhciAgICAgICAgID0gdW5yZXNlcnZlZCAvIHBjdC1lbmNvZGVkIC8gc3ViLWRlbGltcyAvIFwiOlwiIC8gXCJAXCJcbiAqICAgIHVucmVzZXJ2ZWQgICAgPSBBTFBIQSAvIERJR0lUIC8gXCItXCIgLyBcIi5cIiAvIFwiX1wiIC8gXCJ+XCJcbiAqICAgIHBjdC1lbmNvZGVkICAgPSBcIiVcIiBIRVhESUcgSEVYRElHXG4gKiAgICBzdWItZGVsaW1zICAgID0gXCIhXCIgLyBcIiRcIiAvIFwiJlwiIC8gXCInXCIgLyBcIihcIiAvIFwiKVwiXG4gKiAgICAgICAgICAgICAgICAgICAgIC8gXCIqXCIgLyBcIitcIiAvIFwiLFwiIC8gXCI7XCIgLyBcIj1cIlxuICovXG5mdW5jdGlvbiBlbmNvZGVVcmlRdWVyeSh2YWwsIHBjdEVuY29kZVNwYWNlcykge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTQwL2dpLCAnQCcpLlxuICAgICAgICAgICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cbiAgICAgICAgICAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cbiAgICAgICAgICAgICByZXBsYWNlKC8lMkMvZ2ksICcsJykuXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTNCL2dpLCAnOycpLlxuICAgICAgICAgICAgIHJlcGxhY2UoLyUyMC9nLCAocGN0RW5jb2RlU3BhY2VzID8gJyUyMCcgOiAnKycpKTtcbn1cblxudmFyIG5nQXR0clByZWZpeGVzID0gWyduZy0nLCAnZGF0YS1uZy0nLCAnbmc6JywgJ3gtbmctJ107XG5cbmZ1bmN0aW9uIGdldE5nQXR0cmlidXRlKGVsZW1lbnQsIG5nQXR0cikge1xuICB2YXIgYXR0ciwgaSwgaWkgPSBuZ0F0dHJQcmVmaXhlcy5sZW5ndGg7XG4gIGVsZW1lbnQgPSBqcUxpdGUoZWxlbWVudCk7XG4gIGZvciAoaT0wOyBpPGlpOyArK2kpIHtcbiAgICBhdHRyID0gbmdBdHRyUHJlZml4ZXNbaV0gKyBuZ0F0dHI7XG4gICAgaWYgKGlzU3RyaW5nKGF0dHIgPSBlbGVtZW50LmF0dHIoYXR0cikpKSB7XG4gICAgICByZXR1cm4gYXR0cjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdBcHBcbiAqIEBtb2R1bGUgbmdcbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7YW5ndWxhci5Nb2R1bGV9IG5nQXBwIGFuIG9wdGlvbmFsIGFwcGxpY2F0aW9uXG4gKiAgIHtAbGluayBhbmd1bGFyLm1vZHVsZSBtb2R1bGV9IG5hbWUgdG8gbG9hZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5nU3RyaWN0RGkgaWYgdGhpcyBhdHRyaWJ1dGUgaXMgcHJlc2VudCBvbiB0aGUgYXBwIGVsZW1lbnQsIHRoZSBpbmplY3RvciB3aWxsIGJlXG4gKiAgIGNyZWF0ZWQgaW4gXCJzdHJpY3QtZGlcIiBtb2RlLiBUaGlzIG1lYW5zIHRoYXQgdGhlIGFwcGxpY2F0aW9uIHdpbGwgZmFpbCB0byBpbnZva2UgZnVuY3Rpb25zIHdoaWNoXG4gKiAgIGRvIG5vdCB1c2UgZXhwbGljaXQgZnVuY3Rpb24gYW5ub3RhdGlvbiAoYW5kIGFyZSB0aHVzIHVuc3VpdGFibGUgZm9yIG1pbmlmaWNhdGlvbiksIGFzIGRlc2NyaWJlZFxuICogICBpbiB7QGxpbmsgZ3VpZGUvZGkgdGhlIERlcGVuZGVuY3kgSW5qZWN0aW9uIGd1aWRlfSwgYW5kIHVzZWZ1bCBkZWJ1Z2dpbmcgaW5mbyB3aWxsIGFzc2lzdCBpblxuICogICB0cmFja2luZyBkb3duIHRoZSByb290IG9mIHRoZXNlIGJ1Z3MuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVXNlIHRoaXMgZGlyZWN0aXZlIHRvICoqYXV0by1ib290c3RyYXAqKiBhbiBBbmd1bGFySlMgYXBwbGljYXRpb24uIFRoZSBgbmdBcHBgIGRpcmVjdGl2ZVxuICogZGVzaWduYXRlcyB0aGUgKipyb290IGVsZW1lbnQqKiBvZiB0aGUgYXBwbGljYXRpb24gYW5kIGlzIHR5cGljYWxseSBwbGFjZWQgbmVhciB0aGUgcm9vdCBlbGVtZW50XG4gKiBvZiB0aGUgcGFnZSAtIGUuZy4gb24gdGhlIGA8Ym9keT5gIG9yIGA8aHRtbD5gIHRhZ3MuXG4gKlxuICogT25seSBvbmUgQW5ndWxhckpTIGFwcGxpY2F0aW9uIGNhbiBiZSBhdXRvLWJvb3RzdHJhcHBlZCBwZXIgSFRNTCBkb2N1bWVudC4gVGhlIGZpcnN0IGBuZ0FwcGBcbiAqIGZvdW5kIGluIHRoZSBkb2N1bWVudCB3aWxsIGJlIHVzZWQgdG8gZGVmaW5lIHRoZSByb290IGVsZW1lbnQgdG8gYXV0by1ib290c3RyYXAgYXMgYW5cbiAqIGFwcGxpY2F0aW9uLiBUbyBydW4gbXVsdGlwbGUgYXBwbGljYXRpb25zIGluIGFuIEhUTUwgZG9jdW1lbnQgeW91IG11c3QgbWFudWFsbHkgYm9vdHN0cmFwIHRoZW0gdXNpbmdcbiAqIHtAbGluayBhbmd1bGFyLmJvb3RzdHJhcH0gaW5zdGVhZC4gQW5ndWxhckpTIGFwcGxpY2F0aW9ucyBjYW5ub3QgYmUgbmVzdGVkIHdpdGhpbiBlYWNoIG90aGVyLlxuICpcbiAqIFlvdSBjYW4gc3BlY2lmeSBhbiAqKkFuZ3VsYXJKUyBtb2R1bGUqKiB0byBiZSB1c2VkIGFzIHRoZSByb290IG1vZHVsZSBmb3IgdGhlIGFwcGxpY2F0aW9uLiAgVGhpc1xuICogbW9kdWxlIHdpbGwgYmUgbG9hZGVkIGludG8gdGhlIHtAbGluayBhdXRvLiRpbmplY3Rvcn0gd2hlbiB0aGUgYXBwbGljYXRpb24gaXMgYm9vdHN0cmFwcGVkIGFuZFxuICogc2hvdWxkIGNvbnRhaW4gdGhlIGFwcGxpY2F0aW9uIGNvZGUgbmVlZGVkIG9yIGhhdmUgZGVwZW5kZW5jaWVzIG9uIG90aGVyIG1vZHVsZXMgdGhhdCB3aWxsXG4gKiBjb250YWluIHRoZSBjb2RlLiBTZWUge0BsaW5rIGFuZ3VsYXIubW9kdWxlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBJbiB0aGUgZXhhbXBsZSBiZWxvdyBpZiB0aGUgYG5nQXBwYCBkaXJlY3RpdmUgd2VyZSBub3QgcGxhY2VkIG9uIHRoZSBgaHRtbGAgZWxlbWVudCB0aGVuIHRoZVxuICogZG9jdW1lbnQgd291bGQgbm90IGJlIGNvbXBpbGVkLCB0aGUgYEFwcENvbnRyb2xsZXJgIHdvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgYW5kIHRoZSBge3sgYStiIH19YFxuICogd291bGQgbm90IGJlIHJlc29sdmVkIHRvIGAzYC5cbiAqXG4gKiBgbmdBcHBgIGlzIHRoZSBlYXNpZXN0LCBhbmQgbW9zdCBjb21tb24sIHdheSB0byBib290c3RyYXAgYW4gYXBwbGljYXRpb24uXG4gKlxuIDxleGFtcGxlIG1vZHVsZT1cIm5nQXBwRGVtb1wiPlxuICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgIDxkaXYgbmctY29udHJvbGxlcj1cIm5nQXBwRGVtb0NvbnRyb2xsZXJcIj5cbiAgICAgSSBjYW4gYWRkOiB7e2F9fSArIHt7Yn19ID0gIHt7IGErYiB9fVxuICAgPC9kaXY+XG4gICA8L2ZpbGU+XG4gICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICBhbmd1bGFyLm1vZHVsZSgnbmdBcHBEZW1vJywgW10pLmNvbnRyb2xsZXIoJ25nQXBwRGVtb0NvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgJHNjb3BlLmEgPSAxO1xuICAgICAkc2NvcGUuYiA9IDI7XG4gICB9KTtcbiAgIDwvZmlsZT5cbiA8L2V4YW1wbGU+XG4gKlxuICogVXNpbmcgYG5nU3RyaWN0RGlgLCB5b3Ugd291bGQgc2VlIHNvbWV0aGluZyBsaWtlIHRoaXM6XG4gKlxuIDxleGFtcGxlIG5nLWFwcC1pbmNsdWRlZD1cInRydWVcIj5cbiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICA8ZGl2IG5nLWFwcD1cIm5nQXBwU3RyaWN0RGVtb1wiIG5nLXN0cmljdC1kaT5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJHb29kQ29udHJvbGxlcjFcIj5cbiAgICAgICAgICAgSSBjYW4gYWRkOiB7e2F9fSArIHt7Yn19ID0gIHt7IGErYiB9fVxuXG4gICAgICAgICAgIDxwPlRoaXMgcmVuZGVycyBiZWNhdXNlIHRoZSBjb250cm9sbGVyIGRvZXMgbm90IGZhaWwgdG9cbiAgICAgICAgICAgICAgaW5zdGFudGlhdGUsIGJ5IHVzaW5nIGV4cGxpY2l0IGFubm90YXRpb24gc3R5bGUgKHNlZVxuICAgICAgICAgICAgICBzY3JpcHQuanMgZm9yIGRldGFpbHMpXG4gICAgICAgICAgIDwvcD5cbiAgICAgICA8L2Rpdj5cblxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkdvb2RDb250cm9sbGVyMlwiPlxuICAgICAgICAgICBOYW1lOiA8aW5wdXQgbmctbW9kZWw9XCJuYW1lXCI+PGJyIC8+XG4gICAgICAgICAgIEhlbGxvLCB7e25hbWV9fSFcblxuICAgICAgICAgICA8cD5UaGlzIHJlbmRlcnMgYmVjYXVzZSB0aGUgY29udHJvbGxlciBkb2VzIG5vdCBmYWlsIHRvXG4gICAgICAgICAgICAgIGluc3RhbnRpYXRlLCBieSB1c2luZyBleHBsaWNpdCBhbm5vdGF0aW9uIHN0eWxlXG4gICAgICAgICAgICAgIChzZWUgc2NyaXB0LmpzIGZvciBkZXRhaWxzKVxuICAgICAgICAgICA8L3A+XG4gICAgICAgPC9kaXY+XG5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJCYWRDb250cm9sbGVyXCI+XG4gICAgICAgICAgIEkgY2FuIGFkZDoge3thfX0gKyB7e2J9fSA9ICB7eyBhK2IgfX1cblxuICAgICAgICAgICA8cD5UaGUgY29udHJvbGxlciBjb3VsZCBub3QgYmUgaW5zdGFudGlhdGVkLCBkdWUgdG8gcmVseWluZ1xuICAgICAgICAgICAgICBvbiBhdXRvbWF0aWMgZnVuY3Rpb24gYW5ub3RhdGlvbnMgKHdoaWNoIGFyZSBkaXNhYmxlZCBpblxuICAgICAgICAgICAgICBzdHJpY3QgbW9kZSkuIEFzIHN1Y2gsIHRoZSBjb250ZW50IG9mIHRoaXMgc2VjdGlvbiBpcyBub3RcbiAgICAgICAgICAgICAgaW50ZXJwb2xhdGVkLCBhbmQgdGhlcmUgc2hvdWxkIGJlIGFuIGVycm9yIGluIHlvdXIgd2ViIGNvbnNvbGUuXG4gICAgICAgICAgIDwvcD5cbiAgICAgICA8L2Rpdj5cbiAgIDwvZGl2PlxuICAgPC9maWxlPlxuICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgYW5ndWxhci5tb2R1bGUoJ25nQXBwU3RyaWN0RGVtbycsIFtdKVxuICAgICAvLyBCYWRDb250cm9sbGVyIHdpbGwgZmFpbCB0byBpbnN0YW50aWF0ZSwgZHVlIHRvIHJlbHlpbmcgb24gYXV0b21hdGljIGZ1bmN0aW9uIGFubm90YXRpb24sXG4gICAgIC8vIHJhdGhlciB0aGFuIGFuIGV4cGxpY2l0IGFubm90YXRpb25cbiAgICAgLmNvbnRyb2xsZXIoJ0JhZENvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAkc2NvcGUuYSA9IDE7XG4gICAgICAgJHNjb3BlLmIgPSAyO1xuICAgICB9KVxuICAgICAvLyBVbmxpa2UgQmFkQ29udHJvbGxlciwgR29vZENvbnRyb2xsZXIxIGFuZCBHb29kQ29udHJvbGxlcjIgd2lsbCBub3QgZmFpbCB0byBiZSBpbnN0YW50aWF0ZWQsXG4gICAgIC8vIGR1ZSB0byB1c2luZyBleHBsaWNpdCBhbm5vdGF0aW9ucyB1c2luZyB0aGUgYXJyYXkgc3R5bGUgYW5kICRpbmplY3QgcHJvcGVydHksIHJlc3BlY3RpdmVseS5cbiAgICAgLmNvbnRyb2xsZXIoJ0dvb2RDb250cm9sbGVyMScsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgJHNjb3BlLmEgPSAxO1xuICAgICAgICRzY29wZS5iID0gMjtcbiAgICAgfV0pXG4gICAgIC5jb250cm9sbGVyKCdHb29kQ29udHJvbGxlcjInLCBHb29kQ29udHJvbGxlcjIpO1xuICAgICBmdW5jdGlvbiBHb29kQ29udHJvbGxlcjIoJHNjb3BlKSB7XG4gICAgICAgJHNjb3BlLm5hbWUgPSBcIldvcmxkXCI7XG4gICAgIH1cbiAgICAgR29vZENvbnRyb2xsZXIyLiRpbmplY3QgPSBbJyRzY29wZSddO1xuICAgPC9maWxlPlxuICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgZGl2W25nLWNvbnRyb2xsZXJdIHtcbiAgICAgICBtYXJnaW4tYm90dG9tOiAxZW07XG4gICAgICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgIGJvcmRlcjogMXB4IHNvbGlkO1xuICAgICAgIHBhZGRpbmc6IC41ZW07XG4gICB9XG4gICBkaXZbbmctY29udHJvbGxlcl49R29vZF0ge1xuICAgICAgIGJvcmRlci1jb2xvcjogI2Q2ZTljNjtcbiAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGZmMGQ4O1xuICAgICAgIGNvbG9yOiAjM2M3NjNkO1xuICAgfVxuICAgZGl2W25nLWNvbnRyb2xsZXJePUJhZF0ge1xuICAgICAgIGJvcmRlci1jb2xvcjogI2ViY2NkMTtcbiAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJkZWRlO1xuICAgICAgIGNvbG9yOiAjYTk0NDQyO1xuICAgICAgIG1hcmdpbi1ib3R0b206IDA7XG4gICB9XG4gICA8L2ZpbGU+XG4gPC9leGFtcGxlPlxuICovXG5mdW5jdGlvbiBhbmd1bGFySW5pdChlbGVtZW50LCBib290c3RyYXApIHtcbiAgdmFyIGFwcEVsZW1lbnQsXG4gICAgICBtb2R1bGUsXG4gICAgICBjb25maWcgPSB7fTtcblxuICAvLyBUaGUgZWxlbWVudCBgZWxlbWVudGAgaGFzIHByaW9yaXR5IG92ZXIgYW55IG90aGVyIGVsZW1lbnRcbiAgZm9yRWFjaChuZ0F0dHJQcmVmaXhlcywgZnVuY3Rpb24ocHJlZml4KSB7XG4gICAgdmFyIG5hbWUgPSBwcmVmaXggKyAnYXBwJztcblxuICAgIGlmICghYXBwRWxlbWVudCAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZShuYW1lKSkge1xuICAgICAgYXBwRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICBtb2R1bGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICB9XG4gIH0pO1xuICBmb3JFYWNoKG5nQXR0clByZWZpeGVzLCBmdW5jdGlvbihwcmVmaXgpIHtcbiAgICB2YXIgbmFtZSA9IHByZWZpeCArICdhcHAnO1xuICAgIHZhciBjYW5kaWRhdGU7XG5cbiAgICBpZiAoIWFwcEVsZW1lbnQgJiYgKGNhbmRpZGF0ZSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignWycgKyBuYW1lLnJlcGxhY2UoJzonLCAnXFxcXDonKSArICddJykpKSB7XG4gICAgICBhcHBFbGVtZW50ID0gY2FuZGlkYXRlO1xuICAgICAgbW9kdWxlID0gY2FuZGlkYXRlLmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICB9XG4gIH0pO1xuICBpZiAoYXBwRWxlbWVudCkge1xuICAgIGNvbmZpZy5zdHJpY3REaSA9IGdldE5nQXR0cmlidXRlKGFwcEVsZW1lbnQsIFwic3RyaWN0LWRpXCIpICE9PSBudWxsO1xuICAgIGJvb3RzdHJhcChhcHBFbGVtZW50LCBtb2R1bGUgPyBbbW9kdWxlXSA6IFtdLCBjb25maWcpO1xuICB9XG59XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmJvb3RzdHJhcFxuICogQG1vZHVsZSBuZ1xuICogQGRlc2NyaXB0aW9uXG4gKiBVc2UgdGhpcyBmdW5jdGlvbiB0byBtYW51YWxseSBzdGFydCB1cCBhbmd1bGFyIGFwcGxpY2F0aW9uLlxuICpcbiAqIFNlZToge0BsaW5rIGd1aWRlL2Jvb3RzdHJhcCBCb290c3RyYXB9XG4gKlxuICogTm90ZSB0aGF0IFByb3RyYWN0b3IgYmFzZWQgZW5kLXRvLWVuZCB0ZXN0cyBjYW5ub3QgdXNlIHRoaXMgZnVuY3Rpb24gdG8gYm9vdHN0cmFwIG1hbnVhbGx5LlxuICogVGhleSBtdXN0IHVzZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQXBwIG5nQXBwfS5cbiAqXG4gKiBBbmd1bGFyIHdpbGwgZGV0ZWN0IGlmIGl0IGhhcyBiZWVuIGxvYWRlZCBpbnRvIHRoZSBicm93c2VyIG1vcmUgdGhhbiBvbmNlIGFuZCBvbmx5IGFsbG93IHRoZVxuICogZmlyc3QgbG9hZGVkIHNjcmlwdCB0byBiZSBib290c3RyYXBwZWQgYW5kIHdpbGwgcmVwb3J0IGEgd2FybmluZyB0byB0aGUgYnJvd3NlciBjb25zb2xlIGZvclxuICogZWFjaCBvZiB0aGUgc3Vic2VxdWVudCBzY3JpcHRzLiBUaGlzIHByZXZlbnRzIHN0cmFuZ2UgcmVzdWx0cyBpbiBhcHBsaWNhdGlvbnMsIHdoZXJlIG90aGVyd2lzZVxuICogbXVsdGlwbGUgaW5zdGFuY2VzIG9mIEFuZ3VsYXIgdHJ5IHRvIHdvcmsgb24gdGhlIERPTS5cbiAqXG4gKiBgYGBodG1sXG4gKiA8IWRvY3R5cGUgaHRtbD5cbiAqIDxodG1sPlxuICogPGJvZHk+XG4gKiA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJXZWxjb21lQ29udHJvbGxlclwiPlxuICogICB7e2dyZWV0aW5nfX1cbiAqIDwvZGl2PlxuICpcbiAqIDxzY3JpcHQgc3JjPVwiYW5ndWxhci5qc1wiPjwvc2NyaXB0PlxuICogPHNjcmlwdD5cbiAqICAgdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdkZW1vJywgW10pXG4gKiAgIC5jb250cm9sbGVyKCdXZWxjb21lQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAgJHNjb3BlLmdyZWV0aW5nID0gJ1dlbGNvbWUhJztcbiAqICAgfSk7XG4gKiAgIGFuZ3VsYXIuYm9vdHN0cmFwKGRvY3VtZW50LCBbJ2RlbW8nXSk7XG4gKiA8L3NjcmlwdD5cbiAqIDwvYm9keT5cbiAqIDwvaHRtbD5cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCBET00gZWxlbWVudCB3aGljaCBpcyB0aGUgcm9vdCBvZiBhbmd1bGFyIGFwcGxpY2F0aW9uLlxuICogQHBhcmFtIHtBcnJheTxTdHJpbmd8RnVuY3Rpb258QXJyYXk+PX0gbW9kdWxlcyBhbiBhcnJheSBvZiBtb2R1bGVzIHRvIGxvYWQgaW50byB0aGUgYXBwbGljYXRpb24uXG4gKiAgICAgRWFjaCBpdGVtIGluIHRoZSBhcnJheSBzaG91bGQgYmUgdGhlIG5hbWUgb2YgYSBwcmVkZWZpbmVkIG1vZHVsZSBvciBhIChESSBhbm5vdGF0ZWQpXG4gKiAgICAgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGludm9rZWQgYnkgdGhlIGluamVjdG9yIGFzIGEgcnVuIGJsb2NrLlxuICogICAgIFNlZToge0BsaW5rIGFuZ3VsYXIubW9kdWxlIG1vZHVsZXN9XG4gKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBhbiBvYmplY3QgZm9yIGRlZmluaW5nIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIGFwcGxpY2F0aW9uLiBUaGVcbiAqICAgICBmb2xsb3dpbmcga2V5cyBhcmUgc3VwcG9ydGVkOlxuICpcbiAqICAgICAtIGBzdHJpY3REaWA6IGRpc2FibGUgYXV0b21hdGljIGZ1bmN0aW9uIGFubm90YXRpb24gZm9yIHRoZSBhcHBsaWNhdGlvbi4gVGhpcyBpcyBtZWFudCB0b1xuICogICAgICAgYXNzaXN0IGluIGZpbmRpbmcgYnVncyB3aGljaCBicmVhayBtaW5pZmllZCBjb2RlLlxuICpcbiAqIEByZXR1cm5zIHthdXRvLiRpbmplY3Rvcn0gUmV0dXJucyB0aGUgbmV3bHkgY3JlYXRlZCBpbmplY3RvciBmb3IgdGhpcyBhcHAuXG4gKi9cbmZ1bmN0aW9uIGJvb3RzdHJhcChlbGVtZW50LCBtb2R1bGVzLCBjb25maWcpIHtcbiAgaWYgKCFpc09iamVjdChjb25maWcpKSBjb25maWcgPSB7fTtcbiAgdmFyIGRlZmF1bHRDb25maWcgPSB7XG4gICAgc3RyaWN0RGk6IGZhbHNlXG4gIH07XG4gIGNvbmZpZyA9IGV4dGVuZChkZWZhdWx0Q29uZmlnLCBjb25maWcpO1xuICB2YXIgZG9Cb290c3RyYXAgPSBmdW5jdGlvbigpIHtcbiAgICBlbGVtZW50ID0ganFMaXRlKGVsZW1lbnQpO1xuXG4gICAgaWYgKGVsZW1lbnQuaW5qZWN0b3IoKSkge1xuICAgICAgdmFyIHRhZyA9IChlbGVtZW50WzBdID09PSBkb2N1bWVudCkgPyAnZG9jdW1lbnQnIDogc3RhcnRpbmdUYWcoZWxlbWVudCk7XG4gICAgICAvL0VuY29kZSBhbmdsZSBicmFja2V0cyB0byBwcmV2ZW50IGlucHV0IGZyb20gYmVpbmcgc2FuaXRpemVkIHRvIGVtcHR5IHN0cmluZyAjODY4M1xuICAgICAgdGhyb3cgbmdNaW5FcnIoXG4gICAgICAgICAgJ2J0c3RycGQnLFxuICAgICAgICAgIFwiQXBwIEFscmVhZHkgQm9vdHN0cmFwcGVkIHdpdGggdGhpcyBFbGVtZW50ICd7MH0nXCIsXG4gICAgICAgICAgdGFnLnJlcGxhY2UoLzwvLCcmbHQ7JykucmVwbGFjZSgvPi8sJyZndDsnKSk7XG4gICAgfVxuXG4gICAgbW9kdWxlcyA9IG1vZHVsZXMgfHwgW107XG4gICAgbW9kdWxlcy51bnNoaWZ0KFsnJHByb3ZpZGUnLCBmdW5jdGlvbigkcHJvdmlkZSkge1xuICAgICAgJHByb3ZpZGUudmFsdWUoJyRyb290RWxlbWVudCcsIGVsZW1lbnQpO1xuICAgIH1dKTtcblxuICAgIGlmIChjb25maWcuZGVidWdJbmZvRW5hYmxlZCkge1xuICAgICAgLy8gUHVzaGluZyBzbyB0aGF0IHRoaXMgb3ZlcnJpZGVzIGBkZWJ1Z0luZm9FbmFibGVkYCBzZXR0aW5nIGRlZmluZWQgaW4gdXNlcidzIGBtb2R1bGVzYC5cbiAgICAgIG1vZHVsZXMucHVzaChbJyRjb21waWxlUHJvdmlkZXInLCBmdW5jdGlvbigkY29tcGlsZVByb3ZpZGVyKSB7XG4gICAgICAgICRjb21waWxlUHJvdmlkZXIuZGVidWdJbmZvRW5hYmxlZCh0cnVlKTtcbiAgICAgIH1dKTtcbiAgICB9XG5cbiAgICBtb2R1bGVzLnVuc2hpZnQoJ25nJyk7XG4gICAgdmFyIGluamVjdG9yID0gY3JlYXRlSW5qZWN0b3IobW9kdWxlcywgY29uZmlnLnN0cmljdERpKTtcbiAgICBpbmplY3Rvci5pbnZva2UoWyckcm9vdFNjb3BlJywgJyRyb290RWxlbWVudCcsICckY29tcGlsZScsICckaW5qZWN0b3InLFxuICAgICAgIGZ1bmN0aW9uIGJvb3RzdHJhcEFwcGx5KHNjb3BlLCBlbGVtZW50LCBjb21waWxlLCBpbmplY3Rvcikge1xuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZWxlbWVudC5kYXRhKCckaW5qZWN0b3InLCBpbmplY3Rvcik7XG4gICAgICAgICAgY29tcGlsZShlbGVtZW50KShzY29wZSk7XG4gICAgICAgIH0pO1xuICAgICAgfV1cbiAgICApO1xuICAgIHJldHVybiBpbmplY3RvcjtcbiAgfTtcblxuICB2YXIgTkdfRU5BQkxFX0RFQlVHX0lORk8gPSAvXk5HX0VOQUJMRV9ERUJVR19JTkZPIS87XG4gIHZhciBOR19ERUZFUl9CT09UU1RSQVAgPSAvXk5HX0RFRkVSX0JPT1RTVFJBUCEvO1xuXG4gIGlmICh3aW5kb3cgJiYgTkdfRU5BQkxFX0RFQlVHX0lORk8udGVzdCh3aW5kb3cubmFtZSkpIHtcbiAgICBjb25maWcuZGVidWdJbmZvRW5hYmxlZCA9IHRydWU7XG4gICAgd2luZG93Lm5hbWUgPSB3aW5kb3cubmFtZS5yZXBsYWNlKE5HX0VOQUJMRV9ERUJVR19JTkZPLCAnJyk7XG4gIH1cblxuICBpZiAod2luZG93ICYmICFOR19ERUZFUl9CT09UU1RSQVAudGVzdCh3aW5kb3cubmFtZSkpIHtcbiAgICByZXR1cm4gZG9Cb290c3RyYXAoKTtcbiAgfVxuXG4gIHdpbmRvdy5uYW1lID0gd2luZG93Lm5hbWUucmVwbGFjZShOR19ERUZFUl9CT09UU1RSQVAsICcnKTtcbiAgYW5ndWxhci5yZXN1bWVCb290c3RyYXAgPSBmdW5jdGlvbihleHRyYU1vZHVsZXMpIHtcbiAgICBmb3JFYWNoKGV4dHJhTW9kdWxlcywgZnVuY3Rpb24obW9kdWxlKSB7XG4gICAgICBtb2R1bGVzLnB1c2gobW9kdWxlKTtcbiAgICB9KTtcbiAgICBkb0Jvb3RzdHJhcCgpO1xuICB9O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5yZWxvYWRXaXRoRGVidWdJbmZvXG4gKiBAbW9kdWxlIG5nXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZSB0aGlzIGZ1bmN0aW9uIHRvIHJlbG9hZCB0aGUgY3VycmVudCBhcHBsaWNhdGlvbiB3aXRoIGRlYnVnIGluZm9ybWF0aW9uIHR1cm5lZCBvbi5cbiAqIFRoaXMgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGEgY2FsbCB0byBgJGNvbXBpbGVQcm92aWRlci5kZWJ1Z0luZm9FbmFibGVkKGZhbHNlKWAuXG4gKlxuICogU2VlIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RlYnVnSW5mb0VuYWJsZWR9IGZvciBtb3JlLlxuICovXG5mdW5jdGlvbiByZWxvYWRXaXRoRGVidWdJbmZvKCkge1xuICB3aW5kb3cubmFtZSA9ICdOR19FTkFCTEVfREVCVUdfSU5GTyEnICsgd2luZG93Lm5hbWU7XG4gIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbn1cblxuLyoqXG4gKiBAbmFtZSBhbmd1bGFyLmdldFRlc3RhYmlsaXR5XG4gKiBAbW9kdWxlIG5nXG4gKiBAZGVzY3JpcHRpb25cbiAqIEdldCB0aGUgdGVzdGFiaWxpdHkgc2VydmljZSBmb3IgdGhlIGluc3RhbmNlIG9mIEFuZ3VsYXIgb24gdGhlIGdpdmVuXG4gKiBlbGVtZW50LlxuICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IERPTSBlbGVtZW50IHdoaWNoIGlzIHRoZSByb290IG9mIGFuZ3VsYXIgYXBwbGljYXRpb24uXG4gKi9cbmZ1bmN0aW9uIGdldFRlc3RhYmlsaXR5KHJvb3RFbGVtZW50KSB7XG4gIHJldHVybiBhbmd1bGFyLmVsZW1lbnQocm9vdEVsZW1lbnQpLmluamVjdG9yKCkuZ2V0KCckJHRlc3RhYmlsaXR5Jyk7XG59XG5cbnZhciBTTkFLRV9DQVNFX1JFR0VYUCA9IC9bQS1aXS9nO1xuZnVuY3Rpb24gc25ha2VfY2FzZShuYW1lLCBzZXBhcmF0b3IpIHtcbiAgc2VwYXJhdG9yID0gc2VwYXJhdG9yIHx8ICdfJztcbiAgcmV0dXJuIG5hbWUucmVwbGFjZShTTkFLRV9DQVNFX1JFR0VYUCwgZnVuY3Rpb24obGV0dGVyLCBwb3MpIHtcbiAgICByZXR1cm4gKHBvcyA/IHNlcGFyYXRvciA6ICcnKSArIGxldHRlci50b0xvd2VyQ2FzZSgpO1xuICB9KTtcbn1cblxudmFyIGJpbmRKUXVlcnlGaXJlZCA9IGZhbHNlO1xudmFyIHNraXBEZXN0cm95T25OZXh0SlF1ZXJ5Q2xlYW5EYXRhO1xuZnVuY3Rpb24gYmluZEpRdWVyeSgpIHtcbiAgdmFyIG9yaWdpbmFsQ2xlYW5EYXRhO1xuXG4gIGlmIChiaW5kSlF1ZXJ5RmlyZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBiaW5kIHRvIGpRdWVyeSBpZiBwcmVzZW50O1xuICBqUXVlcnkgPSB3aW5kb3cualF1ZXJ5O1xuICAvLyBVc2UgalF1ZXJ5IGlmIGl0IGV4aXN0cyB3aXRoIHByb3BlciBmdW5jdGlvbmFsaXR5LCBvdGhlcndpc2UgZGVmYXVsdCB0byB1cy5cbiAgLy8gQW5ndWxhciAxLjIrIHJlcXVpcmVzIGpRdWVyeSAxLjcrIGZvciBvbigpL29mZigpIHN1cHBvcnQuXG4gIC8vIEFuZ3VsYXIgMS4zKyB0ZWNobmljYWxseSByZXF1aXJlcyBhdCBsZWFzdCBqUXVlcnkgMi4xKyBidXQgaXQgbWF5IHdvcmsgd2l0aCBvbGRlclxuICAvLyB2ZXJzaW9ucy4gSXQgd2lsbCBub3Qgd29yayBmb3Igc3VyZSB3aXRoIGpRdWVyeSA8MS43LCB0aG91Z2guXG4gIGlmIChqUXVlcnkgJiYgalF1ZXJ5LmZuLm9uKSB7XG4gICAganFMaXRlID0galF1ZXJ5O1xuICAgIGV4dGVuZChqUXVlcnkuZm4sIHtcbiAgICAgIHNjb3BlOiBKUUxpdGVQcm90b3R5cGUuc2NvcGUsXG4gICAgICBpc29sYXRlU2NvcGU6IEpRTGl0ZVByb3RvdHlwZS5pc29sYXRlU2NvcGUsXG4gICAgICBjb250cm9sbGVyOiBKUUxpdGVQcm90b3R5cGUuY29udHJvbGxlcixcbiAgICAgIGluamVjdG9yOiBKUUxpdGVQcm90b3R5cGUuaW5qZWN0b3IsXG4gICAgICBpbmhlcml0ZWREYXRhOiBKUUxpdGVQcm90b3R5cGUuaW5oZXJpdGVkRGF0YVxuICAgIH0pO1xuXG4gICAgLy8gQWxsIG5vZGVzIHJlbW92ZWQgZnJvbSB0aGUgRE9NIHZpYSB2YXJpb3VzIGpRdWVyeSBBUElzIGxpa2UgLnJlbW92ZSgpXG4gICAgLy8gYXJlIHBhc3NlZCB0aHJvdWdoIGpRdWVyeS5jbGVhbkRhdGEuIE1vbmtleS1wYXRjaCB0aGlzIG1ldGhvZCB0byBmaXJlXG4gICAgLy8gdGhlICRkZXN0cm95IGV2ZW50IG9uIGFsbCByZW1vdmVkIG5vZGVzLlxuICAgIG9yaWdpbmFsQ2xlYW5EYXRhID0galF1ZXJ5LmNsZWFuRGF0YTtcbiAgICBqUXVlcnkuY2xlYW5EYXRhID0gZnVuY3Rpb24oZWxlbXMpIHtcbiAgICAgIHZhciBldmVudHM7XG4gICAgICBpZiAoIXNraXBEZXN0cm95T25OZXh0SlF1ZXJ5Q2xlYW5EYXRhKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBlbGVtOyAoZWxlbSA9IGVsZW1zW2ldKSAhPSBudWxsOyBpKyspIHtcbiAgICAgICAgICBldmVudHMgPSBqUXVlcnkuX2RhdGEoZWxlbSwgXCJldmVudHNcIik7XG4gICAgICAgICAgaWYgKGV2ZW50cyAmJiBldmVudHMuJGRlc3Ryb3kpIHtcbiAgICAgICAgICAgIGpRdWVyeShlbGVtKS50cmlnZ2VySGFuZGxlcignJGRlc3Ryb3knKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNraXBEZXN0cm95T25OZXh0SlF1ZXJ5Q2xlYW5EYXRhID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBvcmlnaW5hbENsZWFuRGF0YShlbGVtcyk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBqcUxpdGUgPSBKUUxpdGU7XG4gIH1cblxuICBhbmd1bGFyLmVsZW1lbnQgPSBqcUxpdGU7XG5cbiAgLy8gUHJldmVudCBkb3VibGUtcHJveHlpbmcuXG4gIGJpbmRKUXVlcnlGaXJlZCA9IHRydWU7XG59XG5cbi8qKlxuICogdGhyb3cgZXJyb3IgaWYgdGhlIGFyZ3VtZW50IGlzIGZhbHN5LlxuICovXG5mdW5jdGlvbiBhc3NlcnRBcmcoYXJnLCBuYW1lLCByZWFzb24pIHtcbiAgaWYgKCFhcmcpIHtcbiAgICB0aHJvdyBuZ01pbkVycignYXJlcScsIFwiQXJndW1lbnQgJ3swfScgaXMgezF9XCIsIChuYW1lIHx8ICc/JyksIChyZWFzb24gfHwgXCJyZXF1aXJlZFwiKSk7XG4gIH1cbiAgcmV0dXJuIGFyZztcbn1cblxuZnVuY3Rpb24gYXNzZXJ0QXJnRm4oYXJnLCBuYW1lLCBhY2NlcHRBcnJheUFubm90YXRpb24pIHtcbiAgaWYgKGFjY2VwdEFycmF5QW5ub3RhdGlvbiAmJiBpc0FycmF5KGFyZykpIHtcbiAgICAgIGFyZyA9IGFyZ1thcmcubGVuZ3RoIC0gMV07XG4gIH1cblxuICBhc3NlcnRBcmcoaXNGdW5jdGlvbihhcmcpLCBuYW1lLCAnbm90IGEgZnVuY3Rpb24sIGdvdCAnICtcbiAgICAgIChhcmcgJiYgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgPyBhcmcuY29uc3RydWN0b3IubmFtZSB8fCAnT2JqZWN0JyA6IHR5cGVvZiBhcmcpKTtcbiAgcmV0dXJuIGFyZztcbn1cblxuLyoqXG4gKiB0aHJvdyBlcnJvciBpZiB0aGUgbmFtZSBnaXZlbiBpcyBoYXNPd25Qcm9wZXJ0eVxuICogQHBhcmFtICB7U3RyaW5nfSBuYW1lICAgIHRoZSBuYW1lIHRvIHRlc3RcbiAqIEBwYXJhbSAge1N0cmluZ30gY29udGV4dCB0aGUgY29udGV4dCBpbiB3aGljaCB0aGUgbmFtZSBpcyB1c2VkLCBzdWNoIGFzIG1vZHVsZSBvciBkaXJlY3RpdmVcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgY29udGV4dCkge1xuICBpZiAobmFtZSA9PT0gJ2hhc093blByb3BlcnR5Jykge1xuICAgIHRocm93IG5nTWluRXJyKCdiYWRuYW1lJywgXCJoYXNPd25Qcm9wZXJ0eSBpcyBub3QgYSB2YWxpZCB7MH0gbmFtZVwiLCBjb250ZXh0KTtcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybiB0aGUgdmFsdWUgYWNjZXNzaWJsZSBmcm9tIHRoZSBvYmplY3QgYnkgcGF0aC4gQW55IHVuZGVmaW5lZCB0cmF2ZXJzYWxzIGFyZSBpZ25vcmVkXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIHN0YXJ0aW5nIG9iamVjdFxuICogQHBhcmFtIHtTdHJpbmd9IHBhdGggcGF0aCB0byB0cmF2ZXJzZVxuICogQHBhcmFtIHtib29sZWFufSBbYmluZEZuVG9TY29wZT10cnVlXVxuICogQHJldHVybnMge09iamVjdH0gdmFsdWUgYXMgYWNjZXNzaWJsZSBieSBwYXRoXG4gKi9cbi8vVE9ETyhtaXNrbyk6IHRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgcmVtb3ZlZFxuZnVuY3Rpb24gZ2V0dGVyKG9iaiwgcGF0aCwgYmluZEZuVG9TY29wZSkge1xuICBpZiAoIXBhdGgpIHJldHVybiBvYmo7XG4gIHZhciBrZXlzID0gcGF0aC5zcGxpdCgnLicpO1xuICB2YXIga2V5O1xuICB2YXIgbGFzdEluc3RhbmNlID0gb2JqO1xuICB2YXIgbGVuID0ga2V5cy5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGtleSA9IGtleXNbaV07XG4gICAgaWYgKG9iaikge1xuICAgICAgb2JqID0gKGxhc3RJbnN0YW5jZSA9IG9iailba2V5XTtcbiAgICB9XG4gIH1cbiAgaWYgKCFiaW5kRm5Ub1Njb3BlICYmIGlzRnVuY3Rpb24ob2JqKSkge1xuICAgIHJldHVybiBiaW5kKGxhc3RJbnN0YW5jZSwgb2JqKTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIFJldHVybiB0aGUgRE9NIHNpYmxpbmdzIGJldHdlZW4gdGhlIGZpcnN0IGFuZCBsYXN0IG5vZGUgaW4gdGhlIGdpdmVuIGFycmF5LlxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgbGlrZSBvYmplY3RcbiAqIEByZXR1cm5zIHtqcUxpdGV9IGpxTGl0ZSBjb2xsZWN0aW9uIGNvbnRhaW5pbmcgdGhlIG5vZGVzXG4gKi9cbmZ1bmN0aW9uIGdldEJsb2NrTm9kZXMobm9kZXMpIHtcbiAgLy8gVE9ETyhwZXJmKToganVzdCBjaGVjayBpZiBhbGwgaXRlbXMgaW4gYG5vZGVzYCBhcmUgc2libGluZ3MgYW5kIGlmIHRoZXkgYXJlIHJldHVybiB0aGUgb3JpZ2luYWxcbiAgLy8gICAgICAgICAgICAgY29sbGVjdGlvbiwgb3RoZXJ3aXNlIHVwZGF0ZSB0aGUgb3JpZ2luYWwgY29sbGVjdGlvbi5cbiAgdmFyIG5vZGUgPSBub2Rlc1swXTtcbiAgdmFyIGVuZE5vZGUgPSBub2Rlc1tub2Rlcy5sZW5ndGggLSAxXTtcbiAgdmFyIGJsb2NrTm9kZXMgPSBbbm9kZV07XG5cbiAgZG8ge1xuICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgIGlmICghbm9kZSkgYnJlYWs7XG4gICAgYmxvY2tOb2Rlcy5wdXNoKG5vZGUpO1xuICB9IHdoaWxlIChub2RlICE9PSBlbmROb2RlKTtcblxuICByZXR1cm4ganFMaXRlKGJsb2NrTm9kZXMpO1xufVxuXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBvYmplY3Qgd2l0aG91dCBhIHByb3RvdHlwZS4gVGhpcyBvYmplY3QgaXMgdXNlZnVsIGZvciBsb29rdXAgd2l0aG91dCBoYXZpbmcgdG9cbiAqIGd1YXJkIGFnYWluc3QgcHJvdG90eXBpY2FsbHkgaW5oZXJpdGVkIHByb3BlcnRpZXMgdmlhIGhhc093blByb3BlcnR5LlxuICpcbiAqIFJlbGF0ZWQgbWljcm8tYmVuY2htYXJrczpcbiAqIC0gaHR0cDovL2pzcGVyZi5jb20vb2JqZWN0LWNyZWF0ZTJcbiAqIC0gaHR0cDovL2pzcGVyZi5jb20vcHJvdG8tbWFwLWxvb2t1cC8yXG4gKiAtIGh0dHA6Ly9qc3BlcmYuY29tL2Zvci1pbi12cy1vYmplY3Qta2V5czJcbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBjcmVhdGVNYXAoKSB7XG4gIHJldHVybiBPYmplY3QuY3JlYXRlKG51bGwpO1xufVxuXG52YXIgTk9ERV9UWVBFX0VMRU1FTlQgPSAxO1xudmFyIE5PREVfVFlQRV9URVhUID0gMztcbnZhciBOT0RFX1RZUEVfQ09NTUVOVCA9IDg7XG52YXIgTk9ERV9UWVBFX0RPQ1VNRU5UID0gOTtcbnZhciBOT0RFX1RZUEVfRE9DVU1FTlRfRlJBR01FTlQgPSAxMTtcblxuLyoqXG4gKiBAbmdkb2MgdHlwZVxuICogQG5hbWUgYW5ndWxhci5Nb2R1bGVcbiAqIEBtb2R1bGUgbmdcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIEludGVyZmFjZSBmb3IgY29uZmlndXJpbmcgYW5ndWxhciB7QGxpbmsgYW5ndWxhci5tb2R1bGUgbW9kdWxlc30uXG4gKi9cblxuZnVuY3Rpb24gc2V0dXBNb2R1bGVMb2FkZXIod2luZG93KSB7XG5cbiAgdmFyICRpbmplY3Rvck1pbkVyciA9IG1pbkVycignJGluamVjdG9yJyk7XG4gIHZhciBuZ01pbkVyciA9IG1pbkVycignbmcnKTtcblxuICBmdW5jdGlvbiBlbnN1cmUob2JqLCBuYW1lLCBmYWN0b3J5KSB7XG4gICAgcmV0dXJuIG9ialtuYW1lXSB8fCAob2JqW25hbWVdID0gZmFjdG9yeSgpKTtcbiAgfVxuXG4gIHZhciBhbmd1bGFyID0gZW5zdXJlKHdpbmRvdywgJ2FuZ3VsYXInLCBPYmplY3QpO1xuXG4gIC8vIFdlIG5lZWQgdG8gZXhwb3NlIGBhbmd1bGFyLiQkbWluRXJyYCB0byBtb2R1bGVzIHN1Y2ggYXMgYG5nUmVzb3VyY2VgIHRoYXQgcmVmZXJlbmNlIGl0IGR1cmluZyBib290c3RyYXBcbiAgYW5ndWxhci4kJG1pbkVyciA9IGFuZ3VsYXIuJCRtaW5FcnIgfHwgbWluRXJyO1xuXG4gIHJldHVybiBlbnN1cmUoYW5ndWxhciwgJ21vZHVsZScsIGZ1bmN0aW9uKCkge1xuICAgIC8qKiBAdHlwZSB7T2JqZWN0LjxzdHJpbmcsIGFuZ3VsYXIuTW9kdWxlPn0gKi9cbiAgICB2YXIgbW9kdWxlcyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhci5tb2R1bGVcbiAgICAgKiBAbW9kdWxlIG5nXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICpcbiAgICAgKiBUaGUgYGFuZ3VsYXIubW9kdWxlYCBpcyBhIGdsb2JhbCBwbGFjZSBmb3IgY3JlYXRpbmcsIHJlZ2lzdGVyaW5nIGFuZCByZXRyaWV2aW5nIEFuZ3VsYXJcbiAgICAgKiBtb2R1bGVzLlxuICAgICAqIEFsbCBtb2R1bGVzIChhbmd1bGFyIGNvcmUgb3IgM3JkIHBhcnR5KSB0aGF0IHNob3VsZCBiZSBhdmFpbGFibGUgdG8gYW4gYXBwbGljYXRpb24gbXVzdCBiZVxuICAgICAqIHJlZ2lzdGVyZWQgdXNpbmcgdGhpcyBtZWNoYW5pc20uXG4gICAgICpcbiAgICAgKiBXaGVuIHBhc3NlZCB0d28gb3IgbW9yZSBhcmd1bWVudHMsIGEgbmV3IG1vZHVsZSBpcyBjcmVhdGVkLiAgSWYgcGFzc2VkIG9ubHkgb25lIGFyZ3VtZW50LCBhblxuICAgICAqIGV4aXN0aW5nIG1vZHVsZSAodGhlIG5hbWUgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byBgbW9kdWxlYCkgaXMgcmV0cmlldmVkLlxuICAgICAqXG4gICAgICpcbiAgICAgKiAjIE1vZHVsZVxuICAgICAqXG4gICAgICogQSBtb2R1bGUgaXMgYSBjb2xsZWN0aW9uIG9mIHNlcnZpY2VzLCBkaXJlY3RpdmVzLCBjb250cm9sbGVycywgZmlsdGVycywgYW5kIGNvbmZpZ3VyYXRpb24gaW5mb3JtYXRpb24uXG4gICAgICogYGFuZ3VsYXIubW9kdWxlYCBpcyB1c2VkIHRvIGNvbmZpZ3VyZSB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIC8vIENyZWF0ZSBhIG5ldyBtb2R1bGVcbiAgICAgKiB2YXIgbXlNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnbXlNb2R1bGUnLCBbXSk7XG4gICAgICpcbiAgICAgKiAvLyByZWdpc3RlciBhIG5ldyBzZXJ2aWNlXG4gICAgICogbXlNb2R1bGUudmFsdWUoJ2FwcE5hbWUnLCAnTXlDb29sQXBwJyk7XG4gICAgICpcbiAgICAgKiAvLyBjb25maWd1cmUgZXhpc3Rpbmcgc2VydmljZXMgaW5zaWRlIGluaXRpYWxpemF0aW9uIGJsb2Nrcy5cbiAgICAgKiBteU1vZHVsZS5jb25maWcoWyckbG9jYXRpb25Qcm92aWRlcicsIGZ1bmN0aW9uKCRsb2NhdGlvblByb3ZpZGVyKSB7XG4gICAgICogICAvLyBDb25maWd1cmUgZXhpc3RpbmcgcHJvdmlkZXJzXG4gICAgICogICAkbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCchJyk7XG4gICAgICogfV0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogVGhlbiB5b3UgY2FuIGNyZWF0ZSBhbiBpbmplY3RvciBhbmQgbG9hZCB5b3VyIG1vZHVsZXMgbGlrZSB0aGlzOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiB2YXIgaW5qZWN0b3IgPSBhbmd1bGFyLmluamVjdG9yKFsnbmcnLCAnbXlNb2R1bGUnXSlcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEhvd2V2ZXIgaXQncyBtb3JlIGxpa2VseSB0aGF0IHlvdSdsbCBqdXN0IHVzZVxuICAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdBcHAgbmdBcHB9IG9yXG4gICAgICoge0BsaW5rIGFuZ3VsYXIuYm9vdHN0cmFwfSB0byBzaW1wbGlmeSB0aGlzIHByb2Nlc3MgZm9yIHlvdS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7IXN0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgbW9kdWxlIHRvIGNyZWF0ZSBvciByZXRyaWV2ZS5cbiAgICAgKiBAcGFyYW0geyFBcnJheS48c3RyaW5nPj19IHJlcXVpcmVzIElmIHNwZWNpZmllZCB0aGVuIG5ldyBtb2R1bGUgaXMgYmVpbmcgY3JlYXRlZC4gSWZcbiAgICAgKiAgICAgICAgdW5zcGVjaWZpZWQgdGhlbiB0aGUgbW9kdWxlIGlzIGJlaW5nIHJldHJpZXZlZCBmb3IgZnVydGhlciBjb25maWd1cmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb249fSBjb25maWdGbiBPcHRpb25hbCBjb25maWd1cmF0aW9uIGZ1bmN0aW9uIGZvciB0aGUgbW9kdWxlLiBTYW1lIGFzXG4gICAgICogICAgICAgIHtAbGluayBhbmd1bGFyLk1vZHVsZSNjb25maWcgTW9kdWxlI2NvbmZpZygpfS5cbiAgICAgKiBAcmV0dXJucyB7bW9kdWxlfSBuZXcgbW9kdWxlIHdpdGggdGhlIHtAbGluayBhbmd1bGFyLk1vZHVsZX0gYXBpLlxuICAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbiBtb2R1bGUobmFtZSwgcmVxdWlyZXMsIGNvbmZpZ0ZuKSB7XG4gICAgICB2YXIgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkgPSBmdW5jdGlvbihuYW1lLCBjb250ZXh0KSB7XG4gICAgICAgIGlmIChuYW1lID09PSAnaGFzT3duUHJvcGVydHknKSB7XG4gICAgICAgICAgdGhyb3cgbmdNaW5FcnIoJ2JhZG5hbWUnLCAnaGFzT3duUHJvcGVydHkgaXMgbm90IGEgdmFsaWQgezB9IG5hbWUnLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgJ21vZHVsZScpO1xuICAgICAgaWYgKHJlcXVpcmVzICYmIG1vZHVsZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgbW9kdWxlc1tuYW1lXSA9IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gZW5zdXJlKG1vZHVsZXMsIG5hbWUsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXJlcXVpcmVzKSB7XG4gICAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdub21vZCcsIFwiTW9kdWxlICd7MH0nIGlzIG5vdCBhdmFpbGFibGUhIFlvdSBlaXRoZXIgbWlzc3BlbGxlZCBcIiArXG4gICAgICAgICAgICAgXCJ0aGUgbW9kdWxlIG5hbWUgb3IgZm9yZ290IHRvIGxvYWQgaXQuIElmIHJlZ2lzdGVyaW5nIGEgbW9kdWxlIGVuc3VyZSB0aGF0IHlvdSBcIiArXG4gICAgICAgICAgICAgXCJzcGVjaWZ5IHRoZSBkZXBlbmRlbmNpZXMgYXMgdGhlIHNlY29uZCBhcmd1bWVudC5cIiwgbmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKiogQHR5cGUgeyFBcnJheS48QXJyYXkuPCo+Pn0gKi9cbiAgICAgICAgdmFyIGludm9rZVF1ZXVlID0gW107XG5cbiAgICAgICAgLyoqIEB0eXBlIHshQXJyYXkuPEZ1bmN0aW9uPn0gKi9cbiAgICAgICAgdmFyIGNvbmZpZ0Jsb2NrcyA9IFtdO1xuXG4gICAgICAgIC8qKiBAdHlwZSB7IUFycmF5LjxGdW5jdGlvbj59ICovXG4gICAgICAgIHZhciBydW5CbG9ja3MgPSBbXTtcblxuICAgICAgICB2YXIgY29uZmlnID0gaW52b2tlTGF0ZXIoJyRpbmplY3RvcicsICdpbnZva2UnLCAncHVzaCcsIGNvbmZpZ0Jsb2Nrcyk7XG5cbiAgICAgICAgLyoqIEB0eXBlIHthbmd1bGFyLk1vZHVsZX0gKi9cbiAgICAgICAgdmFyIG1vZHVsZUluc3RhbmNlID0ge1xuICAgICAgICAgIC8vIFByaXZhdGUgc3RhdGVcbiAgICAgICAgICBfaW52b2tlUXVldWU6IGludm9rZVF1ZXVlLFxuICAgICAgICAgIF9jb25maWdCbG9ja3M6IGNvbmZpZ0Jsb2NrcyxcbiAgICAgICAgICBfcnVuQmxvY2tzOiBydW5CbG9ja3MsXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgcHJvcGVydHlcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNyZXF1aXJlc1xuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIEhvbGRzIHRoZSBsaXN0IG9mIG1vZHVsZXMgd2hpY2ggdGhlIGluamVjdG9yIHdpbGwgbG9hZCBiZWZvcmUgdGhlIGN1cnJlbnQgbW9kdWxlIGlzXG4gICAgICAgICAgICogbG9hZGVkLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHJlcXVpcmVzOiByZXF1aXJlcyxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI25hbWVcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBOYW1lIG9mIHRoZSBtb2R1bGUuXG4gICAgICAgICAgICovXG4gICAgICAgICAgbmFtZTogbmFtZSxcblxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI3Byb3ZpZGVyXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZVxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3ZpZGVyVHlwZSBDb25zdHJ1Y3Rpb24gZnVuY3Rpb24gZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZSBvZiB0aGVcbiAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZS5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjcHJvdmlkZXIgJHByb3ZpZGUucHJvdmlkZXIoKX0uXG4gICAgICAgICAgICovXG4gICAgICAgICAgcHJvdmlkZXI6IGludm9rZUxhdGVyKCckcHJvdmlkZScsICdwcm92aWRlcicpLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2ZhY3RvcnlcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgc2VydmljZSBuYW1lXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvdmlkZXJGdW5jdGlvbiBGdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIHRoZSBzZXJ2aWNlLlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgYXV0by4kcHJvdmlkZSNmYWN0b3J5ICRwcm92aWRlLmZhY3RvcnkoKX0uXG4gICAgICAgICAgICovXG4gICAgICAgICAgZmFjdG9yeTogaW52b2tlTGF0ZXIoJyRwcm92aWRlJywgJ2ZhY3RvcnknKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNzZXJ2aWNlXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZVxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbnN0cnVjdG9yIEEgY29uc3RydWN0b3IgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGluc3RhbnRpYXRlZC5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSAkcHJvdmlkZS5zZXJ2aWNlKCl9LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHNlcnZpY2U6IGludm9rZUxhdGVyKCckcHJvdmlkZScsICdzZXJ2aWNlJyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjdmFsdWVcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgc2VydmljZSBuYW1lXG4gICAgICAgICAgICogQHBhcmFtIHsqfSBvYmplY3QgU2VydmljZSBpbnN0YW5jZSBvYmplY3QuXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI3ZhbHVlICRwcm92aWRlLnZhbHVlKCl9LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHZhbHVlOiBpbnZva2VMYXRlcignJHByb3ZpZGUnLCAndmFsdWUnKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNjb25zdGFudFxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBjb25zdGFudCBuYW1lXG4gICAgICAgICAgICogQHBhcmFtIHsqfSBvYmplY3QgQ29uc3RhbnQgdmFsdWUuXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogQmVjYXVzZSB0aGUgY29uc3RhbnQgYXJlIGZpeGVkLCB0aGV5IGdldCBhcHBsaWVkIGJlZm9yZSBvdGhlciBwcm92aWRlIG1ldGhvZHMuXG4gICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI2NvbnN0YW50ICRwcm92aWRlLmNvbnN0YW50KCl9LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGNvbnN0YW50OiBpbnZva2VMYXRlcignJHByb3ZpZGUnLCAnY29uc3RhbnQnLCAndW5zaGlmdCcpLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2FuaW1hdGlvblxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBhbmltYXRpb24gbmFtZVxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFuaW1hdGlvbkZhY3RvcnkgRmFjdG9yeSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIGFuXG4gICAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiAqKk5PVEUqKjogYW5pbWF0aW9ucyB0YWtlIGVmZmVjdCBvbmx5IGlmIHRoZSAqKm5nQW5pbWF0ZSoqIG1vZHVsZSBpcyBsb2FkZWQuXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIERlZmluZXMgYW4gYW5pbWF0aW9uIGhvb2sgdGhhdCBjYW4gYmUgbGF0ZXIgdXNlZCB3aXRoXG4gICAgICAgICAgICoge0BsaW5rIG5nQW5pbWF0ZS4kYW5pbWF0ZSAkYW5pbWF0ZX0gc2VydmljZSBhbmQgZGlyZWN0aXZlcyB0aGF0IHVzZSB0aGlzIHNlcnZpY2UuXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBgYGBqc1xuICAgICAgICAgICAqIG1vZHVsZS5hbmltYXRpb24oJy5hbmltYXRpb24tbmFtZScsIGZ1bmN0aW9uKCRpbmplY3QxLCAkaW5qZWN0Mikge1xuICAgICAgICAgICAqICAgcmV0dXJuIHtcbiAgICAgICAgICAgKiAgICAgZXZlbnROYW1lIDogZnVuY3Rpb24oZWxlbWVudCwgZG9uZSkge1xuICAgICAgICAgICAqICAgICAgIC8vY29kZSB0byBydW4gdGhlIGFuaW1hdGlvblxuICAgICAgICAgICAqICAgICAgIC8vb25jZSBjb21wbGV0ZSwgdGhlbiBydW4gZG9uZSgpXG4gICAgICAgICAgICogICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNhbmNlbGxhdGlvbkZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgKiAgICAgICAgIC8vY29kZSB0byBjYW5jZWwgdGhlIGFuaW1hdGlvblxuICAgICAgICAgICAqICAgICAgIH1cbiAgICAgICAgICAgKiAgICAgfVxuICAgICAgICAgICAqICAgfVxuICAgICAgICAgICAqIH0pXG4gICAgICAgICAgICogYGBgXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBTZWUge0BsaW5rIG5nLiRhbmltYXRlUHJvdmlkZXIjcmVnaXN0ZXIgJGFuaW1hdGVQcm92aWRlci5yZWdpc3RlcigpfSBhbmRcbiAgICAgICAgICAgKiB7QGxpbmsgbmdBbmltYXRlIG5nQW5pbWF0ZSBtb2R1bGV9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGFuaW1hdGlvbjogaW52b2tlTGF0ZXIoJyRhbmltYXRlUHJvdmlkZXInLCAncmVnaXN0ZXInKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNmaWx0ZXJcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgRmlsdGVyIG5hbWUuXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmlsdGVyRmFjdG9yeSBGYWN0b3J5IGZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2Ugb2YgZmlsdGVyLlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgbmcuJGZpbHRlclByb3ZpZGVyI3JlZ2lzdGVyICRmaWx0ZXJQcm92aWRlci5yZWdpc3RlcigpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmaWx0ZXI6IGludm9rZUxhdGVyKCckZmlsdGVyUHJvdmlkZXInLCAncmVnaXN0ZXInKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNjb250cm9sbGVyXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBDb250cm9sbGVyIG5hbWUsIG9yIGFuIG9iamVjdCBtYXAgb2YgY29udHJvbGxlcnMgd2hlcmUgdGhlXG4gICAgICAgICAgICogICAga2V5cyBhcmUgdGhlIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgY29uc3RydWN0b3JzLlxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbnN0cnVjdG9yIENvbnRyb2xsZXIgY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBuZy4kY29udHJvbGxlclByb3ZpZGVyI3JlZ2lzdGVyICRjb250cm9sbGVyUHJvdmlkZXIucmVnaXN0ZXIoKX0uXG4gICAgICAgICAgICovXG4gICAgICAgICAgY29udHJvbGxlcjogaW52b2tlTGF0ZXIoJyRjb250cm9sbGVyUHJvdmlkZXInLCAncmVnaXN0ZXInKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNkaXJlY3RpdmVcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBuYW1lIERpcmVjdGl2ZSBuYW1lLCBvciBhbiBvYmplY3QgbWFwIG9mIGRpcmVjdGl2ZXMgd2hlcmUgdGhlXG4gICAgICAgICAgICogICAga2V5cyBhcmUgdGhlIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgZmFjdG9yaWVzLlxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGRpcmVjdGl2ZUZhY3RvcnkgRmFjdG9yeSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mXG4gICAgICAgICAgICogZGlyZWN0aXZlcy5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBTZWUge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXIjZGlyZWN0aXZlICRjb21waWxlUHJvdmlkZXIuZGlyZWN0aXZlKCl9LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGRpcmVjdGl2ZTogaW52b2tlTGF0ZXIoJyRjb21waWxlUHJvdmlkZXInLCAnZGlyZWN0aXZlJyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjY29uZmlnXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbmZpZ0ZuIEV4ZWN1dGUgdGhpcyBmdW5jdGlvbiBvbiBtb2R1bGUgbG9hZC4gVXNlZnVsIGZvciBzZXJ2aWNlXG4gICAgICAgICAgICogICAgY29uZmlndXJhdGlvbi5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBVc2UgdGhpcyBtZXRob2QgdG8gcmVnaXN0ZXIgd29yayB3aGljaCBuZWVkcyB0byBiZSBwZXJmb3JtZWQgb24gbW9kdWxlIGxvYWRpbmcuXG4gICAgICAgICAgICogRm9yIG1vcmUgYWJvdXQgaG93IHRvIGNvbmZpZ3VyZSBzZXJ2aWNlcywgc2VlXG4gICAgICAgICAgICoge0BsaW5rIHByb3ZpZGVycyNwcm92aWRlci1yZWNpcGUgUHJvdmlkZXIgUmVjaXBlfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBjb25maWc6IGNvbmZpZyxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNydW5cbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW5pdGlhbGl6YXRpb25GbiBFeGVjdXRlIHRoaXMgZnVuY3Rpb24gYWZ0ZXIgaW5qZWN0b3IgY3JlYXRpb24uXG4gICAgICAgICAgICogICAgVXNlZnVsIGZvciBhcHBsaWNhdGlvbiBpbml0aWFsaXphdGlvbi5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBVc2UgdGhpcyBtZXRob2QgdG8gcmVnaXN0ZXIgd29yayB3aGljaCBzaG91bGQgYmUgcGVyZm9ybWVkIHdoZW4gdGhlIGluamVjdG9yIGlzIGRvbmVcbiAgICAgICAgICAgKiBsb2FkaW5nIGFsbCBtb2R1bGVzLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHJ1bjogZnVuY3Rpb24oYmxvY2spIHtcbiAgICAgICAgICAgIHJ1bkJsb2Nrcy5wdXNoKGJsb2NrKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoY29uZmlnRm4pIHtcbiAgICAgICAgICBjb25maWcoY29uZmlnRm4pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1vZHVsZUluc3RhbmNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvdmlkZXJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZFxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZz19IGluc2VydE1ldGhvZFxuICAgICAgICAgKiBAcmV0dXJucyB7YW5ndWxhci5Nb2R1bGV9XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBpbnZva2VMYXRlcihwcm92aWRlciwgbWV0aG9kLCBpbnNlcnRNZXRob2QsIHF1ZXVlKSB7XG4gICAgICAgICAgaWYgKCFxdWV1ZSkgcXVldWUgPSBpbnZva2VRdWV1ZTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBxdWV1ZVtpbnNlcnRNZXRob2QgfHwgJ3B1c2gnXShbcHJvdmlkZXIsIG1ldGhvZCwgYXJndW1lbnRzXSk7XG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlSW5zdGFuY2U7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgfSk7XG5cbn1cblxuLyogZ2xvYmFsIGFuZ3VsYXJNb2R1bGU6IHRydWUsXG4gIHZlcnNpb246IHRydWUsXG5cbiAgJExvY2FsZVByb3ZpZGVyLFxuICAkQ29tcGlsZVByb3ZpZGVyLFxuXG4gIGh0bWxBbmNob3JEaXJlY3RpdmUsXG4gIGlucHV0RGlyZWN0aXZlLFxuICBpbnB1dERpcmVjdGl2ZSxcbiAgZm9ybURpcmVjdGl2ZSxcbiAgc2NyaXB0RGlyZWN0aXZlLFxuICBzZWxlY3REaXJlY3RpdmUsXG4gIHN0eWxlRGlyZWN0aXZlLFxuICBvcHRpb25EaXJlY3RpdmUsXG4gIG5nQmluZERpcmVjdGl2ZSxcbiAgbmdCaW5kSHRtbERpcmVjdGl2ZSxcbiAgbmdCaW5kVGVtcGxhdGVEaXJlY3RpdmUsXG4gIG5nQ2xhc3NEaXJlY3RpdmUsXG4gIG5nQ2xhc3NFdmVuRGlyZWN0aXZlLFxuICBuZ0NsYXNzT2RkRGlyZWN0aXZlLFxuICBuZ0NzcERpcmVjdGl2ZSxcbiAgbmdDbG9ha0RpcmVjdGl2ZSxcbiAgbmdDb250cm9sbGVyRGlyZWN0aXZlLFxuICBuZ0Zvcm1EaXJlY3RpdmUsXG4gIG5nSGlkZURpcmVjdGl2ZSxcbiAgbmdJZkRpcmVjdGl2ZSxcbiAgbmdJbmNsdWRlRGlyZWN0aXZlLFxuICBuZ0luY2x1ZGVGaWxsQ29udGVudERpcmVjdGl2ZSxcbiAgbmdJbml0RGlyZWN0aXZlLFxuICBuZ05vbkJpbmRhYmxlRGlyZWN0aXZlLFxuICBuZ1BsdXJhbGl6ZURpcmVjdGl2ZSxcbiAgbmdSZXBlYXREaXJlY3RpdmUsXG4gIG5nU2hvd0RpcmVjdGl2ZSxcbiAgbmdTdHlsZURpcmVjdGl2ZSxcbiAgbmdTd2l0Y2hEaXJlY3RpdmUsXG4gIG5nU3dpdGNoV2hlbkRpcmVjdGl2ZSxcbiAgbmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlLFxuICBuZ09wdGlvbnNEaXJlY3RpdmUsXG4gIG5nVHJhbnNjbHVkZURpcmVjdGl2ZSxcbiAgbmdNb2RlbERpcmVjdGl2ZSxcbiAgbmdMaXN0RGlyZWN0aXZlLFxuICBuZ0NoYW5nZURpcmVjdGl2ZSxcbiAgcGF0dGVybkRpcmVjdGl2ZSxcbiAgcGF0dGVybkRpcmVjdGl2ZSxcbiAgcmVxdWlyZWREaXJlY3RpdmUsXG4gIHJlcXVpcmVkRGlyZWN0aXZlLFxuICBtaW5sZW5ndGhEaXJlY3RpdmUsXG4gIG1pbmxlbmd0aERpcmVjdGl2ZSxcbiAgbWF4bGVuZ3RoRGlyZWN0aXZlLFxuICBtYXhsZW5ndGhEaXJlY3RpdmUsXG4gIG5nVmFsdWVEaXJlY3RpdmUsXG4gIG5nTW9kZWxPcHRpb25zRGlyZWN0aXZlLFxuICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcyxcbiAgbmdFdmVudERpcmVjdGl2ZXMsXG5cbiAgJEFuY2hvclNjcm9sbFByb3ZpZGVyLFxuICAkQW5pbWF0ZVByb3ZpZGVyLFxuICAkQnJvd3NlclByb3ZpZGVyLFxuICAkQ2FjaGVGYWN0b3J5UHJvdmlkZXIsXG4gICRDb250cm9sbGVyUHJvdmlkZXIsXG4gICREb2N1bWVudFByb3ZpZGVyLFxuICAkRXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyLFxuICAkRmlsdGVyUHJvdmlkZXIsXG4gICRJbnRlcnBvbGF0ZVByb3ZpZGVyLFxuICAkSW50ZXJ2YWxQcm92aWRlcixcbiAgJEh0dHBQcm92aWRlcixcbiAgJEh0dHBCYWNrZW5kUHJvdmlkZXIsXG4gICRMb2NhdGlvblByb3ZpZGVyLFxuICAkTG9nUHJvdmlkZXIsXG4gICRQYXJzZVByb3ZpZGVyLFxuICAkUm9vdFNjb3BlUHJvdmlkZXIsXG4gICRRUHJvdmlkZXIsXG4gICQkUVByb3ZpZGVyLFxuICAkJFNhbml0aXplVXJpUHJvdmlkZXIsXG4gICRTY2VQcm92aWRlcixcbiAgJFNjZURlbGVnYXRlUHJvdmlkZXIsXG4gICRTbmlmZmVyUHJvdmlkZXIsXG4gICRUZW1wbGF0ZUNhY2hlUHJvdmlkZXIsXG4gICRUZW1wbGF0ZVJlcXVlc3RQcm92aWRlcixcbiAgJCRUZXN0YWJpbGl0eVByb3ZpZGVyLFxuICAkVGltZW91dFByb3ZpZGVyLFxuICAkJFJBRlByb3ZpZGVyLFxuICAkJEFzeW5jQ2FsbGJhY2tQcm92aWRlcixcbiAgJFdpbmRvd1Byb3ZpZGVyXG4qL1xuXG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgYW5ndWxhci52ZXJzaW9uXG4gKiBAbW9kdWxlIG5nXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjdXJyZW50IEFuZ3VsYXJKUyB2ZXJzaW9uLiBUaGlzIG9iamVjdCBoYXMgdGhlXG4gKiBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiAtIGBmdWxsYCDigJMgYHtzdHJpbmd9YCDigJMgRnVsbCB2ZXJzaW9uIHN0cmluZywgc3VjaCBhcyBcIjAuOS4xOFwiLlxuICogLSBgbWFqb3JgIOKAkyBge251bWJlcn1gIOKAkyBNYWpvciB2ZXJzaW9uIG51bWJlciwgc3VjaCBhcyBcIjBcIi5cbiAqIC0gYG1pbm9yYCDigJMgYHtudW1iZXJ9YCDigJMgTWlub3IgdmVyc2lvbiBudW1iZXIsIHN1Y2ggYXMgXCI5XCIuXG4gKiAtIGBkb3RgIOKAkyBge251bWJlcn1gIOKAkyBEb3QgdmVyc2lvbiBudW1iZXIsIHN1Y2ggYXMgXCIxOFwiLlxuICogLSBgY29kZU5hbWVgIOKAkyBge3N0cmluZ31gIOKAkyBDb2RlIG5hbWUgb2YgdGhlIHJlbGVhc2UsIHN1Y2ggYXMgXCJqaWdnbGluZy1hcm1mYXRcIi5cbiAqL1xudmFyIHZlcnNpb24gPSB7XG4gIGZ1bGw6ICcxLjMuMScsICAgIC8vIGFsbCBvZiB0aGVzZSBwbGFjZWhvbGRlciBzdHJpbmdzIHdpbGwgYmUgcmVwbGFjZWQgYnkgZ3J1bnQnc1xuICBtYWpvcjogMSwgICAgLy8gcGFja2FnZSB0YXNrXG4gIG1pbm9yOiAzLFxuICBkb3Q6IDEsXG4gIGNvZGVOYW1lOiAnc3BlY3RyYWwtbG9ic3Rlcidcbn07XG5cblxuZnVuY3Rpb24gcHVibGlzaEV4dGVybmFsQVBJKGFuZ3VsYXIpIHtcbiAgZXh0ZW5kKGFuZ3VsYXIsIHtcbiAgICAnYm9vdHN0cmFwJzogYm9vdHN0cmFwLFxuICAgICdjb3B5JzogY29weSxcbiAgICAnZXh0ZW5kJzogZXh0ZW5kLFxuICAgICdlcXVhbHMnOiBlcXVhbHMsXG4gICAgJ2VsZW1lbnQnOiBqcUxpdGUsXG4gICAgJ2ZvckVhY2gnOiBmb3JFYWNoLFxuICAgICdpbmplY3Rvcic6IGNyZWF0ZUluamVjdG9yLFxuICAgICdub29wJzogbm9vcCxcbiAgICAnYmluZCc6IGJpbmQsXG4gICAgJ3RvSnNvbic6IHRvSnNvbixcbiAgICAnZnJvbUpzb24nOiBmcm9tSnNvbixcbiAgICAnaWRlbnRpdHknOiBpZGVudGl0eSxcbiAgICAnaXNVbmRlZmluZWQnOiBpc1VuZGVmaW5lZCxcbiAgICAnaXNEZWZpbmVkJzogaXNEZWZpbmVkLFxuICAgICdpc1N0cmluZyc6IGlzU3RyaW5nLFxuICAgICdpc0Z1bmN0aW9uJzogaXNGdW5jdGlvbixcbiAgICAnaXNPYmplY3QnOiBpc09iamVjdCxcbiAgICAnaXNOdW1iZXInOiBpc051bWJlcixcbiAgICAnaXNFbGVtZW50JzogaXNFbGVtZW50LFxuICAgICdpc0FycmF5JzogaXNBcnJheSxcbiAgICAndmVyc2lvbic6IHZlcnNpb24sXG4gICAgJ2lzRGF0ZSc6IGlzRGF0ZSxcbiAgICAnbG93ZXJjYXNlJzogbG93ZXJjYXNlLFxuICAgICd1cHBlcmNhc2UnOiB1cHBlcmNhc2UsXG4gICAgJ2NhbGxiYWNrcyc6IHtjb3VudGVyOiAwfSxcbiAgICAnZ2V0VGVzdGFiaWxpdHknOiBnZXRUZXN0YWJpbGl0eSxcbiAgICAnJCRtaW5FcnInOiBtaW5FcnIsXG4gICAgJyQkY3NwJzogY3NwLFxuICAgICdyZWxvYWRXaXRoRGVidWdJbmZvJzogcmVsb2FkV2l0aERlYnVnSW5mb1xuICB9KTtcblxuICBhbmd1bGFyTW9kdWxlID0gc2V0dXBNb2R1bGVMb2FkZXIod2luZG93KTtcbiAgdHJ5IHtcbiAgICBhbmd1bGFyTW9kdWxlKCduZ0xvY2FsZScpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgYW5ndWxhck1vZHVsZSgnbmdMb2NhbGUnLCBbXSkucHJvdmlkZXIoJyRsb2NhbGUnLCAkTG9jYWxlUHJvdmlkZXIpO1xuICB9XG5cbiAgYW5ndWxhck1vZHVsZSgnbmcnLCBbJ25nTG9jYWxlJ10sIFsnJHByb3ZpZGUnLFxuICAgIGZ1bmN0aW9uIG5nTW9kdWxlKCRwcm92aWRlKSB7XG4gICAgICAvLyAkJHNhbml0aXplVXJpUHJvdmlkZXIgbmVlZHMgdG8gYmUgYmVmb3JlICRjb21waWxlUHJvdmlkZXIgYXMgaXQgaXMgdXNlZCBieSBpdC5cbiAgICAgICRwcm92aWRlLnByb3ZpZGVyKHtcbiAgICAgICAgJCRzYW5pdGl6ZVVyaTogJCRTYW5pdGl6ZVVyaVByb3ZpZGVyXG4gICAgICB9KTtcbiAgICAgICRwcm92aWRlLnByb3ZpZGVyKCckY29tcGlsZScsICRDb21waWxlUHJvdmlkZXIpLlxuICAgICAgICBkaXJlY3RpdmUoe1xuICAgICAgICAgICAgYTogaHRtbEFuY2hvckRpcmVjdGl2ZSxcbiAgICAgICAgICAgIGlucHV0OiBpbnB1dERpcmVjdGl2ZSxcbiAgICAgICAgICAgIHRleHRhcmVhOiBpbnB1dERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGZvcm06IGZvcm1EaXJlY3RpdmUsXG4gICAgICAgICAgICBzY3JpcHQ6IHNjcmlwdERpcmVjdGl2ZSxcbiAgICAgICAgICAgIHNlbGVjdDogc2VsZWN0RGlyZWN0aXZlLFxuICAgICAgICAgICAgc3R5bGU6IHN0eWxlRGlyZWN0aXZlLFxuICAgICAgICAgICAgb3B0aW9uOiBvcHRpb25EaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0JpbmQ6IG5nQmluZERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nQmluZEh0bWw6IG5nQmluZEh0bWxEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0JpbmRUZW1wbGF0ZTogbmdCaW5kVGVtcGxhdGVEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0NsYXNzOiBuZ0NsYXNzRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdDbGFzc0V2ZW46IG5nQ2xhc3NFdmVuRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdDbGFzc09kZDogbmdDbGFzc09kZERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nQ2xvYWs6IG5nQ2xvYWtEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0NvbnRyb2xsZXI6IG5nQ29udHJvbGxlckRpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nRm9ybTogbmdGb3JtRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdIaWRlOiBuZ0hpZGVEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0lmOiBuZ0lmRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdJbmNsdWRlOiBuZ0luY2x1ZGVEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0luaXQ6IG5nSW5pdERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nTm9uQmluZGFibGU6IG5nTm9uQmluZGFibGVEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1BsdXJhbGl6ZTogbmdQbHVyYWxpemVEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1JlcGVhdDogbmdSZXBlYXREaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1Nob3c6IG5nU2hvd0RpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nU3R5bGU6IG5nU3R5bGVEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1N3aXRjaDogbmdTd2l0Y2hEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1N3aXRjaFdoZW46IG5nU3dpdGNoV2hlbkRpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nU3dpdGNoRGVmYXVsdDogbmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdPcHRpb25zOiBuZ09wdGlvbnNEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1RyYW5zY2x1ZGU6IG5nVHJhbnNjbHVkZURpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nTW9kZWw6IG5nTW9kZWxEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0xpc3Q6IG5nTGlzdERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nQ2hhbmdlOiBuZ0NoYW5nZURpcmVjdGl2ZSxcbiAgICAgICAgICAgIHBhdHRlcm46IHBhdHRlcm5EaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1BhdHRlcm46IHBhdHRlcm5EaXJlY3RpdmUsXG4gICAgICAgICAgICByZXF1aXJlZDogcmVxdWlyZWREaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ1JlcXVpcmVkOiByZXF1aXJlZERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG1pbmxlbmd0aDogbWlubGVuZ3RoRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdNaW5sZW5ndGg6IG1pbmxlbmd0aERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG1heGxlbmd0aDogbWF4bGVuZ3RoRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdNYXhsZW5ndGg6IG1heGxlbmd0aERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nVmFsdWU6IG5nVmFsdWVEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ01vZGVsT3B0aW9uczogbmdNb2RlbE9wdGlvbnNEaXJlY3RpdmVcbiAgICAgICAgfSkuXG4gICAgICAgIGRpcmVjdGl2ZSh7XG4gICAgICAgICAgbmdJbmNsdWRlOiBuZ0luY2x1ZGVGaWxsQ29udGVudERpcmVjdGl2ZVxuICAgICAgICB9KS5cbiAgICAgICAgZGlyZWN0aXZlKG5nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzKS5cbiAgICAgICAgZGlyZWN0aXZlKG5nRXZlbnREaXJlY3RpdmVzKTtcbiAgICAgICRwcm92aWRlLnByb3ZpZGVyKHtcbiAgICAgICAgJGFuY2hvclNjcm9sbDogJEFuY2hvclNjcm9sbFByb3ZpZGVyLFxuICAgICAgICAkYW5pbWF0ZTogJEFuaW1hdGVQcm92aWRlcixcbiAgICAgICAgJGJyb3dzZXI6ICRCcm93c2VyUHJvdmlkZXIsXG4gICAgICAgICRjYWNoZUZhY3Rvcnk6ICRDYWNoZUZhY3RvcnlQcm92aWRlcixcbiAgICAgICAgJGNvbnRyb2xsZXI6ICRDb250cm9sbGVyUHJvdmlkZXIsXG4gICAgICAgICRkb2N1bWVudDogJERvY3VtZW50UHJvdmlkZXIsXG4gICAgICAgICRleGNlcHRpb25IYW5kbGVyOiAkRXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyLFxuICAgICAgICAkZmlsdGVyOiAkRmlsdGVyUHJvdmlkZXIsXG4gICAgICAgICRpbnRlcnBvbGF0ZTogJEludGVycG9sYXRlUHJvdmlkZXIsXG4gICAgICAgICRpbnRlcnZhbDogJEludGVydmFsUHJvdmlkZXIsXG4gICAgICAgICRodHRwOiAkSHR0cFByb3ZpZGVyLFxuICAgICAgICAkaHR0cEJhY2tlbmQ6ICRIdHRwQmFja2VuZFByb3ZpZGVyLFxuICAgICAgICAkbG9jYXRpb246ICRMb2NhdGlvblByb3ZpZGVyLFxuICAgICAgICAkbG9nOiAkTG9nUHJvdmlkZXIsXG4gICAgICAgICRwYXJzZTogJFBhcnNlUHJvdmlkZXIsXG4gICAgICAgICRyb290U2NvcGU6ICRSb290U2NvcGVQcm92aWRlcixcbiAgICAgICAgJHE6ICRRUHJvdmlkZXIsXG4gICAgICAgICQkcTogJCRRUHJvdmlkZXIsXG4gICAgICAgICRzY2U6ICRTY2VQcm92aWRlcixcbiAgICAgICAgJHNjZURlbGVnYXRlOiAkU2NlRGVsZWdhdGVQcm92aWRlcixcbiAgICAgICAgJHNuaWZmZXI6ICRTbmlmZmVyUHJvdmlkZXIsXG4gICAgICAgICR0ZW1wbGF0ZUNhY2hlOiAkVGVtcGxhdGVDYWNoZVByb3ZpZGVyLFxuICAgICAgICAkdGVtcGxhdGVSZXF1ZXN0OiAkVGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIsXG4gICAgICAgICQkdGVzdGFiaWxpdHk6ICQkVGVzdGFiaWxpdHlQcm92aWRlcixcbiAgICAgICAgJHRpbWVvdXQ6ICRUaW1lb3V0UHJvdmlkZXIsXG4gICAgICAgICR3aW5kb3c6ICRXaW5kb3dQcm92aWRlcixcbiAgICAgICAgJCRyQUY6ICQkUkFGUHJvdmlkZXIsXG4gICAgICAgICQkYXN5bmNDYWxsYmFjazogJCRBc3luY0NhbGxiYWNrUHJvdmlkZXJcbiAgICAgIH0pO1xuICAgIH1cbiAgXSk7XG59XG5cbi8qIGdsb2JhbCBKUUxpdGVQcm90b3R5cGU6IHRydWUsXG4gIGFkZEV2ZW50TGlzdGVuZXJGbjogdHJ1ZSxcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lckZuOiB0cnVlLFxuICBCT09MRUFOX0FUVFI6IHRydWUsXG4gIEFMSUFTRURfQVRUUjogdHJ1ZSxcbiovXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vSlFMaXRlXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmVsZW1lbnRcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBXcmFwcyBhIHJhdyBET00gZWxlbWVudCBvciBIVE1MIHN0cmluZyBhcyBhIFtqUXVlcnldKGh0dHA6Ly9qcXVlcnkuY29tKSBlbGVtZW50LlxuICpcbiAqIElmIGpRdWVyeSBpcyBhdmFpbGFibGUsIGBhbmd1bGFyLmVsZW1lbnRgIGlzIGFuIGFsaWFzIGZvciB0aGVcbiAqIFtqUXVlcnldKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9qUXVlcnkvKSBmdW5jdGlvbi4gSWYgalF1ZXJ5IGlzIG5vdCBhdmFpbGFibGUsIGBhbmd1bGFyLmVsZW1lbnRgXG4gKiBkZWxlZ2F0ZXMgdG8gQW5ndWxhcidzIGJ1aWx0LWluIHN1YnNldCBvZiBqUXVlcnksIGNhbGxlZCBcImpRdWVyeSBsaXRlXCIgb3IgXCJqcUxpdGUuXCJcbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtc3VjY2Vzc1wiPmpxTGl0ZSBpcyBhIHRpbnksIEFQSS1jb21wYXRpYmxlIHN1YnNldCBvZiBqUXVlcnkgdGhhdCBhbGxvd3NcbiAqIEFuZ3VsYXIgdG8gbWFuaXB1bGF0ZSB0aGUgRE9NIGluIGEgY3Jvc3MtYnJvd3NlciBjb21wYXRpYmxlIHdheS4gKipqcUxpdGUqKiBpbXBsZW1lbnRzIG9ubHkgdGhlIG1vc3RcbiAqIGNvbW1vbmx5IG5lZWRlZCBmdW5jdGlvbmFsaXR5IHdpdGggdGhlIGdvYWwgb2YgaGF2aW5nIGEgdmVyeSBzbWFsbCBmb290cHJpbnQuPC9kaXY+XG4gKlxuICogVG8gdXNlIGpRdWVyeSwgc2ltcGx5IGxvYWQgaXQgYmVmb3JlIGBET01Db250ZW50TG9hZGVkYCBldmVudCBmaXJlZC5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnRcIj4qKk5vdGU6KiogYWxsIGVsZW1lbnQgcmVmZXJlbmNlcyBpbiBBbmd1bGFyIGFyZSBhbHdheXMgd3JhcHBlZCB3aXRoIGpRdWVyeSBvclxuICoganFMaXRlOyB0aGV5IGFyZSBuZXZlciByYXcgRE9NIHJlZmVyZW5jZXMuPC9kaXY+XG4gKlxuICogIyMgQW5ndWxhcidzIGpxTGl0ZVxuICoganFMaXRlIHByb3ZpZGVzIG9ubHkgdGhlIGZvbGxvd2luZyBqUXVlcnkgbWV0aG9kczpcbiAqXG4gKiAtIFtgYWRkQ2xhc3MoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9hZGRDbGFzcy8pXG4gKiAtIFtgYWZ0ZXIoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9hZnRlci8pXG4gKiAtIFtgYXBwZW5kKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vYXBwZW5kLylcbiAqIC0gW2BhdHRyKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vYXR0ci8pIC0gRG9lcyBub3Qgc3VwcG9ydCBmdW5jdGlvbnMgYXMgcGFyYW1ldGVyc1xuICogLSBbYGJpbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9iaW5kLykgLSBEb2VzIG5vdCBzdXBwb3J0IG5hbWVzcGFjZXMsIHNlbGVjdG9ycyBvciBldmVudERhdGFcbiAqIC0gW2BjaGlsZHJlbigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2NoaWxkcmVuLykgLSBEb2VzIG5vdCBzdXBwb3J0IHNlbGVjdG9yc1xuICogLSBbYGNsb25lKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vY2xvbmUvKVxuICogLSBbYGNvbnRlbnRzKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vY29udGVudHMvKVxuICogLSBbYGNzcygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2Nzcy8pIC0gT25seSByZXRyaWV2ZXMgaW5saW5lLXN0eWxlcywgZG9lcyBub3QgY2FsbCBgZ2V0Q29tcHV0ZWRTdHlsZSgpYFxuICogLSBbYGRhdGEoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9kYXRhLylcbiAqIC0gW2BkZXRhY2goKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9kZXRhY2gvKVxuICogLSBbYGVtcHR5KClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vZW1wdHkvKVxuICogLSBbYGVxKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vZXEvKVxuICogLSBbYGZpbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9maW5kLykgLSBMaW1pdGVkIHRvIGxvb2t1cHMgYnkgdGFnIG5hbWVcbiAqIC0gW2BoYXNDbGFzcygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2hhc0NsYXNzLylcbiAqIC0gW2BodG1sKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vaHRtbC8pXG4gKiAtIFtgbmV4dCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL25leHQvKSAtIERvZXMgbm90IHN1cHBvcnQgc2VsZWN0b3JzXG4gKiAtIFtgb24oKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9vbi8pIC0gRG9lcyBub3Qgc3VwcG9ydCBuYW1lc3BhY2VzLCBzZWxlY3RvcnMgb3IgZXZlbnREYXRhXG4gKiAtIFtgb2ZmKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vb2ZmLykgLSBEb2VzIG5vdCBzdXBwb3J0IG5hbWVzcGFjZXMgb3Igc2VsZWN0b3JzXG4gKiAtIFtgb25lKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vb25lLykgLSBEb2VzIG5vdCBzdXBwb3J0IG5hbWVzcGFjZXMgb3Igc2VsZWN0b3JzXG4gKiAtIFtgcGFyZW50KClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcGFyZW50LykgLSBEb2VzIG5vdCBzdXBwb3J0IHNlbGVjdG9yc1xuICogLSBbYHByZXBlbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9wcmVwZW5kLylcbiAqIC0gW2Bwcm9wKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcHJvcC8pXG4gKiAtIFtgcmVhZHkoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9yZWFkeS8pXG4gKiAtIFtgcmVtb3ZlKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcmVtb3ZlLylcbiAqIC0gW2ByZW1vdmVBdHRyKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcmVtb3ZlQXR0ci8pXG4gKiAtIFtgcmVtb3ZlQ2xhc3MoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9yZW1vdmVDbGFzcy8pXG4gKiAtIFtgcmVtb3ZlRGF0YSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlbW92ZURhdGEvKVxuICogLSBbYHJlcGxhY2VXaXRoKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcmVwbGFjZVdpdGgvKVxuICogLSBbYHRleHQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS90ZXh0LylcbiAqIC0gW2B0b2dnbGVDbGFzcygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3RvZ2dsZUNsYXNzLylcbiAqIC0gW2B0cmlnZ2VySGFuZGxlcigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3RyaWdnZXJIYW5kbGVyLykgLSBQYXNzZXMgYSBkdW1teSBldmVudCBvYmplY3QgdG8gaGFuZGxlcnMuXG4gKiAtIFtgdW5iaW5kKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vdW5iaW5kLykgLSBEb2VzIG5vdCBzdXBwb3J0IG5hbWVzcGFjZXNcbiAqIC0gW2B2YWwoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS92YWwvKVxuICogLSBbYHdyYXAoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS93cmFwLylcbiAqXG4gKiAjIyBqUXVlcnkvanFMaXRlIEV4dHJhc1xuICogQW5ndWxhciBhbHNvIHByb3ZpZGVzIHRoZSBmb2xsb3dpbmcgYWRkaXRpb25hbCBtZXRob2RzIGFuZCBldmVudHMgdG8gYm90aCBqUXVlcnkgYW5kIGpxTGl0ZTpcbiAqXG4gKiAjIyMgRXZlbnRzXG4gKiAtIGAkZGVzdHJveWAgLSBBbmd1bGFySlMgaW50ZXJjZXB0cyBhbGwganFMaXRlL2pRdWVyeSdzIERPTSBkZXN0cnVjdGlvbiBhcGlzIGFuZCBmaXJlcyB0aGlzIGV2ZW50XG4gKiAgICBvbiBhbGwgRE9NIG5vZGVzIGJlaW5nIHJlbW92ZWQuICBUaGlzIGNhbiBiZSB1c2VkIHRvIGNsZWFuIHVwIGFueSAzcmQgcGFydHkgYmluZGluZ3MgdG8gdGhlIERPTVxuICogICAgZWxlbWVudCBiZWZvcmUgaXQgaXMgcmVtb3ZlZC5cbiAqXG4gKiAjIyMgTWV0aG9kc1xuICogLSBgY29udHJvbGxlcihuYW1lKWAgLSByZXRyaWV2ZXMgdGhlIGNvbnRyb2xsZXIgb2YgdGhlIGN1cnJlbnQgZWxlbWVudCBvciBpdHMgcGFyZW50LiBCeSBkZWZhdWx0XG4gKiAgIHJldHJpZXZlcyBjb250cm9sbGVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgYG5nQ29udHJvbGxlcmAgZGlyZWN0aXZlLiBJZiBgbmFtZWAgaXMgcHJvdmlkZWQgYXNcbiAqICAgY2FtZWxDYXNlIGRpcmVjdGl2ZSBuYW1lLCB0aGVuIHRoZSBjb250cm9sbGVyIGZvciB0aGlzIGRpcmVjdGl2ZSB3aWxsIGJlIHJldHJpZXZlZCAoZS5nLlxuICogICBgJ25nTW9kZWwnYCkuXG4gKiAtIGBpbmplY3RvcigpYCAtIHJldHJpZXZlcyB0aGUgaW5qZWN0b3Igb2YgdGhlIGN1cnJlbnQgZWxlbWVudCBvciBpdHMgcGFyZW50LlxuICogLSBgc2NvcGUoKWAgLSByZXRyaWV2ZXMgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIHNjb3BlfSBvZiB0aGUgY3VycmVudFxuICogICBlbGVtZW50IG9yIGl0cyBwYXJlbnQuXG4gKiAtIGBpc29sYXRlU2NvcGUoKWAgLSByZXRyaWV2ZXMgYW4gaXNvbGF0ZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBzY29wZX0gaWYgb25lIGlzIGF0dGFjaGVkIGRpcmVjdGx5IHRvIHRoZVxuICogICBjdXJyZW50IGVsZW1lbnQuIFRoaXMgZ2V0dGVyIHNob3VsZCBiZSB1c2VkIG9ubHkgb24gZWxlbWVudHMgdGhhdCBjb250YWluIGEgZGlyZWN0aXZlIHdoaWNoIHN0YXJ0cyBhIG5ldyBpc29sYXRlXG4gKiAgIHNjb3BlLiBDYWxsaW5nIGBzY29wZSgpYCBvbiB0aGlzIGVsZW1lbnQgYWx3YXlzIHJldHVybnMgdGhlIG9yaWdpbmFsIG5vbi1pc29sYXRlIHNjb3BlLlxuICogLSBgaW5oZXJpdGVkRGF0YSgpYCAtIHNhbWUgYXMgYGRhdGEoKWAsIGJ1dCB3YWxrcyB1cCB0aGUgRE9NIHVudGlsIGEgdmFsdWUgaXMgZm91bmQgb3IgdGhlIHRvcFxuICogICBwYXJlbnQgZWxlbWVudCBpcyByZWFjaGVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfERPTUVsZW1lbnR9IGVsZW1lbnQgSFRNTCBzdHJpbmcgb3IgRE9NRWxlbWVudCB0byBiZSB3cmFwcGVkIGludG8galF1ZXJ5LlxuICogQHJldHVybnMge09iamVjdH0galF1ZXJ5IG9iamVjdC5cbiAqL1xuXG5KUUxpdGUuZXhwYW5kbyA9ICduZzMzOSc7XG5cbnZhciBqcUNhY2hlID0gSlFMaXRlLmNhY2hlID0ge30sXG4gICAganFJZCA9IDEsXG4gICAgYWRkRXZlbnRMaXN0ZW5lckZuID0gZnVuY3Rpb24oZWxlbWVudCwgdHlwZSwgZm4pIHtcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmbiwgZmFsc2UpO1xuICAgIH0sXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lckZuID0gZnVuY3Rpb24oZWxlbWVudCwgdHlwZSwgZm4pIHtcbiAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBmbiwgZmFsc2UpO1xuICAgIH07XG5cbi8qXG4gKiAhISEgVGhpcyBpcyBhbiB1bmRvY3VtZW50ZWQgXCJwcml2YXRlXCIgZnVuY3Rpb24gISEhXG4gKi9cbkpRTGl0ZS5fZGF0YSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgLy9qUXVlcnkgYWx3YXlzIHJldHVybnMgYW4gb2JqZWN0IG9uIGNhY2hlIG1pc3NcbiAgcmV0dXJuIHRoaXMuY2FjaGVbbm9kZVt0aGlzLmV4cGFuZG9dXSB8fCB7fTtcbn07XG5cbmZ1bmN0aW9uIGpxTmV4dElkKCkgeyByZXR1cm4gKytqcUlkOyB9XG5cblxudmFyIFNQRUNJQUxfQ0hBUlNfUkVHRVhQID0gLyhbXFw6XFwtXFxfXSsoLikpL2c7XG52YXIgTU9aX0hBQ0tfUkVHRVhQID0gL15tb3ooW0EtWl0pLztcbnZhciBNT1VTRV9FVkVOVF9NQVA9IHsgbW91c2VsZWF2ZTogXCJtb3VzZW91dFwiLCBtb3VzZWVudGVyOiBcIm1vdXNlb3ZlclwifTtcbnZhciBqcUxpdGVNaW5FcnIgPSBtaW5FcnIoJ2pxTGl0ZScpO1xuXG4vKipcbiAqIENvbnZlcnRzIHNuYWtlX2Nhc2UgdG8gY2FtZWxDYXNlLlxuICogQWxzbyB0aGVyZSBpcyBzcGVjaWFsIGNhc2UgZm9yIE1veiBwcmVmaXggc3RhcnRpbmcgd2l0aCB1cHBlciBjYXNlIGxldHRlci5cbiAqIEBwYXJhbSBuYW1lIE5hbWUgdG8gbm9ybWFsaXplXG4gKi9cbmZ1bmN0aW9uIGNhbWVsQ2FzZShuYW1lKSB7XG4gIHJldHVybiBuYW1lLlxuICAgIHJlcGxhY2UoU1BFQ0lBTF9DSEFSU19SRUdFWFAsIGZ1bmN0aW9uKF8sIHNlcGFyYXRvciwgbGV0dGVyLCBvZmZzZXQpIHtcbiAgICAgIHJldHVybiBvZmZzZXQgPyBsZXR0ZXIudG9VcHBlckNhc2UoKSA6IGxldHRlcjtcbiAgICB9KS5cbiAgICByZXBsYWNlKE1PWl9IQUNLX1JFR0VYUCwgJ01veiQxJyk7XG59XG5cbnZhciBTSU5HTEVfVEFHX1JFR0VYUCA9IC9ePChcXHcrKVxccypcXC8/Pig/OjxcXC9cXDE+fCkkLztcbnZhciBIVE1MX1JFR0VYUCA9IC88fCYjP1xcdys7LztcbnZhciBUQUdfTkFNRV9SRUdFWFAgPSAvPChbXFx3Ol0rKS87XG52YXIgWEhUTUxfVEFHX1JFR0VYUCA9IC88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcXHc6XSspW14+XSopXFwvPi9naTtcblxudmFyIHdyYXBNYXAgPSB7XG4gICdvcHRpb24nOiBbMSwgJzxzZWxlY3QgbXVsdGlwbGU9XCJtdWx0aXBsZVwiPicsICc8L3NlbGVjdD4nXSxcblxuICAndGhlYWQnOiBbMSwgJzx0YWJsZT4nLCAnPC90YWJsZT4nXSxcbiAgJ2NvbCc6IFsyLCAnPHRhYmxlPjxjb2xncm91cD4nLCAnPC9jb2xncm91cD48L3RhYmxlPiddLFxuICAndHInOiBbMiwgJzx0YWJsZT48dGJvZHk+JywgJzwvdGJvZHk+PC90YWJsZT4nXSxcbiAgJ3RkJzogWzMsICc8dGFibGU+PHRib2R5Pjx0cj4nLCAnPC90cj48L3Rib2R5PjwvdGFibGU+J10sXG4gICdfZGVmYXVsdCc6IFswLCBcIlwiLCBcIlwiXVxufTtcblxud3JhcE1hcC5vcHRncm91cCA9IHdyYXBNYXAub3B0aW9uO1xud3JhcE1hcC50Ym9keSA9IHdyYXBNYXAudGZvb3QgPSB3cmFwTWFwLmNvbGdyb3VwID0gd3JhcE1hcC5jYXB0aW9uID0gd3JhcE1hcC50aGVhZDtcbndyYXBNYXAudGggPSB3cmFwTWFwLnRkO1xuXG5cbmZ1bmN0aW9uIGpxTGl0ZUlzVGV4dE5vZGUoaHRtbCkge1xuICByZXR1cm4gIUhUTUxfUkVHRVhQLnRlc3QoaHRtbCk7XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZUFjY2VwdHNEYXRhKG5vZGUpIHtcbiAgLy8gVGhlIHdpbmRvdyBvYmplY3QgY2FuIGFjY2VwdCBkYXRhIGJ1dCBoYXMgbm8gbm9kZVR5cGVcbiAgLy8gT3RoZXJ3aXNlIHdlIGFyZSBvbmx5IGludGVyZXN0ZWQgaW4gZWxlbWVudHMgKDEpIGFuZCBkb2N1bWVudHMgKDkpXG4gIHZhciBub2RlVHlwZSA9IG5vZGUubm9kZVR5cGU7XG4gIHJldHVybiBub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0VMRU1FTlQgfHwgIW5vZGVUeXBlIHx8IG5vZGVUeXBlID09PSBOT0RFX1RZUEVfRE9DVU1FTlQ7XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZUJ1aWxkRnJhZ21lbnQoaHRtbCwgY29udGV4dCkge1xuICB2YXIgdG1wLCB0YWcsIHdyYXAsXG4gICAgICBmcmFnbWVudCA9IGNvbnRleHQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuICAgICAgbm9kZXMgPSBbXSwgaTtcblxuICBpZiAoanFMaXRlSXNUZXh0Tm9kZShodG1sKSkge1xuICAgIC8vIENvbnZlcnQgbm9uLWh0bWwgaW50byBhIHRleHQgbm9kZVxuICAgIG5vZGVzLnB1c2goY29udGV4dC5jcmVhdGVUZXh0Tm9kZShodG1sKSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQ29udmVydCBodG1sIGludG8gRE9NIG5vZGVzXG4gICAgdG1wID0gdG1wIHx8IGZyYWdtZW50LmFwcGVuZENoaWxkKGNvbnRleHQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7XG4gICAgdGFnID0gKFRBR19OQU1FX1JFR0VYUC5leGVjKGh0bWwpIHx8IFtcIlwiLCBcIlwiXSlbMV0udG9Mb3dlckNhc2UoKTtcbiAgICB3cmFwID0gd3JhcE1hcFt0YWddIHx8IHdyYXBNYXAuX2RlZmF1bHQ7XG4gICAgdG1wLmlubmVySFRNTCA9IHdyYXBbMV0gKyBodG1sLnJlcGxhY2UoWEhUTUxfVEFHX1JFR0VYUCwgXCI8JDE+PC8kMj5cIikgKyB3cmFwWzJdO1xuXG4gICAgLy8gRGVzY2VuZCB0aHJvdWdoIHdyYXBwZXJzIHRvIHRoZSByaWdodCBjb250ZW50XG4gICAgaSA9IHdyYXBbMF07XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgdG1wID0gdG1wLmxhc3RDaGlsZDtcbiAgICB9XG5cbiAgICBub2RlcyA9IGNvbmNhdChub2RlcywgdG1wLmNoaWxkTm9kZXMpO1xuXG4gICAgdG1wID0gZnJhZ21lbnQuZmlyc3RDaGlsZDtcbiAgICB0bXAudGV4dENvbnRlbnQgPSBcIlwiO1xuICB9XG5cbiAgLy8gUmVtb3ZlIHdyYXBwZXIgZnJvbSBmcmFnbWVudFxuICBmcmFnbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIGZyYWdtZW50LmlubmVySFRNTCA9IFwiXCI7IC8vIENsZWFyIGlubmVyIEhUTUxcbiAgZm9yRWFjaChub2RlcywgZnVuY3Rpb24obm9kZSkge1xuICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKG5vZGUpO1xuICB9KTtcblxuICByZXR1cm4gZnJhZ21lbnQ7XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZVBhcnNlSFRNTChodG1sLCBjb250ZXh0KSB7XG4gIGNvbnRleHQgPSBjb250ZXh0IHx8IGRvY3VtZW50O1xuICB2YXIgcGFyc2VkO1xuXG4gIGlmICgocGFyc2VkID0gU0lOR0xFX1RBR19SRUdFWFAuZXhlYyhodG1sKSkpIHtcbiAgICByZXR1cm4gW2NvbnRleHQuY3JlYXRlRWxlbWVudChwYXJzZWRbMV0pXTtcbiAgfVxuXG4gIGlmICgocGFyc2VkID0ganFMaXRlQnVpbGRGcmFnbWVudChodG1sLCBjb250ZXh0KSkpIHtcbiAgICByZXR1cm4gcGFyc2VkLmNoaWxkTm9kZXM7XG4gIH1cblxuICByZXR1cm4gW107XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZnVuY3Rpb24gSlFMaXRlKGVsZW1lbnQpIHtcbiAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBKUUxpdGUpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIHZhciBhcmdJc1N0cmluZztcblxuICBpZiAoaXNTdHJpbmcoZWxlbWVudCkpIHtcbiAgICBlbGVtZW50ID0gdHJpbShlbGVtZW50KTtcbiAgICBhcmdJc1N0cmluZyA9IHRydWU7XG4gIH1cbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEpRTGl0ZSkpIHtcbiAgICBpZiAoYXJnSXNTdHJpbmcgJiYgZWxlbWVudC5jaGFyQXQoMCkgIT0gJzwnKSB7XG4gICAgICB0aHJvdyBqcUxpdGVNaW5FcnIoJ25vc2VsJywgJ0xvb2tpbmcgdXAgZWxlbWVudHMgdmlhIHNlbGVjdG9ycyBpcyBub3Qgc3VwcG9ydGVkIGJ5IGpxTGl0ZSEgU2VlOiBodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9hbmd1bGFyLmVsZW1lbnQnKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBKUUxpdGUoZWxlbWVudCk7XG4gIH1cblxuICBpZiAoYXJnSXNTdHJpbmcpIHtcbiAgICBqcUxpdGVBZGROb2Rlcyh0aGlzLCBqcUxpdGVQYXJzZUhUTUwoZWxlbWVudCkpO1xuICB9IGVsc2Uge1xuICAgIGpxTGl0ZUFkZE5vZGVzKHRoaXMsIGVsZW1lbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZUNsb25lKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQuY2xvbmVOb2RlKHRydWUpO1xufVxuXG5mdW5jdGlvbiBqcUxpdGVEZWFsb2MoZWxlbWVudCwgb25seURlc2NlbmRhbnRzKSB7XG4gIGlmICghb25seURlc2NlbmRhbnRzKSBqcUxpdGVSZW1vdmVEYXRhKGVsZW1lbnQpO1xuXG4gIGlmIChlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwpIHtcbiAgICB2YXIgZGVzY2VuZGFudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyonKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGRlc2NlbmRhbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAganFMaXRlUmVtb3ZlRGF0YShkZXNjZW5kYW50c1tpXSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZU9mZihlbGVtZW50LCB0eXBlLCBmbiwgdW5zdXBwb3J0ZWQpIHtcbiAgaWYgKGlzRGVmaW5lZCh1bnN1cHBvcnRlZCkpIHRocm93IGpxTGl0ZU1pbkVycignb2ZmYXJncycsICdqcUxpdGUjb2ZmKCkgZG9lcyBub3Qgc3VwcG9ydCB0aGUgYHNlbGVjdG9yYCBhcmd1bWVudCcpO1xuXG4gIHZhciBleHBhbmRvU3RvcmUgPSBqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCk7XG4gIHZhciBldmVudHMgPSBleHBhbmRvU3RvcmUgJiYgZXhwYW5kb1N0b3JlLmV2ZW50cztcbiAgdmFyIGhhbmRsZSA9IGV4cGFuZG9TdG9yZSAmJiBleHBhbmRvU3RvcmUuaGFuZGxlO1xuXG4gIGlmICghaGFuZGxlKSByZXR1cm47IC8vbm8gbGlzdGVuZXJzIHJlZ2lzdGVyZWRcblxuICBpZiAoIXR5cGUpIHtcbiAgICBmb3IgKHR5cGUgaW4gZXZlbnRzKSB7XG4gICAgICBpZiAodHlwZSAhPT0gJyRkZXN0cm95Jykge1xuICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyRm4oZWxlbWVudCwgdHlwZSwgaGFuZGxlKTtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvckVhY2godHlwZS5zcGxpdCgnICcpLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICBpZiAoaXNEZWZpbmVkKGZuKSkge1xuICAgICAgICB2YXIgbGlzdGVuZXJGbnMgPSBldmVudHNbdHlwZV07XG4gICAgICAgIGFycmF5UmVtb3ZlKGxpc3RlbmVyRm5zIHx8IFtdLCBmbik7XG4gICAgICAgIGlmIChsaXN0ZW5lckZucyAmJiBsaXN0ZW5lckZucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJGbihlbGVtZW50LCB0eXBlLCBoYW5kbGUpO1xuICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBqcUxpdGVSZW1vdmVEYXRhKGVsZW1lbnQsIG5hbWUpIHtcbiAgdmFyIGV4cGFuZG9JZCA9IGVsZW1lbnQubmczMzk7XG4gIHZhciBleHBhbmRvU3RvcmUgPSBleHBhbmRvSWQgJiYganFDYWNoZVtleHBhbmRvSWRdO1xuXG4gIGlmIChleHBhbmRvU3RvcmUpIHtcbiAgICBpZiAobmFtZSkge1xuICAgICAgZGVsZXRlIGV4cGFuZG9TdG9yZS5kYXRhW25hbWVdO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChleHBhbmRvU3RvcmUuaGFuZGxlKSB7XG4gICAgICBpZiAoZXhwYW5kb1N0b3JlLmV2ZW50cy4kZGVzdHJveSkge1xuICAgICAgICBleHBhbmRvU3RvcmUuaGFuZGxlKHt9LCAnJGRlc3Ryb3knKTtcbiAgICAgIH1cbiAgICAgIGpxTGl0ZU9mZihlbGVtZW50KTtcbiAgICB9XG4gICAgZGVsZXRlIGpxQ2FjaGVbZXhwYW5kb0lkXTtcbiAgICBlbGVtZW50Lm5nMzM5ID0gdW5kZWZpbmVkOyAvLyBkb24ndCBkZWxldGUgRE9NIGV4cGFuZG9zLiBJRSBhbmQgQ2hyb21lIGRvbid0IGxpa2UgaXRcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGpxTGl0ZUV4cGFuZG9TdG9yZShlbGVtZW50LCBjcmVhdGVJZk5lY2Vzc2FyeSkge1xuICB2YXIgZXhwYW5kb0lkID0gZWxlbWVudC5uZzMzOSxcbiAgICAgIGV4cGFuZG9TdG9yZSA9IGV4cGFuZG9JZCAmJiBqcUNhY2hlW2V4cGFuZG9JZF07XG5cbiAgaWYgKGNyZWF0ZUlmTmVjZXNzYXJ5ICYmICFleHBhbmRvU3RvcmUpIHtcbiAgICBlbGVtZW50Lm5nMzM5ID0gZXhwYW5kb0lkID0ganFOZXh0SWQoKTtcbiAgICBleHBhbmRvU3RvcmUgPSBqcUNhY2hlW2V4cGFuZG9JZF0gPSB7ZXZlbnRzOiB7fSwgZGF0YToge30sIGhhbmRsZTogdW5kZWZpbmVkfTtcbiAgfVxuXG4gIHJldHVybiBleHBhbmRvU3RvcmU7XG59XG5cblxuZnVuY3Rpb24ganFMaXRlRGF0YShlbGVtZW50LCBrZXksIHZhbHVlKSB7XG4gIGlmIChqcUxpdGVBY2NlcHRzRGF0YShlbGVtZW50KSkge1xuXG4gICAgdmFyIGlzU2ltcGxlU2V0dGVyID0gaXNEZWZpbmVkKHZhbHVlKTtcbiAgICB2YXIgaXNTaW1wbGVHZXR0ZXIgPSAhaXNTaW1wbGVTZXR0ZXIgJiYga2V5ICYmICFpc09iamVjdChrZXkpO1xuICAgIHZhciBtYXNzR2V0dGVyID0gIWtleTtcbiAgICB2YXIgZXhwYW5kb1N0b3JlID0ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsICFpc1NpbXBsZUdldHRlcik7XG4gICAgdmFyIGRhdGEgPSBleHBhbmRvU3RvcmUgJiYgZXhwYW5kb1N0b3JlLmRhdGE7XG5cbiAgICBpZiAoaXNTaW1wbGVTZXR0ZXIpIHsgLy8gZGF0YSgna2V5JywgdmFsdWUpXG4gICAgICBkYXRhW2tleV0gPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG1hc3NHZXR0ZXIpIHsgIC8vIGRhdGEoKVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpc1NpbXBsZUdldHRlcikgeyAvLyBkYXRhKCdrZXknKVxuICAgICAgICAgIC8vIGRvbid0IGZvcmNlIGNyZWF0aW9uIG9mIGV4cGFuZG9TdG9yZSBpZiBpdCBkb2Vzbid0IGV4aXN0IHlldFxuICAgICAgICAgIHJldHVybiBkYXRhICYmIGRhdGFba2V5XTtcbiAgICAgICAgfSBlbHNlIHsgLy8gbWFzcy1zZXR0ZXI6IGRhdGEoe2tleTE6IHZhbDEsIGtleTI6IHZhbDJ9KVxuICAgICAgICAgIGV4dGVuZChkYXRhLCBrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZUhhc0NsYXNzKGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gIGlmICghZWxlbWVudC5nZXRBdHRyaWJ1dGUpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuICgoXCIgXCIgKyAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJycpICsgXCIgXCIpLnJlcGxhY2UoL1tcXG5cXHRdL2csIFwiIFwiKS5cbiAgICAgIGluZGV4T2YoXCIgXCIgKyBzZWxlY3RvciArIFwiIFwiKSA+IC0xKTtcbn1cblxuZnVuY3Rpb24ganFMaXRlUmVtb3ZlQ2xhc3MoZWxlbWVudCwgY3NzQ2xhc3Nlcykge1xuICBpZiAoY3NzQ2xhc3NlcyAmJiBlbGVtZW50LnNldEF0dHJpYnV0ZSkge1xuICAgIGZvckVhY2goY3NzQ2xhc3Nlcy5zcGxpdCgnICcpLCBmdW5jdGlvbihjc3NDbGFzcykge1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgdHJpbShcbiAgICAgICAgICAoXCIgXCIgKyAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJycpICsgXCIgXCIpXG4gICAgICAgICAgLnJlcGxhY2UoL1tcXG5cXHRdL2csIFwiIFwiKVxuICAgICAgICAgIC5yZXBsYWNlKFwiIFwiICsgdHJpbShjc3NDbGFzcykgKyBcIiBcIiwgXCIgXCIpKVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBqcUxpdGVBZGRDbGFzcyhlbGVtZW50LCBjc3NDbGFzc2VzKSB7XG4gIGlmIChjc3NDbGFzc2VzICYmIGVsZW1lbnQuc2V0QXR0cmlidXRlKSB7XG4gICAgdmFyIGV4aXN0aW5nQ2xhc3NlcyA9ICgnICcgKyAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJycpICsgJyAnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9bXFxuXFx0XS9nLCBcIiBcIik7XG5cbiAgICBmb3JFYWNoKGNzc0NsYXNzZXMuc3BsaXQoJyAnKSwgZnVuY3Rpb24oY3NzQ2xhc3MpIHtcbiAgICAgIGNzc0NsYXNzID0gdHJpbShjc3NDbGFzcyk7XG4gICAgICBpZiAoZXhpc3RpbmdDbGFzc2VzLmluZGV4T2YoJyAnICsgY3NzQ2xhc3MgKyAnICcpID09PSAtMSkge1xuICAgICAgICBleGlzdGluZ0NsYXNzZXMgKz0gY3NzQ2xhc3MgKyAnICc7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCB0cmltKGV4aXN0aW5nQ2xhc3NlcykpO1xuICB9XG59XG5cblxuZnVuY3Rpb24ganFMaXRlQWRkTm9kZXMocm9vdCwgZWxlbWVudHMpIHtcbiAgLy8gVEhJUyBDT0RFIElTIFZFUlkgSE9ULiBEb24ndCBtYWtlIGNoYW5nZXMgd2l0aG91dCBiZW5jaG1hcmtpbmcuXG5cbiAgaWYgKGVsZW1lbnRzKSB7XG5cbiAgICAvLyBpZiBhIE5vZGUgKHRoZSBtb3N0IGNvbW1vbiBjYXNlKVxuICAgIGlmIChlbGVtZW50cy5ub2RlVHlwZSkge1xuICAgICAgcm9vdFtyb290Lmxlbmd0aCsrXSA9IGVsZW1lbnRzO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xuXG4gICAgICAvLyBpZiBhbiBBcnJheSBvciBOb2RlTGlzdCBhbmQgbm90IGEgV2luZG93XG4gICAgICBpZiAodHlwZW9mIGxlbmd0aCA9PT0gJ251bWJlcicgJiYgZWxlbWVudHMud2luZG93ICE9PSBlbGVtZW50cykge1xuICAgICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcm9vdFtyb290Lmxlbmd0aCsrXSA9IGVsZW1lbnRzW2ldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm9vdFtyb290Lmxlbmd0aCsrXSA9IGVsZW1lbnRzO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGpxTGl0ZUNvbnRyb2xsZXIoZWxlbWVudCwgbmFtZSkge1xuICByZXR1cm4ganFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LCAnJCcgKyAobmFtZSB8fCAnbmdDb250cm9sbGVyJykgKyAnQ29udHJvbGxlcicpO1xufVxuXG5mdW5jdGlvbiBqcUxpdGVJbmhlcml0ZWREYXRhKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7XG4gIC8vIGlmIGVsZW1lbnQgaXMgdGhlIGRvY3VtZW50IG9iamVjdCB3b3JrIHdpdGggdGhlIGh0bWwgZWxlbWVudCBpbnN0ZWFkXG4gIC8vIHRoaXMgbWFrZXMgJChkb2N1bWVudCkuc2NvcGUoKSBwb3NzaWJsZVxuICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PSBOT0RFX1RZUEVfRE9DVU1FTlQpIHtcbiAgICBlbGVtZW50ID0gZWxlbWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIH1cbiAgdmFyIG5hbWVzID0gaXNBcnJheShuYW1lKSA/IG5hbWUgOiBbbmFtZV07XG5cbiAgd2hpbGUgKGVsZW1lbnQpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBuYW1lcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICBpZiAoKHZhbHVlID0ganFMaXRlLmRhdGEoZWxlbWVudCwgbmFtZXNbaV0pKSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLy8gSWYgZGVhbGluZyB3aXRoIGEgZG9jdW1lbnQgZnJhZ21lbnQgbm9kZSB3aXRoIGEgaG9zdCBlbGVtZW50LCBhbmQgbm8gcGFyZW50LCB1c2UgdGhlIGhvc3RcbiAgICAvLyBlbGVtZW50IGFzIHRoZSBwYXJlbnQuIFRoaXMgZW5hYmxlcyBkaXJlY3RpdmVzIHdpdGhpbiBhIFNoYWRvdyBET00gb3IgcG9seWZpbGxlZCBTaGFkb3cgRE9NXG4gICAgLy8gdG8gbG9va3VwIHBhcmVudCBjb250cm9sbGVycy5cbiAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlIHx8IChlbGVtZW50Lm5vZGVUeXBlID09PSBOT0RFX1RZUEVfRE9DVU1FTlRfRlJBR01FTlQgJiYgZWxlbWVudC5ob3N0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBqcUxpdGVFbXB0eShlbGVtZW50KSB7XG4gIGpxTGl0ZURlYWxvYyhlbGVtZW50LCB0cnVlKTtcbiAgd2hpbGUgKGVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbWVudC5maXJzdENoaWxkKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBqcUxpdGVSZW1vdmUoZWxlbWVudCwga2VlcERhdGEpIHtcbiAgaWYgKCFrZWVwRGF0YSkganFMaXRlRGVhbG9jKGVsZW1lbnQpO1xuICB2YXIgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICBpZiAocGFyZW50KSBwYXJlbnQucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG59XG5cblxuZnVuY3Rpb24ganFMaXRlRG9jdW1lbnRMb2FkZWQoYWN0aW9uLCB3aW4pIHtcbiAgd2luID0gd2luIHx8IHdpbmRvdztcbiAgaWYgKHdpbi5kb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgLy8gRm9yY2UgdGhlIGFjdGlvbiB0byBiZSBydW4gYXN5bmMgZm9yIGNvbnNpc3RlbnQgYmVoYXZpb3VyXG4gICAgLy8gZnJvbSB0aGUgYWN0aW9uJ3MgcG9pbnQgb2Ygdmlld1xuICAgIC8vIGkuZS4gaXQgd2lsbCBkZWZpbml0ZWx5IG5vdCBiZSBpbiBhICRhcHBseVxuICAgIHdpbi5zZXRUaW1lb3V0KGFjdGlvbik7XG4gIH0gZWxzZSB7XG4gICAgLy8gTm8gbmVlZCB0byB1bmJpbmQgdGhpcyBoYW5kbGVyIGFzIGxvYWQgaXMgb25seSBldmVyIGNhbGxlZCBvbmNlXG4gICAganFMaXRlKHdpbikub24oJ2xvYWQnLCBhY3Rpb24pO1xuICB9XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gRnVuY3Rpb25zIHdoaWNoIGFyZSBkZWNsYXJlZCBkaXJlY3RseS5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xudmFyIEpRTGl0ZVByb3RvdHlwZSA9IEpRTGl0ZS5wcm90b3R5cGUgPSB7XG4gIHJlYWR5OiBmdW5jdGlvbihmbikge1xuICAgIHZhciBmaXJlZCA9IGZhbHNlO1xuXG4gICAgZnVuY3Rpb24gdHJpZ2dlcigpIHtcbiAgICAgIGlmIChmaXJlZCkgcmV0dXJuO1xuICAgICAgZmlyZWQgPSB0cnVlO1xuICAgICAgZm4oKTtcbiAgICB9XG5cbiAgICAvLyBjaGVjayBpZiBkb2N1bWVudCBpcyBhbHJlYWR5IGxvYWRlZFxuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgICBzZXRUaW1lb3V0KHRyaWdnZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9uKCdET01Db250ZW50TG9hZGVkJywgdHJpZ2dlcik7IC8vIHdvcmtzIGZvciBtb2Rlcm4gYnJvd3NlcnMgYW5kIElFOVxuICAgICAgLy8gd2UgY2FuIG5vdCB1c2UganFMaXRlIHNpbmNlIHdlIGFyZSBub3QgZG9uZSBsb2FkaW5nIGFuZCBqUXVlcnkgY291bGQgYmUgbG9hZGVkIGxhdGVyLlxuICAgICAgLy8ganNoaW50IC1XMDY0XG4gICAgICBKUUxpdGUod2luZG93KS5vbignbG9hZCcsIHRyaWdnZXIpOyAvLyBmYWxsYmFjayB0byB3aW5kb3cub25sb2FkIGZvciBvdGhlcnNcbiAgICAgIC8vIGpzaGludCArVzA2NFxuICAgIH1cbiAgfSxcbiAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2YWx1ZSA9IFtdO1xuICAgIGZvckVhY2godGhpcywgZnVuY3Rpb24oZSkgeyB2YWx1ZS5wdXNoKCcnICsgZSk7fSk7XG4gICAgcmV0dXJuICdbJyArIHZhbHVlLmpvaW4oJywgJykgKyAnXSc7XG4gIH0sXG5cbiAgZXE6IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICByZXR1cm4gKGluZGV4ID49IDApID8ganFMaXRlKHRoaXNbaW5kZXhdKSA6IGpxTGl0ZSh0aGlzW3RoaXMubGVuZ3RoICsgaW5kZXhdKTtcbiAgfSxcblxuICBsZW5ndGg6IDAsXG4gIHB1c2g6IHB1c2gsXG4gIHNvcnQ6IFtdLnNvcnQsXG4gIHNwbGljZTogW10uc3BsaWNlXG59O1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIEZ1bmN0aW9ucyBpdGVyYXRpbmcgZ2V0dGVyL3NldHRlcnMuXG4vLyB0aGVzZSBmdW5jdGlvbnMgcmV0dXJuIHNlbGYgb24gc2V0dGVyIGFuZFxuLy8gdmFsdWUgb24gZ2V0LlxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG52YXIgQk9PTEVBTl9BVFRSID0ge307XG5mb3JFYWNoKCdtdWx0aXBsZSxzZWxlY3RlZCxjaGVja2VkLGRpc2FibGVkLHJlYWRPbmx5LHJlcXVpcmVkLG9wZW4nLnNwbGl0KCcsJyksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gIEJPT0xFQU5fQVRUUltsb3dlcmNhc2UodmFsdWUpXSA9IHZhbHVlO1xufSk7XG52YXIgQk9PTEVBTl9FTEVNRU5UUyA9IHt9O1xuZm9yRWFjaCgnaW5wdXQsc2VsZWN0LG9wdGlvbix0ZXh0YXJlYSxidXR0b24sZm9ybSxkZXRhaWxzJy5zcGxpdCgnLCcpLCBmdW5jdGlvbih2YWx1ZSkge1xuICBCT09MRUFOX0VMRU1FTlRTW3ZhbHVlXSA9IHRydWU7XG59KTtcbnZhciBBTElBU0VEX0FUVFIgPSB7XG4gICduZ01pbmxlbmd0aCc6ICdtaW5sZW5ndGgnLFxuICAnbmdNYXhsZW5ndGgnOiAnbWF4bGVuZ3RoJyxcbiAgJ25nTWluJzogJ21pbicsXG4gICduZ01heCc6ICdtYXgnLFxuICAnbmdQYXR0ZXJuJzogJ3BhdHRlcm4nXG59O1xuXG5mdW5jdGlvbiBnZXRCb29sZWFuQXR0ck5hbWUoZWxlbWVudCwgbmFtZSkge1xuICAvLyBjaGVjayBkb20gbGFzdCBzaW5jZSB3ZSB3aWxsIG1vc3QgbGlrZWx5IGZhaWwgb24gbmFtZVxuICB2YXIgYm9vbGVhbkF0dHIgPSBCT09MRUFOX0FUVFJbbmFtZS50b0xvd2VyQ2FzZSgpXTtcblxuICAvLyBib29sZWFuQXR0ciBpcyBoZXJlIHR3aWNlIHRvIG1pbmltaXplIERPTSBhY2Nlc3NcbiAgcmV0dXJuIGJvb2xlYW5BdHRyICYmIEJPT0xFQU5fRUxFTUVOVFNbbm9kZU5hbWVfKGVsZW1lbnQpXSAmJiBib29sZWFuQXR0cjtcbn1cblxuZnVuY3Rpb24gZ2V0QWxpYXNlZEF0dHJOYW1lKGVsZW1lbnQsIG5hbWUpIHtcbiAgdmFyIG5vZGVOYW1lID0gZWxlbWVudC5ub2RlTmFtZTtcbiAgcmV0dXJuIChub2RlTmFtZSA9PT0gJ0lOUFVUJyB8fCBub2RlTmFtZSA9PT0gJ1RFWFRBUkVBJykgJiYgQUxJQVNFRF9BVFRSW25hbWVdO1xufVxuXG5mb3JFYWNoKHtcbiAgZGF0YToganFMaXRlRGF0YSxcbiAgcmVtb3ZlRGF0YToganFMaXRlUmVtb3ZlRGF0YVxufSwgZnVuY3Rpb24oZm4sIG5hbWUpIHtcbiAgSlFMaXRlW25hbWVdID0gZm47XG59KTtcblxuZm9yRWFjaCh7XG4gIGRhdGE6IGpxTGl0ZURhdGEsXG4gIGluaGVyaXRlZERhdGE6IGpxTGl0ZUluaGVyaXRlZERhdGEsXG5cbiAgc2NvcGU6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAvLyBDYW4ndCB1c2UganFMaXRlRGF0YSBoZXJlIGRpcmVjdGx5IHNvIHdlIHN0YXkgY29tcGF0aWJsZSB3aXRoIGpRdWVyeSFcbiAgICByZXR1cm4ganFMaXRlLmRhdGEoZWxlbWVudCwgJyRzY29wZScpIHx8IGpxTGl0ZUluaGVyaXRlZERhdGEoZWxlbWVudC5wYXJlbnROb2RlIHx8IGVsZW1lbnQsIFsnJGlzb2xhdGVTY29wZScsICckc2NvcGUnXSk7XG4gIH0sXG5cbiAgaXNvbGF0ZVNjb3BlOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgLy8gQ2FuJ3QgdXNlIGpxTGl0ZURhdGEgaGVyZSBkaXJlY3RseSBzbyB3ZSBzdGF5IGNvbXBhdGlibGUgd2l0aCBqUXVlcnkhXG4gICAgcmV0dXJuIGpxTGl0ZS5kYXRhKGVsZW1lbnQsICckaXNvbGF0ZVNjb3BlJykgfHwganFMaXRlLmRhdGEoZWxlbWVudCwgJyRpc29sYXRlU2NvcGVOb1RlbXBsYXRlJyk7XG4gIH0sXG5cbiAgY29udHJvbGxlcjoganFMaXRlQ29udHJvbGxlcixcblxuICBpbmplY3RvcjogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiBqcUxpdGVJbmhlcml0ZWREYXRhKGVsZW1lbnQsICckaW5qZWN0b3InKTtcbiAgfSxcblxuICByZW1vdmVBdHRyOiBmdW5jdGlvbihlbGVtZW50LCBuYW1lKSB7XG4gICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gIH0sXG5cbiAgaGFzQ2xhc3M6IGpxTGl0ZUhhc0NsYXNzLFxuXG4gIGNzczogZnVuY3Rpb24oZWxlbWVudCwgbmFtZSwgdmFsdWUpIHtcbiAgICBuYW1lID0gY2FtZWxDYXNlKG5hbWUpO1xuXG4gICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgIGVsZW1lbnQuc3R5bGVbbmFtZV0gPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVsZW1lbnQuc3R5bGVbbmFtZV07XG4gICAgfVxuICB9LFxuXG4gIGF0dHI6IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7XG4gICAgdmFyIGxvd2VyY2FzZWROYW1lID0gbG93ZXJjYXNlKG5hbWUpO1xuICAgIGlmIChCT09MRUFOX0FUVFJbbG93ZXJjYXNlZE5hbWVdKSB7XG4gICAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICBpZiAoISF2YWx1ZSkge1xuICAgICAgICAgIGVsZW1lbnRbbmFtZV0gPSB0cnVlO1xuICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIGxvd2VyY2FzZWROYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50W25hbWVdID0gZmFsc2U7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUobG93ZXJjYXNlZE5hbWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKGVsZW1lbnRbbmFtZV0gfHxcbiAgICAgICAgICAgICAgICAgKGVsZW1lbnQuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0obmFtZSl8fCBub29wKS5zcGVjaWZpZWQpXG4gICAgICAgICAgICAgICA/IGxvd2VyY2FzZWROYW1lXG4gICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKSB7XG4gICAgICAvLyB0aGUgZXh0cmEgYXJndW1lbnQgXCIyXCIgaXMgdG8gZ2V0IHRoZSByaWdodCB0aGluZyBmb3IgYS5ocmVmIGluIElFLCBzZWUgalF1ZXJ5IGNvZGVcbiAgICAgIC8vIHNvbWUgZWxlbWVudHMgKGUuZy4gRG9jdW1lbnQpIGRvbid0IGhhdmUgZ2V0IGF0dHJpYnV0ZSwgc28gcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgdmFyIHJldCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKG5hbWUsIDIpO1xuICAgICAgLy8gbm9ybWFsaXplIG5vbi1leGlzdGluZyBhdHRyaWJ1dGVzIHRvIHVuZGVmaW5lZCAoYXMgalF1ZXJ5KVxuICAgICAgcmV0dXJuIHJldCA9PT0gbnVsbCA/IHVuZGVmaW5lZCA6IHJldDtcbiAgICB9XG4gIH0sXG5cbiAgcHJvcDogZnVuY3Rpb24oZWxlbWVudCwgbmFtZSwgdmFsdWUpIHtcbiAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgZWxlbWVudFtuYW1lXSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZWxlbWVudFtuYW1lXTtcbiAgICB9XG4gIH0sXG5cbiAgdGV4dDogKGZ1bmN0aW9uKCkge1xuICAgIGdldFRleHQuJGR2ID0gJyc7XG4gICAgcmV0dXJuIGdldFRleHQ7XG5cbiAgICBmdW5jdGlvbiBnZXRUZXh0KGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgIHZhciBub2RlVHlwZSA9IGVsZW1lbnQubm9kZVR5cGU7XG4gICAgICAgIHJldHVybiAobm9kZVR5cGUgPT09IE5PREVfVFlQRV9FTEVNRU5UIHx8IG5vZGVUeXBlID09PSBOT0RFX1RZUEVfVEVYVCkgPyBlbGVtZW50LnRleHRDb250ZW50IDogJyc7XG4gICAgICB9XG4gICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gdmFsdWU7XG4gICAgfVxuICB9KSgpLFxuXG4gIHZhbDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUpIHtcbiAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgICBpZiAoZWxlbWVudC5tdWx0aXBsZSAmJiBub2RlTmFtZV8oZWxlbWVudCkgPT09ICdzZWxlY3QnKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yRWFjaChlbGVtZW50Lm9wdGlvbnMsIGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICAgIGlmIChvcHRpb24uc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9wdGlvbi52YWx1ZSB8fCBvcHRpb24udGV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5sZW5ndGggPT09IDAgPyBudWxsIDogcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVsZW1lbnQudmFsdWU7XG4gICAgfVxuICAgIGVsZW1lbnQudmFsdWUgPSB2YWx1ZTtcbiAgfSxcblxuICBodG1sOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZSkge1xuICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LmlubmVySFRNTDtcbiAgICB9XG4gICAganFMaXRlRGVhbG9jKGVsZW1lbnQsIHRydWUpO1xuICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gdmFsdWU7XG4gIH0sXG5cbiAgZW1wdHk6IGpxTGl0ZUVtcHR5XG59LCBmdW5jdGlvbihmbiwgbmFtZSkge1xuICAvKipcbiAgICogUHJvcGVydGllczogd3JpdGVzIHJldHVybiBzZWxlY3Rpb24sIHJlYWRzIHJldHVybiBmaXJzdCB2YWx1ZVxuICAgKi9cbiAgSlFMaXRlLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKGFyZzEsIGFyZzIpIHtcbiAgICB2YXIgaSwga2V5O1xuICAgIHZhciBub2RlQ291bnQgPSB0aGlzLmxlbmd0aDtcblxuICAgIC8vIGpxTGl0ZUhhc0NsYXNzIGhhcyBvbmx5IHR3byBhcmd1bWVudHMsIGJ1dCBpcyBhIGdldHRlci1vbmx5IGZuLCBzbyB3ZSBuZWVkIHRvIHNwZWNpYWwtY2FzZSBpdFxuICAgIC8vIGluIGEgd2F5IHRoYXQgc3Vydml2ZXMgbWluaWZpY2F0aW9uLlxuICAgIC8vIGpxTGl0ZUVtcHR5IHRha2VzIG5vIGFyZ3VtZW50cyBidXQgaXMgYSBzZXR0ZXIuXG4gICAgaWYgKGZuICE9PSBqcUxpdGVFbXB0eSAmJlxuICAgICAgICAoKChmbi5sZW5ndGggPT0gMiAmJiAoZm4gIT09IGpxTGl0ZUhhc0NsYXNzICYmIGZuICE9PSBqcUxpdGVDb250cm9sbGVyKSkgPyBhcmcxIDogYXJnMikgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgIGlmIChpc09iamVjdChhcmcxKSkge1xuXG4gICAgICAgIC8vIHdlIGFyZSBhIHdyaXRlLCBidXQgdGhlIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSB0aGUga2V5L3ZhbHVlc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZUNvdW50OyBpKyspIHtcbiAgICAgICAgICBpZiAoZm4gPT09IGpxTGl0ZURhdGEpIHtcbiAgICAgICAgICAgIC8vIGRhdGEoKSB0YWtlcyB0aGUgd2hvbGUgb2JqZWN0IGluIGpRdWVyeVxuICAgICAgICAgICAgZm4odGhpc1tpXSwgYXJnMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoa2V5IGluIGFyZzEpIHtcbiAgICAgICAgICAgICAgZm4odGhpc1tpXSwga2V5LCBhcmcxW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyByZXR1cm4gc2VsZiBmb3IgY2hhaW5pbmdcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyB3ZSBhcmUgYSByZWFkLCBzbyByZWFkIHRoZSBmaXJzdCBjaGlsZC5cbiAgICAgICAgLy8gVE9ETzogZG8gd2Ugc3RpbGwgbmVlZCB0aGlzP1xuICAgICAgICB2YXIgdmFsdWUgPSBmbi4kZHY7XG4gICAgICAgIC8vIE9ubHkgaWYgd2UgaGF2ZSAkZHYgZG8gd2UgaXRlcmF0ZSBvdmVyIGFsbCwgb3RoZXJ3aXNlIGl0IGlzIGp1c3QgdGhlIGZpcnN0IGVsZW1lbnQuXG4gICAgICAgIHZhciBqaiA9ICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IE1hdGgubWluKG5vZGVDb3VudCwgMSkgOiBub2RlQ291bnQ7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgamo7IGorKykge1xuICAgICAgICAgIHZhciBub2RlVmFsdWUgPSBmbih0aGlzW2pdLCBhcmcxLCBhcmcyKTtcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlID8gdmFsdWUgKyBub2RlVmFsdWUgOiBub2RlVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyB3ZSBhcmUgYSB3cml0ZSwgc28gYXBwbHkgdG8gYWxsIGNoaWxkcmVuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZUNvdW50OyBpKyspIHtcbiAgICAgICAgZm4odGhpc1tpXSwgYXJnMSwgYXJnMik7XG4gICAgICB9XG4gICAgICAvLyByZXR1cm4gc2VsZiBmb3IgY2hhaW5pbmdcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5mdW5jdGlvbiBjcmVhdGVFdmVudEhhbmRsZXIoZWxlbWVudCwgZXZlbnRzKSB7XG4gIHZhciBldmVudEhhbmRsZXIgPSBmdW5jdGlvbihldmVudCwgdHlwZSkge1xuICAgIC8vIGpRdWVyeSBzcGVjaWZpYyBhcGlcbiAgICBldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBldmVudC5kZWZhdWx0UHJldmVudGVkO1xuICAgIH07XG5cbiAgICB2YXIgZXZlbnRGbnMgPSBldmVudHNbdHlwZSB8fCBldmVudC50eXBlXTtcbiAgICB2YXIgZXZlbnRGbnNMZW5ndGggPSBldmVudEZucyA/IGV2ZW50Rm5zLmxlbmd0aCA6IDA7XG5cbiAgICBpZiAoIWV2ZW50Rm5zTGVuZ3RoKSByZXR1cm47XG5cbiAgICBpZiAoaXNVbmRlZmluZWQoZXZlbnQuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKSkge1xuICAgICAgdmFyIG9yaWdpbmFsU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uO1xuICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGV2ZW50LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9yaWdpbmFsU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgb3JpZ2luYWxTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24uY2FsbChldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBldmVudC5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPT09IHRydWU7XG4gICAgfTtcblxuICAgIC8vIENvcHkgZXZlbnQgaGFuZGxlcnMgaW4gY2FzZSBldmVudCBoYW5kbGVycyBhcnJheSBpcyBtb2RpZmllZCBkdXJpbmcgZXhlY3V0aW9uLlxuICAgIGlmICgoZXZlbnRGbnNMZW5ndGggPiAxKSkge1xuICAgICAgZXZlbnRGbnMgPSBzaGFsbG93Q29weShldmVudEZucyk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudEZuc0xlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIWV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpIHtcbiAgICAgICAgZXZlbnRGbnNbaV0uY2FsbChlbGVtZW50LCBldmVudCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrIGZvciBhbmd1bGFyTW9ja3MvY2xlYXJEYXRhQ2FjaGUgdGhhdCBtYWtlcyBpdCBwb3NzaWJsZSB0byBkZXJlZ2lzdGVyIGFsbFxuICAvLyAgICAgICBldmVudHMgb24gYGVsZW1lbnRgXG4gIGV2ZW50SGFuZGxlci5lbGVtID0gZWxlbWVudDtcbiAgcmV0dXJuIGV2ZW50SGFuZGxlcjtcbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBGdW5jdGlvbnMgaXRlcmF0aW5nIHRyYXZlcnNhbC5cbi8vIFRoZXNlIGZ1bmN0aW9ucyBjaGFpbiByZXN1bHRzIGludG8gYSBzaW5nbGVcbi8vIHNlbGVjdG9yLlxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5mb3JFYWNoKHtcbiAgcmVtb3ZlRGF0YToganFMaXRlUmVtb3ZlRGF0YSxcblxuICBvbjogZnVuY3Rpb24ganFMaXRlT24oZWxlbWVudCwgdHlwZSwgZm4sIHVuc3VwcG9ydGVkKSB7XG4gICAgaWYgKGlzRGVmaW5lZCh1bnN1cHBvcnRlZCkpIHRocm93IGpxTGl0ZU1pbkVycignb25hcmdzJywgJ2pxTGl0ZSNvbigpIGRvZXMgbm90IHN1cHBvcnQgdGhlIGBzZWxlY3RvcmAgb3IgYGV2ZW50RGF0YWAgcGFyYW1ldGVycycpO1xuXG4gICAgLy8gRG8gbm90IGFkZCBldmVudCBoYW5kbGVycyB0byBub24tZWxlbWVudHMgYmVjYXVzZSB0aGV5IHdpbGwgbm90IGJlIGNsZWFuZWQgdXAuXG4gICAgaWYgKCFqcUxpdGVBY2NlcHRzRGF0YShlbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBleHBhbmRvU3RvcmUgPSBqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwgdHJ1ZSk7XG4gICAgdmFyIGV2ZW50cyA9IGV4cGFuZG9TdG9yZS5ldmVudHM7XG4gICAgdmFyIGhhbmRsZSA9IGV4cGFuZG9TdG9yZS5oYW5kbGU7XG5cbiAgICBpZiAoIWhhbmRsZSkge1xuICAgICAgaGFuZGxlID0gZXhwYW5kb1N0b3JlLmhhbmRsZSA9IGNyZWF0ZUV2ZW50SGFuZGxlcihlbGVtZW50LCBldmVudHMpO1xuICAgIH1cblxuICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL3N0cmluZy1pbmRleG9mLXZzLXNwbGl0XG4gICAgdmFyIHR5cGVzID0gdHlwZS5pbmRleE9mKCcgJykgPj0gMCA/IHR5cGUuc3BsaXQoJyAnKSA6IFt0eXBlXTtcbiAgICB2YXIgaSA9IHR5cGVzLmxlbmd0aDtcblxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIHR5cGUgPSB0eXBlc1tpXTtcbiAgICAgIHZhciBldmVudEZucyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKCFldmVudEZucykge1xuICAgICAgICBldmVudHNbdHlwZV0gPSBbXTtcblxuICAgICAgICBpZiAodHlwZSA9PT0gJ21vdXNlZW50ZXInIHx8IHR5cGUgPT09ICdtb3VzZWxlYXZlJykge1xuICAgICAgICAgIC8vIFJlZmVyIHRvIGpRdWVyeSdzIGltcGxlbWVudGF0aW9uIG9mIG1vdXNlZW50ZXIgJiBtb3VzZWxlYXZlXG4gICAgICAgICAgLy8gUmVhZCBhYm91dCBtb3VzZWVudGVyIGFuZCBtb3VzZWxlYXZlOlxuICAgICAgICAgIC8vIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvanMvZXZlbnRzX21vdXNlLmh0bWwjbGluazhcblxuICAgICAgICAgIGpxTGl0ZU9uKGVsZW1lbnQsIE1PVVNFX0VWRU5UX01BUFt0eXBlXSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLCByZWxhdGVkID0gZXZlbnQucmVsYXRlZFRhcmdldDtcbiAgICAgICAgICAgIC8vIEZvciBtb3VzZW50ZXIvbGVhdmUgY2FsbCB0aGUgaGFuZGxlciBpZiByZWxhdGVkIGlzIG91dHNpZGUgdGhlIHRhcmdldC5cbiAgICAgICAgICAgIC8vIE5COiBObyByZWxhdGVkVGFyZ2V0IGlmIHRoZSBtb3VzZSBsZWZ0L2VudGVyZWQgdGhlIGJyb3dzZXIgd2luZG93XG4gICAgICAgICAgICBpZiAoIXJlbGF0ZWQgfHwgKHJlbGF0ZWQgIT09IHRhcmdldCAmJiAhdGFyZ2V0LmNvbnRhaW5zKHJlbGF0ZWQpKSkge1xuICAgICAgICAgICAgICBoYW5kbGUoZXZlbnQsIHR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHR5cGUgIT09ICckZGVzdHJveScpIHtcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXJGbihlbGVtZW50LCB0eXBlLCBoYW5kbGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBldmVudEZucyA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIH1cbiAgICAgIGV2ZW50Rm5zLnB1c2goZm4pO1xuICAgIH1cbiAgfSxcblxuICBvZmY6IGpxTGl0ZU9mZixcblxuICBvbmU6IGZ1bmN0aW9uKGVsZW1lbnQsIHR5cGUsIGZuKSB7XG4gICAgZWxlbWVudCA9IGpxTGl0ZShlbGVtZW50KTtcblxuICAgIC8vYWRkIHRoZSBsaXN0ZW5lciB0d2ljZSBzbyB0aGF0IHdoZW4gaXQgaXMgY2FsbGVkXG4gICAgLy95b3UgY2FuIHJlbW92ZSB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gYW5kIHN0aWxsIGJlXG4gICAgLy9hYmxlIHRvIGNhbGwgZWxlbWVudC5vZmYoZXYsIGZuKSBub3JtYWxseVxuICAgIGVsZW1lbnQub24odHlwZSwgZnVuY3Rpb24gb25GbigpIHtcbiAgICAgIGVsZW1lbnQub2ZmKHR5cGUsIGZuKTtcbiAgICAgIGVsZW1lbnQub2ZmKHR5cGUsIG9uRm4pO1xuICAgIH0pO1xuICAgIGVsZW1lbnQub24odHlwZSwgZm4pO1xuICB9LFxuXG4gIHJlcGxhY2VXaXRoOiBmdW5jdGlvbihlbGVtZW50LCByZXBsYWNlTm9kZSkge1xuICAgIHZhciBpbmRleCwgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIGpxTGl0ZURlYWxvYyhlbGVtZW50KTtcbiAgICBmb3JFYWNoKG5ldyBKUUxpdGUocmVwbGFjZU5vZGUpLCBmdW5jdGlvbihub2RlKSB7XG4gICAgICBpZiAoaW5kZXgpIHtcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShub2RlLCBpbmRleC5uZXh0U2libGluZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnQucmVwbGFjZUNoaWxkKG5vZGUsIGVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgaW5kZXggPSBub2RlO1xuICAgIH0pO1xuICB9LFxuXG4gIGNoaWxkcmVuOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgdmFyIGNoaWxkcmVuID0gW107XG4gICAgZm9yRWFjaChlbGVtZW50LmNoaWxkTm9kZXMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVClcbiAgICAgICAgY2hpbGRyZW4ucHVzaChlbGVtZW50KTtcbiAgICB9KTtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH0sXG5cbiAgY29udGVudHM6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC5jb250ZW50RG9jdW1lbnQgfHwgZWxlbWVudC5jaGlsZE5vZGVzIHx8IFtdO1xuICB9LFxuXG4gIGFwcGVuZDogZnVuY3Rpb24oZWxlbWVudCwgbm9kZSkge1xuICAgIHZhciBub2RlVHlwZSA9IGVsZW1lbnQubm9kZVR5cGU7XG4gICAgaWYgKG5vZGVUeXBlICE9PSBOT0RFX1RZUEVfRUxFTUVOVCAmJiBub2RlVHlwZSAhPT0gTk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UKSByZXR1cm47XG5cbiAgICBub2RlID0gbmV3IEpRTGl0ZShub2RlKTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5vZGUubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgdmFyIGNoaWxkID0gbm9kZVtpXTtcbiAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgIH1cbiAgfSxcblxuICBwcmVwZW5kOiBmdW5jdGlvbihlbGVtZW50LCBub2RlKSB7XG4gICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT09IE5PREVfVFlQRV9FTEVNRU5UKSB7XG4gICAgICB2YXIgaW5kZXggPSBlbGVtZW50LmZpcnN0Q2hpbGQ7XG4gICAgICBmb3JFYWNoKG5ldyBKUUxpdGUobm9kZSksIGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgIGVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBpbmRleCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgd3JhcDogZnVuY3Rpb24oZWxlbWVudCwgd3JhcE5vZGUpIHtcbiAgICB3cmFwTm9kZSA9IGpxTGl0ZSh3cmFwTm9kZSkuZXEoMCkuY2xvbmUoKVswXTtcbiAgICB2YXIgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQod3JhcE5vZGUsIGVsZW1lbnQpO1xuICAgIH1cbiAgICB3cmFwTm9kZS5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgfSxcblxuICByZW1vdmU6IGpxTGl0ZVJlbW92ZSxcblxuICBkZXRhY2g6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBqcUxpdGVSZW1vdmUoZWxlbWVudCwgdHJ1ZSk7XG4gIH0sXG5cbiAgYWZ0ZXI6IGZ1bmN0aW9uKGVsZW1lbnQsIG5ld0VsZW1lbnQpIHtcbiAgICB2YXIgaW5kZXggPSBlbGVtZW50LCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgbmV3RWxlbWVudCA9IG5ldyBKUUxpdGUobmV3RWxlbWVudCk7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBuZXdFbGVtZW50Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIHZhciBub2RlID0gbmV3RWxlbWVudFtpXTtcbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgaW5kZXgubmV4dFNpYmxpbmcpO1xuICAgICAgaW5kZXggPSBub2RlO1xuICAgIH1cbiAgfSxcblxuICBhZGRDbGFzczoganFMaXRlQWRkQ2xhc3MsXG4gIHJlbW92ZUNsYXNzOiBqcUxpdGVSZW1vdmVDbGFzcyxcblxuICB0b2dnbGVDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgc2VsZWN0b3IsIGNvbmRpdGlvbikge1xuICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgZm9yRWFjaChzZWxlY3Rvci5zcGxpdCgnICcpLCBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICAgICAgdmFyIGNsYXNzQ29uZGl0aW9uID0gY29uZGl0aW9uO1xuICAgICAgICBpZiAoaXNVbmRlZmluZWQoY2xhc3NDb25kaXRpb24pKSB7XG4gICAgICAgICAgY2xhc3NDb25kaXRpb24gPSAhanFMaXRlSGFzQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICAoY2xhc3NDb25kaXRpb24gPyBqcUxpdGVBZGRDbGFzcyA6IGpxTGl0ZVJlbW92ZUNsYXNzKShlbGVtZW50LCBjbGFzc05hbWUpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIHBhcmVudDogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgcmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT09IE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVCA/IHBhcmVudCA6IG51bGw7XG4gIH0sXG5cbiAgbmV4dDogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50Lm5leHRFbGVtZW50U2libGluZztcbiAgfSxcblxuICBmaW5kOiBmdW5jdGlvbihlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgIGlmIChlbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShzZWxlY3Rvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH0sXG5cbiAgY2xvbmU6IGpxTGl0ZUNsb25lLFxuXG4gIHRyaWdnZXJIYW5kbGVyOiBmdW5jdGlvbihlbGVtZW50LCBldmVudCwgZXh0cmFQYXJhbWV0ZXJzKSB7XG5cbiAgICB2YXIgZHVtbXlFdmVudCwgZXZlbnRGbnNDb3B5LCBoYW5kbGVyQXJncztcbiAgICB2YXIgZXZlbnROYW1lID0gZXZlbnQudHlwZSB8fCBldmVudDtcbiAgICB2YXIgZXhwYW5kb1N0b3JlID0ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQpO1xuICAgIHZhciBldmVudHMgPSBleHBhbmRvU3RvcmUgJiYgZXhwYW5kb1N0b3JlLmV2ZW50cztcbiAgICB2YXIgZXZlbnRGbnMgPSBldmVudHMgJiYgZXZlbnRzW2V2ZW50TmFtZV07XG5cbiAgICBpZiAoZXZlbnRGbnMpIHtcbiAgICAgIC8vIENyZWF0ZSBhIGR1bW15IGV2ZW50IHRvIHBhc3MgdG8gdGhlIGhhbmRsZXJzXG4gICAgICBkdW1teUV2ZW50ID0ge1xuICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7IHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7IH0sXG4gICAgICAgIGlzRGVmYXVsdFByZXZlbnRlZDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPT09IHRydWU7IH0sXG4gICAgICAgIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7IHRoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTsgfSxcbiAgICAgICAgaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPT09IHRydWU7IH0sXG4gICAgICAgIHN0b3BQcm9wYWdhdGlvbjogbm9vcCxcbiAgICAgICAgdHlwZTogZXZlbnROYW1lLFxuICAgICAgICB0YXJnZXQ6IGVsZW1lbnRcbiAgICAgIH07XG5cbiAgICAgIC8vIElmIGEgY3VzdG9tIGV2ZW50IHdhcyBwcm92aWRlZCB0aGVuIGV4dGVuZCBvdXIgZHVtbXkgZXZlbnQgd2l0aCBpdFxuICAgICAgaWYgKGV2ZW50LnR5cGUpIHtcbiAgICAgICAgZHVtbXlFdmVudCA9IGV4dGVuZChkdW1teUV2ZW50LCBldmVudCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENvcHkgZXZlbnQgaGFuZGxlcnMgaW4gY2FzZSBldmVudCBoYW5kbGVycyBhcnJheSBpcyBtb2RpZmllZCBkdXJpbmcgZXhlY3V0aW9uLlxuICAgICAgZXZlbnRGbnNDb3B5ID0gc2hhbGxvd0NvcHkoZXZlbnRGbnMpO1xuICAgICAgaGFuZGxlckFyZ3MgPSBleHRyYVBhcmFtZXRlcnMgPyBbZHVtbXlFdmVudF0uY29uY2F0KGV4dHJhUGFyYW1ldGVycykgOiBbZHVtbXlFdmVudF07XG5cbiAgICAgIGZvckVhY2goZXZlbnRGbnNDb3B5LCBmdW5jdGlvbihmbikge1xuICAgICAgICBpZiAoIWR1bW15RXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkge1xuICAgICAgICAgIGZuLmFwcGx5KGVsZW1lbnQsIGhhbmRsZXJBcmdzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59LCBmdW5jdGlvbihmbiwgbmFtZSkge1xuICAvKipcbiAgICogY2hhaW5pbmcgZnVuY3Rpb25zXG4gICAqL1xuICBKUUxpdGUucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oYXJnMSwgYXJnMiwgYXJnMykge1xuICAgIHZhciB2YWx1ZTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRoaXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICB2YWx1ZSA9IGZuKHRoaXNbaV0sIGFyZzEsIGFyZzIsIGFyZzMpO1xuICAgICAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgIC8vIGFueSBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGEgdmFsdWUgbmVlZHMgdG8gYmUgd3JhcHBlZFxuICAgICAgICAgIHZhbHVlID0ganFMaXRlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAganFMaXRlQWRkTm9kZXModmFsdWUsIGZuKHRoaXNbaV0sIGFyZzEsIGFyZzIsIGFyZzMpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGlzRGVmaW5lZCh2YWx1ZSkgPyB2YWx1ZSA6IHRoaXM7XG4gIH07XG5cbiAgLy8gYmluZCBsZWdhY3kgYmluZC91bmJpbmQgdG8gb24vb2ZmXG4gIEpRTGl0ZS5wcm90b3R5cGUuYmluZCA9IEpRTGl0ZS5wcm90b3R5cGUub247XG4gIEpRTGl0ZS5wcm90b3R5cGUudW5iaW5kID0gSlFMaXRlLnByb3RvdHlwZS5vZmY7XG59KTtcblxuLyoqXG4gKiBDb21wdXRlcyBhIGhhc2ggb2YgYW4gJ29iaicuXG4gKiBIYXNoIG9mIGE6XG4gKiAgc3RyaW5nIGlzIHN0cmluZ1xuICogIG51bWJlciBpcyBudW1iZXIgYXMgc3RyaW5nXG4gKiAgb2JqZWN0IGlzIGVpdGhlciByZXN1bHQgb2YgY2FsbGluZyAkJGhhc2hLZXkgZnVuY3Rpb24gb24gdGhlIG9iamVjdCBvciB1bmlxdWVseSBnZW5lcmF0ZWQgaWQsXG4gKiAgICAgICAgIHRoYXQgaXMgYWxzbyBhc3NpZ25lZCB0byB0aGUgJCRoYXNoS2V5IHByb3BlcnR5IG9mIHRoZSBvYmplY3QuXG4gKlxuICogQHBhcmFtIG9ialxuICogQHJldHVybnMge3N0cmluZ30gaGFzaCBzdHJpbmcgc3VjaCB0aGF0IHRoZSBzYW1lIGlucHV0IHdpbGwgaGF2ZSB0aGUgc2FtZSBoYXNoIHN0cmluZy5cbiAqICAgICAgICAgVGhlIHJlc3VsdGluZyBzdHJpbmcga2V5IGlzIGluICd0eXBlOmhhc2hLZXknIGZvcm1hdC5cbiAqL1xuZnVuY3Rpb24gaGFzaEtleShvYmosIG5leHRVaWRGbikge1xuICB2YXIga2V5ID0gb2JqICYmIG9iai4kJGhhc2hLZXk7XG5cbiAgaWYgKGtleSkge1xuICAgIGlmICh0eXBlb2Yga2V5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBrZXkgPSBvYmouJCRoYXNoS2V5KCk7XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG4gIH1cblxuICB2YXIgb2JqVHlwZSA9IHR5cGVvZiBvYmo7XG4gIGlmIChvYmpUeXBlID09ICdmdW5jdGlvbicgfHwgKG9ialR5cGUgPT0gJ29iamVjdCcgJiYgb2JqICE9PSBudWxsKSkge1xuICAgIGtleSA9IG9iai4kJGhhc2hLZXkgPSBvYmpUeXBlICsgJzonICsgKG5leHRVaWRGbiB8fCBuZXh0VWlkKSgpO1xuICB9IGVsc2Uge1xuICAgIGtleSA9IG9ialR5cGUgKyAnOicgKyBvYmo7XG4gIH1cblxuICByZXR1cm4ga2V5O1xufVxuXG4vKipcbiAqIEhhc2hNYXAgd2hpY2ggY2FuIHVzZSBvYmplY3RzIGFzIGtleXNcbiAqL1xuZnVuY3Rpb24gSGFzaE1hcChhcnJheSwgaXNvbGF0ZWRVaWQpIHtcbiAgaWYgKGlzb2xhdGVkVWlkKSB7XG4gICAgdmFyIHVpZCA9IDA7XG4gICAgdGhpcy5uZXh0VWlkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gKyt1aWQ7XG4gICAgfTtcbiAgfVxuICBmb3JFYWNoKGFycmF5LCB0aGlzLnB1dCwgdGhpcyk7XG59XG5IYXNoTWFwLnByb3RvdHlwZSA9IHtcbiAgLyoqXG4gICAqIFN0b3JlIGtleSB2YWx1ZSBwYWlyXG4gICAqIEBwYXJhbSBrZXkga2V5IHRvIHN0b3JlIGNhbiBiZSBhbnkgdHlwZVxuICAgKiBAcGFyYW0gdmFsdWUgdmFsdWUgdG8gc3RvcmUgY2FuIGJlIGFueSB0eXBlXG4gICAqL1xuICBwdXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICB0aGlzW2hhc2hLZXkoa2V5LCB0aGlzLm5leHRVaWQpXSA9IHZhbHVlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ga2V5XG4gICAqIEByZXR1cm5zIHtPYmplY3R9IHRoZSB2YWx1ZSBmb3IgdGhlIGtleVxuICAgKi9cbiAgZ2V0OiBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gdGhpc1toYXNoS2V5KGtleSwgdGhpcy5uZXh0VWlkKV07XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUga2V5L3ZhbHVlIHBhaXJcbiAgICogQHBhcmFtIGtleVxuICAgKi9cbiAgcmVtb3ZlOiBmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgdmFsdWUgPSB0aGlzW2tleSA9IGhhc2hLZXkoa2V5LCB0aGlzLm5leHRVaWQpXTtcbiAgICBkZWxldGUgdGhpc1trZXldO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufTtcblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBtb2R1bGUgbmdcbiAqIEBuYW1lIGFuZ3VsYXIuaW5qZWN0b3JcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGFuIGluamVjdG9yIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIGZvciByZXRyaWV2aW5nIHNlcnZpY2VzIGFzIHdlbGwgYXMgZm9yXG4gKiBkZXBlbmRlbmN5IGluamVjdGlvbiAoc2VlIHtAbGluayBndWlkZS9kaSBkZXBlbmRlbmN5IGluamVjdGlvbn0pLlxuICpcblxuICogQHBhcmFtIHtBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gbW9kdWxlcyBBIGxpc3Qgb2YgbW9kdWxlIGZ1bmN0aW9ucyBvciB0aGVpciBhbGlhc2VzLiBTZWVcbiAqICAgICAgICB7QGxpbmsgYW5ndWxhci5tb2R1bGV9LiBUaGUgYG5nYCBtb2R1bGUgbXVzdCBiZSBleHBsaWNpdGx5IGFkZGVkLlxuICogQHJldHVybnMge2luamVjdG9yfSBJbmplY3RvciBvYmplY3QuIFNlZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogVHlwaWNhbCB1c2FnZVxuICogYGBganNcbiAqICAgLy8gY3JlYXRlIGFuIGluamVjdG9yXG4gKiAgIHZhciAkaW5qZWN0b3IgPSBhbmd1bGFyLmluamVjdG9yKFsnbmcnXSk7XG4gKlxuICogICAvLyB1c2UgdGhlIGluamVjdG9yIHRvIGtpY2sgb2ZmIHlvdXIgYXBwbGljYXRpb25cbiAqICAgLy8gdXNlIHRoZSB0eXBlIGluZmVyZW5jZSB0byBhdXRvIGluamVjdCBhcmd1bWVudHMsIG9yIHVzZSBpbXBsaWNpdCBpbmplY3Rpb25cbiAqICAgJGluamVjdG9yLmludm9rZShmdW5jdGlvbigkcm9vdFNjb3BlLCAkY29tcGlsZSwgJGRvY3VtZW50KSB7XG4gKiAgICAgJGNvbXBpbGUoJGRvY3VtZW50KSgkcm9vdFNjb3BlKTtcbiAqICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAqICAgfSk7XG4gKiBgYGBcbiAqXG4gKiBTb21ldGltZXMgeW91IHdhbnQgdG8gZ2V0IGFjY2VzcyB0byB0aGUgaW5qZWN0b3Igb2YgYSBjdXJyZW50bHkgcnVubmluZyBBbmd1bGFyIGFwcFxuICogZnJvbSBvdXRzaWRlIEFuZ3VsYXIuIFBlcmhhcHMsIHlvdSB3YW50IHRvIGluamVjdCBhbmQgY29tcGlsZSBzb21lIG1hcmt1cCBhZnRlciB0aGVcbiAqIGFwcGxpY2F0aW9uIGhhcyBiZWVuIGJvb3RzdHJhcHBlZC4gWW91IGNhbiBkbyB0aGlzIHVzaW5nIHRoZSBleHRyYSBgaW5qZWN0b3IoKWAgYWRkZWRcbiAqIHRvIEpRdWVyeS9qcUxpdGUgZWxlbWVudHMuIFNlZSB7QGxpbmsgYW5ndWxhci5lbGVtZW50fS5cbiAqXG4gKiAqVGhpcyBpcyBmYWlybHkgcmFyZSBidXQgY291bGQgYmUgdGhlIGNhc2UgaWYgYSB0aGlyZCBwYXJ0eSBsaWJyYXJ5IGlzIGluamVjdGluZyB0aGVcbiAqIG1hcmt1cC4qXG4gKlxuICogSW4gdGhlIGZvbGxvd2luZyBleGFtcGxlIGEgbmV3IGJsb2NrIG9mIEhUTUwgY29udGFpbmluZyBhIGBuZy1jb250cm9sbGVyYFxuICogZGlyZWN0aXZlIGlzIGFkZGVkIHRvIHRoZSBlbmQgb2YgdGhlIGRvY3VtZW50IGJvZHkgYnkgSlF1ZXJ5LiBXZSB0aGVuIGNvbXBpbGUgYW5kIGxpbmtcbiAqIGl0IGludG8gdGhlIGN1cnJlbnQgQW5ndWxhckpTIHNjb3BlLlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgJGRpdiA9ICQoJzxkaXYgbmctY29udHJvbGxlcj1cIk15Q3RybFwiPnt7Y29udGVudC5sYWJlbH19PC9kaXY+Jyk7XG4gKiAkKGRvY3VtZW50LmJvZHkpLmFwcGVuZCgkZGl2KTtcbiAqXG4gKiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLmluamVjdG9yKCkuaW52b2tlKGZ1bmN0aW9uKCRjb21waWxlKSB7XG4gKiAgIHZhciBzY29wZSA9IGFuZ3VsYXIuZWxlbWVudCgkZGl2KS5zY29wZSgpO1xuICogICAkY29tcGlsZSgkZGl2KShzY29wZSk7XG4gKiB9KTtcbiAqIGBgYFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBhdXRvXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBJbXBsaWNpdCBtb2R1bGUgd2hpY2ggZ2V0cyBhdXRvbWF0aWNhbGx5IGFkZGVkIHRvIGVhY2gge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uXG4gKi9cblxudmFyIEZOX0FSR1MgPSAvXmZ1bmN0aW9uXFxzKlteXFwoXSpcXChcXHMqKFteXFwpXSopXFwpL207XG52YXIgRk5fQVJHX1NQTElUID0gLywvO1xudmFyIEZOX0FSRyA9IC9eXFxzKihfPykoXFxTKz8pXFwxXFxzKiQvO1xudmFyIFNUUklQX0NPTU1FTlRTID0gLygoXFwvXFwvLiokKXwoXFwvXFwqW1xcc1xcU10qP1xcKlxcLykpL21nO1xudmFyICRpbmplY3Rvck1pbkVyciA9IG1pbkVycignJGluamVjdG9yJyk7XG5cbmZ1bmN0aW9uIGFub25Gbihmbikge1xuICAvLyBGb3IgYW5vbnltb3VzIGZ1bmN0aW9ucywgc2hvd2luZyBhdCB0aGUgdmVyeSBsZWFzdCB0aGUgZnVuY3Rpb24gc2lnbmF0dXJlIGNhbiBoZWxwIGluXG4gIC8vIGRlYnVnZ2luZy5cbiAgdmFyIGZuVGV4dCA9IGZuLnRvU3RyaW5nKCkucmVwbGFjZShTVFJJUF9DT01NRU5UUywgJycpLFxuICAgICAgYXJncyA9IGZuVGV4dC5tYXRjaChGTl9BUkdTKTtcbiAgaWYgKGFyZ3MpIHtcbiAgICByZXR1cm4gJ2Z1bmN0aW9uKCcgKyAoYXJnc1sxXSB8fCAnJykucmVwbGFjZSgvW1xcc1xcclxcbl0rLywgJyAnKSArICcpJztcbiAgfVxuICByZXR1cm4gJ2ZuJztcbn1cblxuZnVuY3Rpb24gYW5ub3RhdGUoZm4sIHN0cmljdERpLCBuYW1lKSB7XG4gIHZhciAkaW5qZWN0LFxuICAgICAgZm5UZXh0LFxuICAgICAgYXJnRGVjbCxcbiAgICAgIGxhc3Q7XG5cbiAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmICghKCRpbmplY3QgPSBmbi4kaW5qZWN0KSkge1xuICAgICAgJGluamVjdCA9IFtdO1xuICAgICAgaWYgKGZuLmxlbmd0aCkge1xuICAgICAgICBpZiAoc3RyaWN0RGkpIHtcbiAgICAgICAgICBpZiAoIWlzU3RyaW5nKG5hbWUpIHx8ICFuYW1lKSB7XG4gICAgICAgICAgICBuYW1lID0gZm4ubmFtZSB8fCBhbm9uRm4oZm4pO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ3N0cmljdGRpJyxcbiAgICAgICAgICAgICd7MH0gaXMgbm90IHVzaW5nIGV4cGxpY2l0IGFubm90YXRpb24gYW5kIGNhbm5vdCBiZSBpbnZva2VkIGluIHN0cmljdCBtb2RlJywgbmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm5UZXh0ID0gZm4udG9TdHJpbmcoKS5yZXBsYWNlKFNUUklQX0NPTU1FTlRTLCAnJyk7XG4gICAgICAgIGFyZ0RlY2wgPSBmblRleHQubWF0Y2goRk5fQVJHUyk7XG4gICAgICAgIGZvckVhY2goYXJnRGVjbFsxXS5zcGxpdChGTl9BUkdfU1BMSVQpLCBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgICBhcmcucmVwbGFjZShGTl9BUkcsIGZ1bmN0aW9uKGFsbCwgdW5kZXJzY29yZSwgbmFtZSkge1xuICAgICAgICAgICAgJGluamVjdC5wdXNoKG5hbWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGZuLiRpbmplY3QgPSAkaW5qZWN0O1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc0FycmF5KGZuKSkge1xuICAgIGxhc3QgPSBmbi5sZW5ndGggLSAxO1xuICAgIGFzc2VydEFyZ0ZuKGZuW2xhc3RdLCAnZm4nKTtcbiAgICAkaW5qZWN0ID0gZm4uc2xpY2UoMCwgbGFzdCk7XG4gIH0gZWxzZSB7XG4gICAgYXNzZXJ0QXJnRm4oZm4sICdmbicsIHRydWUpO1xuICB9XG4gIHJldHVybiAkaW5qZWN0O1xufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGluamVjdG9yXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogYCRpbmplY3RvcmAgaXMgdXNlZCB0byByZXRyaWV2ZSBvYmplY3QgaW5zdGFuY2VzIGFzIGRlZmluZWQgYnlcbiAqIHtAbGluayBhdXRvLiRwcm92aWRlIHByb3ZpZGVyfSwgaW5zdGFudGlhdGUgdHlwZXMsIGludm9rZSBtZXRob2RzLFxuICogYW5kIGxvYWQgbW9kdWxlcy5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGFsd2F5cyBob2xkcyB0cnVlOlxuICpcbiAqIGBgYGpzXG4gKiAgIHZhciAkaW5qZWN0b3IgPSBhbmd1bGFyLmluamVjdG9yKCk7XG4gKiAgIGV4cGVjdCgkaW5qZWN0b3IuZ2V0KCckaW5qZWN0b3InKSkudG9CZSgkaW5qZWN0b3IpO1xuICogICBleHBlY3QoJGluamVjdG9yLmludm9rZShmdW5jdGlvbigkaW5qZWN0b3IpIHtcbiAqICAgICByZXR1cm4gJGluamVjdG9yO1xuICogICB9KSkudG9CZSgkaW5qZWN0b3IpO1xuICogYGBgXG4gKlxuICogIyBJbmplY3Rpb24gRnVuY3Rpb24gQW5ub3RhdGlvblxuICpcbiAqIEphdmFTY3JpcHQgZG9lcyBub3QgaGF2ZSBhbm5vdGF0aW9ucywgYW5kIGFubm90YXRpb25zIGFyZSBuZWVkZWQgZm9yIGRlcGVuZGVuY3kgaW5qZWN0aW9uLiBUaGVcbiAqIGZvbGxvd2luZyBhcmUgYWxsIHZhbGlkIHdheXMgb2YgYW5ub3RhdGluZyBmdW5jdGlvbiB3aXRoIGluamVjdGlvbiBhcmd1bWVudHMgYW5kIGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIGBgYGpzXG4gKiAgIC8vIGluZmVycmVkIChvbmx5IHdvcmtzIGlmIGNvZGUgbm90IG1pbmlmaWVkL29iZnVzY2F0ZWQpXG4gKiAgICRpbmplY3Rvci5pbnZva2UoZnVuY3Rpb24oc2VydmljZUEpe30pO1xuICpcbiAqICAgLy8gYW5ub3RhdGVkXG4gKiAgIGZ1bmN0aW9uIGV4cGxpY2l0KHNlcnZpY2VBKSB7fTtcbiAqICAgZXhwbGljaXQuJGluamVjdCA9IFsnc2VydmljZUEnXTtcbiAqICAgJGluamVjdG9yLmludm9rZShleHBsaWNpdCk7XG4gKlxuICogICAvLyBpbmxpbmVcbiAqICAgJGluamVjdG9yLmludm9rZShbJ3NlcnZpY2VBJywgZnVuY3Rpb24oc2VydmljZUEpe31dKTtcbiAqIGBgYFxuICpcbiAqICMjIEluZmVyZW5jZVxuICpcbiAqIEluIEphdmFTY3JpcHQgY2FsbGluZyBgdG9TdHJpbmcoKWAgb24gYSBmdW5jdGlvbiByZXR1cm5zIHRoZSBmdW5jdGlvbiBkZWZpbml0aW9uLiBUaGUgZGVmaW5pdGlvblxuICogY2FuIHRoZW4gYmUgcGFyc2VkIGFuZCB0aGUgZnVuY3Rpb24gYXJndW1lbnRzIGNhbiBiZSBleHRyYWN0ZWQuICpOT1RFOiogVGhpcyBkb2VzIG5vdCB3b3JrIHdpdGhcbiAqIG1pbmlmaWNhdGlvbiwgYW5kIG9iZnVzY2F0aW9uIHRvb2xzIHNpbmNlIHRoZXNlIHRvb2xzIGNoYW5nZSB0aGUgYXJndW1lbnQgbmFtZXMuXG4gKlxuICogIyMgYCRpbmplY3RgIEFubm90YXRpb25cbiAqIEJ5IGFkZGluZyBhbiBgJGluamVjdGAgcHJvcGVydHkgb250byBhIGZ1bmN0aW9uIHRoZSBpbmplY3Rpb24gcGFyYW1ldGVycyBjYW4gYmUgc3BlY2lmaWVkLlxuICpcbiAqICMjIElubGluZVxuICogQXMgYW4gYXJyYXkgb2YgaW5qZWN0aW9uIG5hbWVzLCB3aGVyZSB0aGUgbGFzdCBpdGVtIGluIHRoZSBhcnJheSBpcyB0aGUgZnVuY3Rpb24gdG8gY2FsbC5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRpbmplY3RvciNnZXRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiBhbiBpbnN0YW5jZSBvZiB0aGUgc2VydmljZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgaW5zdGFuY2UgdG8gcmV0cmlldmUuXG4gKiBAcmV0dXJuIHsqfSBUaGUgaW5zdGFuY2UuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkaW5qZWN0b3IjaW52b2tlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBJbnZva2UgdGhlIG1ldGhvZCBhbmQgc3VwcGx5IHRoZSBtZXRob2QgYXJndW1lbnRzIGZyb20gdGhlIGAkaW5qZWN0b3JgLlxuICpcbiAqIEBwYXJhbSB7IUZ1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLiBGdW5jdGlvbiBwYXJhbWV0ZXJzIGFyZSBpbmplY3RlZCBhY2NvcmRpbmcgdG8gdGhlXG4gKiAgIHtAbGluayBndWlkZS9kaSAkaW5qZWN0IEFubm90YXRpb259IHJ1bGVzLlxuICogQHBhcmFtIHtPYmplY3Q9fSBzZWxmIFRoZSBgdGhpc2AgZm9yIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gbG9jYWxzIE9wdGlvbmFsIG9iamVjdC4gSWYgcHJlc2V0IHRoZW4gYW55IGFyZ3VtZW50IG5hbWVzIGFyZSByZWFkIGZyb20gdGhpc1xuICogICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0IGZpcnN0LCBiZWZvcmUgdGhlIGAkaW5qZWN0b3JgIGlzIGNvbnN1bHRlZC5cbiAqIEByZXR1cm5zIHsqfSB0aGUgdmFsdWUgcmV0dXJuZWQgYnkgdGhlIGludm9rZWQgYGZuYCBmdW5jdGlvbi5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRpbmplY3RvciNoYXNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFsbG93cyB0aGUgdXNlciB0byBxdWVyeSBpZiB0aGUgcGFydGljdWxhciBzZXJ2aWNlIGV4aXN0cy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9mIHRoZSBzZXJ2aWNlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiBpbmplY3RvciBoYXMgZ2l2ZW4gc2VydmljZS5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRpbmplY3RvciNpbnN0YW50aWF0ZVxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgSlMgdHlwZS4gVGhlIG1ldGhvZCB0YWtlcyBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLCBpbnZva2VzIHRoZSBuZXdcbiAqIG9wZXJhdG9yLCBhbmQgc3VwcGxpZXMgYWxsIG9mIHRoZSBhcmd1bWVudHMgdG8gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIGFzIHNwZWNpZmllZCBieSB0aGVcbiAqIGNvbnN0cnVjdG9yIGFubm90YXRpb24uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gVHlwZSBBbm5vdGF0ZWQgY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge09iamVjdD19IGxvY2FscyBPcHRpb25hbCBvYmplY3QuIElmIHByZXNldCB0aGVuIGFueSBhcmd1bWVudCBuYW1lcyBhcmUgcmVhZCBmcm9tIHRoaXNcbiAqIG9iamVjdCBmaXJzdCwgYmVmb3JlIHRoZSBgJGluamVjdG9yYCBpcyBjb25zdWx0ZWQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBuZXcgaW5zdGFuY2Ugb2YgYFR5cGVgLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJGluamVjdG9yI2Fubm90YXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm5zIGFuIGFycmF5IG9mIHNlcnZpY2UgbmFtZXMgd2hpY2ggdGhlIGZ1bmN0aW9uIGlzIHJlcXVlc3RpbmcgZm9yIGluamVjdGlvbi4gVGhpcyBBUEkgaXNcbiAqIHVzZWQgYnkgdGhlIGluamVjdG9yIHRvIGRldGVybWluZSB3aGljaCBzZXJ2aWNlcyBuZWVkIHRvIGJlIGluamVjdGVkIGludG8gdGhlIGZ1bmN0aW9uIHdoZW4gdGhlXG4gKiBmdW5jdGlvbiBpcyBpbnZva2VkLiBUaGVyZSBhcmUgdGhyZWUgd2F5cyBpbiB3aGljaCB0aGUgZnVuY3Rpb24gY2FuIGJlIGFubm90YXRlZCB3aXRoIHRoZSBuZWVkZWRcbiAqIGRlcGVuZGVuY2llcy5cbiAqXG4gKiAjIEFyZ3VtZW50IG5hbWVzXG4gKlxuICogVGhlIHNpbXBsZXN0IGZvcm0gaXMgdG8gZXh0cmFjdCB0aGUgZGVwZW5kZW5jaWVzIGZyb20gdGhlIGFyZ3VtZW50cyBvZiB0aGUgZnVuY3Rpb24uIFRoaXMgaXMgZG9uZVxuICogYnkgY29udmVydGluZyB0aGUgZnVuY3Rpb24gaW50byBhIHN0cmluZyB1c2luZyBgdG9TdHJpbmcoKWAgbWV0aG9kIGFuZCBleHRyYWN0aW5nIHRoZSBhcmd1bWVudFxuICogbmFtZXMuXG4gKiBgYGBqc1xuICogICAvLyBHaXZlblxuICogICBmdW5jdGlvbiBNeUNvbnRyb2xsZXIoJHNjb3BlLCAkcm91dGUpIHtcbiAqICAgICAvLyAuLi5cbiAqICAgfVxuICpcbiAqICAgLy8gVGhlblxuICogICBleHBlY3QoaW5qZWN0b3IuYW5ub3RhdGUoTXlDb250cm9sbGVyKSkudG9FcXVhbChbJyRzY29wZScsICckcm91dGUnXSk7XG4gKiBgYGBcbiAqXG4gKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB3b3JrIHdpdGggY29kZSBtaW5pZmljYXRpb24gLyBvYmZ1c2NhdGlvbi4gRm9yIHRoaXMgcmVhc29uIHRoZSBmb2xsb3dpbmdcbiAqIGFubm90YXRpb24gc3RyYXRlZ2llcyBhcmUgc3VwcG9ydGVkLlxuICpcbiAqICMgVGhlIGAkaW5qZWN0YCBwcm9wZXJ0eVxuICpcbiAqIElmIGEgZnVuY3Rpb24gaGFzIGFuIGAkaW5qZWN0YCBwcm9wZXJ0eSBhbmQgaXRzIHZhbHVlIGlzIGFuIGFycmF5IG9mIHN0cmluZ3MsIHRoZW4gdGhlIHN0cmluZ3NcbiAqIHJlcHJlc2VudCBuYW1lcyBvZiBzZXJ2aWNlcyB0byBiZSBpbmplY3RlZCBpbnRvIHRoZSBmdW5jdGlvbi5cbiAqIGBgYGpzXG4gKiAgIC8vIEdpdmVuXG4gKiAgIHZhciBNeUNvbnRyb2xsZXIgPSBmdW5jdGlvbihvYmZ1c2NhdGVkU2NvcGUsIG9iZnVzY2F0ZWRSb3V0ZSkge1xuICogICAgIC8vIC4uLlxuICogICB9XG4gKiAgIC8vIERlZmluZSBmdW5jdGlvbiBkZXBlbmRlbmNpZXNcbiAqICAgTXlDb250cm9sbGVyWyckaW5qZWN0J10gPSBbJyRzY29wZScsICckcm91dGUnXTtcbiAqXG4gKiAgIC8vIFRoZW5cbiAqICAgZXhwZWN0KGluamVjdG9yLmFubm90YXRlKE15Q29udHJvbGxlcikpLnRvRXF1YWwoWyckc2NvcGUnLCAnJHJvdXRlJ10pO1xuICogYGBgXG4gKlxuICogIyBUaGUgYXJyYXkgbm90YXRpb25cbiAqXG4gKiBJdCBpcyBvZnRlbiBkZXNpcmFibGUgdG8gaW5saW5lIEluamVjdGVkIGZ1bmN0aW9ucyBhbmQgdGhhdCdzIHdoZW4gc2V0dGluZyB0aGUgYCRpbmplY3RgIHByb3BlcnR5XG4gKiBpcyB2ZXJ5IGluY29udmVuaWVudC4gSW4gdGhlc2Ugc2l0dWF0aW9ucyB1c2luZyB0aGUgYXJyYXkgbm90YXRpb24gdG8gc3BlY2lmeSB0aGUgZGVwZW5kZW5jaWVzIGluXG4gKiBhIHdheSB0aGF0IHN1cnZpdmVzIG1pbmlmaWNhdGlvbiBpcyBhIGJldHRlciBjaG9pY2U6XG4gKlxuICogYGBganNcbiAqICAgLy8gV2Ugd2lzaCB0byB3cml0ZSB0aGlzIChub3QgbWluaWZpY2F0aW9uIC8gb2JmdXNjYXRpb24gc2FmZSlcbiAqICAgaW5qZWN0b3IuaW52b2tlKGZ1bmN0aW9uKCRjb21waWxlLCAkcm9vdFNjb3BlKSB7XG4gKiAgICAgLy8gLi4uXG4gKiAgIH0pO1xuICpcbiAqICAgLy8gV2UgYXJlIGZvcmNlZCB0byB3cml0ZSBicmVhayBpbmxpbmluZ1xuICogICB2YXIgdG1wRm4gPSBmdW5jdGlvbihvYmZ1c2NhdGVkQ29tcGlsZSwgb2JmdXNjYXRlZFJvb3RTY29wZSkge1xuICogICAgIC8vIC4uLlxuICogICB9O1xuICogICB0bXBGbi4kaW5qZWN0ID0gWyckY29tcGlsZScsICckcm9vdFNjb3BlJ107XG4gKiAgIGluamVjdG9yLmludm9rZSh0bXBGbik7XG4gKlxuICogICAvLyBUbyBiZXR0ZXIgc3VwcG9ydCBpbmxpbmUgZnVuY3Rpb24gdGhlIGlubGluZSBhbm5vdGF0aW9uIGlzIHN1cHBvcnRlZFxuICogICBpbmplY3Rvci5pbnZva2UoWyckY29tcGlsZScsICckcm9vdFNjb3BlJywgZnVuY3Rpb24ob2JmQ29tcGlsZSwgb2JmUm9vdFNjb3BlKSB7XG4gKiAgICAgLy8gLi4uXG4gKiAgIH1dKTtcbiAqXG4gKiAgIC8vIFRoZXJlZm9yZVxuICogICBleHBlY3QoaW5qZWN0b3IuYW5ub3RhdGUoXG4gKiAgICAgIFsnJGNvbXBpbGUnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uKG9iZnVzXyRjb21waWxlLCBvYmZ1c18kcm9vdFNjb3BlKSB7fV0pXG4gKiAgICApLnRvRXF1YWwoWyckY29tcGlsZScsICckcm9vdFNjb3BlJ10pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gZm4gRnVuY3Rpb24gZm9yIHdoaWNoIGRlcGVuZGVudCBzZXJ2aWNlIG5hbWVzIG5lZWQgdG9cbiAqIGJlIHJldHJpZXZlZCBhcyBkZXNjcmliZWQgYWJvdmUuXG4gKlxuICogQHJldHVybnMge0FycmF5LjxzdHJpbmc+fSBUaGUgbmFtZXMgb2YgdGhlIHNlcnZpY2VzIHdoaWNoIHRoZSBmdW5jdGlvbiByZXF1aXJlcy5cbiAqL1xuXG5cblxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkcHJvdmlkZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFRoZSB7QGxpbmsgYXV0by4kcHJvdmlkZSAkcHJvdmlkZX0gc2VydmljZSBoYXMgYSBudW1iZXIgb2YgbWV0aG9kcyBmb3IgcmVnaXN0ZXJpbmcgY29tcG9uZW50c1xuICogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIE1hbnkgb2YgdGhlc2UgZnVuY3Rpb25zIGFyZSBhbHNvIGV4cG9zZWQgb25cbiAqIHtAbGluayBhbmd1bGFyLk1vZHVsZX0uXG4gKlxuICogQW4gQW5ndWxhciAqKnNlcnZpY2UqKiBpcyBhIHNpbmdsZXRvbiBvYmplY3QgY3JlYXRlZCBieSBhICoqc2VydmljZSBmYWN0b3J5KiouICBUaGVzZSAqKnNlcnZpY2VcbiAqIGZhY3RvcmllcyoqIGFyZSBmdW5jdGlvbnMgd2hpY2gsIGluIHR1cm4sIGFyZSBjcmVhdGVkIGJ5IGEgKipzZXJ2aWNlIHByb3ZpZGVyKiouXG4gKiBUaGUgKipzZXJ2aWNlIHByb3ZpZGVycyoqIGFyZSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMuIFdoZW4gaW5zdGFudGlhdGVkIHRoZXkgbXVzdCBjb250YWluIGFcbiAqIHByb3BlcnR5IGNhbGxlZCBgJGdldGAsIHdoaWNoIGhvbGRzIHRoZSAqKnNlcnZpY2UgZmFjdG9yeSoqIGZ1bmN0aW9uLlxuICpcbiAqIFdoZW4geW91IHJlcXVlc3QgYSBzZXJ2aWNlLCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0gaXMgcmVzcG9uc2libGUgZm9yIGZpbmRpbmcgdGhlXG4gKiBjb3JyZWN0ICoqc2VydmljZSBwcm92aWRlcioqLCBpbnN0YW50aWF0aW5nIGl0IGFuZCB0aGVuIGNhbGxpbmcgaXRzIGAkZ2V0YCAqKnNlcnZpY2UgZmFjdG9yeSoqXG4gKiBmdW5jdGlvbiB0byBnZXQgdGhlIGluc3RhbmNlIG9mIHRoZSAqKnNlcnZpY2UqKi5cbiAqXG4gKiBPZnRlbiBzZXJ2aWNlcyBoYXZlIG5vIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBhbmQgdGhlcmUgaXMgbm8gbmVlZCB0byBhZGQgbWV0aG9kcyB0byB0aGUgc2VydmljZVxuICogcHJvdmlkZXIuICBUaGUgcHJvdmlkZXIgd2lsbCBiZSBubyBtb3JlIHRoYW4gYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiB3aXRoIGEgYCRnZXRgIHByb3BlcnR5LiBGb3JcbiAqIHRoZXNlIGNhc2VzIHRoZSB7QGxpbmsgYXV0by4kcHJvdmlkZSAkcHJvdmlkZX0gc2VydmljZSBoYXMgYWRkaXRpb25hbCBoZWxwZXIgbWV0aG9kcyB0byByZWdpc3RlclxuICogc2VydmljZXMgd2l0aG91dCBzcGVjaWZ5aW5nIGEgcHJvdmlkZXIuXG4gKlxuICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNwcm92aWRlciBwcm92aWRlcihwcm92aWRlcil9IC0gcmVnaXN0ZXJzIGEgKipzZXJ2aWNlIHByb3ZpZGVyKiogd2l0aCB0aGVcbiAqICAgICB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfVxuICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNjb25zdGFudCBjb25zdGFudChvYmopfSAtIHJlZ2lzdGVycyBhIHZhbHVlL29iamVjdCB0aGF0IGNhbiBiZSBhY2Nlc3NlZCBieVxuICogICAgIHByb3ZpZGVycyBhbmQgc2VydmljZXMuXG4gKiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3ZhbHVlIHZhbHVlKG9iail9IC0gcmVnaXN0ZXJzIGEgdmFsdWUvb2JqZWN0IHRoYXQgY2FuIG9ubHkgYmUgYWNjZXNzZWQgYnlcbiAqICAgICBzZXJ2aWNlcywgbm90IHByb3ZpZGVycy5cbiAqICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjZmFjdG9yeSBmYWN0b3J5KGZuKX0gLSByZWdpc3RlcnMgYSBzZXJ2aWNlICoqZmFjdG9yeSBmdW5jdGlvbioqLCBgZm5gLFxuICogICAgIHRoYXQgd2lsbCBiZSB3cmFwcGVkIGluIGEgKipzZXJ2aWNlIHByb3ZpZGVyKiogb2JqZWN0LCB3aG9zZSBgJGdldGAgcHJvcGVydHkgd2lsbCBjb250YWluIHRoZVxuICogICAgIGdpdmVuIGZhY3RvcnkgZnVuY3Rpb24uXG4gKiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3NlcnZpY2Ugc2VydmljZShjbGFzcyl9IC0gcmVnaXN0ZXJzIGEgKipjb25zdHJ1Y3RvciBmdW5jdGlvbioqLCBgY2xhc3NgXG4gKiAgICAgdGhhdCB3aWxsIGJlIHdyYXBwZWQgaW4gYSAqKnNlcnZpY2UgcHJvdmlkZXIqKiBvYmplY3QsIHdob3NlIGAkZ2V0YCBwcm9wZXJ0eSB3aWxsIGluc3RhbnRpYXRlXG4gKiAgICAgIGEgbmV3IG9iamVjdCB1c2luZyB0aGUgZ2l2ZW4gY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gKlxuICogU2VlIHRoZSBpbmRpdmlkdWFsIG1ldGhvZHMgZm9yIG1vcmUgaW5mb3JtYXRpb24gYW5kIGV4YW1wbGVzLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJHByb3ZpZGUjcHJvdmlkZXJcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFJlZ2lzdGVyIGEgKipwcm92aWRlciBmdW5jdGlvbioqIHdpdGggdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LiBQcm92aWRlciBmdW5jdGlvbnNcbiAqIGFyZSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMsIHdob3NlIGluc3RhbmNlcyBhcmUgcmVzcG9uc2libGUgZm9yIFwicHJvdmlkaW5nXCIgYSBmYWN0b3J5IGZvciBhXG4gKiBzZXJ2aWNlLlxuICpcbiAqIFNlcnZpY2UgcHJvdmlkZXIgbmFtZXMgc3RhcnQgd2l0aCB0aGUgbmFtZSBvZiB0aGUgc2VydmljZSB0aGV5IHByb3ZpZGUgZm9sbG93ZWQgYnkgYFByb3ZpZGVyYC5cbiAqIEZvciBleGFtcGxlLCB0aGUge0BsaW5rIG5nLiRsb2cgJGxvZ30gc2VydmljZSBoYXMgYSBwcm92aWRlciBjYWxsZWRcbiAqIHtAbGluayBuZy4kbG9nUHJvdmlkZXIgJGxvZ1Byb3ZpZGVyfS5cbiAqXG4gKiBTZXJ2aWNlIHByb3ZpZGVyIG9iamVjdHMgY2FuIGhhdmUgYWRkaXRpb25hbCBtZXRob2RzIHdoaWNoIGFsbG93IGNvbmZpZ3VyYXRpb24gb2YgdGhlIHByb3ZpZGVyXG4gKiBhbmQgaXRzIHNlcnZpY2UuIEltcG9ydGFudGx5LCB5b3UgY2FuIGNvbmZpZ3VyZSB3aGF0IGtpbmQgb2Ygc2VydmljZSBpcyBjcmVhdGVkIGJ5IHRoZSBgJGdldGBcbiAqIG1ldGhvZCwgb3IgaG93IHRoYXQgc2VydmljZSB3aWxsIGFjdC4gRm9yIGV4YW1wbGUsIHRoZSB7QGxpbmsgbmcuJGxvZ1Byb3ZpZGVyICRsb2dQcm92aWRlcn0gaGFzIGFcbiAqIG1ldGhvZCB7QGxpbmsgbmcuJGxvZ1Byb3ZpZGVyI2RlYnVnRW5hYmxlZCBkZWJ1Z0VuYWJsZWR9XG4gKiB3aGljaCBsZXRzIHlvdSBzcGVjaWZ5IHdoZXRoZXIgdGhlIHtAbGluayBuZy4kbG9nICRsb2d9IHNlcnZpY2Ugd2lsbCBsb2cgZGVidWcgbWVzc2FnZXMgdG8gdGhlXG4gKiBjb25zb2xlIG9yIG5vdC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgaW5zdGFuY2UuIE5PVEU6IHRoZSBwcm92aWRlciB3aWxsIGJlIGF2YWlsYWJsZSB1bmRlciBgbmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAnUHJvdmlkZXInYCBrZXkuXG4gKiBAcGFyYW0geyhPYmplY3R8ZnVuY3Rpb24oKSl9IHByb3ZpZGVyIElmIHRoZSBwcm92aWRlciBpczpcbiAqXG4gKiAgIC0gYE9iamVjdGA6IHRoZW4gaXQgc2hvdWxkIGhhdmUgYSBgJGdldGAgbWV0aG9kLiBUaGUgYCRnZXRgIG1ldGhvZCB3aWxsIGJlIGludm9rZWQgdXNpbmdcbiAqICAgICB7QGxpbmsgYXV0by4kaW5qZWN0b3IjaW52b2tlICRpbmplY3Rvci5pbnZva2UoKX0gd2hlbiBhbiBpbnN0YW5jZSBuZWVkcyB0byBiZSBjcmVhdGVkLlxuICogICAtIGBDb25zdHJ1Y3RvcmA6IGEgbmV3IGluc3RhbmNlIG9mIHRoZSBwcm92aWRlciB3aWxsIGJlIGNyZWF0ZWQgdXNpbmdcbiAqICAgICB7QGxpbmsgYXV0by4kaW5qZWN0b3IjaW5zdGFudGlhdGUgJGluamVjdG9yLmluc3RhbnRpYXRlKCl9LCB0aGVuIHRyZWF0ZWQgYXMgYG9iamVjdGAuXG4gKlxuICogQHJldHVybnMge09iamVjdH0gcmVnaXN0ZXJlZCBwcm92aWRlciBpbnN0YW5jZVxuXG4gKiBAZXhhbXBsZVxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBob3cgdG8gY3JlYXRlIGEgc2ltcGxlIGV2ZW50IHRyYWNraW5nIHNlcnZpY2UgYW5kIHJlZ2lzdGVyIGl0IHVzaW5nXG4gKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNwcm92aWRlciAkcHJvdmlkZS5wcm92aWRlcigpfS5cbiAqXG4gKiBgYGBqc1xuICogIC8vIERlZmluZSB0aGUgZXZlbnRUcmFja2VyIHByb3ZpZGVyXG4gKiAgZnVuY3Rpb24gRXZlbnRUcmFja2VyUHJvdmlkZXIoKSB7XG4gKiAgICB2YXIgdHJhY2tpbmdVcmwgPSAnL3RyYWNrJztcbiAqXG4gKiAgICAvLyBBIHByb3ZpZGVyIG1ldGhvZCBmb3IgY29uZmlndXJpbmcgd2hlcmUgdGhlIHRyYWNrZWQgZXZlbnRzIHNob3VsZCBiZWVuIHNhdmVkXG4gKiAgICB0aGlzLnNldFRyYWNraW5nVXJsID0gZnVuY3Rpb24odXJsKSB7XG4gKiAgICAgIHRyYWNraW5nVXJsID0gdXJsO1xuICogICAgfTtcbiAqXG4gKiAgICAvLyBUaGUgc2VydmljZSBmYWN0b3J5IGZ1bmN0aW9uXG4gKiAgICB0aGlzLiRnZXQgPSBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcbiAqICAgICAgdmFyIHRyYWNrZWRFdmVudHMgPSB7fTtcbiAqICAgICAgcmV0dXJuIHtcbiAqICAgICAgICAvLyBDYWxsIHRoaXMgdG8gdHJhY2sgYW4gZXZlbnRcbiAqICAgICAgICBldmVudDogZnVuY3Rpb24oZXZlbnQpIHtcbiAqICAgICAgICAgIHZhciBjb3VudCA9IHRyYWNrZWRFdmVudHNbZXZlbnRdIHx8IDA7XG4gKiAgICAgICAgICBjb3VudCArPSAxO1xuICogICAgICAgICAgdHJhY2tlZEV2ZW50c1tldmVudF0gPSBjb3VudDtcbiAqICAgICAgICAgIHJldHVybiBjb3VudDtcbiAqICAgICAgICB9LFxuICogICAgICAgIC8vIENhbGwgdGhpcyB0byBzYXZlIHRoZSB0cmFja2VkIGV2ZW50cyB0byB0aGUgdHJhY2tpbmdVcmxcbiAqICAgICAgICBzYXZlOiBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICRodHRwLnBvc3QodHJhY2tpbmdVcmwsIHRyYWNrZWRFdmVudHMpO1xuICogICAgICAgIH1cbiAqICAgICAgfTtcbiAqICAgIH1dO1xuICogIH1cbiAqXG4gKiAgZGVzY3JpYmUoJ2V2ZW50VHJhY2tlcicsIGZ1bmN0aW9uKCkge1xuICogICAgdmFyIHBvc3RTcHk7XG4gKlxuICogICAgYmVmb3JlRWFjaChtb2R1bGUoZnVuY3Rpb24oJHByb3ZpZGUpIHtcbiAqICAgICAgLy8gUmVnaXN0ZXIgdGhlIGV2ZW50VHJhY2tlciBwcm92aWRlclxuICogICAgICAkcHJvdmlkZS5wcm92aWRlcignZXZlbnRUcmFja2VyJywgRXZlbnRUcmFja2VyUHJvdmlkZXIpO1xuICogICAgfSkpO1xuICpcbiAqICAgIGJlZm9yZUVhY2gobW9kdWxlKGZ1bmN0aW9uKGV2ZW50VHJhY2tlclByb3ZpZGVyKSB7XG4gKiAgICAgIC8vIENvbmZpZ3VyZSBldmVudFRyYWNrZXIgcHJvdmlkZXJcbiAqICAgICAgZXZlbnRUcmFja2VyUHJvdmlkZXIuc2V0VHJhY2tpbmdVcmwoJy9jdXN0b20tdHJhY2snKTtcbiAqICAgIH0pKTtcbiAqXG4gKiAgICBpdCgndHJhY2tzIGV2ZW50cycsIGluamVjdChmdW5jdGlvbihldmVudFRyYWNrZXIpIHtcbiAqICAgICAgZXhwZWN0KGV2ZW50VHJhY2tlci5ldmVudCgnbG9naW4nKSkudG9FcXVhbCgxKTtcbiAqICAgICAgZXhwZWN0KGV2ZW50VHJhY2tlci5ldmVudCgnbG9naW4nKSkudG9FcXVhbCgyKTtcbiAqICAgIH0pKTtcbiAqXG4gKiAgICBpdCgnc2F2ZXMgdG8gdGhlIHRyYWNraW5nIHVybCcsIGluamVjdChmdW5jdGlvbihldmVudFRyYWNrZXIsICRodHRwKSB7XG4gKiAgICAgIHBvc3RTcHkgPSBzcHlPbigkaHR0cCwgJ3Bvc3QnKTtcbiAqICAgICAgZXZlbnRUcmFja2VyLmV2ZW50KCdsb2dpbicpO1xuICogICAgICBldmVudFRyYWNrZXIuc2F2ZSgpO1xuICogICAgICBleHBlY3QocG9zdFNweSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICogICAgICBleHBlY3QocG9zdFNweS5tb3N0UmVjZW50Q2FsbC5hcmdzWzBdKS5ub3QudG9FcXVhbCgnL3RyYWNrJyk7XG4gKiAgICAgIGV4cGVjdChwb3N0U3B5Lm1vc3RSZWNlbnRDYWxsLmFyZ3NbMF0pLnRvRXF1YWwoJy9jdXN0b20tdHJhY2snKTtcbiAqICAgICAgZXhwZWN0KHBvc3RTcHkubW9zdFJlY2VudENhbGwuYXJnc1sxXSkudG9FcXVhbCh7ICdsb2dpbic6IDEgfSk7XG4gKiAgICB9KSk7XG4gKiAgfSk7XG4gKiBgYGBcbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRwcm92aWRlI2ZhY3RvcnlcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFJlZ2lzdGVyIGEgKipzZXJ2aWNlIGZhY3RvcnkqKiwgd2hpY2ggd2lsbCBiZSBjYWxsZWQgdG8gcmV0dXJuIHRoZSBzZXJ2aWNlIGluc3RhbmNlLlxuICogVGhpcyBpcyBzaG9ydCBmb3IgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlIHdoZXJlIGl0cyBwcm92aWRlciBjb25zaXN0cyBvZiBvbmx5IGEgYCRnZXRgIHByb3BlcnR5LFxuICogd2hpY2ggaXMgdGhlIGdpdmVuIHNlcnZpY2UgZmFjdG9yeSBmdW5jdGlvbi5cbiAqIFlvdSBzaG91bGQgdXNlIHtAbGluayBhdXRvLiRwcm92aWRlI2ZhY3RvcnkgJHByb3ZpZGUuZmFjdG9yeShnZXRGbil9IGlmIHlvdSBkbyBub3QgbmVlZCB0b1xuICogY29uZmlndXJlIHlvdXIgc2VydmljZSBpbiBhIHByb3ZpZGVyLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gJGdldEZuIFRoZSAkZ2V0Rm4gZm9yIHRoZSBpbnN0YW5jZSBjcmVhdGlvbi4gSW50ZXJuYWxseSB0aGlzIGlzIGEgc2hvcnQgaGFuZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGAkcHJvdmlkZS5wcm92aWRlcihuYW1lLCB7JGdldDogJGdldEZufSlgLlxuICogQHJldHVybnMge09iamVjdH0gcmVnaXN0ZXJlZCBwcm92aWRlciBpbnN0YW5jZVxuICpcbiAqIEBleGFtcGxlXG4gKiBIZXJlIGlzIGFuIGV4YW1wbGUgb2YgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlXG4gKiBgYGBqc1xuICogICAkcHJvdmlkZS5mYWN0b3J5KCdwaW5nJywgWyckaHR0cCcsIGZ1bmN0aW9uKCRodHRwKSB7XG4gKiAgICAgcmV0dXJuIGZ1bmN0aW9uIHBpbmcoKSB7XG4gKiAgICAgICByZXR1cm4gJGh0dHAuc2VuZCgnL3BpbmcnKTtcbiAqICAgICB9O1xuICogICB9XSk7XG4gKiBgYGBcbiAqIFlvdSB3b3VsZCB0aGVuIGluamVjdCBhbmQgdXNlIHRoaXMgc2VydmljZSBsaWtlIHRoaXM6XG4gKiBgYGBqc1xuICogICBzb21lTW9kdWxlLmNvbnRyb2xsZXIoJ0N0cmwnLCBbJ3BpbmcnLCBmdW5jdGlvbihwaW5nKSB7XG4gKiAgICAgcGluZygpO1xuICogICB9XSk7XG4gKiBgYGBcbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJHByb3ZpZGUjc2VydmljZVxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUmVnaXN0ZXIgYSAqKnNlcnZpY2UgY29uc3RydWN0b3IqKiwgd2hpY2ggd2lsbCBiZSBpbnZva2VkIHdpdGggYG5ld2AgdG8gY3JlYXRlIHRoZSBzZXJ2aWNlXG4gKiBpbnN0YW5jZS5cbiAqIFRoaXMgaXMgc2hvcnQgZm9yIHJlZ2lzdGVyaW5nIGEgc2VydmljZSB3aGVyZSBpdHMgcHJvdmlkZXIncyBgJGdldGAgcHJvcGVydHkgaXMgdGhlIHNlcnZpY2VcbiAqIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGluc3RhbnRpYXRlIHRoZSBzZXJ2aWNlIGluc3RhbmNlLlxuICpcbiAqIFlvdSBzaG91bGQgdXNlIHtAbGluayBhdXRvLiRwcm92aWRlI3NlcnZpY2UgJHByb3ZpZGUuc2VydmljZShjbGFzcyl9IGlmIHlvdSBkZWZpbmUgeW91ciBzZXJ2aWNlXG4gKiBhcyBhIHR5cGUvY2xhc3MuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGluc3RhbmNlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY29uc3RydWN0b3IgQSBjbGFzcyAoY29uc3RydWN0b3IgZnVuY3Rpb24pIHRoYXQgd2lsbCBiZSBpbnN0YW50aWF0ZWQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSByZWdpc3RlcmVkIHByb3ZpZGVyIGluc3RhbmNlXG4gKlxuICogQGV4YW1wbGVcbiAqIEhlcmUgaXMgYW4gZXhhbXBsZSBvZiByZWdpc3RlcmluZyBhIHNlcnZpY2UgdXNpbmdcbiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3NlcnZpY2UgJHByb3ZpZGUuc2VydmljZShjbGFzcyl9LlxuICogYGBganNcbiAqICAgdmFyIFBpbmcgPSBmdW5jdGlvbigkaHR0cCkge1xuICogICAgIHRoaXMuJGh0dHAgPSAkaHR0cDtcbiAqICAgfTtcbiAqXG4gKiAgIFBpbmcuJGluamVjdCA9IFsnJGh0dHAnXTtcbiAqXG4gKiAgIFBpbmcucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbigpIHtcbiAqICAgICByZXR1cm4gdGhpcy4kaHR0cC5nZXQoJy9waW5nJyk7XG4gKiAgIH07XG4gKiAgICRwcm92aWRlLnNlcnZpY2UoJ3BpbmcnLCBQaW5nKTtcbiAqIGBgYFxuICogWW91IHdvdWxkIHRoZW4gaW5qZWN0IGFuZCB1c2UgdGhpcyBzZXJ2aWNlIGxpa2UgdGhpczpcbiAqIGBgYGpzXG4gKiAgIHNvbWVNb2R1bGUuY29udHJvbGxlcignQ3RybCcsIFsncGluZycsIGZ1bmN0aW9uKHBpbmcpIHtcbiAqICAgICBwaW5nLnNlbmQoKTtcbiAqICAgfV0pO1xuICogYGBgXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRwcm92aWRlI3ZhbHVlXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBSZWdpc3RlciBhICoqdmFsdWUgc2VydmljZSoqIHdpdGggdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LCBzdWNoIGFzIGEgc3RyaW5nLCBhXG4gKiBudW1iZXIsIGFuIGFycmF5LCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbi4gIFRoaXMgaXMgc2hvcnQgZm9yIHJlZ2lzdGVyaW5nIGEgc2VydmljZSB3aGVyZSBpdHNcbiAqIHByb3ZpZGVyJ3MgYCRnZXRgIHByb3BlcnR5IGlzIGEgZmFjdG9yeSBmdW5jdGlvbiB0aGF0IHRha2VzIG5vIGFyZ3VtZW50cyBhbmQgcmV0dXJucyB0aGUgKip2YWx1ZVxuICogc2VydmljZSoqLlxuICpcbiAqIFZhbHVlIHNlcnZpY2VzIGFyZSBzaW1pbGFyIHRvIGNvbnN0YW50IHNlcnZpY2VzLCBleGNlcHQgdGhhdCB0aGV5IGNhbm5vdCBiZSBpbmplY3RlZCBpbnRvIGFcbiAqIG1vZHVsZSBjb25maWd1cmF0aW9uIGZ1bmN0aW9uIChzZWUge0BsaW5rIGFuZ3VsYXIuTW9kdWxlI2NvbmZpZ30pIGJ1dCB0aGV5IGNhbiBiZSBvdmVycmlkZGVuIGJ5XG4gKiBhbiBBbmd1bGFyXG4gKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNkZWNvcmF0b3IgZGVjb3JhdG9yfS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IHJlZ2lzdGVyZWQgcHJvdmlkZXIgaW5zdGFuY2VcbiAqXG4gKiBAZXhhbXBsZVxuICogSGVyZSBhcmUgc29tZSBleGFtcGxlcyBvZiBjcmVhdGluZyB2YWx1ZSBzZXJ2aWNlcy5cbiAqIGBgYGpzXG4gKiAgICRwcm92aWRlLnZhbHVlKCdBRE1JTl9VU0VSJywgJ2FkbWluJyk7XG4gKlxuICogICAkcHJvdmlkZS52YWx1ZSgnUm9sZUxvb2t1cCcsIHsgYWRtaW46IDAsIHdyaXRlcjogMSwgcmVhZGVyOiAyIH0pO1xuICpcbiAqICAgJHByb3ZpZGUudmFsdWUoJ2hhbGZPZicsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gKiAgICAgcmV0dXJuIHZhbHVlIC8gMjtcbiAqICAgfSk7XG4gKiBgYGBcbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJHByb3ZpZGUjY29uc3RhbnRcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFJlZ2lzdGVyIGEgKipjb25zdGFudCBzZXJ2aWNlKiosIHN1Y2ggYXMgYSBzdHJpbmcsIGEgbnVtYmVyLCBhbiBhcnJheSwgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24sXG4gKiB3aXRoIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS4gVW5saWtlIHtAbGluayBhdXRvLiRwcm92aWRlI3ZhbHVlIHZhbHVlfSBpdCBjYW4gYmVcbiAqIGluamVjdGVkIGludG8gYSBtb2R1bGUgY29uZmlndXJhdGlvbiBmdW5jdGlvbiAoc2VlIHtAbGluayBhbmd1bGFyLk1vZHVsZSNjb25maWd9KSBhbmQgaXQgY2Fubm90XG4gKiBiZSBvdmVycmlkZGVuIGJ5IGFuIEFuZ3VsYXIge0BsaW5rIGF1dG8uJHByb3ZpZGUjZGVjb3JhdG9yIGRlY29yYXRvcn0uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGNvbnN0YW50LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgY29uc3RhbnQgdmFsdWUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSByZWdpc3RlcmVkIGluc3RhbmNlXG4gKlxuICogQGV4YW1wbGVcbiAqIEhlcmUgYSBzb21lIGV4YW1wbGVzIG9mIGNyZWF0aW5nIGNvbnN0YW50czpcbiAqIGBgYGpzXG4gKiAgICRwcm92aWRlLmNvbnN0YW50KCdTSEFSRF9IRUlHSFQnLCAzMDYpO1xuICpcbiAqICAgJHByb3ZpZGUuY29uc3RhbnQoJ01ZX0NPTE9VUlMnLCBbJ3JlZCcsICdibHVlJywgJ2dyZXknXSk7XG4gKlxuICogICAkcHJvdmlkZS5jb25zdGFudCgnZG91YmxlJywgZnVuY3Rpb24odmFsdWUpIHtcbiAqICAgICByZXR1cm4gdmFsdWUgKiAyO1xuICogICB9KTtcbiAqIGBgYFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkcHJvdmlkZSNkZWNvcmF0b3JcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFJlZ2lzdGVyIGEgKipzZXJ2aWNlIGRlY29yYXRvcioqIHdpdGggdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LiBBIHNlcnZpY2UgZGVjb3JhdG9yXG4gKiBpbnRlcmNlcHRzIHRoZSBjcmVhdGlvbiBvZiBhIHNlcnZpY2UsIGFsbG93aW5nIGl0IHRvIG92ZXJyaWRlIG9yIG1vZGlmeSB0aGUgYmVoYXZpb3VyIG9mIHRoZVxuICogc2VydmljZS4gVGhlIG9iamVjdCByZXR1cm5lZCBieSB0aGUgZGVjb3JhdG9yIG1heSBiZSB0aGUgb3JpZ2luYWwgc2VydmljZSwgb3IgYSBuZXcgc2VydmljZVxuICogb2JqZWN0IHdoaWNoIHJlcGxhY2VzIG9yIHdyYXBzIGFuZCBkZWxlZ2F0ZXMgdG8gdGhlIG9yaWdpbmFsIHNlcnZpY2UuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIHNlcnZpY2UgdG8gZGVjb3JhdGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGRlY29yYXRvciBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgaW52b2tlZCB3aGVuIHRoZSBzZXJ2aWNlIG5lZWRzIHRvIGJlXG4gKiAgICBpbnN0YW50aWF0ZWQgYW5kIHNob3VsZCByZXR1cm4gdGhlIGRlY29yYXRlZCBzZXJ2aWNlIGluc3RhbmNlLiBUaGUgZnVuY3Rpb24gaXMgY2FsbGVkIHVzaW5nXG4gKiAgICB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yI2ludm9rZSBpbmplY3Rvci5pbnZva2V9IG1ldGhvZCBhbmQgaXMgdGhlcmVmb3JlIGZ1bGx5IGluamVjdGFibGUuXG4gKiAgICBMb2NhbCBpbmplY3Rpb24gYXJndW1lbnRzOlxuICpcbiAqICAgICogYCRkZWxlZ2F0ZWAgLSBUaGUgb3JpZ2luYWwgc2VydmljZSBpbnN0YW5jZSwgd2hpY2ggY2FuIGJlIG1vbmtleSBwYXRjaGVkLCBjb25maWd1cmVkLFxuICogICAgICBkZWNvcmF0ZWQgb3IgZGVsZWdhdGVkIHRvLlxuICpcbiAqIEBleGFtcGxlXG4gKiBIZXJlIHdlIGRlY29yYXRlIHRoZSB7QGxpbmsgbmcuJGxvZyAkbG9nfSBzZXJ2aWNlIHRvIGNvbnZlcnQgd2FybmluZ3MgdG8gZXJyb3JzIGJ5IGludGVyY2VwdGluZ1xuICogY2FsbHMgdG8ge0BsaW5rIG5nLiRsb2cjZXJyb3IgJGxvZy53YXJuKCl9LlxuICogYGBganNcbiAqICAgJHByb3ZpZGUuZGVjb3JhdG9yKCckbG9nJywgWyckZGVsZWdhdGUnLCBmdW5jdGlvbigkZGVsZWdhdGUpIHtcbiAqICAgICAkZGVsZWdhdGUud2FybiA9ICRkZWxlZ2F0ZS5lcnJvcjtcbiAqICAgICByZXR1cm4gJGRlbGVnYXRlO1xuICogICB9XSk7XG4gKiBgYGBcbiAqL1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZUluamVjdG9yKG1vZHVsZXNUb0xvYWQsIHN0cmljdERpKSB7XG4gIHN0cmljdERpID0gKHN0cmljdERpID09PSB0cnVlKTtcbiAgdmFyIElOU1RBTlRJQVRJTkcgPSB7fSxcbiAgICAgIHByb3ZpZGVyU3VmZml4ID0gJ1Byb3ZpZGVyJyxcbiAgICAgIHBhdGggPSBbXSxcbiAgICAgIGxvYWRlZE1vZHVsZXMgPSBuZXcgSGFzaE1hcChbXSwgdHJ1ZSksXG4gICAgICBwcm92aWRlckNhY2hlID0ge1xuICAgICAgICAkcHJvdmlkZToge1xuICAgICAgICAgICAgcHJvdmlkZXI6IHN1cHBvcnRPYmplY3QocHJvdmlkZXIpLFxuICAgICAgICAgICAgZmFjdG9yeTogc3VwcG9ydE9iamVjdChmYWN0b3J5KSxcbiAgICAgICAgICAgIHNlcnZpY2U6IHN1cHBvcnRPYmplY3Qoc2VydmljZSksXG4gICAgICAgICAgICB2YWx1ZTogc3VwcG9ydE9iamVjdCh2YWx1ZSksXG4gICAgICAgICAgICBjb25zdGFudDogc3VwcG9ydE9iamVjdChjb25zdGFudCksXG4gICAgICAgICAgICBkZWNvcmF0b3I6IGRlY29yYXRvclxuICAgICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwcm92aWRlckluamVjdG9yID0gKHByb3ZpZGVyQ2FjaGUuJGluamVjdG9yID1cbiAgICAgICAgICBjcmVhdGVJbnRlcm5hbEluamVjdG9yKHByb3ZpZGVyQ2FjaGUsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCd1bnByJywgXCJVbmtub3duIHByb3ZpZGVyOiB7MH1cIiwgcGF0aC5qb2luKCcgPC0gJykpO1xuICAgICAgICAgIH0pKSxcbiAgICAgIGluc3RhbmNlQ2FjaGUgPSB7fSxcbiAgICAgIGluc3RhbmNlSW5qZWN0b3IgPSAoaW5zdGFuY2VDYWNoZS4kaW5qZWN0b3IgPVxuICAgICAgICAgIGNyZWF0ZUludGVybmFsSW5qZWN0b3IoaW5zdGFuY2VDYWNoZSwgZnVuY3Rpb24oc2VydmljZW5hbWUpIHtcbiAgICAgICAgICAgIHZhciBwcm92aWRlciA9IHByb3ZpZGVySW5qZWN0b3IuZ2V0KHNlcnZpY2VuYW1lICsgcHJvdmlkZXJTdWZmaXgpO1xuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlSW5qZWN0b3IuaW52b2tlKHByb3ZpZGVyLiRnZXQsIHByb3ZpZGVyLCB1bmRlZmluZWQsIHNlcnZpY2VuYW1lKTtcbiAgICAgICAgICB9KSk7XG5cblxuICBmb3JFYWNoKGxvYWRNb2R1bGVzKG1vZHVsZXNUb0xvYWQpLCBmdW5jdGlvbihmbikgeyBpbnN0YW5jZUluamVjdG9yLmludm9rZShmbiB8fCBub29wKTsgfSk7XG5cbiAgcmV0dXJuIGluc3RhbmNlSW5qZWN0b3I7XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vICRwcm92aWRlclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICBmdW5jdGlvbiBzdXBwb3J0T2JqZWN0KGRlbGVnYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChpc09iamVjdChrZXkpKSB7XG4gICAgICAgIGZvckVhY2goa2V5LCByZXZlcnNlUGFyYW1zKGRlbGVnYXRlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZGVsZWdhdGUoa2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb3ZpZGVyKG5hbWUsIHByb3ZpZGVyXykge1xuICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsICdzZXJ2aWNlJyk7XG4gICAgaWYgKGlzRnVuY3Rpb24ocHJvdmlkZXJfKSB8fCBpc0FycmF5KHByb3ZpZGVyXykpIHtcbiAgICAgIHByb3ZpZGVyXyA9IHByb3ZpZGVySW5qZWN0b3IuaW5zdGFudGlhdGUocHJvdmlkZXJfKTtcbiAgICB9XG4gICAgaWYgKCFwcm92aWRlcl8uJGdldCkge1xuICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdwZ2V0JywgXCJQcm92aWRlciAnezB9JyBtdXN0IGRlZmluZSAkZ2V0IGZhY3RvcnkgbWV0aG9kLlwiLCBuYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb3ZpZGVyQ2FjaGVbbmFtZSArIHByb3ZpZGVyU3VmZml4XSA9IHByb3ZpZGVyXztcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuZm9yY2VSZXR1cm5WYWx1ZShuYW1lLCBmYWN0b3J5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGVuZm9yY2VkUmV0dXJuVmFsdWUoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gaW5zdGFuY2VJbmplY3Rvci5pbnZva2UoZmFjdG9yeSwgdGhpcywgdW5kZWZpbmVkLCBuYW1lKTtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChyZXN1bHQpKSB7XG4gICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycigndW5kZWYnLCBcIlByb3ZpZGVyICd7MH0nIG11c3QgcmV0dXJuIGEgdmFsdWUgZnJvbSAkZ2V0IGZhY3RvcnkgbWV0aG9kLlwiLCBuYW1lKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZhY3RvcnkobmFtZSwgZmFjdG9yeUZuLCBlbmZvcmNlKSB7XG4gICAgcmV0dXJuIHByb3ZpZGVyKG5hbWUsIHtcbiAgICAgICRnZXQ6IGVuZm9yY2UgIT09IGZhbHNlID8gZW5mb3JjZVJldHVyblZhbHVlKG5hbWUsIGZhY3RvcnlGbikgOiBmYWN0b3J5Rm5cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlcnZpY2UobmFtZSwgY29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gZmFjdG9yeShuYW1lLCBbJyRpbmplY3RvcicsIGZ1bmN0aW9uKCRpbmplY3Rvcikge1xuICAgICAgcmV0dXJuICRpbmplY3Rvci5pbnN0YW50aWF0ZShjb25zdHJ1Y3Rvcik7XG4gICAgfV0pO1xuICB9XG5cbiAgZnVuY3Rpb24gdmFsdWUobmFtZSwgdmFsKSB7IHJldHVybiBmYWN0b3J5KG5hbWUsIHZhbHVlRm4odmFsKSwgZmFsc2UpOyB9XG5cbiAgZnVuY3Rpb24gY29uc3RhbnQobmFtZSwgdmFsdWUpIHtcbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCAnY29uc3RhbnQnKTtcbiAgICBwcm92aWRlckNhY2hlW25hbWVdID0gdmFsdWU7XG4gICAgaW5zdGFuY2VDYWNoZVtuYW1lXSA9IHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVjb3JhdG9yKHNlcnZpY2VOYW1lLCBkZWNvckZuKSB7XG4gICAgdmFyIG9yaWdQcm92aWRlciA9IHByb3ZpZGVySW5qZWN0b3IuZ2V0KHNlcnZpY2VOYW1lICsgcHJvdmlkZXJTdWZmaXgpLFxuICAgICAgICBvcmlnJGdldCA9IG9yaWdQcm92aWRlci4kZ2V0O1xuXG4gICAgb3JpZ1Byb3ZpZGVyLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvcmlnSW5zdGFuY2UgPSBpbnN0YW5jZUluamVjdG9yLmludm9rZShvcmlnJGdldCwgb3JpZ1Byb3ZpZGVyKTtcbiAgICAgIHJldHVybiBpbnN0YW5jZUluamVjdG9yLmludm9rZShkZWNvckZuLCBudWxsLCB7JGRlbGVnYXRlOiBvcmlnSW5zdGFuY2V9KTtcbiAgICB9O1xuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIE1vZHVsZSBMb2FkaW5nXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBmdW5jdGlvbiBsb2FkTW9kdWxlcyhtb2R1bGVzVG9Mb2FkKSB7XG4gICAgdmFyIHJ1bkJsb2NrcyA9IFtdLCBtb2R1bGVGbjtcbiAgICBmb3JFYWNoKG1vZHVsZXNUb0xvYWQsIGZ1bmN0aW9uKG1vZHVsZSkge1xuICAgICAgaWYgKGxvYWRlZE1vZHVsZXMuZ2V0KG1vZHVsZSkpIHJldHVybjtcbiAgICAgIGxvYWRlZE1vZHVsZXMucHV0KG1vZHVsZSwgdHJ1ZSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJ1bkludm9rZVF1ZXVlKHF1ZXVlKSB7XG4gICAgICAgIHZhciBpLCBpaTtcbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBxdWV1ZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgdmFyIGludm9rZUFyZ3MgPSBxdWV1ZVtpXSxcbiAgICAgICAgICAgICAgcHJvdmlkZXIgPSBwcm92aWRlckluamVjdG9yLmdldChpbnZva2VBcmdzWzBdKTtcblxuICAgICAgICAgIHByb3ZpZGVyW2ludm9rZUFyZ3NbMV1dLmFwcGx5KHByb3ZpZGVyLCBpbnZva2VBcmdzWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBpZiAoaXNTdHJpbmcobW9kdWxlKSkge1xuICAgICAgICAgIG1vZHVsZUZuID0gYW5ndWxhck1vZHVsZShtb2R1bGUpO1xuICAgICAgICAgIHJ1bkJsb2NrcyA9IHJ1bkJsb2Nrcy5jb25jYXQobG9hZE1vZHVsZXMobW9kdWxlRm4ucmVxdWlyZXMpKS5jb25jYXQobW9kdWxlRm4uX3J1bkJsb2Nrcyk7XG4gICAgICAgICAgcnVuSW52b2tlUXVldWUobW9kdWxlRm4uX2ludm9rZVF1ZXVlKTtcbiAgICAgICAgICBydW5JbnZva2VRdWV1ZShtb2R1bGVGbi5fY29uZmlnQmxvY2tzKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKG1vZHVsZSkpIHtcbiAgICAgICAgICAgIHJ1bkJsb2Nrcy5wdXNoKHByb3ZpZGVySW5qZWN0b3IuaW52b2tlKG1vZHVsZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkobW9kdWxlKSkge1xuICAgICAgICAgICAgcnVuQmxvY2tzLnB1c2gocHJvdmlkZXJJbmplY3Rvci5pbnZva2UobW9kdWxlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXNzZXJ0QXJnRm4obW9kdWxlLCAnbW9kdWxlJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkobW9kdWxlKSkge1xuICAgICAgICAgIG1vZHVsZSA9IG1vZHVsZVttb2R1bGUubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUubWVzc2FnZSAmJiBlLnN0YWNrICYmIGUuc3RhY2suaW5kZXhPZihlLm1lc3NhZ2UpID09IC0xKSB7XG4gICAgICAgICAgLy8gU2FmYXJpICYgRkYncyBzdGFjayB0cmFjZXMgZG9uJ3QgY29udGFpbiBlcnJvci5tZXNzYWdlIGNvbnRlbnRcbiAgICAgICAgICAvLyB1bmxpa2UgdGhvc2Ugb2YgQ2hyb21lIGFuZCBJRVxuICAgICAgICAgIC8vIFNvIGlmIHN0YWNrIGRvZXNuJ3QgY29udGFpbiBtZXNzYWdlLCB3ZSBjcmVhdGUgYSBuZXcgc3RyaW5nIHRoYXQgY29udGFpbnMgYm90aC5cbiAgICAgICAgICAvLyBTaW5jZSBlcnJvci5zdGFjayBpcyByZWFkLW9ubHkgaW4gU2FmYXJpLCBJJ20gb3ZlcnJpZGluZyBlIGFuZCBub3QgZS5zdGFjayBoZXJlLlxuICAgICAgICAgIC8qIGpzaGludCAtVzAyMiAqL1xuICAgICAgICAgIGUgPSBlLm1lc3NhZ2UgKyAnXFxuJyArIGUuc3RhY2s7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdtb2R1bGVycicsIFwiRmFpbGVkIHRvIGluc3RhbnRpYXRlIG1vZHVsZSB7MH0gZHVlIHRvOlxcbnsxfVwiLFxuICAgICAgICAgICAgICAgICAgbW9kdWxlLCBlLnN0YWNrIHx8IGUubWVzc2FnZSB8fCBlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcnVuQmxvY2tzO1xuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIGludGVybmFsIEluamVjdG9yXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUludGVybmFsSW5qZWN0b3IoY2FjaGUsIGZhY3RvcnkpIHtcblxuICAgIGZ1bmN0aW9uIGdldFNlcnZpY2Uoc2VydmljZU5hbWUpIHtcbiAgICAgIGlmIChjYWNoZS5oYXNPd25Qcm9wZXJ0eShzZXJ2aWNlTmFtZSkpIHtcbiAgICAgICAgaWYgKGNhY2hlW3NlcnZpY2VOYW1lXSA9PT0gSU5TVEFOVElBVElORykge1xuICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycignY2RlcCcsICdDaXJjdWxhciBkZXBlbmRlbmN5IGZvdW5kOiB7MH0nLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlTmFtZSArICcgPC0gJyArIHBhdGguam9pbignIDwtICcpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FjaGVbc2VydmljZU5hbWVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBwYXRoLnVuc2hpZnQoc2VydmljZU5hbWUpO1xuICAgICAgICAgIGNhY2hlW3NlcnZpY2VOYW1lXSA9IElOU1RBTlRJQVRJTkc7XG4gICAgICAgICAgcmV0dXJuIGNhY2hlW3NlcnZpY2VOYW1lXSA9IGZhY3Rvcnkoc2VydmljZU5hbWUpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBpZiAoY2FjaGVbc2VydmljZU5hbWVdID09PSBJTlNUQU5USUFUSU5HKSB7XG4gICAgICAgICAgICBkZWxldGUgY2FjaGVbc2VydmljZU5hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgcGF0aC5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW52b2tlKGZuLCBzZWxmLCBsb2NhbHMsIHNlcnZpY2VOYW1lKSB7XG4gICAgICBpZiAodHlwZW9mIGxvY2FscyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgc2VydmljZU5hbWUgPSBsb2NhbHM7XG4gICAgICAgIGxvY2FscyA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciBhcmdzID0gW10sXG4gICAgICAgICAgJGluamVjdCA9IGFubm90YXRlKGZuLCBzdHJpY3REaSwgc2VydmljZU5hbWUpLFxuICAgICAgICAgIGxlbmd0aCwgaSxcbiAgICAgICAgICBrZXk7XG5cbiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9ICRpbmplY3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAga2V5ID0gJGluamVjdFtpXTtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdpdGtuJyxcbiAgICAgICAgICAgICAgICAgICdJbmNvcnJlY3QgaW5qZWN0aW9uIHRva2VuISBFeHBlY3RlZCBzZXJ2aWNlIG5hbWUgYXMgc3RyaW5nLCBnb3QgezB9Jywga2V5KTtcbiAgICAgICAgfVxuICAgICAgICBhcmdzLnB1c2goXG4gICAgICAgICAgbG9jYWxzICYmIGxvY2Fscy5oYXNPd25Qcm9wZXJ0eShrZXkpXG4gICAgICAgICAgPyBsb2NhbHNba2V5XVxuICAgICAgICAgIDogZ2V0U2VydmljZShrZXkpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheShmbikpIHtcbiAgICAgICAgZm4gPSBmbltsZW5ndGhdO1xuICAgICAgfVxuXG4gICAgICAvLyBodHRwOi8vanNwZXJmLmNvbS9hbmd1bGFyanMtaW52b2tlLWFwcGx5LXZzLXN3aXRjaFxuICAgICAgLy8gIzUzODhcbiAgICAgIHJldHVybiBmbi5hcHBseShzZWxmLCBhcmdzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YW50aWF0ZShUeXBlLCBsb2NhbHMsIHNlcnZpY2VOYW1lKSB7XG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHt9LFxuICAgICAgICAgIGluc3RhbmNlLCByZXR1cm5lZFZhbHVlO1xuXG4gICAgICAvLyBDaGVjayBpZiBUeXBlIGlzIGFubm90YXRlZCBhbmQgdXNlIGp1c3QgdGhlIGdpdmVuIGZ1bmN0aW9uIGF0IG4tMSBhcyBwYXJhbWV0ZXJcbiAgICAgIC8vIGUuZy4gc29tZU1vZHVsZS5mYWN0b3J5KCdncmVldGVyJywgWyckd2luZG93JywgZnVuY3Rpb24ocmVuYW1lZCR3aW5kb3cpIHt9XSk7XG4gICAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSAoaXNBcnJheShUeXBlKSA/IFR5cGVbVHlwZS5sZW5ndGggLSAxXSA6IFR5cGUpLnByb3RvdHlwZTtcbiAgICAgIGluc3RhbmNlID0gbmV3IENvbnN0cnVjdG9yKCk7XG4gICAgICByZXR1cm5lZFZhbHVlID0gaW52b2tlKFR5cGUsIGluc3RhbmNlLCBsb2NhbHMsIHNlcnZpY2VOYW1lKTtcblxuICAgICAgcmV0dXJuIGlzT2JqZWN0KHJldHVybmVkVmFsdWUpIHx8IGlzRnVuY3Rpb24ocmV0dXJuZWRWYWx1ZSkgPyByZXR1cm5lZFZhbHVlIDogaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGludm9rZTogaW52b2tlLFxuICAgICAgaW5zdGFudGlhdGU6IGluc3RhbnRpYXRlLFxuICAgICAgZ2V0OiBnZXRTZXJ2aWNlLFxuICAgICAgYW5ub3RhdGU6IGFubm90YXRlLFxuICAgICAgaGFzOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIHJldHVybiBwcm92aWRlckNhY2hlLmhhc093blByb3BlcnR5KG5hbWUgKyBwcm92aWRlclN1ZmZpeCkgfHwgY2FjaGUuaGFzT3duUHJvcGVydHkobmFtZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufVxuXG5jcmVhdGVJbmplY3Rvci4kJGFubm90YXRlID0gYW5ub3RhdGU7XG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkYW5jaG9yU2Nyb2xsUHJvdmlkZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZSBgJGFuY2hvclNjcm9sbFByb3ZpZGVyYCB0byBkaXNhYmxlIGF1dG9tYXRpYyBzY3JvbGxpbmcgd2hlbmV2ZXJcbiAqIHtAbGluayBuZy4kbG9jYXRpb24jaGFzaCAkbG9jYXRpb24uaGFzaCgpfSBjaGFuZ2VzLlxuICovXG5mdW5jdGlvbiAkQW5jaG9yU2Nyb2xsUHJvdmlkZXIoKSB7XG5cbiAgdmFyIGF1dG9TY3JvbGxpbmdFbmFibGVkID0gdHJ1ZTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkYW5jaG9yU2Nyb2xsUHJvdmlkZXIjZGlzYWJsZUF1dG9TY3JvbGxpbmdcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEJ5IGRlZmF1bHQsIHtAbGluayBuZy4kYW5jaG9yU2Nyb2xsICRhbmNob3JTY3JvbGwoKX0gd2lsbCBhdXRvbWF0aWNhbGx5IHdpbGwgZGV0ZWN0IGNoYW5nZXMgdG9cbiAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiNoYXNoICRsb2NhdGlvbi5oYXNoKCl9IGFuZCBzY3JvbGwgdG8gdGhlIGVsZW1lbnQgbWF0Y2hpbmcgdGhlIG5ldyBoYXNoLjxiciAvPlxuICAgKiBVc2UgdGhpcyBtZXRob2QgdG8gZGlzYWJsZSBhdXRvbWF0aWMgc2Nyb2xsaW5nLlxuICAgKlxuICAgKiBJZiBhdXRvbWF0aWMgc2Nyb2xsaW5nIGlzIGRpc2FibGVkLCBvbmUgbXVzdCBleHBsaWNpdGx5IGNhbGxcbiAgICoge0BsaW5rIG5nLiRhbmNob3JTY3JvbGwgJGFuY2hvclNjcm9sbCgpfSBpbiBvcmRlciB0byBzY3JvbGwgdG8gdGhlIGVsZW1lbnQgcmVsYXRlZCB0byB0aGVcbiAgICogY3VycmVudCBoYXNoLlxuICAgKi9cbiAgdGhpcy5kaXNhYmxlQXV0b1Njcm9sbGluZyA9IGZ1bmN0aW9uKCkge1xuICAgIGF1dG9TY3JvbGxpbmdFbmFibGVkID0gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAqIEBuYW1lICRhbmNob3JTY3JvbGxcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICogQHJlcXVpcmVzICR3aW5kb3dcbiAgICogQHJlcXVpcmVzICRsb2NhdGlvblxuICAgKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogV2hlbiBjYWxsZWQsIGl0IGNoZWNrcyB0aGUgY3VycmVudCB2YWx1ZSBvZiB7QGxpbmsgbmcuJGxvY2F0aW9uI2hhc2ggJGxvY2F0aW9uLmhhc2goKX0gYW5kXG4gICAqIHNjcm9sbHMgdG8gdGhlIHJlbGF0ZWQgZWxlbWVudCwgYWNjb3JkaW5nIHRvIHRoZSBydWxlcyBzcGVjaWZpZWQgaW4gdGhlXG4gICAqIFtIdG1sNSBzcGVjXShodHRwOi8vZGV2LnczLm9yZy9odG1sNS9zcGVjL092ZXJ2aWV3Lmh0bWwjdGhlLWluZGljYXRlZC1wYXJ0LW9mLXRoZS1kb2N1bWVudCkuXG4gICAqXG4gICAqIEl0IGFsc28gd2F0Y2hlcyB0aGUge0BsaW5rIG5nLiRsb2NhdGlvbiNoYXNoICRsb2NhdGlvbi5oYXNoKCl9IGFuZCBhdXRvbWF0aWNhbGx5IHNjcm9sbHMgdG9cbiAgICogbWF0Y2ggYW55IGFuY2hvciB3aGVuZXZlciBpdCBjaGFuZ2VzLiBUaGlzIGNhbiBiZSBkaXNhYmxlZCBieSBjYWxsaW5nXG4gICAqIHtAbGluayBuZy4kYW5jaG9yU2Nyb2xsUHJvdmlkZXIjZGlzYWJsZUF1dG9TY3JvbGxpbmcgJGFuY2hvclNjcm9sbFByb3ZpZGVyLmRpc2FibGVBdXRvU2Nyb2xsaW5nKCl9LlxuICAgKlxuICAgKiBBZGRpdGlvbmFsbHksIHlvdSBjYW4gdXNlIGl0cyB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbCN5T2Zmc2V0IHlPZmZzZXR9IHByb3BlcnR5IHRvIHNwZWNpZnkgYVxuICAgKiB2ZXJ0aWNhbCBzY3JvbGwtb2Zmc2V0IChlaXRoZXIgZml4ZWQgb3IgZHluYW1pYykuXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7KG51bWJlcnxmdW5jdGlvbnxqcUxpdGUpfSB5T2Zmc2V0XG4gICAqIElmIHNldCwgc3BlY2lmaWVzIGEgdmVydGljYWwgc2Nyb2xsLW9mZnNldC4gVGhpcyBpcyBvZnRlbiB1c2VmdWwgd2hlbiB0aGVyZSBhcmUgZml4ZWRcbiAgICogcG9zaXRpb25lZCBlbGVtZW50cyBhdCB0aGUgdG9wIG9mIHRoZSBwYWdlLCBzdWNoIGFzIG5hdmJhcnMsIGhlYWRlcnMgZXRjLlxuICAgKlxuICAgKiBgeU9mZnNldGAgY2FuIGJlIHNwZWNpZmllZCBpbiB2YXJpb3VzIHdheXM6XG4gICAqIC0gKipudW1iZXIqKjogQSBmaXhlZCBudW1iZXIgb2YgcGl4ZWxzIHRvIGJlIHVzZWQgYXMgb2Zmc2V0LjxiciAvPjxiciAvPlxuICAgKiAtICoqZnVuY3Rpb24qKjogQSBnZXR0ZXIgZnVuY3Rpb24gY2FsbGVkIGV2ZXJ5dGltZSBgJGFuY2hvclNjcm9sbCgpYCBpcyBleGVjdXRlZC4gTXVzdCByZXR1cm5cbiAgICogICBhIG51bWJlciByZXByZXNlbnRpbmcgdGhlIG9mZnNldCAoaW4gcGl4ZWxzKS48YnIgLz48YnIgLz5cbiAgICogLSAqKmpxTGl0ZSoqOiBBIGpxTGl0ZS9qUXVlcnkgZWxlbWVudCB0byBiZSB1c2VkIGZvciBzcGVjaWZ5aW5nIHRoZSBvZmZzZXQuIFRoZSBkaXN0YW5jZSBmcm9tXG4gICAqICAgdGhlIHRvcCBvZiB0aGUgcGFnZSB0byB0aGUgZWxlbWVudCdzIGJvdHRvbSB3aWxsIGJlIHVzZWQgYXMgb2Zmc2V0LjxiciAvPlxuICAgKiAgICoqTm90ZSoqOiBUaGUgZWxlbWVudCB3aWxsIGJlIHRha2VuIGludG8gYWNjb3VudCBvbmx5IGFzIGxvbmcgYXMgaXRzIGBwb3NpdGlvbmAgaXMgc2V0IHRvXG4gICAqICAgYGZpeGVkYC4gVGhpcyBvcHRpb24gaXMgdXNlZnVsLCB3aGVuIGRlYWxpbmcgd2l0aCByZXNwb25zaXZlIG5hdmJhcnMvaGVhZGVycyB0aGF0IGFkanVzdFxuICAgKiAgIHRoZWlyIGhlaWdodCBhbmQvb3IgcG9zaXRpb25pbmcgYWNjb3JkaW5nIHRvIHRoZSB2aWV3cG9ydCdzIHNpemUuXG4gICAqXG4gICAqIDxiciAvPlxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICAgKiBJbiBvcmRlciBmb3IgYHlPZmZzZXRgIHRvIHdvcmsgcHJvcGVybHksIHNjcm9sbGluZyBzaG91bGQgdGFrZSBwbGFjZSBvbiB0aGUgZG9jdW1lbnQncyByb290IGFuZFxuICAgKiBub3Qgc29tZSBjaGlsZCBlbGVtZW50LlxuICAgKiA8L2Rpdj5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICAgPGV4YW1wbGUgbW9kdWxlPVwiYW5jaG9yU2Nyb2xsRXhhbXBsZVwiPlxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8ZGl2IGlkPVwic2Nyb2xsQXJlYVwiIG5nLWNvbnRyb2xsZXI9XCJTY3JvbGxDb250cm9sbGVyXCI+XG4gICAgICAgICAgIDxhIG5nLWNsaWNrPVwiZ290b0JvdHRvbSgpXCI+R28gdG8gYm90dG9tPC9hPlxuICAgICAgICAgICA8YSBpZD1cImJvdHRvbVwiPjwvYT4gWW91J3JlIGF0IHRoZSBib3R0b20hXG4gICAgICAgICA8L2Rpdj5cbiAgICAgICA8L2ZpbGU+XG4gICAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2FuY2hvclNjcm9sbEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ1Njcm9sbENvbnRyb2xsZXInLCBbJyRzY29wZScsICckbG9jYXRpb24nLCAnJGFuY2hvclNjcm9sbCcsXG4gICAgICAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGxvY2F0aW9uLCAkYW5jaG9yU2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuZ290b0JvdHRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIGxvY2F0aW9uLmhhc2ggdG8gdGhlIGlkIG9mXG4gICAgICAgICAgICAgICAgIC8vIHRoZSBlbGVtZW50IHlvdSB3aXNoIHRvIHNjcm9sbCB0by5cbiAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ2JvdHRvbScpO1xuXG4gICAgICAgICAgICAgICAgIC8vIGNhbGwgJGFuY2hvclNjcm9sbCgpXG4gICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGwoKTtcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgIDwvZmlsZT5cbiAgICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICAgICAjc2Nyb2xsQXJlYSB7XG4gICAgICAgICAgIGhlaWdodDogMjgwcHg7XG4gICAgICAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgICAgfVxuXG4gICAgICAgICAjYm90dG9tIHtcbiAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgIG1hcmdpbi10b3A6IDIwMDBweDtcbiAgICAgICAgIH1cbiAgICAgICA8L2ZpbGU+XG4gICAgIDwvZXhhbXBsZT5cbiAgICpcbiAgICogPGhyIC8+XG4gICAqIFRoZSBleGFtcGxlIGJlbG93IGlsbHVzdHJhdGVzIHRoZSB1c2Ugb2YgYSB2ZXJ0aWNhbCBzY3JvbGwtb2Zmc2V0IChzcGVjaWZpZWQgYXMgYSBmaXhlZCB2YWx1ZSkuXG4gICAqIFNlZSB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbCN5T2Zmc2V0ICRhbmNob3JTY3JvbGwueU9mZnNldH0gZm9yIG1vcmUgZGV0YWlscy5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICAgPGV4YW1wbGUgbW9kdWxlPVwiYW5jaG9yU2Nyb2xsT2Zmc2V0RXhhbXBsZVwiPlxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwiZml4ZWQtaGVhZGVyXCIgbmctY29udHJvbGxlcj1cImhlYWRlckN0cmxcIj5cbiAgICAgICAgICAgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwiZ290b0FuY2hvcih4KVwiIG5nLXJlcGVhdD1cInggaW4gWzEsMiwzLDQsNV1cIj5cbiAgICAgICAgICAgICBHbyB0byBhbmNob3Ige3t4fX1cbiAgICAgICAgICAgPC9hPlxuICAgICAgICAgPC9kaXY+XG4gICAgICAgICA8ZGl2IGlkPVwiYW5jaG9ye3t4fX1cIiBjbGFzcz1cImFuY2hvclwiIG5nLXJlcGVhdD1cInggaW4gWzEsMiwzLDQsNV1cIj5cbiAgICAgICAgICAgQW5jaG9yIHt7eH19IG9mIDVcbiAgICAgICAgIDwvZGl2PlxuICAgICAgIDwvZmlsZT5cbiAgICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnYW5jaG9yU2Nyb2xsT2Zmc2V0RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAucnVuKFsnJGFuY2hvclNjcm9sbCcsIGZ1bmN0aW9uKCRhbmNob3JTY3JvbGwpIHtcbiAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsLnlPZmZzZXQgPSA1MDsgICAvLyBhbHdheXMgc2Nyb2xsIGJ5IDUwIGV4dHJhIHBpeGVsc1xuICAgICAgICAgICB9XSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ2hlYWRlckN0cmwnLCBbJyRhbmNob3JTY3JvbGwnLCAnJGxvY2F0aW9uJywgJyRzY29wZScsXG4gICAgICAgICAgICAgZnVuY3Rpb24gKCRhbmNob3JTY3JvbGwsICRsb2NhdGlvbiwgJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuZ290b0FuY2hvciA9IGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICAgICAgICAgdmFyIG5ld0hhc2ggPSAnYW5jaG9yJyArIHg7XG4gICAgICAgICAgICAgICAgIGlmICgkbG9jYXRpb24uaGFzaCgpICE9PSBuZXdIYXNoKSB7XG4gICAgICAgICAgICAgICAgICAgLy8gc2V0IHRoZSAkbG9jYXRpb24uaGFzaCB0byBgbmV3SGFzaGAgYW5kXG4gICAgICAgICAgICAgICAgICAgLy8gJGFuY2hvclNjcm9sbCB3aWxsIGF1dG9tYXRpY2FsbHkgc2Nyb2xsIHRvIGl0XG4gICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ2FuY2hvcicgKyB4KTtcbiAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAvLyBjYWxsICRhbmNob3JTY3JvbGwoKSBleHBsaWNpdGx5LFxuICAgICAgICAgICAgICAgICAgIC8vIHNpbmNlICRsb2NhdGlvbi5oYXNoIGhhc24ndCBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbCgpO1xuICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgXSk7XG4gICAgICAgPC9maWxlPlxuICAgICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICAgIGJvZHkge1xuICAgICAgICAgICBwYWRkaW5nLXRvcDogNTBweDtcbiAgICAgICAgIH1cblxuICAgICAgICAgLmFuY2hvciB7XG4gICAgICAgICAgIGJvcmRlcjogMnB4IGRhc2hlZCBEYXJrT3JjaGlkO1xuICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDEwcHggMjAwcHggMTBweDtcbiAgICAgICAgIH1cblxuICAgICAgICAgLmZpeGVkLWhlYWRlciB7XG4gICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgICAgICAgICAgaGVpZ2h0OiA1MHB4O1xuICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgICAgIHRvcDogMDsgbGVmdDogMDsgcmlnaHQ6IDA7XG4gICAgICAgICB9XG5cbiAgICAgICAgIC5maXhlZC1oZWFkZXIgPiBhIHtcbiAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgICBtYXJnaW46IDVweCAxNXB4O1xuICAgICAgICAgfVxuICAgICAgIDwvZmlsZT5cbiAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgJyRsb2NhdGlvbicsICckcm9vdFNjb3BlJywgZnVuY3Rpb24oJHdpbmRvdywgJGxvY2F0aW9uLCAkcm9vdFNjb3BlKSB7XG4gICAgdmFyIGRvY3VtZW50ID0gJHdpbmRvdy5kb2N1bWVudDtcblxuICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgZmlyc3QgYW5jaG9yIGZyb20gYSBOb2RlTGlzdFxuICAgIC8vICh1c2luZyBgQXJyYXkjc29tZSgpYCBpbnN0ZWFkIG9mIGBhbmd1bGFyI2ZvckVhY2goKWAgc2luY2UgaXQncyBtb3JlIHBlcmZvcm1hbnRcbiAgICAvLyAgYW5kIHdvcmtpbmcgaW4gYWxsIHN1cHBvcnRlZCBicm93c2Vycy4pXG4gICAgZnVuY3Rpb24gZ2V0Rmlyc3RBbmNob3IobGlzdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XG4gICAgICBBcnJheS5wcm90b3R5cGUuc29tZS5jYWxsKGxpc3QsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKG5vZGVOYW1lXyhlbGVtZW50KSA9PT0gJ2EnKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZWxlbWVudDtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFlPZmZzZXQoKSB7XG5cbiAgICAgIHZhciBvZmZzZXQgPSBzY3JvbGwueU9mZnNldDtcblxuICAgICAgaWYgKGlzRnVuY3Rpb24ob2Zmc2V0KSkge1xuICAgICAgICBvZmZzZXQgPSBvZmZzZXQoKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNFbGVtZW50KG9mZnNldCkpIHtcbiAgICAgICAgdmFyIGVsZW0gPSBvZmZzZXRbMF07XG4gICAgICAgIHZhciBzdHlsZSA9ICR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtKTtcbiAgICAgICAgaWYgKHN0eWxlLnBvc2l0aW9uICE9PSAnZml4ZWQnKSB7XG4gICAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvZmZzZXQgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghaXNOdW1iZXIob2Zmc2V0KSkge1xuICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNjcm9sbFRvKGVsZW0pIHtcbiAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgIGVsZW0uc2Nyb2xsSW50b1ZpZXcoKTtcblxuICAgICAgICB2YXIgb2Zmc2V0ID0gZ2V0WU9mZnNldCgpO1xuXG4gICAgICAgIGlmIChvZmZzZXQpIHtcbiAgICAgICAgICAvLyBgb2Zmc2V0YCBpcyB0aGUgbnVtYmVyIG9mIHBpeGVscyB3ZSBzaG91bGQgc2Nyb2xsIFVQIGluIG9yZGVyIHRvIGFsaWduIGBlbGVtYCBwcm9wZXJseS5cbiAgICAgICAgICAvLyBUaGlzIGlzIHRydWUgT05MWSBpZiB0aGUgY2FsbCB0byBgZWxlbS5zY3JvbGxJbnRvVmlldygpYCBpbml0aWFsbHkgYWxpZ25zIGBlbGVtYCBhdCB0aGVcbiAgICAgICAgICAvLyB0b3Agb2YgdGhlIHZpZXdwb3J0LlxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gSUYgdGhlIG51bWJlciBvZiBwaXhlbHMgZnJvbSB0aGUgdG9wIG9mIGBlbGVtYCB0byB0aGUgZW5kIG9mIHRoZSBwYWdlJ3MgY29udGVudCBpcyBsZXNzXG4gICAgICAgICAgLy8gdGhhbiB0aGUgaGVpZ2h0IG9mIHRoZSB2aWV3cG9ydCwgdGhlbiBgZWxlbS5zY3JvbGxJbnRvVmlldygpYCB3aWxsIGFsaWduIHRoZSBgZWxlbWAgc29tZVxuICAgICAgICAgIC8vIHdheSBkb3duIHRoZSBwYWdlLlxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gVGhpcyBpcyBvZnRlbiB0aGUgY2FzZSBmb3IgZWxlbWVudHMgbmVhciB0aGUgYm90dG9tIG9mIHRoZSBwYWdlLlxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gSW4gc3VjaCBjYXNlcyB3ZSBkbyBub3QgbmVlZCB0byBzY3JvbGwgdGhlIHdob2xlIGBvZmZzZXRgIHVwLCBqdXN0IHRoZSBkaWZmZXJlbmNlIGJldHdlZW5cbiAgICAgICAgICAvLyB0aGUgdG9wIG9mIHRoZSBlbGVtZW50IGFuZCB0aGUgb2Zmc2V0LCB3aGljaCBpcyBlbm91Z2ggdG8gYWxpZ24gdGhlIHRvcCBvZiBgZWxlbWAgYXQgdGhlXG4gICAgICAgICAgLy8gZGVzaXJlZCBwb3NpdGlvbi5cbiAgICAgICAgICB2YXIgZWxlbVRvcCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgICAgICR3aW5kb3cuc2Nyb2xsQnkoMCwgZWxlbVRvcCAtIG9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICR3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2Nyb2xsKCkge1xuICAgICAgdmFyIGhhc2ggPSAkbG9jYXRpb24uaGFzaCgpLCBlbG07XG5cbiAgICAgIC8vIGVtcHR5IGhhc2gsIHNjcm9sbCB0byB0aGUgdG9wIG9mIHRoZSBwYWdlXG4gICAgICBpZiAoIWhhc2gpIHNjcm9sbFRvKG51bGwpO1xuXG4gICAgICAvLyBlbGVtZW50IHdpdGggZ2l2ZW4gaWRcbiAgICAgIGVsc2UgaWYgKChlbG0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChoYXNoKSkpIHNjcm9sbFRvKGVsbSk7XG5cbiAgICAgIC8vIGZpcnN0IGFuY2hvciB3aXRoIGdpdmVuIG5hbWUgOi1EXG4gICAgICBlbHNlIGlmICgoZWxtID0gZ2V0Rmlyc3RBbmNob3IoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoaGFzaCkpKSkgc2Nyb2xsVG8oZWxtKTtcblxuICAgICAgLy8gbm8gZWxlbWVudCBhbmQgaGFzaCA9PSAndG9wJywgc2Nyb2xsIHRvIHRoZSB0b3Agb2YgdGhlIHBhZ2VcbiAgICAgIGVsc2UgaWYgKGhhc2ggPT09ICd0b3AnKSBzY3JvbGxUbyhudWxsKTtcbiAgICB9XG5cbiAgICAvLyBkb2VzIG5vdCBzY3JvbGwgd2hlbiB1c2VyIGNsaWNrcyBvbiBhbmNob3IgbGluayB0aGF0IGlzIGN1cnJlbnRseSBvblxuICAgIC8vIChubyB1cmwgY2hhbmdlLCBubyAkbG9jYXRpb24uaGFzaCgpIGNoYW5nZSksIGJyb3dzZXIgbmF0aXZlIGRvZXMgc2Nyb2xsXG4gICAgaWYgKGF1dG9TY3JvbGxpbmdFbmFibGVkKSB7XG4gICAgICAkcm9vdFNjb3BlLiR3YXRjaChmdW5jdGlvbiBhdXRvU2Nyb2xsV2F0Y2goKSB7cmV0dXJuICRsb2NhdGlvbi5oYXNoKCk7fSxcbiAgICAgICAgZnVuY3Rpb24gYXV0b1Njcm9sbFdhdGNoQWN0aW9uKG5ld1ZhbCwgb2xkVmFsKSB7XG4gICAgICAgICAgLy8gc2tpcCB0aGUgaW5pdGlhbCBzY3JvbGwgaWYgJGxvY2F0aW9uLmhhc2ggaXMgZW1wdHlcbiAgICAgICAgICBpZiAobmV3VmFsID09PSBvbGRWYWwgJiYgbmV3VmFsID09PSAnJykgcmV0dXJuO1xuXG4gICAgICAgICAganFMaXRlRG9jdW1lbnRMb2FkZWQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoc2Nyb2xsKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNjcm9sbDtcbiAgfV07XG59XG5cbnZhciAkYW5pbWF0ZU1pbkVyciA9IG1pbkVycignJGFuaW1hdGUnKTtcblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRhbmltYXRlUHJvdmlkZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgJGFuaW1hdGUgdGhhdCBkb2Vzbid0IHBlcmZvcm0gYW55IGFuaW1hdGlvbnMsIGluc3RlYWQganVzdFxuICogc3luY2hyb25vdXNseSBwZXJmb3JtcyBET01cbiAqIHVwZGF0ZXMgYW5kIGNhbGxzIGRvbmUoKSBjYWxsYmFja3MuXG4gKlxuICogSW4gb3JkZXIgdG8gZW5hYmxlIGFuaW1hdGlvbnMgdGhlIG5nQW5pbWF0ZSBtb2R1bGUgaGFzIHRvIGJlIGxvYWRlZC5cbiAqXG4gKiBUbyBzZWUgdGhlIGZ1bmN0aW9uYWwgaW1wbGVtZW50YXRpb24gY2hlY2sgb3V0IHNyYy9uZ0FuaW1hdGUvYW5pbWF0ZS5qc1xuICovXG52YXIgJEFuaW1hdGVQcm92aWRlciA9IFsnJHByb3ZpZGUnLCBmdW5jdGlvbigkcHJvdmlkZSkge1xuXG5cbiAgdGhpcy4kJHNlbGVjdG9ycyA9IHt9O1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGFuaW1hdGVQcm92aWRlciNyZWdpc3RlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXJzIGEgbmV3IGluamVjdGFibGUgYW5pbWF0aW9uIGZhY3RvcnkgZnVuY3Rpb24uIFRoZSBmYWN0b3J5IGZ1bmN0aW9uIHByb2R1Y2VzIHRoZVxuICAgKiBhbmltYXRpb24gb2JqZWN0IHdoaWNoIGNvbnRhaW5zIGNhbGxiYWNrIGZ1bmN0aW9ucyBmb3IgZWFjaCBldmVudCB0aGF0IGlzIGV4cGVjdGVkIHRvIGJlXG4gICAqIGFuaW1hdGVkLlxuICAgKlxuICAgKiAgICogYGV2ZW50Rm5gOiBgZnVuY3Rpb24oRWxlbWVudCwgZG9uZUZ1bmN0aW9uKWAgVGhlIGVsZW1lbnQgdG8gYW5pbWF0ZSwgdGhlIGBkb25lRnVuY3Rpb25gXG4gICAqICAgbXVzdCBiZSBjYWxsZWQgb25jZSB0aGUgZWxlbWVudCBhbmltYXRpb24gaXMgY29tcGxldGUuIElmIGEgZnVuY3Rpb24gaXMgcmV0dXJuZWQgdGhlbiB0aGVcbiAgICogICBhbmltYXRpb24gc2VydmljZSB3aWxsIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGNhbmNlbCB0aGUgYW5pbWF0aW9uIHdoZW5ldmVyIGEgY2FuY2VsIGV2ZW50IGlzXG4gICAqICAgdHJpZ2dlcmVkLlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAgIHJldHVybiB7XG4gICAgICogICAgIGV2ZW50Rm4gOiBmdW5jdGlvbihlbGVtZW50LCBkb25lKSB7XG4gICAgICogICAgICAgLy9jb2RlIHRvIHJ1biB0aGUgYW5pbWF0aW9uXG4gICAgICogICAgICAgLy9vbmNlIGNvbXBsZXRlLCB0aGVuIHJ1biBkb25lKClcbiAgICAgKiAgICAgICByZXR1cm4gZnVuY3Rpb24gY2FuY2VsbGF0aW9uRnVuY3Rpb24oKSB7XG4gICAgICogICAgICAgICAvL2NvZGUgdG8gY2FuY2VsIHRoZSBhbmltYXRpb25cbiAgICAgKiAgICAgICB9XG4gICAgICogICAgIH1cbiAgICAgKiAgIH1cbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBhbmltYXRpb24uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZhY3RvcnkgVGhlIGZhY3RvcnkgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIHRvIHJldHVybiB0aGUgYW5pbWF0aW9uXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LlxuICAgKi9cbiAgdGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uKG5hbWUsIGZhY3RvcnkpIHtcbiAgICB2YXIga2V5ID0gbmFtZSArICctYW5pbWF0aW9uJztcbiAgICBpZiAobmFtZSAmJiBuYW1lLmNoYXJBdCgwKSAhPSAnLicpIHRocm93ICRhbmltYXRlTWluRXJyKCdub3Rjc2VsJyxcbiAgICAgICAgXCJFeHBlY3RpbmcgY2xhc3Mgc2VsZWN0b3Igc3RhcnRpbmcgd2l0aCAnLicgZ290ICd7MH0nLlwiLCBuYW1lKTtcbiAgICB0aGlzLiQkc2VsZWN0b3JzW25hbWUuc3Vic3RyKDEpXSA9IGtleTtcbiAgICAkcHJvdmlkZS5mYWN0b3J5KGtleSwgZmFjdG9yeSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGFuaW1hdGVQcm92aWRlciNjbGFzc05hbWVGaWx0ZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgYW5kL29yIHJldHVybnMgdGhlIENTUyBjbGFzcyByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBpcyBjaGVja2VkIHdoZW4gcGVyZm9ybWluZ1xuICAgKiBhbiBhbmltYXRpb24uIFVwb24gYm9vdHN0cmFwIHRoZSBjbGFzc05hbWVGaWx0ZXIgdmFsdWUgaXMgbm90IHNldCBhdCBhbGwgYW5kIHdpbGxcbiAgICogdGhlcmVmb3JlIGVuYWJsZSAkYW5pbWF0ZSB0byBhdHRlbXB0IHRvIHBlcmZvcm0gYW4gYW5pbWF0aW9uIG9uIGFueSBlbGVtZW50LlxuICAgKiBXaGVuIHNldHRpbmcgdGhlIGNsYXNzTmFtZUZpbHRlciB2YWx1ZSwgYW5pbWF0aW9ucyB3aWxsIG9ubHkgYmUgcGVyZm9ybWVkIG9uIGVsZW1lbnRzXG4gICAqIHRoYXQgc3VjY2Vzc2Z1bGx5IG1hdGNoIHRoZSBmaWx0ZXIgZXhwcmVzc2lvbi4gVGhpcyBpbiB0dXJuIGNhbiBib29zdCBwZXJmb3JtYW5jZVxuICAgKiBmb3IgbG93LXBvd2VyZWQgZGV2aWNlcyBhcyB3ZWxsIGFzIGFwcGxpY2F0aW9ucyBjb250YWluaW5nIGEgbG90IG9mIHN0cnVjdHVyYWwgb3BlcmF0aW9ucy5cbiAgICogQHBhcmFtIHtSZWdFeHA9fSBleHByZXNzaW9uIFRoZSBjbGFzc05hbWUgZXhwcmVzc2lvbiB3aGljaCB3aWxsIGJlIGNoZWNrZWQgYWdhaW5zdCBhbGwgYW5pbWF0aW9uc1xuICAgKiBAcmV0dXJuIHtSZWdFeHB9IFRoZSBjdXJyZW50IENTUyBjbGFzc05hbWUgZXhwcmVzc2lvbiB2YWx1ZS4gSWYgbnVsbCB0aGVuIHRoZXJlIGlzIG5vIGV4cHJlc3Npb24gdmFsdWVcbiAgICovXG4gIHRoaXMuY2xhc3NOYW1lRmlsdGVyID0gZnVuY3Rpb24oZXhwcmVzc2lvbikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICB0aGlzLiQkY2xhc3NOYW1lRmlsdGVyID0gKGV4cHJlc3Npb24gaW5zdGFuY2VvZiBSZWdFeHApID8gZXhwcmVzc2lvbiA6IG51bGw7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLiQkY2xhc3NOYW1lRmlsdGVyO1xuICB9O1xuXG4gIHRoaXMuJGdldCA9IFsnJCRxJywgJyQkYXN5bmNDYWxsYmFjaycsICckcm9vdFNjb3BlJywgZnVuY3Rpb24oJCRxLCAkJGFzeW5jQ2FsbGJhY2ssICRyb290U2NvcGUpIHtcblxuICAgIHZhciBjdXJyZW50RGVmZXI7XG5cbiAgICBmdW5jdGlvbiBydW5BbmltYXRpb25Qb3N0RGlnZXN0KGZuKSB7XG4gICAgICB2YXIgY2FuY2VsRm4sIGRlZmVyID0gJCRxLmRlZmVyKCk7XG4gICAgICBkZWZlci5wcm9taXNlLiQkY2FuY2VsRm4gPSBmdW5jdGlvbiBuZ0FuaW1hdGVNYXliZUNhbmNlbCgpIHtcbiAgICAgICAgY2FuY2VsRm4gJiYgY2FuY2VsRm4oKTtcbiAgICAgIH07XG5cbiAgICAgICRyb290U2NvcGUuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uIG5nQW5pbWF0ZVBvc3REaWdlc3QoKSB7XG4gICAgICAgIGNhbmNlbEZuID0gZm4oZnVuY3Rpb24gbmdBbmltYXRlTm90aWZ5Q29tcGxldGUoKSB7XG4gICAgICAgICAgZGVmZXIucmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlRWxlbWVudENsYXNzZXMoZWxlbWVudCwgY2xhc3Nlcykge1xuICAgICAgdmFyIHRvQWRkID0gW10sIHRvUmVtb3ZlID0gW107XG5cbiAgICAgIHZhciBoYXNDbGFzc2VzID0gY3JlYXRlTWFwKCk7XG4gICAgICBmb3JFYWNoKChlbGVtZW50LmF0dHIoJ2NsYXNzJykgfHwgJycpLnNwbGl0KC9cXHMrLyksIGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICAgICAgICBoYXNDbGFzc2VzW2NsYXNzTmFtZV0gPSB0cnVlO1xuICAgICAgfSk7XG5cbiAgICAgIGZvckVhY2goY2xhc3NlcywgZnVuY3Rpb24oc3RhdHVzLCBjbGFzc05hbWUpIHtcbiAgICAgICAgdmFyIGhhc0NsYXNzID0gaGFzQ2xhc3Nlc1tjbGFzc05hbWVdO1xuXG4gICAgICAgIC8vIElmIHRoZSBtb3N0IHJlY2VudCBjbGFzcyBtYW5pcHVsYXRpb24gKHZpYSAkYW5pbWF0ZSkgd2FzIHRvIHJlbW92ZSB0aGUgY2xhc3MsIGFuZCB0aGVcbiAgICAgICAgLy8gZWxlbWVudCBjdXJyZW50bHkgaGFzIHRoZSBjbGFzcywgdGhlIGNsYXNzIGlzIHNjaGVkdWxlZCBmb3IgcmVtb3ZhbC4gT3RoZXJ3aXNlLCBpZlxuICAgICAgICAvLyB0aGUgbW9zdCByZWNlbnQgY2xhc3MgbWFuaXB1bGF0aW9uICh2aWEgJGFuaW1hdGUpIHdhcyB0byBhZGQgdGhlIGNsYXNzLCBhbmQgdGhlXG4gICAgICAgIC8vIGVsZW1lbnQgZG9lcyBub3QgY3VycmVudGx5IGhhdmUgdGhlIGNsYXNzLCB0aGUgY2xhc3MgaXMgc2NoZWR1bGVkIHRvIGJlIGFkZGVkLlxuICAgICAgICBpZiAoc3RhdHVzID09PSBmYWxzZSAmJiBoYXNDbGFzcykge1xuICAgICAgICAgIHRvUmVtb3ZlLnB1c2goY2xhc3NOYW1lKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT09IHRydWUgJiYgIWhhc0NsYXNzKSB7XG4gICAgICAgICAgdG9BZGQucHVzaChjbGFzc05hbWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuICh0b0FkZC5sZW5ndGggKyB0b1JlbW92ZS5sZW5ndGgpID4gMCAmJlxuICAgICAgICBbdG9BZGQubGVuZ3RoID8gdG9BZGQgOiBudWxsLCB0b1JlbW92ZS5sZW5ndGggPyB0b1JlbW92ZSA6IG51bGxdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhY2hlZENsYXNzTWFuaXB1bGF0aW9uKGNhY2hlLCBjbGFzc2VzLCBvcCkge1xuICAgICAgZm9yICh2YXIgaT0wLCBpaSA9IGNsYXNzZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3Nlc1tpXTtcbiAgICAgICAgY2FjaGVbY2xhc3NOYW1lXSA9IG9wO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFzeW5jUHJvbWlzZSgpIHtcbiAgICAgIC8vIG9ubHkgc2VydmUgb25lIGluc3RhbmNlIG9mIGEgcHJvbWlzZSBpbiBvcmRlciB0byBzYXZlIENQVSBjeWNsZXNcbiAgICAgIGlmICghY3VycmVudERlZmVyKSB7XG4gICAgICAgIGN1cnJlbnREZWZlciA9ICQkcS5kZWZlcigpO1xuICAgICAgICAkJGFzeW5jQ2FsbGJhY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgY3VycmVudERlZmVyLnJlc29sdmUoKTtcbiAgICAgICAgICBjdXJyZW50RGVmZXIgPSBudWxsO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjdXJyZW50RGVmZXIucHJvbWlzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcHBseVN0eWxlcyhlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICBpZiAoYW5ndWxhci5pc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICB2YXIgc3R5bGVzID0gZXh0ZW5kKG9wdGlvbnMuZnJvbSB8fCB7fSwgb3B0aW9ucy50byB8fCB7fSk7XG4gICAgICAgIGVsZW1lbnQuY3NzKHN0eWxlcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lICRhbmltYXRlXG4gICAgICogQGRlc2NyaXB0aW9uIFRoZSAkYW5pbWF0ZSBzZXJ2aWNlIHByb3ZpZGVzIHJ1ZGltZW50YXJ5IERPTSBtYW5pcHVsYXRpb24gZnVuY3Rpb25zIHRvXG4gICAgICogaW5zZXJ0LCByZW1vdmUgYW5kIG1vdmUgZWxlbWVudHMgd2l0aGluIHRoZSBET00sIGFzIHdlbGwgYXMgYWRkaW5nIGFuZCByZW1vdmluZyBjbGFzc2VzLlxuICAgICAqIFRoaXMgc2VydmljZSBpcyB0aGUgY29yZSBzZXJ2aWNlIHVzZWQgYnkgdGhlIG5nQW5pbWF0ZSAkYW5pbWF0b3Igc2VydmljZSB3aGljaCBwcm92aWRlc1xuICAgICAqIGhpZ2gtbGV2ZWwgYW5pbWF0aW9uIGhvb2tzIGZvciBDU1MgYW5kIEphdmFTY3JpcHQuXG4gICAgICpcbiAgICAgKiAkYW5pbWF0ZSBpcyBhdmFpbGFibGUgaW4gdGhlIEFuZ3VsYXJKUyBjb3JlLCBob3dldmVyLCB0aGUgbmdBbmltYXRlIG1vZHVsZSBtdXN0IGJlIGluY2x1ZGVkXG4gICAgICogdG8gZW5hYmxlIGZ1bGwgb3V0IGFuaW1hdGlvbiBzdXBwb3J0LiBPdGhlcndpc2UsICRhbmltYXRlIHdpbGwgb25seSBwZXJmb3JtIHNpbXBsZSBET01cbiAgICAgKiBtYW5pcHVsYXRpb24gb3BlcmF0aW9ucy5cbiAgICAgKlxuICAgICAqIFRvIGxlYXJuIG1vcmUgYWJvdXQgZW5hYmxpbmcgYW5pbWF0aW9uIHN1cHBvcnQsIGNsaWNrIGhlcmUgdG8gdmlzaXQgdGhlIHtAbGluayBuZ0FuaW1hdGVcbiAgICAgKiBuZ0FuaW1hdGUgbW9kdWxlIHBhZ2V9IGFzIHdlbGwgYXMgdGhlIHtAbGluayBuZ0FuaW1hdGUuJGFuaW1hdGUgbmdBbmltYXRlICRhbmltYXRlIHNlcnZpY2VcbiAgICAgKiBwYWdlfS5cbiAgICAgKi9cbiAgICByZXR1cm4ge1xuICAgICAgYW5pbWF0ZTogZnVuY3Rpb24oZWxlbWVudCwgZnJvbSwgdG8pIHtcbiAgICAgICAgYXBwbHlTdHlsZXMoZWxlbWVudCwgeyBmcm9tOiBmcm9tLCB0bzogdG8gfSk7XG4gICAgICAgIHJldHVybiBhc3luY1Byb21pc2UoKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2VudGVyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIEluc2VydHMgdGhlIGVsZW1lbnQgaW50byB0aGUgRE9NIGVpdGhlciBhZnRlciB0aGUgYGFmdGVyYCBlbGVtZW50IG9yXG4gICAgICAgKiBhcyB0aGUgZmlyc3QgY2hpbGQgd2l0aGluIHRoZSBgcGFyZW50YCBlbGVtZW50LiBXaGVuIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgYSBwcm9taXNlXG4gICAgICAgKiBpcyByZXR1cm5lZCB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgYXQgYSBsYXRlciB0aW1lLlxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHdpbGwgYmUgaW5zZXJ0ZWQgaW50byB0aGUgRE9NXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IHBhcmVudCB0aGUgcGFyZW50IGVsZW1lbnQgd2hpY2ggd2lsbCBhcHBlbmQgdGhlIGVsZW1lbnQgYXNcbiAgICAgICAqICAgYSBjaGlsZCAoaWYgdGhlIGFmdGVyIGVsZW1lbnQgaXMgbm90IHByZXNlbnQpXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGFmdGVyIHRoZSBzaWJsaW5nIGVsZW1lbnQgd2hpY2ggd2lsbCBhcHBlbmQgdGhlIGVsZW1lbnRcbiAgICAgICAqICAgYWZ0ZXIgaXRzZWxmXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBzdHlsZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQuXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSB0aGUgYW5pbWF0aW9uIGNhbGxiYWNrIHByb21pc2VcbiAgICAgICAqL1xuICAgICAgZW50ZXI6IGZ1bmN0aW9uKGVsZW1lbnQsIHBhcmVudCwgYWZ0ZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgYXBwbHlTdHlsZXMoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgIGFmdGVyID8gYWZ0ZXIuYWZ0ZXIoZWxlbWVudClcbiAgICAgICAgICAgICAgOiBwYXJlbnQucHJlcGVuZChlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIGFzeW5jUHJvbWlzZSgpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGFuaW1hdGUjbGVhdmVcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlcyB0aGUgZWxlbWVudCBmcm9tIHRoZSBET00uIFdoZW4gdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCBhIHByb21pc2VcbiAgICAgICAqIGlzIHJldHVybmVkIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBhdCBhIGxhdGVyIHRpbWUuXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIERPTVxuICAgICAgICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIGFuIG9wdGlvbmFsIGNvbGxlY3Rpb24gb2Ygb3B0aW9ucyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxuICAgICAgICovXG4gICAgICBsZWF2ZTogZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICByZXR1cm4gYXN5bmNQcm9taXNlKCk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNtb3ZlXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIE1vdmVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgcHJvdmlkZWQgZWxlbWVudCB3aXRoaW4gdGhlIERPTSB0byBiZSBwbGFjZWRcbiAgICAgICAqIGVpdGhlciBhZnRlciB0aGUgYGFmdGVyYCBlbGVtZW50IG9yIGluc2lkZSBvZiB0aGUgYHBhcmVudGAgZWxlbWVudC4gV2hlbiB0aGUgZnVuY3Rpb25cbiAgICAgICAqIGlzIGNhbGxlZCBhIHByb21pc2UgaXMgcmV0dXJuZWQgdGhhdCB3aWxsIGJlIHJlc29sdmVkIGF0IGEgbGF0ZXIgdGltZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBiZSBtb3ZlZCBhcm91bmQgd2l0aGluIHRoZVxuICAgICAgICogICBET01cbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gcGFyZW50IHRoZSBwYXJlbnQgZWxlbWVudCB3aGVyZSB0aGUgZWxlbWVudCB3aWxsIGJlXG4gICAgICAgKiAgIGluc2VydGVkIGludG8gKGlmIHRoZSBhZnRlciBlbGVtZW50IGlzIG5vdCBwcmVzZW50KVxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBhZnRlciB0aGUgc2libGluZyBlbGVtZW50IHdoZXJlIHRoZSBlbGVtZW50IHdpbGwgYmVcbiAgICAgICAqICAgcG9zaXRpb25lZCBuZXh0IHRvXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgKi9cbiAgICAgIG1vdmU6IGZ1bmN0aW9uKGVsZW1lbnQsIHBhcmVudCwgYWZ0ZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gRG8gbm90IHJlbW92ZSBlbGVtZW50IGJlZm9yZSBpbnNlcnQuIFJlbW92aW5nIHdpbGwgY2F1c2UgZGF0YSBhc3NvY2lhdGVkIHdpdGggdGhlXG4gICAgICAgIC8vIGVsZW1lbnQgdG8gYmUgZHJvcHBlZC4gSW5zZXJ0IHdpbGwgaW1wbGljaXRseSBkbyB0aGUgcmVtb3ZlLlxuICAgICAgICByZXR1cm4gdGhpcy5lbnRlcihlbGVtZW50LCBwYXJlbnQsIGFmdGVyLCBvcHRpb25zKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2FkZENsYXNzXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIEFkZHMgdGhlIHByb3ZpZGVkIGNsYXNzTmFtZSBDU1MgY2xhc3MgdmFsdWUgdG8gdGhlIHByb3ZpZGVkIGVsZW1lbnQuXG4gICAgICAgKiBXaGVuIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgYSBwcm9taXNlIGlzIHJldHVybmVkIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBhdCBhIGxhdGVyIHRpbWUuXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBoYXZlIHRoZSBjbGFzc05hbWUgdmFsdWVcbiAgICAgICAqICAgYWRkZWQgdG8gaXRcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgdGhlIENTUyBjbGFzcyB3aGljaCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBlbGVtZW50XG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgKi9cbiAgICAgIGFkZENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0Q2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lLCBbXSwgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICAkJGFkZENsYXNzSW1tZWRpYXRlbHk6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgb3B0aW9ucykge1xuICAgICAgICBlbGVtZW50ID0ganFMaXRlKGVsZW1lbnQpO1xuICAgICAgICBjbGFzc05hbWUgPSAhaXNTdHJpbmcoY2xhc3NOYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyAoaXNBcnJheShjbGFzc05hbWUpID8gY2xhc3NOYW1lLmpvaW4oJyAnKSA6ICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjbGFzc05hbWU7XG4gICAgICAgIGZvckVhY2goZWxlbWVudCwgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgIGpxTGl0ZUFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBhcHBseVN0eWxlcyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGFzeW5jUHJvbWlzZSgpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGFuaW1hdGUjcmVtb3ZlQ2xhc3NcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlcyB0aGUgcHJvdmlkZWQgY2xhc3NOYW1lIENTUyBjbGFzcyB2YWx1ZSBmcm9tIHRoZSBwcm92aWRlZCBlbGVtZW50LlxuICAgICAgICogV2hlbiB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkIGEgcHJvbWlzZSBpcyByZXR1cm5lZCB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgYXQgYSBsYXRlciB0aW1lLlxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHdpbGwgaGF2ZSB0aGUgY2xhc3NOYW1lIHZhbHVlXG4gICAgICAgKiAgIHJlbW92ZWQgZnJvbSBpdFxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSB0aGUgQ1NTIGNsYXNzIHdoaWNoIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50XG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgKi9cbiAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0Q2xhc3MoZWxlbWVudCwgW10sIGNsYXNzTmFtZSwgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICAkJHJlbW92ZUNsYXNzSW1tZWRpYXRlbHk6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgb3B0aW9ucykge1xuICAgICAgICBlbGVtZW50ID0ganFMaXRlKGVsZW1lbnQpO1xuICAgICAgICBjbGFzc05hbWUgPSAhaXNTdHJpbmcoY2xhc3NOYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyAoaXNBcnJheShjbGFzc05hbWUpID8gY2xhc3NOYW1lLmpvaW4oJyAnKSA6ICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjbGFzc05hbWU7XG4gICAgICAgIGZvckVhY2goZWxlbWVudCwgZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgIGpxTGl0ZVJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBhcHBseVN0eWxlcyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGFzeW5jUHJvbWlzZSgpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGFuaW1hdGUjc2V0Q2xhc3NcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKiBAZGVzY3JpcHRpb24gQWRkcyBhbmQvb3IgcmVtb3ZlcyB0aGUgZ2l2ZW4gQ1NTIGNsYXNzZXMgdG8gYW5kIGZyb20gdGhlIGVsZW1lbnQuXG4gICAgICAgKiBXaGVuIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgYSBwcm9taXNlIGlzIHJldHVybmVkIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBhdCBhIGxhdGVyIHRpbWUuXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBoYXZlIGl0cyBDU1MgY2xhc3NlcyBjaGFuZ2VkXG4gICAgICAgKiAgIHJlbW92ZWQgZnJvbSBpdFxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGFkZCB0aGUgQ1NTIGNsYXNzZXMgd2hpY2ggd2lsbCBiZSBhZGRlZCB0byB0aGUgZWxlbWVudFxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHJlbW92ZSB0aGUgQ1NTIGNsYXNzIHdoaWNoIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50XG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgKi9cbiAgICAgIHNldENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBhZGQsIHJlbW92ZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBTVE9SQUdFX0tFWSA9ICckJGFuaW1hdGVDbGFzc2VzJztcbiAgICAgICAgdmFyIGNyZWF0ZWRDYWNoZSA9IGZhbHNlO1xuICAgICAgICBlbGVtZW50ID0ganFMaXRlKGVsZW1lbnQpO1xuXG4gICAgICAgIHZhciBjYWNoZSA9IGVsZW1lbnQuZGF0YShTVE9SQUdFX0tFWSk7XG4gICAgICAgIGlmICghY2FjaGUpIHtcbiAgICAgICAgICBjYWNoZSA9IHtcbiAgICAgICAgICAgIGNsYXNzZXM6IHt9LFxuICAgICAgICAgICAgb3B0aW9uczogb3B0aW9uc1xuICAgICAgICAgIH07XG4gICAgICAgICAgY3JlYXRlZENhY2hlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zICYmIGNhY2hlLm9wdGlvbnMpIHtcbiAgICAgICAgICBjYWNoZS5vcHRpb25zID0gYW5ndWxhci5leHRlbmQoY2FjaGUub3B0aW9ucyB8fCB7fSwgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2xhc3NlcyA9IGNhY2hlLmNsYXNzZXM7XG5cbiAgICAgICAgYWRkID0gaXNBcnJheShhZGQpID8gYWRkIDogYWRkLnNwbGl0KCcgJyk7XG4gICAgICAgIHJlbW92ZSA9IGlzQXJyYXkocmVtb3ZlKSA/IHJlbW92ZSA6IHJlbW92ZS5zcGxpdCgnICcpO1xuICAgICAgICBjYWNoZWRDbGFzc01hbmlwdWxhdGlvbihjbGFzc2VzLCBhZGQsIHRydWUpO1xuICAgICAgICBjYWNoZWRDbGFzc01hbmlwdWxhdGlvbihjbGFzc2VzLCByZW1vdmUsIGZhbHNlKTtcblxuICAgICAgICBpZiAoY3JlYXRlZENhY2hlKSB7XG4gICAgICAgICAgY2FjaGUucHJvbWlzZSA9IHJ1bkFuaW1hdGlvblBvc3REaWdlc3QoZnVuY3Rpb24oZG9uZSkge1xuICAgICAgICAgICAgdmFyIGNhY2hlID0gZWxlbWVudC5kYXRhKFNUT1JBR0VfS0VZKTtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRGF0YShTVE9SQUdFX0tFWSk7XG5cbiAgICAgICAgICAgIC8vIGluIHRoZSBldmVudCB0aGF0IHRoZSBlbGVtZW50IGlzIHJlbW92ZWQgYmVmb3JlIHBvc3REaWdlc3RcbiAgICAgICAgICAgIC8vIGlzIHJ1biB0aGVuIHRoZSBjYWNoZSB3aWxsIGJlIHVuZGVmaW5lZCBhbmQgdGhlcmUgd2lsbCBiZVxuICAgICAgICAgICAgLy8gbm8gbmVlZCBhbnltb3JlIHRvIGFkZCBvciByZW1vdmUgYW5kIG9mIHRoZSBlbGVtZW50IGNsYXNzZXNcbiAgICAgICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgICAgICB2YXIgY2xhc3NlcyA9IHJlc29sdmVFbGVtZW50Q2xhc3NlcyhlbGVtZW50LCBjYWNoZS5jbGFzc2VzKTtcbiAgICAgICAgICAgICAgaWYgKGNsYXNzZXMpIHtcbiAgICAgICAgICAgICAgICBzZWxmLiQkc2V0Q2xhc3NJbW1lZGlhdGVseShlbGVtZW50LCBjbGFzc2VzWzBdLCBjbGFzc2VzWzFdLCBjYWNoZS5vcHRpb25zKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZWxlbWVudC5kYXRhKFNUT1JBR0VfS0VZLCBjYWNoZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2FjaGUucHJvbWlzZTtcbiAgICAgIH0sXG5cbiAgICAgICQkc2V0Q2xhc3NJbW1lZGlhdGVseTogZnVuY3Rpb24oZWxlbWVudCwgYWRkLCByZW1vdmUsIG9wdGlvbnMpIHtcbiAgICAgICAgYWRkICYmIHRoaXMuJCRhZGRDbGFzc0ltbWVkaWF0ZWx5KGVsZW1lbnQsIGFkZCk7XG4gICAgICAgIHJlbW92ZSAmJiB0aGlzLiQkcmVtb3ZlQ2xhc3NJbW1lZGlhdGVseShlbGVtZW50LCByZW1vdmUpO1xuICAgICAgICBhcHBseVN0eWxlcyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGFzeW5jUHJvbWlzZSgpO1xuICAgICAgfSxcblxuICAgICAgZW5hYmxlZDogbm9vcCxcbiAgICAgIGNhbmNlbDogbm9vcFxuICAgIH07XG4gIH1dO1xufV07XG5cbmZ1bmN0aW9uICQkQXN5bmNDYWxsYmFja1Byb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyQkckFGJywgJyR0aW1lb3V0JywgZnVuY3Rpb24oJCRyQUYsICR0aW1lb3V0KSB7XG4gICAgcmV0dXJuICQkckFGLnN1cHBvcnRlZFxuICAgICAgPyBmdW5jdGlvbihmbikgeyByZXR1cm4gJCRyQUYoZm4pOyB9XG4gICAgICA6IGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgIHJldHVybiAkdGltZW91dChmbiwgMCwgZmFsc2UpO1xuICAgICAgfTtcbiAgfV07XG59XG5cbi8qIGdsb2JhbCBzdHJpcEhhc2g6IHRydWUgKi9cblxuLyoqXG4gKiAhIFRoaXMgaXMgYSBwcml2YXRlIHVuZG9jdW1lbnRlZCBzZXJ2aWNlICFcbiAqXG4gKiBAbmFtZSAkYnJvd3NlclxuICogQHJlcXVpcmVzICRsb2dcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBvYmplY3QgaGFzIHR3byBnb2FsczpcbiAqXG4gKiAtIGhpZGUgYWxsIHRoZSBnbG9iYWwgc3RhdGUgaW4gdGhlIGJyb3dzZXIgY2F1c2VkIGJ5IHRoZSB3aW5kb3cgb2JqZWN0XG4gKiAtIGFic3RyYWN0IGF3YXkgYWxsIHRoZSBicm93c2VyIHNwZWNpZmljIGZlYXR1cmVzIGFuZCBpbmNvbnNpc3RlbmNpZXNcbiAqXG4gKiBGb3IgdGVzdHMgd2UgcHJvdmlkZSB7QGxpbmsgbmdNb2NrLiRicm93c2VyIG1vY2sgaW1wbGVtZW50YXRpb259IG9mIHRoZSBgJGJyb3dzZXJgXG4gKiBzZXJ2aWNlLCB3aGljaCBjYW4gYmUgdXNlZCBmb3IgY29udmVuaWVudCB0ZXN0aW5nIG9mIHRoZSBhcHBsaWNhdGlvbiB3aXRob3V0IHRoZSBpbnRlcmFjdGlvbiB3aXRoXG4gKiB0aGUgcmVhbCBicm93c2VyIGFwaXMuXG4gKi9cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IHdpbmRvdyBUaGUgZ2xvYmFsIHdpbmRvdyBvYmplY3QuXG4gKiBAcGFyYW0ge29iamVjdH0gZG9jdW1lbnQgalF1ZXJ5IHdyYXBwZWQgZG9jdW1lbnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IFhIUiBYTUxIdHRwUmVxdWVzdCBjb25zdHJ1Y3Rvci5cbiAqIEBwYXJhbSB7b2JqZWN0fSAkbG9nIGNvbnNvbGUubG9nIG9yIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIGludGVyZmFjZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSAkc25pZmZlciAkc25pZmZlciBzZXJ2aWNlXG4gKi9cbmZ1bmN0aW9uIEJyb3dzZXIod2luZG93LCBkb2N1bWVudCwgJGxvZywgJHNuaWZmZXIpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgcmF3RG9jdW1lbnQgPSBkb2N1bWVudFswXSxcbiAgICAgIGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLFxuICAgICAgaGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5LFxuICAgICAgc2V0VGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0LFxuICAgICAgY2xlYXJUaW1lb3V0ID0gd2luZG93LmNsZWFyVGltZW91dCxcbiAgICAgIHBlbmRpbmdEZWZlcklkcyA9IHt9O1xuXG4gIHNlbGYuaXNNb2NrID0gZmFsc2U7XG5cbiAgdmFyIG91dHN0YW5kaW5nUmVxdWVzdENvdW50ID0gMDtcbiAgdmFyIG91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcyA9IFtdO1xuXG4gIC8vIFRPRE8odm9qdGEpOiByZW1vdmUgdGhpcyB0ZW1wb3JhcnkgYXBpXG4gIHNlbGYuJCRjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdCA9IGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0O1xuICBzZWxmLiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQgPSBmdW5jdGlvbigpIHsgb3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQrKzsgfTtcblxuICAvKipcbiAgICogRXhlY3V0ZXMgdGhlIGBmbmAgZnVuY3Rpb24oc3VwcG9ydHMgY3VycnlpbmcpIGFuZCBkZWNyZW1lbnRzIHRoZSBgb3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzYFxuICAgKiBjb3VudGVyLiBJZiB0aGUgY291bnRlciByZWFjaGVzIDAsIGFsbCB0aGUgYG91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrc2AgYXJlIGV4ZWN1dGVkLlxuICAgKi9cbiAgZnVuY3Rpb24gY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QoZm4pIHtcbiAgICB0cnkge1xuICAgICAgZm4uYXBwbHkobnVsbCwgc2xpY2VBcmdzKGFyZ3VtZW50cywgMSkpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBvdXRzdGFuZGluZ1JlcXVlc3RDb3VudC0tO1xuICAgICAgaWYgKG91dHN0YW5kaW5nUmVxdWVzdENvdW50ID09PSAwKSB7XG4gICAgICAgIHdoaWxlIChvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MubGVuZ3RoKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcy5wb3AoKSgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICRsb2cuZXJyb3IoZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIE5vdGU6IHRoaXMgbWV0aG9kIGlzIHVzZWQgb25seSBieSBzY2VuYXJpbyBydW5uZXJcbiAgICogVE9ETyh2b2p0YSk6IHByZWZpeCB0aGlzIG1ldGhvZCB3aXRoICQkID9cbiAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBjYWxsYmFjayBGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gbm8gb3V0c3RhbmRpbmcgcmVxdWVzdFxuICAgKi9cbiAgc2VsZi5ub3RpZnlXaGVuTm9PdXRzdGFuZGluZ1JlcXVlc3RzID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAvLyBmb3JjZSBicm93c2VyIHRvIGV4ZWN1dGUgYWxsIHBvbGxGbnMgLSB0aGlzIGlzIG5lZWRlZCBzbyB0aGF0IGNvb2tpZXMgYW5kIG90aGVyIHBvbGxlcnMgZmlyZVxuICAgIC8vIGF0IHNvbWUgZGV0ZXJtaW5pc3RpYyB0aW1lIGluIHJlc3BlY3QgdG8gdGhlIHRlc3QgcnVubmVyJ3MgYWN0aW9ucy4gTGVhdmluZyB0aGluZ3MgdXAgdG8gdGhlXG4gICAgLy8gcmVndWxhciBwb2xsZXIgd291bGQgcmVzdWx0IGluIGZsYWt5IHRlc3RzLlxuICAgIGZvckVhY2gocG9sbEZucywgZnVuY3Rpb24ocG9sbEZuKSB7IHBvbGxGbigpOyB9KTtcblxuICAgIGlmIChvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCA9PT0gMCkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIH1cbiAgfTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBQb2xsIFdhdGNoZXIgQVBJXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIHZhciBwb2xsRm5zID0gW10sXG4gICAgICBwb2xsVGltZW91dDtcblxuICAvKipcbiAgICogQG5hbWUgJGJyb3dzZXIjYWRkUG9sbEZuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gZm4gUG9sbCBmdW5jdGlvbiB0byBhZGRcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEFkZHMgYSBmdW5jdGlvbiB0byB0aGUgbGlzdCBvZiBmdW5jdGlvbnMgdGhhdCBwb2xsZXIgcGVyaW9kaWNhbGx5IGV4ZWN1dGVzLFxuICAgKiBhbmQgc3RhcnRzIHBvbGxpbmcgaWYgbm90IHN0YXJ0ZWQgeWV0LlxuICAgKlxuICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gdGhlIGFkZGVkIGZ1bmN0aW9uXG4gICAqL1xuICBzZWxmLmFkZFBvbGxGbiA9IGZ1bmN0aW9uKGZuKSB7XG4gICAgaWYgKGlzVW5kZWZpbmVkKHBvbGxUaW1lb3V0KSkgc3RhcnRQb2xsZXIoMTAwLCBzZXRUaW1lb3V0KTtcbiAgICBwb2xsRm5zLnB1c2goZm4pO1xuICAgIHJldHVybiBmbjtcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IGludGVydmFsIEhvdyBvZnRlbiBzaG91bGQgYnJvd3NlciBjYWxsIHBvbGwgZnVuY3Rpb25zIChtcylcbiAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBzZXRUaW1lb3V0IFJlZmVyZW5jZSB0byBhIHJlYWwgb3IgZmFrZSBgc2V0VGltZW91dGAgZnVuY3Rpb24uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDb25maWd1cmVzIHRoZSBwb2xsZXIgdG8gcnVuIGluIHRoZSBzcGVjaWZpZWQgaW50ZXJ2YWxzLCB1c2luZyB0aGUgc3BlY2lmaWVkXG4gICAqIHNldFRpbWVvdXQgZm4gYW5kIGtpY2tzIGl0IG9mZi5cbiAgICovXG4gIGZ1bmN0aW9uIHN0YXJ0UG9sbGVyKGludGVydmFsLCBzZXRUaW1lb3V0KSB7XG4gICAgKGZ1bmN0aW9uIGNoZWNrKCkge1xuICAgICAgZm9yRWFjaChwb2xsRm5zLCBmdW5jdGlvbihwb2xsRm4pIHsgcG9sbEZuKCk7IH0pO1xuICAgICAgcG9sbFRpbWVvdXQgPSBzZXRUaW1lb3V0KGNoZWNrLCBpbnRlcnZhbCk7XG4gICAgfSkoKTtcbiAgfVxuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIFVSTCBBUElcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICB2YXIgY2FjaGVkU3RhdGUsIGxhc3RIaXN0b3J5U3RhdGUsXG4gICAgICBsYXN0QnJvd3NlclVybCA9IGxvY2F0aW9uLmhyZWYsXG4gICAgICBiYXNlRWxlbWVudCA9IGRvY3VtZW50LmZpbmQoJ2Jhc2UnKSxcbiAgICAgIHJlbG9hZExvY2F0aW9uID0gbnVsbDtcblxuICBjYWNoZVN0YXRlKCk7XG4gIGxhc3RIaXN0b3J5U3RhdGUgPSBjYWNoZWRTdGF0ZTtcblxuICAvKipcbiAgICogQG5hbWUgJGJyb3dzZXIjdXJsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBHRVRURVI6XG4gICAqIFdpdGhvdXQgYW55IGFyZ3VtZW50LCB0aGlzIG1ldGhvZCBqdXN0IHJldHVybnMgY3VycmVudCB2YWx1ZSBvZiBsb2NhdGlvbi5ocmVmLlxuICAgKlxuICAgKiBTRVRURVI6XG4gICAqIFdpdGggYXQgbGVhc3Qgb25lIGFyZ3VtZW50LCB0aGlzIG1ldGhvZCBzZXRzIHVybCB0byBuZXcgdmFsdWUuXG4gICAqIElmIGh0bWw1IGhpc3RvcnkgYXBpIHN1cHBvcnRlZCwgcHVzaFN0YXRlL3JlcGxhY2VTdGF0ZSBpcyB1c2VkLCBvdGhlcndpc2VcbiAgICogbG9jYXRpb24uaHJlZi9sb2NhdGlvbi5yZXBsYWNlIGlzIHVzZWQuXG4gICAqIFJldHVybnMgaXRzIG93biBpbnN0YW5jZSB0byBhbGxvdyBjaGFpbmluZ1xuICAgKlxuICAgKiBOT1RFOiB0aGlzIGFwaSBpcyBpbnRlbmRlZCBmb3IgdXNlIG9ubHkgYnkgdGhlICRsb2NhdGlvbiBzZXJ2aWNlLiBQbGVhc2UgdXNlIHRoZVxuICAgKiB7QGxpbmsgbmcuJGxvY2F0aW9uICRsb2NhdGlvbiBzZXJ2aWNlfSB0byBjaGFuZ2UgdXJsLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIE5ldyB1cmwgKHdoZW4gdXNlZCBhcyBzZXR0ZXIpXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IHJlcGxhY2UgU2hvdWxkIG5ldyB1cmwgcmVwbGFjZSBjdXJyZW50IGhpc3RvcnkgcmVjb3JkP1xuICAgKiBAcGFyYW0ge29iamVjdD19IHN0YXRlIG9iamVjdCB0byB1c2Ugd2l0aCBwdXNoU3RhdGUvcmVwbGFjZVN0YXRlXG4gICAqL1xuICBzZWxmLnVybCA9IGZ1bmN0aW9uKHVybCwgcmVwbGFjZSwgc3RhdGUpIHtcbiAgICAvLyBJbiBtb2Rlcm4gYnJvd3NlcnMgYGhpc3Rvcnkuc3RhdGVgIGlzIGBudWxsYCBieSBkZWZhdWx0OyB0cmVhdGluZyBpdCBzZXBhcmF0ZWx5XG4gICAgLy8gZnJvbSBgdW5kZWZpbmVkYCB3b3VsZCBjYXVzZSBgJGJyb3dzZXIudXJsKCcvZm9vJylgIHRvIGNoYW5nZSBgaGlzdG9yeS5zdGF0ZWBcbiAgICAvLyB0byB1bmRlZmluZWQgdmlhIGBwdXNoU3RhdGVgLiBJbnN0ZWFkLCBsZXQncyBjaGFuZ2UgYHVuZGVmaW5lZGAgdG8gYG51bGxgIGhlcmUuXG4gICAgaWYgKGlzVW5kZWZpbmVkKHN0YXRlKSkge1xuICAgICAgc3RhdGUgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIEFuZHJvaWQgQnJvd3NlciBCRkNhY2hlIGNhdXNlcyBsb2NhdGlvbiwgaGlzdG9yeSByZWZlcmVuY2UgdG8gYmVjb21lIHN0YWxlLlxuICAgIGlmIChsb2NhdGlvbiAhPT0gd2luZG93LmxvY2F0aW9uKSBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbjtcbiAgICBpZiAoaGlzdG9yeSAhPT0gd2luZG93Lmhpc3RvcnkpIGhpc3RvcnkgPSB3aW5kb3cuaGlzdG9yeTtcblxuICAgIC8vIHNldHRlclxuICAgIGlmICh1cmwpIHtcbiAgICAgIHZhciBzYW1lU3RhdGUgPSBsYXN0SGlzdG9yeVN0YXRlID09PSBzdGF0ZTtcblxuICAgICAgLy8gRG9uJ3QgY2hhbmdlIGFueXRoaW5nIGlmIHByZXZpb3VzIGFuZCBjdXJyZW50IFVSTHMgYW5kIHN0YXRlcyBtYXRjaC4gVGhpcyBhbHNvIHByZXZlbnRzXG4gICAgICAvLyBJRTwxMCBmcm9tIGdldHRpbmcgaW50byByZWRpcmVjdCBsb29wIHdoZW4gaW4gTG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmwgbW9kZS5cbiAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2NvbW1pdC9mZmIyNzAxXG4gICAgICBpZiAobGFzdEJyb3dzZXJVcmwgPT09IHVybCAmJiAoISRzbmlmZmVyLmhpc3RvcnkgfHwgc2FtZVN0YXRlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgc2FtZUJhc2UgPSBsYXN0QnJvd3NlclVybCAmJiBzdHJpcEhhc2gobGFzdEJyb3dzZXJVcmwpID09PSBzdHJpcEhhc2godXJsKTtcbiAgICAgIGxhc3RCcm93c2VyVXJsID0gdXJsO1xuICAgICAgbGFzdEhpc3RvcnlTdGF0ZSA9IHN0YXRlO1xuICAgICAgLy8gRG9uJ3QgdXNlIGhpc3RvcnkgQVBJIGlmIG9ubHkgdGhlIGhhc2ggY2hhbmdlZFxuICAgICAgLy8gZHVlIHRvIGEgYnVnIGluIElFMTAvSUUxMSB3aGljaCBsZWFkc1xuICAgICAgLy8gdG8gbm90IGZpcmluZyBhIGBoYXNoY2hhbmdlYCBub3IgYHBvcHN0YXRlYCBldmVudFxuICAgICAgLy8gaW4gc29tZSBjYXNlcyAoc2VlICM5MTQzKS5cbiAgICAgIGlmICgkc25pZmZlci5oaXN0b3J5ICYmICghc2FtZUJhc2UgfHwgIXNhbWVTdGF0ZSkpIHtcbiAgICAgICAgaGlzdG9yeVtyZXBsYWNlID8gJ3JlcGxhY2VTdGF0ZScgOiAncHVzaFN0YXRlJ10oc3RhdGUsICcnLCB1cmwpO1xuICAgICAgICBjYWNoZVN0YXRlKCk7XG4gICAgICAgIC8vIERvIHRoZSBhc3NpZ25tZW50IGFnYWluIHNvIHRoYXQgdGhvc2UgdHdvIHZhcmlhYmxlcyBhcmUgcmVmZXJlbnRpYWxseSBpZGVudGljYWwuXG4gICAgICAgIGxhc3RIaXN0b3J5U3RhdGUgPSBjYWNoZWRTdGF0ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghc2FtZUJhc2UpIHtcbiAgICAgICAgICByZWxvYWRMb2NhdGlvbiA9IHVybDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVwbGFjZSkge1xuICAgICAgICAgIGxvY2F0aW9uLnJlcGxhY2UodXJsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gdXJsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICAvLyBnZXR0ZXJcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gLSByZWxvYWRMb2NhdGlvbiBpcyBuZWVkZWQgYXMgYnJvd3NlcnMgZG9uJ3QgYWxsb3cgdG8gcmVhZCBvdXRcbiAgICAgIC8vICAgdGhlIG5ldyBsb2NhdGlvbi5ocmVmIGlmIGEgcmVsb2FkIGhhcHBlbmVkLlxuICAgICAgLy8gLSB0aGUgcmVwbGFjZW1lbnQgaXMgYSB3b3JrYXJvdW5kIGZvciBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD00MDcxNzJcbiAgICAgIHJldHVybiByZWxvYWRMb2NhdGlvbiB8fCBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyUyNy9nLFwiJ1wiKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuYW1lICRicm93c2VyI3N0YXRlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBhIGdldHRlci5cbiAgICpcbiAgICogUmV0dXJuIGhpc3Rvcnkuc3RhdGUgb3IgbnVsbCBpZiBoaXN0b3J5LnN0YXRlIGlzIHVuZGVmaW5lZC5cbiAgICpcbiAgICogQHJldHVybnMge29iamVjdH0gc3RhdGVcbiAgICovXG4gIHNlbGYuc3RhdGUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gY2FjaGVkU3RhdGU7XG4gIH07XG5cbiAgdmFyIHVybENoYW5nZUxpc3RlbmVycyA9IFtdLFxuICAgICAgdXJsQ2hhbmdlSW5pdCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlKCkge1xuICAgIGNhY2hlU3RhdGUoKTtcbiAgICBmaXJlVXJsQ2hhbmdlKCk7XG4gIH1cblxuICAvLyBUaGlzIHZhcmlhYmxlIHNob3VsZCBiZSB1c2VkICpvbmx5KiBpbnNpZGUgdGhlIGNhY2hlU3RhdGUgZnVuY3Rpb24uXG4gIHZhciBsYXN0Q2FjaGVkU3RhdGUgPSBudWxsO1xuICBmdW5jdGlvbiBjYWNoZVN0YXRlKCkge1xuICAgIC8vIFRoaXMgc2hvdWxkIGJlIHRoZSBvbmx5IHBsYWNlIGluICRicm93c2VyIHdoZXJlIGBoaXN0b3J5LnN0YXRlYCBpcyByZWFkLlxuICAgIGNhY2hlZFN0YXRlID0gd2luZG93Lmhpc3Rvcnkuc3RhdGU7XG4gICAgY2FjaGVkU3RhdGUgPSBpc1VuZGVmaW5lZChjYWNoZWRTdGF0ZSkgPyBudWxsIDogY2FjaGVkU3RhdGU7XG5cbiAgICAvLyBQcmV2ZW50IGNhbGxiYWNrcyBmbyBmaXJlIHR3aWNlIGlmIGJvdGggaGFzaGNoYW5nZSAmIHBvcHN0YXRlIHdlcmUgZmlyZWQuXG4gICAgaWYgKGVxdWFscyhjYWNoZWRTdGF0ZSwgbGFzdENhY2hlZFN0YXRlKSkge1xuICAgICAgY2FjaGVkU3RhdGUgPSBsYXN0Q2FjaGVkU3RhdGU7XG4gICAgfVxuICAgIGxhc3RDYWNoZWRTdGF0ZSA9IGNhY2hlZFN0YXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gZmlyZVVybENoYW5nZSgpIHtcbiAgICBpZiAobGFzdEJyb3dzZXJVcmwgPT09IHNlbGYudXJsKCkgJiYgbGFzdEhpc3RvcnlTdGF0ZSA9PT0gY2FjaGVkU3RhdGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsYXN0QnJvd3NlclVybCA9IHNlbGYudXJsKCk7XG4gICAgbGFzdEhpc3RvcnlTdGF0ZSA9IGNhY2hlZFN0YXRlO1xuICAgIGZvckVhY2godXJsQ2hhbmdlTGlzdGVuZXJzLCBmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgbGlzdGVuZXIoc2VsZi51cmwoKSwgY2FjaGVkU3RhdGUpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBuYW1lICRicm93c2VyI29uVXJsQ2hhbmdlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlciBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkLCB3aGVuIHVybCBjaGFuZ2VzLlxuICAgKlxuICAgKiBJdCdzIG9ubHkgY2FsbGVkIHdoZW4gdGhlIHVybCBpcyBjaGFuZ2VkIGZyb20gb3V0c2lkZSBvZiBhbmd1bGFyOlxuICAgKiAtIHVzZXIgdHlwZXMgZGlmZmVyZW50IHVybCBpbnRvIGFkZHJlc3MgYmFyXG4gICAqIC0gdXNlciBjbGlja3Mgb24gaGlzdG9yeSAoZm9yd2FyZC9iYWNrKSBidXR0b25cbiAgICogLSB1c2VyIGNsaWNrcyBvbiBhIGxpbmtcbiAgICpcbiAgICogSXQncyBub3QgY2FsbGVkIHdoZW4gdXJsIGlzIGNoYW5nZWQgYnkgJGJyb3dzZXIudXJsKCkgbWV0aG9kXG4gICAqXG4gICAqIFRoZSBsaXN0ZW5lciBnZXRzIGNhbGxlZCB3aXRoIG5ldyB1cmwgYXMgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBOT1RFOiB0aGlzIGFwaSBpcyBpbnRlbmRlZCBmb3IgdXNlIG9ubHkgYnkgdGhlICRsb2NhdGlvbiBzZXJ2aWNlLiBQbGVhc2UgdXNlIHRoZVxuICAgKiB7QGxpbmsgbmcuJGxvY2F0aW9uICRsb2NhdGlvbiBzZXJ2aWNlfSB0byBtb25pdG9yIHVybCBjaGFuZ2VzIGluIGFuZ3VsYXIgYXBwcy5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmcpfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiB1cmwgY2hhbmdlcy5cbiAgICogQHJldHVybiB7ZnVuY3Rpb24oc3RyaW5nKX0gUmV0dXJucyB0aGUgcmVnaXN0ZXJlZCBsaXN0ZW5lciBmbiAtIGhhbmR5IGlmIHRoZSBmbiBpcyBhbm9ueW1vdXMuXG4gICAqL1xuICBzZWxmLm9uVXJsQ2hhbmdlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAvLyBUT0RPKHZvanRhKTogcmVmYWN0b3IgdG8gdXNlIG5vZGUncyBzeW50YXggZm9yIGV2ZW50c1xuICAgIGlmICghdXJsQ2hhbmdlSW5pdCkge1xuICAgICAgLy8gV2UgbGlzdGVuIG9uIGJvdGggKGhhc2hjaGFuZ2UvcG9wc3RhdGUpIHdoZW4gYXZhaWxhYmxlLCBhcyBzb21lIGJyb3dzZXJzIChlLmcuIE9wZXJhKVxuICAgICAgLy8gZG9uJ3QgZmlyZSBwb3BzdGF0ZSB3aGVuIHVzZXIgY2hhbmdlIHRoZSBhZGRyZXNzIGJhciBhbmQgZG9uJ3QgZmlyZSBoYXNoY2hhbmdlIHdoZW4gdXJsXG4gICAgICAvLyBjaGFuZ2VkIGJ5IHB1c2gvcmVwbGFjZVN0YXRlXG5cbiAgICAgIC8vIGh0bWw1IGhpc3RvcnkgYXBpIC0gcG9wc3RhdGUgZXZlbnRcbiAgICAgIGlmICgkc25pZmZlci5oaXN0b3J5KSBqcUxpdGUod2luZG93KS5vbigncG9wc3RhdGUnLCBjYWNoZVN0YXRlQW5kRmlyZVVybENoYW5nZSk7XG4gICAgICAvLyBoYXNoY2hhbmdlIGV2ZW50XG4gICAgICBqcUxpdGUod2luZG93KS5vbignaGFzaGNoYW5nZScsIGNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlKTtcblxuICAgICAgdXJsQ2hhbmdlSW5pdCA9IHRydWU7XG4gICAgfVxuXG4gICAgdXJsQ2hhbmdlTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgIHJldHVybiBjYWxsYmFjaztcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIHVybCBoYXMgY2hhbmdlZCBvdXRzaWRlIG9mIEFuZ3VsYXIuXG4gICAqIE5lZWRzIHRvIGJlIGV4cG9ydGVkIHRvIGJlIGFibGUgdG8gY2hlY2sgZm9yIGNoYW5nZXMgdGhhdCBoYXZlIGJlZW4gZG9uZSBpbiBzeW5jLFxuICAgKiBhcyBoYXNoY2hhbmdlL3BvcHN0YXRlIGV2ZW50cyBmaXJlIGluIGFzeW5jLlxuICAgKi9cbiAgc2VsZi4kJGNoZWNrVXJsQ2hhbmdlID0gZmlyZVVybENoYW5nZTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBNaXNjIEFQSVxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIC8qKlxuICAgKiBAbmFtZSAkYnJvd3NlciNiYXNlSHJlZlxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmV0dXJucyBjdXJyZW50IDxiYXNlIGhyZWY+XG4gICAqIChhbHdheXMgcmVsYXRpdmUgLSB3aXRob3V0IGRvbWFpbilcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGN1cnJlbnQgYmFzZSBocmVmXG4gICAqL1xuICBzZWxmLmJhc2VIcmVmID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGhyZWYgPSBiYXNlRWxlbWVudC5hdHRyKCdocmVmJyk7XG4gICAgcmV0dXJuIGhyZWYgPyBocmVmLnJlcGxhY2UoL14oaHR0cHM/XFw6KT9cXC9cXC9bXlxcL10qLywgJycpIDogJyc7XG4gIH07XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gQ29va2llcyBBUElcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgdmFyIGxhc3RDb29raWVzID0ge307XG4gIHZhciBsYXN0Q29va2llU3RyaW5nID0gJyc7XG4gIHZhciBjb29raWVQYXRoID0gc2VsZi5iYXNlSHJlZigpO1xuXG4gIGZ1bmN0aW9uIHNhZmVEZWNvZGVVUklDb21wb25lbnQoc3RyKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc3RyKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAbmFtZSAkYnJvd3NlciNjb29raWVzXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBDb29raWUgbmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZz19IHZhbHVlIENvb2tpZSB2YWx1ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhlIGNvb2tpZXMgbWV0aG9kIHByb3ZpZGVzIGEgJ3ByaXZhdGUnIGxvdyBsZXZlbCBhY2Nlc3MgdG8gYnJvd3NlciBjb29raWVzLlxuICAgKiBJdCBpcyBub3QgbWVhbnQgdG8gYmUgdXNlZCBkaXJlY3RseSwgdXNlIHRoZSAkY29va2llIHNlcnZpY2UgaW5zdGVhZC5cbiAgICpcbiAgICogVGhlIHJldHVybiB2YWx1ZXMgdmFyeSBkZXBlbmRpbmcgb24gdGhlIGFyZ3VtZW50cyB0aGF0IHRoZSBtZXRob2Qgd2FzIGNhbGxlZCB3aXRoIGFzIGZvbGxvd3M6XG4gICAqXG4gICAqIC0gY29va2llcygpIC0+IGhhc2ggb2YgYWxsIGNvb2tpZXMsIHRoaXMgaXMgTk9UIGEgY29weSBvZiB0aGUgaW50ZXJuYWwgc3RhdGUsIHNvIGRvIG5vdCBtb2RpZnlcbiAgICogICBpdFxuICAgKiAtIGNvb2tpZXMobmFtZSwgdmFsdWUpIC0+IHNldCBuYW1lIHRvIHZhbHVlLCBpZiB2YWx1ZSBpcyB1bmRlZmluZWQgZGVsZXRlIHRoZSBjb29raWVcbiAgICogLSBjb29raWVzKG5hbWUpIC0+IHRoZSBzYW1lIGFzIChuYW1lLCB1bmRlZmluZWQpID09IERFTEVURVMgKG5vIG9uZSBjYWxscyBpdCByaWdodCBub3cgdGhhdFxuICAgKiAgIHdheSlcbiAgICpcbiAgICogQHJldHVybnMge09iamVjdH0gSGFzaCBvZiBhbGwgY29va2llcyAoaWYgY2FsbGVkIHdpdGhvdXQgYW55IHBhcmFtZXRlcilcbiAgICovXG4gIHNlbGYuY29va2llcyA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgdmFyIGNvb2tpZUxlbmd0aCwgY29va2llQXJyYXksIGNvb2tpZSwgaSwgaW5kZXg7XG5cbiAgICBpZiAobmFtZSkge1xuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmF3RG9jdW1lbnQuY29va2llID0gZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpICsgXCI9O3BhdGg9XCIgKyBjb29raWVQYXRoICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7ZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIEdNVFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICAgIGNvb2tpZUxlbmd0aCA9IChyYXdEb2N1bWVudC5jb29raWUgPSBlbmNvZGVVUklDb21wb25lbnQobmFtZSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJztwYXRoPScgKyBjb29raWVQYXRoKS5sZW5ndGggKyAxO1xuXG4gICAgICAgICAgLy8gcGVyIGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzIxMDkudHh0IGJyb3dzZXIgbXVzdCBhbGxvdyBhdCBtaW5pbXVtOlxuICAgICAgICAgIC8vIC0gMzAwIGNvb2tpZXNcbiAgICAgICAgICAvLyAtIDIwIGNvb2tpZXMgcGVyIHVuaXF1ZSBkb21haW5cbiAgICAgICAgICAvLyAtIDQwOTYgYnl0ZXMgcGVyIGNvb2tpZVxuICAgICAgICAgIGlmIChjb29raWVMZW5ndGggPiA0MDk2KSB7XG4gICAgICAgICAgICAkbG9nLndhcm4oXCJDb29raWUgJ1wiKyBuYW1lICtcbiAgICAgICAgICAgICAgXCInIHBvc3NpYmx5IG5vdCBzZXQgb3Igb3ZlcmZsb3dlZCBiZWNhdXNlIGl0IHdhcyB0b28gbGFyZ2UgKFwiK1xuICAgICAgICAgICAgICBjb29raWVMZW5ndGggKyBcIiA+IDQwOTYgYnl0ZXMpIVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHJhd0RvY3VtZW50LmNvb2tpZSAhPT0gbGFzdENvb2tpZVN0cmluZykge1xuICAgICAgICBsYXN0Q29va2llU3RyaW5nID0gcmF3RG9jdW1lbnQuY29va2llO1xuICAgICAgICBjb29raWVBcnJheSA9IGxhc3RDb29raWVTdHJpbmcuc3BsaXQoXCI7IFwiKTtcbiAgICAgICAgbGFzdENvb2tpZXMgPSB7fTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29va2llQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb29raWUgPSBjb29raWVBcnJheVtpXTtcbiAgICAgICAgICBpbmRleCA9IGNvb2tpZS5pbmRleE9mKCc9Jyk7XG4gICAgICAgICAgaWYgKGluZGV4ID4gMCkgeyAvL2lnbm9yZSBuYW1lbGVzcyBjb29raWVzXG4gICAgICAgICAgICBuYW1lID0gc2FmZURlY29kZVVSSUNvbXBvbmVudChjb29raWUuc3Vic3RyaW5nKDAsIGluZGV4KSk7XG4gICAgICAgICAgICAvLyB0aGUgZmlyc3QgdmFsdWUgdGhhdCBpcyBzZWVuIGZvciBhIGNvb2tpZSBpcyB0aGUgbW9zdFxuICAgICAgICAgICAgLy8gc3BlY2lmaWMgb25lLiAgdmFsdWVzIGZvciB0aGUgc2FtZSBjb29raWUgbmFtZSB0aGF0XG4gICAgICAgICAgICAvLyBmb2xsb3cgYXJlIGZvciBsZXNzIHNwZWNpZmljIHBhdGhzLlxuICAgICAgICAgICAgaWYgKGxhc3RDb29raWVzW25hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgbGFzdENvb2tpZXNbbmFtZV0gPSBzYWZlRGVjb2RlVVJJQ29tcG9uZW50KGNvb2tpZS5zdWJzdHJpbmcoaW5kZXggKyAxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbGFzdENvb2tpZXM7XG4gICAgfVxuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBuYW1lICRicm93c2VyI2RlZmVyXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gZm4gQSBmdW5jdGlvbiwgd2hvJ3MgZXhlY3V0aW9uIHNob3VsZCBiZSBkZWZlcnJlZC5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBbZGVsYXk9MF0gb2YgbWlsbGlzZWNvbmRzIHRvIGRlZmVyIHRoZSBmdW5jdGlvbiBleGVjdXRpb24uXG4gICAqIEByZXR1cm5zIHsqfSBEZWZlcklkIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSB0YXNrIHZpYSBgJGJyb3dzZXIuZGVmZXIuY2FuY2VsKClgLlxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogRXhlY3V0ZXMgYSBmbiBhc3luY2hyb25vdXNseSB2aWEgYHNldFRpbWVvdXQoZm4sIGRlbGF5KWAuXG4gICAqXG4gICAqIFVubGlrZSB3aGVuIGNhbGxpbmcgYHNldFRpbWVvdXRgIGRpcmVjdGx5LCBpbiB0ZXN0IHRoaXMgZnVuY3Rpb24gaXMgbW9ja2VkIGFuZCBpbnN0ZWFkIG9mIHVzaW5nXG4gICAqIGBzZXRUaW1lb3V0YCBpbiB0ZXN0cywgdGhlIGZucyBhcmUgcXVldWVkIGluIGFuIGFycmF5LCB3aGljaCBjYW4gYmUgcHJvZ3JhbW1hdGljYWxseSBmbHVzaGVkXG4gICAqIHZpYSBgJGJyb3dzZXIuZGVmZXIuZmx1c2goKWAuXG4gICAqXG4gICAqL1xuICBzZWxmLmRlZmVyID0gZnVuY3Rpb24oZm4sIGRlbGF5KSB7XG4gICAgdmFyIHRpbWVvdXRJZDtcbiAgICBvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCsrO1xuICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBkZWxldGUgcGVuZGluZ0RlZmVySWRzW3RpbWVvdXRJZF07XG4gICAgICBjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdChmbik7XG4gICAgfSwgZGVsYXkgfHwgMCk7XG4gICAgcGVuZGluZ0RlZmVySWRzW3RpbWVvdXRJZF0gPSB0cnVlO1xuICAgIHJldHVybiB0aW1lb3V0SWQ7XG4gIH07XG5cblxuICAvKipcbiAgICogQG5hbWUgJGJyb3dzZXIjZGVmZXIuY2FuY2VsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDYW5jZWxzIGEgZGVmZXJyZWQgdGFzayBpZGVudGlmaWVkIHdpdGggYGRlZmVySWRgLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGRlZmVySWQgVG9rZW4gcmV0dXJuZWQgYnkgdGhlIGAkYnJvd3Nlci5kZWZlcmAgZnVuY3Rpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdGFzayBoYXNuJ3QgZXhlY3V0ZWQgeWV0IGFuZCB3YXMgc3VjY2Vzc2Z1bGx5XG4gICAqICAgICAgICAgICAgICAgICAgICBjYW5jZWxlZC5cbiAgICovXG4gIHNlbGYuZGVmZXIuY2FuY2VsID0gZnVuY3Rpb24oZGVmZXJJZCkge1xuICAgIGlmIChwZW5kaW5nRGVmZXJJZHNbZGVmZXJJZF0pIHtcbiAgICAgIGRlbGV0ZSBwZW5kaW5nRGVmZXJJZHNbZGVmZXJJZF07XG4gICAgICBjbGVhclRpbWVvdXQoZGVmZXJJZCk7XG4gICAgICBjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdChub29wKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbn1cblxuZnVuY3Rpb24gJEJyb3dzZXJQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgJyRsb2cnLCAnJHNuaWZmZXInLCAnJGRvY3VtZW50JyxcbiAgICAgIGZ1bmN0aW9uKCR3aW5kb3csICRsb2csICRzbmlmZmVyLCAkZG9jdW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCcm93c2VyKCR3aW5kb3csICRkb2N1bWVudCwgJGxvZywgJHNuaWZmZXIpO1xuICAgICAgfV07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRjYWNoZUZhY3RvcnlcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEZhY3RvcnkgdGhhdCBjb25zdHJ1Y3RzIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlfSBvYmplY3RzIGFuZCBnaXZlcyBhY2Nlc3MgdG9cbiAqIHRoZW0uXG4gKlxuICogYGBganNcbiAqXG4gKiAgdmFyIGNhY2hlID0gJGNhY2hlRmFjdG9yeSgnY2FjaGVJZCcpO1xuICogIGV4cGVjdCgkY2FjaGVGYWN0b3J5LmdldCgnY2FjaGVJZCcpKS50b0JlKGNhY2hlKTtcbiAqICBleHBlY3QoJGNhY2hlRmFjdG9yeS5nZXQoJ25vU3VjaENhY2hlSWQnKSkubm90LnRvQmVEZWZpbmVkKCk7XG4gKlxuICogIGNhY2hlLnB1dChcImtleVwiLCBcInZhbHVlXCIpO1xuICogIGNhY2hlLnB1dChcImFub3RoZXIga2V5XCIsIFwiYW5vdGhlciB2YWx1ZVwiKTtcbiAqXG4gKiAgLy8gV2UndmUgc3BlY2lmaWVkIG5vIG9wdGlvbnMgb24gY3JlYXRpb25cbiAqICBleHBlY3QoY2FjaGUuaW5mbygpKS50b0VxdWFsKHtpZDogJ2NhY2hlSWQnLCBzaXplOiAyfSk7XG4gKlxuICogYGBgXG4gKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjYWNoZUlkIE5hbWUgb3IgaWQgb2YgdGhlIG5ld2x5IGNyZWF0ZWQgY2FjaGUuXG4gKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgT3B0aW9ucyBvYmplY3QgdGhhdCBzcGVjaWZpZXMgdGhlIGNhY2hlIGJlaGF2aW9yLiBQcm9wZXJ0aWVzOlxuICpcbiAqICAgLSBge251bWJlcj19YCBgY2FwYWNpdHlgIOKAlCB0dXJucyB0aGUgY2FjaGUgaW50byBMUlUgY2FjaGUuXG4gKlxuICogQHJldHVybnMge29iamVjdH0gTmV3bHkgY3JlYXRlZCBjYWNoZSBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHNldCBvZiBtZXRob2RzOlxuICpcbiAqIC0gYHtvYmplY3R9YCBgaW5mbygpYCDigJQgUmV0dXJucyBpZCwgc2l6ZSwgYW5kIG9wdGlvbnMgb2YgY2FjaGUuXG4gKiAtIGB7eyp9fWAgYHB1dCh7c3RyaW5nfSBrZXksIHsqfSB2YWx1ZSlgIOKAlCBQdXRzIGEgbmV3IGtleS12YWx1ZSBwYWlyIGludG8gdGhlIGNhY2hlIGFuZCByZXR1cm5zXG4gKiAgIGl0LlxuICogLSBge3sqfX1gIGBnZXQoe3N0cmluZ30ga2V5KWAg4oCUIFJldHVybnMgY2FjaGVkIHZhbHVlIGZvciBga2V5YCBvciB1bmRlZmluZWQgZm9yIGNhY2hlIG1pc3MuXG4gKiAtIGB7dm9pZH1gIGByZW1vdmUoe3N0cmluZ30ga2V5KWAg4oCUIFJlbW92ZXMgYSBrZXktdmFsdWUgcGFpciBmcm9tIHRoZSBjYWNoZS5cbiAqIC0gYHt2b2lkfWAgYHJlbW92ZUFsbCgpYCDigJQgUmVtb3ZlcyBhbGwgY2FjaGVkIHZhbHVlcy5cbiAqIC0gYHt2b2lkfWAgYGRlc3Ryb3koKWAg4oCUIFJlbW92ZXMgcmVmZXJlbmNlcyB0byB0aGlzIGNhY2hlIGZyb20gJGNhY2hlRmFjdG9yeS5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwiY2FjaGVFeGFtcGxlQXBwXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiQ2FjaGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJuZXdDYWNoZUtleVwiIHBsYWNlaG9sZGVyPVwiS2V5XCI+XG4gICAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJuZXdDYWNoZVZhbHVlXCIgcGxhY2Vob2xkZXI9XCJWYWx1ZVwiPlxuICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInB1dChuZXdDYWNoZUtleSwgbmV3Q2FjaGVWYWx1ZSlcIj5DYWNoZTwvYnV0dG9uPlxuXG4gICAgICAgICA8cCBuZy1pZj1cImtleXMubGVuZ3RoXCI+Q2FjaGVkIFZhbHVlczwvcD5cbiAgICAgICAgIDxkaXYgbmctcmVwZWF0PVwia2V5IGluIGtleXNcIj5cbiAgICAgICAgICAgPHNwYW4gbmctYmluZD1cImtleVwiPjwvc3Bhbj5cbiAgICAgICAgICAgPHNwYW4+OiA8L3NwYW4+XG4gICAgICAgICAgIDxiIG5nLWJpbmQ9XCJjYWNoZS5nZXQoa2V5KVwiPjwvYj5cbiAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICA8cD5DYWNoZSBJbmZvPC9wPlxuICAgICAgICAgPGRpdiBuZy1yZXBlYXQ9XCIoa2V5LCB2YWx1ZSkgaW4gY2FjaGUuaW5mbygpXCI+XG4gICAgICAgICAgIDxzcGFuIG5nLWJpbmQ9XCJrZXlcIj48L3NwYW4+XG4gICAgICAgICAgIDxzcGFuPjogPC9zcGFuPlxuICAgICAgICAgICA8YiBuZy1iaW5kPVwidmFsdWVcIj48L2I+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ2NhY2hlRXhhbXBsZUFwcCcsIFtdKS5cbiAgICAgICAgIGNvbnRyb2xsZXIoJ0NhY2hlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRjYWNoZUZhY3RvcnknLCBmdW5jdGlvbigkc2NvcGUsICRjYWNoZUZhY3RvcnkpIHtcbiAgICAgICAgICAgJHNjb3BlLmtleXMgPSBbXTtcbiAgICAgICAgICAgJHNjb3BlLmNhY2hlID0gJGNhY2hlRmFjdG9yeSgnY2FjaGVJZCcpO1xuICAgICAgICAgICAkc2NvcGUucHV0ID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgIGlmICgkc2NvcGUuY2FjaGUuZ2V0KGtleSkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgJHNjb3BlLmtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAkc2NvcGUuY2FjaGUucHV0KGtleSwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IG51bGwgOiB2YWx1ZSk7XG4gICAgICAgICAgIH07XG4gICAgICAgICB9XSk7XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIHAge1xuICAgICAgICAgbWFyZ2luOiAxMHB4IDAgM3B4O1xuICAgICAgIH1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5mdW5jdGlvbiAkQ2FjaGVGYWN0b3J5UHJvdmlkZXIoKSB7XG5cbiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNhY2hlcyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gY2FjaGVGYWN0b3J5KGNhY2hlSWQsIG9wdGlvbnMpIHtcbiAgICAgIGlmIChjYWNoZUlkIGluIGNhY2hlcykge1xuICAgICAgICB0aHJvdyBtaW5FcnIoJyRjYWNoZUZhY3RvcnknKSgnaWlkJywgXCJDYWNoZUlkICd7MH0nIGlzIGFscmVhZHkgdGFrZW4hXCIsIGNhY2hlSWQpO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2l6ZSA9IDAsXG4gICAgICAgICAgc3RhdHMgPSBleHRlbmQoe30sIG9wdGlvbnMsIHtpZDogY2FjaGVJZH0pLFxuICAgICAgICAgIGRhdGEgPSB7fSxcbiAgICAgICAgICBjYXBhY2l0eSA9IChvcHRpb25zICYmIG9wdGlvbnMuY2FwYWNpdHkpIHx8IE51bWJlci5NQVhfVkFMVUUsXG4gICAgICAgICAgbHJ1SGFzaCA9IHt9LFxuICAgICAgICAgIGZyZXNoRW5kID0gbnVsbCxcbiAgICAgICAgICBzdGFsZUVuZCA9IG51bGw7XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIHR5cGVcbiAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEEgY2FjaGUgb2JqZWN0IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIGRhdGEsIHByaW1hcmlseSB1c2VkIGJ5XG4gICAgICAgKiB7QGxpbmsgJGh0dHAgJGh0dHB9IGFuZCB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpzY3JpcHQgc2NyaXB0fSBkaXJlY3RpdmUgdG8gY2FjaGVcbiAgICAgICAqIHRlbXBsYXRlcyBhbmQgb3RoZXIgZGF0YS5cbiAgICAgICAqXG4gICAgICAgKiBgYGBqc1xuICAgICAgICogIGFuZ3VsYXIubW9kdWxlKCdzdXBlckNhY2hlJylcbiAgICAgICAqICAgIC5mYWN0b3J5KCdzdXBlckNhY2hlJywgWyckY2FjaGVGYWN0b3J5JywgZnVuY3Rpb24oJGNhY2hlRmFjdG9yeSkge1xuICAgICAgICogICAgICByZXR1cm4gJGNhY2hlRmFjdG9yeSgnc3VwZXItY2FjaGUnKTtcbiAgICAgICAqICAgIH1dKTtcbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqIEV4YW1wbGUgdGVzdDpcbiAgICAgICAqXG4gICAgICAgKiBgYGBqc1xuICAgICAgICogIGl0KCdzaG91bGQgYmVoYXZlIGxpa2UgYSBjYWNoZScsIGluamVjdChmdW5jdGlvbihzdXBlckNhY2hlKSB7XG4gICAgICAgKiAgICBzdXBlckNhY2hlLnB1dCgna2V5JywgJ3ZhbHVlJyk7XG4gICAgICAgKiAgICBzdXBlckNhY2hlLnB1dCgnYW5vdGhlciBrZXknLCAnYW5vdGhlciB2YWx1ZScpO1xuICAgICAgICpcbiAgICAgICAqICAgIGV4cGVjdChzdXBlckNhY2hlLmluZm8oKSkudG9FcXVhbCh7XG4gICAgICAgKiAgICAgIGlkOiAnc3VwZXItY2FjaGUnLFxuICAgICAgICogICAgICBzaXplOiAyXG4gICAgICAgKiAgICB9KTtcbiAgICAgICAqXG4gICAgICAgKiAgICBzdXBlckNhY2hlLnJlbW92ZSgnYW5vdGhlciBrZXknKTtcbiAgICAgICAqICAgIGV4cGVjdChzdXBlckNhY2hlLmdldCgnYW5vdGhlciBrZXknKSkudG9CZVVuZGVmaW5lZCgpO1xuICAgICAgICpcbiAgICAgICAqICAgIHN1cGVyQ2FjaGUucmVtb3ZlQWxsKCk7XG4gICAgICAgKiAgICBleHBlY3Qoc3VwZXJDYWNoZS5pbmZvKCkpLnRvRXF1YWwoe1xuICAgICAgICogICAgICBpZDogJ3N1cGVyLWNhY2hlJyxcbiAgICAgICAqICAgICAgc2l6ZTogMFxuICAgICAgICogICAgfSk7XG4gICAgICAgKiAgfSkpO1xuICAgICAgICogYGBgXG4gICAgICAgKi9cbiAgICAgIHJldHVybiBjYWNoZXNbY2FjaGVJZF0gPSB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZSNwdXRcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEluc2VydHMgYSBuYW1lZCBlbnRyeSBpbnRvIHRoZSB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0gb2JqZWN0IHRvIGJlXG4gICAgICAgICAqIHJldHJpZXZlZCBsYXRlciwgYW5kIGluY3JlbWVudGluZyB0aGUgc2l6ZSBvZiB0aGUgY2FjaGUgaWYgdGhlIGtleSB3YXMgbm90IGFscmVhZHlcbiAgICAgICAgICogcHJlc2VudCBpbiB0aGUgY2FjaGUuIElmIGJlaGF2aW5nIGxpa2UgYW4gTFJVIGNhY2hlLCBpdCB3aWxsIGFsc28gcmVtb3ZlIHN0YWxlXG4gICAgICAgICAqIGVudHJpZXMgZnJvbSB0aGUgc2V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBJdCB3aWxsIG5vdCBpbnNlcnQgdW5kZWZpbmVkIHZhbHVlcyBpbnRvIHRoZSBjYWNoZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSB0aGUga2V5IHVuZGVyIHdoaWNoIHRoZSBjYWNoZWQgZGF0YSBpcyBzdG9yZWQuXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgdGhlIHZhbHVlIHRvIHN0b3JlIGFsb25nc2lkZSB0aGUga2V5LiBJZiBpdCBpcyB1bmRlZmluZWQsIHRoZSBrZXlcbiAgICAgICAgICogICAgd2lsbCBub3QgYmUgc3RvcmVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7Kn0gdGhlIHZhbHVlIHN0b3JlZC5cbiAgICAgICAgICovXG4gICAgICAgIHB1dDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgIGlmIChjYXBhY2l0eSA8IE51bWJlci5NQVhfVkFMVUUpIHtcbiAgICAgICAgICAgIHZhciBscnVFbnRyeSA9IGxydUhhc2hba2V5XSB8fCAobHJ1SGFzaFtrZXldID0ge2tleToga2V5fSk7XG5cbiAgICAgICAgICAgIHJlZnJlc2gobHJ1RW50cnkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHJldHVybjtcbiAgICAgICAgICBpZiAoIShrZXkgaW4gZGF0YSkpIHNpemUrKztcbiAgICAgICAgICBkYXRhW2tleV0gPSB2YWx1ZTtcblxuICAgICAgICAgIGlmIChzaXplID4gY2FwYWNpdHkpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKHN0YWxlRW5kLmtleSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjZ2V0XG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBSZXRyaWV2ZXMgbmFtZWQgZGF0YSBzdG9yZWQgaW4gdGhlIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlfSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdGhlIGtleSBvZiB0aGUgZGF0YSB0byBiZSByZXRyaWV2ZWRcbiAgICAgICAgICogQHJldHVybnMgeyp9IHRoZSB2YWx1ZSBzdG9yZWQuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgIGlmIChjYXBhY2l0eSA8IE51bWJlci5NQVhfVkFMVUUpIHtcbiAgICAgICAgICAgIHZhciBscnVFbnRyeSA9IGxydUhhc2hba2V5XTtcblxuICAgICAgICAgICAgaWYgKCFscnVFbnRyeSkgcmV0dXJuO1xuXG4gICAgICAgICAgICByZWZyZXNoKGxydUVudHJ5KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZGF0YVtrZXldO1xuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZSNyZW1vdmVcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJlbW92ZXMgYW4gZW50cnkgZnJvbSB0aGUge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSB0aGUga2V5IG9mIHRoZSBlbnRyeSB0byBiZSByZW1vdmVkXG4gICAgICAgICAqL1xuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgIGlmIChjYXBhY2l0eSA8IE51bWJlci5NQVhfVkFMVUUpIHtcbiAgICAgICAgICAgIHZhciBscnVFbnRyeSA9IGxydUhhc2hba2V5XTtcblxuICAgICAgICAgICAgaWYgKCFscnVFbnRyeSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAobHJ1RW50cnkgPT0gZnJlc2hFbmQpIGZyZXNoRW5kID0gbHJ1RW50cnkucDtcbiAgICAgICAgICAgIGlmIChscnVFbnRyeSA9PSBzdGFsZUVuZCkgc3RhbGVFbmQgPSBscnVFbnRyeS5uO1xuICAgICAgICAgICAgbGluayhscnVFbnRyeS5uLGxydUVudHJ5LnApO1xuXG4gICAgICAgICAgICBkZWxldGUgbHJ1SGFzaFtrZXldO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRlbGV0ZSBkYXRhW2tleV07XG4gICAgICAgICAgc2l6ZS0tO1xuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZSNyZW1vdmVBbGxcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIENsZWFycyB0aGUgY2FjaGUgb2JqZWN0IG9mIGFueSBlbnRyaWVzLlxuICAgICAgICAgKi9cbiAgICAgICAgcmVtb3ZlQWxsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBkYXRhID0ge307XG4gICAgICAgICAgc2l6ZSA9IDA7XG4gICAgICAgICAgbHJ1SGFzaCA9IHt9O1xuICAgICAgICAgIGZyZXNoRW5kID0gc3RhbGVFbmQgPSBudWxsO1xuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZSNkZXN0cm95XG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBEZXN0cm95cyB0aGUge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdCBlbnRpcmVseSxcbiAgICAgICAgICogcmVtb3ZpbmcgaXQgZnJvbSB0aGUge0BsaW5rICRjYWNoZUZhY3RvcnkgJGNhY2hlRmFjdG9yeX0gc2V0LlxuICAgICAgICAgKi9cbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZGF0YSA9IG51bGw7XG4gICAgICAgICAgc3RhdHMgPSBudWxsO1xuICAgICAgICAgIGxydUhhc2ggPSBudWxsO1xuICAgICAgICAgIGRlbGV0ZSBjYWNoZXNbY2FjaGVJZF07XG4gICAgICAgIH0sXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI2luZm9cbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHJpZXZlIGluZm9ybWF0aW9uIHJlZ2FyZGluZyBhIHBhcnRpY3VsYXIge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICAgICAqICAgPHVsPlxuICAgICAgICAgKiAgICAgPGxpPioqaWQqKjogdGhlIGlkIG9mIHRoZSBjYWNoZSBpbnN0YW5jZTwvbGk+XG4gICAgICAgICAqICAgICA8bGk+KipzaXplKio6IHRoZSBudW1iZXIgb2YgZW50cmllcyBrZXB0IGluIHRoZSBjYWNoZSBpbnN0YW5jZTwvbGk+XG4gICAgICAgICAqICAgICA8bGk+KiouLi4qKjogYW55IGFkZGl0aW9uYWwgcHJvcGVydGllcyBmcm9tIHRoZSBvcHRpb25zIG9iamVjdCB3aGVuIGNyZWF0aW5nIHRoZVxuICAgICAgICAgKiAgICAgICBjYWNoZS48L2xpPlxuICAgICAgICAgKiAgIDwvdWw+XG4gICAgICAgICAqL1xuICAgICAgICBpbmZvOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gZXh0ZW5kKHt9LCBzdGF0cywge3NpemU6IHNpemV9KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuXG4gICAgICAvKipcbiAgICAgICAqIG1ha2VzIHRoZSBgZW50cnlgIHRoZSBmcmVzaEVuZCBvZiB0aGUgTFJVIGxpbmtlZCBsaXN0XG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIHJlZnJlc2goZW50cnkpIHtcbiAgICAgICAgaWYgKGVudHJ5ICE9IGZyZXNoRW5kKSB7XG4gICAgICAgICAgaWYgKCFzdGFsZUVuZCkge1xuICAgICAgICAgICAgc3RhbGVFbmQgPSBlbnRyeTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YWxlRW5kID09IGVudHJ5KSB7XG4gICAgICAgICAgICBzdGFsZUVuZCA9IGVudHJ5Lm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGluayhlbnRyeS5uLCBlbnRyeS5wKTtcbiAgICAgICAgICBsaW5rKGVudHJ5LCBmcmVzaEVuZCk7XG4gICAgICAgICAgZnJlc2hFbmQgPSBlbnRyeTtcbiAgICAgICAgICBmcmVzaEVuZC5uID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG5cbiAgICAgIC8qKlxuICAgICAgICogYmlkaXJlY3Rpb25hbGx5IGxpbmtzIHR3byBlbnRyaWVzIG9mIHRoZSBMUlUgbGlua2VkIGxpc3RcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gbGluayhuZXh0RW50cnksIHByZXZFbnRyeSkge1xuICAgICAgICBpZiAobmV4dEVudHJ5ICE9IHByZXZFbnRyeSkge1xuICAgICAgICAgIGlmIChuZXh0RW50cnkpIG5leHRFbnRyeS5wID0gcHJldkVudHJ5OyAvL3Agc3RhbmRzIGZvciBwcmV2aW91cywgJ3ByZXYnIGRpZG4ndCBtaW5pZnlcbiAgICAgICAgICBpZiAocHJldkVudHJ5KSBwcmV2RW50cnkubiA9IG5leHRFbnRyeTsgLy9uIHN0YW5kcyBmb3IgbmV4dCwgJ25leHQnIGRpZG4ndCBtaW5pZnlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRjYWNoZUZhY3RvcnkjaW5mb1xuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogR2V0IGluZm9ybWF0aW9uIGFib3V0IGFsbCB0aGUgY2FjaGVzIHRoYXQgaGF2ZSBiZWVuIGNyZWF0ZWRcbiAgICpcbiAgICogQHJldHVybnMge09iamVjdH0gLSBrZXktdmFsdWUgbWFwIG9mIGBjYWNoZUlkYCB0byB0aGUgcmVzdWx0IG9mIGNhbGxpbmcgYGNhY2hlI2luZm9gXG4gICAqL1xuICAgIGNhY2hlRmFjdG9yeS5pbmZvID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaW5mbyA9IHt9O1xuICAgICAgZm9yRWFjaChjYWNoZXMsIGZ1bmN0aW9uKGNhY2hlLCBjYWNoZUlkKSB7XG4gICAgICAgIGluZm9bY2FjaGVJZF0gPSBjYWNoZS5pbmZvKCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH07XG5cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5I2dldFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogR2V0IGFjY2VzcyB0byBhIGNhY2hlIG9iamVjdCBieSB0aGUgYGNhY2hlSWRgIHVzZWQgd2hlbiBpdCB3YXMgY3JlYXRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNhY2hlSWQgTmFtZSBvciBpZCBvZiBhIGNhY2hlIHRvIGFjY2Vzcy5cbiAgICogQHJldHVybnMge29iamVjdH0gQ2FjaGUgb2JqZWN0IGlkZW50aWZpZWQgYnkgdGhlIGNhY2hlSWQgb3IgdW5kZWZpbmVkIGlmIG5vIHN1Y2ggY2FjaGUuXG4gICAqL1xuICAgIGNhY2hlRmFjdG9yeS5nZXQgPSBmdW5jdGlvbihjYWNoZUlkKSB7XG4gICAgICByZXR1cm4gY2FjaGVzW2NhY2hlSWRdO1xuICAgIH07XG5cblxuICAgIHJldHVybiBjYWNoZUZhY3Rvcnk7XG4gIH07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICR0ZW1wbGF0ZUNhY2hlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgZmlyc3QgdGltZSBhIHRlbXBsYXRlIGlzIHVzZWQsIGl0IGlzIGxvYWRlZCBpbiB0aGUgdGVtcGxhdGUgY2FjaGUgZm9yIHF1aWNrIHJldHJpZXZhbC4gWW91XG4gKiBjYW4gbG9hZCB0ZW1wbGF0ZXMgZGlyZWN0bHkgaW50byB0aGUgY2FjaGUgaW4gYSBgc2NyaXB0YCB0YWcsIG9yIGJ5IGNvbnN1bWluZyB0aGVcbiAqIGAkdGVtcGxhdGVDYWNoZWAgc2VydmljZSBkaXJlY3RseS5cbiAqXG4gKiBBZGRpbmcgdmlhIHRoZSBgc2NyaXB0YCB0YWc6XG4gKlxuICogYGBgaHRtbFxuICogICA8c2NyaXB0IHR5cGU9XCJ0ZXh0L25nLXRlbXBsYXRlXCIgaWQ9XCJ0ZW1wbGF0ZUlkLmh0bWxcIj5cbiAqICAgICA8cD5UaGlzIGlzIHRoZSBjb250ZW50IG9mIHRoZSB0ZW1wbGF0ZTwvcD5cbiAqICAgPC9zY3JpcHQ+XG4gKiBgYGBcbiAqXG4gKiAqKk5vdGU6KiogdGhlIGBzY3JpcHRgIHRhZyBjb250YWluaW5nIHRoZSB0ZW1wbGF0ZSBkb2VzIG5vdCBuZWVkIHRvIGJlIGluY2x1ZGVkIGluIHRoZSBgaGVhZGAgb2ZcbiAqIHRoZSBkb2N1bWVudCwgYnV0IGl0IG11c3QgYmUgYSBkZXNjZW5kZW50IG9mIHRoZSB7QGxpbmsgbmcuJHJvb3RFbGVtZW50ICRyb290RWxlbWVudH0gKElFLFxuICogZWxlbWVudCB3aXRoIG5nLWFwcCBhdHRyaWJ1dGUpLCBvdGhlcndpc2UgdGhlIHRlbXBsYXRlIHdpbGwgYmUgaWdub3JlZC5cbiAqXG4gKiBBZGRpbmcgdmlhIHRoZSAkdGVtcGxhdGVDYWNoZSBzZXJ2aWNlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgbXlBcHAgPSBhbmd1bGFyLm1vZHVsZSgnbXlBcHAnLCBbXSk7XG4gKiBteUFwcC5ydW4oZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAqICAgJHRlbXBsYXRlQ2FjaGUucHV0KCd0ZW1wbGF0ZUlkLmh0bWwnLCAnVGhpcyBpcyB0aGUgY29udGVudCBvZiB0aGUgdGVtcGxhdGUnKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogVG8gcmV0cmlldmUgdGhlIHRlbXBsYXRlIGxhdGVyLCBzaW1wbHkgdXNlIGl0IGluIHlvdXIgSFRNTDpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgbmctaW5jbHVkZT1cIiAndGVtcGxhdGVJZC5odG1sJyBcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIG9yIGdldCBpdCB2aWEgSmF2YXNjcmlwdDpcbiAqIGBgYGpzXG4gKiAkdGVtcGxhdGVDYWNoZS5nZXQoJ3RlbXBsYXRlSWQuaHRtbCcpXG4gKiBgYGBcbiAqXG4gKiBTZWUge0BsaW5rIG5nLiRjYWNoZUZhY3RvcnkgJGNhY2hlRmFjdG9yeX0uXG4gKlxuICovXG5mdW5jdGlvbiAkVGVtcGxhdGVDYWNoZVByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRjYWNoZUZhY3RvcnknLCBmdW5jdGlvbigkY2FjaGVGYWN0b3J5KSB7XG4gICAgcmV0dXJuICRjYWNoZUZhY3RvcnkoJ3RlbXBsYXRlcycpO1xuICB9XTtcbn1cblxuLyogISBWQVJJQUJMRS9GVU5DVElPTiBOQU1JTkcgQ09OVkVOVElPTlMgVEhBVCBBUFBMWSBUTyBUSElTIEZJTEUhXG4gKlxuICogRE9NLXJlbGF0ZWQgdmFyaWFibGVzOlxuICpcbiAqIC0gXCJub2RlXCIgLSBET00gTm9kZVxuICogLSBcImVsZW1lbnRcIiAtIERPTSBFbGVtZW50IG9yIE5vZGVcbiAqIC0gXCIkbm9kZVwiIG9yIFwiJGVsZW1lbnRcIiAtIGpxTGl0ZS13cmFwcGVkIG5vZGUgb3IgZWxlbWVudFxuICpcbiAqXG4gKiBDb21waWxlciByZWxhdGVkIHN0dWZmOlxuICpcbiAqIC0gXCJsaW5rRm5cIiAtIGxpbmtpbmcgZm4gb2YgYSBzaW5nbGUgZGlyZWN0aXZlXG4gKiAtIFwibm9kZUxpbmtGblwiIC0gZnVuY3Rpb24gdGhhdCBhZ2dyZWdhdGVzIGFsbCBsaW5raW5nIGZucyBmb3IgYSBwYXJ0aWN1bGFyIG5vZGVcbiAqIC0gXCJjaGlsZExpbmtGblwiIC0gIGZ1bmN0aW9uIHRoYXQgYWdncmVnYXRlcyBhbGwgbGlua2luZyBmbnMgZm9yIGNoaWxkIG5vZGVzIG9mIGEgcGFydGljdWxhciBub2RlXG4gKiAtIFwiY29tcG9zaXRlTGlua0ZuXCIgLSBmdW5jdGlvbiB0aGF0IGFnZ3JlZ2F0ZXMgYWxsIGxpbmtpbmcgZm5zIGZvciBhIGNvbXBpbGF0aW9uIHJvb3QgKG5vZGVMaXN0KVxuICovXG5cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGNvbXBpbGVcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDb21waWxlcyBhbiBIVE1MIHN0cmluZyBvciBET00gaW50byBhIHRlbXBsYXRlIGFuZCBwcm9kdWNlcyBhIHRlbXBsYXRlIGZ1bmN0aW9uLCB3aGljaFxuICogY2FuIHRoZW4gYmUgdXNlZCB0byBsaW5rIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIGBzY29wZWB9IGFuZCB0aGUgdGVtcGxhdGUgdG9nZXRoZXIuXG4gKlxuICogVGhlIGNvbXBpbGF0aW9uIGlzIGEgcHJvY2VzcyBvZiB3YWxraW5nIHRoZSBET00gdHJlZSBhbmQgbWF0Y2hpbmcgRE9NIGVsZW1lbnRzIHRvXG4gKiB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmUgZGlyZWN0aXZlc30uXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqTm90ZToqKiBUaGlzIGRvY3VtZW50IGlzIGFuIGluLWRlcHRoIHJlZmVyZW5jZSBvZiBhbGwgZGlyZWN0aXZlIG9wdGlvbnMuXG4gKiBGb3IgYSBnZW50bGUgaW50cm9kdWN0aW9uIHRvIGRpcmVjdGl2ZXMgd2l0aCBleGFtcGxlcyBvZiBjb21tb24gdXNlIGNhc2VzLFxuICogc2VlIHRoZSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlIGRpcmVjdGl2ZSBndWlkZX0uXG4gKiA8L2Rpdj5cbiAqXG4gKiAjIyBDb21wcmVoZW5zaXZlIERpcmVjdGl2ZSBBUElcbiAqXG4gKiBUaGVyZSBhcmUgbWFueSBkaWZmZXJlbnQgb3B0aW9ucyBmb3IgYSBkaXJlY3RpdmUuXG4gKlxuICogVGhlIGRpZmZlcmVuY2UgcmVzaWRlcyBpbiB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBmYWN0b3J5IGZ1bmN0aW9uLlxuICogWW91IGNhbiBlaXRoZXIgcmV0dXJuIGEgXCJEaXJlY3RpdmUgRGVmaW5pdGlvbiBPYmplY3RcIiAoc2VlIGJlbG93KSB0aGF0IGRlZmluZXMgdGhlIGRpcmVjdGl2ZSBwcm9wZXJ0aWVzLFxuICogb3IganVzdCB0aGUgYHBvc3RMaW5rYCBmdW5jdGlvbiAoYWxsIG90aGVyIHByb3BlcnRpZXMgd2lsbCBoYXZlIHRoZSBkZWZhdWx0IHZhbHVlcykuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcIj5cbiAqICoqQmVzdCBQcmFjdGljZToqKiBJdCdzIHJlY29tbWVuZGVkIHRvIHVzZSB0aGUgXCJkaXJlY3RpdmUgZGVmaW5pdGlvbiBvYmplY3RcIiBmb3JtLlxuICogPC9kaXY+XG4gKlxuICogSGVyZSdzIGFuIGV4YW1wbGUgZGlyZWN0aXZlIGRlY2xhcmVkIHdpdGggYSBEaXJlY3RpdmUgRGVmaW5pdGlvbiBPYmplY3Q6XG4gKlxuICogYGBganNcbiAqICAgdmFyIG15TW9kdWxlID0gYW5ndWxhci5tb2R1bGUoLi4uKTtcbiAqXG4gKiAgIG15TW9kdWxlLmRpcmVjdGl2ZSgnZGlyZWN0aXZlTmFtZScsIGZ1bmN0aW9uIGZhY3RvcnkoaW5qZWN0YWJsZXMpIHtcbiAqICAgICB2YXIgZGlyZWN0aXZlRGVmaW5pdGlvbk9iamVjdCA9IHtcbiAqICAgICAgIHByaW9yaXR5OiAwLFxuICogICAgICAgdGVtcGxhdGU6ICc8ZGl2PjwvZGl2PicsIC8vIG9yIC8vIGZ1bmN0aW9uKHRFbGVtZW50LCB0QXR0cnMpIHsgLi4uIH0sXG4gKiAgICAgICAvLyBvclxuICogICAgICAgLy8gdGVtcGxhdGVVcmw6ICdkaXJlY3RpdmUuaHRtbCcsIC8vIG9yIC8vIGZ1bmN0aW9uKHRFbGVtZW50LCB0QXR0cnMpIHsgLi4uIH0sXG4gKiAgICAgICB0cmFuc2NsdWRlOiBmYWxzZSxcbiAqICAgICAgIHJlc3RyaWN0OiAnQScsXG4gKiAgICAgICB0ZW1wbGF0ZU5hbWVzcGFjZTogJ2h0bWwnLFxuICogICAgICAgc2NvcGU6IGZhbHNlLFxuICogICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCAkdHJhbnNjbHVkZSwgb3RoZXJJbmplY3RhYmxlcykgeyAuLi4gfSxcbiAqICAgICAgIGNvbnRyb2xsZXJBczogJ3N0cmluZ0FsaWFzJyxcbiAqICAgICAgIHJlcXVpcmU6ICdzaWJsaW5nRGlyZWN0aXZlTmFtZScsIC8vIG9yIC8vIFsnXnBhcmVudERpcmVjdGl2ZU5hbWUnLCAnP29wdGlvbmFsRGlyZWN0aXZlTmFtZScsICc/Xm9wdGlvbmFsUGFyZW50J10sXG4gKiAgICAgICBjb21waWxlOiBmdW5jdGlvbiBjb21waWxlKHRFbGVtZW50LCB0QXR0cnMsIHRyYW5zY2x1ZGUpIHtcbiAqICAgICAgICAgcmV0dXJuIHtcbiAqICAgICAgICAgICBwcmU6IGZ1bmN0aW9uIHByZUxpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMsIGNvbnRyb2xsZXIpIHsgLi4uIH0sXG4gKiAgICAgICAgICAgcG9zdDogZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMsIGNvbnRyb2xsZXIpIHsgLi4uIH1cbiAqICAgICAgICAgfVxuICogICAgICAgICAvLyBvclxuICogICAgICAgICAvLyByZXR1cm4gZnVuY3Rpb24gcG9zdExpbmsoIC4uLiApIHsgLi4uIH1cbiAqICAgICAgIH0sXG4gKiAgICAgICAvLyBvclxuICogICAgICAgLy8gbGluazoge1xuICogICAgICAgLy8gIHByZTogZnVuY3Rpb24gcHJlTGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlcikgeyAuLi4gfSxcbiAqICAgICAgIC8vICBwb3N0OiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlcikgeyAuLi4gfVxuICogICAgICAgLy8gfVxuICogICAgICAgLy8gb3JcbiAqICAgICAgIC8vIGxpbms6IGZ1bmN0aW9uIHBvc3RMaW5rKCAuLi4gKSB7IC4uLiB9XG4gKiAgICAgfTtcbiAqICAgICByZXR1cm4gZGlyZWN0aXZlRGVmaW5pdGlvbk9iamVjdDtcbiAqICAgfSk7XG4gKiBgYGBcbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlOioqIEFueSB1bnNwZWNpZmllZCBvcHRpb25zIHdpbGwgdXNlIHRoZSBkZWZhdWx0IHZhbHVlLiBZb3UgY2FuIHNlZSB0aGUgZGVmYXVsdCB2YWx1ZXMgYmVsb3cuXG4gKiA8L2Rpdj5cbiAqXG4gKiBUaGVyZWZvcmUgdGhlIGFib3ZlIGNhbiBiZSBzaW1wbGlmaWVkIGFzOlxuICpcbiAqIGBgYGpzXG4gKiAgIHZhciBteU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKC4uLik7XG4gKlxuICogICBteU1vZHVsZS5kaXJlY3RpdmUoJ2RpcmVjdGl2ZU5hbWUnLCBmdW5jdGlvbiBmYWN0b3J5KGluamVjdGFibGVzKSB7XG4gKiAgICAgdmFyIGRpcmVjdGl2ZURlZmluaXRpb25PYmplY3QgPSB7XG4gKiAgICAgICBsaW5rOiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycykgeyAuLi4gfVxuICogICAgIH07XG4gKiAgICAgcmV0dXJuIGRpcmVjdGl2ZURlZmluaXRpb25PYmplY3Q7XG4gKiAgICAgLy8gb3JcbiAqICAgICAvLyByZXR1cm4gZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMpIHsgLi4uIH1cbiAqICAgfSk7XG4gKiBgYGBcbiAqXG4gKlxuICpcbiAqICMjIyBEaXJlY3RpdmUgRGVmaW5pdGlvbiBPYmplY3RcbiAqXG4gKiBUaGUgZGlyZWN0aXZlIGRlZmluaXRpb24gb2JqZWN0IHByb3ZpZGVzIGluc3RydWN0aW9ucyB0byB0aGUge0BsaW5rIG5nLiRjb21waWxlXG4gKiBjb21waWxlcn0uIFRoZSBhdHRyaWJ1dGVzIGFyZTpcbiAqXG4gKiAjIyMjIGBtdWx0aUVsZW1lbnRgXG4gKiBXaGVuIHRoaXMgcHJvcGVydHkgaXMgc2V0IHRvIHRydWUsIHRoZSBIVE1MIGNvbXBpbGVyIHdpbGwgY29sbGVjdCBET00gbm9kZXMgYmV0d2VlblxuICogbm9kZXMgd2l0aCB0aGUgYXR0cmlidXRlcyBgZGlyZWN0aXZlLW5hbWUtc3RhcnRgIGFuZCBgZGlyZWN0aXZlLW5hbWUtZW5kYCwgYW5kIGdyb3VwIHRoZW1cbiAqIHRvZ2V0aGVyIGFzIHRoZSBkaXJlY3RpdmUgZWxlbWVudHMuIEl0IGlzIHJlY29tZW5kZWQgdGhhdCB0aGlzIGZlYXR1cmUgYmUgdXNlZCBvbiBkaXJlY3RpdmVzXG4gKiB3aGljaCBhcmUgbm90IHN0cmljdGx5IGJlaGF2aW91cmFsIChzdWNoIGFzIHtAbGluayBuZ0NsaWNrfSksIGFuZCB3aGljaFxuICogZG8gbm90IG1hbmlwdWxhdGUgb3IgcmVwbGFjZSBjaGlsZCBub2RlcyAoc3VjaCBhcyB7QGxpbmsgbmdJbmNsdWRlfSkuXG4gKlxuICogIyMjIyBgcHJpb3JpdHlgXG4gKiBXaGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBkaXJlY3RpdmVzIGRlZmluZWQgb24gYSBzaW5nbGUgRE9NIGVsZW1lbnQsIHNvbWV0aW1lcyBpdFxuICogaXMgbmVjZXNzYXJ5IHRvIHNwZWNpZnkgdGhlIG9yZGVyIGluIHdoaWNoIHRoZSBkaXJlY3RpdmVzIGFyZSBhcHBsaWVkLiBUaGUgYHByaW9yaXR5YCBpcyB1c2VkXG4gKiB0byBzb3J0IHRoZSBkaXJlY3RpdmVzIGJlZm9yZSB0aGVpciBgY29tcGlsZWAgZnVuY3Rpb25zIGdldCBjYWxsZWQuIFByaW9yaXR5IGlzIGRlZmluZWQgYXMgYVxuICogbnVtYmVyLiBEaXJlY3RpdmVzIHdpdGggZ3JlYXRlciBudW1lcmljYWwgYHByaW9yaXR5YCBhcmUgY29tcGlsZWQgZmlyc3QuIFByZS1saW5rIGZ1bmN0aW9uc1xuICogYXJlIGFsc28gcnVuIGluIHByaW9yaXR5IG9yZGVyLCBidXQgcG9zdC1saW5rIGZ1bmN0aW9ucyBhcmUgcnVuIGluIHJldmVyc2Ugb3JkZXIuIFRoZSBvcmRlclxuICogb2YgZGlyZWN0aXZlcyB3aXRoIHRoZSBzYW1lIHByaW9yaXR5IGlzIHVuZGVmaW5lZC4gVGhlIGRlZmF1bHQgcHJpb3JpdHkgaXMgYDBgLlxuICpcbiAqICMjIyMgYHRlcm1pbmFsYFxuICogSWYgc2V0IHRvIHRydWUgdGhlbiB0aGUgY3VycmVudCBgcHJpb3JpdHlgIHdpbGwgYmUgdGhlIGxhc3Qgc2V0IG9mIGRpcmVjdGl2ZXNcbiAqIHdoaWNoIHdpbGwgZXhlY3V0ZSAoYW55IGRpcmVjdGl2ZXMgYXQgdGhlIGN1cnJlbnQgcHJpb3JpdHkgd2lsbCBzdGlsbCBleGVjdXRlXG4gKiBhcyB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uIG9uIHNhbWUgYHByaW9yaXR5YCBpcyB1bmRlZmluZWQpLiBOb3RlIHRoYXQgZXhwcmVzc2lvbnNcbiAqIGFuZCBvdGhlciBkaXJlY3RpdmVzIHVzZWQgaW4gdGhlIGRpcmVjdGl2ZSdzIHRlbXBsYXRlIHdpbGwgYWxzbyBiZSBleGNsdWRlZCBmcm9tIGV4ZWN1dGlvbi5cbiAqXG4gKiAjIyMjIGBzY29wZWBcbiAqICoqSWYgc2V0IHRvIGB0cnVlYCwqKiB0aGVuIGEgbmV3IHNjb3BlIHdpbGwgYmUgY3JlYXRlZCBmb3IgdGhpcyBkaXJlY3RpdmUuIElmIG11bHRpcGxlIGRpcmVjdGl2ZXMgb24gdGhlXG4gKiBzYW1lIGVsZW1lbnQgcmVxdWVzdCBhIG5ldyBzY29wZSwgb25seSBvbmUgbmV3IHNjb3BlIGlzIGNyZWF0ZWQuIFRoZSBuZXcgc2NvcGUgcnVsZSBkb2VzIG5vdFxuICogYXBwbHkgZm9yIHRoZSByb290IG9mIHRoZSB0ZW1wbGF0ZSBzaW5jZSB0aGUgcm9vdCBvZiB0aGUgdGVtcGxhdGUgYWx3YXlzIGdldHMgYSBuZXcgc2NvcGUuXG4gKlxuICogKipJZiBzZXQgdG8gYHt9YCAob2JqZWN0IGhhc2gpLCoqIHRoZW4gYSBuZXcgXCJpc29sYXRlXCIgc2NvcGUgaXMgY3JlYXRlZC4gVGhlICdpc29sYXRlJyBzY29wZSBkaWZmZXJzIGZyb21cbiAqIG5vcm1hbCBzY29wZSBpbiB0aGF0IGl0IGRvZXMgbm90IHByb3RvdHlwaWNhbGx5IGluaGVyaXQgZnJvbSB0aGUgcGFyZW50IHNjb3BlLiBUaGlzIGlzIHVzZWZ1bFxuICogd2hlbiBjcmVhdGluZyByZXVzYWJsZSBjb21wb25lbnRzLCB3aGljaCBzaG91bGQgbm90IGFjY2lkZW50YWxseSByZWFkIG9yIG1vZGlmeSBkYXRhIGluIHRoZVxuICogcGFyZW50IHNjb3BlLlxuICpcbiAqIFRoZSAnaXNvbGF0ZScgc2NvcGUgdGFrZXMgYW4gb2JqZWN0IGhhc2ggd2hpY2ggZGVmaW5lcyBhIHNldCBvZiBsb2NhbCBzY29wZSBwcm9wZXJ0aWVzXG4gKiBkZXJpdmVkIGZyb20gdGhlIHBhcmVudCBzY29wZS4gVGhlc2UgbG9jYWwgcHJvcGVydGllcyBhcmUgdXNlZnVsIGZvciBhbGlhc2luZyB2YWx1ZXMgZm9yXG4gKiB0ZW1wbGF0ZXMuIExvY2FscyBkZWZpbml0aW9uIGlzIGEgaGFzaCBvZiBsb2NhbCBzY29wZSBwcm9wZXJ0eSB0byBpdHMgc291cmNlOlxuICpcbiAqICogYEBgIG9yIGBAYXR0cmAgLSBiaW5kIGEgbG9jYWwgc2NvcGUgcHJvcGVydHkgdG8gdGhlIHZhbHVlIG9mIERPTSBhdHRyaWJ1dGUuIFRoZSByZXN1bHQgaXNcbiAqICAgYWx3YXlzIGEgc3RyaW5nIHNpbmNlIERPTSBhdHRyaWJ1dGVzIGFyZSBzdHJpbmdzLiBJZiBubyBgYXR0cmAgbmFtZSBpcyBzcGVjaWZpZWQgIHRoZW4gdGhlXG4gKiAgIGF0dHJpYnV0ZSBuYW1lIGlzIGFzc3VtZWQgdG8gYmUgdGhlIHNhbWUgYXMgdGhlIGxvY2FsIG5hbWUuXG4gKiAgIEdpdmVuIGA8d2lkZ2V0IG15LWF0dHI9XCJoZWxsbyB7e25hbWV9fVwiPmAgYW5kIHdpZGdldCBkZWZpbml0aW9uXG4gKiAgIG9mIGBzY29wZTogeyBsb2NhbE5hbWU6J0BteUF0dHInIH1gLCB0aGVuIHdpZGdldCBzY29wZSBwcm9wZXJ0eSBgbG9jYWxOYW1lYCB3aWxsIHJlZmxlY3RcbiAqICAgdGhlIGludGVycG9sYXRlZCB2YWx1ZSBvZiBgaGVsbG8ge3tuYW1lfX1gLiBBcyB0aGUgYG5hbWVgIGF0dHJpYnV0ZSBjaGFuZ2VzIHNvIHdpbGwgdGhlXG4gKiAgIGBsb2NhbE5hbWVgIHByb3BlcnR5IG9uIHRoZSB3aWRnZXQgc2NvcGUuIFRoZSBgbmFtZWAgaXMgcmVhZCBmcm9tIHRoZSBwYXJlbnQgc2NvcGUgKG5vdFxuICogICBjb21wb25lbnQgc2NvcGUpLlxuICpcbiAqICogYD1gIG9yIGA9YXR0cmAgLSBzZXQgdXAgYmktZGlyZWN0aW9uYWwgYmluZGluZyBiZXR3ZWVuIGEgbG9jYWwgc2NvcGUgcHJvcGVydHkgYW5kIHRoZVxuICogICBwYXJlbnQgc2NvcGUgcHJvcGVydHkgb2YgbmFtZSBkZWZpbmVkIHZpYSB0aGUgdmFsdWUgb2YgdGhlIGBhdHRyYCBhdHRyaWJ1dGUuIElmIG5vIGBhdHRyYFxuICogICBuYW1lIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBhdHRyaWJ1dGUgbmFtZSBpcyBhc3N1bWVkIHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBsb2NhbCBuYW1lLlxuICogICBHaXZlbiBgPHdpZGdldCBteS1hdHRyPVwicGFyZW50TW9kZWxcIj5gIGFuZCB3aWRnZXQgZGVmaW5pdGlvbiBvZlxuICogICBgc2NvcGU6IHsgbG9jYWxNb2RlbDonPW15QXR0cicgfWAsIHRoZW4gd2lkZ2V0IHNjb3BlIHByb3BlcnR5IGBsb2NhbE1vZGVsYCB3aWxsIHJlZmxlY3QgdGhlXG4gKiAgIHZhbHVlIG9mIGBwYXJlbnRNb2RlbGAgb24gdGhlIHBhcmVudCBzY29wZS4gQW55IGNoYW5nZXMgdG8gYHBhcmVudE1vZGVsYCB3aWxsIGJlIHJlZmxlY3RlZFxuICogICBpbiBgbG9jYWxNb2RlbGAgYW5kIGFueSBjaGFuZ2VzIGluIGBsb2NhbE1vZGVsYCB3aWxsIHJlZmxlY3QgaW4gYHBhcmVudE1vZGVsYC4gSWYgdGhlIHBhcmVudFxuICogICBzY29wZSBwcm9wZXJ0eSBkb2Vzbid0IGV4aXN0LCBpdCB3aWxsIHRocm93IGEgTk9OX0FTU0lHTkFCTEVfTU9ERUxfRVhQUkVTU0lPTiBleGNlcHRpb24uIFlvdVxuICogICBjYW4gYXZvaWQgdGhpcyBiZWhhdmlvciB1c2luZyBgPT9gIG9yIGA9P2F0dHJgIGluIG9yZGVyIHRvIGZsYWcgdGhlIHByb3BlcnR5IGFzIG9wdGlvbmFsLiBJZlxuICogICB5b3Ugd2FudCB0byBzaGFsbG93IHdhdGNoIGZvciBjaGFuZ2VzIChpLmUuICR3YXRjaENvbGxlY3Rpb24gaW5zdGVhZCBvZiAkd2F0Y2gpIHlvdSBjYW4gdXNlXG4gKiAgIGA9KmAgb3IgYD0qYXR0cmAgKGA9Kj9gIG9yIGA9Kj9hdHRyYCBpZiB0aGUgcHJvcGVydHkgaXMgb3B0aW9uYWwpLlxuICpcbiAqICogYCZgIG9yIGAmYXR0cmAgLSBwcm92aWRlcyBhIHdheSB0byBleGVjdXRlIGFuIGV4cHJlc3Npb24gaW4gdGhlIGNvbnRleHQgb2YgdGhlIHBhcmVudCBzY29wZS5cbiAqICAgSWYgbm8gYGF0dHJgIG5hbWUgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGF0dHJpYnV0ZSBuYW1lIGlzIGFzc3VtZWQgdG8gYmUgdGhlIHNhbWUgYXMgdGhlXG4gKiAgIGxvY2FsIG5hbWUuIEdpdmVuIGA8d2lkZ2V0IG15LWF0dHI9XCJjb3VudCA9IGNvdW50ICsgdmFsdWVcIj5gIGFuZCB3aWRnZXQgZGVmaW5pdGlvbiBvZlxuICogICBgc2NvcGU6IHsgbG9jYWxGbjonJm15QXR0cicgfWAsIHRoZW4gaXNvbGF0ZSBzY29wZSBwcm9wZXJ0eSBgbG9jYWxGbmAgd2lsbCBwb2ludCB0b1xuICogICBhIGZ1bmN0aW9uIHdyYXBwZXIgZm9yIHRoZSBgY291bnQgPSBjb3VudCArIHZhbHVlYCBleHByZXNzaW9uLiBPZnRlbiBpdCdzIGRlc2lyYWJsZSB0b1xuICogICBwYXNzIGRhdGEgZnJvbSB0aGUgaXNvbGF0ZWQgc2NvcGUgdmlhIGFuIGV4cHJlc3Npb24gdG8gdGhlIHBhcmVudCBzY29wZSwgdGhpcyBjYW4gYmVcbiAqICAgZG9uZSBieSBwYXNzaW5nIGEgbWFwIG9mIGxvY2FsIHZhcmlhYmxlIG5hbWVzIGFuZCB2YWx1ZXMgaW50byB0aGUgZXhwcmVzc2lvbiB3cmFwcGVyIGZuLlxuICogICBGb3IgZXhhbXBsZSwgaWYgdGhlIGV4cHJlc3Npb24gaXMgYGluY3JlbWVudChhbW91bnQpYCB0aGVuIHdlIGNhbiBzcGVjaWZ5IHRoZSBhbW91bnQgdmFsdWVcbiAqICAgYnkgY2FsbGluZyB0aGUgYGxvY2FsRm5gIGFzIGBsb2NhbEZuKHthbW91bnQ6IDIyfSlgLlxuICpcbiAqXG4gKiAjIyMjIGBiaW5kVG9Db250cm9sbGVyYFxuICogV2hlbiBhbiBpc29sYXRlIHNjb3BlIGlzIHVzZWQgZm9yIGEgY29tcG9uZW50IChzZWUgYWJvdmUpLCBhbmQgYGNvbnRyb2xsZXJBc2AgaXMgdXNlZCwgYGJpbmRUb0NvbnRyb2xsZXJgIHdpbGxcbiAqIGFsbG93IGEgY29tcG9uZW50IHRvIGhhdmUgaXRzIHByb3BlcnRpZXMgYm91bmQgdG8gdGhlIGNvbnRyb2xsZXIsIHJhdGhlciB0aGFuIHRvIHNjb3BlLiBXaGVuIHRoZSBjb250cm9sbGVyXG4gKiBpcyBpbnN0YW50aWF0ZWQsIHRoZSBpbml0aWFsIHZhbHVlcyBvZiB0aGUgaXNvbGF0ZSBzY29wZSBiaW5kaW5ncyBhcmUgYWxyZWFkeSBhdmFpbGFibGUuXG4gKlxuICogIyMjIyBgY29udHJvbGxlcmBcbiAqIENvbnRyb2xsZXIgY29uc3RydWN0b3IgZnVuY3Rpb24uIFRoZSBjb250cm9sbGVyIGlzIGluc3RhbnRpYXRlZCBiZWZvcmUgdGhlXG4gKiBwcmUtbGlua2luZyBwaGFzZSBhbmQgaXQgaXMgc2hhcmVkIHdpdGggb3RoZXIgZGlyZWN0aXZlcyAoc2VlXG4gKiBgcmVxdWlyZWAgYXR0cmlidXRlKS4gVGhpcyBhbGxvd3MgdGhlIGRpcmVjdGl2ZXMgdG8gY29tbXVuaWNhdGUgd2l0aCBlYWNoIG90aGVyIGFuZCBhdWdtZW50XG4gKiBlYWNoIG90aGVyJ3MgYmVoYXZpb3IuIFRoZSBjb250cm9sbGVyIGlzIGluamVjdGFibGUgKGFuZCBzdXBwb3J0cyBicmFja2V0IG5vdGF0aW9uKSB3aXRoIHRoZSBmb2xsb3dpbmcgbG9jYWxzOlxuICpcbiAqICogYCRzY29wZWAgLSBDdXJyZW50IHNjb3BlIGFzc29jaWF0ZWQgd2l0aCB0aGUgZWxlbWVudFxuICogKiBgJGVsZW1lbnRgIC0gQ3VycmVudCBlbGVtZW50XG4gKiAqIGAkYXR0cnNgIC0gQ3VycmVudCBhdHRyaWJ1dGVzIG9iamVjdCBmb3IgdGhlIGVsZW1lbnRcbiAqICogYCR0cmFuc2NsdWRlYCAtIEEgdHJhbnNjbHVkZSBsaW5raW5nIGZ1bmN0aW9uIHByZS1ib3VuZCB0byB0aGUgY29ycmVjdCB0cmFuc2NsdXNpb24gc2NvcGU6XG4gKiAgIGBmdW5jdGlvbihbc2NvcGVdLCBjbG9uZUxpbmtpbmdGbiwgZnV0dXJlUGFyZW50RWxlbWVudClgLlxuICogICAgKiBgc2NvcGVgOiBvcHRpb25hbCBhcmd1bWVudCB0byBvdmVycmlkZSB0aGUgc2NvcGUuXG4gKiAgICAqIGBjbG9uZUxpbmtpbmdGbmA6IG9wdGlvbmFsIGFyZ3VtZW50IHRvIGNyZWF0ZSBjbG9uZXMgb2YgdGhlIG9yaWdpbmFsIHRyYW5zY2x1ZGVkIGNvbnRlbnQuXG4gKiAgICAqIGBmdXR1cmVQYXJlbnRFbGVtZW50YDpcbiAqICAgICAgICAqIGRlZmluZXMgdGhlIHBhcmVudCB0byB3aGljaCB0aGUgYGNsb25lTGlua2luZ0ZuYCB3aWxsIGFkZCB0aGUgY2xvbmVkIGVsZW1lbnRzLlxuICogICAgICAgICogZGVmYXVsdDogYCRlbGVtZW50LnBhcmVudCgpYCByZXNwLiBgJGVsZW1lbnRgIGZvciBgdHJhbnNjbHVkZTonZWxlbWVudCdgIHJlc3AuIGB0cmFuc2NsdWRlOnRydWVgLlxuICogICAgICAgICogb25seSBuZWVkZWQgZm9yIHRyYW5zY2x1ZGVzIHRoYXQgYXJlIGFsbG93ZWQgdG8gY29udGFpbiBub24gaHRtbCBlbGVtZW50cyAoZS5nLiBTVkcgZWxlbWVudHMpXG4gKiAgICAgICAgICBhbmQgd2hlbiB0aGUgYGNsb25lTGlua2luRm5gIGlzIHBhc3NlZCxcbiAqICAgICAgICAgIGFzIHRob3NlIGVsZW1lbnRzIG5lZWQgdG8gY3JlYXRlZCBhbmQgY2xvbmVkIGluIGEgc3BlY2lhbCB3YXkgd2hlbiB0aGV5IGFyZSBkZWZpbmVkIG91dHNpZGUgdGhlaXJcbiAqICAgICAgICAgIHVzdWFsIGNvbnRhaW5lcnMgKGUuZy4gbGlrZSBgPHN2Zz5gKS5cbiAqICAgICAgICAqIFNlZSBhbHNvIHRoZSBgZGlyZWN0aXZlLnRlbXBsYXRlTmFtZXNwYWNlYCBwcm9wZXJ0eS5cbiAqXG4gKlxuICogIyMjIyBgcmVxdWlyZWBcbiAqIFJlcXVpcmUgYW5vdGhlciBkaXJlY3RpdmUgYW5kIGluamVjdCBpdHMgY29udHJvbGxlciBhcyB0aGUgZm91cnRoIGFyZ3VtZW50IHRvIHRoZSBsaW5raW5nIGZ1bmN0aW9uLiBUaGVcbiAqIGByZXF1aXJlYCB0YWtlcyBhIHN0cmluZyBuYW1lIChvciBhcnJheSBvZiBzdHJpbmdzKSBvZiB0aGUgZGlyZWN0aXZlKHMpIHRvIHBhc3MgaW4uIElmIGFuIGFycmF5IGlzIHVzZWQsIHRoZVxuICogaW5qZWN0ZWQgYXJndW1lbnQgd2lsbCBiZSBhbiBhcnJheSBpbiBjb3JyZXNwb25kaW5nIG9yZGVyLiBJZiBubyBzdWNoIGRpcmVjdGl2ZSBjYW4gYmVcbiAqIGZvdW5kLCBvciBpZiB0aGUgZGlyZWN0aXZlIGRvZXMgbm90IGhhdmUgYSBjb250cm9sbGVyLCB0aGVuIGFuIGVycm9yIGlzIHJhaXNlZC4gVGhlIG5hbWUgY2FuIGJlIHByZWZpeGVkIHdpdGg6XG4gKlxuICogKiAobm8gcHJlZml4KSAtIExvY2F0ZSB0aGUgcmVxdWlyZWQgY29udHJvbGxlciBvbiB0aGUgY3VycmVudCBlbGVtZW50LiBUaHJvdyBhbiBlcnJvciBpZiBub3QgZm91bmQuXG4gKiAqIGA/YCAtIEF0dGVtcHQgdG8gbG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIG9yIHBhc3MgYG51bGxgIHRvIHRoZSBgbGlua2AgZm4gaWYgbm90IGZvdW5kLlxuICogKiBgXmAgLSBMb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgYnkgc2VhcmNoaW5nIHRoZSBlbGVtZW50IGFuZCBpdHMgcGFyZW50cy4gVGhyb3cgYW4gZXJyb3IgaWYgbm90IGZvdW5kLlxuICogKiBgXl5gIC0gTG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIGJ5IHNlYXJjaGluZyB0aGUgZWxlbWVudCdzIHBhcmVudHMuIFRocm93IGFuIGVycm9yIGlmIG5vdCBmb3VuZC5cbiAqICogYD9eYCAtIEF0dGVtcHQgdG8gbG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIGJ5IHNlYXJjaGluZyB0aGUgZWxlbWVudCBhbmQgaXRzIHBhcmVudHMgb3IgcGFzc1xuICogICBgbnVsbGAgdG8gdGhlIGBsaW5rYCBmbiBpZiBub3QgZm91bmQuXG4gKiAqIGA/Xl5gIC0gQXR0ZW1wdCB0byBsb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgYnkgc2VhcmNoaW5nIHRoZSBlbGVtZW50J3MgcGFyZW50cywgb3IgcGFzc1xuICogICBgbnVsbGAgdG8gdGhlIGBsaW5rYCBmbiBpZiBub3QgZm91bmQuXG4gKlxuICpcbiAqICMjIyMgYGNvbnRyb2xsZXJBc2BcbiAqIENvbnRyb2xsZXIgYWxpYXMgYXQgdGhlIGRpcmVjdGl2ZSBzY29wZS4gQW4gYWxpYXMgZm9yIHRoZSBjb250cm9sbGVyIHNvIGl0XG4gKiBjYW4gYmUgcmVmZXJlbmNlZCBhdCB0aGUgZGlyZWN0aXZlIHRlbXBsYXRlLiBUaGUgZGlyZWN0aXZlIG5lZWRzIHRvIGRlZmluZSBhIHNjb3BlIGZvciB0aGlzXG4gKiBjb25maWd1cmF0aW9uIHRvIGJlIHVzZWQuIFVzZWZ1bCBpbiB0aGUgY2FzZSB3aGVuIGRpcmVjdGl2ZSBpcyB1c2VkIGFzIGNvbXBvbmVudC5cbiAqXG4gKlxuICogIyMjIyBgcmVzdHJpY3RgXG4gKiBTdHJpbmcgb2Ygc3Vic2V0IG9mIGBFQUNNYCB3aGljaCByZXN0cmljdHMgdGhlIGRpcmVjdGl2ZSB0byBhIHNwZWNpZmljIGRpcmVjdGl2ZVxuICogZGVjbGFyYXRpb24gc3R5bGUuIElmIG9taXR0ZWQsIHRoZSBkZWZhdWx0cyAoZWxlbWVudHMgYW5kIGF0dHJpYnV0ZXMpIGFyZSB1c2VkLlxuICpcbiAqICogYEVgIC0gRWxlbWVudCBuYW1lIChkZWZhdWx0KTogYDxteS1kaXJlY3RpdmU+PC9teS1kaXJlY3RpdmU+YFxuICogKiBgQWAgLSBBdHRyaWJ1dGUgKGRlZmF1bHQpOiBgPGRpdiBteS1kaXJlY3RpdmU9XCJleHBcIj48L2Rpdj5gXG4gKiAqIGBDYCAtIENsYXNzOiBgPGRpdiBjbGFzcz1cIm15LWRpcmVjdGl2ZTogZXhwO1wiPjwvZGl2PmBcbiAqICogYE1gIC0gQ29tbWVudDogYDwhLS0gZGlyZWN0aXZlOiBteS1kaXJlY3RpdmUgZXhwIC0tPmBcbiAqXG4gKlxuICogIyMjIyBgdGVtcGxhdGVOYW1lc3BhY2VgXG4gKiBTdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBkb2N1bWVudCB0eXBlIHVzZWQgYnkgdGhlIG1hcmt1cCBpbiB0aGUgdGVtcGxhdGUuXG4gKiBBbmd1bGFySlMgbmVlZHMgdGhpcyBpbmZvcm1hdGlvbiBhcyB0aG9zZSBlbGVtZW50cyBuZWVkIHRvIGJlIGNyZWF0ZWQgYW5kIGNsb25lZFxuICogaW4gYSBzcGVjaWFsIHdheSB3aGVuIHRoZXkgYXJlIGRlZmluZWQgb3V0c2lkZSB0aGVpciB1c3VhbCBjb250YWluZXJzIGxpa2UgYDxzdmc+YCBhbmQgYDxtYXRoPmAuXG4gKlxuICogKiBgaHRtbGAgLSBBbGwgcm9vdCBub2RlcyBpbiB0aGUgdGVtcGxhdGUgYXJlIEhUTUwuIFJvb3Qgbm9kZXMgbWF5IGFsc28gYmVcbiAqICAgdG9wLWxldmVsIGVsZW1lbnRzIHN1Y2ggYXMgYDxzdmc+YCBvciBgPG1hdGg+YC5cbiAqICogYHN2Z2AgLSBUaGUgcm9vdCBub2RlcyBpbiB0aGUgdGVtcGxhdGUgYXJlIFNWRyBlbGVtZW50cyAoZXhjbHVkaW5nIGA8bWF0aD5gKS5cbiAqICogYG1hdGhgIC0gVGhlIHJvb3Qgbm9kZXMgaW4gdGhlIHRlbXBsYXRlIGFyZSBNYXRoTUwgZWxlbWVudHMgKGV4Y2x1ZGluZyBgPHN2Zz5gKS5cbiAqXG4gKiBJZiBubyBgdGVtcGxhdGVOYW1lc3BhY2VgIGlzIHNwZWNpZmllZCwgdGhlbiB0aGUgbmFtZXNwYWNlIGlzIGNvbnNpZGVyZWQgdG8gYmUgYGh0bWxgLlxuICpcbiAqICMjIyMgYHRlbXBsYXRlYFxuICogSFRNTCBtYXJrdXAgdGhhdCBtYXk6XG4gKiAqIFJlcGxhY2UgdGhlIGNvbnRlbnRzIG9mIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50IChkZWZhdWx0KS5cbiAqICogUmVwbGFjZSB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudCBpdHNlbGYgKGlmIGByZXBsYWNlYCBpcyB0cnVlIC0gREVQUkVDQVRFRCkuXG4gKiAqIFdyYXAgdGhlIGNvbnRlbnRzIG9mIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50IChpZiBgdHJhbnNjbHVkZWAgaXMgdHJ1ZSkuXG4gKlxuICogVmFsdWUgbWF5IGJlOlxuICpcbiAqICogQSBzdHJpbmcuIEZvciBleGFtcGxlIGA8ZGl2IHJlZC1vbi1ob3Zlcj57e2RlbGV0ZV9zdHJ9fTwvZGl2PmAuXG4gKiAqIEEgZnVuY3Rpb24gd2hpY2ggdGFrZXMgdHdvIGFyZ3VtZW50cyBgdEVsZW1lbnRgIGFuZCBgdEF0dHJzYCAoZGVzY3JpYmVkIGluIHRoZSBgY29tcGlsZWBcbiAqICAgZnVuY3Rpb24gYXBpIGJlbG93KSBhbmQgcmV0dXJucyBhIHN0cmluZyB2YWx1ZS5cbiAqXG4gKlxuICogIyMjIyBgdGVtcGxhdGVVcmxgXG4gKiBUaGlzIGlzIHNpbWlsYXIgdG8gYHRlbXBsYXRlYCBidXQgdGhlIHRlbXBsYXRlIGlzIGxvYWRlZCBmcm9tIHRoZSBzcGVjaWZpZWQgVVJMLCBhc3luY2hyb25vdXNseS5cbiAqXG4gKiBCZWNhdXNlIHRlbXBsYXRlIGxvYWRpbmcgaXMgYXN5bmNocm9ub3VzIHRoZSBjb21waWxlciB3aWxsIHN1c3BlbmQgY29tcGlsYXRpb24gb2YgZGlyZWN0aXZlcyBvbiB0aGF0IGVsZW1lbnRcbiAqIGZvciBsYXRlciB3aGVuIHRoZSB0ZW1wbGF0ZSBoYXMgYmVlbiByZXNvbHZlZC4gIEluIHRoZSBtZWFudGltZSBpdCB3aWxsIGNvbnRpbnVlIHRvIGNvbXBpbGUgYW5kIGxpbmtcbiAqIHNpYmxpbmcgYW5kIHBhcmVudCBlbGVtZW50cyBhcyB0aG91Z2ggdGhpcyBlbGVtZW50IGhhZCBub3QgY29udGFpbmVkIGFueSBkaXJlY3RpdmVzLlxuICpcbiAqIFRoZSBjb21waWxlciBkb2VzIG5vdCBzdXNwZW5kIHRoZSBlbnRpcmUgY29tcGlsYXRpb24gdG8gd2FpdCBmb3IgdGVtcGxhdGVzIHRvIGJlIGxvYWRlZCBiZWNhdXNlIHRoaXNcbiAqIHdvdWxkIHJlc3VsdCBpbiB0aGUgd2hvbGUgYXBwIFwic3RhbGxpbmdcIiB1bnRpbCBhbGwgdGVtcGxhdGVzIGFyZSBsb2FkZWQgYXN5bmNocm9ub3VzbHkgLSBldmVuIGluIHRoZVxuICogY2FzZSB3aGVuIG9ubHkgb25lIGRlZXBseSBuZXN0ZWQgZGlyZWN0aXZlIGhhcyBgdGVtcGxhdGVVcmxgLlxuICpcbiAqIFRlbXBsYXRlIGxvYWRpbmcgaXMgYXN5bmNocm9ub3VzIGV2ZW4gaWYgdGhlIHRlbXBsYXRlIGhhcyBiZWVuIHByZWxvYWRlZCBpbnRvIHRoZSB7QGxpbmsgJHRlbXBsYXRlQ2FjaGV9XG4gKlxuICogWW91IGNhbiBzcGVjaWZ5IGB0ZW1wbGF0ZVVybGAgYXMgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBVUkwgb3IgYXMgYSBmdW5jdGlvbiB3aGljaCB0YWtlcyB0d29cbiAqIGFyZ3VtZW50cyBgdEVsZW1lbnRgIGFuZCBgdEF0dHJzYCAoZGVzY3JpYmVkIGluIHRoZSBgY29tcGlsZWAgZnVuY3Rpb24gYXBpIGJlbG93KSBhbmQgcmV0dXJuc1xuICogYSBzdHJpbmcgdmFsdWUgcmVwcmVzZW50aW5nIHRoZSB1cmwuICBJbiBlaXRoZXIgY2FzZSwgdGhlIHRlbXBsYXRlIFVSTCBpcyBwYXNzZWQgdGhyb3VnaCB7QGxpbmtcbiAqICRzY2UjZ2V0VHJ1c3RlZFJlc291cmNlVXJsICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsfS5cbiAqXG4gKlxuICogIyMjIyBgcmVwbGFjZWAgKFsqREVQUkVDQVRFRCohXSwgd2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgcmVsZWFzZSAtIGkuZS4gdjIuMClcbiAqIHNwZWNpZnkgd2hhdCB0aGUgdGVtcGxhdGUgc2hvdWxkIHJlcGxhY2UuIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gKlxuICogKiBgdHJ1ZWAgLSB0aGUgdGVtcGxhdGUgd2lsbCByZXBsYWNlIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50LlxuICogKiBgZmFsc2VgIC0gdGhlIHRlbXBsYXRlIHdpbGwgcmVwbGFjZSB0aGUgY29udGVudHMgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQuXG4gKlxuICogVGhlIHJlcGxhY2VtZW50IHByb2Nlc3MgbWlncmF0ZXMgYWxsIG9mIHRoZSBhdHRyaWJ1dGVzIC8gY2xhc3NlcyBmcm9tIHRoZSBvbGQgZWxlbWVudCB0byB0aGUgbmV3XG4gKiBvbmUuIFNlZSB0aGUge0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSN0ZW1wbGF0ZS1leHBhbmRpbmctZGlyZWN0aXZlXG4gKiBEaXJlY3RpdmVzIEd1aWRlfSBmb3IgYW4gZXhhbXBsZS5cbiAqXG4gKiBUaGVyZSBhcmUgdmVyeSBmZXcgc2NlbmFyaW9zIHdoZXJlIGVsZW1lbnQgcmVwbGFjZW1lbnQgaXMgcmVxdWlyZWQgZm9yIHRoZSBhcHBsaWNhdGlvbiBmdW5jdGlvbixcbiAqIHRoZSBtYWluIG9uZSBiZWluZyByZXVzYWJsZSBjdXN0b20gY29tcG9uZW50cyB0aGF0IGFyZSB1c2VkIHdpdGhpbiBTVkcgY29udGV4dHNcbiAqIChiZWNhdXNlIFNWRyBkb2Vzbid0IHdvcmsgd2l0aCBjdXN0b20gZWxlbWVudHMgaW4gdGhlIERPTSB0cmVlKS5cbiAqXG4gKiAjIyMjIGB0cmFuc2NsdWRlYFxuICogRXh0cmFjdCB0aGUgY29udGVudHMgb2YgdGhlIGVsZW1lbnQgd2hlcmUgdGhlIGRpcmVjdGl2ZSBhcHBlYXJzIGFuZCBtYWtlIGl0IGF2YWlsYWJsZSB0byB0aGUgZGlyZWN0aXZlLlxuICogVGhlIGNvbnRlbnRzIGFyZSBjb21waWxlZCBhbmQgcHJvdmlkZWQgdG8gdGhlIGRpcmVjdGl2ZSBhcyBhICoqdHJhbnNjbHVzaW9uIGZ1bmN0aW9uKiouIFNlZSB0aGVcbiAqIHtAbGluayAkY29tcGlsZSN0cmFuc2NsdXNpb24gVHJhbnNjbHVzaW9ufSBzZWN0aW9uIGJlbG93LlxuICpcbiAqIFRoZXJlIGFyZSB0d28ga2luZHMgb2YgdHJhbnNjbHVzaW9uIGRlcGVuZGluZyB1cG9uIHdoZXRoZXIgeW91IHdhbnQgdG8gdHJhbnNjbHVkZSBqdXN0IHRoZSBjb250ZW50cyBvZiB0aGVcbiAqIGRpcmVjdGl2ZSdzIGVsZW1lbnQgb3IgdGhlIGVudGlyZSBlbGVtZW50OlxuICpcbiAqICogYHRydWVgIC0gdHJhbnNjbHVkZSB0aGUgY29udGVudCAoaS5lLiB0aGUgY2hpbGQgbm9kZXMpIG9mIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50LlxuICogKiBgJ2VsZW1lbnQnYCAtIHRyYW5zY2x1ZGUgdGhlIHdob2xlIG9mIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50IGluY2x1ZGluZyBhbnkgZGlyZWN0aXZlcyBvbiB0aGlzXG4gKiAgIGVsZW1lbnQgdGhhdCBkZWZpbmVkIGF0IGEgbG93ZXIgcHJpb3JpdHkgdGhhbiB0aGlzIGRpcmVjdGl2ZS4gV2hlbiB1c2VkLCB0aGUgYHRlbXBsYXRlYFxuICogICBwcm9wZXJ0eSBpcyBpZ25vcmVkLlxuICpcbiAqXG4gKiAjIyMjIGBjb21waWxlYFxuICpcbiAqIGBgYGpzXG4gKiAgIGZ1bmN0aW9uIGNvbXBpbGUodEVsZW1lbnQsIHRBdHRycywgdHJhbnNjbHVkZSkgeyAuLi4gfVxuICogYGBgXG4gKlxuICogVGhlIGNvbXBpbGUgZnVuY3Rpb24gZGVhbHMgd2l0aCB0cmFuc2Zvcm1pbmcgdGhlIHRlbXBsYXRlIERPTS4gU2luY2UgbW9zdCBkaXJlY3RpdmVzIGRvIG5vdCBkb1xuICogdGVtcGxhdGUgdHJhbnNmb3JtYXRpb24sIGl0IGlzIG5vdCB1c2VkIG9mdGVuLiBUaGUgY29tcGlsZSBmdW5jdGlvbiB0YWtlcyB0aGUgZm9sbG93aW5nIGFyZ3VtZW50czpcbiAqXG4gKiAgICogYHRFbGVtZW50YCAtIHRlbXBsYXRlIGVsZW1lbnQgLSBUaGUgZWxlbWVudCB3aGVyZSB0aGUgZGlyZWN0aXZlIGhhcyBiZWVuIGRlY2xhcmVkLiBJdCBpc1xuICogICAgIHNhZmUgdG8gZG8gdGVtcGxhdGUgdHJhbnNmb3JtYXRpb24gb24gdGhlIGVsZW1lbnQgYW5kIGNoaWxkIGVsZW1lbnRzIG9ubHkuXG4gKlxuICogICAqIGB0QXR0cnNgIC0gdGVtcGxhdGUgYXR0cmlidXRlcyAtIE5vcm1hbGl6ZWQgbGlzdCBvZiBhdHRyaWJ1dGVzIGRlY2xhcmVkIG9uIHRoaXMgZWxlbWVudCBzaGFyZWRcbiAqICAgICBiZXR3ZWVuIGFsbCBkaXJlY3RpdmUgY29tcGlsZSBmdW5jdGlvbnMuXG4gKlxuICogICAqIGB0cmFuc2NsdWRlYCAtICBbKkRFUFJFQ0FURUQqIV0gQSB0cmFuc2NsdWRlIGxpbmtpbmcgZnVuY3Rpb246IGBmdW5jdGlvbihzY29wZSwgY2xvbmVMaW5raW5nRm4pYFxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogVGhlIHRlbXBsYXRlIGluc3RhbmNlIGFuZCB0aGUgbGluayBpbnN0YW5jZSBtYXkgYmUgZGlmZmVyZW50IG9iamVjdHMgaWYgdGhlIHRlbXBsYXRlIGhhc1xuICogYmVlbiBjbG9uZWQuIEZvciB0aGlzIHJlYXNvbiBpdCBpcyAqKm5vdCoqIHNhZmUgdG8gZG8gYW55dGhpbmcgb3RoZXIgdGhhbiBET00gdHJhbnNmb3JtYXRpb25zIHRoYXRcbiAqIGFwcGx5IHRvIGFsbCBjbG9uZWQgRE9NIG5vZGVzIHdpdGhpbiB0aGUgY29tcGlsZSBmdW5jdGlvbi4gU3BlY2lmaWNhbGx5LCBET00gbGlzdGVuZXIgcmVnaXN0cmF0aW9uXG4gKiBzaG91bGQgYmUgZG9uZSBpbiBhIGxpbmtpbmcgZnVuY3Rpb24gcmF0aGVyIHRoYW4gaW4gYSBjb21waWxlIGZ1bmN0aW9uLlxuICogPC9kaXY+XG5cbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogVGhlIGNvbXBpbGUgZnVuY3Rpb24gY2Fubm90IGhhbmRsZSBkaXJlY3RpdmVzIHRoYXQgcmVjdXJzaXZlbHkgdXNlIHRoZW1zZWx2ZXMgaW4gdGhlaXJcbiAqIG93biB0ZW1wbGF0ZXMgb3IgY29tcGlsZSBmdW5jdGlvbnMuIENvbXBpbGluZyB0aGVzZSBkaXJlY3RpdmVzIHJlc3VsdHMgaW4gYW4gaW5maW5pdGUgbG9vcCBhbmQgYVxuICogc3RhY2sgb3ZlcmZsb3cgZXJyb3JzLlxuICpcbiAqIFRoaXMgY2FuIGJlIGF2b2lkZWQgYnkgbWFudWFsbHkgdXNpbmcgJGNvbXBpbGUgaW4gdGhlIHBvc3RMaW5rIGZ1bmN0aW9uIHRvIGltcGVyYXRpdmVseSBjb21waWxlXG4gKiBhIGRpcmVjdGl2ZSdzIHRlbXBsYXRlIGluc3RlYWQgb2YgcmVseWluZyBvbiBhdXRvbWF0aWMgdGVtcGxhdGUgY29tcGlsYXRpb24gdmlhIGB0ZW1wbGF0ZWAgb3JcbiAqIGB0ZW1wbGF0ZVVybGAgZGVjbGFyYXRpb24gb3IgbWFudWFsIGNvbXBpbGF0aW9uIGluc2lkZSB0aGUgY29tcGlsZSBmdW5jdGlvbi5cbiAqIDwvZGl2PlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1lcnJvclwiPlxuICogKipOb3RlOioqIFRoZSBgdHJhbnNjbHVkZWAgZnVuY3Rpb24gdGhhdCBpcyBwYXNzZWQgdG8gdGhlIGNvbXBpbGUgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZCwgYXMgaXRcbiAqICAgZS5nLiBkb2VzIG5vdCBrbm93IGFib3V0IHRoZSByaWdodCBvdXRlciBzY29wZS4gUGxlYXNlIHVzZSB0aGUgdHJhbnNjbHVkZSBmdW5jdGlvbiB0aGF0IGlzIHBhc3NlZFxuICogICB0byB0aGUgbGluayBmdW5jdGlvbiBpbnN0ZWFkLlxuICogPC9kaXY+XG5cbiAqIEEgY29tcGlsZSBmdW5jdGlvbiBjYW4gaGF2ZSBhIHJldHVybiB2YWx1ZSB3aGljaCBjYW4gYmUgZWl0aGVyIGEgZnVuY3Rpb24gb3IgYW4gb2JqZWN0LlxuICpcbiAqICogcmV0dXJuaW5nIGEgKHBvc3QtbGluaykgZnVuY3Rpb24gLSBpcyBlcXVpdmFsZW50IHRvIHJlZ2lzdGVyaW5nIHRoZSBsaW5raW5nIGZ1bmN0aW9uIHZpYSB0aGVcbiAqICAgYGxpbmtgIHByb3BlcnR5IG9mIHRoZSBjb25maWcgb2JqZWN0IHdoZW4gdGhlIGNvbXBpbGUgZnVuY3Rpb24gaXMgZW1wdHkuXG4gKlxuICogKiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggZnVuY3Rpb24ocykgcmVnaXN0ZXJlZCB2aWEgYHByZWAgYW5kIGBwb3N0YCBwcm9wZXJ0aWVzIC0gYWxsb3dzIHlvdSB0b1xuICogICBjb250cm9sIHdoZW4gYSBsaW5raW5nIGZ1bmN0aW9uIHNob3VsZCBiZSBjYWxsZWQgZHVyaW5nIHRoZSBsaW5raW5nIHBoYXNlLiBTZWUgaW5mbyBhYm91dFxuICogICBwcmUtbGlua2luZyBhbmQgcG9zdC1saW5raW5nIGZ1bmN0aW9ucyBiZWxvdy5cbiAqXG4gKlxuICogIyMjIyBgbGlua2BcbiAqIFRoaXMgcHJvcGVydHkgaXMgdXNlZCBvbmx5IGlmIHRoZSBgY29tcGlsZWAgcHJvcGVydHkgaXMgbm90IGRlZmluZWQuXG4gKlxuICogYGBganNcbiAqICAgZnVuY3Rpb24gbGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlciwgdHJhbnNjbHVkZUZuKSB7IC4uLiB9XG4gKiBgYGBcbiAqXG4gKiBUaGUgbGluayBmdW5jdGlvbiBpcyByZXNwb25zaWJsZSBmb3IgcmVnaXN0ZXJpbmcgRE9NIGxpc3RlbmVycyBhcyB3ZWxsIGFzIHVwZGF0aW5nIHRoZSBET00uIEl0IGlzXG4gKiBleGVjdXRlZCBhZnRlciB0aGUgdGVtcGxhdGUgaGFzIGJlZW4gY2xvbmVkLiBUaGlzIGlzIHdoZXJlIG1vc3Qgb2YgdGhlIGRpcmVjdGl2ZSBsb2dpYyB3aWxsIGJlXG4gKiBwdXQuXG4gKlxuICogICAqIGBzY29wZWAgLSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBTY29wZX0gLSBUaGUgc2NvcGUgdG8gYmUgdXNlZCBieSB0aGVcbiAqICAgICBkaXJlY3RpdmUgZm9yIHJlZ2lzdGVyaW5nIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCB3YXRjaGVzfS5cbiAqXG4gKiAgICogYGlFbGVtZW50YCAtIGluc3RhbmNlIGVsZW1lbnQgLSBUaGUgZWxlbWVudCB3aGVyZSB0aGUgZGlyZWN0aXZlIGlzIHRvIGJlIHVzZWQuIEl0IGlzIHNhZmUgdG9cbiAqICAgICBtYW5pcHVsYXRlIHRoZSBjaGlsZHJlbiBvZiB0aGUgZWxlbWVudCBvbmx5IGluIGBwb3N0TGlua2AgZnVuY3Rpb24gc2luY2UgdGhlIGNoaWxkcmVuIGhhdmVcbiAqICAgICBhbHJlYWR5IGJlZW4gbGlua2VkLlxuICpcbiAqICAgKiBgaUF0dHJzYCAtIGluc3RhbmNlIGF0dHJpYnV0ZXMgLSBOb3JtYWxpemVkIGxpc3Qgb2YgYXR0cmlidXRlcyBkZWNsYXJlZCBvbiB0aGlzIGVsZW1lbnQgc2hhcmVkXG4gKiAgICAgYmV0d2VlbiBhbGwgZGlyZWN0aXZlIGxpbmtpbmcgZnVuY3Rpb25zLlxuICpcbiAqICAgKiBgY29udHJvbGxlcmAgLSBhIGNvbnRyb2xsZXIgaW5zdGFuY2UgLSBBIGNvbnRyb2xsZXIgaW5zdGFuY2UgaWYgYXQgbGVhc3Qgb25lIGRpcmVjdGl2ZSBvbiB0aGVcbiAqICAgICBlbGVtZW50IGRlZmluZXMgYSBjb250cm9sbGVyLiBUaGUgY29udHJvbGxlciBpcyBzaGFyZWQgYW1vbmcgYWxsIHRoZSBkaXJlY3RpdmVzLCB3aGljaCBhbGxvd3NcbiAqICAgICB0aGUgZGlyZWN0aXZlcyB0byB1c2UgdGhlIGNvbnRyb2xsZXJzIGFzIGEgY29tbXVuaWNhdGlvbiBjaGFubmVsLlxuICpcbiAqICAgKiBgdHJhbnNjbHVkZUZuYCAtIEEgdHJhbnNjbHVkZSBsaW5raW5nIGZ1bmN0aW9uIHByZS1ib3VuZCB0byB0aGUgY29ycmVjdCB0cmFuc2NsdXNpb24gc2NvcGUuXG4gKiAgICAgVGhpcyBpcyB0aGUgc2FtZSBhcyB0aGUgYCR0cmFuc2NsdWRlYFxuICogICAgIHBhcmFtZXRlciBvZiBkaXJlY3RpdmUgY29udHJvbGxlcnMsIHNlZSB0aGVyZSBmb3IgZGV0YWlscy5cbiAqICAgICBgZnVuY3Rpb24oW3Njb3BlXSwgY2xvbmVMaW5raW5nRm4sIGZ1dHVyZVBhcmVudEVsZW1lbnQpYC5cbiAqXG4gKiAjIyMjIFByZS1saW5raW5nIGZ1bmN0aW9uXG4gKlxuICogRXhlY3V0ZWQgYmVmb3JlIHRoZSBjaGlsZCBlbGVtZW50cyBhcmUgbGlua2VkLiBOb3Qgc2FmZSB0byBkbyBET00gdHJhbnNmb3JtYXRpb24gc2luY2UgdGhlXG4gKiBjb21waWxlciBsaW5raW5nIGZ1bmN0aW9uIHdpbGwgZmFpbCB0byBsb2NhdGUgdGhlIGNvcnJlY3QgZWxlbWVudHMgZm9yIGxpbmtpbmcuXG4gKlxuICogIyMjIyBQb3N0LWxpbmtpbmcgZnVuY3Rpb25cbiAqXG4gKiBFeGVjdXRlZCBhZnRlciB0aGUgY2hpbGQgZWxlbWVudHMgYXJlIGxpbmtlZC5cbiAqXG4gKiBOb3RlIHRoYXQgY2hpbGQgZWxlbWVudHMgdGhhdCBjb250YWluIGB0ZW1wbGF0ZVVybGAgZGlyZWN0aXZlcyB3aWxsIG5vdCBoYXZlIGJlZW4gY29tcGlsZWRcbiAqIGFuZCBsaW5rZWQgc2luY2UgdGhleSBhcmUgd2FpdGluZyBmb3IgdGhlaXIgdGVtcGxhdGUgdG8gbG9hZCBhc3luY2hyb25vdXNseSBhbmQgdGhlaXIgb3duXG4gKiBjb21waWxhdGlvbiBhbmQgbGlua2luZyBoYXMgYmVlbiBzdXNwZW5kZWQgdW50aWwgdGhhdCBvY2N1cnMuXG4gKlxuICogSXQgaXMgc2FmZSB0byBkbyBET00gdHJhbnNmb3JtYXRpb24gaW4gdGhlIHBvc3QtbGlua2luZyBmdW5jdGlvbiBvbiBlbGVtZW50cyB0aGF0IGFyZSBub3Qgd2FpdGluZ1xuICogZm9yIHRoZWlyIGFzeW5jIHRlbXBsYXRlcyB0byBiZSByZXNvbHZlZC5cbiAqXG4gKlxuICogIyMjIFRyYW5zY2x1c2lvblxuICpcbiAqIFRyYW5zY2x1c2lvbiBpcyB0aGUgcHJvY2VzcyBvZiBleHRyYWN0aW5nIGEgY29sbGVjdGlvbiBvZiBET00gZWxlbWVudCBmcm9tIG9uZSBwYXJ0IG9mIHRoZSBET00gYW5kXG4gKiBjb3B5aW5nIHRoZW0gdG8gYW5vdGhlciBwYXJ0IG9mIHRoZSBET00sIHdoaWxlIG1haW50YWluaW5nIHRoZWlyIGNvbm5lY3Rpb24gdG8gdGhlIG9yaWdpbmFsIEFuZ3VsYXJKU1xuICogc2NvcGUgZnJvbSB3aGVyZSB0aGV5IHdlcmUgdGFrZW4uXG4gKlxuICogVHJhbnNjbHVzaW9uIGlzIHVzZWQgKG9mdGVuIHdpdGgge0BsaW5rIG5nVHJhbnNjbHVkZX0pIHRvIGluc2VydCB0aGVcbiAqIG9yaWdpbmFsIGNvbnRlbnRzIG9mIGEgZGlyZWN0aXZlJ3MgZWxlbWVudCBpbnRvIGEgc3BlY2lmaWVkIHBsYWNlIGluIHRoZSB0ZW1wbGF0ZSBvZiB0aGUgZGlyZWN0aXZlLlxuICogVGhlIGJlbmVmaXQgb2YgdHJhbnNjbHVzaW9uLCBvdmVyIHNpbXBseSBtb3ZpbmcgdGhlIERPTSBlbGVtZW50cyBtYW51YWxseSwgaXMgdGhhdCB0aGUgdHJhbnNjbHVkZWRcbiAqIGNvbnRlbnQgaGFzIGFjY2VzcyB0byB0aGUgcHJvcGVydGllcyBvbiB0aGUgc2NvcGUgZnJvbSB3aGljaCBpdCB3YXMgdGFrZW4sIGV2ZW4gaWYgdGhlIGRpcmVjdGl2ZVxuICogaGFzIGlzb2xhdGVkIHNjb3BlLlxuICogU2VlIHRoZSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI2NyZWF0aW5nLWEtZGlyZWN0aXZlLXRoYXQtd3JhcHMtb3RoZXItZWxlbWVudHMgRGlyZWN0aXZlcyBHdWlkZX0uXG4gKlxuICogVGhpcyBtYWtlcyBpdCBwb3NzaWJsZSBmb3IgdGhlIHdpZGdldCB0byBoYXZlIHByaXZhdGUgc3RhdGUgZm9yIGl0cyB0ZW1wbGF0ZSwgd2hpbGUgdGhlIHRyYW5zY2x1ZGVkXG4gKiBjb250ZW50IGhhcyBhY2Nlc3MgdG8gaXRzIG9yaWdpbmF0aW5nIHNjb3BlLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogV2hlbiB0ZXN0aW5nIGFuIGVsZW1lbnQgdHJhbnNjbHVkZSBkaXJlY3RpdmUgeW91IG11c3Qgbm90IHBsYWNlIHRoZSBkaXJlY3RpdmUgYXQgdGhlIHJvb3Qgb2YgdGhlXG4gKiBET00gZnJhZ21lbnQgdGhhdCBpcyBiZWluZyBjb21waWxlZC4gU2VlIHtAbGluayBndWlkZS91bml0LXRlc3RpbmcjdGVzdGluZy10cmFuc2NsdXNpb24tZGlyZWN0aXZlc1xuICogVGVzdGluZyBUcmFuc2NsdXNpb24gRGlyZWN0aXZlc30uXG4gKiA8L2Rpdj5cbiAqXG4gKiAjIyMjIFRyYW5zY2x1c2lvbiBGdW5jdGlvbnNcbiAqXG4gKiBXaGVuIGEgZGlyZWN0aXZlIHJlcXVlc3RzIHRyYW5zY2x1c2lvbiwgdGhlIGNvbXBpbGVyIGV4dHJhY3RzIGl0cyBjb250ZW50cyBhbmQgcHJvdmlkZXMgYSAqKnRyYW5zY2x1c2lvblxuICogZnVuY3Rpb24qKiB0byB0aGUgZGlyZWN0aXZlJ3MgYGxpbmtgIGZ1bmN0aW9uIGFuZCBgY29udHJvbGxlcmAuIFRoaXMgdHJhbnNjbHVzaW9uIGZ1bmN0aW9uIGlzIGEgc3BlY2lhbFxuICogKipsaW5raW5nIGZ1bmN0aW9uKiogdGhhdCB3aWxsIHJldHVybiB0aGUgY29tcGlsZWQgY29udGVudHMgbGlua2VkIHRvIGEgbmV3IHRyYW5zY2x1c2lvbiBzY29wZS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxuICogSWYgeW91IGFyZSBqdXN0IHVzaW5nIHtAbGluayBuZ1RyYW5zY2x1ZGV9IHRoZW4geW91IGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgdGhpcyBmdW5jdGlvbiwgc2luY2VcbiAqIG5nVHJhbnNjbHVkZSB3aWxsIGRlYWwgd2l0aCBpdCBmb3IgdXMuXG4gKiA8L2Rpdj5cbiAqXG4gKiBJZiB5b3Ugd2FudCB0byBtYW51YWxseSBjb250cm9sIHRoZSBpbnNlcnRpb24gYW5kIHJlbW92YWwgb2YgdGhlIHRyYW5zY2x1ZGVkIGNvbnRlbnQgaW4geW91ciBkaXJlY3RpdmVcbiAqIHRoZW4geW91IG11c3QgdXNlIHRoaXMgdHJhbnNjbHVkZSBmdW5jdGlvbi4gV2hlbiB5b3UgY2FsbCBhIHRyYW5zY2x1ZGUgZnVuY3Rpb24gaXQgcmV0dXJucyBhIGEganFMaXRlL0pRdWVyeVxuICogb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIGNvbXBpbGVkIERPTSwgd2hpY2ggaXMgbGlua2VkIHRvIHRoZSBjb3JyZWN0IHRyYW5zY2x1c2lvbiBzY29wZS5cbiAqXG4gKiBXaGVuIHlvdSBjYWxsIGEgdHJhbnNjbHVzaW9uIGZ1bmN0aW9uIHlvdSBjYW4gcGFzcyBpbiBhICoqY2xvbmUgYXR0YWNoIGZ1bmN0aW9uKiouIFRoaXMgZnVuY3Rpb24gYWNjZXB0c1xuICogdHdvIHBhcmFtZXRlcnMsIGBmdW5jdGlvbihjbG9uZSwgc2NvcGUpIHsgLi4uIH1gLCB3aGVyZSB0aGUgYGNsb25lYCBpcyBhIGZyZXNoIGNvbXBpbGVkIGNvcHkgb2YgeW91ciB0cmFuc2NsdWRlZFxuICogY29udGVudCBhbmQgdGhlIGBzY29wZWAgaXMgdGhlIG5ld2x5IGNyZWF0ZWQgdHJhbnNjbHVzaW9uIHNjb3BlLCB0byB3aGljaCB0aGUgY2xvbmUgaXMgYm91bmQuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cbiAqICoqQmVzdCBQcmFjdGljZSoqOiBBbHdheXMgcHJvdmlkZSBhIGBjbG9uZUZuYCAoY2xvbmUgYXR0YWNoIGZ1bmN0aW9uKSB3aGVuIHlvdSBjYWxsIGEgdHJhbnNsdWRlIGZ1bmN0aW9uXG4gKiBzaW5jZSB5b3UgdGhlbiBnZXQgYSBmcmVzaCBjbG9uZSBvZiB0aGUgb3JpZ2luYWwgRE9NIGFuZCBhbHNvIGhhdmUgYWNjZXNzIHRvIHRoZSBuZXcgdHJhbnNjbHVzaW9uIHNjb3BlLlxuICogPC9kaXY+XG4gKlxuICogSXQgaXMgbm9ybWFsIHByYWN0aWNlIHRvIGF0dGFjaCB5b3VyIHRyYW5zY2x1ZGVkIGNvbnRlbnQgKGBjbG9uZWApIHRvIHRoZSBET00gaW5zaWRlIHlvdXIgKipjbG9uZVxuICogYXR0YWNoIGZ1bmN0aW9uKio6XG4gKlxuICogYGBganNcbiAqIHZhciB0cmFuc2NsdWRlZENvbnRlbnQsIHRyYW5zY2x1c2lvblNjb3BlO1xuICpcbiAqICR0cmFuc2NsdWRlKGZ1bmN0aW9uKGNsb25lLCBzY29wZSkge1xuICogICBlbGVtZW50LmFwcGVuZChjbG9uZSk7XG4gKiAgIHRyYW5zY2x1ZGVkQ29udGVudCA9IGNsb25lO1xuICogICB0cmFuc2NsdXNpb25TY29wZSA9IHNjb3BlO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBMYXRlciwgaWYgeW91IHdhbnQgdG8gcmVtb3ZlIHRoZSB0cmFuc2NsdWRlZCBjb250ZW50IGZyb20geW91ciBET00gdGhlbiB5b3Ugc2hvdWxkIGFsc28gZGVzdHJveSB0aGVcbiAqIGFzc29jaWF0ZWQgdHJhbnNjbHVzaW9uIHNjb3BlOlxuICpcbiAqIGBgYGpzXG4gKiB0cmFuc2NsdWRlZENvbnRlbnQucmVtb3ZlKCk7XG4gKiB0cmFuc2NsdXNpb25TY29wZS4kZGVzdHJveSgpO1xuICogYGBgXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cbiAqICoqQmVzdCBQcmFjdGljZSoqOiBpZiB5b3UgaW50ZW5kIHRvIGFkZCBhbmQgcmVtb3ZlIHRyYW5zY2x1ZGVkIGNvbnRlbnQgbWFudWFsbHkgaW4geW91ciBkaXJlY3RpdmVcbiAqIChieSBjYWxsaW5nIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIHRvIGdldCB0aGUgRE9NIGFuZCBhbmQgY2FsbGluZyBgZWxlbWVudC5yZW1vdmUoKWAgdG8gcmVtb3ZlIGl0KSxcbiAqIHRoZW4geW91IGFyZSBhbHNvIHJlc3BvbnNpYmxlIGZvciBjYWxsaW5nIGAkZGVzdHJveWAgb24gdGhlIHRyYW5zY2x1c2lvbiBzY29wZS5cbiAqIDwvZGl2PlxuICpcbiAqIFRoZSBidWlsdC1pbiBET00gbWFuaXB1bGF0aW9uIGRpcmVjdGl2ZXMsIHN1Y2ggYXMge0BsaW5rIG5nSWZ9LCB7QGxpbmsgbmdTd2l0Y2h9IGFuZCB7QGxpbmsgbmdSZXBlYXR9XG4gKiBhdXRvbWF0aWNhbGx5IGRlc3Ryb3kgdGhlaXIgdHJhbnNsdWRlZCBjbG9uZXMgYXMgbmVjZXNzYXJ5IHNvIHlvdSBkbyBub3QgbmVlZCB0byB3b3JyeSBhYm91dCB0aGlzIGlmXG4gKiB5b3UgYXJlIHNpbXBseSB1c2luZyB7QGxpbmsgbmdUcmFuc2NsdWRlfSB0byBpbmplY3QgdGhlIHRyYW5zY2x1c2lvbiBpbnRvIHlvdXIgZGlyZWN0aXZlLlxuICpcbiAqXG4gKiAjIyMjIFRyYW5zY2x1c2lvbiBTY29wZXNcbiAqXG4gKiBXaGVuIHlvdSBjYWxsIGEgdHJhbnNjbHVkZSBmdW5jdGlvbiBpdCByZXR1cm5zIGEgRE9NIGZyYWdtZW50IHRoYXQgaXMgcHJlLWJvdW5kIHRvIGEgKip0cmFuc2NsdXNpb25cbiAqIHNjb3BlKiouIFRoaXMgc2NvcGUgaXMgc3BlY2lhbCwgaW4gdGhhdCBpdCBpcyBhIGNoaWxkIG9mIHRoZSBkaXJlY3RpdmUncyBzY29wZSAoYW5kIHNvIGdldHMgZGVzdHJveWVkXG4gKiB3aGVuIHRoZSBkaXJlY3RpdmUncyBzY29wZSBnZXRzIGRlc3Ryb3llZCkgYnV0IGl0IGluaGVyaXRzIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBzY29wZSBmcm9tIHdoaWNoIGl0XG4gKiB3YXMgdGFrZW4uXG4gKlxuICogRm9yIGV4YW1wbGUgY29uc2lkZXIgYSBkaXJlY3RpdmUgdGhhdCB1c2VzIHRyYW5zY2x1c2lvbiBhbmQgaXNvbGF0ZWQgc2NvcGUuIFRoZSBET00gaGllcmFyY2h5IG1pZ2h0IGxvb2tcbiAqIGxpa2UgdGhpczpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IG5nLWFwcD5cbiAqICAgPGRpdiBpc29sYXRlPlxuICogICAgIDxkaXYgdHJhbnNjbHVzaW9uPlxuICogICAgIDwvZGl2PlxuICogICA8L2Rpdj5cbiAqIDwvZGl2PlxuICogYGBgXG4gKlxuICogVGhlIGAkcGFyZW50YCBzY29wZSBoaWVyYXJjaHkgd2lsbCBsb29rIGxpa2UgdGhpczpcbiAqXG4gKiBgYGBcbiAqIC0gJHJvb3RTY29wZVxuICogICAtIGlzb2xhdGVcbiAqICAgICAtIHRyYW5zY2x1c2lvblxuICogYGBgXG4gKlxuICogYnV0IHRoZSBzY29wZXMgd2lsbCBpbmhlcml0IHByb3RvdHlwaWNhbGx5IGZyb20gZGlmZmVyZW50IHNjb3BlcyB0byB0aGVpciBgJHBhcmVudGAuXG4gKlxuICogYGBgXG4gKiAtICRyb290U2NvcGVcbiAqICAgLSB0cmFuc2NsdXNpb25cbiAqIC0gaXNvbGF0ZVxuICogYGBgXG4gKlxuICpcbiAqICMjIyBBdHRyaWJ1dGVzXG4gKlxuICogVGhlIHtAbGluayBuZy4kY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyBBdHRyaWJ1dGVzfSBvYmplY3QgLSBwYXNzZWQgYXMgYSBwYXJhbWV0ZXIgaW4gdGhlXG4gKiBgbGluaygpYCBvciBgY29tcGlsZSgpYCBmdW5jdGlvbnMuIEl0IGhhcyBhIHZhcmlldHkgb2YgdXNlcy5cbiAqXG4gKiBhY2Nlc3NpbmcgKk5vcm1hbGl6ZWQgYXR0cmlidXRlIG5hbWVzOipcbiAqIERpcmVjdGl2ZXMgbGlrZSAnbmdCaW5kJyBjYW4gYmUgZXhwcmVzc2VkIGluIG1hbnkgd2F5czogJ25nOmJpbmQnLCBgZGF0YS1uZy1iaW5kYCwgb3IgJ3gtbmctYmluZCcuXG4gKiB0aGUgYXR0cmlidXRlcyBvYmplY3QgYWxsb3dzIGZvciBub3JtYWxpemVkIGFjY2VzcyB0b1xuICogICB0aGUgYXR0cmlidXRlcy5cbiAqXG4gKiAqICpEaXJlY3RpdmUgaW50ZXItY29tbXVuaWNhdGlvbjoqIEFsbCBkaXJlY3RpdmVzIHNoYXJlIHRoZSBzYW1lIGluc3RhbmNlIG9mIHRoZSBhdHRyaWJ1dGVzXG4gKiAgIG9iamVjdCB3aGljaCBhbGxvd3MgdGhlIGRpcmVjdGl2ZXMgdG8gdXNlIHRoZSBhdHRyaWJ1dGVzIG9iamVjdCBhcyBpbnRlciBkaXJlY3RpdmVcbiAqICAgY29tbXVuaWNhdGlvbi5cbiAqXG4gKiAqICpTdXBwb3J0cyBpbnRlcnBvbGF0aW9uOiogSW50ZXJwb2xhdGlvbiBhdHRyaWJ1dGVzIGFyZSBhc3NpZ25lZCB0byB0aGUgYXR0cmlidXRlIG9iamVjdFxuICogICBhbGxvd2luZyBvdGhlciBkaXJlY3RpdmVzIHRvIHJlYWQgdGhlIGludGVycG9sYXRlZCB2YWx1ZS5cbiAqXG4gKiAqICpPYnNlcnZpbmcgaW50ZXJwb2xhdGVkIGF0dHJpYnV0ZXM6KiBVc2UgYCRvYnNlcnZlYCB0byBvYnNlcnZlIHRoZSB2YWx1ZSBjaGFuZ2VzIG9mIGF0dHJpYnV0ZXNcbiAqICAgdGhhdCBjb250YWluIGludGVycG9sYXRpb24gKGUuZy4gYHNyYz1cInt7YmFyfX1cImApLiBOb3Qgb25seSBpcyB0aGlzIHZlcnkgZWZmaWNpZW50IGJ1dCBpdCdzIGFsc29cbiAqICAgdGhlIG9ubHkgd2F5IHRvIGVhc2lseSBnZXQgdGhlIGFjdHVhbCB2YWx1ZSBiZWNhdXNlIGR1cmluZyB0aGUgbGlua2luZyBwaGFzZSB0aGUgaW50ZXJwb2xhdGlvblxuICogICBoYXNuJ3QgYmVlbiBldmFsdWF0ZWQgeWV0IGFuZCBzbyB0aGUgdmFsdWUgaXMgYXQgdGhpcyB0aW1lIHNldCB0byBgdW5kZWZpbmVkYC5cbiAqXG4gKiBgYGBqc1xuICogZnVuY3Rpb24gbGlua2luZ0ZuKHNjb3BlLCBlbG0sIGF0dHJzLCBjdHJsKSB7XG4gKiAgIC8vIGdldCB0aGUgYXR0cmlidXRlIHZhbHVlXG4gKiAgIGNvbnNvbGUubG9nKGF0dHJzLm5nTW9kZWwpO1xuICpcbiAqICAgLy8gY2hhbmdlIHRoZSBhdHRyaWJ1dGVcbiAqICAgYXR0cnMuJHNldCgnbmdNb2RlbCcsICduZXcgdmFsdWUnKTtcbiAqXG4gKiAgIC8vIG9ic2VydmUgY2hhbmdlcyB0byBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlXG4gKiAgIGF0dHJzLiRvYnNlcnZlKCduZ01vZGVsJywgZnVuY3Rpb24odmFsdWUpIHtcbiAqICAgICBjb25zb2xlLmxvZygnbmdNb2RlbCBoYXMgY2hhbmdlZCB2YWx1ZSB0byAnICsgdmFsdWUpO1xuICogICB9KTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlKio6IFR5cGljYWxseSBkaXJlY3RpdmVzIGFyZSByZWdpc3RlcmVkIHdpdGggYG1vZHVsZS5kaXJlY3RpdmVgLiBUaGUgZXhhbXBsZSBiZWxvdyBpc1xuICogdG8gaWxsdXN0cmF0ZSBob3cgYCRjb21waWxlYCB3b3Jrcy5cbiAqIDwvZGl2PlxuICpcbiA8ZXhhbXBsZSBtb2R1bGU9XCJjb21waWxlRXhhbXBsZVwiPlxuICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICA8c2NyaXB0PlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ2NvbXBpbGVFeGFtcGxlJywgW10sIGZ1bmN0aW9uKCRjb21waWxlUHJvdmlkZXIpIHtcbiAgICAgICAgLy8gY29uZmlndXJlIG5ldyAnY29tcGlsZScgZGlyZWN0aXZlIGJ5IHBhc3NpbmcgYSBkaXJlY3RpdmVcbiAgICAgICAgLy8gZmFjdG9yeSBmdW5jdGlvbi4gVGhlIGZhY3RvcnkgZnVuY3Rpb24gaW5qZWN0cyB0aGUgJyRjb21waWxlJ1xuICAgICAgICAkY29tcGlsZVByb3ZpZGVyLmRpcmVjdGl2ZSgnY29tcGlsZScsIGZ1bmN0aW9uKCRjb21waWxlKSB7XG4gICAgICAgICAgLy8gZGlyZWN0aXZlIGZhY3RvcnkgY3JlYXRlcyBhIGxpbmsgZnVuY3Rpb25cbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goXG4gICAgICAgICAgICAgIGZ1bmN0aW9uKHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgIC8vIHdhdGNoIHRoZSAnY29tcGlsZScgZXhwcmVzc2lvbiBmb3IgY2hhbmdlc1xuICAgICAgICAgICAgICAgIHJldHVybiBzY29wZS4kZXZhbChhdHRycy5jb21waWxlKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyB3aGVuIHRoZSAnY29tcGlsZScgZXhwcmVzc2lvbiBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgLy8gYXNzaWduIGl0IGludG8gdGhlIGN1cnJlbnQgRE9NXG4gICAgICAgICAgICAgICAgZWxlbWVudC5odG1sKHZhbHVlKTtcblxuICAgICAgICAgICAgICAgIC8vIGNvbXBpbGUgdGhlIG5ldyBET00gYW5kIGxpbmsgaXQgdG8gdGhlIGN1cnJlbnRcbiAgICAgICAgICAgICAgICAvLyBzY29wZS5cbiAgICAgICAgICAgICAgICAvLyBOT1RFOiB3ZSBvbmx5IGNvbXBpbGUgLmNoaWxkTm9kZXMgc28gdGhhdFxuICAgICAgICAgICAgICAgIC8vIHdlIGRvbid0IGdldCBpbnRvIGluZmluaXRlIGxvb3AgY29tcGlsaW5nIG91cnNlbHZlc1xuICAgICAgICAgICAgICAgICRjb21waWxlKGVsZW1lbnQuY29udGVudHMoKSkoc2NvcGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC5jb250cm9sbGVyKCdHcmVldGVyQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICRzY29wZS5uYW1lID0gJ0FuZ3VsYXInO1xuICAgICAgICAkc2NvcGUuaHRtbCA9ICdIZWxsbyB7e25hbWV9fSc7XG4gICAgICB9XSk7XG4gICAgPC9zY3JpcHQ+XG4gICAgPGRpdiBuZy1jb250cm9sbGVyPVwiR3JlZXRlckNvbnRyb2xsZXJcIj5cbiAgICAgIDxpbnB1dCBuZy1tb2RlbD1cIm5hbWVcIj4gPGJyPlxuICAgICAgPHRleHRhcmVhIG5nLW1vZGVsPVwiaHRtbFwiPjwvdGV4dGFyZWE+IDxicj5cbiAgICAgIDxkaXYgY29tcGlsZT1cImh0bWxcIj48L2Rpdj5cbiAgICA8L2Rpdj5cbiAgIDwvZmlsZT5cbiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgaXQoJ3Nob3VsZCBhdXRvIGNvbXBpbGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICB2YXIgdGV4dGFyZWEgPSAkKCd0ZXh0YXJlYScpO1xuICAgICAgIHZhciBvdXRwdXQgPSAkKCdkaXZbY29tcGlsZV0nKTtcbiAgICAgICAvLyBUaGUgaW5pdGlhbCBzdGF0ZSByZWFkcyAnSGVsbG8gQW5ndWxhcicuXG4gICAgICAgZXhwZWN0KG91dHB1dC5nZXRUZXh0KCkpLnRvQmUoJ0hlbGxvIEFuZ3VsYXInKTtcbiAgICAgICB0ZXh0YXJlYS5jbGVhcigpO1xuICAgICAgIHRleHRhcmVhLnNlbmRLZXlzKCd7e25hbWV9fSEnKTtcbiAgICAgICBleHBlY3Qob3V0cHV0LmdldFRleHQoKSkudG9CZSgnQW5ndWxhciEnKTtcbiAgICAgfSk7XG4gICA8L2ZpbGU+XG4gPC9leGFtcGxlPlxuXG4gKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfERPTUVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCBvciBIVE1MIHN0cmluZyB0byBjb21waWxlIGludG8gYSB0ZW1wbGF0ZSBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oYW5ndWxhci5TY29wZSwgY2xvbmVBdHRhY2hGbj0pfSB0cmFuc2NsdWRlIGZ1bmN0aW9uIGF2YWlsYWJsZSB0byBkaXJlY3RpdmVzLlxuICogQHBhcmFtIHtudW1iZXJ9IG1heFByaW9yaXR5IG9ubHkgYXBwbHkgZGlyZWN0aXZlcyBsb3dlciB0aGFuIGdpdmVuIHByaW9yaXR5IChPbmx5IGVmZmVjdHMgdGhlXG4gKiAgICAgICAgICAgICAgICAgcm9vdCBlbGVtZW50KHMpLCBub3QgdGhlaXIgY2hpbGRyZW4pXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oc2NvcGUsIGNsb25lQXR0YWNoRm49KX0gYSBsaW5rIGZ1bmN0aW9uIHdoaWNoIGlzIHVzZWQgdG8gYmluZCB0ZW1wbGF0ZVxuICogKGEgRE9NIGVsZW1lbnQvdHJlZSkgdG8gYSBzY29wZS4gV2hlcmU6XG4gKlxuICogICogYHNjb3BlYCAtIEEge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgU2NvcGV9IHRvIGJpbmQgdG8uXG4gKiAgKiBgY2xvbmVBdHRhY2hGbmAgLSBJZiBgY2xvbmVBdHRhY2hGbmAgaXMgcHJvdmlkZWQsIHRoZW4gdGhlIGxpbmsgZnVuY3Rpb24gd2lsbCBjbG9uZSB0aGVcbiAqICBgdGVtcGxhdGVgIGFuZCBjYWxsIHRoZSBgY2xvbmVBdHRhY2hGbmAgZnVuY3Rpb24gYWxsb3dpbmcgdGhlIGNhbGxlciB0byBhdHRhY2ggdGhlXG4gKiAgY2xvbmVkIGVsZW1lbnRzIHRvIHRoZSBET00gZG9jdW1lbnQgYXQgdGhlIGFwcHJvcHJpYXRlIHBsYWNlLiBUaGUgYGNsb25lQXR0YWNoRm5gIGlzXG4gKiAgY2FsbGVkIGFzOiA8YnI+IGBjbG9uZUF0dGFjaEZuKGNsb25lZEVsZW1lbnQsIHNjb3BlKWAgd2hlcmU6XG4gKlxuICogICAgICAqIGBjbG9uZWRFbGVtZW50YCAtIGlzIGEgY2xvbmUgb2YgdGhlIG9yaWdpbmFsIGBlbGVtZW50YCBwYXNzZWQgaW50byB0aGUgY29tcGlsZXIuXG4gKiAgICAgICogYHNjb3BlYCAtIGlzIHRoZSBjdXJyZW50IHNjb3BlIHdpdGggd2hpY2ggdGhlIGxpbmtpbmcgZnVuY3Rpb24gaXMgd29ya2luZyB3aXRoLlxuICpcbiAqIENhbGxpbmcgdGhlIGxpbmtpbmcgZnVuY3Rpb24gcmV0dXJucyB0aGUgZWxlbWVudCBvZiB0aGUgdGVtcGxhdGUuIEl0IGlzIGVpdGhlciB0aGUgb3JpZ2luYWxcbiAqIGVsZW1lbnQgcGFzc2VkIGluLCBvciB0aGUgY2xvbmUgb2YgdGhlIGVsZW1lbnQgaWYgdGhlIGBjbG9uZUF0dGFjaEZuYCBpcyBwcm92aWRlZC5cbiAqXG4gKiBBZnRlciBsaW5raW5nIHRoZSB2aWV3IGlzIG5vdCB1cGRhdGVkIHVudGlsIGFmdGVyIGEgY2FsbCB0byAkZGlnZXN0IHdoaWNoIHR5cGljYWxseSBpcyBkb25lIGJ5XG4gKiBBbmd1bGFyIGF1dG9tYXRpY2FsbHkuXG4gKlxuICogSWYgeW91IG5lZWQgYWNjZXNzIHRvIHRoZSBib3VuZCB2aWV3LCB0aGVyZSBhcmUgdHdvIHdheXMgdG8gZG8gaXQ6XG4gKlxuICogLSBJZiB5b3UgYXJlIG5vdCBhc2tpbmcgdGhlIGxpbmtpbmcgZnVuY3Rpb24gdG8gY2xvbmUgdGhlIHRlbXBsYXRlLCBjcmVhdGUgdGhlIERPTSBlbGVtZW50KHMpXG4gKiAgIGJlZm9yZSB5b3Ugc2VuZCB0aGVtIHRvIHRoZSBjb21waWxlciBhbmQga2VlcCB0aGlzIHJlZmVyZW5jZSBhcm91bmQuXG4gKiAgIGBgYGpzXG4gKiAgICAgdmFyIGVsZW1lbnQgPSAkY29tcGlsZSgnPHA+e3t0b3RhbH19PC9wPicpKHNjb3BlKTtcbiAqICAgYGBgXG4gKlxuICogLSBpZiBvbiB0aGUgb3RoZXIgaGFuZCwgeW91IG5lZWQgdGhlIGVsZW1lbnQgdG8gYmUgY2xvbmVkLCB0aGUgdmlldyByZWZlcmVuY2UgZnJvbSB0aGUgb3JpZ2luYWxcbiAqICAgZXhhbXBsZSB3b3VsZCBub3QgcG9pbnQgdG8gdGhlIGNsb25lLCBidXQgcmF0aGVyIHRvIHRoZSBvcmlnaW5hbCB0ZW1wbGF0ZSB0aGF0IHdhcyBjbG9uZWQuIEluXG4gKiAgIHRoaXMgY2FzZSwgeW91IGNhbiBhY2Nlc3MgdGhlIGNsb25lIHZpYSB0aGUgY2xvbmVBdHRhY2hGbjpcbiAqICAgYGBganNcbiAqICAgICB2YXIgdGVtcGxhdGVFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KCc8cD57e3RvdGFsfX08L3A+JyksXG4gKiAgICAgICAgIHNjb3BlID0gLi4uLjtcbiAqXG4gKiAgICAgdmFyIGNsb25lZEVsZW1lbnQgPSAkY29tcGlsZSh0ZW1wbGF0ZUVsZW1lbnQpKHNjb3BlLCBmdW5jdGlvbihjbG9uZWRFbGVtZW50LCBzY29wZSkge1xuICogICAgICAgLy9hdHRhY2ggdGhlIGNsb25lIHRvIERPTSBkb2N1bWVudCBhdCB0aGUgcmlnaHQgcGxhY2VcbiAqICAgICB9KTtcbiAqXG4gKiAgICAgLy9ub3cgd2UgaGF2ZSByZWZlcmVuY2UgdG8gdGhlIGNsb25lZCBET00gdmlhIGBjbG9uZWRFbGVtZW50YFxuICogICBgYGBcbiAqXG4gKlxuICogRm9yIGluZm9ybWF0aW9uIG9uIGhvdyB0aGUgY29tcGlsZXIgd29ya3MsIHNlZSB0aGVcbiAqIHtAbGluayBndWlkZS9jb21waWxlciBBbmd1bGFyIEhUTUwgQ29tcGlsZXJ9IHNlY3Rpb24gb2YgdGhlIERldmVsb3BlciBHdWlkZS5cbiAqL1xuXG52YXIgJGNvbXBpbGVNaW5FcnIgPSBtaW5FcnIoJyRjb21waWxlJyk7XG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKi9cbiRDb21waWxlUHJvdmlkZXIuJGluamVjdCA9IFsnJHByb3ZpZGUnLCAnJCRzYW5pdGl6ZVVyaVByb3ZpZGVyJ107XG5mdW5jdGlvbiAkQ29tcGlsZVByb3ZpZGVyKCRwcm92aWRlLCAkJHNhbml0aXplVXJpUHJvdmlkZXIpIHtcbiAgdmFyIGhhc0RpcmVjdGl2ZXMgPSB7fSxcbiAgICAgIFN1ZmZpeCA9ICdEaXJlY3RpdmUnLFxuICAgICAgQ09NTUVOVF9ESVJFQ1RJVkVfUkVHRVhQID0gL15cXHMqZGlyZWN0aXZlXFw6XFxzKihbXFx3XFwtXSspXFxzKyguKikkLyxcbiAgICAgIENMQVNTX0RJUkVDVElWRV9SRUdFWFAgPSAvKChbXFx3XFwtXSspKD86XFw6KFteO10rKSk/Oz8pLyxcbiAgICAgIEFMTF9PUl9OT1RISU5HX0FUVFJTID0gbWFrZU1hcCgnbmdTcmMsbmdTcmNzZXQsc3JjLHNyY3NldCcpLFxuICAgICAgUkVRVUlSRV9QUkVGSVhfUkVHRVhQID0gL14oPzooXFxeXFxePyk/KFxcPyk/KFxcXlxcXj8pPyk/LztcblxuICAvLyBSZWY6IGh0dHA6Ly9kZXZlbG9wZXJzLndoYXR3Zy5vcmcvd2ViYXBwYXBpcy5odG1sI2V2ZW50LWhhbmRsZXItaWRsLWF0dHJpYnV0ZXNcbiAgLy8gVGhlIGFzc3VtcHRpb24gaXMgdGhhdCBmdXR1cmUgRE9NIGV2ZW50IGF0dHJpYnV0ZSBuYW1lcyB3aWxsIGJlZ2luIHdpdGhcbiAgLy8gJ29uJyBhbmQgYmUgY29tcG9zZWQgb2Ygb25seSBFbmdsaXNoIGxldHRlcnMuXG4gIHZhciBFVkVOVF9IQU5ETEVSX0FUVFJfUkVHRVhQID0gL14ob25bYS16XSt8Zm9ybWFjdGlvbikkLztcblxuICBmdW5jdGlvbiBwYXJzZUlzb2xhdGVCaW5kaW5ncyhzY29wZSwgZGlyZWN0aXZlTmFtZSkge1xuICAgIHZhciBMT0NBTF9SRUdFWFAgPSAvXlxccyooW0AmXXw9KFxcKj8pKShcXD8/KVxccyooXFx3KilcXHMqJC87XG5cbiAgICB2YXIgYmluZGluZ3MgPSB7fTtcblxuICAgIGZvckVhY2goc2NvcGUsIGZ1bmN0aW9uKGRlZmluaXRpb24sIHNjb3BlTmFtZSkge1xuICAgICAgdmFyIG1hdGNoID0gZGVmaW5pdGlvbi5tYXRjaChMT0NBTF9SRUdFWFApO1xuXG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdpc2NwJyxcbiAgICAgICAgICAgIFwiSW52YWxpZCBpc29sYXRlIHNjb3BlIGRlZmluaXRpb24gZm9yIGRpcmVjdGl2ZSAnezB9Jy5cIiArXG4gICAgICAgICAgICBcIiBEZWZpbml0aW9uOiB7Li4uIHsxfTogJ3syfScgLi4ufVwiLFxuICAgICAgICAgICAgZGlyZWN0aXZlTmFtZSwgc2NvcGVOYW1lLCBkZWZpbml0aW9uKTtcbiAgICAgIH1cblxuICAgICAgYmluZGluZ3Nbc2NvcGVOYW1lXSA9IHtcbiAgICAgICAgbW9kZTogbWF0Y2hbMV1bMF0sXG4gICAgICAgIGNvbGxlY3Rpb246IG1hdGNoWzJdID09PSAnKicsXG4gICAgICAgIG9wdGlvbmFsOiBtYXRjaFszXSA9PT0gJz8nLFxuICAgICAgICBhdHRyTmFtZTogbWF0Y2hbNF0gfHwgc2NvcGVOYW1lXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGJpbmRpbmdzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmVcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJlZ2lzdGVyIGEgbmV3IGRpcmVjdGl2ZSB3aXRoIHRoZSBjb21waWxlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBuYW1lIE5hbWUgb2YgdGhlIGRpcmVjdGl2ZSBpbiBjYW1lbC1jYXNlIChpLmUuIDxjb2RlPm5nQmluZDwvY29kZT4gd2hpY2hcbiAgICogICAgd2lsbCBtYXRjaCBhcyA8Y29kZT5uZy1iaW5kPC9jb2RlPiksIG9yIGFuIG9iamVjdCBtYXAgb2YgZGlyZWN0aXZlcyB3aGVyZSB0aGUga2V5cyBhcmUgdGhlXG4gICAqICAgIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgZmFjdG9yaWVzLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufEFycmF5fSBkaXJlY3RpdmVGYWN0b3J5IEFuIGluamVjdGFibGUgZGlyZWN0aXZlIGZhY3RvcnkgZnVuY3Rpb24uIFNlZVxuICAgKiAgICB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlfSBmb3IgbW9yZSBpbmZvLlxuICAgKiBAcmV0dXJucyB7bmcuJGNvbXBpbGVQcm92aWRlcn0gU2VsZiBmb3IgY2hhaW5pbmcuXG4gICAqL1xuICAgdGhpcy5kaXJlY3RpdmUgPSBmdW5jdGlvbiByZWdpc3RlckRpcmVjdGl2ZShuYW1lLCBkaXJlY3RpdmVGYWN0b3J5KSB7XG4gICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgJ2RpcmVjdGl2ZScpO1xuICAgIGlmIChpc1N0cmluZyhuYW1lKSkge1xuICAgICAgYXNzZXJ0QXJnKGRpcmVjdGl2ZUZhY3RvcnksICdkaXJlY3RpdmVGYWN0b3J5Jyk7XG4gICAgICBpZiAoIWhhc0RpcmVjdGl2ZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgaGFzRGlyZWN0aXZlc1tuYW1lXSA9IFtdO1xuICAgICAgICAkcHJvdmlkZS5mYWN0b3J5KG5hbWUgKyBTdWZmaXgsIFsnJGluamVjdG9yJywgJyRleGNlcHRpb25IYW5kbGVyJyxcbiAgICAgICAgICBmdW5jdGlvbigkaW5qZWN0b3IsICRleGNlcHRpb25IYW5kbGVyKSB7XG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlcyA9IFtdO1xuICAgICAgICAgICAgZm9yRWFjaChoYXNEaXJlY3RpdmVzW25hbWVdLCBmdW5jdGlvbihkaXJlY3RpdmVGYWN0b3J5LCBpbmRleCkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBkaXJlY3RpdmUgPSAkaW5qZWN0b3IuaW52b2tlKGRpcmVjdGl2ZUZhY3RvcnkpO1xuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGRpcmVjdGl2ZSkpIHtcbiAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZSA9IHsgY29tcGlsZTogdmFsdWVGbihkaXJlY3RpdmUpIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghZGlyZWN0aXZlLmNvbXBpbGUgJiYgZGlyZWN0aXZlLmxpbmspIHtcbiAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5jb21waWxlID0gdmFsdWVGbihkaXJlY3RpdmUubGluayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5wcmlvcml0eSA9IGRpcmVjdGl2ZS5wcmlvcml0eSB8fCAwO1xuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5pbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5uYW1lID0gZGlyZWN0aXZlLm5hbWUgfHwgbmFtZTtcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUucmVxdWlyZSA9IGRpcmVjdGl2ZS5yZXF1aXJlIHx8IChkaXJlY3RpdmUuY29udHJvbGxlciAmJiBkaXJlY3RpdmUubmFtZSk7XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlLnJlc3RyaWN0ID0gZGlyZWN0aXZlLnJlc3RyaWN0IHx8ICdFQSc7XG4gICAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0KGRpcmVjdGl2ZS5zY29wZSkpIHtcbiAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS4kJGlzb2xhdGVCaW5kaW5ncyA9IHBhcnNlSXNvbGF0ZUJpbmRpbmdzKGRpcmVjdGl2ZS5zY29wZSwgZGlyZWN0aXZlLm5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkaXJlY3RpdmVzLnB1c2goZGlyZWN0aXZlKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBkaXJlY3RpdmVzO1xuICAgICAgICAgIH1dKTtcbiAgICAgIH1cbiAgICAgIGhhc0RpcmVjdGl2ZXNbbmFtZV0ucHVzaChkaXJlY3RpdmVGYWN0b3J5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yRWFjaChuYW1lLCByZXZlcnNlUGFyYW1zKHJlZ2lzdGVyRGlyZWN0aXZlKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGNvbXBpbGVQcm92aWRlciNhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdFxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmV0cmlldmVzIG9yIG92ZXJyaWRlcyB0aGUgZGVmYXVsdCByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBpcyB1c2VkIGZvciB3aGl0ZWxpc3Rpbmcgb2Ygc2FmZVxuICAgKiB1cmxzIGR1cmluZyBhW2hyZWZdIHNhbml0aXphdGlvbi5cbiAgICpcbiAgICogVGhlIHNhbml0aXphdGlvbiBpcyBhIHNlY3VyaXR5IG1lYXN1cmUgYWltZWQgYXQgcHJldmVudCBYU1MgYXR0YWNrcyB2aWEgaHRtbCBsaW5rcy5cbiAgICpcbiAgICogQW55IHVybCBhYm91dCB0byBiZSBhc3NpZ25lZCB0byBhW2hyZWZdIHZpYSBkYXRhLWJpbmRpbmcgaXMgZmlyc3Qgbm9ybWFsaXplZCBhbmQgdHVybmVkIGludG9cbiAgICogYW4gYWJzb2x1dGUgdXJsLiBBZnRlcndhcmRzLCB0aGUgdXJsIGlzIG1hdGNoZWQgYWdhaW5zdCB0aGUgYGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0YFxuICAgKiByZWd1bGFyIGV4cHJlc3Npb24uIElmIGEgbWF0Y2ggaXMgZm91bmQsIHRoZSBvcmlnaW5hbCB1cmwgaXMgd3JpdHRlbiBpbnRvIHRoZSBkb20uIE90aGVyd2lzZSxcbiAgICogdGhlIGFic29sdXRlIHVybCBpcyBwcmVmaXhlZCB3aXRoIGAndW5zYWZlOidgIHN0cmluZyBhbmQgb25seSB0aGVuIGlzIGl0IHdyaXR0ZW4gaW50byB0aGUgRE9NLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlZ0V4cD19IHJlZ2V4cCBOZXcgcmVnZXhwIHRvIHdoaXRlbGlzdCB1cmxzIHdpdGguXG4gICAqIEByZXR1cm5zIHtSZWdFeHB8bmcuJGNvbXBpbGVQcm92aWRlcn0gQ3VycmVudCBSZWdFeHAgaWYgY2FsbGVkIHdpdGhvdXQgdmFsdWUgb3Igc2VsZiBmb3JcbiAgICogICAgY2hhaW5pbmcgb3RoZXJ3aXNlLlxuICAgKi9cbiAgdGhpcy5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCA9IGZ1bmN0aW9uKHJlZ2V4cCkge1xuICAgIGlmIChpc0RlZmluZWQocmVnZXhwKSkge1xuICAgICAgJCRzYW5pdGl6ZVVyaVByb3ZpZGVyLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0KHJlZ2V4cCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICQkc2FuaXRpemVVcmlQcm92aWRlci5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCgpO1xuICAgIH1cbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRjb21waWxlUHJvdmlkZXIjaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0XG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXRyaWV2ZXMgb3Igb3ZlcnJpZGVzIHRoZSBkZWZhdWx0IHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGlzIHVzZWQgZm9yIHdoaXRlbGlzdGluZyBvZiBzYWZlXG4gICAqIHVybHMgZHVyaW5nIGltZ1tzcmNdIHNhbml0aXphdGlvbi5cbiAgICpcbiAgICogVGhlIHNhbml0aXphdGlvbiBpcyBhIHNlY3VyaXR5IG1lYXN1cmUgYWltZWQgYXQgcHJldmVudCBYU1MgYXR0YWNrcyB2aWEgaHRtbCBsaW5rcy5cbiAgICpcbiAgICogQW55IHVybCBhYm91dCB0byBiZSBhc3NpZ25lZCB0byBpbWdbc3JjXSB2aWEgZGF0YS1iaW5kaW5nIGlzIGZpcnN0IG5vcm1hbGl6ZWQgYW5kIHR1cm5lZCBpbnRvXG4gICAqIGFuIGFic29sdXRlIHVybC4gQWZ0ZXJ3YXJkcywgdGhlIHVybCBpcyBtYXRjaGVkIGFnYWluc3QgdGhlIGBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3RgXG4gICAqIHJlZ3VsYXIgZXhwcmVzc2lvbi4gSWYgYSBtYXRjaCBpcyBmb3VuZCwgdGhlIG9yaWdpbmFsIHVybCBpcyB3cml0dGVuIGludG8gdGhlIGRvbS4gT3RoZXJ3aXNlLFxuICAgKiB0aGUgYWJzb2x1dGUgdXJsIGlzIHByZWZpeGVkIHdpdGggYCd1bnNhZmU6J2Agc3RyaW5nIGFuZCBvbmx5IHRoZW4gaXMgaXQgd3JpdHRlbiBpbnRvIHRoZSBET00uXG4gICAqXG4gICAqIEBwYXJhbSB7UmVnRXhwPX0gcmVnZXhwIE5ldyByZWdleHAgdG8gd2hpdGVsaXN0IHVybHMgd2l0aC5cbiAgICogQHJldHVybnMge1JlZ0V4cHxuZy4kY29tcGlsZVByb3ZpZGVyfSBDdXJyZW50IFJlZ0V4cCBpZiBjYWxsZWQgd2l0aG91dCB2YWx1ZSBvciBzZWxmIGZvclxuICAgKiAgICBjaGFpbmluZyBvdGhlcndpc2UuXG4gICAqL1xuICB0aGlzLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCA9IGZ1bmN0aW9uKHJlZ2V4cCkge1xuICAgIGlmIChpc0RlZmluZWQocmVnZXhwKSkge1xuICAgICAgJCRzYW5pdGl6ZVVyaVByb3ZpZGVyLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdChyZWdleHApO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAkJHNhbml0aXplVXJpUHJvdmlkZXIuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0KCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICAkY29tcGlsZVByb3ZpZGVyI2RlYnVnSW5mb0VuYWJsZWRcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFuPX0gZW5hYmxlZCB1cGRhdGUgdGhlIGRlYnVnSW5mb0VuYWJsZWQgc3RhdGUgaWYgcHJvdmlkZWQsIG90aGVyd2lzZSBqdXN0IHJldHVybiB0aGVcbiAgICogY3VycmVudCBkZWJ1Z0luZm9FbmFibGVkIHN0YXRlXG4gICAqIEByZXR1cm5zIHsqfSBjdXJyZW50IHZhbHVlIGlmIHVzZWQgYXMgZ2V0dGVyIG9yIGl0c2VsZiAoY2hhaW5pbmcpIGlmIHVzZWQgYXMgc2V0dGVyXG4gICAqXG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDYWxsIHRoaXMgbWV0aG9kIHRvIGVuYWJsZS9kaXNhYmxlIHZhcmlvdXMgZGVidWcgcnVudGltZSBpbmZvcm1hdGlvbiBpbiB0aGUgY29tcGlsZXIgc3VjaCBhcyBhZGRpbmdcbiAgICogYmluZGluZyBpbmZvcm1hdGlvbiBhbmQgYSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgc2NvcGUgb24gdG8gRE9NIGVsZW1lbnRzLlxuICAgKiBJZiBlbmFibGVkLCB0aGUgY29tcGlsZXIgd2lsbCBhZGQgdGhlIGZvbGxvd2luZyB0byBET00gZWxlbWVudHMgdGhhdCBoYXZlIGJlZW4gYm91bmQgdG8gdGhlIHNjb3BlXG4gICAqICogYG5nLWJpbmRpbmdgIENTUyBjbGFzc1xuICAgKiAqIGAkYmluZGluZ2AgZGF0YSBwcm9wZXJ0eSBjb250YWluaW5nIGFuIGFycmF5IG9mIHRoZSBiaW5kaW5nIGV4cHJlc3Npb25zXG4gICAqXG4gICAqIFlvdSBtYXkgd2FudCB0byB1c2UgdGhpcyBpbiBwcm9kdWN0aW9uIGZvciBhIHNpZ25pZmljYW50IHBlcmZvcm1hbmNlIGJvb3N0LiBTZWVcbiAgICoge0BsaW5rIGd1aWRlL3Byb2R1Y3Rpb24jZGlzYWJsaW5nLWRlYnVnLWRhdGEgRGlzYWJsaW5nIERlYnVnIERhdGF9IGZvciBtb3JlLlxuICAgKlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxuICAgKi9cbiAgdmFyIGRlYnVnSW5mb0VuYWJsZWQgPSB0cnVlO1xuICB0aGlzLmRlYnVnSW5mb0VuYWJsZWQgPSBmdW5jdGlvbihlbmFibGVkKSB7XG4gICAgaWYgKGlzRGVmaW5lZChlbmFibGVkKSkge1xuICAgICAgZGVidWdJbmZvRW5hYmxlZCA9IGVuYWJsZWQ7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIGRlYnVnSW5mb0VuYWJsZWQ7XG4gIH07XG5cbiAgdGhpcy4kZ2V0ID0gW1xuICAgICAgICAgICAgJyRpbmplY3RvcicsICckaW50ZXJwb2xhdGUnLCAnJGV4Y2VwdGlvbkhhbmRsZXInLCAnJHRlbXBsYXRlUmVxdWVzdCcsICckcGFyc2UnLFxuICAgICAgICAgICAgJyRjb250cm9sbGVyJywgJyRyb290U2NvcGUnLCAnJGRvY3VtZW50JywgJyRzY2UnLCAnJGFuaW1hdGUnLCAnJCRzYW5pdGl6ZVVyaScsXG4gICAgZnVuY3Rpb24oJGluamVjdG9yLCAgICRpbnRlcnBvbGF0ZSwgICAkZXhjZXB0aW9uSGFuZGxlciwgICAkdGVtcGxhdGVSZXF1ZXN0LCAgICRwYXJzZSxcbiAgICAgICAgICAgICAkY29udHJvbGxlciwgICAkcm9vdFNjb3BlLCAgICRkb2N1bWVudCwgICAkc2NlLCAgICRhbmltYXRlLCAgICQkc2FuaXRpemVVcmkpIHtcblxuICAgIHZhciBBdHRyaWJ1dGVzID0gZnVuY3Rpb24oZWxlbWVudCwgYXR0cmlidXRlc1RvQ29weSkge1xuICAgICAgaWYgKGF0dHJpYnV0ZXNUb0NvcHkpIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzVG9Db3B5KTtcbiAgICAgICAgdmFyIGksIGwsIGtleTtcblxuICAgICAgICBmb3IgKGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIHRoaXNba2V5XSA9IGF0dHJpYnV0ZXNUb0NvcHlba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy4kYXR0ciA9IHt9O1xuICAgICAgfVxuXG4gICAgICB0aGlzLiQkZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgfTtcblxuICAgIEF0dHJpYnV0ZXMucHJvdG90eXBlID0ge1xuICAgICAgJG5vcm1hbGl6ZTogZGlyZWN0aXZlTm9ybWFsaXplLFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJGFkZENsYXNzXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQWRkcyB0aGUgQ1NTIGNsYXNzIHZhbHVlIHNwZWNpZmllZCBieSB0aGUgY2xhc3NWYWwgcGFyYW1ldGVyIHRvIHRoZSBlbGVtZW50LiBJZiBhbmltYXRpb25zXG4gICAgICAgKiBhcmUgZW5hYmxlZCB0aGVuIGFuIGFuaW1hdGlvbiB3aWxsIGJlIHRyaWdnZXJlZCBmb3IgdGhlIGNsYXNzIGFkZGl0aW9uLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc1ZhbCBUaGUgY2xhc3NOYW1lIHZhbHVlIHRoYXQgd2lsbCBiZSBhZGRlZCB0byB0aGUgZWxlbWVudFxuICAgICAgICovXG4gICAgICAkYWRkQ2xhc3M6IGZ1bmN0aW9uKGNsYXNzVmFsKSB7XG4gICAgICAgIGlmIChjbGFzc1ZhbCAmJiBjbGFzc1ZhbC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3ModGhpcy4kJGVsZW1lbnQsIGNsYXNzVmFsKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkcmVtb3ZlQ2xhc3NcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZW1vdmVzIHRoZSBDU1MgY2xhc3MgdmFsdWUgc3BlY2lmaWVkIGJ5IHRoZSBjbGFzc1ZhbCBwYXJhbWV0ZXIgZnJvbSB0aGUgZWxlbWVudC4gSWZcbiAgICAgICAqIGFuaW1hdGlvbnMgYXJlIGVuYWJsZWQgdGhlbiBhbiBhbmltYXRpb24gd2lsbCBiZSB0cmlnZ2VyZWQgZm9yIHRoZSBjbGFzcyByZW1vdmFsLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc1ZhbCBUaGUgY2xhc3NOYW1lIHZhbHVlIHRoYXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnRcbiAgICAgICAqL1xuICAgICAgJHJlbW92ZUNsYXNzOiBmdW5jdGlvbihjbGFzc1ZhbCkge1xuICAgICAgICBpZiAoY2xhc3NWYWwgJiYgY2xhc3NWYWwubGVuZ3RoID4gMCkge1xuICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LCBjbGFzc1ZhbCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJHVwZGF0ZUNsYXNzXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQWRkcyBhbmQgcmVtb3ZlcyB0aGUgYXBwcm9wcmlhdGUgQ1NTIGNsYXNzIHZhbHVlcyB0byB0aGUgZWxlbWVudCBiYXNlZCBvbiB0aGUgZGlmZmVyZW5jZVxuICAgICAgICogYmV0d2VlbiB0aGUgbmV3IGFuZCBvbGQgQ1NTIGNsYXNzIHZhbHVlcyAoc3BlY2lmaWVkIGFzIG5ld0NsYXNzZXMgYW5kIG9sZENsYXNzZXMpLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdDbGFzc2VzIFRoZSBjdXJyZW50IENTUyBjbGFzc05hbWUgdmFsdWVcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvbGRDbGFzc2VzIFRoZSBmb3JtZXIgQ1NTIGNsYXNzTmFtZSB2YWx1ZVxuICAgICAgICovXG4gICAgICAkdXBkYXRlQ2xhc3M6IGZ1bmN0aW9uKG5ld0NsYXNzZXMsIG9sZENsYXNzZXMpIHtcbiAgICAgICAgdmFyIHRvQWRkID0gdG9rZW5EaWZmZXJlbmNlKG5ld0NsYXNzZXMsIG9sZENsYXNzZXMpO1xuICAgICAgICBpZiAodG9BZGQgJiYgdG9BZGQubGVuZ3RoKSB7XG4gICAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3ModGhpcy4kJGVsZW1lbnQsIHRvQWRkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b1JlbW92ZSA9IHRva2VuRGlmZmVyZW5jZShvbGRDbGFzc2VzLCBuZXdDbGFzc2VzKTtcbiAgICAgICAgaWYgKHRvUmVtb3ZlICYmIHRvUmVtb3ZlLmxlbmd0aCkge1xuICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LCB0b1JlbW92ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0IGEgbm9ybWFsaXplZCBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQgaW4gYSB3YXkgc3VjaCB0aGF0IGFsbCBkaXJlY3RpdmVzXG4gICAgICAgKiBjYW4gc2hhcmUgdGhlIGF0dHJpYnV0ZS4gVGhpcyBmdW5jdGlvbiBwcm9wZXJseSBoYW5kbGVzIGJvb2xlYW4gYXR0cmlidXRlcy5cbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgTm9ybWFsaXplZCBrZXkuIChpZSBuZ0F0dHJpYnV0ZSlcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW59IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuIElmIGBudWxsYCBhdHRyaWJ1dGUgd2lsbCBiZSBkZWxldGVkLlxuICAgICAgICogQHBhcmFtIHtib29sZWFuPX0gd3JpdGVBdHRyIElmIGZhbHNlLCBkb2VzIG5vdCB3cml0ZSB0aGUgdmFsdWUgdG8gRE9NIGVsZW1lbnQgYXR0cmlidXRlLlxuICAgICAgICogICAgIERlZmF1bHRzIHRvIHRydWUuXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZz19IGF0dHJOYW1lIE9wdGlvbmFsIG5vbmUgbm9ybWFsaXplZCBuYW1lLiBEZWZhdWx0cyB0byBrZXkuXG4gICAgICAgKi9cbiAgICAgICRzZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUsIHdyaXRlQXR0ciwgYXR0ck5hbWUpIHtcbiAgICAgICAgLy8gVE9ETzogZGVjaWRlIHdoZXRoZXIgb3Igbm90IHRvIHRocm93IGFuIGVycm9yIGlmIFwiY2xhc3NcIlxuICAgICAgICAvL2lzIHNldCB0aHJvdWdoIHRoaXMgZnVuY3Rpb24gc2luY2UgaXQgbWF5IGNhdXNlICR1cGRhdGVDbGFzcyB0b1xuICAgICAgICAvL2JlY29tZSB1bnN0YWJsZS5cblxuICAgICAgICB2YXIgbm9kZSA9IHRoaXMuJCRlbGVtZW50WzBdLFxuICAgICAgICAgICAgYm9vbGVhbktleSA9IGdldEJvb2xlYW5BdHRyTmFtZShub2RlLCBrZXkpLFxuICAgICAgICAgICAgYWxpYXNlZEtleSA9IGdldEFsaWFzZWRBdHRyTmFtZShub2RlLCBrZXkpLFxuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBrZXksXG4gICAgICAgICAgICBub2RlTmFtZTtcblxuICAgICAgICBpZiAoYm9vbGVhbktleSkge1xuICAgICAgICAgIHRoaXMuJCRlbGVtZW50LnByb3Aoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgYXR0ck5hbWUgPSBib29sZWFuS2V5O1xuICAgICAgICB9IGVsc2UgaWYgKGFsaWFzZWRLZXkpIHtcbiAgICAgICAgICB0aGlzW2FsaWFzZWRLZXldID0gdmFsdWU7XG4gICAgICAgICAgb2JzZXJ2ZXIgPSBhbGlhc2VkS2V5O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpc1trZXldID0gdmFsdWU7XG5cbiAgICAgICAgLy8gdHJhbnNsYXRlIG5vcm1hbGl6ZWQga2V5IHRvIGFjdHVhbCBrZXlcbiAgICAgICAgaWYgKGF0dHJOYW1lKSB7XG4gICAgICAgICAgdGhpcy4kYXR0cltrZXldID0gYXR0ck5hbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXR0ck5hbWUgPSB0aGlzLiRhdHRyW2tleV07XG4gICAgICAgICAgaWYgKCFhdHRyTmFtZSkge1xuICAgICAgICAgICAgdGhpcy4kYXR0cltrZXldID0gYXR0ck5hbWUgPSBzbmFrZV9jYXNlKGtleSwgJy0nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBub2RlTmFtZSA9IG5vZGVOYW1lXyh0aGlzLiQkZWxlbWVudCk7XG5cbiAgICAgICAgaWYgKChub2RlTmFtZSA9PT0gJ2EnICYmIGtleSA9PT0gJ2hyZWYnKSB8fFxuICAgICAgICAgICAgKG5vZGVOYW1lID09PSAnaW1nJyAmJiBrZXkgPT09ICdzcmMnKSkge1xuICAgICAgICAgIC8vIHNhbml0aXplIGFbaHJlZl0gYW5kIGltZ1tzcmNdIHZhbHVlc1xuICAgICAgICAgIHRoaXNba2V5XSA9IHZhbHVlID0gJCRzYW5pdGl6ZVVyaSh2YWx1ZSwga2V5ID09PSAnc3JjJyk7XG4gICAgICAgIH0gZWxzZSBpZiAobm9kZU5hbWUgPT09ICdpbWcnICYmIGtleSA9PT0gJ3NyY3NldCcpIHtcbiAgICAgICAgICAvLyBzYW5pdGl6ZSBpbWdbc3Jjc2V0XSB2YWx1ZXNcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gXCJcIjtcblxuICAgICAgICAgIC8vIGZpcnN0IGNoZWNrIGlmIHRoZXJlIGFyZSBzcGFjZXMgYmVjYXVzZSBpdCdzIG5vdCB0aGUgc2FtZSBwYXR0ZXJuXG4gICAgICAgICAgdmFyIHRyaW1tZWRTcmNzZXQgPSB0cmltKHZhbHVlKTtcbiAgICAgICAgICAvLyAgICAgICAgICAgICAgICAoICAgOTk5eCAgICx8ICAgOTk5dyAgICx8ICAgLHwsICAgKVxuICAgICAgICAgIHZhciBzcmNQYXR0ZXJuID0gLyhcXHMrXFxkK3hcXHMqLHxcXHMrXFxkK3dcXHMqLHxcXHMrLHwsXFxzKykvO1xuICAgICAgICAgIHZhciBwYXR0ZXJuID0gL1xccy8udGVzdCh0cmltbWVkU3Jjc2V0KSA/IHNyY1BhdHRlcm4gOiAvKCwpLztcblxuICAgICAgICAgIC8vIHNwbGl0IHNyY3NldCBpbnRvIHR1cGxlIG9mIHVyaSBhbmQgZGVzY3JpcHRvciBleGNlcHQgZm9yIHRoZSBsYXN0IGl0ZW1cbiAgICAgICAgICB2YXIgcmF3VXJpcyA9IHRyaW1tZWRTcmNzZXQuc3BsaXQocGF0dGVybik7XG5cbiAgICAgICAgICAvLyBmb3IgZWFjaCB0dXBsZXNcbiAgICAgICAgICB2YXIgbmJyVXJpc1dpdGgycGFydHMgPSBNYXRoLmZsb29yKHJhd1VyaXMubGVuZ3RoIC8gMik7XG4gICAgICAgICAgZm9yICh2YXIgaT0wOyBpPG5iclVyaXNXaXRoMnBhcnRzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpbm5lcklkeCA9IGkqMjtcbiAgICAgICAgICAgIC8vIHNhbml0aXplIHRoZSB1cmlcbiAgICAgICAgICAgIHJlc3VsdCArPSAkJHNhbml0aXplVXJpKHRyaW0ocmF3VXJpc1tpbm5lcklkeF0pLCB0cnVlKTtcbiAgICAgICAgICAgIC8vIGFkZCB0aGUgZGVzY3JpcHRvclxuICAgICAgICAgICAgcmVzdWx0ICs9IChcIiBcIiArIHRyaW0ocmF3VXJpc1tpbm5lcklkeCsxXSkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHNwbGl0IHRoZSBsYXN0IGl0ZW0gaW50byB1cmkgYW5kIGRlc2NyaXB0b3JcbiAgICAgICAgICB2YXIgbGFzdFR1cGxlID0gdHJpbShyYXdVcmlzW2kqMl0pLnNwbGl0KC9cXHMvKTtcblxuICAgICAgICAgIC8vIHNhbml0aXplIHRoZSBsYXN0IHVyaVxuICAgICAgICAgIHJlc3VsdCArPSAkJHNhbml0aXplVXJpKHRyaW0obGFzdFR1cGxlWzBdKSwgdHJ1ZSk7XG5cbiAgICAgICAgICAvLyBhbmQgYWRkIHRoZSBsYXN0IGRlc2NyaXB0b3IgaWYgYW55XG4gICAgICAgICAgaWYgKGxhc3RUdXBsZS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSAoXCIgXCIgKyB0cmltKGxhc3RUdXBsZVsxXSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZSA9IHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3cml0ZUF0dHIgIT09IGZhbHNlKSB7XG4gICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuJCRlbGVtZW50LnJlbW92ZUF0dHIoYXR0ck5hbWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiQkZWxlbWVudC5hdHRyKGF0dHJOYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmlyZSBvYnNlcnZlcnNcbiAgICAgICAgdmFyICQkb2JzZXJ2ZXJzID0gdGhpcy4kJG9ic2VydmVycztcbiAgICAgICAgJCRvYnNlcnZlcnMgJiYgZm9yRWFjaCgkJG9ic2VydmVyc1tvYnNlcnZlcl0sIGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZuKHZhbHVlKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRvYnNlcnZlXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogT2JzZXJ2ZXMgYW4gaW50ZXJwb2xhdGVkIGF0dHJpYnV0ZS5cbiAgICAgICAqXG4gICAgICAgKiBUaGUgb2JzZXJ2ZXIgZnVuY3Rpb24gd2lsbCBiZSBpbnZva2VkIG9uY2UgZHVyaW5nIHRoZSBuZXh0IGAkZGlnZXN0YCBmb2xsb3dpbmdcbiAgICAgICAqIGNvbXBpbGF0aW9uLiBUaGUgb2JzZXJ2ZXIgaXMgdGhlbiBpbnZva2VkIHdoZW5ldmVyIHRoZSBpbnRlcnBvbGF0ZWQgdmFsdWVcbiAgICAgICAqIGNoYW5nZXMuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBOb3JtYWxpemVkIGtleS4gKGllIG5nQXR0cmlidXRlKSAuXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGludGVycG9sYXRlZFZhbHVlKX0gZm4gRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlclxuICAgICAgICAgICAgICAgIHRoZSBpbnRlcnBvbGF0ZWQgdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZSBjaGFuZ2VzLlxuICAgICAgICogICAgICAgIFNlZSB0aGUge0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSN0ZXh0LWFuZC1hdHRyaWJ1dGUtYmluZGluZ3MgRGlyZWN0aXZlc30gZ3VpZGUgZm9yIG1vcmUgaW5mby5cbiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBSZXR1cm5zIGEgZGVyZWdpc3RyYXRpb24gZnVuY3Rpb24gZm9yIHRoaXMgb2JzZXJ2ZXIuXG4gICAgICAgKi9cbiAgICAgICRvYnNlcnZlOiBmdW5jdGlvbihrZXksIGZuKSB7XG4gICAgICAgIHZhciBhdHRycyA9IHRoaXMsXG4gICAgICAgICAgICAkJG9ic2VydmVycyA9IChhdHRycy4kJG9ic2VydmVycyB8fCAoYXR0cnMuJCRvYnNlcnZlcnMgPSBjcmVhdGVNYXAoKSkpLFxuICAgICAgICAgICAgbGlzdGVuZXJzID0gKCQkb2JzZXJ2ZXJzW2tleV0gfHwgKCQkb2JzZXJ2ZXJzW2tleV0gPSBbXSkpO1xuXG4gICAgICAgIGxpc3RlbmVycy5wdXNoKGZuKTtcbiAgICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICghbGlzdGVuZXJzLiQkaW50ZXIgJiYgYXR0cnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgLy8gbm8gb25lIHJlZ2lzdGVyZWQgYXR0cmlidXRlIGludGVycG9sYXRpb24gZnVuY3Rpb24sIHNvIGxldHMgY2FsbCBpdCBtYW51YWxseVxuICAgICAgICAgICAgZm4oYXR0cnNba2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgYXJyYXlSZW1vdmUobGlzdGVuZXJzLCBmbik7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuXG4gICAgZnVuY3Rpb24gc2FmZUFkZENsYXNzKCRlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgICRlbGVtZW50LmFkZENsYXNzKGNsYXNzTmFtZSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlnbm9yZSwgc2luY2UgaXQgbWVhbnMgdGhhdCB3ZSBhcmUgdHJ5aW5nIHRvIHNldCBjbGFzcyBvblxuICAgICAgICAvLyBTVkcgZWxlbWVudCwgd2hlcmUgY2xhc3MgbmFtZSBpcyByZWFkLW9ubHkuXG4gICAgICB9XG4gICAgfVxuXG5cbiAgICB2YXIgc3RhcnRTeW1ib2wgPSAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKSxcbiAgICAgICAgZW5kU3ltYm9sID0gJGludGVycG9sYXRlLmVuZFN5bWJvbCgpLFxuICAgICAgICBkZW5vcm1hbGl6ZVRlbXBsYXRlID0gKHN0YXJ0U3ltYm9sID09ICd7eycgfHwgZW5kU3ltYm9sICA9PSAnfX0nKVxuICAgICAgICAgICAgPyBpZGVudGl0eVxuICAgICAgICAgICAgOiBmdW5jdGlvbiBkZW5vcm1hbGl6ZVRlbXBsYXRlKHRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC9cXHtcXHsvZywgc3RhcnRTeW1ib2wpLnJlcGxhY2UoL319L2csIGVuZFN5bWJvbCk7XG4gICAgICAgIH0sXG4gICAgICAgIE5HX0FUVFJfQklORElORyA9IC9ebmdBdHRyW0EtWl0vO1xuXG4gICAgY29tcGlsZS4kJGFkZEJpbmRpbmdJbmZvID0gZGVidWdJbmZvRW5hYmxlZCA/IGZ1bmN0aW9uICQkYWRkQmluZGluZ0luZm8oJGVsZW1lbnQsIGJpbmRpbmcpIHtcbiAgICAgIHZhciBiaW5kaW5ncyA9ICRlbGVtZW50LmRhdGEoJyRiaW5kaW5nJykgfHwgW107XG5cbiAgICAgIGlmIChpc0FycmF5KGJpbmRpbmcpKSB7XG4gICAgICAgIGJpbmRpbmdzID0gYmluZGluZ3MuY29uY2F0KGJpbmRpbmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmluZGluZ3MucHVzaChiaW5kaW5nKTtcbiAgICAgIH1cblxuICAgICAgJGVsZW1lbnQuZGF0YSgnJGJpbmRpbmcnLCBiaW5kaW5ncyk7XG4gICAgfSA6IG5vb3A7XG5cbiAgICBjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzID0gZGVidWdJbmZvRW5hYmxlZCA/IGZ1bmN0aW9uICQkYWRkQmluZGluZ0NsYXNzKCRlbGVtZW50KSB7XG4gICAgICBzYWZlQWRkQ2xhc3MoJGVsZW1lbnQsICduZy1iaW5kaW5nJyk7XG4gICAgfSA6IG5vb3A7XG5cbiAgICBjb21waWxlLiQkYWRkU2NvcGVJbmZvID0gZGVidWdJbmZvRW5hYmxlZCA/IGZ1bmN0aW9uICQkYWRkU2NvcGVJbmZvKCRlbGVtZW50LCBzY29wZSwgaXNvbGF0ZWQsIG5vVGVtcGxhdGUpIHtcbiAgICAgIHZhciBkYXRhTmFtZSA9IGlzb2xhdGVkID8gKG5vVGVtcGxhdGUgPyAnJGlzb2xhdGVTY29wZU5vVGVtcGxhdGUnIDogJyRpc29sYXRlU2NvcGUnKSA6ICckc2NvcGUnO1xuICAgICAgJGVsZW1lbnQuZGF0YShkYXRhTmFtZSwgc2NvcGUpO1xuICAgIH0gOiBub29wO1xuXG4gICAgY29tcGlsZS4kJGFkZFNjb3BlQ2xhc3MgPSBkZWJ1Z0luZm9FbmFibGVkID8gZnVuY3Rpb24gJCRhZGRTY29wZUNsYXNzKCRlbGVtZW50LCBpc29sYXRlZCkge1xuICAgICAgc2FmZUFkZENsYXNzKCRlbGVtZW50LCBpc29sYXRlZCA/ICduZy1pc29sYXRlLXNjb3BlJyA6ICduZy1zY29wZScpO1xuICAgIH0gOiBub29wO1xuXG4gICAgcmV0dXJuIGNvbXBpbGU7XG5cbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBmdW5jdGlvbiBjb21waWxlKCRjb21waWxlTm9kZXMsIHRyYW5zY2x1ZGVGbiwgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcbiAgICAgIGlmICghKCRjb21waWxlTm9kZXMgaW5zdGFuY2VvZiBqcUxpdGUpKSB7XG4gICAgICAgIC8vIGpxdWVyeSBhbHdheXMgcmV3cmFwcywgd2hlcmVhcyB3ZSBuZWVkIHRvIHByZXNlcnZlIHRoZSBvcmlnaW5hbCBzZWxlY3RvciBzbyB0aGF0IHdlIGNhblxuICAgICAgICAvLyBtb2RpZnkgaXQuXG4gICAgICAgICRjb21waWxlTm9kZXMgPSBqcUxpdGUoJGNvbXBpbGVOb2Rlcyk7XG4gICAgICB9XG4gICAgICAvLyBXZSBjYW4gbm90IGNvbXBpbGUgdG9wIGxldmVsIHRleHQgZWxlbWVudHMgc2luY2UgdGV4dCBub2RlcyBjYW4gYmUgbWVyZ2VkIGFuZCB3ZSB3aWxsXG4gICAgICAvLyBub3QgYmUgYWJsZSB0byBhdHRhY2ggc2NvcGUgZGF0YSB0byB0aGVtLCBzbyB3ZSB3aWxsIHdyYXAgdGhlbSBpbiA8c3Bhbj5cbiAgICAgIGZvckVhY2goJGNvbXBpbGVOb2RlcywgZnVuY3Rpb24obm9kZSwgaW5kZXgpIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gTk9ERV9UWVBFX1RFWFQgJiYgbm9kZS5ub2RlVmFsdWUubWF0Y2goL1xcUysvKSAvKiBub24tZW1wdHkgKi8gKSB7XG4gICAgICAgICAgJGNvbXBpbGVOb2Rlc1tpbmRleF0gPSBqcUxpdGUobm9kZSkud3JhcCgnPHNwYW4+PC9zcGFuPicpLnBhcmVudCgpWzBdO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHZhciBjb21wb3NpdGVMaW5rRm4gPVxuICAgICAgICAgICAgICBjb21waWxlTm9kZXMoJGNvbXBpbGVOb2RlcywgdHJhbnNjbHVkZUZuLCAkY29tcGlsZU5vZGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSwgcHJldmlvdXNDb21waWxlQ29udGV4dCk7XG4gICAgICBjb21waWxlLiQkYWRkU2NvcGVDbGFzcygkY29tcGlsZU5vZGVzKTtcbiAgICAgIHZhciBuYW1lc3BhY2UgPSBudWxsO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHB1YmxpY0xpbmtGbihzY29wZSwgY2xvbmVDb25uZWN0Rm4sIHRyYW5zY2x1ZGVDb250cm9sbGVycywgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4sIGZ1dHVyZVBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgYXNzZXJ0QXJnKHNjb3BlLCAnc2NvcGUnKTtcbiAgICAgICAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICAgICAgICBuYW1lc3BhY2UgPSBkZXRlY3ROYW1lc3BhY2VGb3JDaGlsZEVsZW1lbnRzKGZ1dHVyZVBhcmVudEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciAkbGlua05vZGU7XG4gICAgICAgIGlmIChuYW1lc3BhY2UgIT09ICdodG1sJykge1xuICAgICAgICAgIC8vIFdoZW4gdXNpbmcgYSBkaXJlY3RpdmUgd2l0aCByZXBsYWNlOnRydWUgYW5kIHRlbXBsYXRlVXJsIHRoZSAkY29tcGlsZU5vZGVzXG4gICAgICAgICAgLy8gKG9yIGEgY2hpbGQgZWxlbWVudCBpbnNpZGUgb2YgdGhlbSlcbiAgICAgICAgICAvLyBtaWdodCBjaGFuZ2UsIHNvIHdlIG5lZWQgdG8gcmVjcmVhdGUgdGhlIG5hbWVzcGFjZSBhZGFwdGVkIGNvbXBpbGVOb2Rlc1xuICAgICAgICAgIC8vIGZvciBjYWxsIHRvIHRoZSBsaW5rIGZ1bmN0aW9uLlxuICAgICAgICAgIC8vIE5vdGU6IFRoaXMgd2lsbCBhbHJlYWR5IGNsb25lIHRoZSBub2Rlcy4uLlxuICAgICAgICAgICRsaW5rTm9kZSA9IGpxTGl0ZShcbiAgICAgICAgICAgIHdyYXBUZW1wbGF0ZShuYW1lc3BhY2UsIGpxTGl0ZSgnPGRpdj4nKS5hcHBlbmQoJGNvbXBpbGVOb2RlcykuaHRtbCgpKVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2xvbmVDb25uZWN0Rm4pIHtcbiAgICAgICAgICAvLyBpbXBvcnRhbnQhITogd2UgbXVzdCBjYWxsIG91ciBqcUxpdGUuY2xvbmUoKSBzaW5jZSB0aGUgalF1ZXJ5IG9uZSBpcyB0cnlpbmcgdG8gYmUgc21hcnRcbiAgICAgICAgICAvLyBhbmQgc29tZXRpbWVzIGNoYW5nZXMgdGhlIHN0cnVjdHVyZSBvZiB0aGUgRE9NLlxuICAgICAgICAgICRsaW5rTm9kZSA9IEpRTGl0ZVByb3RvdHlwZS5jbG9uZS5jYWxsKCRjb21waWxlTm9kZXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRsaW5rTm9kZSA9ICRjb21waWxlTm9kZXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhbnNjbHVkZUNvbnRyb2xsZXJzKSB7XG4gICAgICAgICAgZm9yICh2YXIgY29udHJvbGxlck5hbWUgaW4gdHJhbnNjbHVkZUNvbnRyb2xsZXJzKSB7XG4gICAgICAgICAgICAkbGlua05vZGUuZGF0YSgnJCcgKyBjb250cm9sbGVyTmFtZSArICdDb250cm9sbGVyJywgdHJhbnNjbHVkZUNvbnRyb2xsZXJzW2NvbnRyb2xsZXJOYW1lXS5pbnN0YW5jZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29tcGlsZS4kJGFkZFNjb3BlSW5mbygkbGlua05vZGUsIHNjb3BlKTtcblxuICAgICAgICBpZiAoY2xvbmVDb25uZWN0Rm4pIGNsb25lQ29ubmVjdEZuKCRsaW5rTm9kZSwgc2NvcGUpO1xuICAgICAgICBpZiAoY29tcG9zaXRlTGlua0ZuKSBjb21wb3NpdGVMaW5rRm4oc2NvcGUsICRsaW5rTm9kZSwgJGxpbmtOb2RlLCBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbik7XG4gICAgICAgIHJldHVybiAkbGlua05vZGU7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRldGVjdE5hbWVzcGFjZUZvckNoaWxkRWxlbWVudHMocGFyZW50RWxlbWVudCkge1xuICAgICAgLy8gVE9ETzogTWFrZSB0aGlzIGRldGVjdCBNYXRoTUwgYXMgd2VsbC4uLlxuICAgICAgdmFyIG5vZGUgPSBwYXJlbnRFbGVtZW50ICYmIHBhcmVudEVsZW1lbnRbMF07XG4gICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgcmV0dXJuICdodG1sJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBub2RlTmFtZV8obm9kZSkgIT09ICdmb3JlaWdub2JqZWN0JyAmJiBub2RlLnRvU3RyaW5nKCkubWF0Y2goL1NWRy8pID8gJ3N2Zyc6ICdodG1sJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21waWxlIGZ1bmN0aW9uIG1hdGNoZXMgZWFjaCBub2RlIGluIG5vZGVMaXN0IGFnYWluc3QgdGhlIGRpcmVjdGl2ZXMuIE9uY2UgYWxsIGRpcmVjdGl2ZXNcbiAgICAgKiBmb3IgYSBwYXJ0aWN1bGFyIG5vZGUgYXJlIGNvbGxlY3RlZCB0aGVpciBjb21waWxlIGZ1bmN0aW9ucyBhcmUgZXhlY3V0ZWQuIFRoZSBjb21waWxlXG4gICAgICogZnVuY3Rpb25zIHJldHVybiB2YWx1ZXMgLSB0aGUgbGlua2luZyBmdW5jdGlvbnMgLSBhcmUgY29tYmluZWQgaW50byBhIGNvbXBvc2l0ZSBsaW5raW5nXG4gICAgICogZnVuY3Rpb24sIHdoaWNoIGlzIHRoZSBhIGxpbmtpbmcgZnVuY3Rpb24gZm9yIHRoZSBub2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtOb2RlTGlzdH0gbm9kZUxpc3QgYW4gYXJyYXkgb2Ygbm9kZXMgb3IgTm9kZUxpc3QgdG8gY29tcGlsZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oYW5ndWxhci5TY29wZSwgY2xvbmVBdHRhY2hGbj0pfSB0cmFuc2NsdWRlRm4gQSBsaW5raW5nIGZ1bmN0aW9uLCB3aGVyZSB0aGVcbiAgICAgKiAgICAgICAgc2NvcGUgYXJndW1lbnQgaXMgYXV0by1nZW5lcmF0ZWQgdG8gdGhlIG5ldyBjaGlsZCBvZiB0aGUgdHJhbnNjbHVkZWQgcGFyZW50IHNjb3BlLlxuICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudD19ICRyb290RWxlbWVudCBJZiB0aGUgbm9kZUxpc3QgaXMgdGhlIHJvb3Qgb2YgdGhlIGNvbXBpbGF0aW9uIHRyZWUgdGhlblxuICAgICAqICAgICAgICB0aGUgcm9vdEVsZW1lbnQgbXVzdCBiZSBzZXQgdGhlIGpxTGl0ZSBjb2xsZWN0aW9uIG9mIHRoZSBjb21waWxlIHJvb3QuIFRoaXMgaXNcbiAgICAgKiAgICAgICAgbmVlZGVkIHNvIHRoYXQgdGhlIGpxTGl0ZSBjb2xsZWN0aW9uIGl0ZW1zIGNhbiBiZSByZXBsYWNlZCB3aXRoIHdpZGdldHMuXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBtYXhQcmlvcml0eSBNYXggZGlyZWN0aXZlIHByaW9yaXR5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBjb21wb3NpdGUgbGlua2luZyBmdW5jdGlvbiBvZiBhbGwgb2YgdGhlIG1hdGNoZWQgZGlyZWN0aXZlcyBvciBudWxsLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBpbGVOb2Rlcyhub2RlTGlzdCwgdHJhbnNjbHVkZUZuLCAkcm9vdEVsZW1lbnQsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNDb21waWxlQ29udGV4dCkge1xuICAgICAgdmFyIGxpbmtGbnMgPSBbXSxcbiAgICAgICAgICBhdHRycywgZGlyZWN0aXZlcywgbm9kZUxpbmtGbiwgY2hpbGROb2RlcywgY2hpbGRMaW5rRm4sIGxpbmtGbkZvdW5kLCBub2RlTGlua0ZuRm91bmQ7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZUxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXR0cnMgPSBuZXcgQXR0cmlidXRlcygpO1xuXG4gICAgICAgIC8vIHdlIG11c3QgYWx3YXlzIHJlZmVyIHRvIG5vZGVMaXN0W2ldIHNpbmNlIHRoZSBub2RlcyBjYW4gYmUgcmVwbGFjZWQgdW5kZXJuZWF0aCB1cy5cbiAgICAgICAgZGlyZWN0aXZlcyA9IGNvbGxlY3REaXJlY3RpdmVzKG5vZGVMaXN0W2ldLCBbXSwgYXR0cnMsIGkgPT09IDAgPyBtYXhQcmlvcml0eSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZ25vcmVEaXJlY3RpdmUpO1xuXG4gICAgICAgIG5vZGVMaW5rRm4gPSAoZGlyZWN0aXZlcy5sZW5ndGgpXG4gICAgICAgICAgICA/IGFwcGx5RGlyZWN0aXZlc1RvTm9kZShkaXJlY3RpdmVzLCBub2RlTGlzdFtpXSwgYXR0cnMsIHRyYW5zY2x1ZGVGbiwgJHJvb3RFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLCBbXSwgW10sIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpXG4gICAgICAgICAgICA6IG51bGw7XG5cbiAgICAgICAgaWYgKG5vZGVMaW5rRm4gJiYgbm9kZUxpbmtGbi5zY29wZSkge1xuICAgICAgICAgIGNvbXBpbGUuJCRhZGRTY29wZUNsYXNzKGF0dHJzLiQkZWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBjaGlsZExpbmtGbiA9IChub2RlTGlua0ZuICYmIG5vZGVMaW5rRm4udGVybWluYWwgfHxcbiAgICAgICAgICAgICAgICAgICAgICAhKGNoaWxkTm9kZXMgPSBub2RlTGlzdFtpXS5jaGlsZE5vZGVzKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICFjaGlsZE5vZGVzLmxlbmd0aClcbiAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgOiBjb21waWxlTm9kZXMoY2hpbGROb2RlcyxcbiAgICAgICAgICAgICAgICAgbm9kZUxpbmtGbiA/IChcbiAgICAgICAgICAgICAgICAgIChub2RlTGlua0ZuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50IHx8ICFub2RlTGlua0ZuLnRlbXBsYXRlT25UaGlzRWxlbWVudClcbiAgICAgICAgICAgICAgICAgICAgICYmIG5vZGVMaW5rRm4udHJhbnNjbHVkZSkgOiB0cmFuc2NsdWRlRm4pO1xuXG4gICAgICAgIGlmIChub2RlTGlua0ZuIHx8IGNoaWxkTGlua0ZuKSB7XG4gICAgICAgICAgbGlua0Zucy5wdXNoKGksIG5vZGVMaW5rRm4sIGNoaWxkTGlua0ZuKTtcbiAgICAgICAgICBsaW5rRm5Gb3VuZCA9IHRydWU7XG4gICAgICAgICAgbm9kZUxpbmtGbkZvdW5kID0gbm9kZUxpbmtGbkZvdW5kIHx8IG5vZGVMaW5rRm47XG4gICAgICAgIH1cblxuICAgICAgICAvL3VzZSB0aGUgcHJldmlvdXMgY29udGV4dCBvbmx5IGZvciB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgdmlydHVhbCBncm91cFxuICAgICAgICBwcmV2aW91c0NvbXBpbGVDb250ZXh0ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gcmV0dXJuIGEgbGlua2luZyBmdW5jdGlvbiBpZiB3ZSBoYXZlIGZvdW5kIGFueXRoaW5nLCBudWxsIG90aGVyd2lzZVxuICAgICAgcmV0dXJuIGxpbmtGbkZvdW5kID8gY29tcG9zaXRlTGlua0ZuIDogbnVsbDtcblxuICAgICAgZnVuY3Rpb24gY29tcG9zaXRlTGlua0ZuKHNjb3BlLCBub2RlTGlzdCwgJHJvb3RFbGVtZW50LCBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbikge1xuICAgICAgICB2YXIgbm9kZUxpbmtGbiwgY2hpbGRMaW5rRm4sIG5vZGUsIGNoaWxkU2NvcGUsIGksIGlpLCBpZHgsIGNoaWxkQm91bmRUcmFuc2NsdWRlRm47XG4gICAgICAgIHZhciBzdGFibGVOb2RlTGlzdDtcblxuXG4gICAgICAgIGlmIChub2RlTGlua0ZuRm91bmQpIHtcbiAgICAgICAgICAvLyBjb3B5IG5vZGVMaXN0IHNvIHRoYXQgaWYgYSBub2RlTGlua0ZuIHJlbW92ZXMgb3IgYWRkcyBhbiBlbGVtZW50IGF0IHRoaXMgRE9NIGxldmVsIG91clxuICAgICAgICAgIC8vIG9mZnNldHMgZG9uJ3QgZ2V0IHNjcmV3ZWQgdXBcbiAgICAgICAgICB2YXIgbm9kZUxpc3RMZW5ndGggPSBub2RlTGlzdC5sZW5ndGg7XG4gICAgICAgICAgc3RhYmxlTm9kZUxpc3QgPSBuZXcgQXJyYXkobm9kZUxpc3RMZW5ndGgpO1xuXG4gICAgICAgICAgLy8gY3JlYXRlIGEgc3BhcnNlIGFycmF5IGJ5IG9ubHkgY29weWluZyB0aGUgZWxlbWVudHMgd2hpY2ggaGF2ZSBhIGxpbmtGblxuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsaW5rRm5zLmxlbmd0aDsgaSs9Mykge1xuICAgICAgICAgICAgaWR4ID0gbGlua0Zuc1tpXTtcbiAgICAgICAgICAgIHN0YWJsZU5vZGVMaXN0W2lkeF0gPSBub2RlTGlzdFtpZHhdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGFibGVOb2RlTGlzdCA9IG5vZGVMaXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBsaW5rRm5zLmxlbmd0aDsgaSA8IGlpOykge1xuICAgICAgICAgIG5vZGUgPSBzdGFibGVOb2RlTGlzdFtsaW5rRm5zW2krK11dO1xuICAgICAgICAgIG5vZGVMaW5rRm4gPSBsaW5rRm5zW2krK107XG4gICAgICAgICAgY2hpbGRMaW5rRm4gPSBsaW5rRm5zW2krK107XG5cbiAgICAgICAgICBpZiAobm9kZUxpbmtGbikge1xuICAgICAgICAgICAgaWYgKG5vZGVMaW5rRm4uc2NvcGUpIHtcbiAgICAgICAgICAgICAgY2hpbGRTY29wZSA9IHNjb3BlLiRuZXcoKTtcbiAgICAgICAgICAgICAgY29tcGlsZS4kJGFkZFNjb3BlSW5mbyhqcUxpdGUobm9kZSksIGNoaWxkU2NvcGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2hpbGRTY29wZSA9IHNjb3BlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobm9kZUxpbmtGbi50cmFuc2NsdWRlT25UaGlzRWxlbWVudCkge1xuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oXG4gICAgICAgICAgICAgICAgICBzY29wZSwgbm9kZUxpbmtGbi50cmFuc2NsdWRlLCBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbixcbiAgICAgICAgICAgICAgICAgIG5vZGVMaW5rRm4uZWxlbWVudFRyYW5zY2x1ZGVPblRoaXNFbGVtZW50KTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmICghbm9kZUxpbmtGbi50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQgJiYgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4pIHtcbiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbiAmJiB0cmFuc2NsdWRlRm4pIHtcbiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCB0cmFuc2NsdWRlRm4pO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbm9kZUxpbmtGbihjaGlsZExpbmtGbiwgY2hpbGRTY29wZSwgbm9kZSwgJHJvb3RFbGVtZW50LCBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuKTtcblxuICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGRMaW5rRm4pIHtcbiAgICAgICAgICAgIGNoaWxkTGlua0ZuKHNjb3BlLCBub2RlLmNoaWxkTm9kZXMsIHVuZGVmaW5lZCwgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCB0cmFuc2NsdWRlRm4sIHByZXZpb3VzQm91bmRUcmFuc2NsdWRlRm4sIGVsZW1lbnRUcmFuc2NsdXNpb24pIHtcblxuICAgICAgdmFyIGJvdW5kVHJhbnNjbHVkZUZuID0gZnVuY3Rpb24odHJhbnNjbHVkZWRTY29wZSwgY2xvbmVGbiwgY29udHJvbGxlcnMsIGZ1dHVyZVBhcmVudEVsZW1lbnQsIGNvbnRhaW5pbmdTY29wZSkge1xuXG4gICAgICAgIGlmICghdHJhbnNjbHVkZWRTY29wZSkge1xuICAgICAgICAgIHRyYW5zY2x1ZGVkU2NvcGUgPSBzY29wZS4kbmV3KGZhbHNlLCBjb250YWluaW5nU2NvcGUpO1xuICAgICAgICAgIHRyYW5zY2x1ZGVkU2NvcGUuJCR0cmFuc2NsdWRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJhbnNjbHVkZUZuKHRyYW5zY2x1ZGVkU2NvcGUsIGNsb25lRm4sIGNvbnRyb2xsZXJzLCBwcmV2aW91c0JvdW5kVHJhbnNjbHVkZUZuLCBmdXR1cmVQYXJlbnRFbGVtZW50KTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBib3VuZFRyYW5zY2x1ZGVGbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb29rcyBmb3IgZGlyZWN0aXZlcyBvbiB0aGUgZ2l2ZW4gbm9kZSBhbmQgYWRkcyB0aGVtIHRvIHRoZSBkaXJlY3RpdmUgY29sbGVjdGlvbiB3aGljaCBpc1xuICAgICAqIHNvcnRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBub2RlIE5vZGUgdG8gc2VhcmNoLlxuICAgICAqIEBwYXJhbSBkaXJlY3RpdmVzIEFuIGFycmF5IHRvIHdoaWNoIHRoZSBkaXJlY3RpdmVzIGFyZSBhZGRlZCB0by4gVGhpcyBhcnJheSBpcyBzb3J0ZWQgYmVmb3JlXG4gICAgICogICAgICAgIHRoZSBmdW5jdGlvbiByZXR1cm5zLlxuICAgICAqIEBwYXJhbSBhdHRycyBUaGUgc2hhcmVkIGF0dHJzIG9iamVjdCB3aGljaCBpcyB1c2VkIHRvIHBvcHVsYXRlIHRoZSBub3JtYWxpemVkIGF0dHJpYnV0ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBtYXhQcmlvcml0eSBNYXggZGlyZWN0aXZlIHByaW9yaXR5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbGxlY3REaXJlY3RpdmVzKG5vZGUsIGRpcmVjdGl2ZXMsIGF0dHJzLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlKSB7XG4gICAgICB2YXIgbm9kZVR5cGUgPSBub2RlLm5vZGVUeXBlLFxuICAgICAgICAgIGF0dHJzTWFwID0gYXR0cnMuJGF0dHIsXG4gICAgICAgICAgbWF0Y2gsXG4gICAgICAgICAgY2xhc3NOYW1lO1xuXG4gICAgICBzd2l0Y2ggKG5vZGVUeXBlKSB7XG4gICAgICAgIGNhc2UgTk9ERV9UWVBFX0VMRU1FTlQ6IC8qIEVsZW1lbnQgKi9cbiAgICAgICAgICAvLyB1c2UgdGhlIG5vZGUgbmFtZTogPGRpcmVjdGl2ZT5cbiAgICAgICAgICBhZGREaXJlY3RpdmUoZGlyZWN0aXZlcyxcbiAgICAgICAgICAgICAgZGlyZWN0aXZlTm9ybWFsaXplKG5vZGVOYW1lXyhub2RlKSksICdFJywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSk7XG5cbiAgICAgICAgICAvLyBpdGVyYXRlIG92ZXIgdGhlIGF0dHJpYnV0ZXNcbiAgICAgICAgICBmb3IgKHZhciBhdHRyLCBuYW1lLCBuTmFtZSwgbmdBdHRyTmFtZSwgdmFsdWUsIGlzTmdBdHRyLCBuQXR0cnMgPSBub2RlLmF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgaiA9IDAsIGpqID0gbkF0dHJzICYmIG5BdHRycy5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgICAgICB2YXIgYXR0clN0YXJ0TmFtZSA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGF0dHJFbmROYW1lID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGF0dHIgPSBuQXR0cnNbal07XG4gICAgICAgICAgICBuYW1lID0gYXR0ci5uYW1lO1xuICAgICAgICAgICAgdmFsdWUgPSB0cmltKGF0dHIudmFsdWUpO1xuXG4gICAgICAgICAgICAvLyBzdXBwb3J0IG5nQXR0ciBhdHRyaWJ1dGUgYmluZGluZ1xuICAgICAgICAgICAgbmdBdHRyTmFtZSA9IGRpcmVjdGl2ZU5vcm1hbGl6ZShuYW1lKTtcbiAgICAgICAgICAgIGlmIChpc05nQXR0ciA9IE5HX0FUVFJfQklORElORy50ZXN0KG5nQXR0ck5hbWUpKSB7XG4gICAgICAgICAgICAgIG5hbWUgPSBzbmFrZV9jYXNlKG5nQXR0ck5hbWUuc3Vic3RyKDYpLCAnLScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlTk5hbWUgPSBuZ0F0dHJOYW1lLnJlcGxhY2UoLyhTdGFydHxFbmQpJC8sICcnKTtcbiAgICAgICAgICAgIGlmIChkaXJlY3RpdmVJc011bHRpRWxlbWVudChkaXJlY3RpdmVOTmFtZSkpIHtcbiAgICAgICAgICAgICAgaWYgKG5nQXR0ck5hbWUgPT09IGRpcmVjdGl2ZU5OYW1lICsgJ1N0YXJ0Jykge1xuICAgICAgICAgICAgICAgIGF0dHJTdGFydE5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgICAgIGF0dHJFbmROYW1lID0gbmFtZS5zdWJzdHIoMCwgbmFtZS5sZW5ndGggLSA1KSArICdlbmQnO1xuICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cigwLCBuYW1lLmxlbmd0aCAtIDYpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5OYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKG5hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICBhdHRyc01hcFtuTmFtZV0gPSBuYW1lO1xuICAgICAgICAgICAgaWYgKGlzTmdBdHRyIHx8ICFhdHRycy5oYXNPd25Qcm9wZXJ0eShuTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBhdHRyc1tuTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoZ2V0Qm9vbGVhbkF0dHJOYW1lKG5vZGUsIG5OYW1lKSkge1xuICAgICAgICAgICAgICAgICAgYXR0cnNbbk5hbWVdID0gdHJ1ZTsgLy8gcHJlc2VuY2UgbWVhbnMgdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZEF0dHJJbnRlcnBvbGF0ZURpcmVjdGl2ZShub2RlLCBkaXJlY3RpdmVzLCB2YWx1ZSwgbk5hbWUsIGlzTmdBdHRyKTtcbiAgICAgICAgICAgIGFkZERpcmVjdGl2ZShkaXJlY3RpdmVzLCBuTmFtZSwgJ0EnLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLCBhdHRyU3RhcnROYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyRW5kTmFtZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gdXNlIGNsYXNzIGFzIGRpcmVjdGl2ZVxuICAgICAgICAgIGNsYXNzTmFtZSA9IG5vZGUuY2xhc3NOYW1lO1xuICAgICAgICAgIGlmIChpc1N0cmluZyhjbGFzc05hbWUpICYmIGNsYXNzTmFtZSAhPT0gJycpIHtcbiAgICAgICAgICAgIHdoaWxlIChtYXRjaCA9IENMQVNTX0RJUkVDVElWRV9SRUdFWFAuZXhlYyhjbGFzc05hbWUpKSB7XG4gICAgICAgICAgICAgIG5OYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKG1hdGNoWzJdKTtcbiAgICAgICAgICAgICAgaWYgKGFkZERpcmVjdGl2ZShkaXJlY3RpdmVzLCBuTmFtZSwgJ0MnLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlKSkge1xuICAgICAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHRyaW0obWF0Y2hbM10pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZS5zdWJzdHIobWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBOT0RFX1RZUEVfVEVYVDogLyogVGV4dCBOb2RlICovXG4gICAgICAgICAgYWRkVGV4dEludGVycG9sYXRlRGlyZWN0aXZlKGRpcmVjdGl2ZXMsIG5vZGUubm9kZVZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBOT0RFX1RZUEVfQ09NTUVOVDogLyogQ29tbWVudCAqL1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBtYXRjaCA9IENPTU1FTlRfRElSRUNUSVZFX1JFR0VYUC5leGVjKG5vZGUubm9kZVZhbHVlKTtcbiAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICBuTmFtZSA9IGRpcmVjdGl2ZU5vcm1hbGl6ZShtYXRjaFsxXSk7XG4gICAgICAgICAgICAgIGlmIChhZGREaXJlY3RpdmUoZGlyZWN0aXZlcywgbk5hbWUsICdNJywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSkpIHtcbiAgICAgICAgICAgICAgICBhdHRyc1tuTmFtZV0gPSB0cmltKG1hdGNoWzJdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIHR1cm5zIG91dCB0aGF0IHVuZGVyIHNvbWUgY2lyY3Vtc3RhbmNlcyBJRTkgdGhyb3dzIGVycm9ycyB3aGVuIG9uZSBhdHRlbXB0cyB0byByZWFkXG4gICAgICAgICAgICAvLyBjb21tZW50J3Mgbm9kZSB2YWx1ZS5cbiAgICAgICAgICAgIC8vIEp1c3QgaWdub3JlIGl0IGFuZCBjb250aW51ZS4gKENhbid0IHNlZW0gdG8gcmVwcm9kdWNlIGluIHRlc3QgY2FzZS4pXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBkaXJlY3RpdmVzLnNvcnQoYnlQcmlvcml0eSk7XG4gICAgICByZXR1cm4gZGlyZWN0aXZlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIG5vZGUgd2l0aCBhbiBkaXJlY3RpdmUtc3RhcnQgaXQgY29sbGVjdHMgYWxsIG9mIHRoZSBzaWJsaW5ncyB1bnRpbCBpdCBmaW5kc1xuICAgICAqIGRpcmVjdGl2ZS1lbmQuXG4gICAgICogQHBhcmFtIG5vZGVcbiAgICAgKiBAcGFyYW0gYXR0clN0YXJ0XG4gICAgICogQHBhcmFtIGF0dHJFbmRcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBncm91cFNjYW4obm9kZSwgYXR0clN0YXJ0LCBhdHRyRW5kKSB7XG4gICAgICB2YXIgbm9kZXMgPSBbXTtcbiAgICAgIHZhciBkZXB0aCA9IDA7XG4gICAgICBpZiAoYXR0clN0YXJ0ICYmIG5vZGUuaGFzQXR0cmlidXRlICYmIG5vZGUuaGFzQXR0cmlidXRlKGF0dHJTdGFydCkpIHtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ3V0ZXJkaXInLFxuICAgICAgICAgICAgICAgICAgICAgIFwiVW50ZXJtaW5hdGVkIGF0dHJpYnV0ZSwgZm91bmQgJ3swfScgYnV0IG5vIG1hdGNoaW5nICd7MX0nIGZvdW5kLlwiLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IE5PREVfVFlQRV9FTEVNRU5UKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5oYXNBdHRyaWJ1dGUoYXR0clN0YXJ0KSkgZGVwdGgrKztcbiAgICAgICAgICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZShhdHRyRW5kKSkgZGVwdGgtLTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbm9kZXMucHVzaChub2RlKTtcbiAgICAgICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgICAgfSB3aGlsZSAoZGVwdGggPiAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGVzLnB1c2gobm9kZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBqcUxpdGUobm9kZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdyYXBwZXIgZm9yIGxpbmtpbmcgZnVuY3Rpb24gd2hpY2ggY29udmVydHMgbm9ybWFsIGxpbmtpbmcgZnVuY3Rpb24gaW50byBhIGdyb3VwZWRcbiAgICAgKiBsaW5raW5nIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSBsaW5rRm5cbiAgICAgKiBAcGFyYW0gYXR0clN0YXJ0XG4gICAgICogQHBhcmFtIGF0dHJFbmRcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ3JvdXBFbGVtZW50c0xpbmtGbldyYXBwZXIobGlua0ZuLCBhdHRyU3RhcnQsIGF0dHJFbmQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGNvbnRyb2xsZXJzLCB0cmFuc2NsdWRlRm4pIHtcbiAgICAgICAgZWxlbWVudCA9IGdyb3VwU2NhbihlbGVtZW50WzBdLCBhdHRyU3RhcnQsIGF0dHJFbmQpO1xuICAgICAgICByZXR1cm4gbGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY29udHJvbGxlcnMsIHRyYW5zY2x1ZGVGbik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9uY2UgdGhlIGRpcmVjdGl2ZXMgaGF2ZSBiZWVuIGNvbGxlY3RlZCwgdGhlaXIgY29tcGlsZSBmdW5jdGlvbnMgYXJlIGV4ZWN1dGVkLiBUaGlzIG1ldGhvZFxuICAgICAqIGlzIHJlc3BvbnNpYmxlIGZvciBpbmxpbmluZyBkaXJlY3RpdmUgdGVtcGxhdGVzIGFzIHdlbGwgYXMgdGVybWluYXRpbmcgdGhlIGFwcGxpY2F0aW9uXG4gICAgICogb2YgdGhlIGRpcmVjdGl2ZXMgaWYgdGhlIHRlcm1pbmFsIGRpcmVjdGl2ZSBoYXMgYmVlbiByZWFjaGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheX0gZGlyZWN0aXZlcyBBcnJheSBvZiBjb2xsZWN0ZWQgZGlyZWN0aXZlcyB0byBleGVjdXRlIHRoZWlyIGNvbXBpbGUgZnVuY3Rpb24uXG4gICAgICogICAgICAgIHRoaXMgbmVlZHMgdG8gYmUgcHJlLXNvcnRlZCBieSBwcmlvcml0eSBvcmRlci5cbiAgICAgKiBAcGFyYW0ge05vZGV9IGNvbXBpbGVOb2RlIFRoZSByYXcgRE9NIG5vZGUgdG8gYXBwbHkgdGhlIGNvbXBpbGUgZnVuY3Rpb25zIHRvXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHRlbXBsYXRlQXR0cnMgVGhlIHNoYXJlZCBhdHRyaWJ1dGUgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGFuZ3VsYXIuU2NvcGUsIGNsb25lQXR0YWNoRm49KX0gdHJhbnNjbHVkZUZuIEEgbGlua2luZyBmdW5jdGlvbiwgd2hlcmUgdGhlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlIGFyZ3VtZW50IGlzIGF1dG8tZ2VuZXJhdGVkIHRvIHRoZSBuZXdcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQgb2YgdGhlIHRyYW5zY2x1ZGVkIHBhcmVudCBzY29wZS5cbiAgICAgKiBAcGFyYW0ge0pRTGl0ZX0ganFDb2xsZWN0aW9uIElmIHdlIGFyZSB3b3JraW5nIG9uIHRoZSByb290IG9mIHRoZSBjb21waWxlIHRyZWUgdGhlbiB0aGlzXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudCBoYXMgdGhlIHJvb3QganFMaXRlIGFycmF5IHNvIHRoYXQgd2UgY2FuIHJlcGxhY2Ugbm9kZXNcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uIGl0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gb3JpZ2luYWxSZXBsYWNlRGlyZWN0aXZlIEFuIG9wdGlvbmFsIGRpcmVjdGl2ZSB0aGF0IHdpbGwgYmUgaWdub3JlZCB3aGVuXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGlsaW5nIHRoZSB0cmFuc2NsdXNpb24uXG4gICAgICogQHBhcmFtIHtBcnJheS48RnVuY3Rpb24+fSBwcmVMaW5rRm5zXG4gICAgICogQHBhcmFtIHtBcnJheS48RnVuY3Rpb24+fSBwb3N0TGlua0Zuc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcmV2aW91c0NvbXBpbGVDb250ZXh0IENvbnRleHQgdXNlZCBmb3IgcHJldmlvdXMgY29tcGlsYXRpb24gb2YgdGhlIGN1cnJlbnRcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBsaW5rRm5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcHBseURpcmVjdGl2ZXNUb05vZGUoZGlyZWN0aXZlcywgY29tcGlsZU5vZGUsIHRlbXBsYXRlQXR0cnMsIHRyYW5zY2x1ZGVGbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganFDb2xsZWN0aW9uLCBvcmlnaW5hbFJlcGxhY2VEaXJlY3RpdmUsIHByZUxpbmtGbnMsIHBvc3RMaW5rRm5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0NvbXBpbGVDb250ZXh0KSB7XG4gICAgICBwcmV2aW91c0NvbXBpbGVDb250ZXh0ID0gcHJldmlvdXNDb21waWxlQ29udGV4dCB8fCB7fTtcblxuICAgICAgdmFyIHRlcm1pbmFsUHJpb3JpdHkgPSAtTnVtYmVyLk1BWF9WQUxVRSxcbiAgICAgICAgICBuZXdTY29wZURpcmVjdGl2ZSxcbiAgICAgICAgICBjb250cm9sbGVyRGlyZWN0aXZlcyA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQuY29udHJvbGxlckRpcmVjdGl2ZXMsXG4gICAgICAgICAgY29udHJvbGxlcnMsXG4gICAgICAgICAgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlID0gcHJldmlvdXNDb21waWxlQ29udGV4dC5uZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsXG4gICAgICAgICAgdGVtcGxhdGVEaXJlY3RpdmUgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0LnRlbXBsYXRlRGlyZWN0aXZlLFxuICAgICAgICAgIG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lm5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUsXG4gICAgICAgICAgaGFzVHJhbnNjbHVkZURpcmVjdGl2ZSA9IGZhbHNlLFxuICAgICAgICAgIGhhc1RlbXBsYXRlID0gZmFsc2UsXG4gICAgICAgICAgaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlLFxuICAgICAgICAgICRjb21waWxlTm9kZSA9IHRlbXBsYXRlQXR0cnMuJCRlbGVtZW50ID0ganFMaXRlKGNvbXBpbGVOb2RlKSxcbiAgICAgICAgICBkaXJlY3RpdmUsXG4gICAgICAgICAgZGlyZWN0aXZlTmFtZSxcbiAgICAgICAgICAkdGVtcGxhdGUsXG4gICAgICAgICAgcmVwbGFjZURpcmVjdGl2ZSA9IG9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSxcbiAgICAgICAgICBjaGlsZFRyYW5zY2x1ZGVGbiA9IHRyYW5zY2x1ZGVGbixcbiAgICAgICAgICBsaW5rRm4sXG4gICAgICAgICAgZGlyZWN0aXZlVmFsdWU7XG5cbiAgICAgIC8vIGV4ZWN1dGVzIGFsbCBkaXJlY3RpdmVzIG9uIHRoZSBjdXJyZW50IGVsZW1lbnRcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGRpcmVjdGl2ZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICBkaXJlY3RpdmUgPSBkaXJlY3RpdmVzW2ldO1xuICAgICAgICB2YXIgYXR0clN0YXJ0ID0gZGlyZWN0aXZlLiQkc3RhcnQ7XG4gICAgICAgIHZhciBhdHRyRW5kID0gZGlyZWN0aXZlLiQkZW5kO1xuXG4gICAgICAgIC8vIGNvbGxlY3QgbXVsdGlibG9jayBzZWN0aW9uc1xuICAgICAgICBpZiAoYXR0clN0YXJ0KSB7XG4gICAgICAgICAgJGNvbXBpbGVOb2RlID0gZ3JvdXBTY2FuKGNvbXBpbGVOb2RlLCBhdHRyU3RhcnQsIGF0dHJFbmQpO1xuICAgICAgICB9XG4gICAgICAgICR0ZW1wbGF0ZSA9IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAodGVybWluYWxQcmlvcml0eSA+IGRpcmVjdGl2ZS5wcmlvcml0eSkge1xuICAgICAgICAgIGJyZWFrOyAvLyBwcmV2ZW50IGZ1cnRoZXIgcHJvY2Vzc2luZyBvZiBkaXJlY3RpdmVzXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlyZWN0aXZlVmFsdWUgPSBkaXJlY3RpdmUuc2NvcGUpIHtcblxuICAgICAgICAgIC8vIHNraXAgdGhlIGNoZWNrIGZvciBkaXJlY3RpdmVzIHdpdGggYXN5bmMgdGVtcGxhdGVzLCB3ZSdsbCBjaGVjayB0aGUgZGVyaXZlZCBzeW5jXG4gICAgICAgICAgLy8gZGlyZWN0aXZlIHdoZW4gdGhlIHRlbXBsYXRlIGFycml2ZXNcbiAgICAgICAgICBpZiAoIWRpcmVjdGl2ZS50ZW1wbGF0ZVVybCkge1xuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KGRpcmVjdGl2ZVZhbHVlKSkge1xuICAgICAgICAgICAgICAvLyBUaGlzIGRpcmVjdGl2ZSBpcyB0cnlpbmcgdG8gYWRkIGFuIGlzb2xhdGVkIHNjb3BlLlxuICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHRoZXJlIGlzIG5vIHNjb3BlIG9mIGFueSBraW5kIGFscmVhZHlcbiAgICAgICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoJ25ldy9pc29sYXRlZCBzY29wZScsIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSB8fCBuZXdTY29wZURpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlLCAkY29tcGlsZU5vZGUpO1xuICAgICAgICAgICAgICBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBUaGlzIGRpcmVjdGl2ZSBpcyB0cnlpbmcgdG8gYWRkIGEgY2hpbGQgc2NvcGUuXG4gICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgdGhlcmUgaXMgbm8gaXNvbGF0ZWQgc2NvcGUgYWxyZWFkeVxuICAgICAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZSgnbmV3L2lzb2xhdGVkIHNjb3BlJywgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLCBkaXJlY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb21waWxlTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV3U2NvcGVEaXJlY3RpdmUgPSBuZXdTY29wZURpcmVjdGl2ZSB8fCBkaXJlY3RpdmU7XG4gICAgICAgIH1cblxuICAgICAgICBkaXJlY3RpdmVOYW1lID0gZGlyZWN0aXZlLm5hbWU7XG5cbiAgICAgICAgaWYgKCFkaXJlY3RpdmUudGVtcGxhdGVVcmwgJiYgZGlyZWN0aXZlLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICBkaXJlY3RpdmVWYWx1ZSA9IGRpcmVjdGl2ZS5jb250cm9sbGVyO1xuICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzID0gY29udHJvbGxlckRpcmVjdGl2ZXMgfHwge307XG4gICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoXCInXCIgKyBkaXJlY3RpdmVOYW1lICsgXCInIGNvbnRyb2xsZXJcIixcbiAgICAgICAgICAgICAgY29udHJvbGxlckRpcmVjdGl2ZXNbZGlyZWN0aXZlTmFtZV0sIGRpcmVjdGl2ZSwgJGNvbXBpbGVOb2RlKTtcbiAgICAgICAgICBjb250cm9sbGVyRGlyZWN0aXZlc1tkaXJlY3RpdmVOYW1lXSA9IGRpcmVjdGl2ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJlY3RpdmVWYWx1ZSA9IGRpcmVjdGl2ZS50cmFuc2NsdWRlKSB7XG4gICAgICAgICAgaGFzVHJhbnNjbHVkZURpcmVjdGl2ZSA9IHRydWU7XG5cbiAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UgbmdJZiBhbmQgbmdSZXBlYXQgc28gdGhhdCB3ZSBkb24ndCBjb21wbGFpbiBhYm91dCBkdXBsaWNhdGUgdHJhbnNjbHVzaW9uLlxuICAgICAgICAgIC8vIFRoaXMgb3B0aW9uIHNob3VsZCBvbmx5IGJlIHVzZWQgYnkgZGlyZWN0aXZlcyB0aGF0IGtub3cgaG93IHRvIHNhZmVseSBoYW5kbGUgZWxlbWVudCB0cmFuc2NsdXNpb24sXG4gICAgICAgICAgLy8gd2hlcmUgdGhlIHRyYW5zY2x1ZGVkIG5vZGVzIGFyZSBhZGRlZCBvciByZXBsYWNlZCBhZnRlciBsaW5raW5nLlxuICAgICAgICAgIGlmICghZGlyZWN0aXZlLiQkdGxiKSB7XG4gICAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZSgndHJhbnNjbHVzaW9uJywgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSwgZGlyZWN0aXZlLCAkY29tcGlsZU5vZGUpO1xuICAgICAgICAgICAgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZGlyZWN0aXZlVmFsdWUgPT0gJ2VsZW1lbnQnKSB7XG4gICAgICAgICAgICBoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB0ZXJtaW5hbFByaW9yaXR5ID0gZGlyZWN0aXZlLnByaW9yaXR5O1xuICAgICAgICAgICAgJHRlbXBsYXRlID0gJGNvbXBpbGVOb2RlO1xuICAgICAgICAgICAgJGNvbXBpbGVOb2RlID0gdGVtcGxhdGVBdHRycy4kJGVsZW1lbnQgPVxuICAgICAgICAgICAgICAgIGpxTGl0ZShkb2N1bWVudC5jcmVhdGVDb21tZW50KCcgJyArIGRpcmVjdGl2ZU5hbWUgKyAnOiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZUF0dHJzW2RpcmVjdGl2ZU5hbWVdICsgJyAnKSk7XG4gICAgICAgICAgICBjb21waWxlTm9kZSA9ICRjb21waWxlTm9kZVswXTtcbiAgICAgICAgICAgIHJlcGxhY2VXaXRoKGpxQ29sbGVjdGlvbiwgc2xpY2VBcmdzKCR0ZW1wbGF0ZSksIGNvbXBpbGVOb2RlKTtcblxuICAgICAgICAgICAgY2hpbGRUcmFuc2NsdWRlRm4gPSBjb21waWxlKCR0ZW1wbGF0ZSwgdHJhbnNjbHVkZUZuLCB0ZXJtaW5hbFByaW9yaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VEaXJlY3RpdmUgJiYgcmVwbGFjZURpcmVjdGl2ZS5uYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBwYXNzIGluOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLSBjb250cm9sbGVyRGlyZWN0aXZlcyAtIG90aGVyd2lzZSB3ZSdsbCBjcmVhdGUgZHVwbGljYXRlcyBjb250cm9sbGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLSBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgb3IgdGVtcGxhdGVEaXJlY3RpdmUgLSBjb21iaW5pbmcgdGVtcGxhdGVzIHdpdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgZWxlbWVudCB0cmFuc2NsdXNpb24gZG9lc24ndCBtYWtlIHNlbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgb25seSBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlIHNvIHRoYXQgd2UgcHJldmVudCBwdXR0aW5nIHRyYW5zY2x1c2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24gdGhlIHNhbWUgZWxlbWVudCBtb3JlIHRoYW4gb25jZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmU6IG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHRlbXBsYXRlID0ganFMaXRlKGpxTGl0ZUNsb25lKGNvbXBpbGVOb2RlKSkuY29udGVudHMoKTtcbiAgICAgICAgICAgICRjb21waWxlTm9kZS5lbXB0eSgpOyAvLyBjbGVhciBjb250ZW50c1xuICAgICAgICAgICAgY2hpbGRUcmFuc2NsdWRlRm4gPSBjb21waWxlKCR0ZW1wbGF0ZSwgdHJhbnNjbHVkZUZuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlyZWN0aXZlLnRlbXBsYXRlKSB7XG4gICAgICAgICAgaGFzVGVtcGxhdGUgPSB0cnVlO1xuICAgICAgICAgIGFzc2VydE5vRHVwbGljYXRlKCd0ZW1wbGF0ZScsIHRlbXBsYXRlRGlyZWN0aXZlLCBkaXJlY3RpdmUsICRjb21waWxlTm9kZSk7XG4gICAgICAgICAgdGVtcGxhdGVEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XG5cbiAgICAgICAgICBkaXJlY3RpdmVWYWx1ZSA9IChpc0Z1bmN0aW9uKGRpcmVjdGl2ZS50ZW1wbGF0ZSkpXG4gICAgICAgICAgICAgID8gZGlyZWN0aXZlLnRlbXBsYXRlKCRjb21waWxlTm9kZSwgdGVtcGxhdGVBdHRycylcbiAgICAgICAgICAgICAgOiBkaXJlY3RpdmUudGVtcGxhdGU7XG5cbiAgICAgICAgICBkaXJlY3RpdmVWYWx1ZSA9IGRlbm9ybWFsaXplVGVtcGxhdGUoZGlyZWN0aXZlVmFsdWUpO1xuXG4gICAgICAgICAgaWYgKGRpcmVjdGl2ZS5yZXBsYWNlKSB7XG4gICAgICAgICAgICByZXBsYWNlRGlyZWN0aXZlID0gZGlyZWN0aXZlO1xuICAgICAgICAgICAgaWYgKGpxTGl0ZUlzVGV4dE5vZGUoZGlyZWN0aXZlVmFsdWUpKSB7XG4gICAgICAgICAgICAgICR0ZW1wbGF0ZSA9IFtdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgJHRlbXBsYXRlID0gcmVtb3ZlQ29tbWVudHMod3JhcFRlbXBsYXRlKGRpcmVjdGl2ZS50ZW1wbGF0ZU5hbWVzcGFjZSwgdHJpbShkaXJlY3RpdmVWYWx1ZSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXBpbGVOb2RlID0gJHRlbXBsYXRlWzBdO1xuXG4gICAgICAgICAgICBpZiAoJHRlbXBsYXRlLmxlbmd0aCAhPSAxIHx8IGNvbXBpbGVOb2RlLm5vZGVUeXBlICE9PSBOT0RFX1RZUEVfRUxFTUVOVCkge1xuICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycigndHBscnQnLFxuICAgICAgICAgICAgICAgICAgXCJUZW1wbGF0ZSBmb3IgZGlyZWN0aXZlICd7MH0nIG11c3QgaGF2ZSBleGFjdGx5IG9uZSByb290IGVsZW1lbnQuIHsxfVwiLFxuICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlTmFtZSwgJycpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXBsYWNlV2l0aChqcUNvbGxlY3Rpb24sICRjb21waWxlTm9kZSwgY29tcGlsZU5vZGUpO1xuXG4gICAgICAgICAgICB2YXIgbmV3VGVtcGxhdGVBdHRycyA9IHskYXR0cjoge319O1xuXG4gICAgICAgICAgICAvLyBjb21iaW5lIGRpcmVjdGl2ZXMgZnJvbSB0aGUgb3JpZ2luYWwgbm9kZSBhbmQgZnJvbSB0aGUgdGVtcGxhdGU6XG4gICAgICAgICAgICAvLyAtIHRha2UgdGhlIGFycmF5IG9mIGRpcmVjdGl2ZXMgZm9yIHRoaXMgZWxlbWVudFxuICAgICAgICAgICAgLy8gLSBzcGxpdCBpdCBpbnRvIHR3byBwYXJ0cywgdGhvc2UgdGhhdCBhbHJlYWR5IGFwcGxpZWQgKHByb2Nlc3NlZCkgYW5kIHRob3NlIHRoYXQgd2VyZW4ndCAodW5wcm9jZXNzZWQpXG4gICAgICAgICAgICAvLyAtIGNvbGxlY3QgZGlyZWN0aXZlcyBmcm9tIHRoZSB0ZW1wbGF0ZSBhbmQgc29ydCB0aGVtIGJ5IHByaW9yaXR5XG4gICAgICAgICAgICAvLyAtIGNvbWJpbmUgZGlyZWN0aXZlcyBhczogcHJvY2Vzc2VkICsgdGVtcGxhdGUgKyB1bnByb2Nlc3NlZFxuICAgICAgICAgICAgdmFyIHRlbXBsYXRlRGlyZWN0aXZlcyA9IGNvbGxlY3REaXJlY3RpdmVzKGNvbXBpbGVOb2RlLCBbXSwgbmV3VGVtcGxhdGVBdHRycyk7XG4gICAgICAgICAgICB2YXIgdW5wcm9jZXNzZWREaXJlY3RpdmVzID0gZGlyZWN0aXZlcy5zcGxpY2UoaSArIDEsIGRpcmVjdGl2ZXMubGVuZ3RoIC0gKGkgKyAxKSk7XG5cbiAgICAgICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUpIHtcbiAgICAgICAgICAgICAgbWFya0RpcmVjdGl2ZXNBc0lzb2xhdGUodGVtcGxhdGVEaXJlY3RpdmVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpcmVjdGl2ZXMgPSBkaXJlY3RpdmVzLmNvbmNhdCh0ZW1wbGF0ZURpcmVjdGl2ZXMpLmNvbmNhdCh1bnByb2Nlc3NlZERpcmVjdGl2ZXMpO1xuICAgICAgICAgICAgbWVyZ2VUZW1wbGF0ZUF0dHJpYnV0ZXModGVtcGxhdGVBdHRycywgbmV3VGVtcGxhdGVBdHRycyk7XG5cbiAgICAgICAgICAgIGlpID0gZGlyZWN0aXZlcy5sZW5ndGg7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRjb21waWxlTm9kZS5odG1sKGRpcmVjdGl2ZVZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlyZWN0aXZlLnRlbXBsYXRlVXJsKSB7XG4gICAgICAgICAgaGFzVGVtcGxhdGUgPSB0cnVlO1xuICAgICAgICAgIGFzc2VydE5vRHVwbGljYXRlKCd0ZW1wbGF0ZScsIHRlbXBsYXRlRGlyZWN0aXZlLCBkaXJlY3RpdmUsICRjb21waWxlTm9kZSk7XG4gICAgICAgICAgdGVtcGxhdGVEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XG5cbiAgICAgICAgICBpZiAoZGlyZWN0aXZlLnJlcGxhY2UpIHtcbiAgICAgICAgICAgIHJlcGxhY2VEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbm9kZUxpbmtGbiA9IGNvbXBpbGVUZW1wbGF0ZVVybChkaXJlY3RpdmVzLnNwbGljZShpLCBkaXJlY3RpdmVzLmxlbmd0aCAtIGkpLCAkY29tcGlsZU5vZGUsXG4gICAgICAgICAgICAgIHRlbXBsYXRlQXR0cnMsIGpxQ29sbGVjdGlvbiwgaGFzVHJhbnNjbHVkZURpcmVjdGl2ZSAmJiBjaGlsZFRyYW5zY2x1ZGVGbiwgcHJlTGlua0ZucywgcG9zdExpbmtGbnMsIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyRGlyZWN0aXZlczogY29udHJvbGxlckRpcmVjdGl2ZXMsXG4gICAgICAgICAgICAgICAgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlOiBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVEaXJlY3RpdmU6IHRlbXBsYXRlRGlyZWN0aXZlLFxuICAgICAgICAgICAgICAgIG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmU6IG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgaWkgPSBkaXJlY3RpdmVzLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3RpdmUuY29tcGlsZSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsaW5rRm4gPSBkaXJlY3RpdmUuY29tcGlsZSgkY29tcGlsZU5vZGUsIHRlbXBsYXRlQXR0cnMsIGNoaWxkVHJhbnNjbHVkZUZuKTtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGxpbmtGbikpIHtcbiAgICAgICAgICAgICAgYWRkTGlua0ZucyhudWxsLCBsaW5rRm4sIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmtGbikge1xuICAgICAgICAgICAgICBhZGRMaW5rRm5zKGxpbmtGbi5wcmUsIGxpbmtGbi5wb3N0LCBhdHRyU3RhcnQsIGF0dHJFbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUsIHN0YXJ0aW5nVGFnKCRjb21waWxlTm9kZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJlY3RpdmUudGVybWluYWwpIHtcbiAgICAgICAgICBub2RlTGlua0ZuLnRlcm1pbmFsID0gdHJ1ZTtcbiAgICAgICAgICB0ZXJtaW5hbFByaW9yaXR5ID0gTWF0aC5tYXgodGVybWluYWxQcmlvcml0eSwgZGlyZWN0aXZlLnByaW9yaXR5KTtcbiAgICAgICAgfVxuXG4gICAgICB9XG5cbiAgICAgIG5vZGVMaW5rRm4uc2NvcGUgPSBuZXdTY29wZURpcmVjdGl2ZSAmJiBuZXdTY29wZURpcmVjdGl2ZS5zY29wZSA9PT0gdHJ1ZTtcbiAgICAgIG5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQgPSBoYXNUcmFuc2NsdWRlRGlyZWN0aXZlO1xuICAgICAgbm9kZUxpbmtGbi5lbGVtZW50VHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQgPSBoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZTtcbiAgICAgIG5vZGVMaW5rRm4udGVtcGxhdGVPblRoaXNFbGVtZW50ID0gaGFzVGVtcGxhdGU7XG4gICAgICBub2RlTGlua0ZuLnRyYW5zY2x1ZGUgPSBjaGlsZFRyYW5zY2x1ZGVGbjtcblxuICAgICAgcHJldmlvdXNDb21waWxlQ29udGV4dC5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSA9IGhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlO1xuXG4gICAgICAvLyBtaWdodCBiZSBub3JtYWwgb3IgZGVsYXllZCBub2RlTGlua0ZuIGRlcGVuZGluZyBvbiBpZiB0ZW1wbGF0ZVVybCBpcyBwcmVzZW50XG4gICAgICByZXR1cm4gbm9kZUxpbmtGbjtcblxuICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgZnVuY3Rpb24gYWRkTGlua0ZucyhwcmUsIHBvc3QsIGF0dHJTdGFydCwgYXR0ckVuZCkge1xuICAgICAgICBpZiAocHJlKSB7XG4gICAgICAgICAgaWYgKGF0dHJTdGFydCkgcHJlID0gZ3JvdXBFbGVtZW50c0xpbmtGbldyYXBwZXIocHJlLCBhdHRyU3RhcnQsIGF0dHJFbmQpO1xuICAgICAgICAgIHByZS5yZXF1aXJlID0gZGlyZWN0aXZlLnJlcXVpcmU7XG4gICAgICAgICAgcHJlLmRpcmVjdGl2ZU5hbWUgPSBkaXJlY3RpdmVOYW1lO1xuICAgICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgPT09IGRpcmVjdGl2ZSB8fCBkaXJlY3RpdmUuJCRpc29sYXRlU2NvcGUpIHtcbiAgICAgICAgICAgIHByZSA9IGNsb25lQW5kQW5ub3RhdGVGbihwcmUsIHtpc29sYXRlU2NvcGU6IHRydWV9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJlTGlua0Zucy5wdXNoKHByZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvc3QpIHtcbiAgICAgICAgICBpZiAoYXR0clN0YXJ0KSBwb3N0ID0gZ3JvdXBFbGVtZW50c0xpbmtGbldyYXBwZXIocG9zdCwgYXR0clN0YXJ0LCBhdHRyRW5kKTtcbiAgICAgICAgICBwb3N0LnJlcXVpcmUgPSBkaXJlY3RpdmUucmVxdWlyZTtcbiAgICAgICAgICBwb3N0LmRpcmVjdGl2ZU5hbWUgPSBkaXJlY3RpdmVOYW1lO1xuICAgICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgPT09IGRpcmVjdGl2ZSB8fCBkaXJlY3RpdmUuJCRpc29sYXRlU2NvcGUpIHtcbiAgICAgICAgICAgIHBvc3QgPSBjbG9uZUFuZEFubm90YXRlRm4ocG9zdCwge2lzb2xhdGVTY29wZTogdHJ1ZX0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwb3N0TGlua0Zucy5wdXNoKHBvc3QpO1xuICAgICAgICB9XG4gICAgICB9XG5cblxuICAgICAgZnVuY3Rpb24gZ2V0Q29udHJvbGxlcnMoZGlyZWN0aXZlTmFtZSwgcmVxdWlyZSwgJGVsZW1lbnQsIGVsZW1lbnRDb250cm9sbGVycykge1xuICAgICAgICB2YXIgdmFsdWUsIHJldHJpZXZhbE1ldGhvZCA9ICdkYXRhJywgb3B0aW9uYWwgPSBmYWxzZTtcbiAgICAgICAgdmFyICRzZWFyY2hFbGVtZW50ID0gJGVsZW1lbnQ7XG4gICAgICAgIHZhciBtYXRjaDtcbiAgICAgICAgaWYgKGlzU3RyaW5nKHJlcXVpcmUpKSB7XG4gICAgICAgICAgbWF0Y2ggPSByZXF1aXJlLm1hdGNoKFJFUVVJUkVfUFJFRklYX1JFR0VYUCk7XG4gICAgICAgICAgcmVxdWlyZSA9IHJlcXVpcmUuc3Vic3RyaW5nKG1hdGNoWzBdLmxlbmd0aCk7XG5cbiAgICAgICAgICBpZiAobWF0Y2hbM10pIHtcbiAgICAgICAgICAgIGlmIChtYXRjaFsxXSkgbWF0Y2hbM10gPSBudWxsO1xuICAgICAgICAgICAgZWxzZSBtYXRjaFsxXSA9IG1hdGNoWzNdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobWF0Y2hbMV0gPT09ICdeJykge1xuICAgICAgICAgICAgcmV0cmlldmFsTWV0aG9kID0gJ2luaGVyaXRlZERhdGEnO1xuICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2hbMV0gPT09ICdeXicpIHtcbiAgICAgICAgICAgIHJldHJpZXZhbE1ldGhvZCA9ICdpbmhlcml0ZWREYXRhJztcbiAgICAgICAgICAgICRzZWFyY2hFbGVtZW50ID0gJGVsZW1lbnQucGFyZW50KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtYXRjaFsyXSA9PT0gJz8nKSB7XG4gICAgICAgICAgICBvcHRpb25hbCA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFsdWUgPSBudWxsO1xuXG4gICAgICAgICAgaWYgKGVsZW1lbnRDb250cm9sbGVycyAmJiByZXRyaWV2YWxNZXRob2QgPT09ICdkYXRhJykge1xuICAgICAgICAgICAgaWYgKHZhbHVlID0gZWxlbWVudENvbnRyb2xsZXJzW3JlcXVpcmVdKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuaW5zdGFuY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhbHVlID0gdmFsdWUgfHwgJHNlYXJjaEVsZW1lbnRbcmV0cmlldmFsTWV0aG9kXSgnJCcgKyByZXF1aXJlICsgJ0NvbnRyb2xsZXInKTtcblxuICAgICAgICAgIGlmICghdmFsdWUgJiYgIW9wdGlvbmFsKSB7XG4gICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignY3RyZXEnLFxuICAgICAgICAgICAgICAgIFwiQ29udHJvbGxlciAnezB9JywgcmVxdWlyZWQgYnkgZGlyZWN0aXZlICd7MX0nLCBjYW4ndCBiZSBmb3VuZCFcIixcbiAgICAgICAgICAgICAgICByZXF1aXJlLCBkaXJlY3RpdmVOYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHZhbHVlIHx8IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShyZXF1aXJlKSkge1xuICAgICAgICAgIHZhbHVlID0gW107XG4gICAgICAgICAgZm9yRWFjaChyZXF1aXJlLCBmdW5jdGlvbihyZXF1aXJlKSB7XG4gICAgICAgICAgICB2YWx1ZS5wdXNoKGdldENvbnRyb2xsZXJzKGRpcmVjdGl2ZU5hbWUsIHJlcXVpcmUsICRlbGVtZW50LCBlbGVtZW50Q29udHJvbGxlcnMpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG5cblxuICAgICAgZnVuY3Rpb24gbm9kZUxpbmtGbihjaGlsZExpbmtGbiwgc2NvcGUsIGxpbmtOb2RlLCAkcm9vdEVsZW1lbnQsIGJvdW5kVHJhbnNjbHVkZUZuKSB7XG4gICAgICAgIHZhciBpLCBpaSwgbGlua0ZuLCBjb250cm9sbGVyLCBpc29sYXRlU2NvcGUsIGVsZW1lbnRDb250cm9sbGVycywgdHJhbnNjbHVkZUZuLCAkZWxlbWVudCxcbiAgICAgICAgICAgIGF0dHJzO1xuXG4gICAgICAgIGlmIChjb21waWxlTm9kZSA9PT0gbGlua05vZGUpIHtcbiAgICAgICAgICBhdHRycyA9IHRlbXBsYXRlQXR0cnM7XG4gICAgICAgICAgJGVsZW1lbnQgPSB0ZW1wbGF0ZUF0dHJzLiQkZWxlbWVudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkZWxlbWVudCA9IGpxTGl0ZShsaW5rTm9kZSk7XG4gICAgICAgICAgYXR0cnMgPSBuZXcgQXR0cmlidXRlcygkZWxlbWVudCwgdGVtcGxhdGVBdHRycyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlKSB7XG4gICAgICAgICAgaXNvbGF0ZVNjb3BlID0gc2NvcGUuJG5ldyh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyYW5zY2x1ZGVGbiA9IGJvdW5kVHJhbnNjbHVkZUZuICYmIGNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlO1xuICAgICAgICBpZiAoY29udHJvbGxlckRpcmVjdGl2ZXMpIHtcbiAgICAgICAgICAvLyBUT0RPOiBtZXJnZSBgY29udHJvbGxlcnNgIGFuZCBgZWxlbWVudENvbnRyb2xsZXJzYCBpbnRvIHNpbmdsZSBvYmplY3QuXG4gICAgICAgICAgY29udHJvbGxlcnMgPSB7fTtcbiAgICAgICAgICBlbGVtZW50Q29udHJvbGxlcnMgPSB7fTtcbiAgICAgICAgICBmb3JFYWNoKGNvbnRyb2xsZXJEaXJlY3RpdmVzLCBmdW5jdGlvbihkaXJlY3RpdmUpIHtcbiAgICAgICAgICAgIHZhciBsb2NhbHMgPSB7XG4gICAgICAgICAgICAgICRzY29wZTogZGlyZWN0aXZlID09PSBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgfHwgZGlyZWN0aXZlLiQkaXNvbGF0ZVNjb3BlID8gaXNvbGF0ZVNjb3BlIDogc2NvcGUsXG4gICAgICAgICAgICAgICRlbGVtZW50OiAkZWxlbWVudCxcbiAgICAgICAgICAgICAgJGF0dHJzOiBhdHRycyxcbiAgICAgICAgICAgICAgJHRyYW5zY2x1ZGU6IHRyYW5zY2x1ZGVGblxuICAgICAgICAgICAgfSwgY29udHJvbGxlckluc3RhbmNlO1xuXG4gICAgICAgICAgICBjb250cm9sbGVyID0gZGlyZWN0aXZlLmNvbnRyb2xsZXI7XG4gICAgICAgICAgICBpZiAoY29udHJvbGxlciA9PSAnQCcpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlciA9IGF0dHJzW2RpcmVjdGl2ZS5uYW1lXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29udHJvbGxlckluc3RhbmNlID0gJGNvbnRyb2xsZXIoY29udHJvbGxlciwgbG9jYWxzLCB0cnVlLCBkaXJlY3RpdmUuY29udHJvbGxlckFzKTtcblxuICAgICAgICAgICAgLy8gRm9yIGRpcmVjdGl2ZXMgd2l0aCBlbGVtZW50IHRyYW5zY2x1c2lvbiB0aGUgZWxlbWVudCBpcyBhIGNvbW1lbnQsXG4gICAgICAgICAgICAvLyBidXQgalF1ZXJ5IC5kYXRhIGRvZXNuJ3Qgc3VwcG9ydCBhdHRhY2hpbmcgZGF0YSB0byBjb21tZW50IG5vZGVzIGFzIGl0J3MgaGFyZCB0b1xuICAgICAgICAgICAgLy8gY2xlYW4gdXAgKGh0dHA6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzgzMzUpLlxuICAgICAgICAgICAgLy8gSW5zdGVhZCwgd2Ugc2F2ZSB0aGUgY29udHJvbGxlcnMgZm9yIHRoZSBlbGVtZW50IGluIGEgbG9jYWwgaGFzaCBhbmQgYXR0YWNoIHRvIC5kYXRhXG4gICAgICAgICAgICAvLyBsYXRlciwgb25jZSB3ZSBoYXZlIHRoZSBhY3R1YWwgZWxlbWVudC5cbiAgICAgICAgICAgIGVsZW1lbnRDb250cm9sbGVyc1tkaXJlY3RpdmUubmFtZV0gPSBjb250cm9sbGVySW5zdGFuY2U7XG4gICAgICAgICAgICBpZiAoIWhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlKSB7XG4gICAgICAgICAgICAgICRlbGVtZW50LmRhdGEoJyQnICsgZGlyZWN0aXZlLm5hbWUgKyAnQ29udHJvbGxlcicsIGNvbnRyb2xsZXJJbnN0YW5jZS5pbnN0YW5jZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnRyb2xsZXJzW2RpcmVjdGl2ZS5uYW1lXSA9IGNvbnRyb2xsZXJJbnN0YW5jZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUpIHtcbiAgICAgICAgICBjb21waWxlLiQkYWRkU2NvcGVJbmZvKCRlbGVtZW50LCBpc29sYXRlU2NvcGUsIHRydWUsICEodGVtcGxhdGVEaXJlY3RpdmUgJiYgKHRlbXBsYXRlRGlyZWN0aXZlID09PSBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgfHxcbiAgICAgICAgICAgICAgdGVtcGxhdGVEaXJlY3RpdmUgPT09IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS4kJG9yaWdpbmFsRGlyZWN0aXZlKSkpO1xuICAgICAgICAgIGNvbXBpbGUuJCRhZGRTY29wZUNsYXNzKCRlbGVtZW50LCB0cnVlKTtcblxuICAgICAgICAgIHZhciBpc29sYXRlU2NvcGVDb250cm9sbGVyID0gY29udHJvbGxlcnMgJiYgY29udHJvbGxlcnNbbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLm5hbWVdO1xuICAgICAgICAgIHZhciBpc29sYXRlQmluZGluZ0NvbnRleHQgPSBpc29sYXRlU2NvcGU7XG4gICAgICAgICAgaWYgKGlzb2xhdGVTY29wZUNvbnRyb2xsZXIgJiYgaXNvbGF0ZVNjb3BlQ29udHJvbGxlci5pZGVudGlmaWVyICYmXG4gICAgICAgICAgICAgIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS5iaW5kVG9Db250cm9sbGVyID09PSB0cnVlKSB7XG4gICAgICAgICAgICBpc29sYXRlQmluZGluZ0NvbnRleHQgPSBpc29sYXRlU2NvcGVDb250cm9sbGVyLmluc3RhbmNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZvckVhY2goaXNvbGF0ZVNjb3BlLiQkaXNvbGF0ZUJpbmRpbmdzID0gbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLiQkaXNvbGF0ZUJpbmRpbmdzLCBmdW5jdGlvbihkZWZpbml0aW9uLCBzY29wZU5hbWUpIHtcbiAgICAgICAgICAgIHZhciBhdHRyTmFtZSA9IGRlZmluaXRpb24uYXR0ck5hbWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uYWwgPSBkZWZpbml0aW9uLm9wdGlvbmFsLFxuICAgICAgICAgICAgICAgIG1vZGUgPSBkZWZpbml0aW9uLm1vZGUsIC8vIEAsID0sIG9yICZcbiAgICAgICAgICAgICAgICBsYXN0VmFsdWUsXG4gICAgICAgICAgICAgICAgcGFyZW50R2V0LCBwYXJlbnRTZXQsIGNvbXBhcmU7XG5cbiAgICAgICAgICAgIHN3aXRjaCAobW9kZSkge1xuXG4gICAgICAgICAgICAgIGNhc2UgJ0AnOlxuICAgICAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKGF0dHJOYW1lLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgaXNvbGF0ZUJpbmRpbmdDb250ZXh0W3Njb3BlTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhdHRycy4kJG9ic2VydmVyc1thdHRyTmFtZV0uJCRzY29wZSA9IHNjb3BlO1xuICAgICAgICAgICAgICAgIGlmIChhdHRyc1thdHRyTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBhdHRyaWJ1dGUgaGFzIGJlZW4gcHJvdmlkZWQgdGhlbiB3ZSB0cmlnZ2VyIGFuIGludGVycG9sYXRpb24gdG8gZW5zdXJlXG4gICAgICAgICAgICAgICAgICAvLyB0aGUgdmFsdWUgaXMgdGhlcmUgZm9yIHVzZSBpbiB0aGUgbGluayBmblxuICAgICAgICAgICAgICAgICAgaXNvbGF0ZUJpbmRpbmdDb250ZXh0W3Njb3BlTmFtZV0gPSAkaW50ZXJwb2xhdGUoYXR0cnNbYXR0ck5hbWVdKShzY29wZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgJz0nOlxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25hbCAmJiAhYXR0cnNbYXR0ck5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhcmVudEdldCA9ICRwYXJzZShhdHRyc1thdHRyTmFtZV0pO1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRHZXQubGl0ZXJhbCkge1xuICAgICAgICAgICAgICAgICAgY29tcGFyZSA9IGVxdWFscztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgY29tcGFyZSA9IGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIGEgPT09IGIgfHwgKGEgIT09IGEgJiYgYiAhPT0gYik7IH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhcmVudFNldCA9IHBhcmVudEdldC5hc3NpZ24gfHwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAvLyByZXNldCB0aGUgY2hhbmdlLCBvciB3ZSB3aWxsIHRocm93IHRoaXMgZXhjZXB0aW9uIG9uIGV2ZXJ5ICRkaWdlc3RcbiAgICAgICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IGlzb2xhdGVCaW5kaW5nQ29udGV4dFtzY29wZU5hbWVdID0gcGFyZW50R2V0KHNjb3BlKTtcbiAgICAgICAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdub25hc3NpZ24nLFxuICAgICAgICAgICAgICAgICAgICAgIFwiRXhwcmVzc2lvbiAnezB9JyB1c2VkIHdpdGggZGlyZWN0aXZlICd7MX0nIGlzIG5vbi1hc3NpZ25hYmxlIVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzW2F0dHJOYW1lXSwgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLm5hbWUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbGFzdFZhbHVlID0gaXNvbGF0ZUJpbmRpbmdDb250ZXh0W3Njb3BlTmFtZV0gPSBwYXJlbnRHZXQoc2NvcGUpO1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRWYWx1ZVdhdGNoID0gZnVuY3Rpb24gcGFyZW50VmFsdWVXYXRjaChwYXJlbnRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKCFjb21wYXJlKHBhcmVudFZhbHVlLCBpc29sYXRlQmluZGluZ0NvbnRleHRbc2NvcGVOYW1lXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgYXJlIG91dCBvZiBzeW5jIGFuZCBuZWVkIHRvIGNvcHlcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb21wYXJlKHBhcmVudFZhbHVlLCBsYXN0VmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gcGFyZW50IGNoYW5nZWQgYW5kIGl0IGhhcyBwcmVjZWRlbmNlXG4gICAgICAgICAgICAgICAgICAgICAgaXNvbGF0ZUJpbmRpbmdDb250ZXh0W3Njb3BlTmFtZV0gPSBwYXJlbnRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcGFyZW50IGNhbiBiZSBhc3NpZ25lZCB0aGVuIGRvIHNvXG4gICAgICAgICAgICAgICAgICAgICAgcGFyZW50U2V0KHNjb3BlLCBwYXJlbnRWYWx1ZSA9IGlzb2xhdGVCaW5kaW5nQ29udGV4dFtzY29wZU5hbWVdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGxhc3RWYWx1ZSA9IHBhcmVudFZhbHVlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcGFyZW50VmFsdWVXYXRjaC4kc3RhdGVmdWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciB1bndhdGNoO1xuICAgICAgICAgICAgICAgIGlmIChkZWZpbml0aW9uLmNvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgIHVud2F0Y2ggPSBzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKGF0dHJzW2F0dHJOYW1lXSwgcGFyZW50VmFsdWVXYXRjaCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHVud2F0Y2ggPSBzY29wZS4kd2F0Y2goJHBhcnNlKGF0dHJzW2F0dHJOYW1lXSwgcGFyZW50VmFsdWVXYXRjaCksIG51bGwsIHBhcmVudEdldC5saXRlcmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaXNvbGF0ZVNjb3BlLiRvbignJGRlc3Ryb3knLCB1bndhdGNoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlICcmJzpcbiAgICAgICAgICAgICAgICBwYXJlbnRHZXQgPSAkcGFyc2UoYXR0cnNbYXR0ck5hbWVdKTtcbiAgICAgICAgICAgICAgICBpc29sYXRlQmluZGluZ0NvbnRleHRbc2NvcGVOYW1lXSA9IGZ1bmN0aW9uKGxvY2Fscykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudEdldChzY29wZSwgbG9jYWxzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250cm9sbGVycykge1xuICAgICAgICAgIGZvckVhY2goY29udHJvbGxlcnMsIGZ1bmN0aW9uKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb250cm9sbGVycyA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQUkVMSU5LSU5HXG4gICAgICAgIGZvciAoaSA9IDAsIGlpID0gcHJlTGlua0Zucy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgbGlua0ZuID0gcHJlTGlua0Zuc1tpXTtcbiAgICAgICAgICBpbnZva2VMaW5rRm4obGlua0ZuLFxuICAgICAgICAgICAgICBsaW5rRm4uaXNvbGF0ZVNjb3BlID8gaXNvbGF0ZVNjb3BlIDogc2NvcGUsXG4gICAgICAgICAgICAgICRlbGVtZW50LFxuICAgICAgICAgICAgICBhdHRycyxcbiAgICAgICAgICAgICAgbGlua0ZuLnJlcXVpcmUgJiYgZ2V0Q29udHJvbGxlcnMobGlua0ZuLmRpcmVjdGl2ZU5hbWUsIGxpbmtGbi5yZXF1aXJlLCAkZWxlbWVudCwgZWxlbWVudENvbnRyb2xsZXJzKSxcbiAgICAgICAgICAgICAgdHJhbnNjbHVkZUZuXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJFQ1VSU0lPTlxuICAgICAgICAvLyBXZSBvbmx5IHBhc3MgdGhlIGlzb2xhdGUgc2NvcGUsIGlmIHRoZSBpc29sYXRlIGRpcmVjdGl2ZSBoYXMgYSB0ZW1wbGF0ZSxcbiAgICAgICAgLy8gb3RoZXJ3aXNlIHRoZSBjaGlsZCBlbGVtZW50cyBkbyBub3QgYmVsb25nIHRvIHRoZSBpc29sYXRlIGRpcmVjdGl2ZS5cbiAgICAgICAgdmFyIHNjb3BlVG9DaGlsZCA9IHNjb3BlO1xuICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlICYmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUudGVtcGxhdGUgfHwgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLnRlbXBsYXRlVXJsID09PSBudWxsKSkge1xuICAgICAgICAgIHNjb3BlVG9DaGlsZCA9IGlzb2xhdGVTY29wZTtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZExpbmtGbiAmJiBjaGlsZExpbmtGbihzY29wZVRvQ2hpbGQsIGxpbmtOb2RlLmNoaWxkTm9kZXMsIHVuZGVmaW5lZCwgYm91bmRUcmFuc2NsdWRlRm4pO1xuXG4gICAgICAgIC8vIFBPU1RMSU5LSU5HXG4gICAgICAgIGZvciAoaSA9IHBvc3RMaW5rRm5zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgbGlua0ZuID0gcG9zdExpbmtGbnNbaV07XG4gICAgICAgICAgaW52b2tlTGlua0ZuKGxpbmtGbixcbiAgICAgICAgICAgICAgbGlua0ZuLmlzb2xhdGVTY29wZSA/IGlzb2xhdGVTY29wZSA6IHNjb3BlLFxuICAgICAgICAgICAgICAkZWxlbWVudCxcbiAgICAgICAgICAgICAgYXR0cnMsXG4gICAgICAgICAgICAgIGxpbmtGbi5yZXF1aXJlICYmIGdldENvbnRyb2xsZXJzKGxpbmtGbi5kaXJlY3RpdmVOYW1lLCBsaW5rRm4ucmVxdWlyZSwgJGVsZW1lbnQsIGVsZW1lbnRDb250cm9sbGVycyksXG4gICAgICAgICAgICAgIHRyYW5zY2x1ZGVGblxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGlzIGlzIHRoZSBmdW5jdGlvbiB0aGF0IGlzIGluamVjdGVkIGFzIGAkdHJhbnNjbHVkZWAuXG4gICAgICAgIC8vIE5vdGU6IGFsbCBhcmd1bWVudHMgYXJlIG9wdGlvbmFsIVxuICAgICAgICBmdW5jdGlvbiBjb250cm9sbGVyc0JvdW5kVHJhbnNjbHVkZShzY29wZSwgY2xvbmVBdHRhY2hGbiwgZnV0dXJlUGFyZW50RWxlbWVudCkge1xuICAgICAgICAgIHZhciB0cmFuc2NsdWRlQ29udHJvbGxlcnM7XG5cbiAgICAgICAgICAvLyBObyBzY29wZSBwYXNzZWQgaW46XG4gICAgICAgICAgaWYgKCFpc1Njb3BlKHNjb3BlKSkge1xuICAgICAgICAgICAgZnV0dXJlUGFyZW50RWxlbWVudCA9IGNsb25lQXR0YWNoRm47XG4gICAgICAgICAgICBjbG9uZUF0dGFjaEZuID0gc2NvcGU7XG4gICAgICAgICAgICBzY29wZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUpIHtcbiAgICAgICAgICAgIHRyYW5zY2x1ZGVDb250cm9sbGVycyA9IGVsZW1lbnRDb250cm9sbGVycztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFmdXR1cmVQYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICBmdXR1cmVQYXJlbnRFbGVtZW50ID0gaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUgPyAkZWxlbWVudC5wYXJlbnQoKSA6ICRlbGVtZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIGNsb25lQXR0YWNoRm4sIHRyYW5zY2x1ZGVDb250cm9sbGVycywgZnV0dXJlUGFyZW50RWxlbWVudCwgc2NvcGVUb0NoaWxkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1hcmtEaXJlY3RpdmVzQXNJc29sYXRlKGRpcmVjdGl2ZXMpIHtcbiAgICAgIC8vIG1hcmsgYWxsIGRpcmVjdGl2ZXMgYXMgbmVlZGluZyBpc29sYXRlIHNjb3BlLlxuICAgICAgZm9yICh2YXIgaiA9IDAsIGpqID0gZGlyZWN0aXZlcy5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgIGRpcmVjdGl2ZXNbal0gPSBpbmhlcml0KGRpcmVjdGl2ZXNbal0sIHskJGlzb2xhdGVTY29wZTogdHJ1ZX0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGxvb2tzIHVwIHRoZSBkaXJlY3RpdmUgYW5kIGRlY29yYXRlcyBpdCB3aXRoIGV4Y2VwdGlvbiBoYW5kbGluZyBhbmQgcHJvcGVyIHBhcmFtZXRlcnMuIFdlXG4gICAgICogY2FsbCB0aGlzIHRoZSBib3VuZERpcmVjdGl2ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIG5hbWUgb2YgdGhlIGRpcmVjdGl2ZSB0byBsb29rIHVwLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhdGlvbiBUaGUgZGlyZWN0aXZlIG11c3QgYmUgZm91bmQgaW4gc3BlY2lmaWMgZm9ybWF0LlxuICAgICAqICAgU3RyaW5nIGNvbnRhaW5pbmcgYW55IG9mIHRoZXNlcyBjaGFyYWN0ZXJzOlxuICAgICAqXG4gICAgICogICAqIGBFYDogZWxlbWVudCBuYW1lXG4gICAgICogICAqIGBBJzogYXR0cmlidXRlXG4gICAgICogICAqIGBDYDogY2xhc3NcbiAgICAgKiAgICogYE1gOiBjb21tZW50XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgZGlyZWN0aXZlIHdhcyBhZGRlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGREaXJlY3RpdmUodERpcmVjdGl2ZXMsIG5hbWUsIGxvY2F0aW9uLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLCBzdGFydEF0dHJOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRBdHRyTmFtZSkge1xuICAgICAgaWYgKG5hbWUgPT09IGlnbm9yZURpcmVjdGl2ZSkgcmV0dXJuIG51bGw7XG4gICAgICB2YXIgbWF0Y2ggPSBudWxsO1xuICAgICAgaWYgKGhhc0RpcmVjdGl2ZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgZm9yICh2YXIgZGlyZWN0aXZlLCBkaXJlY3RpdmVzID0gJGluamVjdG9yLmdldChuYW1lICsgU3VmZml4KSxcbiAgICAgICAgICAgIGkgPSAwLCBpaSA9IGRpcmVjdGl2ZXMubGVuZ3RoOyBpPGlpOyBpKyspIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGlyZWN0aXZlID0gZGlyZWN0aXZlc1tpXTtcbiAgICAgICAgICAgIGlmICgobWF4UHJpb3JpdHkgPT09IHVuZGVmaW5lZCB8fCBtYXhQcmlvcml0eSA+IGRpcmVjdGl2ZS5wcmlvcml0eSkgJiZcbiAgICAgICAgICAgICAgICAgZGlyZWN0aXZlLnJlc3RyaWN0LmluZGV4T2YobG9jYXRpb24pICE9IC0xKSB7XG4gICAgICAgICAgICAgIGlmIChzdGFydEF0dHJOYW1lKSB7XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlID0gaW5oZXJpdChkaXJlY3RpdmUsIHskJHN0YXJ0OiBzdGFydEF0dHJOYW1lLCAkJGVuZDogZW5kQXR0ck5hbWV9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0RGlyZWN0aXZlcy5wdXNoKGRpcmVjdGl2ZSk7XG4gICAgICAgICAgICAgIG1hdGNoID0gZGlyZWN0aXZlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7IH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogbG9va3MgdXAgdGhlIGRpcmVjdGl2ZSBhbmQgcmV0dXJucyB0cnVlIGlmIGl0IGlzIGEgbXVsdGktZWxlbWVudCBkaXJlY3RpdmUsXG4gICAgICogYW5kIHRoZXJlZm9yZSByZXF1aXJlcyBET00gbm9kZXMgYmV0d2VlbiAtc3RhcnQgYW5kIC1lbmQgbWFya2VycyB0byBiZSBncm91cGVkXG4gICAgICogdG9nZXRoZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBuYW1lIG9mIHRoZSBkaXJlY3RpdmUgdG8gbG9vayB1cC5cbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIGRpcmVjdGl2ZSB3YXMgcmVnaXN0ZXJlZCBhcyBtdWx0aS1lbGVtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRpcmVjdGl2ZUlzTXVsdGlFbGVtZW50KG5hbWUpIHtcbiAgICAgIGlmIChoYXNEaXJlY3RpdmVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGZvciAodmFyIGRpcmVjdGl2ZSwgZGlyZWN0aXZlcyA9ICRpbmplY3Rvci5nZXQobmFtZSArIFN1ZmZpeCksXG4gICAgICAgICAgICBpID0gMCwgaWkgPSBkaXJlY3RpdmVzLmxlbmd0aDsgaTxpaTsgaSsrKSB7XG4gICAgICAgICAgZGlyZWN0aXZlID0gZGlyZWN0aXZlc1tpXTtcbiAgICAgICAgICBpZiAoZGlyZWN0aXZlLm11bHRpRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgZWxlbWVudCBpcyByZXBsYWNlZCB3aXRoIEhUTUwgdGVtcGxhdGUgdGhlbiB0aGUgbmV3IGF0dHJpYnV0ZXNcbiAgICAgKiBvbiB0aGUgdGVtcGxhdGUgbmVlZCB0byBiZSBtZXJnZWQgd2l0aCB0aGUgZXhpc3RpbmcgYXR0cmlidXRlcyBpbiB0aGUgRE9NLlxuICAgICAqIFRoZSBkZXNpcmVkIGVmZmVjdCBpcyB0byBoYXZlIGJvdGggb2YgdGhlIGF0dHJpYnV0ZXMgcHJlc2VudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkc3QgZGVzdGluYXRpb24gYXR0cmlidXRlcyAob3JpZ2luYWwgRE9NKVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzcmMgc291cmNlIGF0dHJpYnV0ZXMgKGZyb20gdGhlIGRpcmVjdGl2ZSB0ZW1wbGF0ZSlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZXJnZVRlbXBsYXRlQXR0cmlidXRlcyhkc3QsIHNyYykge1xuICAgICAgdmFyIHNyY0F0dHIgPSBzcmMuJGF0dHIsXG4gICAgICAgICAgZHN0QXR0ciA9IGRzdC4kYXR0cixcbiAgICAgICAgICAkZWxlbWVudCA9IGRzdC4kJGVsZW1lbnQ7XG5cbiAgICAgIC8vIHJlYXBwbHkgdGhlIG9sZCBhdHRyaWJ1dGVzIHRvIHRoZSBuZXcgZWxlbWVudFxuICAgICAgZm9yRWFjaChkc3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKGtleS5jaGFyQXQoMCkgIT0gJyQnKSB7XG4gICAgICAgICAgaWYgKHNyY1trZXldICYmIHNyY1trZXldICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgdmFsdWUgKz0gKGtleSA9PT0gJ3N0eWxlJyA/ICc7JyA6ICcgJykgKyBzcmNba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZHN0LiRzZXQoa2V5LCB2YWx1ZSwgdHJ1ZSwgc3JjQXR0cltrZXldKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIGNvcHkgdGhlIG5ldyBhdHRyaWJ1dGVzIG9uIHRoZSBvbGQgYXR0cnMgb2JqZWN0XG4gICAgICBmb3JFYWNoKHNyYywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICBpZiAoa2V5ID09ICdjbGFzcycpIHtcbiAgICAgICAgICBzYWZlQWRkQ2xhc3MoJGVsZW1lbnQsIHZhbHVlKTtcbiAgICAgICAgICBkc3RbJ2NsYXNzJ10gPSAoZHN0WydjbGFzcyddID8gZHN0WydjbGFzcyddICsgJyAnIDogJycpICsgdmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09ICdzdHlsZScpIHtcbiAgICAgICAgICAkZWxlbWVudC5hdHRyKCdzdHlsZScsICRlbGVtZW50LmF0dHIoJ3N0eWxlJykgKyAnOycgKyB2YWx1ZSk7XG4gICAgICAgICAgZHN0WydzdHlsZSddID0gKGRzdFsnc3R5bGUnXSA/IGRzdFsnc3R5bGUnXSArICc7JyA6ICcnKSArIHZhbHVlO1xuICAgICAgICAgIC8vIGBkc3RgIHdpbGwgbmV2ZXIgY29udGFpbiBoYXNPd25Qcm9wZXJ0eSBhcyBET00gcGFyc2VyIHdvbid0IGxldCBpdC5cbiAgICAgICAgICAvLyBZb3Ugd2lsbCBnZXQgYW4gXCJJbnZhbGlkQ2hhcmFjdGVyRXJyb3I6IERPTSBFeGNlcHRpb24gNVwiIGVycm9yIGlmIHlvdVxuICAgICAgICAgIC8vIGhhdmUgYW4gYXR0cmlidXRlIGxpa2UgXCJoYXMtb3duLXByb3BlcnR5XCIgb3IgXCJkYXRhLWhhcy1vd24tcHJvcGVydHlcIiwgZXRjLlxuICAgICAgICB9IGVsc2UgaWYgKGtleS5jaGFyQXQoMCkgIT0gJyQnICYmICFkc3QuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIGRzdFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgZHN0QXR0cltrZXldID0gc3JjQXR0cltrZXldO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGNvbXBpbGVUZW1wbGF0ZVVybChkaXJlY3RpdmVzLCAkY29tcGlsZU5vZGUsIHRBdHRycyxcbiAgICAgICAgJHJvb3RFbGVtZW50LCBjaGlsZFRyYW5zY2x1ZGVGbiwgcHJlTGlua0ZucywgcG9zdExpbmtGbnMsIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcbiAgICAgIHZhciBsaW5rUXVldWUgPSBbXSxcbiAgICAgICAgICBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbixcbiAgICAgICAgICBhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4sXG4gICAgICAgICAgYmVmb3JlVGVtcGxhdGVDb21waWxlTm9kZSA9ICRjb21waWxlTm9kZVswXSxcbiAgICAgICAgICBvcmlnQXN5bmNEaXJlY3RpdmUgPSBkaXJlY3RpdmVzLnNoaWZ0KCksXG4gICAgICAgICAgLy8gVGhlIGZhY3QgdGhhdCB3ZSBoYXZlIHRvIGNvcHkgYW5kIHBhdGNoIHRoZSBkaXJlY3RpdmUgc2VlbXMgd3JvbmchXG4gICAgICAgICAgZGVyaXZlZFN5bmNEaXJlY3RpdmUgPSBleHRlbmQoe30sIG9yaWdBc3luY0RpcmVjdGl2ZSwge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IG51bGwsIHRyYW5zY2x1ZGU6IG51bGwsIHJlcGxhY2U6IG51bGwsICQkb3JpZ2luYWxEaXJlY3RpdmU6IG9yaWdBc3luY0RpcmVjdGl2ZVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHRlbXBsYXRlVXJsID0gKGlzRnVuY3Rpb24ob3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlVXJsKSlcbiAgICAgICAgICAgICAgPyBvcmlnQXN5bmNEaXJlY3RpdmUudGVtcGxhdGVVcmwoJGNvbXBpbGVOb2RlLCB0QXR0cnMpXG4gICAgICAgICAgICAgIDogb3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlVXJsLFxuICAgICAgICAgIHRlbXBsYXRlTmFtZXNwYWNlID0gb3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlTmFtZXNwYWNlO1xuXG4gICAgICAkY29tcGlsZU5vZGUuZW1wdHkoKTtcblxuICAgICAgJHRlbXBsYXRlUmVxdWVzdCgkc2NlLmdldFRydXN0ZWRSZXNvdXJjZVVybCh0ZW1wbGF0ZVVybCkpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgICAgICAgICB2YXIgY29tcGlsZU5vZGUsIHRlbXBUZW1wbGF0ZUF0dHJzLCAkdGVtcGxhdGUsIGNoaWxkQm91bmRUcmFuc2NsdWRlRm47XG5cbiAgICAgICAgICBjb250ZW50ID0gZGVub3JtYWxpemVUZW1wbGF0ZShjb250ZW50KTtcblxuICAgICAgICAgIGlmIChvcmlnQXN5bmNEaXJlY3RpdmUucmVwbGFjZSkge1xuICAgICAgICAgICAgaWYgKGpxTGl0ZUlzVGV4dE5vZGUoY29udGVudCkpIHtcbiAgICAgICAgICAgICAgJHRlbXBsYXRlID0gW107XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAkdGVtcGxhdGUgPSByZW1vdmVDb21tZW50cyh3cmFwVGVtcGxhdGUodGVtcGxhdGVOYW1lc3BhY2UsIHRyaW0oY29udGVudCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXBpbGVOb2RlID0gJHRlbXBsYXRlWzBdO1xuXG4gICAgICAgICAgICBpZiAoJHRlbXBsYXRlLmxlbmd0aCAhPSAxIHx8IGNvbXBpbGVOb2RlLm5vZGVUeXBlICE9PSBOT0RFX1RZUEVfRUxFTUVOVCkge1xuICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycigndHBscnQnLFxuICAgICAgICAgICAgICAgICAgXCJUZW1wbGF0ZSBmb3IgZGlyZWN0aXZlICd7MH0nIG11c3QgaGF2ZSBleGFjdGx5IG9uZSByb290IGVsZW1lbnQuIHsxfVwiLFxuICAgICAgICAgICAgICAgICAgb3JpZ0FzeW5jRGlyZWN0aXZlLm5hbWUsIHRlbXBsYXRlVXJsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGVtcFRlbXBsYXRlQXR0cnMgPSB7JGF0dHI6IHt9fTtcbiAgICAgICAgICAgIHJlcGxhY2VXaXRoKCRyb290RWxlbWVudCwgJGNvbXBpbGVOb2RlLCBjb21waWxlTm9kZSk7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVEaXJlY3RpdmVzID0gY29sbGVjdERpcmVjdGl2ZXMoY29tcGlsZU5vZGUsIFtdLCB0ZW1wVGVtcGxhdGVBdHRycyk7XG5cbiAgICAgICAgICAgIGlmIChpc09iamVjdChvcmlnQXN5bmNEaXJlY3RpdmUuc2NvcGUpKSB7XG4gICAgICAgICAgICAgIG1hcmtEaXJlY3RpdmVzQXNJc29sYXRlKHRlbXBsYXRlRGlyZWN0aXZlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXJlY3RpdmVzID0gdGVtcGxhdGVEaXJlY3RpdmVzLmNvbmNhdChkaXJlY3RpdmVzKTtcbiAgICAgICAgICAgIG1lcmdlVGVtcGxhdGVBdHRyaWJ1dGVzKHRBdHRycywgdGVtcFRlbXBsYXRlQXR0cnMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb21waWxlTm9kZSA9IGJlZm9yZVRlbXBsYXRlQ29tcGlsZU5vZGU7XG4gICAgICAgICAgICAkY29tcGlsZU5vZGUuaHRtbChjb250ZW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkaXJlY3RpdmVzLnVuc2hpZnQoZGVyaXZlZFN5bmNEaXJlY3RpdmUpO1xuXG4gICAgICAgICAgYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4gPSBhcHBseURpcmVjdGl2ZXNUb05vZGUoZGlyZWN0aXZlcywgY29tcGlsZU5vZGUsIHRBdHRycyxcbiAgICAgICAgICAgICAgY2hpbGRUcmFuc2NsdWRlRm4sICRjb21waWxlTm9kZSwgb3JpZ0FzeW5jRGlyZWN0aXZlLCBwcmVMaW5rRm5zLCBwb3N0TGlua0ZucyxcbiAgICAgICAgICAgICAgcHJldmlvdXNDb21waWxlQ29udGV4dCk7XG4gICAgICAgICAgZm9yRWFjaCgkcm9vdEVsZW1lbnQsIGZ1bmN0aW9uKG5vZGUsIGkpIHtcbiAgICAgICAgICAgIGlmIChub2RlID09IGNvbXBpbGVOb2RlKSB7XG4gICAgICAgICAgICAgICRyb290RWxlbWVudFtpXSA9ICRjb21waWxlTm9kZVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4gPSBjb21waWxlTm9kZXMoJGNvbXBpbGVOb2RlWzBdLmNoaWxkTm9kZXMsIGNoaWxkVHJhbnNjbHVkZUZuKTtcblxuICAgICAgICAgIHdoaWxlIChsaW5rUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgc2NvcGUgPSBsaW5rUXVldWUuc2hpZnQoKSxcbiAgICAgICAgICAgICAgICBiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlID0gbGlua1F1ZXVlLnNoaWZ0KCksXG4gICAgICAgICAgICAgICAgbGlua1Jvb3RFbGVtZW50ID0gbGlua1F1ZXVlLnNoaWZ0KCksXG4gICAgICAgICAgICAgICAgYm91bmRUcmFuc2NsdWRlRm4gPSBsaW5rUXVldWUuc2hpZnQoKSxcbiAgICAgICAgICAgICAgICBsaW5rTm9kZSA9ICRjb21waWxlTm9kZVswXTtcblxuICAgICAgICAgICAgaWYgKHNjb3BlLiQkZGVzdHJveWVkKSBjb250aW51ZTtcblxuICAgICAgICAgICAgaWYgKGJlZm9yZVRlbXBsYXRlTGlua05vZGUgIT09IGJlZm9yZVRlbXBsYXRlQ29tcGlsZU5vZGUpIHtcbiAgICAgICAgICAgICAgdmFyIG9sZENsYXNzZXMgPSBiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlLmNsYXNzTmFtZTtcblxuICAgICAgICAgICAgICBpZiAoIShwcmV2aW91c0NvbXBpbGVDb250ZXh0Lmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlICYmXG4gICAgICAgICAgICAgICAgICBvcmlnQXN5bmNEaXJlY3RpdmUucmVwbGFjZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBpdCB3YXMgY2xvbmVkIHRoZXJlZm9yZSB3ZSBoYXZlIHRvIGNsb25lIGFzIHdlbGwuXG4gICAgICAgICAgICAgICAgbGlua05vZGUgPSBqcUxpdGVDbG9uZShjb21waWxlTm9kZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmVwbGFjZVdpdGgobGlua1Jvb3RFbGVtZW50LCBqcUxpdGUoYmVmb3JlVGVtcGxhdGVMaW5rTm9kZSksIGxpbmtOb2RlKTtcblxuICAgICAgICAgICAgICAvLyBDb3B5IGluIENTUyBjbGFzc2VzIGZyb20gb3JpZ2luYWwgbm9kZVxuICAgICAgICAgICAgICBzYWZlQWRkQ2xhc3MoanFMaXRlKGxpbmtOb2RlKSwgb2xkQ2xhc3Nlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbi50cmFuc2NsdWRlLCBib3VuZFRyYW5zY2x1ZGVGbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gYm91bmRUcmFuc2NsdWRlRm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbihhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4sIHNjb3BlLCBsaW5rTm9kZSwgJHJvb3RFbGVtZW50LFxuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGlua1F1ZXVlID0gbnVsbDtcbiAgICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBkZWxheWVkTm9kZUxpbmtGbihpZ25vcmVDaGlsZExpbmtGbiwgc2NvcGUsIG5vZGUsIHJvb3RFbGVtZW50LCBib3VuZFRyYW5zY2x1ZGVGbikge1xuICAgICAgICB2YXIgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGJvdW5kVHJhbnNjbHVkZUZuO1xuICAgICAgICBpZiAoc2NvcGUuJCRkZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgaWYgKGxpbmtRdWV1ZSkge1xuICAgICAgICAgIGxpbmtRdWV1ZS5wdXNoKHNjb3BlKTtcbiAgICAgICAgICBsaW5rUXVldWUucHVzaChub2RlKTtcbiAgICAgICAgICBsaW5rUXVldWUucHVzaChyb290RWxlbWVudCk7XG4gICAgICAgICAgbGlua1F1ZXVlLnB1c2goY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50KSB7XG4gICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGUsIGJvdW5kVHJhbnNjbHVkZUZuKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4oYWZ0ZXJUZW1wbGF0ZUNoaWxkTGlua0ZuLCBzY29wZSwgbm9kZSwgcm9vdEVsZW1lbnQsIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogU29ydGluZyBmdW5jdGlvbiBmb3IgYm91bmQgZGlyZWN0aXZlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBieVByaW9yaXR5KGEsIGIpIHtcbiAgICAgIHZhciBkaWZmID0gYi5wcmlvcml0eSAtIGEucHJpb3JpdHk7XG4gICAgICBpZiAoZGlmZiAhPT0gMCkgcmV0dXJuIGRpZmY7XG4gICAgICBpZiAoYS5uYW1lICE9PSBiLm5hbWUpIHJldHVybiAoYS5uYW1lIDwgYi5uYW1lKSA/IC0xIDogMTtcbiAgICAgIHJldHVybiBhLmluZGV4IC0gYi5pbmRleDtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGFzc2VydE5vRHVwbGljYXRlKHdoYXQsIHByZXZpb3VzRGlyZWN0aXZlLCBkaXJlY3RpdmUsIGVsZW1lbnQpIHtcbiAgICAgIGlmIChwcmV2aW91c0RpcmVjdGl2ZSkge1xuICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbXVsdGlkaXInLCAnTXVsdGlwbGUgZGlyZWN0aXZlcyBbezB9LCB7MX1dIGFza2luZyBmb3IgezJ9IG9uOiB7M30nLFxuICAgICAgICAgICAgcHJldmlvdXNEaXJlY3RpdmUubmFtZSwgZGlyZWN0aXZlLm5hbWUsIHdoYXQsIHN0YXJ0aW5nVGFnKGVsZW1lbnQpKTtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGFkZFRleHRJbnRlcnBvbGF0ZURpcmVjdGl2ZShkaXJlY3RpdmVzLCB0ZXh0KSB7XG4gICAgICB2YXIgaW50ZXJwb2xhdGVGbiA9ICRpbnRlcnBvbGF0ZSh0ZXh0LCB0cnVlKTtcbiAgICAgIGlmIChpbnRlcnBvbGF0ZUZuKSB7XG4gICAgICAgIGRpcmVjdGl2ZXMucHVzaCh7XG4gICAgICAgICAgcHJpb3JpdHk6IDAsXG4gICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24gdGV4dEludGVycG9sYXRlQ29tcGlsZUZuKHRlbXBsYXRlTm9kZSkge1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlTm9kZVBhcmVudCA9IHRlbXBsYXRlTm9kZS5wYXJlbnQoKSxcbiAgICAgICAgICAgICAgICBoYXNDb21waWxlUGFyZW50ID0gISF0ZW1wbGF0ZU5vZGVQYXJlbnQubGVuZ3RoO1xuXG4gICAgICAgICAgICAvLyBXaGVuIHRyYW5zY2x1ZGluZyBhIHRlbXBsYXRlIHRoYXQgaGFzIGJpbmRpbmdzIGluIHRoZSByb290XG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBoYXZlIGEgcGFyZW50IGFuZCB0aHVzIG5lZWQgdG8gYWRkIHRoZSBjbGFzcyBkdXJpbmcgbGlua2luZyBmbi5cbiAgICAgICAgICAgIGlmIChoYXNDb21waWxlUGFyZW50KSBjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHRlbXBsYXRlTm9kZVBhcmVudCk7XG5cbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiB0ZXh0SW50ZXJwb2xhdGVMaW5rRm4oc2NvcGUsIG5vZGUpIHtcbiAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50KCk7XG4gICAgICAgICAgICAgIGlmICghaGFzQ29tcGlsZVBhcmVudCkgY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyhwYXJlbnQpO1xuICAgICAgICAgICAgICBjb21waWxlLiQkYWRkQmluZGluZ0luZm8ocGFyZW50LCBpbnRlcnBvbGF0ZUZuLmV4cHJlc3Npb25zKTtcbiAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGludGVycG9sYXRlRm4sIGZ1bmN0aW9uIGludGVycG9sYXRlRm5XYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIG5vZGVbMF0ubm9kZVZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gd3JhcFRlbXBsYXRlKHR5cGUsIHRlbXBsYXRlKSB7XG4gICAgICB0eXBlID0gbG93ZXJjYXNlKHR5cGUgfHwgJ2h0bWwnKTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnc3ZnJzpcbiAgICAgIGNhc2UgJ21hdGgnOlxuICAgICAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9ICc8Jyt0eXBlKyc+Jyt0ZW1wbGF0ZSsnPC8nK3R5cGUrJz4nO1xuICAgICAgICByZXR1cm4gd3JhcHBlci5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXM7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBnZXRUcnVzdGVkQ29udGV4dChub2RlLCBhdHRyTm9ybWFsaXplZE5hbWUpIHtcbiAgICAgIGlmIChhdHRyTm9ybWFsaXplZE5hbWUgPT0gXCJzcmNkb2NcIikge1xuICAgICAgICByZXR1cm4gJHNjZS5IVE1MO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IG5vZGVOYW1lXyhub2RlKTtcbiAgICAgIC8vIG1hY3Rpb25beGxpbms6aHJlZl0gY2FuIHNvdXJjZSBTVkcuICBJdCdzIG5vdCBsaW1pdGVkIHRvIDxtYWN0aW9uPi5cbiAgICAgIGlmIChhdHRyTm9ybWFsaXplZE5hbWUgPT0gXCJ4bGlua0hyZWZcIiB8fFxuICAgICAgICAgICh0YWcgPT0gXCJmb3JtXCIgJiYgYXR0ck5vcm1hbGl6ZWROYW1lID09IFwiYWN0aW9uXCIpIHx8XG4gICAgICAgICAgKHRhZyAhPSBcImltZ1wiICYmIChhdHRyTm9ybWFsaXplZE5hbWUgPT0gXCJzcmNcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJOb3JtYWxpemVkTmFtZSA9PSBcIm5nU3JjXCIpKSkge1xuICAgICAgICByZXR1cm4gJHNjZS5SRVNPVVJDRV9VUkw7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBhZGRBdHRySW50ZXJwb2xhdGVEaXJlY3RpdmUobm9kZSwgZGlyZWN0aXZlcywgdmFsdWUsIG5hbWUsIGFsbE9yTm90aGluZykge1xuICAgICAgdmFyIGludGVycG9sYXRlRm4gPSAkaW50ZXJwb2xhdGUodmFsdWUsIHRydWUpO1xuXG4gICAgICAvLyBubyBpbnRlcnBvbGF0aW9uIGZvdW5kIC0+IGlnbm9yZVxuICAgICAgaWYgKCFpbnRlcnBvbGF0ZUZuKSByZXR1cm47XG5cblxuICAgICAgaWYgKG5hbWUgPT09IFwibXVsdGlwbGVcIiAmJiBub2RlTmFtZV8obm9kZSkgPT09IFwic2VsZWN0XCIpIHtcbiAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoXCJzZWxtdWx0aVwiLFxuICAgICAgICAgICAgXCJCaW5kaW5nIHRvIHRoZSAnbXVsdGlwbGUnIGF0dHJpYnV0ZSBpcyBub3Qgc3VwcG9ydGVkLiBFbGVtZW50OiB7MH1cIixcbiAgICAgICAgICAgIHN0YXJ0aW5nVGFnKG5vZGUpKTtcbiAgICAgIH1cblxuICAgICAgZGlyZWN0aXZlcy5wdXNoKHtcbiAgICAgICAgcHJpb3JpdHk6IDEwMCxcbiAgICAgICAgY29tcGlsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBwcmU6IGZ1bmN0aW9uIGF0dHJJbnRlcnBvbGF0ZVByZUxpbmtGbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICAgICAgICAgIHZhciAkJG9ic2VydmVycyA9IChhdHRyLiQkb2JzZXJ2ZXJzIHx8IChhdHRyLiQkb2JzZXJ2ZXJzID0ge30pKTtcblxuICAgICAgICAgICAgICAgIGlmIChFVkVOVF9IQU5ETEVSX0FUVFJfUkVHRVhQLnRlc3QobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdub2RvbWV2ZW50cycsXG4gICAgICAgICAgICAgICAgICAgICAgXCJJbnRlcnBvbGF0aW9ucyBmb3IgSFRNTCBET00gZXZlbnQgYXR0cmlidXRlcyBhcmUgZGlzYWxsb3dlZC4gIFBsZWFzZSB1c2UgdGhlIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJuZy0gdmVyc2lvbnMgKHN1Y2ggYXMgbmctY2xpY2sgaW5zdGVhZCBvZiBvbmNsaWNrKSBpbnN0ZWFkLlwiKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgYXR0cmlidXRlIHdhcyByZW1vdmVkLCB0aGVuIHdlIGFyZSBkb25lXG4gICAgICAgICAgICAgICAgaWYgKCFhdHRyW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBpbnRlcnBvbGF0ZSBhZ2FpbiwgaW4gY2FzZSB0aGUgYXR0cmlidXRlIHZhbHVlIGhhcyBiZWVuIHVwZGF0ZWRcbiAgICAgICAgICAgICAgICAvLyAoZS5nLiBieSBhbm90aGVyIGRpcmVjdGl2ZSdzIGNvbXBpbGUgZnVuY3Rpb24pXG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVGbiA9ICRpbnRlcnBvbGF0ZShhdHRyW25hbWVdLCB0cnVlLCBnZXRUcnVzdGVkQ29udGV4dChub2RlLCBuYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgQUxMX09SX05PVEhJTkdfQVRUUlNbbmFtZV0gfHwgYWxsT3JOb3RoaW5nKTtcblxuICAgICAgICAgICAgICAgIC8vIGlmIGF0dHJpYnV0ZSB3YXMgdXBkYXRlZCBzbyB0aGF0IHRoZXJlIGlzIG5vIGludGVycG9sYXRpb24gZ29pbmcgb24gd2UgZG9uJ3Qgd2FudCB0b1xuICAgICAgICAgICAgICAgIC8vIHJlZ2lzdGVyIGFueSBvYnNlcnZlcnNcbiAgICAgICAgICAgICAgICBpZiAoIWludGVycG9sYXRlRm4pIHJldHVybjtcblxuICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpemUgYXR0ciBvYmplY3Qgc28gdGhhdCBpdCdzIHJlYWR5IGluIGNhc2Ugd2UgbmVlZCB0aGUgdmFsdWUgZm9yIGlzb2xhdGVcbiAgICAgICAgICAgICAgICAvLyBzY29wZSBpbml0aWFsaXphdGlvbiwgb3RoZXJ3aXNlIHRoZSB2YWx1ZSB3b3VsZCBub3QgYmUgYXZhaWxhYmxlIGZyb20gaXNvbGF0ZVxuICAgICAgICAgICAgICAgIC8vIGRpcmVjdGl2ZSdzIGxpbmtpbmcgZm4gZHVyaW5nIGxpbmtpbmcgcGhhc2VcbiAgICAgICAgICAgICAgICBhdHRyW25hbWVdID0gaW50ZXJwb2xhdGVGbihzY29wZSk7XG5cbiAgICAgICAgICAgICAgICAoJCRvYnNlcnZlcnNbbmFtZV0gfHwgKCQkb2JzZXJ2ZXJzW25hbWVdID0gW10pKS4kJGludGVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAoYXR0ci4kJG9ic2VydmVycyAmJiBhdHRyLiQkb2JzZXJ2ZXJzW25hbWVdLiQkc2NvcGUgfHwgc2NvcGUpLlxuICAgICAgICAgICAgICAgICAgJHdhdGNoKGludGVycG9sYXRlRm4sIGZ1bmN0aW9uIGludGVycG9sYXRlRm5XYXRjaEFjdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9zcGVjaWFsIGNhc2UgZm9yIGNsYXNzIGF0dHJpYnV0ZSBhZGRpdGlvbiArIHJlbW92YWxcbiAgICAgICAgICAgICAgICAgICAgLy9zbyB0aGF0IGNsYXNzIGNoYW5nZXMgY2FuIHRhcCBpbnRvIHRoZSBhbmltYXRpb25cbiAgICAgICAgICAgICAgICAgICAgLy9ob29rcyBwcm92aWRlZCBieSB0aGUgJGFuaW1hdGUgc2VydmljZS4gQmUgc3VyZSB0b1xuICAgICAgICAgICAgICAgICAgICAvL3NraXAgYW5pbWF0aW9ucyB3aGVuIHRoZSBmaXJzdCBkaWdlc3Qgb2NjdXJzICh3aGVuXG4gICAgICAgICAgICAgICAgICAgIC8vYm90aCB0aGUgbmV3IGFuZCB0aGUgb2xkIHZhbHVlcyBhcmUgdGhlIHNhbWUpIHNpbmNlXG4gICAgICAgICAgICAgICAgICAgIC8vdGhlIENTUyBjbGFzc2VzIGFyZSB0aGUgbm9uLWludGVycG9sYXRlZCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdjbGFzcycgJiYgbmV3VmFsdWUgIT0gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyLiR1cGRhdGVDbGFzcyhuZXdWYWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGF0dHIuJHNldChuYW1lLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBhIHNwZWNpYWwganFMaXRlLnJlcGxhY2VXaXRoLCB3aGljaCBjYW4gcmVwbGFjZSBpdGVtcyB3aGljaFxuICAgICAqIGhhdmUgbm8gcGFyZW50cywgcHJvdmlkZWQgdGhhdCB0aGUgY29udGFpbmluZyBqcUxpdGUgY29sbGVjdGlvbiBpcyBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SnFMaXRlPX0gJHJvb3RFbGVtZW50IFRoZSByb290IG9mIHRoZSBjb21waWxlIHRyZWUuIFVzZWQgc28gdGhhdCB3ZSBjYW4gcmVwbGFjZSBub2Rlc1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIHRoZSByb290IG9mIHRoZSB0cmVlLlxuICAgICAqIEBwYXJhbSB7SnFMaXRlfSBlbGVtZW50c1RvUmVtb3ZlIFRoZSBqcUxpdGUgZWxlbWVudCB3aGljaCB3ZSBhcmUgZ29pbmcgdG8gcmVwbGFjZS4gV2Uga2VlcFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBzaGVsbCwgYnV0IHJlcGxhY2UgaXRzIERPTSBub2RlIHJlZmVyZW5jZS5cbiAgICAgKiBAcGFyYW0ge05vZGV9IG5ld05vZGUgVGhlIG5ldyBET00gbm9kZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXBsYWNlV2l0aCgkcm9vdEVsZW1lbnQsIGVsZW1lbnRzVG9SZW1vdmUsIG5ld05vZGUpIHtcbiAgICAgIHZhciBmaXJzdEVsZW1lbnRUb1JlbW92ZSA9IGVsZW1lbnRzVG9SZW1vdmVbMF0sXG4gICAgICAgICAgcmVtb3ZlQ291bnQgPSBlbGVtZW50c1RvUmVtb3ZlLmxlbmd0aCxcbiAgICAgICAgICBwYXJlbnQgPSBmaXJzdEVsZW1lbnRUb1JlbW92ZS5wYXJlbnROb2RlLFxuICAgICAgICAgIGksIGlpO1xuXG4gICAgICBpZiAoJHJvb3RFbGVtZW50KSB7XG4gICAgICAgIGZvciAoaSA9IDAsIGlpID0gJHJvb3RFbGVtZW50Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICBpZiAoJHJvb3RFbGVtZW50W2ldID09IGZpcnN0RWxlbWVudFRvUmVtb3ZlKSB7XG4gICAgICAgICAgICAkcm9vdEVsZW1lbnRbaSsrXSA9IG5ld05vZGU7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gaSwgajIgPSBqICsgcmVtb3ZlQ291bnQgLSAxLFxuICAgICAgICAgICAgICAgICAgICAgamogPSAkcm9vdEVsZW1lbnQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICBqIDwgamo7IGorKywgajIrKykge1xuICAgICAgICAgICAgICBpZiAoajIgPCBqaikge1xuICAgICAgICAgICAgICAgICRyb290RWxlbWVudFtqXSA9ICRyb290RWxlbWVudFtqMl07XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlICRyb290RWxlbWVudFtqXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHJvb3RFbGVtZW50Lmxlbmd0aCAtPSByZW1vdmVDb3VudCAtIDE7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSByZXBsYWNlZCBlbGVtZW50IGlzIGFsc28gdGhlIGpRdWVyeSAuY29udGV4dCB0aGVuIHJlcGxhY2UgaXRcbiAgICAgICAgICAgIC8vIC5jb250ZXh0IGlzIGEgZGVwcmVjYXRlZCBqUXVlcnkgYXBpLCBzbyB3ZSBzaG91bGQgc2V0IGl0IG9ubHkgd2hlbiBqUXVlcnkgc2V0IGl0XG4gICAgICAgICAgICAvLyBodHRwOi8vYXBpLmpxdWVyeS5jb20vY29udGV4dC9cbiAgICAgICAgICAgIGlmICgkcm9vdEVsZW1lbnQuY29udGV4dCA9PT0gZmlyc3RFbGVtZW50VG9SZW1vdmUpIHtcbiAgICAgICAgICAgICAgJHJvb3RFbGVtZW50LmNvbnRleHQgPSBuZXdOb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChuZXdOb2RlLCBmaXJzdEVsZW1lbnRUb1JlbW92ZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFRPRE8ocGVyZik6IHdoYXQncyB0aGlzIGRvY3VtZW50IGZyYWdtZW50IGZvcj8gaXMgaXQgbmVlZGVkPyBjYW4gd2UgYXQgbGVhc3QgcmV1c2UgaXQ/XG4gICAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChmaXJzdEVsZW1lbnRUb1JlbW92ZSk7XG5cbiAgICAgIC8vIENvcHkgb3ZlciB1c2VyIGRhdGEgKHRoYXQgaW5jbHVkZXMgQW5ndWxhcidzICRzY29wZSBldGMuKS4gRG9uJ3QgY29weSBwcml2YXRlXG4gICAgICAvLyBkYXRhIGhlcmUgYmVjYXVzZSB0aGVyZSdzIG5vIHB1YmxpYyBpbnRlcmZhY2UgaW4galF1ZXJ5IHRvIGRvIHRoYXQgYW5kIGNvcHlpbmcgb3ZlclxuICAgICAgLy8gZXZlbnQgbGlzdGVuZXJzICh3aGljaCBpcyB0aGUgbWFpbiB1c2Ugb2YgcHJpdmF0ZSBkYXRhKSB3b3VsZG4ndCB3b3JrIGFueXdheS5cbiAgICAgIGpxTGl0ZShuZXdOb2RlKS5kYXRhKGpxTGl0ZShmaXJzdEVsZW1lbnRUb1JlbW92ZSkuZGF0YSgpKTtcblxuICAgICAgLy8gUmVtb3ZlIGRhdGEgb2YgdGhlIHJlcGxhY2VkIGVsZW1lbnQuIFdlIGNhbm5vdCBqdXN0IGNhbGwgLnJlbW92ZSgpXG4gICAgICAvLyBvbiB0aGUgZWxlbWVudCBpdCBzaW5jZSB0aGF0IHdvdWxkIGRlYWxsb2NhdGUgc2NvcGUgdGhhdCBpcyBuZWVkZWRcbiAgICAgIC8vIGZvciB0aGUgbmV3IG5vZGUuIEluc3RlYWQsIHJlbW92ZSB0aGUgZGF0YSBcIm1hbnVhbGx5XCIuXG4gICAgICBpZiAoIWpRdWVyeSkge1xuICAgICAgICBkZWxldGUganFMaXRlLmNhY2hlW2ZpcnN0RWxlbWVudFRvUmVtb3ZlW2pxTGl0ZS5leHBhbmRvXV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBqUXVlcnkgMi54IGRvZXNuJ3QgZXhwb3NlIHRoZSBkYXRhIHN0b3JhZ2UuIFVzZSBqUXVlcnkuY2xlYW5EYXRhIHRvIGNsZWFuIHVwIGFmdGVyXG4gICAgICAgIC8vIHRoZSByZXBsYWNlZCBlbGVtZW50LiBUaGUgY2xlYW5EYXRhIHZlcnNpb24gbW9ua2V5LXBhdGNoZWQgYnkgQW5ndWxhciB3b3VsZCBjYXVzZVxuICAgICAgICAvLyB0aGUgc2NvcGUgdG8gYmUgdHJhc2hlZCBhbmQgd2UgZG8gbmVlZCB0aGUgdmVyeSBzYW1lIHNjb3BlIHRvIHdvcmsgd2l0aCB0aGUgbmV3XG4gICAgICAgIC8vIGVsZW1lbnQuIEhvd2V2ZXIsIHdlIGNhbm5vdCBqdXN0IGNhY2hlIHRoZSBub24tcGF0Y2hlZCB2ZXJzaW9uIGFuZCB1c2UgaXQgaGVyZSBhc1xuICAgICAgICAvLyB0aGF0IHdvdWxkIGJyZWFrIGlmIGFub3RoZXIgbGlicmFyeSBwYXRjaGVzIHRoZSBtZXRob2QgYWZ0ZXIgQW5ndWxhciBkb2VzIChvbmVcbiAgICAgICAgLy8gZXhhbXBsZSBpcyBqUXVlcnkgVUkpLiBJbnN0ZWFkLCBzZXQgYSBmbGFnIGluZGljYXRpbmcgc2NvcGUgZGVzdHJveWluZyBzaG91bGQgYmVcbiAgICAgICAgLy8gc2tpcHBlZCB0aGlzIG9uZSB0aW1lLlxuICAgICAgICBza2lwRGVzdHJveU9uTmV4dEpRdWVyeUNsZWFuRGF0YSA9IHRydWU7XG4gICAgICAgIGpRdWVyeS5jbGVhbkRhdGEoW2ZpcnN0RWxlbWVudFRvUmVtb3ZlXSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGsgPSAxLCBrayA9IGVsZW1lbnRzVG9SZW1vdmUubGVuZ3RoOyBrIDwga2s7IGsrKykge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzVG9SZW1vdmVba107XG4gICAgICAgIGpxTGl0ZShlbGVtZW50KS5yZW1vdmUoKTsgLy8gbXVzdCBkbyB0aGlzIHdheSB0byBjbGVhbiB1cCBleHBhbmRvXG4gICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICBkZWxldGUgZWxlbWVudHNUb1JlbW92ZVtrXTtcbiAgICAgIH1cblxuICAgICAgZWxlbWVudHNUb1JlbW92ZVswXSA9IG5ld05vZGU7XG4gICAgICBlbGVtZW50c1RvUmVtb3ZlLmxlbmd0aCA9IDE7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjbG9uZUFuZEFubm90YXRlRm4oZm4sIGFubm90YXRpb24pIHtcbiAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24oKSB7IHJldHVybiBmbi5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9LCBmbiwgYW5ub3RhdGlvbik7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBpbnZva2VMaW5rRm4obGlua0ZuLCBzY29wZSwgJGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVycywgdHJhbnNjbHVkZUZuKSB7XG4gICAgICB0cnkge1xuICAgICAgICBsaW5rRm4oc2NvcGUsICRlbGVtZW50LCBhdHRycywgY29udHJvbGxlcnMsIHRyYW5zY2x1ZGVGbik7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUsIHN0YXJ0aW5nVGFnKCRlbGVtZW50KSk7XG4gICAgICB9XG4gICAgfVxuICB9XTtcbn1cblxudmFyIFBSRUZJWF9SRUdFWFAgPSAvXigoPzp4fGRhdGEpW1xcOlxcLV9dKS9pO1xuLyoqXG4gKiBDb252ZXJ0cyBhbGwgYWNjZXB0ZWQgZGlyZWN0aXZlcyBmb3JtYXQgaW50byBwcm9wZXIgZGlyZWN0aXZlIG5hbWUuXG4gKiBBbGwgb2YgdGhlc2Ugd2lsbCBiZWNvbWUgJ215RGlyZWN0aXZlJzpcbiAqICAgbXk6RGlyZWN0aXZlXG4gKiAgIG15LWRpcmVjdGl2ZVxuICogICB4LW15LWRpcmVjdGl2ZVxuICogICBkYXRhLW15OmRpcmVjdGl2ZVxuICpcbiAqIEFsc28gdGhlcmUgaXMgc3BlY2lhbCBjYXNlIGZvciBNb3ogcHJlZml4IHN0YXJ0aW5nIHdpdGggdXBwZXIgY2FzZSBsZXR0ZXIuXG4gKiBAcGFyYW0gbmFtZSBOYW1lIHRvIG5vcm1hbGl6ZVxuICovXG5mdW5jdGlvbiBkaXJlY3RpdmVOb3JtYWxpemUobmFtZSkge1xuICByZXR1cm4gY2FtZWxDYXNlKG5hbWUucmVwbGFjZShQUkVGSVhfUkVHRVhQLCAnJykpO1xufVxuXG4vKipcbiAqIEBuZ2RvYyB0eXBlXG4gKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQSBzaGFyZWQgb2JqZWN0IGJldHdlZW4gZGlyZWN0aXZlIGNvbXBpbGUgLyBsaW5raW5nIGZ1bmN0aW9ucyB3aGljaCBjb250YWlucyBub3JtYWxpemVkIERPTVxuICogZWxlbWVudCBhdHRyaWJ1dGVzLiBUaGUgdmFsdWVzIHJlZmxlY3QgY3VycmVudCBiaW5kaW5nIHN0YXRlIGB7eyB9fWAuIFRoZSBub3JtYWxpemF0aW9uIGlzXG4gKiBuZWVkZWQgc2luY2UgYWxsIG9mIHRoZXNlIGFyZSB0cmVhdGVkIGFzIGVxdWl2YWxlbnQgaW4gQW5ndWxhcjpcbiAqXG4gKiBgYGBcbiAqICAgIDxzcGFuIG5nOmJpbmQ9XCJhXCIgbmctYmluZD1cImFcIiBkYXRhLW5nLWJpbmQ9XCJhXCIgeC1uZy1iaW5kPVwiYVwiPlxuICogYGBgXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgcHJvcGVydHlcbiAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRhdHRyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBIG1hcCBvZiBET00gZWxlbWVudCBhdHRyaWJ1dGUgbmFtZXMgdG8gdGhlIG5vcm1hbGl6ZWQgbmFtZS4gVGhpcyBpc1xuICogbmVlZGVkIHRvIGRvIHJldmVyc2UgbG9va3VwIGZyb20gbm9ybWFsaXplZCBuYW1lIGJhY2sgdG8gYWN0dWFsIG5hbWUuXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRzZXRcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTZXQgRE9NIGVsZW1lbnQgYXR0cmlidXRlIHZhbHVlLlxuICpcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOb3JtYWxpemVkIGVsZW1lbnQgYXR0cmlidXRlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIG1vZGlmeS4gVGhlIG5hbWUgaXNcbiAqICAgICAgICAgIHJldmVyc2UtdHJhbnNsYXRlZCB1c2luZyB0aGUge0BsaW5rIG5nLiRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRhdHRyICRhdHRyfVxuICogICAgICAgICAgcHJvcGVydHkgdG8gdGhlIG9yaWdpbmFsIG5hbWUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVmFsdWUgdG8gc2V0IHRoZSBhdHRyaWJ1dGUgdG8uIFRoZSB2YWx1ZSBjYW4gYmUgYW4gaW50ZXJwb2xhdGVkIHN0cmluZy5cbiAqL1xuXG5cblxuLyoqXG4gKiBDbG9zdXJlIGNvbXBpbGVyIHR5cGUgaW5mb3JtYXRpb25cbiAqL1xuXG5mdW5jdGlvbiBub2Rlc2V0TGlua2luZ0ZuKFxuICAvKiBhbmd1bGFyLlNjb3BlICovIHNjb3BlLFxuICAvKiBOb2RlTGlzdCAqLyBub2RlTGlzdCxcbiAgLyogRWxlbWVudCAqLyByb290RWxlbWVudCxcbiAgLyogZnVuY3Rpb24oRnVuY3Rpb24pICovIGJvdW5kVHJhbnNjbHVkZUZuXG4pIHt9XG5cbmZ1bmN0aW9uIGRpcmVjdGl2ZUxpbmtpbmdGbihcbiAgLyogbm9kZXNldExpbmtpbmdGbiAqLyBub2Rlc2V0TGlua2luZ0ZuLFxuICAvKiBhbmd1bGFyLlNjb3BlICovIHNjb3BlLFxuICAvKiBOb2RlICovIG5vZGUsXG4gIC8qIEVsZW1lbnQgKi8gcm9vdEVsZW1lbnQsXG4gIC8qIGZ1bmN0aW9uKEZ1bmN0aW9uKSAqLyBib3VuZFRyYW5zY2x1ZGVGblxuKSB7fVxuXG5mdW5jdGlvbiB0b2tlbkRpZmZlcmVuY2Uoc3RyMSwgc3RyMikge1xuICB2YXIgdmFsdWVzID0gJycsXG4gICAgICB0b2tlbnMxID0gc3RyMS5zcGxpdCgvXFxzKy8pLFxuICAgICAgdG9rZW5zMiA9IHN0cjIuc3BsaXQoL1xccysvKTtcblxuICBvdXRlcjpcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMxLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zMVtpXTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRva2VuczIubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmICh0b2tlbiA9PSB0b2tlbnMyW2pdKSBjb250aW51ZSBvdXRlcjtcbiAgICB9XG4gICAgdmFsdWVzICs9ICh2YWx1ZXMubGVuZ3RoID4gMCA/ICcgJyA6ICcnKSArIHRva2VuO1xuICB9XG4gIHJldHVybiB2YWx1ZXM7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUNvbW1lbnRzKGpxTm9kZXMpIHtcbiAganFOb2RlcyA9IGpxTGl0ZShqcU5vZGVzKTtcbiAgdmFyIGkgPSBqcU5vZGVzLmxlbmd0aDtcblxuICBpZiAoaSA8PSAxKSB7XG4gICAgcmV0dXJuIGpxTm9kZXM7XG4gIH1cblxuICB3aGlsZSAoaS0tKSB7XG4gICAgdmFyIG5vZGUgPSBqcU5vZGVzW2ldO1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOT0RFX1RZUEVfQ09NTUVOVCkge1xuICAgICAgc3BsaWNlLmNhbGwoanFOb2RlcywgaSwgMSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBqcU5vZGVzO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJGNvbnRyb2xsZXJQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUge0BsaW5rIG5nLiRjb250cm9sbGVyICRjb250cm9sbGVyIHNlcnZpY2V9IGlzIHVzZWQgYnkgQW5ndWxhciB0byBjcmVhdGUgbmV3XG4gKiBjb250cm9sbGVycy5cbiAqXG4gKiBUaGlzIHByb3ZpZGVyIGFsbG93cyBjb250cm9sbGVyIHJlZ2lzdHJhdGlvbiB2aWEgdGhlXG4gKiB7QGxpbmsgbmcuJGNvbnRyb2xsZXJQcm92aWRlciNyZWdpc3RlciByZWdpc3Rlcn0gbWV0aG9kLlxuICovXG5mdW5jdGlvbiAkQ29udHJvbGxlclByb3ZpZGVyKCkge1xuICB2YXIgY29udHJvbGxlcnMgPSB7fSxcbiAgICAgIGdsb2JhbHMgPSBmYWxzZSxcbiAgICAgIENOVFJMX1JFRyA9IC9eKFxcUyspKFxccythc1xccysoXFx3KykpPyQvO1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGNvbnRyb2xsZXJQcm92aWRlciNyZWdpc3RlclxuICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IG5hbWUgQ29udHJvbGxlciBuYW1lLCBvciBhbiBvYmplY3QgbWFwIG9mIGNvbnRyb2xsZXJzIHdoZXJlIHRoZSBrZXlzIGFyZVxuICAgKiAgICB0aGUgbmFtZXMgYW5kIHRoZSB2YWx1ZXMgYXJlIHRoZSBjb25zdHJ1Y3RvcnMuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXl9IGNvbnN0cnVjdG9yIENvbnRyb2xsZXIgY29uc3RydWN0b3IgZm4gKG9wdGlvbmFsbHkgZGVjb3JhdGVkIHdpdGggRElcbiAgICogICAgYW5ub3RhdGlvbnMgaW4gdGhlIGFycmF5IG5vdGF0aW9uKS5cbiAgICovXG4gIHRoaXMucmVnaXN0ZXIgPSBmdW5jdGlvbihuYW1lLCBjb25zdHJ1Y3Rvcikge1xuICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsICdjb250cm9sbGVyJyk7XG4gICAgaWYgKGlzT2JqZWN0KG5hbWUpKSB7XG4gICAgICBleHRlbmQoY29udHJvbGxlcnMsIG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250cm9sbGVyc1tuYW1lXSA9IGNvbnN0cnVjdG9yO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkY29udHJvbGxlclByb3ZpZGVyI2FsbG93R2xvYmFsc1xuICAgKiBAZGVzY3JpcHRpb24gSWYgY2FsbGVkLCBhbGxvd3MgYCRjb250cm9sbGVyYCB0byBmaW5kIGNvbnRyb2xsZXIgY29uc3RydWN0b3JzIG9uIGB3aW5kb3dgXG4gICAqL1xuICB0aGlzLmFsbG93R2xvYmFscyA9IGZ1bmN0aW9uKCkge1xuICAgIGdsb2JhbHMgPSB0cnVlO1xuICB9O1xuXG5cbiAgdGhpcy4kZ2V0ID0gWyckaW5qZWN0b3InLCAnJHdpbmRvdycsIGZ1bmN0aW9uKCRpbmplY3RvciwgJHdpbmRvdykge1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgKiBAbmFtZSAkY29udHJvbGxlclxuICAgICAqIEByZXF1aXJlcyAkaW5qZWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBjb25zdHJ1Y3RvciBJZiBjYWxsZWQgd2l0aCBhIGZ1bmN0aW9uIHRoZW4gaXQncyBjb25zaWRlcmVkIHRvIGJlIHRoZVxuICAgICAqICAgIGNvbnRyb2xsZXIgY29uc3RydWN0b3IgZnVuY3Rpb24uIE90aGVyd2lzZSBpdCdzIGNvbnNpZGVyZWQgdG8gYmUgYSBzdHJpbmcgd2hpY2ggaXMgdXNlZFxuICAgICAqICAgIHRvIHJldHJpZXZlIHRoZSBjb250cm9sbGVyIGNvbnN0cnVjdG9yIHVzaW5nIHRoZSBmb2xsb3dpbmcgc3RlcHM6XG4gICAgICpcbiAgICAgKiAgICAqIGNoZWNrIGlmIGEgY29udHJvbGxlciB3aXRoIGdpdmVuIG5hbWUgaXMgcmVnaXN0ZXJlZCB2aWEgYCRjb250cm9sbGVyUHJvdmlkZXJgXG4gICAgICogICAgKiBjaGVjayBpZiBldmFsdWF0aW5nIHRoZSBzdHJpbmcgb24gdGhlIGN1cnJlbnQgc2NvcGUgcmV0dXJucyBhIGNvbnN0cnVjdG9yXG4gICAgICogICAgKiBpZiAkY29udHJvbGxlclByb3ZpZGVyI2FsbG93R2xvYmFscywgY2hlY2sgYHdpbmRvd1tjb25zdHJ1Y3Rvcl1gIG9uIHRoZSBnbG9iYWxcbiAgICAgKiAgICAgIGB3aW5kb3dgIG9iamVjdCAobm90IHJlY29tbWVuZGVkKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGxvY2FscyBJbmplY3Rpb24gbG9jYWxzIGZvciBDb250cm9sbGVyLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gSW5zdGFuY2Ugb2YgZ2l2ZW4gY29udHJvbGxlci5cbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIGAkY29udHJvbGxlcmAgc2VydmljZSBpcyByZXNwb25zaWJsZSBmb3IgaW5zdGFudGlhdGluZyBjb250cm9sbGVycy5cbiAgICAgKlxuICAgICAqIEl0J3MganVzdCBhIHNpbXBsZSBjYWxsIHRvIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LCBidXQgZXh0cmFjdGVkIGludG9cbiAgICAgKiBhIHNlcnZpY2UsIHNvIHRoYXQgb25lIGNhbiBvdmVycmlkZSB0aGlzIHNlcnZpY2Ugd2l0aCBbQkMgdmVyc2lvbl0oaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vMTY0OTc4OCkuXG4gICAgICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGV4cHJlc3Npb24sIGxvY2FscywgbGF0ZXIsIGlkZW50KSB7XG4gICAgICAvLyBQUklWQVRFIEFQSTpcbiAgICAgIC8vICAgcGFyYW0gYGxhdGVyYCAtLS0gaW5kaWNhdGVzIHRoYXQgdGhlIGNvbnRyb2xsZXIncyBjb25zdHJ1Y3RvciBpcyBpbnZva2VkIGF0IGEgbGF0ZXIgdGltZS5cbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgSWYgdHJ1ZSwgJGNvbnRyb2xsZXIgd2lsbCBhbGxvY2F0ZSB0aGUgb2JqZWN0IHdpdGggdGhlIGNvcnJlY3RcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgcHJvdG90eXBlIGNoYWluLCBidXQgd2lsbCBub3QgaW52b2tlIHRoZSBjb250cm9sbGVyIHVudGlsIGEgcmV0dXJuZWRcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgaXMgaW52b2tlZC5cbiAgICAgIC8vICAgcGFyYW0gYGlkZW50YCAtLS0gQW4gb3B0aW9uYWwgbGFiZWwgd2hpY2ggb3ZlcnJpZGVzIHRoZSBsYWJlbCBwYXJzZWQgZnJvbSB0aGUgY29udHJvbGxlclxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uLCBpZiBhbnkuXG4gICAgICB2YXIgaW5zdGFuY2UsIG1hdGNoLCBjb25zdHJ1Y3RvciwgaWRlbnRpZmllcjtcbiAgICAgIGxhdGVyID0gbGF0ZXIgPT09IHRydWU7XG4gICAgICBpZiAoaWRlbnQgJiYgaXNTdHJpbmcoaWRlbnQpKSB7XG4gICAgICAgIGlkZW50aWZpZXIgPSBpZGVudDtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzU3RyaW5nKGV4cHJlc3Npb24pKSB7XG4gICAgICAgIG1hdGNoID0gZXhwcmVzc2lvbi5tYXRjaChDTlRSTF9SRUcpLFxuICAgICAgICBjb25zdHJ1Y3RvciA9IG1hdGNoWzFdLFxuICAgICAgICBpZGVudGlmaWVyID0gaWRlbnRpZmllciB8fCBtYXRjaFszXTtcbiAgICAgICAgZXhwcmVzc2lvbiA9IGNvbnRyb2xsZXJzLmhhc093blByb3BlcnR5KGNvbnN0cnVjdG9yKVxuICAgICAgICAgICAgPyBjb250cm9sbGVyc1tjb25zdHJ1Y3Rvcl1cbiAgICAgICAgICAgIDogZ2V0dGVyKGxvY2Fscy4kc2NvcGUsIGNvbnN0cnVjdG9yLCB0cnVlKSB8fFxuICAgICAgICAgICAgICAgIChnbG9iYWxzID8gZ2V0dGVyKCR3aW5kb3csIGNvbnN0cnVjdG9yLCB0cnVlKSA6IHVuZGVmaW5lZCk7XG5cbiAgICAgICAgYXNzZXJ0QXJnRm4oZXhwcmVzc2lvbiwgY29uc3RydWN0b3IsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAobGF0ZXIpIHtcbiAgICAgICAgLy8gSW5zdGFudGlhdGUgY29udHJvbGxlciBsYXRlcjpcbiAgICAgICAgLy8gVGhpcyBtYWNoaW5lcnkgaXMgdXNlZCB0byBjcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhlIG9iamVjdCBiZWZvcmUgY2FsbGluZyB0aGVcbiAgICAgICAgLy8gY29udHJvbGxlcidzIGNvbnN0cnVjdG9yIGl0c2VsZi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBhbGxvd3MgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byB0aGUgY29udHJvbGxlciBiZWZvcmUgdGhlIGNvbnN0cnVjdG9yIGlzXG4gICAgICAgIC8vIGludm9rZWQuIFByaW1hcmlseSwgdGhpcyBpcyB1c2VkIGZvciBpc29sYXRlIHNjb3BlIGJpbmRpbmdzIGluICRjb21waWxlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGZlYXR1cmUgaXMgbm90IGludGVuZGVkIGZvciB1c2UgYnkgYXBwbGljYXRpb25zLCBhbmQgaXMgdGh1cyBub3QgZG9jdW1lbnRlZFxuICAgICAgICAvLyBwdWJsaWNseS5cbiAgICAgICAgdmFyIENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgICAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gKGlzQXJyYXkoZXhwcmVzc2lvbikgP1xuICAgICAgICAgIGV4cHJlc3Npb25bZXhwcmVzc2lvbi5sZW5ndGggLSAxXSA6IGV4cHJlc3Npb24pLnByb3RvdHlwZTtcbiAgICAgICAgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3IoKTtcblxuICAgICAgICBpZiAoaWRlbnRpZmllcikge1xuICAgICAgICAgIGFkZElkZW50aWZpZXIobG9jYWxzLCBpZGVudGlmaWVyLCBpbnN0YW5jZSwgY29uc3RydWN0b3IgfHwgZXhwcmVzc2lvbi5uYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJGluamVjdG9yLmludm9rZShleHByZXNzaW9uLCBpbnN0YW5jZSwgbG9jYWxzLCBjb25zdHJ1Y3Rvcik7XG4gICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICB9LCB7XG4gICAgICAgICAgaW5zdGFuY2U6IGluc3RhbmNlLFxuICAgICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXJcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGluc3RhbmNlID0gJGluamVjdG9yLmluc3RhbnRpYXRlKGV4cHJlc3Npb24sIGxvY2FscywgY29uc3RydWN0b3IpO1xuXG4gICAgICBpZiAoaWRlbnRpZmllcikge1xuICAgICAgICBhZGRJZGVudGlmaWVyKGxvY2FscywgaWRlbnRpZmllciwgaW5zdGFuY2UsIGNvbnN0cnVjdG9yIHx8IGV4cHJlc3Npb24ubmFtZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gYWRkSWRlbnRpZmllcihsb2NhbHMsIGlkZW50aWZpZXIsIGluc3RhbmNlLCBuYW1lKSB7XG4gICAgICBpZiAoIShsb2NhbHMgJiYgaXNPYmplY3QobG9jYWxzLiRzY29wZSkpKSB7XG4gICAgICAgIHRocm93IG1pbkVycignJGNvbnRyb2xsZXInKSgnbm9zY3AnLFxuICAgICAgICAgIFwiQ2Fubm90IGV4cG9ydCBjb250cm9sbGVyICd7MH0nIGFzICd7MX0nISBObyAkc2NvcGUgb2JqZWN0IHByb3ZpZGVkIHZpYSBgbG9jYWxzYC5cIixcbiAgICAgICAgICBuYW1lLCBpZGVudGlmaWVyKTtcbiAgICAgIH1cblxuICAgICAgbG9jYWxzLiRzY29wZVtpZGVudGlmaWVyXSA9IGluc3RhbmNlO1xuICAgIH1cbiAgfV07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRkb2N1bWVudFxuICogQHJlcXVpcmVzICR3aW5kb3dcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEEge0BsaW5rIGFuZ3VsYXIuZWxlbWVudCBqUXVlcnkgb3IganFMaXRlfSB3cmFwcGVyIGZvciB0aGUgYnJvd3NlcidzIGB3aW5kb3cuZG9jdW1lbnRgIG9iamVjdC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwiZG9jdW1lbnRFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxwPiRkb2N1bWVudCB0aXRsZTogPGIgbmctYmluZD1cInRpdGxlXCI+PC9iPjwvcD5cbiAgICAgICAgIDxwPndpbmRvdy5kb2N1bWVudCB0aXRsZTogPGIgbmctYmluZD1cIndpbmRvd1RpdGxlXCI+PC9iPjwvcD5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ2RvY3VtZW50RXhhbXBsZScsIFtdKVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGRvY3VtZW50JywgZnVuY3Rpb24oJHNjb3BlLCAkZG9jdW1lbnQpIHtcbiAgICAgICAgICAgJHNjb3BlLnRpdGxlID0gJGRvY3VtZW50WzBdLnRpdGxlO1xuICAgICAgICAgICAkc2NvcGUud2luZG93VGl0bGUgPSBhbmd1bGFyLmVsZW1lbnQod2luZG93LmRvY3VtZW50KVswXS50aXRsZTtcbiAgICAgICAgIH1dKTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5mdW5jdGlvbiAkRG9jdW1lbnRQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgZnVuY3Rpb24od2luZG93KSB7XG4gICAgcmV0dXJuIGpxTGl0ZSh3aW5kb3cuZG9jdW1lbnQpO1xuICB9XTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGV4Y2VwdGlvbkhhbmRsZXJcbiAqIEByZXF1aXJlcyBuZy4kbG9nXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBbnkgdW5jYXVnaHQgZXhjZXB0aW9uIGluIGFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGVsZWdhdGVkIHRvIHRoaXMgc2VydmljZS5cbiAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHNpbXBseSBkZWxlZ2F0ZXMgdG8gYCRsb2cuZXJyb3JgIHdoaWNoIGxvZ3MgaXQgaW50b1xuICogdGhlIGJyb3dzZXIgY29uc29sZS5cbiAqXG4gKiBJbiB1bml0IHRlc3RzLCBpZiBgYW5ndWxhci1tb2Nrcy5qc2AgaXMgbG9hZGVkLCB0aGlzIHNlcnZpY2UgaXMgb3ZlcnJpZGRlbiBieVxuICoge0BsaW5rIG5nTW9jay4kZXhjZXB0aW9uSGFuZGxlciBtb2NrICRleGNlcHRpb25IYW5kbGVyfSB3aGljaCBhaWRzIGluIHRlc3RpbmcuXG4gKlxuICogIyMgRXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogICBhbmd1bGFyLm1vZHVsZSgnZXhjZXB0aW9uT3ZlcnJpZGUnLCBbXSkuZmFjdG9yeSgnJGV4Y2VwdGlvbkhhbmRsZXInLCBmdW5jdGlvbigpIHtcbiAqICAgICByZXR1cm4gZnVuY3Rpb24oZXhjZXB0aW9uLCBjYXVzZSkge1xuICogICAgICAgZXhjZXB0aW9uLm1lc3NhZ2UgKz0gJyAoY2F1c2VkIGJ5IFwiJyArIGNhdXNlICsgJ1wiKSc7XG4gKiAgICAgICB0aHJvdyBleGNlcHRpb247XG4gKiAgICAgfTtcbiAqICAgfSk7XG4gKiBgYGBcbiAqXG4gKiBUaGlzIGV4YW1wbGUgd2lsbCBvdmVycmlkZSB0aGUgbm9ybWFsIGFjdGlvbiBvZiBgJGV4Y2VwdGlvbkhhbmRsZXJgLCB0byBtYWtlIGFuZ3VsYXJcbiAqIGV4Y2VwdGlvbnMgZmFpbCBoYXJkIHdoZW4gdGhleSBoYXBwZW4sIGluc3RlYWQgb2YganVzdCBsb2dnaW5nIHRvIHRoZSBjb25zb2xlLlxuICpcbiAqIDxociAvPlxuICogTm90ZSwgdGhhdCBjb2RlIGV4ZWN1dGVkIGluIGV2ZW50LWxpc3RlbmVycyAoZXZlbiB0aG9zZSByZWdpc3RlcmVkIHVzaW5nIGpxTGl0ZSdzIGBvbmAvYGJpbmRgXG4gKiBtZXRob2RzKSBkb2VzIG5vdCBkZWxlZ2F0ZSBleGNlcHRpb25zIHRvIHRoZSB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9XG4gKiAodW5sZXNzIGV4ZWN1dGVkIGR1cmluZyBhIGRpZ2VzdCkuXG4gKlxuICogSWYgeW91IHdpc2gsIHlvdSBjYW4gbWFudWFsbHkgZGVsZWdhdGUgZXhjZXB0aW9ucywgZS5nLlxuICogYHRyeSB7IC4uLiB9IGNhdGNoKGUpIHsgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7IH1gXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXhjZXB0aW9uIEV4Y2VwdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhlIGVycm9yLlxuICogQHBhcmFtIHtzdHJpbmc9fSBjYXVzZSBvcHRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY29udGV4dCBpbiB3aGljaFxuICogICAgICAgdGhlIGVycm9yIHdhcyB0aHJvd24uXG4gKlxuICovXG5mdW5jdGlvbiAkRXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRsb2cnLCBmdW5jdGlvbigkbG9nKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGV4Y2VwdGlvbiwgY2F1c2UpIHtcbiAgICAgICRsb2cuZXJyb3IuYXBwbHkoJGxvZywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XTtcbn1cblxudmFyIEFQUExJQ0FUSU9OX0pTT04gPSAnYXBwbGljYXRpb24vanNvbic7XG52YXIgQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04gPSB7J0NvbnRlbnQtVHlwZSc6IEFQUExJQ0FUSU9OX0pTT04gKyAnO2NoYXJzZXQ9dXRmLTgnfTtcbnZhciBKU09OX1NUQVJUID0gL15cXHMqKFxcW3xcXHtbXlxce10pLztcbnZhciBKU09OX0VORCA9IC9bXFx9XFxdXVxccyokLztcbnZhciBKU09OX1BST1RFQ1RJT05fUFJFRklYID0gL15cXClcXF1cXH0nLD9cXG4vO1xuXG5mdW5jdGlvbiBkZWZhdWx0SHR0cFJlc3BvbnNlVHJhbnNmb3JtKGRhdGEsIGhlYWRlcnMpIHtcbiAgaWYgKGlzU3RyaW5nKGRhdGEpKSB7XG4gICAgLy8gc3RyaXAganNvbiB2dWxuZXJhYmlsaXR5IHByb3RlY3Rpb24gcHJlZml4XG4gICAgZGF0YSA9IGRhdGEucmVwbGFjZShKU09OX1BST1RFQ1RJT05fUFJFRklYLCAnJyk7XG4gICAgdmFyIGNvbnRlbnRUeXBlID0gaGVhZGVycygnQ29udGVudC1UeXBlJyk7XG4gICAgaWYgKChjb250ZW50VHlwZSAmJiBjb250ZW50VHlwZS5pbmRleE9mKEFQUExJQ0FUSU9OX0pTT04pID09PSAwKSB8fFxuICAgICAgICAoSlNPTl9TVEFSVC50ZXN0KGRhdGEpICYmIEpTT05fRU5ELnRlc3QoZGF0YSkpKSB7XG4gICAgICBkYXRhID0gZnJvbUpzb24oZGF0YSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBrZXkgdmFsdWUgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGhlYWRlcnMgUmF3IGhlYWRlcnMgYXMgYSBzdHJpbmdcbiAqIEByZXR1cm5zIHtPYmplY3R9IFBhcnNlZCBoZWFkZXJzIGFzIGtleSB2YWx1ZSBvYmplY3RcbiAqL1xuZnVuY3Rpb24gcGFyc2VIZWFkZXJzKGhlYWRlcnMpIHtcbiAgdmFyIHBhcnNlZCA9IHt9LCBrZXksIHZhbCwgaTtcblxuICBpZiAoIWhlYWRlcnMpIHJldHVybiBwYXJzZWQ7XG5cbiAgZm9yRWFjaChoZWFkZXJzLnNwbGl0KCdcXG4nKSwgZnVuY3Rpb24obGluZSkge1xuICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBrZXkgPSBsb3dlcmNhc2UodHJpbShsaW5lLnN1YnN0cigwLCBpKSkpO1xuICAgIHZhbCA9IHRyaW0obGluZS5zdWJzdHIoaSArIDEpKTtcblxuICAgIGlmIChrZXkpIHtcbiAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgcHJvdmlkZXMgYWNjZXNzIHRvIHBhcnNlZCBoZWFkZXJzLlxuICpcbiAqIEhlYWRlcnMgYXJlIGxhenkgcGFyc2VkIHdoZW4gZmlyc3QgcmVxdWVzdGVkLlxuICogQHNlZSBwYXJzZUhlYWRlcnNcbiAqXG4gKiBAcGFyYW0geyhzdHJpbmd8T2JqZWN0KX0gaGVhZGVycyBIZWFkZXJzIHRvIHByb3ZpZGUgYWNjZXNzIHRvLlxuICogQHJldHVybnMge2Z1bmN0aW9uKHN0cmluZz0pfSBSZXR1cm5zIGEgZ2V0dGVyIGZ1bmN0aW9uIHdoaWNoIGlmIGNhbGxlZCB3aXRoOlxuICpcbiAqICAgLSBpZiBjYWxsZWQgd2l0aCBzaW5nbGUgYW4gYXJndW1lbnQgcmV0dXJucyBhIHNpbmdsZSBoZWFkZXIgdmFsdWUgb3IgbnVsbFxuICogICAtIGlmIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50cyByZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCBoZWFkZXJzLlxuICovXG5mdW5jdGlvbiBoZWFkZXJzR2V0dGVyKGhlYWRlcnMpIHtcbiAgdmFyIGhlYWRlcnNPYmogPSBpc09iamVjdChoZWFkZXJzKSA/IGhlYWRlcnMgOiB1bmRlZmluZWQ7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBpZiAoIWhlYWRlcnNPYmopIGhlYWRlcnNPYmogPSAgcGFyc2VIZWFkZXJzKGhlYWRlcnMpO1xuXG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIHJldHVybiBoZWFkZXJzT2JqW2xvd2VyY2FzZShuYW1lKV0gfHwgbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gaGVhZGVyc09iajtcbiAgfTtcbn1cblxuXG4vKipcbiAqIENoYWluIGFsbCBnaXZlbiBmdW5jdGlvbnNcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgZm9yIGJvdGggcmVxdWVzdCBhbmQgcmVzcG9uc2UgdHJhbnNmb3JtaW5nXG4gKlxuICogQHBhcmFtIHsqfSBkYXRhIERhdGEgdG8gdHJhbnNmb3JtLlxuICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmc9KX0gaGVhZGVycyBIdHRwIGhlYWRlcnMgZ2V0dGVyIGZuLlxuICogQHBhcmFtIHsoRnVuY3Rpb258QXJyYXkuPEZ1bmN0aW9uPil9IGZucyBGdW5jdGlvbiBvciBhbiBhcnJheSBvZiBmdW5jdGlvbnMuXG4gKiBAcmV0dXJucyB7Kn0gVHJhbnNmb3JtZWQgZGF0YS5cbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShkYXRhLCBoZWFkZXJzLCBmbnMpIHtcbiAgaWYgKGlzRnVuY3Rpb24oZm5zKSlcbiAgICByZXR1cm4gZm5zKGRhdGEsIGhlYWRlcnMpO1xuXG4gIGZvckVhY2goZm5zLCBmdW5jdGlvbihmbikge1xuICAgIGRhdGEgPSBmbihkYXRhLCBoZWFkZXJzKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cblxuZnVuY3Rpb24gaXNTdWNjZXNzKHN0YXR1cykge1xuICByZXR1cm4gMjAwIDw9IHN0YXR1cyAmJiBzdGF0dXMgPCAzMDA7XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRodHRwUHJvdmlkZXJcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIGAkaHR0cFByb3ZpZGVyYCB0byBjaGFuZ2UgdGhlIGRlZmF1bHQgYmVoYXZpb3Igb2YgdGhlIHtAbGluayBuZy4kaHR0cCAkaHR0cH0gc2VydmljZS5cbiAqICovXG5mdW5jdGlvbiAkSHR0cFByb3ZpZGVyKCkge1xuICAvKipcbiAgICogQG5nZG9jIHByb3BlcnR5XG4gICAqIEBuYW1lICRodHRwUHJvdmlkZXIjZGVmYXVsdHNcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIE9iamVjdCBjb250YWluaW5nIGRlZmF1bHQgdmFsdWVzIGZvciBhbGwge0BsaW5rIG5nLiRodHRwICRodHRwfSByZXF1ZXN0cy5cbiAgICpcbiAgICogLSAqKmBkZWZhdWx0cy54c3JmQ29va2llTmFtZWAqKiAtIHtzdHJpbmd9IC0gTmFtZSBvZiBjb29raWUgY29udGFpbmluZyB0aGUgWFNSRiB0b2tlbi5cbiAgICogRGVmYXVsdHMgdmFsdWUgaXMgYCdYU1JGLVRPS0VOJ2AuXG4gICAqXG4gICAqIC0gKipgZGVmYXVsdHMueHNyZkhlYWRlck5hbWVgKiogLSB7c3RyaW5nfSAtIE5hbWUgb2YgSFRUUCBoZWFkZXIgdG8gcG9wdWxhdGUgd2l0aCB0aGVcbiAgICogWFNSRiB0b2tlbi4gRGVmYXVsdHMgdmFsdWUgaXMgYCdYLVhTUkYtVE9LRU4nYC5cbiAgICpcbiAgICogLSAqKmBkZWZhdWx0cy5oZWFkZXJzYCoqIC0ge09iamVjdH0gLSBEZWZhdWx0IGhlYWRlcnMgZm9yIGFsbCAkaHR0cCByZXF1ZXN0cy5cbiAgICogUmVmZXIgdG8ge0BsaW5rIG5nLiRodHRwI3NldHRpbmctaHR0cC1oZWFkZXJzICRodHRwfSBmb3IgZG9jdW1lbnRhdGlvbiBvblxuICAgKiBzZXR0aW5nIGRlZmF1bHQgaGVhZGVycy5cbiAgICogICAgIC0gKipgZGVmYXVsdHMuaGVhZGVycy5jb21tb25gKipcbiAgICogICAgIC0gKipgZGVmYXVsdHMuaGVhZGVycy5wb3N0YCoqXG4gICAqICAgICAtICoqYGRlZmF1bHRzLmhlYWRlcnMucHV0YCoqXG4gICAqICAgICAtICoqYGRlZmF1bHRzLmhlYWRlcnMucGF0Y2hgKipcbiAgICoqL1xuICB2YXIgZGVmYXVsdHMgPSB0aGlzLmRlZmF1bHRzID0ge1xuICAgIC8vIHRyYW5zZm9ybSBpbmNvbWluZyByZXNwb25zZSBkYXRhXG4gICAgdHJhbnNmb3JtUmVzcG9uc2U6IFtkZWZhdWx0SHR0cFJlc3BvbnNlVHJhbnNmb3JtXSxcblxuICAgIC8vIHRyYW5zZm9ybSBvdXRnb2luZyByZXF1ZXN0IGRhdGFcbiAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBbZnVuY3Rpb24oZCkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0KGQpICYmICFpc0ZpbGUoZCkgJiYgIWlzQmxvYihkKSA/IHRvSnNvbihkKSA6IGQ7XG4gICAgfV0sXG5cbiAgICAvLyBkZWZhdWx0IGhlYWRlcnNcbiAgICBoZWFkZXJzOiB7XG4gICAgICBjb21tb246IHtcbiAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonXG4gICAgICB9LFxuICAgICAgcG9zdDogICBzaGFsbG93Q29weShDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTiksXG4gICAgICBwdXQ6ICAgIHNoYWxsb3dDb3B5KENPTlRFTlRfVFlQRV9BUFBMSUNBVElPTl9KU09OKSxcbiAgICAgIHBhdGNoOiAgc2hhbGxvd0NvcHkoQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04pXG4gICAgfSxcblxuICAgIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXG4gICAgeHNyZkhlYWRlck5hbWU6ICdYLVhTUkYtVE9LRU4nXG4gIH07XG5cbiAgdmFyIHVzZUFwcGx5QXN5bmMgPSBmYWxzZTtcbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGh0dHBQcm92aWRlciN1c2VBcHBseUFzeW5jXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBDb25maWd1cmUgJGh0dHAgc2VydmljZSB0byBjb21iaW5lIHByb2Nlc3Npbmcgb2YgbXVsdGlwbGUgaHR0cCByZXNwb25zZXMgcmVjZWl2ZWQgYXQgYXJvdW5kXG4gICAqIHRoZSBzYW1lIHRpbWUgdmlhIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRhcHBseUFzeW5jICRyb290U2NvcGUuJGFwcGx5QXN5bmN9LiBUaGlzIGNhbiByZXN1bHQgaW5cbiAgICogc2lnbmlmaWNhbnQgcGVyZm9ybWFuY2UgaW1wcm92ZW1lbnQgZm9yIGJpZ2dlciBhcHBsaWNhdGlvbnMgdGhhdCBtYWtlIG1hbnkgSFRUUCByZXF1ZXN0c1xuICAgKiBjb25jdXJyZW50bHkgKGNvbW1vbiBkdXJpbmcgYXBwbGljYXRpb24gYm9vdHN0cmFwKS5cbiAgICpcbiAgICogRGVmYXVsdHMgdG8gZmFsc2UuIElmIG5vIHZhbHVlIGlzIHNwZWNpZmVkLCByZXR1cm5zIHRoZSBjdXJyZW50IGNvbmZpZ3VyZWQgdmFsdWUuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IHZhbHVlIElmIHRydWUsIHdoZW4gcmVxdWVzdHMgYXJlIGxvYWRlZCwgdGhleSB3aWxsIHNjaGVkdWxlIGEgZGVmZXJyZWRcbiAgICogICAgXCJhcHBseVwiIG9uIHRoZSBuZXh0IHRpY2ssIGdpdmluZyB0aW1lIGZvciBzdWJzZXF1ZW50IHJlcXVlc3RzIGluIGEgcm91Z2hseSB+MTBtcyB3aW5kb3dcbiAgICogICAgdG8gbG9hZCBhbmQgc2hhcmUgdGhlIHNhbWUgZGlnZXN0IGN5Y2xlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbnxPYmplY3R9IElmIGEgdmFsdWUgaXMgc3BlY2lmaWVkLCByZXR1cm5zIHRoZSAkaHR0cFByb3ZpZGVyIGZvciBjaGFpbmluZy5cbiAgICogICAgb3RoZXJ3aXNlLCByZXR1cm5zIHRoZSBjdXJyZW50IGNvbmZpZ3VyZWQgdmFsdWUuXG4gICAqKi9cbiAgdGhpcy51c2VBcHBseUFzeW5jID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgdXNlQXBwbHlBc3luYyA9ICEhdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIHVzZUFwcGx5QXN5bmM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgKiBAbmFtZSAkaHR0cFByb3ZpZGVyI2ludGVyY2VwdG9yc1xuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogQXJyYXkgY29udGFpbmluZyBzZXJ2aWNlIGZhY3RvcmllcyBmb3IgYWxsIHN5bmNocm9ub3VzIG9yIGFzeW5jaHJvbm91cyB7QGxpbmsgbmcuJGh0dHAgJGh0dHB9XG4gICAqIHByZS1wcm9jZXNzaW5nIG9mIHJlcXVlc3Qgb3IgcG9zdHByb2Nlc3Npbmcgb2YgcmVzcG9uc2VzLlxuICAgKlxuICAgKiBUaGVzZSBzZXJ2aWNlIGZhY3RvcmllcyBhcmUgb3JkZXJlZCBieSByZXF1ZXN0LCBpLmUuIHRoZXkgYXJlIGFwcGxpZWQgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlXG4gICAqIGFycmF5LCBvbiByZXF1ZXN0LCBidXQgcmV2ZXJzZSBvcmRlciwgb24gcmVzcG9uc2UuXG4gICAqXG4gICAqIHtAbGluayBuZy4kaHR0cCNpbnRlcmNlcHRvcnMgSW50ZXJjZXB0b3JzIGRldGFpbGVkIGluZm99XG4gICAqKi9cbiAgdmFyIGludGVyY2VwdG9yRmFjdG9yaWVzID0gdGhpcy5pbnRlcmNlcHRvcnMgPSBbXTtcblxuICB0aGlzLiRnZXQgPSBbJyRodHRwQmFja2VuZCcsICckYnJvd3NlcicsICckY2FjaGVGYWN0b3J5JywgJyRyb290U2NvcGUnLCAnJHEnLCAnJGluamVjdG9yJyxcbiAgICAgIGZ1bmN0aW9uKCRodHRwQmFja2VuZCwgJGJyb3dzZXIsICRjYWNoZUZhY3RvcnksICRyb290U2NvcGUsICRxLCAkaW5qZWN0b3IpIHtcblxuICAgIHZhciBkZWZhdWx0Q2FjaGUgPSAkY2FjaGVGYWN0b3J5KCckaHR0cCcpO1xuXG4gICAgLyoqXG4gICAgICogSW50ZXJjZXB0b3JzIHN0b3JlZCBpbiByZXZlcnNlIG9yZGVyLiBJbm5lciBpbnRlcmNlcHRvcnMgYmVmb3JlIG91dGVyIGludGVyY2VwdG9ycy5cbiAgICAgKiBUaGUgcmV2ZXJzYWwgaXMgbmVlZGVkIHNvIHRoYXQgd2UgY2FuIGJ1aWxkIHVwIHRoZSBpbnRlcmNlcHRpb24gY2hhaW4gYXJvdW5kIHRoZVxuICAgICAqIHNlcnZlciByZXF1ZXN0LlxuICAgICAqL1xuICAgIHZhciByZXZlcnNlZEludGVyY2VwdG9ycyA9IFtdO1xuXG4gICAgZm9yRWFjaChpbnRlcmNlcHRvckZhY3RvcmllcywgZnVuY3Rpb24oaW50ZXJjZXB0b3JGYWN0b3J5KSB7XG4gICAgICByZXZlcnNlZEludGVyY2VwdG9ycy51bnNoaWZ0KGlzU3RyaW5nKGludGVyY2VwdG9yRmFjdG9yeSlcbiAgICAgICAgICA/ICRpbmplY3Rvci5nZXQoaW50ZXJjZXB0b3JGYWN0b3J5KSA6ICRpbmplY3Rvci5pbnZva2UoaW50ZXJjZXB0b3JGYWN0b3J5KSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgJGh0dHBcbiAgICAgKiBAcmVxdWlyZXMgbmcuJGh0dHBCYWNrZW5kXG4gICAgICogQHJlcXVpcmVzICRjYWNoZUZhY3RvcnlcbiAgICAgKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxuICAgICAqIEByZXF1aXJlcyAkcVxuICAgICAqIEByZXF1aXJlcyAkaW5qZWN0b3JcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFRoZSBgJGh0dHBgIHNlcnZpY2UgaXMgYSBjb3JlIEFuZ3VsYXIgc2VydmljZSB0aGF0IGZhY2lsaXRhdGVzIGNvbW11bmljYXRpb24gd2l0aCB0aGUgcmVtb3RlXG4gICAgICogSFRUUCBzZXJ2ZXJzIHZpYSB0aGUgYnJvd3NlcidzIFtYTUxIdHRwUmVxdWVzdF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4veG1saHR0cHJlcXVlc3QpXG4gICAgICogb2JqZWN0IG9yIHZpYSBbSlNPTlBdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSlNPTlApLlxuICAgICAqXG4gICAgICogRm9yIHVuaXQgdGVzdGluZyBhcHBsaWNhdGlvbnMgdGhhdCB1c2UgYCRodHRwYCBzZXJ2aWNlLCBzZWVcbiAgICAgKiB7QGxpbmsgbmdNb2NrLiRodHRwQmFja2VuZCAkaHR0cEJhY2tlbmQgbW9ja30uXG4gICAgICpcbiAgICAgKiBGb3IgYSBoaWdoZXIgbGV2ZWwgb2YgYWJzdHJhY3Rpb24sIHBsZWFzZSBjaGVjayBvdXQgdGhlIHtAbGluayBuZ1Jlc291cmNlLiRyZXNvdXJjZVxuICAgICAqICRyZXNvdXJjZX0gc2VydmljZS5cbiAgICAgKlxuICAgICAqIFRoZSAkaHR0cCBBUEkgaXMgYmFzZWQgb24gdGhlIHtAbGluayBuZy4kcSBkZWZlcnJlZC9wcm9taXNlIEFQSXN9IGV4cG9zZWQgYnlcbiAgICAgKiB0aGUgJHEgc2VydmljZS4gV2hpbGUgZm9yIHNpbXBsZSB1c2FnZSBwYXR0ZXJucyB0aGlzIGRvZXNuJ3QgbWF0dGVyIG11Y2gsIGZvciBhZHZhbmNlZCB1c2FnZVxuICAgICAqIGl0IGlzIGltcG9ydGFudCB0byBmYW1pbGlhcml6ZSB5b3Vyc2VsZiB3aXRoIHRoZXNlIEFQSXMgYW5kIHRoZSBndWFyYW50ZWVzIHRoZXkgcHJvdmlkZS5cbiAgICAgKlxuICAgICAqXG4gICAgICogIyMgR2VuZXJhbCB1c2FnZVxuICAgICAqIFRoZSBgJGh0dHBgIHNlcnZpY2UgaXMgYSBmdW5jdGlvbiB3aGljaCB0YWtlcyBhIHNpbmdsZSBhcmd1bWVudCDigJQgYSBjb25maWd1cmF0aW9uIG9iamVjdCDigJRcbiAgICAgKiB0aGF0IGlzIHVzZWQgdG8gZ2VuZXJhdGUgYW4gSFRUUCByZXF1ZXN0IGFuZCByZXR1cm5zICBhIHtAbGluayBuZy4kcSBwcm9taXNlfVxuICAgICAqIHdpdGggdHdvICRodHRwIHNwZWNpZmljIG1ldGhvZHM6IGBzdWNjZXNzYCBhbmQgYGVycm9yYC5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogICAvLyBTaW1wbGUgR0VUIHJlcXVlc3QgZXhhbXBsZSA6XG4gICAgICogICAkaHR0cC5nZXQoJy9zb21lVXJsJykuXG4gICAgICogICAgIHN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgKiAgICAgICAvLyB0aGlzIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5XG4gICAgICogICAgICAgLy8gd2hlbiB0aGUgcmVzcG9uc2UgaXMgYXZhaWxhYmxlXG4gICAgICogICAgIH0pLlxuICAgICAqICAgICBlcnJvcihmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAqICAgICAgIC8vIGNhbGxlZCBhc3luY2hyb25vdXNseSBpZiBhbiBlcnJvciBvY2N1cnNcbiAgICAgKiAgICAgICAvLyBvciBzZXJ2ZXIgcmV0dXJucyByZXNwb25zZSB3aXRoIGFuIGVycm9yIHN0YXR1cy5cbiAgICAgKiAgICAgfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgLy8gU2ltcGxlIFBPU1QgcmVxdWVzdCBleGFtcGxlIChwYXNzaW5nIGRhdGEpIDpcbiAgICAgKiAgICRodHRwLnBvc3QoJy9zb21lVXJsJywge21zZzonaGVsbG8gd29yZCEnfSkuXG4gICAgICogICAgIHN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgKiAgICAgICAvLyB0aGlzIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5XG4gICAgICogICAgICAgLy8gd2hlbiB0aGUgcmVzcG9uc2UgaXMgYXZhaWxhYmxlXG4gICAgICogICAgIH0pLlxuICAgICAqICAgICBlcnJvcihmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAqICAgICAgIC8vIGNhbGxlZCBhc3luY2hyb25vdXNseSBpZiBhbiBlcnJvciBvY2N1cnNcbiAgICAgKiAgICAgICAvLyBvciBzZXJ2ZXIgcmV0dXJucyByZXNwb25zZSB3aXRoIGFuIGVycm9yIHN0YXR1cy5cbiAgICAgKiAgICAgfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKlxuICAgICAqIFNpbmNlIHRoZSByZXR1cm5lZCB2YWx1ZSBvZiBjYWxsaW5nIHRoZSAkaHR0cCBmdW5jdGlvbiBpcyBhIGBwcm9taXNlYCwgeW91IGNhbiBhbHNvIHVzZVxuICAgICAqIHRoZSBgdGhlbmAgbWV0aG9kIHRvIHJlZ2lzdGVyIGNhbGxiYWNrcywgYW5kIHRoZXNlIGNhbGxiYWNrcyB3aWxsIHJlY2VpdmUgYSBzaW5nbGUgYXJndW1lbnQg4oCTXG4gICAgICogYW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcmVzcG9uc2UuIFNlZSB0aGUgQVBJIHNpZ25hdHVyZSBhbmQgdHlwZSBpbmZvIGJlbG93IGZvciBtb3JlXG4gICAgICogZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEEgcmVzcG9uc2Ugc3RhdHVzIGNvZGUgYmV0d2VlbiAyMDAgYW5kIDI5OSBpcyBjb25zaWRlcmVkIGEgc3VjY2VzcyBzdGF0dXMgYW5kXG4gICAgICogd2lsbCByZXN1bHQgaW4gdGhlIHN1Y2Nlc3MgY2FsbGJhY2sgYmVpbmcgY2FsbGVkLiBOb3RlIHRoYXQgaWYgdGhlIHJlc3BvbnNlIGlzIGEgcmVkaXJlY3QsXG4gICAgICogWE1MSHR0cFJlcXVlc3Qgd2lsbCB0cmFuc3BhcmVudGx5IGZvbGxvdyBpdCwgbWVhbmluZyB0aGF0IHRoZSBlcnJvciBjYWxsYmFjayB3aWxsIG5vdCBiZVxuICAgICAqIGNhbGxlZCBmb3Igc3VjaCByZXNwb25zZXMuXG4gICAgICpcbiAgICAgKiAjIyBXcml0aW5nIFVuaXQgVGVzdHMgdGhhdCB1c2UgJGh0dHBcbiAgICAgKiBXaGVuIHVuaXQgdGVzdGluZyAodXNpbmcge0BsaW5rIG5nTW9jayBuZ01vY2t9KSwgaXQgaXMgbmVjZXNzYXJ5IHRvIGNhbGxcbiAgICAgKiB7QGxpbmsgbmdNb2NrLiRodHRwQmFja2VuZCNmbHVzaCAkaHR0cEJhY2tlbmQuZmx1c2goKX0gdG8gZmx1c2ggZWFjaCBwZW5kaW5nXG4gICAgICogcmVxdWVzdCB1c2luZyB0cmFpbmVkIHJlc3BvbnNlcy5cbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqICRodHRwQmFja2VuZC5leHBlY3RHRVQoLi4uKTtcbiAgICAgKiAkaHR0cC5nZXQoLi4uKTtcbiAgICAgKiAkaHR0cEJhY2tlbmQuZmx1c2goKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqICMjIFNob3J0Y3V0IG1ldGhvZHNcbiAgICAgKlxuICAgICAqIFNob3J0Y3V0IG1ldGhvZHMgYXJlIGFsc28gYXZhaWxhYmxlLiBBbGwgc2hvcnRjdXQgbWV0aG9kcyByZXF1aXJlIHBhc3NpbmcgaW4gdGhlIFVSTCwgYW5kXG4gICAgICogcmVxdWVzdCBkYXRhIG11c3QgYmUgcGFzc2VkIGluIGZvciBQT1NUL1BVVCByZXF1ZXN0cy5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogICAkaHR0cC5nZXQoJy9zb21lVXJsJykuc3VjY2VzcyhzdWNjZXNzQ2FsbGJhY2spO1xuICAgICAqICAgJGh0dHAucG9zdCgnL3NvbWVVcmwnLCBkYXRhKS5zdWNjZXNzKHN1Y2Nlc3NDYWxsYmFjayk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBDb21wbGV0ZSBsaXN0IG9mIHNob3J0Y3V0IG1ldGhvZHM6XG4gICAgICpcbiAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNnZXQgJGh0dHAuZ2V0fVxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI2hlYWQgJGh0dHAuaGVhZH1cbiAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNwb3N0ICRodHRwLnBvc3R9XG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjcHV0ICRodHRwLnB1dH1cbiAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNkZWxldGUgJGh0dHAuZGVsZXRlfVxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI2pzb25wICRodHRwLmpzb25wfVxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI3BhdGNoICRodHRwLnBhdGNofVxuICAgICAqXG4gICAgICpcbiAgICAgKiAjIyBTZXR0aW5nIEhUVFAgSGVhZGVyc1xuICAgICAqXG4gICAgICogVGhlICRodHRwIHNlcnZpY2Ugd2lsbCBhdXRvbWF0aWNhbGx5IGFkZCBjZXJ0YWluIEhUVFAgaGVhZGVycyB0byBhbGwgcmVxdWVzdHMuIFRoZXNlIGRlZmF1bHRzXG4gICAgICogY2FuIGJlIGZ1bGx5IGNvbmZpZ3VyZWQgYnkgYWNjZXNzaW5nIHRoZSBgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzYCBjb25maWd1cmF0aW9uXG4gICAgICogb2JqZWN0LCB3aGljaCBjdXJyZW50bHkgY29udGFpbnMgdGhpcyBkZWZhdWx0IGNvbmZpZ3VyYXRpb246XG4gICAgICpcbiAgICAgKiAtIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uYCAoaGVhZGVycyB0aGF0IGFyZSBjb21tb24gZm9yIGFsbCByZXF1ZXN0cyk6XG4gICAgICogICAtIGBBY2NlcHQ6IGFwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICogLyAqYFxuICAgICAqIC0gYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5wb3N0YDogKGhlYWRlciBkZWZhdWx0cyBmb3IgUE9TVCByZXF1ZXN0cylcbiAgICAgKiAgIC0gYENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbmBcbiAgICAgKiAtIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMucHV0YCAoaGVhZGVyIGRlZmF1bHRzIGZvciBQVVQgcmVxdWVzdHMpXG4gICAgICogICAtIGBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25gXG4gICAgICpcbiAgICAgKiBUbyBhZGQgb3Igb3ZlcndyaXRlIHRoZXNlIGRlZmF1bHRzLCBzaW1wbHkgYWRkIG9yIHJlbW92ZSBhIHByb3BlcnR5IGZyb20gdGhlc2UgY29uZmlndXJhdGlvblxuICAgICAqIG9iamVjdHMuIFRvIGFkZCBoZWFkZXJzIGZvciBhbiBIVFRQIG1ldGhvZCBvdGhlciB0aGFuIFBPU1Qgb3IgUFVULCBzaW1wbHkgYWRkIGEgbmV3IG9iamVjdFxuICAgICAqIHdpdGggdGhlIGxvd2VyY2FzZWQgSFRUUCBtZXRob2QgbmFtZSBhcyB0aGUga2V5LCBlLmcuXG4gICAgICogYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5nZXQgPSB7ICdNeS1IZWFkZXInIDogJ3ZhbHVlJyB9LlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHRzIGNhbiBhbHNvIGJlIHNldCBhdCBydW50aW1lIHZpYSB0aGUgYCRodHRwLmRlZmF1bHRzYCBvYmplY3QgaW4gdGhlIHNhbWVcbiAgICAgKiBmYXNoaW9uLiBGb3IgZXhhbXBsZTpcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIG1vZHVsZS5ydW4oZnVuY3Rpb24oJGh0dHApIHtcbiAgICAgKiAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgWW1WbGNEcGliMjl3J1xuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogSW4gYWRkaXRpb24sIHlvdSBjYW4gc3VwcGx5IGEgYGhlYWRlcnNgIHByb3BlcnR5IGluIHRoZSBjb25maWcgb2JqZWN0IHBhc3NlZCB3aGVuXG4gICAgICogY2FsbGluZyBgJGh0dHAoY29uZmlnKWAsIHdoaWNoIG92ZXJyaWRlcyB0aGUgZGVmYXVsdHMgd2l0aG91dCBjaGFuZ2luZyB0aGVtIGdsb2JhbGx5LlxuICAgICAqXG4gICAgICpcbiAgICAgKiAjIyBUcmFuc2Zvcm1pbmcgUmVxdWVzdHMgYW5kIFJlc3BvbnNlc1xuICAgICAqXG4gICAgICogQm90aCByZXF1ZXN0cyBhbmQgcmVzcG9uc2VzIGNhbiBiZSB0cmFuc2Zvcm1lZCB1c2luZyB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbnM6IGB0cmFuc2Zvcm1SZXF1ZXN0YFxuICAgICAqIGFuZCBgdHJhbnNmb3JtUmVzcG9uc2VgLiBUaGVzZSBwcm9wZXJ0aWVzIGNhbiBiZSBhIHNpbmdsZSBmdW5jdGlvbiB0aGF0IHJldHVybnNcbiAgICAgKiB0aGUgdHJhbnNmb3JtZWQgdmFsdWUgKGB7ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlcilgKSBvciBhbiBhcnJheSBvZiBzdWNoIHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9ucyxcbiAgICAgKiB3aGljaCBhbGxvd3MgeW91IHRvIGBwdXNoYCBvciBgdW5zaGlmdGAgYSBuZXcgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb24gaW50byB0aGUgdHJhbnNmb3JtYXRpb24gY2hhaW4uXG4gICAgICpcbiAgICAgKiAjIyMgRGVmYXVsdCBUcmFuc2Zvcm1hdGlvbnNcbiAgICAgKlxuICAgICAqIFRoZSBgJGh0dHBQcm92aWRlcmAgcHJvdmlkZXIgYW5kIGAkaHR0cGAgc2VydmljZSBleHBvc2UgYGRlZmF1bHRzLnRyYW5zZm9ybVJlcXVlc3RgIGFuZFxuICAgICAqIGBkZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZWAgcHJvcGVydGllcy4gSWYgYSByZXF1ZXN0IGRvZXMgbm90IHByb3ZpZGUgaXRzIG93biB0cmFuc2Zvcm1hdGlvbnNcbiAgICAgKiB0aGVuIHRoZXNlIHdpbGwgYmUgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIFlvdSBjYW4gYXVnbWVudCBvciByZXBsYWNlIHRoZSBkZWZhdWx0IHRyYW5zZm9ybWF0aW9ucyBieSBtb2RpZnlpbmcgdGhlc2UgcHJvcGVydGllcyBieSBhZGRpbmcgdG8gb3JcbiAgICAgKiByZXBsYWNpbmcgdGhlIGFycmF5LlxuICAgICAqXG4gICAgICogQW5ndWxhciBwcm92aWRlcyB0aGUgZm9sbG93aW5nIGRlZmF1bHQgdHJhbnNmb3JtYXRpb25zOlxuICAgICAqXG4gICAgICogUmVxdWVzdCB0cmFuc2Zvcm1hdGlvbnMgKGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLnRyYW5zZm9ybVJlcXVlc3RgIGFuZCBgJGh0dHAuZGVmYXVsdHMudHJhbnNmb3JtUmVxdWVzdGApOlxuICAgICAqXG4gICAgICogLSBJZiB0aGUgYGRhdGFgIHByb3BlcnR5IG9mIHRoZSByZXF1ZXN0IGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5zIGFuIG9iamVjdCwgc2VyaWFsaXplIGl0XG4gICAgICogICBpbnRvIEpTT04gZm9ybWF0LlxuICAgICAqXG4gICAgICogUmVzcG9uc2UgdHJhbnNmb3JtYXRpb25zIChgJGh0dHBQcm92aWRlci5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZWAgYW5kIGAkaHR0cC5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZWApOlxuICAgICAqXG4gICAgICogIC0gSWYgWFNSRiBwcmVmaXggaXMgZGV0ZWN0ZWQsIHN0cmlwIGl0IChzZWUgU2VjdXJpdHkgQ29uc2lkZXJhdGlvbnMgc2VjdGlvbiBiZWxvdykuXG4gICAgICogIC0gSWYgSlNPTiByZXNwb25zZSBpcyBkZXRlY3RlZCwgZGVzZXJpYWxpemUgaXQgdXNpbmcgYSBKU09OIHBhcnNlci5cbiAgICAgKlxuICAgICAqXG4gICAgICogIyMjIE92ZXJyaWRpbmcgdGhlIERlZmF1bHQgVHJhbnNmb3JtYXRpb25zIFBlciBSZXF1ZXN0XG4gICAgICpcbiAgICAgKiBJZiB5b3Ugd2lzaCBvdmVycmlkZSB0aGUgcmVxdWVzdC9yZXNwb25zZSB0cmFuc2Zvcm1hdGlvbnMgb25seSBmb3IgYSBzaW5nbGUgcmVxdWVzdCB0aGVuIHByb3ZpZGVcbiAgICAgKiBgdHJhbnNmb3JtUmVxdWVzdGAgYW5kL29yIGB0cmFuc2Zvcm1SZXNwb25zZWAgcHJvcGVydGllcyBvbiB0aGUgY29uZmlndXJhdGlvbiBvYmplY3QgcGFzc2VkXG4gICAgICogaW50byBgJGh0dHBgLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IGlmIHlvdSBwcm92aWRlIHRoZXNlIHByb3BlcnRpZXMgb24gdGhlIGNvbmZpZyBvYmplY3QgdGhlIGRlZmF1bHQgdHJhbnNmb3JtYXRpb25zIHdpbGwgYmVcbiAgICAgKiBvdmVyd3JpdHRlbi4gSWYgeW91IHdpc2ggdG8gYXVnbWVudCB0aGUgZGVmYXVsdCB0cmFuc2Zvcm1hdGlvbnMgdGhlbiB5b3UgbXVzdCBpbmNsdWRlIHRoZW0gaW4geW91clxuICAgICAqIGxvY2FsIHRyYW5zZm9ybWF0aW9uIGFycmF5LlxuICAgICAqXG4gICAgICogVGhlIGZvbGxvd2luZyBjb2RlIGRlbW9uc3RyYXRlcyBhZGRpbmcgYSBuZXcgcmVzcG9uc2UgdHJhbnNmb3JtYXRpb24gdG8gYmUgcnVuIGFmdGVyIHRoZSBkZWZhdWx0IHJlc3BvbnNlXG4gICAgICogdHJhbnNmb3JtYXRpb25zIGhhdmUgYmVlbiBydW4uXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGZ1bmN0aW9uIGFwcGVuZFRyYW5zZm9ybShkZWZhdWx0cywgdHJhbnNmb3JtKSB7XG4gICAgICpcbiAgICAgKiAgIC8vIFdlIGNhbid0IGd1YXJhbnRlZSB0aGF0IHRoZSBkZWZhdWx0IHRyYW5zZm9ybWF0aW9uIGlzIGFuIGFycmF5XG4gICAgICogICBkZWZhdWx0cyA9IGFuZ3VsYXIuaXNBcnJheShkZWZhdWx0cykgPyBkZWZhdWx0cyA6IFtkZWZhdWx0c107XG4gICAgICpcbiAgICAgKiAgIC8vIEFwcGVuZCB0aGUgbmV3IHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBkZWZhdWx0c1xuICAgICAqICAgcmV0dXJuIGRlZmF1bHRzLmNvbmNhdCh0cmFuc2Zvcm0pO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqICRodHRwKHtcbiAgICAgKiAgIHVybDogJy4uLicsXG4gICAgICogICBtZXRob2Q6ICdHRVQnLFxuICAgICAqICAgdHJhbnNmb3JtUmVzcG9uc2U6IGFwcGVuZFRyYW5zZm9ybSgkaHR0cC5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgICAgcmV0dXJuIGRvVHJhbnNmb3JtKHZhbHVlKTtcbiAgICAgKiAgIH0pXG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKlxuICAgICAqICMjIENhY2hpbmdcbiAgICAgKlxuICAgICAqIFRvIGVuYWJsZSBjYWNoaW5nLCBzZXQgdGhlIHJlcXVlc3QgY29uZmlndXJhdGlvbiBgY2FjaGVgIHByb3BlcnR5IHRvIGB0cnVlYCAodG8gdXNlIGRlZmF1bHRcbiAgICAgKiBjYWNoZSkgb3IgdG8gYSBjdXN0b20gY2FjaGUgb2JqZWN0IChidWlsdCB3aXRoIHtAbGluayBuZy4kY2FjaGVGYWN0b3J5IGAkY2FjaGVGYWN0b3J5YH0pLlxuICAgICAqIFdoZW4gdGhlIGNhY2hlIGlzIGVuYWJsZWQsIGAkaHR0cGAgc3RvcmVzIHRoZSByZXNwb25zZSBmcm9tIHRoZSBzZXJ2ZXIgaW4gdGhlIHNwZWNpZmllZFxuICAgICAqIGNhY2hlLiBUaGUgbmV4dCB0aW1lIHRoZSBzYW1lIHJlcXVlc3QgaXMgbWFkZSwgdGhlIHJlc3BvbnNlIGlzIHNlcnZlZCBmcm9tIHRoZSBjYWNoZSB3aXRob3V0XG4gICAgICogc2VuZGluZyBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlci5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCBldmVuIGlmIHRoZSByZXNwb25zZSBpcyBzZXJ2ZWQgZnJvbSBjYWNoZSwgZGVsaXZlcnkgb2YgdGhlIGRhdGEgaXMgYXN5bmNocm9ub3VzIGluXG4gICAgICogdGhlIHNhbWUgd2F5IHRoYXQgcmVhbCByZXF1ZXN0cyBhcmUuXG4gICAgICpcbiAgICAgKiBJZiB0aGVyZSBhcmUgbXVsdGlwbGUgR0VUIHJlcXVlc3RzIGZvciB0aGUgc2FtZSBVUkwgdGhhdCBzaG91bGQgYmUgY2FjaGVkIHVzaW5nIHRoZSBzYW1lXG4gICAgICogY2FjaGUsIGJ1dCB0aGUgY2FjaGUgaXMgbm90IHBvcHVsYXRlZCB5ZXQsIG9ubHkgb25lIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB3aWxsIGJlIG1hZGUgYW5kXG4gICAgICogdGhlIHJlbWFpbmluZyByZXF1ZXN0cyB3aWxsIGJlIGZ1bGZpbGxlZCB1c2luZyB0aGUgcmVzcG9uc2UgZnJvbSB0aGUgZmlyc3QgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIFlvdSBjYW4gY2hhbmdlIHRoZSBkZWZhdWx0IGNhY2hlIHRvIGEgbmV3IG9iamVjdCAoYnVpbHQgd2l0aFxuICAgICAqIHtAbGluayBuZy4kY2FjaGVGYWN0b3J5IGAkY2FjaGVGYWN0b3J5YH0pIGJ5IHVwZGF0aW5nIHRoZVxuICAgICAqIHtAbGluayBuZy4kaHR0cCNkZWZhdWx0cyBgJGh0dHAuZGVmYXVsdHMuY2FjaGVgfSBwcm9wZXJ0eS4gQWxsIHJlcXVlc3RzIHdobyBzZXRcbiAgICAgKiB0aGVpciBgY2FjaGVgIHByb3BlcnR5IHRvIGB0cnVlYCB3aWxsIG5vdyB1c2UgdGhpcyBjYWNoZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBJZiB5b3Ugc2V0IHRoZSBkZWZhdWx0IGNhY2hlIHRvIGBmYWxzZWAgdGhlbiBvbmx5IHJlcXVlc3RzIHRoYXQgc3BlY2lmeSB0aGVpciBvd24gY3VzdG9tXG4gICAgICogY2FjaGUgb2JqZWN0IHdpbGwgYmUgY2FjaGVkLlxuICAgICAqXG4gICAgICogIyMgSW50ZXJjZXB0b3JzXG4gICAgICpcbiAgICAgKiBCZWZvcmUgeW91IHN0YXJ0IGNyZWF0aW5nIGludGVyY2VwdG9ycywgYmUgc3VyZSB0byB1bmRlcnN0YW5kIHRoZVxuICAgICAqIHtAbGluayBuZy4kcSAkcSBhbmQgZGVmZXJyZWQvcHJvbWlzZSBBUElzfS5cbiAgICAgKlxuICAgICAqIEZvciBwdXJwb3NlcyBvZiBnbG9iYWwgZXJyb3IgaGFuZGxpbmcsIGF1dGhlbnRpY2F0aW9uLCBvciBhbnkga2luZCBvZiBzeW5jaHJvbm91cyBvclxuICAgICAqIGFzeW5jaHJvbm91cyBwcmUtcHJvY2Vzc2luZyBvZiByZXF1ZXN0IG9yIHBvc3Rwcm9jZXNzaW5nIG9mIHJlc3BvbnNlcywgaXQgaXMgZGVzaXJhYmxlIHRvIGJlXG4gICAgICogYWJsZSB0byBpbnRlcmNlcHQgcmVxdWVzdHMgYmVmb3JlIHRoZXkgYXJlIGhhbmRlZCB0byB0aGUgc2VydmVyIGFuZFxuICAgICAqIHJlc3BvbnNlcyBiZWZvcmUgdGhleSBhcmUgaGFuZGVkIG92ZXIgdG8gdGhlIGFwcGxpY2F0aW9uIGNvZGUgdGhhdFxuICAgICAqIGluaXRpYXRlZCB0aGVzZSByZXF1ZXN0cy4gVGhlIGludGVyY2VwdG9ycyBsZXZlcmFnZSB0aGUge0BsaW5rIG5nLiRxXG4gICAgICogcHJvbWlzZSBBUElzfSB0byBmdWxmaWxsIHRoaXMgbmVlZCBmb3IgYm90aCBzeW5jaHJvbm91cyBhbmQgYXN5bmNocm9ub3VzIHByZS1wcm9jZXNzaW5nLlxuICAgICAqXG4gICAgICogVGhlIGludGVyY2VwdG9ycyBhcmUgc2VydmljZSBmYWN0b3JpZXMgdGhhdCBhcmUgcmVnaXN0ZXJlZCB3aXRoIHRoZSBgJGh0dHBQcm92aWRlcmAgYnlcbiAgICAgKiBhZGRpbmcgdGhlbSB0byB0aGUgYCRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzYCBhcnJheS4gVGhlIGZhY3RvcnkgaXMgY2FsbGVkIGFuZFxuICAgICAqIGluamVjdGVkIHdpdGggZGVwZW5kZW5jaWVzIChpZiBzcGVjaWZpZWQpIGFuZCByZXR1cm5zIHRoZSBpbnRlcmNlcHRvci5cbiAgICAgKlxuICAgICAqIFRoZXJlIGFyZSB0d28ga2luZHMgb2YgaW50ZXJjZXB0b3JzIChhbmQgdHdvIGtpbmRzIG9mIHJlamVjdGlvbiBpbnRlcmNlcHRvcnMpOlxuICAgICAqXG4gICAgICogICAqIGByZXF1ZXN0YDogaW50ZXJjZXB0b3JzIGdldCBjYWxsZWQgd2l0aCBhIGh0dHAgYGNvbmZpZ2Agb2JqZWN0LiBUaGUgZnVuY3Rpb24gaXMgZnJlZSB0b1xuICAgICAqICAgICBtb2RpZnkgdGhlIGBjb25maWdgIG9iamVjdCBvciBjcmVhdGUgYSBuZXcgb25lLiBUaGUgZnVuY3Rpb24gbmVlZHMgdG8gcmV0dXJuIHRoZSBgY29uZmlnYFxuICAgICAqICAgICBvYmplY3QgZGlyZWN0bHksIG9yIGEgcHJvbWlzZSBjb250YWluaW5nIHRoZSBgY29uZmlnYCBvciBhIG5ldyBgY29uZmlnYCBvYmplY3QuXG4gICAgICogICAqIGByZXF1ZXN0RXJyb3JgOiBpbnRlcmNlcHRvciBnZXRzIGNhbGxlZCB3aGVuIGEgcHJldmlvdXMgaW50ZXJjZXB0b3IgdGhyZXcgYW4gZXJyb3Igb3JcbiAgICAgKiAgICAgcmVzb2x2ZWQgd2l0aCBhIHJlamVjdGlvbi5cbiAgICAgKiAgICogYHJlc3BvbnNlYDogaW50ZXJjZXB0b3JzIGdldCBjYWxsZWQgd2l0aCBodHRwIGByZXNwb25zZWAgb2JqZWN0LiBUaGUgZnVuY3Rpb24gaXMgZnJlZSB0b1xuICAgICAqICAgICBtb2RpZnkgdGhlIGByZXNwb25zZWAgb2JqZWN0IG9yIGNyZWF0ZSBhIG5ldyBvbmUuIFRoZSBmdW5jdGlvbiBuZWVkcyB0byByZXR1cm4gdGhlIGByZXNwb25zZWBcbiAgICAgKiAgICAgb2JqZWN0IGRpcmVjdGx5LCBvciBhcyBhIHByb21pc2UgY29udGFpbmluZyB0aGUgYHJlc3BvbnNlYCBvciBhIG5ldyBgcmVzcG9uc2VgIG9iamVjdC5cbiAgICAgKiAgICogYHJlc3BvbnNlRXJyb3JgOiBpbnRlcmNlcHRvciBnZXRzIGNhbGxlZCB3aGVuIGEgcHJldmlvdXMgaW50ZXJjZXB0b3IgdGhyZXcgYW4gZXJyb3Igb3JcbiAgICAgKiAgICAgcmVzb2x2ZWQgd2l0aCBhIHJlamVjdGlvbi5cbiAgICAgKlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgIC8vIHJlZ2lzdGVyIHRoZSBpbnRlcmNlcHRvciBhcyBhIHNlcnZpY2VcbiAgICAgKiAgICRwcm92aWRlLmZhY3RvcnkoJ215SHR0cEludGVyY2VwdG9yJywgZnVuY3Rpb24oJHEsIGRlcGVuZGVuY3kxLCBkZXBlbmRlbmN5Mikge1xuICAgICAqICAgICByZXR1cm4ge1xuICAgICAqICAgICAgIC8vIG9wdGlvbmFsIG1ldGhvZFxuICAgICAqICAgICAgICdyZXF1ZXN0JzogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICogICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gc3VjY2Vzc1xuICAgICAqICAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICAgKiAgICAgICB9LFxuICAgICAqXG4gICAgICogICAgICAgLy8gb3B0aW9uYWwgbWV0aG9kXG4gICAgICogICAgICAncmVxdWVzdEVycm9yJzogZnVuY3Rpb24ocmVqZWN0aW9uKSB7XG4gICAgICogICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gZXJyb3JcbiAgICAgKiAgICAgICAgIGlmIChjYW5SZWNvdmVyKHJlamVjdGlvbikpIHtcbiAgICAgKiAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlT3JOZXdQcm9taXNlXG4gICAgICogICAgICAgICB9XG4gICAgICogICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlamVjdGlvbik7XG4gICAgICogICAgICAgfSxcbiAgICAgKlxuICAgICAqXG4gICAgICpcbiAgICAgKiAgICAgICAvLyBvcHRpb25hbCBtZXRob2RcbiAgICAgKiAgICAgICAncmVzcG9uc2UnOiBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAqICAgICAgICAgLy8gZG8gc29tZXRoaW5nIG9uIHN1Y2Nlc3NcbiAgICAgKiAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgKiAgICAgICB9LFxuICAgICAqXG4gICAgICogICAgICAgLy8gb3B0aW9uYWwgbWV0aG9kXG4gICAgICogICAgICAncmVzcG9uc2VFcnJvcic6IGZ1bmN0aW9uKHJlamVjdGlvbikge1xuICAgICAqICAgICAgICAgLy8gZG8gc29tZXRoaW5nIG9uIGVycm9yXG4gICAgICogICAgICAgICBpZiAoY2FuUmVjb3ZlcihyZWplY3Rpb24pKSB7XG4gICAgICogICAgICAgICAgIHJldHVybiByZXNwb25zZU9yTmV3UHJvbWlzZVxuICAgICAqICAgICAgICAgfVxuICAgICAqICAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xuICAgICAqICAgICAgIH1cbiAgICAgKiAgICAgfTtcbiAgICAgKiAgIH0pO1xuICAgICAqXG4gICAgICogICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdteUh0dHBJbnRlcmNlcHRvcicpO1xuICAgICAqXG4gICAgICpcbiAgICAgKiAgIC8vIGFsdGVybmF0aXZlbHksIHJlZ2lzdGVyIHRoZSBpbnRlcmNlcHRvciB2aWEgYW4gYW5vbnltb3VzIGZhY3RvcnlcbiAgICAgKiAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goZnVuY3Rpb24oJHEsIGRlcGVuZGVuY3kxLCBkZXBlbmRlbmN5Mikge1xuICAgICAqICAgICByZXR1cm4ge1xuICAgICAqICAgICAgJ3JlcXVlc3QnOiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgKiAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlXG4gICAgICogICAgICAgfSxcbiAgICAgKlxuICAgICAqICAgICAgICdyZXNwb25zZSc6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICogICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZVxuICAgICAqICAgICAgIH1cbiAgICAgKiAgICAgfTtcbiAgICAgKiAgIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMgU2VjdXJpdHkgQ29uc2lkZXJhdGlvbnNcbiAgICAgKlxuICAgICAqIFdoZW4gZGVzaWduaW5nIHdlYiBhcHBsaWNhdGlvbnMsIGNvbnNpZGVyIHNlY3VyaXR5IHRocmVhdHMgZnJvbTpcbiAgICAgKlxuICAgICAqIC0gW0pTT04gdnVsbmVyYWJpbGl0eV0oaHR0cDovL2hhYWNrZWQuY29tL2FyY2hpdmUvMjAwOC8xMS8yMC9hbmF0b215LW9mLWEtc3VidGxlLWpzb24tdnVsbmVyYWJpbGl0eS5hc3B4KVxuICAgICAqIC0gW1hTUkZdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ3Jvc3Mtc2l0ZV9yZXF1ZXN0X2ZvcmdlcnkpXG4gICAgICpcbiAgICAgKiBCb3RoIHNlcnZlciBhbmQgdGhlIGNsaWVudCBtdXN0IGNvb3BlcmF0ZSBpbiBvcmRlciB0byBlbGltaW5hdGUgdGhlc2UgdGhyZWF0cy4gQW5ndWxhciBjb21lc1xuICAgICAqIHByZS1jb25maWd1cmVkIHdpdGggc3RyYXRlZ2llcyB0aGF0IGFkZHJlc3MgdGhlc2UgaXNzdWVzLCBidXQgZm9yIHRoaXMgdG8gd29yayBiYWNrZW5kIHNlcnZlclxuICAgICAqIGNvb3BlcmF0aW9uIGlzIHJlcXVpcmVkLlxuICAgICAqXG4gICAgICogIyMjIEpTT04gVnVsbmVyYWJpbGl0eSBQcm90ZWN0aW9uXG4gICAgICpcbiAgICAgKiBBIFtKU09OIHZ1bG5lcmFiaWxpdHldKGh0dHA6Ly9oYWFja2VkLmNvbS9hcmNoaXZlLzIwMDgvMTEvMjAvYW5hdG9teS1vZi1hLXN1YnRsZS1qc29uLXZ1bG5lcmFiaWxpdHkuYXNweClcbiAgICAgKiBhbGxvd3MgdGhpcmQgcGFydHkgd2Vic2l0ZSB0byB0dXJuIHlvdXIgSlNPTiByZXNvdXJjZSBVUkwgaW50b1xuICAgICAqIFtKU09OUF0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9KU09OUCkgcmVxdWVzdCB1bmRlciBzb21lIGNvbmRpdGlvbnMuIFRvXG4gICAgICogY291bnRlciB0aGlzIHlvdXIgc2VydmVyIGNhbiBwcmVmaXggYWxsIEpTT04gcmVxdWVzdHMgd2l0aCBmb2xsb3dpbmcgc3RyaW5nIGBcIildfScsXFxuXCJgLlxuICAgICAqIEFuZ3VsYXIgd2lsbCBhdXRvbWF0aWNhbGx5IHN0cmlwIHRoZSBwcmVmaXggYmVmb3JlIHByb2Nlc3NpbmcgaXQgYXMgSlNPTi5cbiAgICAgKlxuICAgICAqIEZvciBleGFtcGxlIGlmIHlvdXIgc2VydmVyIG5lZWRzIHRvIHJldHVybjpcbiAgICAgKiBgYGBqc1xuICAgICAqIFsnb25lJywndHdvJ11cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIHdoaWNoIGlzIHZ1bG5lcmFibGUgdG8gYXR0YWNrLCB5b3VyIHNlcnZlciBjYW4gcmV0dXJuOlxuICAgICAqIGBgYGpzXG4gICAgICogKV19JyxcbiAgICAgKiBbJ29uZScsJ3R3byddXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBBbmd1bGFyIHdpbGwgc3RyaXAgdGhlIHByZWZpeCwgYmVmb3JlIHByb2Nlc3NpbmcgdGhlIEpTT04uXG4gICAgICpcbiAgICAgKlxuICAgICAqICMjIyBDcm9zcyBTaXRlIFJlcXVlc3QgRm9yZ2VyeSAoWFNSRikgUHJvdGVjdGlvblxuICAgICAqXG4gICAgICogW1hTUkZdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ3Jvc3Mtc2l0ZV9yZXF1ZXN0X2ZvcmdlcnkpIGlzIGEgdGVjaG5pcXVlIGJ5IHdoaWNoXG4gICAgICogYW4gdW5hdXRob3JpemVkIHNpdGUgY2FuIGdhaW4geW91ciB1c2VyJ3MgcHJpdmF0ZSBkYXRhLiBBbmd1bGFyIHByb3ZpZGVzIGEgbWVjaGFuaXNtXG4gICAgICogdG8gY291bnRlciBYU1JGLiBXaGVuIHBlcmZvcm1pbmcgWEhSIHJlcXVlc3RzLCB0aGUgJGh0dHAgc2VydmljZSByZWFkcyBhIHRva2VuIGZyb20gYSBjb29raWVcbiAgICAgKiAoYnkgZGVmYXVsdCwgYFhTUkYtVE9LRU5gKSBhbmQgc2V0cyBpdCBhcyBhbiBIVFRQIGhlYWRlciAoYFgtWFNSRi1UT0tFTmApLiBTaW5jZSBvbmx5XG4gICAgICogSmF2YVNjcmlwdCB0aGF0IHJ1bnMgb24geW91ciBkb21haW4gY291bGQgcmVhZCB0aGUgY29va2llLCB5b3VyIHNlcnZlciBjYW4gYmUgYXNzdXJlZCB0aGF0XG4gICAgICogdGhlIFhIUiBjYW1lIGZyb20gSmF2YVNjcmlwdCBydW5uaW5nIG9uIHlvdXIgZG9tYWluLiBUaGUgaGVhZGVyIHdpbGwgbm90IGJlIHNldCBmb3JcbiAgICAgKiBjcm9zcy1kb21haW4gcmVxdWVzdHMuXG4gICAgICpcbiAgICAgKiBUbyB0YWtlIGFkdmFudGFnZSBvZiB0aGlzLCB5b3VyIHNlcnZlciBuZWVkcyB0byBzZXQgYSB0b2tlbiBpbiBhIEphdmFTY3JpcHQgcmVhZGFibGUgc2Vzc2lvblxuICAgICAqIGNvb2tpZSBjYWxsZWQgYFhTUkYtVE9LRU5gIG9uIHRoZSBmaXJzdCBIVFRQIEdFVCByZXF1ZXN0LiBPbiBzdWJzZXF1ZW50IFhIUiByZXF1ZXN0cyB0aGVcbiAgICAgKiBzZXJ2ZXIgY2FuIHZlcmlmeSB0aGF0IHRoZSBjb29raWUgbWF0Y2hlcyBgWC1YU1JGLVRPS0VOYCBIVFRQIGhlYWRlciwgYW5kIHRoZXJlZm9yZSBiZSBzdXJlXG4gICAgICogdGhhdCBvbmx5IEphdmFTY3JpcHQgcnVubmluZyBvbiB5b3VyIGRvbWFpbiBjb3VsZCBoYXZlIHNlbnQgdGhlIHJlcXVlc3QuIFRoZSB0b2tlbiBtdXN0IGJlXG4gICAgICogdW5pcXVlIGZvciBlYWNoIHVzZXIgYW5kIG11c3QgYmUgdmVyaWZpYWJsZSBieSB0aGUgc2VydmVyICh0byBwcmV2ZW50IHRoZSBKYXZhU2NyaXB0IGZyb21cbiAgICAgKiBtYWtpbmcgdXAgaXRzIG93biB0b2tlbnMpLiBXZSByZWNvbW1lbmQgdGhhdCB0aGUgdG9rZW4gaXMgYSBkaWdlc3Qgb2YgeW91ciBzaXRlJ3NcbiAgICAgKiBhdXRoZW50aWNhdGlvbiBjb29raWUgd2l0aCBhIFtzYWx0XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TYWx0XyhjcnlwdG9ncmFwaHkmIzQxOylcbiAgICAgKiBmb3IgYWRkZWQgc2VjdXJpdHkuXG4gICAgICpcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgaGVhZGVycyBjYW4gYmUgc3BlY2lmaWVkIHVzaW5nIHRoZSB4c3JmSGVhZGVyTmFtZSBhbmQgeHNyZkNvb2tpZU5hbWVcbiAgICAgKiBwcm9wZXJ0aWVzIG9mIGVpdGhlciAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzIGF0IGNvbmZpZy10aW1lLCAkaHR0cC5kZWZhdWx0cyBhdCBydW4tdGltZSxcbiAgICAgKiBvciB0aGUgcGVyLXJlcXVlc3QgY29uZmlnIG9iamVjdC5cbiAgICAgKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBPYmplY3QgZGVzY3JpYmluZyB0aGUgcmVxdWVzdCB0byBiZSBtYWRlIGFuZCBob3cgaXQgc2hvdWxkIGJlXG4gICAgICogICAgcHJvY2Vzc2VkLiBUaGUgb2JqZWN0IGhhcyBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAgKlxuICAgICAqICAgIC0gKiptZXRob2QqKiDigJMgYHtzdHJpbmd9YCDigJMgSFRUUCBtZXRob2QgKGUuZy4gJ0dFVCcsICdQT1NUJywgZXRjKVxuICAgICAqICAgIC0gKip1cmwqKiDigJMgYHtzdHJpbmd9YCDigJMgQWJzb2x1dGUgb3IgcmVsYXRpdmUgVVJMIG9mIHRoZSByZXNvdXJjZSB0aGF0IGlzIGJlaW5nIHJlcXVlc3RlZC5cbiAgICAgKiAgICAtICoqcGFyYW1zKiog4oCTIGB7T2JqZWN0LjxzdHJpbmd8T2JqZWN0Pn1gIOKAkyBNYXAgb2Ygc3RyaW5ncyBvciBvYmplY3RzIHdoaWNoIHdpbGwgYmUgdHVybmVkXG4gICAgICogICAgICB0byBgP2tleTE9dmFsdWUxJmtleTI9dmFsdWUyYCBhZnRlciB0aGUgdXJsLiBJZiB0aGUgdmFsdWUgaXMgbm90IGEgc3RyaW5nLCBpdCB3aWxsIGJlXG4gICAgICogICAgICBKU09OaWZpZWQuXG4gICAgICogICAgLSAqKmRhdGEqKiDigJMgYHtzdHJpbmd8T2JqZWN0fWAg4oCTIERhdGEgdG8gYmUgc2VudCBhcyB0aGUgcmVxdWVzdCBtZXNzYWdlIGRhdGEuXG4gICAgICogICAgLSAqKmhlYWRlcnMqKiDigJMgYHtPYmplY3R9YCDigJMgTWFwIG9mIHN0cmluZ3Mgb3IgZnVuY3Rpb25zIHdoaWNoIHJldHVybiBzdHJpbmdzIHJlcHJlc2VudGluZ1xuICAgICAqICAgICAgSFRUUCBoZWFkZXJzIHRvIHNlbmQgdG8gdGhlIHNlcnZlci4gSWYgdGhlIHJldHVybiB2YWx1ZSBvZiBhIGZ1bmN0aW9uIGlzIG51bGwsIHRoZVxuICAgICAqICAgICAgaGVhZGVyIHdpbGwgbm90IGJlIHNlbnQuXG4gICAgICogICAgLSAqKnhzcmZIZWFkZXJOYW1lKiog4oCTIGB7c3RyaW5nfWAg4oCTIE5hbWUgb2YgSFRUUCBoZWFkZXIgdG8gcG9wdWxhdGUgd2l0aCB0aGUgWFNSRiB0b2tlbi5cbiAgICAgKiAgICAtICoqeHNyZkNvb2tpZU5hbWUqKiDigJMgYHtzdHJpbmd9YCDigJMgTmFtZSBvZiBjb29raWUgY29udGFpbmluZyB0aGUgWFNSRiB0b2tlbi5cbiAgICAgKiAgICAtICoqdHJhbnNmb3JtUmVxdWVzdCoqIOKAk1xuICAgICAqICAgICAgYHtmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyKXxBcnJheS48ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlcik+fWAg4oCTXG4gICAgICogICAgICB0cmFuc2Zvcm0gZnVuY3Rpb24gb3IgYW4gYXJyYXkgb2Ygc3VjaCBmdW5jdGlvbnMuIFRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gdGFrZXMgdGhlIGh0dHBcbiAgICAgKiAgICAgIHJlcXVlc3QgYm9keSBhbmQgaGVhZGVycyBhbmQgcmV0dXJucyBpdHMgdHJhbnNmb3JtZWQgKHR5cGljYWxseSBzZXJpYWxpemVkKSB2ZXJzaW9uLlxuICAgICAqICAgICAgU2VlIHtAbGluayAjb3ZlcnJpZGluZy10aGUtZGVmYXVsdC10cmFuc2Zvcm1hdGlvbnMtcGVyLXJlcXVlc3QgT3ZlcnJpZGluZyB0aGUgRGVmYXVsdCBUcmFuc2Zvcm1hdGlvbnN9XG4gICAgICogICAgLSAqKnRyYW5zZm9ybVJlc3BvbnNlKiog4oCTXG4gICAgICogICAgICBge2Z1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpfEFycmF5LjxmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyKT59YCDigJNcbiAgICAgKiAgICAgIHRyYW5zZm9ybSBmdW5jdGlvbiBvciBhbiBhcnJheSBvZiBzdWNoIGZ1bmN0aW9ucy4gVGhlIHRyYW5zZm9ybSBmdW5jdGlvbiB0YWtlcyB0aGUgaHR0cFxuICAgICAqICAgICAgcmVzcG9uc2UgYm9keSBhbmQgaGVhZGVycyBhbmQgcmV0dXJucyBpdHMgdHJhbnNmb3JtZWQgKHR5cGljYWxseSBkZXNlcmlhbGl6ZWQpIHZlcnNpb24uXG4gICAgICogICAgICBTZWUge0BsaW5rICNvdmVycmlkaW5nLXRoZS1kZWZhdWx0LXRyYW5zZm9ybWF0aW9ucy1wZXItcmVxdWVzdCBPdmVycmlkaW5nIHRoZSBEZWZhdWx0IFRyYW5zZm9ybWF0aW9uc31cbiAgICAgKiAgICAtICoqY2FjaGUqKiDigJMgYHtib29sZWFufENhY2hlfWAg4oCTIElmIHRydWUsIGEgZGVmYXVsdCAkaHR0cCBjYWNoZSB3aWxsIGJlIHVzZWQgdG8gY2FjaGUgdGhlXG4gICAgICogICAgICBHRVQgcmVxdWVzdCwgb3RoZXJ3aXNlIGlmIGEgY2FjaGUgaW5zdGFuY2UgYnVpbHQgd2l0aFxuICAgICAqICAgICAge0BsaW5rIG5nLiRjYWNoZUZhY3RvcnkgJGNhY2hlRmFjdG9yeX0sIHRoaXMgY2FjaGUgd2lsbCBiZSB1c2VkIGZvclxuICAgICAqICAgICAgY2FjaGluZy5cbiAgICAgKiAgICAtICoqdGltZW91dCoqIOKAkyBge251bWJlcnxQcm9taXNlfWAg4oCTIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzLCBvciB7QGxpbmsgbmcuJHEgcHJvbWlzZX1cbiAgICAgKiAgICAgIHRoYXQgc2hvdWxkIGFib3J0IHRoZSByZXF1ZXN0IHdoZW4gcmVzb2x2ZWQuXG4gICAgICogICAgLSAqKndpdGhDcmVkZW50aWFscyoqIC0gYHtib29sZWFufWAgLSB3aGV0aGVyIHRvIHNldCB0aGUgYHdpdGhDcmVkZW50aWFsc2AgZmxhZyBvbiB0aGVcbiAgICAgKiAgICAgIFhIUiBvYmplY3QuIFNlZSBbcmVxdWVzdHMgd2l0aCBjcmVkZW50aWFsc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSFRUUC9BY2Nlc3NfY29udHJvbF9DT1JTI1JlcXVlc3RzX3dpdGhfY3JlZGVudGlhbHMpXG4gICAgICogICAgICBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKiAgICAtICoqcmVzcG9uc2VUeXBlKiogLSBge3N0cmluZ31gIC0gc2VlXG4gICAgICogICAgICBbcmVxdWVzdFR5cGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvRE9NL1hNTEh0dHBSZXF1ZXN0I3Jlc3BvbnNlVHlwZSkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IFJldHVybnMgYSB7QGxpbmsgbmcuJHEgcHJvbWlzZX0gb2JqZWN0IHdpdGggdGhlXG4gICAgICogICBzdGFuZGFyZCBgdGhlbmAgbWV0aG9kIGFuZCB0d28gaHR0cCBzcGVjaWZpYyBtZXRob2RzOiBgc3VjY2Vzc2AgYW5kIGBlcnJvcmAuIFRoZSBgdGhlbmBcbiAgICAgKiAgIG1ldGhvZCB0YWtlcyB0d28gYXJndW1lbnRzIGEgc3VjY2VzcyBhbmQgYW4gZXJyb3IgY2FsbGJhY2sgd2hpY2ggd2lsbCBiZSBjYWxsZWQgd2l0aCBhXG4gICAgICogICByZXNwb25zZSBvYmplY3QuIFRoZSBgc3VjY2Vzc2AgYW5kIGBlcnJvcmAgbWV0aG9kcyB0YWtlIGEgc2luZ2xlIGFyZ3VtZW50IC0gYSBmdW5jdGlvbiB0aGF0XG4gICAgICogICB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSByZXF1ZXN0IHN1Y2NlZWRzIG9yIGZhaWxzIHJlc3BlY3RpdmVseS4gVGhlIGFyZ3VtZW50cyBwYXNzZWQgaW50b1xuICAgICAqICAgdGhlc2UgZnVuY3Rpb25zIGFyZSBkZXN0cnVjdHVyZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJlc3BvbnNlIG9iamVjdCBwYXNzZWQgaW50byB0aGVcbiAgICAgKiAgIGB0aGVuYCBtZXRob2QuIFRoZSByZXNwb25zZSBvYmplY3QgaGFzIHRoZXNlIHByb3BlcnRpZXM6XG4gICAgICpcbiAgICAgKiAgIC0gKipkYXRhKiog4oCTIGB7c3RyaW5nfE9iamVjdH1gIOKAkyBUaGUgcmVzcG9uc2UgYm9keSB0cmFuc2Zvcm1lZCB3aXRoIHRoZSB0cmFuc2Zvcm1cbiAgICAgKiAgICAgZnVuY3Rpb25zLlxuICAgICAqICAgLSAqKnN0YXR1cyoqIOKAkyBge251bWJlcn1gIOKAkyBIVFRQIHN0YXR1cyBjb2RlIG9mIHRoZSByZXNwb25zZS5cbiAgICAgKiAgIC0gKipoZWFkZXJzKiog4oCTIGB7ZnVuY3Rpb24oW2hlYWRlck5hbWVdKX1gIOKAkyBIZWFkZXIgZ2V0dGVyIGZ1bmN0aW9uLlxuICAgICAqICAgLSAqKmNvbmZpZyoqIOKAkyBge09iamVjdH1gIOKAkyBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QgdGhhdCB3YXMgdXNlZCB0byBnZW5lcmF0ZSB0aGUgcmVxdWVzdC5cbiAgICAgKiAgIC0gKipzdGF0dXNUZXh0Kiog4oCTIGB7c3RyaW5nfWAg4oCTIEhUVFAgc3RhdHVzIHRleHQgb2YgdGhlIHJlc3BvbnNlLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHtBcnJheS48T2JqZWN0Pn0gcGVuZGluZ1JlcXVlc3RzIEFycmF5IG9mIGNvbmZpZyBvYmplY3RzIGZvciBjdXJyZW50bHkgcGVuZGluZ1xuICAgICAqICAgcmVxdWVzdHMuIFRoaXMgaXMgcHJpbWFyaWx5IG1lYW50IHRvIGJlIHVzZWQgZm9yIGRlYnVnZ2luZyBwdXJwb3Nlcy5cbiAgICAgKlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbjxleGFtcGxlIG1vZHVsZT1cImh0dHBFeGFtcGxlXCI+XG48ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJGZXRjaENvbnRyb2xsZXJcIj5cbiAgICA8c2VsZWN0IG5nLW1vZGVsPVwibWV0aG9kXCI+XG4gICAgICA8b3B0aW9uPkdFVDwvb3B0aW9uPlxuICAgICAgPG9wdGlvbj5KU09OUDwvb3B0aW9uPlxuICAgIDwvc2VsZWN0PlxuICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwidXJsXCIgc2l6ZT1cIjgwXCIvPlxuICAgIDxidXR0b24gaWQ9XCJmZXRjaGJ0blwiIG5nLWNsaWNrPVwiZmV0Y2goKVwiPmZldGNoPC9idXR0b24+PGJyPlxuICAgIDxidXR0b24gaWQ9XCJzYW1wbGVnZXRidG5cIiBuZy1jbGljaz1cInVwZGF0ZU1vZGVsKCdHRVQnLCAnaHR0cC1oZWxsby5odG1sJylcIj5TYW1wbGUgR0VUPC9idXR0b24+XG4gICAgPGJ1dHRvbiBpZD1cInNhbXBsZWpzb25wYnRuXCJcbiAgICAgIG5nLWNsaWNrPVwidXBkYXRlTW9kZWwoJ0pTT05QJyxcbiAgICAgICAgICAgICAgICAgICAgJ2h0dHBzOi8vYW5ndWxhcmpzLm9yZy9ncmVldC5waHA/Y2FsbGJhY2s9SlNPTl9DQUxMQkFDSyZuYW1lPVN1cGVyJTIwSGVybycpXCI+XG4gICAgICBTYW1wbGUgSlNPTlBcbiAgICA8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGlkPVwiaW52YWxpZGpzb25wYnRuXCJcbiAgICAgIG5nLWNsaWNrPVwidXBkYXRlTW9kZWwoJ0pTT05QJywgJ2h0dHBzOi8vYW5ndWxhcmpzLm9yZy9kb2VzbnRleGlzdCZjYWxsYmFjaz1KU09OX0NBTExCQUNLJylcIj5cbiAgICAgICAgSW52YWxpZCBKU09OUFxuICAgICAgPC9idXR0b24+XG4gICAgPHByZT5odHRwIHN0YXR1cyBjb2RlOiB7e3N0YXR1c319PC9wcmU+XG4gICAgPHByZT5odHRwIHJlc3BvbnNlIGRhdGE6IHt7ZGF0YX19PC9wcmU+XG4gIDwvZGl2PlxuPC9maWxlPlxuPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICBhbmd1bGFyLm1vZHVsZSgnaHR0cEV4YW1wbGUnLCBbXSlcbiAgICAuY29udHJvbGxlcignRmV0Y2hDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnJHRlbXBsYXRlQ2FjaGUnLFxuICAgICAgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgJHRlbXBsYXRlQ2FjaGUpIHtcbiAgICAgICAgJHNjb3BlLm1ldGhvZCA9ICdHRVQnO1xuICAgICAgICAkc2NvcGUudXJsID0gJ2h0dHAtaGVsbG8uaHRtbCc7XG5cbiAgICAgICAgJHNjb3BlLmZldGNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHNjb3BlLmNvZGUgPSBudWxsO1xuICAgICAgICAgICRzY29wZS5yZXNwb25zZSA9IG51bGw7XG5cbiAgICAgICAgICAkaHR0cCh7bWV0aG9kOiAkc2NvcGUubWV0aG9kLCB1cmw6ICRzY29wZS51cmwsIGNhY2hlOiAkdGVtcGxhdGVDYWNoZX0pLlxuICAgICAgICAgICAgc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgICAgICAgJHNjb3BlLmRhdGEgPSBkYXRhO1xuICAgICAgICAgICAgfSkuXG4gICAgICAgICAgICBlcnJvcihmdW5jdGlvbihkYXRhLCBzdGF0dXMpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmRhdGEgPSBkYXRhIHx8IFwiUmVxdWVzdCBmYWlsZWRcIjtcbiAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUudXBkYXRlTW9kZWwgPSBmdW5jdGlvbihtZXRob2QsIHVybCkge1xuICAgICAgICAgICRzY29wZS5tZXRob2QgPSBtZXRob2Q7XG4gICAgICAgICAgJHNjb3BlLnVybCA9IHVybDtcbiAgICAgICAgfTtcbiAgICAgIH1dKTtcbjwvZmlsZT5cbjxmaWxlIG5hbWU9XCJodHRwLWhlbGxvLmh0bWxcIj5cbiAgSGVsbG8sICRodHRwIVxuPC9maWxlPlxuPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICB2YXIgc3RhdHVzID0gZWxlbWVudChieS5iaW5kaW5nKCdzdGF0dXMnKSk7XG4gIHZhciBkYXRhID0gZWxlbWVudChieS5iaW5kaW5nKCdkYXRhJykpO1xuICB2YXIgZmV0Y2hCdG4gPSBlbGVtZW50KGJ5LmlkKCdmZXRjaGJ0bicpKTtcbiAgdmFyIHNhbXBsZUdldEJ0biA9IGVsZW1lbnQoYnkuaWQoJ3NhbXBsZWdldGJ0bicpKTtcbiAgdmFyIHNhbXBsZUpzb25wQnRuID0gZWxlbWVudChieS5pZCgnc2FtcGxlanNvbnBidG4nKSk7XG4gIHZhciBpbnZhbGlkSnNvbnBCdG4gPSBlbGVtZW50KGJ5LmlkKCdpbnZhbGlkanNvbnBidG4nKSk7XG5cbiAgaXQoJ3Nob3VsZCBtYWtlIGFuIHhociBHRVQgcmVxdWVzdCcsIGZ1bmN0aW9uKCkge1xuICAgIHNhbXBsZUdldEJ0bi5jbGljaygpO1xuICAgIGZldGNoQnRuLmNsaWNrKCk7XG4gICAgZXhwZWN0KHN0YXR1cy5nZXRUZXh0KCkpLnRvTWF0Y2goJzIwMCcpO1xuICAgIGV4cGVjdChkYXRhLmdldFRleHQoKSkudG9NYXRjaCgvSGVsbG8sIFxcJGh0dHAhLyk7XG4gIH0pO1xuXG4vLyBDb21tZW50ZWQgb3V0IGR1ZSB0byBmbGFrZXMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy85MTg1XG4vLyBpdCgnc2hvdWxkIG1ha2UgYSBKU09OUCByZXF1ZXN0IHRvIGFuZ3VsYXJqcy5vcmcnLCBmdW5jdGlvbigpIHtcbi8vICAgc2FtcGxlSnNvbnBCdG4uY2xpY2soKTtcbi8vICAgZmV0Y2hCdG4uY2xpY2soKTtcbi8vICAgZXhwZWN0KHN0YXR1cy5nZXRUZXh0KCkpLnRvTWF0Y2goJzIwMCcpO1xuLy8gICBleHBlY3QoZGF0YS5nZXRUZXh0KCkpLnRvTWF0Y2goL1N1cGVyIEhlcm8hLyk7XG4vLyB9KTtcblxuICBpdCgnc2hvdWxkIG1ha2UgSlNPTlAgcmVxdWVzdCB0byBpbnZhbGlkIFVSTCBhbmQgaW52b2tlIHRoZSBlcnJvciBoYW5kbGVyJyxcbiAgICAgIGZ1bmN0aW9uKCkge1xuICAgIGludmFsaWRKc29ucEJ0bi5jbGljaygpO1xuICAgIGZldGNoQnRuLmNsaWNrKCk7XG4gICAgZXhwZWN0KHN0YXR1cy5nZXRUZXh0KCkpLnRvTWF0Y2goJzAnKTtcbiAgICBleHBlY3QoZGF0YS5nZXRUZXh0KCkpLnRvTWF0Y2goJ1JlcXVlc3QgZmFpbGVkJyk7XG4gIH0pO1xuPC9maWxlPlxuPC9leGFtcGxlPlxuICAgICAqL1xuICAgIGZ1bmN0aW9uICRodHRwKHJlcXVlc3RDb25maWcpIHtcbiAgICAgIHZhciBjb25maWcgPSB7XG4gICAgICAgIG1ldGhvZDogJ2dldCcsXG4gICAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGRlZmF1bHRzLnRyYW5zZm9ybVJlcXVlc3QsXG4gICAgICAgIHRyYW5zZm9ybVJlc3BvbnNlOiBkZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICAgfTtcbiAgICAgIHZhciBoZWFkZXJzID0gbWVyZ2VIZWFkZXJzKHJlcXVlc3RDb25maWcpO1xuXG4gICAgICBleHRlbmQoY29uZmlnLCByZXF1ZXN0Q29uZmlnKTtcbiAgICAgIGNvbmZpZy5oZWFkZXJzID0gaGVhZGVycztcbiAgICAgIGNvbmZpZy5tZXRob2QgPSB1cHBlcmNhc2UoY29uZmlnLm1ldGhvZCk7XG5cbiAgICAgIHZhciBzZXJ2ZXJSZXF1ZXN0ID0gZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgIGhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcbiAgICAgICAgdmFyIHJlcURhdGEgPSB0cmFuc2Zvcm1EYXRhKGNvbmZpZy5kYXRhLCBoZWFkZXJzR2V0dGVyKGhlYWRlcnMpLCBjb25maWcudHJhbnNmb3JtUmVxdWVzdCk7XG5cbiAgICAgICAgLy8gc3RyaXAgY29udGVudC10eXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChyZXFEYXRhKSkge1xuICAgICAgICAgIGZvckVhY2goaGVhZGVycywgZnVuY3Rpb24odmFsdWUsIGhlYWRlcikge1xuICAgICAgICAgICAgaWYgKGxvd2VyY2FzZShoZWFkZXIpID09PSAnY29udGVudC10eXBlJykge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBoZWFkZXJzW2hlYWRlcl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNVbmRlZmluZWQoY29uZmlnLndpdGhDcmVkZW50aWFscykgJiYgIWlzVW5kZWZpbmVkKGRlZmF1bHRzLndpdGhDcmVkZW50aWFscykpIHtcbiAgICAgICAgICBjb25maWcud2l0aENyZWRlbnRpYWxzID0gZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2VuZCByZXF1ZXN0XG4gICAgICAgIHJldHVybiBzZW5kUmVxKGNvbmZpZywgcmVxRGF0YSwgaGVhZGVycykudGhlbih0cmFuc2Zvcm1SZXNwb25zZSwgdHJhbnNmb3JtUmVzcG9uc2UpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGNoYWluID0gW3NlcnZlclJlcXVlc3QsIHVuZGVmaW5lZF07XG4gICAgICB2YXIgcHJvbWlzZSA9ICRxLndoZW4oY29uZmlnKTtcblxuICAgICAgLy8gYXBwbHkgaW50ZXJjZXB0b3JzXG4gICAgICBmb3JFYWNoKHJldmVyc2VkSW50ZXJjZXB0b3JzLCBmdW5jdGlvbihpbnRlcmNlcHRvcikge1xuICAgICAgICBpZiAoaW50ZXJjZXB0b3IucmVxdWVzdCB8fCBpbnRlcmNlcHRvci5yZXF1ZXN0RXJyb3IpIHtcbiAgICAgICAgICBjaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLnJlcXVlc3QsIGludGVyY2VwdG9yLnJlcXVlc3RFcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludGVyY2VwdG9yLnJlc3BvbnNlIHx8IGludGVyY2VwdG9yLnJlc3BvbnNlRXJyb3IpIHtcbiAgICAgICAgICBjaGFpbi5wdXNoKGludGVyY2VwdG9yLnJlc3BvbnNlLCBpbnRlcmNlcHRvci5yZXNwb25zZUVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHdoaWxlIChjaGFpbi5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHRoZW5GbiA9IGNoYWluLnNoaWZ0KCk7XG4gICAgICAgIHZhciByZWplY3RGbiA9IGNoYWluLnNoaWZ0KCk7XG5cbiAgICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbih0aGVuRm4sIHJlamVjdEZuKTtcbiAgICAgIH1cblxuICAgICAgcHJvbWlzZS5zdWNjZXNzID0gZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgZm4ocmVzcG9uc2UuZGF0YSwgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5oZWFkZXJzLCBjb25maWcpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICBwcm9taXNlLmVycm9yID0gZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgcHJvbWlzZS50aGVuKG51bGwsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgZm4ocmVzcG9uc2UuZGF0YSwgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5oZWFkZXJzLCBjb25maWcpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcblxuICAgICAgZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgICAgICAgLy8gbWFrZSBhIGNvcHkgc2luY2UgdGhlIHJlc3BvbnNlIG11c3QgYmUgY2FjaGVhYmxlXG4gICAgICAgIHZhciByZXNwID0gZXh0ZW5kKHt9LCByZXNwb25zZSk7XG4gICAgICAgIGlmICghcmVzcG9uc2UuZGF0YSkge1xuICAgICAgICAgIHJlc3AuZGF0YSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzcC5kYXRhID0gdHJhbnNmb3JtRGF0YShyZXNwb25zZS5kYXRhLCByZXNwb25zZS5oZWFkZXJzLCBjb25maWcudHJhbnNmb3JtUmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoaXNTdWNjZXNzKHJlc3BvbnNlLnN0YXR1cykpXG4gICAgICAgICAgPyByZXNwXG4gICAgICAgICAgOiAkcS5yZWplY3QocmVzcCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG1lcmdlSGVhZGVycyhjb25maWcpIHtcbiAgICAgICAgdmFyIGRlZkhlYWRlcnMgPSBkZWZhdWx0cy5oZWFkZXJzLFxuICAgICAgICAgICAgcmVxSGVhZGVycyA9IGV4dGVuZCh7fSwgY29uZmlnLmhlYWRlcnMpLFxuICAgICAgICAgICAgZGVmSGVhZGVyTmFtZSwgbG93ZXJjYXNlRGVmSGVhZGVyTmFtZSwgcmVxSGVhZGVyTmFtZTtcblxuICAgICAgICBkZWZIZWFkZXJzID0gZXh0ZW5kKHt9LCBkZWZIZWFkZXJzLmNvbW1vbiwgZGVmSGVhZGVyc1tsb3dlcmNhc2UoY29uZmlnLm1ldGhvZCldKTtcblxuICAgICAgICAvLyB1c2luZyBmb3ItaW4gaW5zdGVhZCBvZiBmb3JFYWNoIHRvIGF2b2lkIHVuZWNlc3NhcnkgaXRlcmF0aW9uIGFmdGVyIGhlYWRlciBoYXMgYmVlbiBmb3VuZFxuICAgICAgICBkZWZhdWx0SGVhZGVyc0l0ZXJhdGlvbjpcbiAgICAgICAgZm9yIChkZWZIZWFkZXJOYW1lIGluIGRlZkhlYWRlcnMpIHtcbiAgICAgICAgICBsb3dlcmNhc2VEZWZIZWFkZXJOYW1lID0gbG93ZXJjYXNlKGRlZkhlYWRlck5hbWUpO1xuXG4gICAgICAgICAgZm9yIChyZXFIZWFkZXJOYW1lIGluIHJlcUhlYWRlcnMpIHtcbiAgICAgICAgICAgIGlmIChsb3dlcmNhc2UocmVxSGVhZGVyTmFtZSkgPT09IGxvd2VyY2FzZURlZkhlYWRlck5hbWUpIHtcbiAgICAgICAgICAgICAgY29udGludWUgZGVmYXVsdEhlYWRlcnNJdGVyYXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVxSGVhZGVyc1tkZWZIZWFkZXJOYW1lXSA9IGRlZkhlYWRlcnNbZGVmSGVhZGVyTmFtZV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBleGVjdXRlIGlmIGhlYWRlciB2YWx1ZSBpcyBhIGZ1bmN0aW9uIGZvciBtZXJnZWQgaGVhZGVyc1xuICAgICAgICBleGVjSGVhZGVycyhyZXFIZWFkZXJzKTtcbiAgICAgICAgcmV0dXJuIHJlcUhlYWRlcnM7XG5cbiAgICAgICAgZnVuY3Rpb24gZXhlY0hlYWRlcnMoaGVhZGVycykge1xuICAgICAgICAgIHZhciBoZWFkZXJDb250ZW50O1xuXG4gICAgICAgICAgZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbihoZWFkZXJGbiwgaGVhZGVyKSB7XG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihoZWFkZXJGbikpIHtcbiAgICAgICAgICAgICAgaGVhZGVyQ29udGVudCA9IGhlYWRlckZuKCk7XG4gICAgICAgICAgICAgIGlmIChoZWFkZXJDb250ZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzW2hlYWRlcl0gPSBoZWFkZXJDb250ZW50O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBoZWFkZXJzW2hlYWRlcl07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgICRodHRwLnBlbmRpbmdSZXF1ZXN0cyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRodHRwI2dldFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYEdFVGAgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgUmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMIHNwZWNpZnlpbmcgdGhlIGRlc3RpbmF0aW9uIG9mIHRoZSByZXF1ZXN0XG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3RcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkaHR0cCNkZWxldGVcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBERUxFVEVgIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGh0dHAjaGVhZFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYEhFQURgIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGh0dHAjanNvbnBcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBKU09OUGAgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgUmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMIHNwZWNpZnlpbmcgdGhlIGRlc3RpbmF0aW9uIG9mIHRoZSByZXF1ZXN0LlxuICAgICAqICAgICAgICAgICAgICAgICAgICAgVGhlIG5hbWUgb2YgdGhlIGNhbGxiYWNrIHNob3VsZCBiZSB0aGUgc3RyaW5nIGBKU09OX0NBTExCQUNLYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxuICAgICAqL1xuICAgIGNyZWF0ZVNob3J0TWV0aG9kcygnZ2V0JywgJ2RlbGV0ZScsICdoZWFkJywgJ2pzb25wJyk7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGh0dHAjcG9zdFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYFBPU1RgIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBSZXF1ZXN0IGNvbnRlbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRodHRwI3B1dFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYFBVVGAgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgUmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMIHNwZWNpZnlpbmcgdGhlIGRlc3RpbmF0aW9uIG9mIHRoZSByZXF1ZXN0XG4gICAgICogQHBhcmFtIHsqfSBkYXRhIFJlcXVlc3QgY29udGVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0XG4gICAgICovXG5cbiAgICAgLyoqXG4gICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICogQG5hbWUgJGh0dHAjcGF0Y2hcbiAgICAgICpcbiAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBQQVRDSGAgcmVxdWVzdC5cbiAgICAgICpcbiAgICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkwgc3BlY2lmeWluZyB0aGUgZGVzdGluYXRpb24gb2YgdGhlIHJlcXVlc3RcbiAgICAgICogQHBhcmFtIHsqfSBkYXRhIFJlcXVlc3QgY29udGVudFxuICAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3RcbiAgICAgICovXG4gICAgY3JlYXRlU2hvcnRNZXRob2RzV2l0aERhdGEoJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgICAgICAgKiBAbmFtZSAkaHR0cCNkZWZhdWx0c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUnVudGltZSBlcXVpdmFsZW50IG9mIHRoZSBgJGh0dHBQcm92aWRlci5kZWZhdWx0c2AgcHJvcGVydHkuIEFsbG93cyBjb25maWd1cmF0aW9uIG9mXG4gICAgICAgICAqIGRlZmF1bHQgaGVhZGVycywgd2l0aENyZWRlbnRpYWxzIGFzIHdlbGwgYXMgcmVxdWVzdCBhbmQgcmVzcG9uc2UgdHJhbnNmb3JtYXRpb25zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBTZWUgXCJTZXR0aW5nIEhUVFAgSGVhZGVyc1wiIGFuZCBcIlRyYW5zZm9ybWluZyBSZXF1ZXN0cyBhbmQgUmVzcG9uc2VzXCIgc2VjdGlvbnMgYWJvdmUuXG4gICAgICAgICAqL1xuICAgICRodHRwLmRlZmF1bHRzID0gZGVmYXVsdHM7XG5cblxuICAgIHJldHVybiAkaHR0cDtcblxuXG4gICAgZnVuY3Rpb24gY3JlYXRlU2hvcnRNZXRob2RzKG5hbWVzKSB7XG4gICAgICBmb3JFYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAkaHR0cFtuYW1lXSA9IGZ1bmN0aW9uKHVybCwgY29uZmlnKSB7XG4gICAgICAgICAgcmV0dXJuICRodHRwKGV4dGVuZChjb25maWcgfHwge30sIHtcbiAgICAgICAgICAgIG1ldGhvZDogbmFtZSxcbiAgICAgICAgICAgIHVybDogdXJsXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjcmVhdGVTaG9ydE1ldGhvZHNXaXRoRGF0YShuYW1lKSB7XG4gICAgICBmb3JFYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAkaHR0cFtuYW1lXSA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgICAgICAgcmV0dXJuICRodHRwKGV4dGVuZChjb25maWcgfHwge30sIHtcbiAgICAgICAgICAgIG1ldGhvZDogbmFtZSxcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTWFrZXMgdGhlIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiAhISEgQUNDRVNTRVMgQ0xPU1VSRSBWQVJTOlxuICAgICAqICRodHRwQmFja2VuZCwgZGVmYXVsdHMsICRsb2csICRyb290U2NvcGUsIGRlZmF1bHRDYWNoZSwgJGh0dHAucGVuZGluZ1JlcXVlc3RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2VuZFJlcShjb25maWcsIHJlcURhdGEsIHJlcUhlYWRlcnMpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCksXG4gICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2UsXG4gICAgICAgICAgY2FjaGUsXG4gICAgICAgICAgY2FjaGVkUmVzcCxcbiAgICAgICAgICB1cmwgPSBidWlsZFVybChjb25maWcudXJsLCBjb25maWcucGFyYW1zKTtcblxuICAgICAgJGh0dHAucGVuZGluZ1JlcXVlc3RzLnB1c2goY29uZmlnKTtcbiAgICAgIHByb21pc2UudGhlbihyZW1vdmVQZW5kaW5nUmVxLCByZW1vdmVQZW5kaW5nUmVxKTtcblxuXG4gICAgICBpZiAoKGNvbmZpZy5jYWNoZSB8fCBkZWZhdWx0cy5jYWNoZSkgJiYgY29uZmlnLmNhY2hlICE9PSBmYWxzZSAmJlxuICAgICAgICAgIChjb25maWcubWV0aG9kID09PSAnR0VUJyB8fCBjb25maWcubWV0aG9kID09PSAnSlNPTlAnKSkge1xuICAgICAgICBjYWNoZSA9IGlzT2JqZWN0KGNvbmZpZy5jYWNoZSkgPyBjb25maWcuY2FjaGVcbiAgICAgICAgICAgICAgOiBpc09iamVjdChkZWZhdWx0cy5jYWNoZSkgPyBkZWZhdWx0cy5jYWNoZVxuICAgICAgICAgICAgICA6IGRlZmF1bHRDYWNoZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgIGNhY2hlZFJlc3AgPSBjYWNoZS5nZXQodXJsKTtcbiAgICAgICAgaWYgKGlzRGVmaW5lZChjYWNoZWRSZXNwKSkge1xuICAgICAgICAgIGlmIChpc1Byb21pc2VMaWtlKGNhY2hlZFJlc3ApKSB7XG4gICAgICAgICAgICAvLyBjYWNoZWQgcmVxdWVzdCBoYXMgYWxyZWFkeSBiZWVuIHNlbnQsIGJ1dCB0aGVyZSBpcyBubyByZXNwb25zZSB5ZXRcbiAgICAgICAgICAgIGNhY2hlZFJlc3AudGhlbihyZW1vdmVQZW5kaW5nUmVxLCByZW1vdmVQZW5kaW5nUmVxKTtcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRSZXNwO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBzZXJ2aW5nIGZyb20gY2FjaGVcbiAgICAgICAgICAgIGlmIChpc0FycmF5KGNhY2hlZFJlc3ApKSB7XG4gICAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKGNhY2hlZFJlc3BbMV0sIGNhY2hlZFJlc3BbMF0sIHNoYWxsb3dDb3B5KGNhY2hlZFJlc3BbMl0pLCBjYWNoZWRSZXNwWzNdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKGNhY2hlZFJlc3AsIDIwMCwge30sICdPSycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBwdXQgdGhlIHByb21pc2UgZm9yIHRoZSBub24tdHJhbnNmb3JtZWQgcmVzcG9uc2UgaW50byBjYWNoZSBhcyBhIHBsYWNlaG9sZGVyXG4gICAgICAgICAgY2FjaGUucHV0KHVybCwgcHJvbWlzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuXG4gICAgICAvLyBpZiB3ZSB3b24ndCBoYXZlIHRoZSByZXNwb25zZSBpbiBjYWNoZSwgc2V0IHRoZSB4c3JmIGhlYWRlcnMgYW5kXG4gICAgICAvLyBzZW5kIHRoZSByZXF1ZXN0IHRvIHRoZSBiYWNrZW5kXG4gICAgICBpZiAoaXNVbmRlZmluZWQoY2FjaGVkUmVzcCkpIHtcbiAgICAgICAgdmFyIHhzcmZWYWx1ZSA9IHVybElzU2FtZU9yaWdpbihjb25maWcudXJsKVxuICAgICAgICAgICAgPyAkYnJvd3Nlci5jb29raWVzKClbY29uZmlnLnhzcmZDb29raWVOYW1lIHx8IGRlZmF1bHRzLnhzcmZDb29raWVOYW1lXVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgICByZXFIZWFkZXJzWyhjb25maWcueHNyZkhlYWRlck5hbWUgfHwgZGVmYXVsdHMueHNyZkhlYWRlck5hbWUpXSA9IHhzcmZWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgICRodHRwQmFja2VuZChjb25maWcubWV0aG9kLCB1cmwsIHJlcURhdGEsIGRvbmUsIHJlcUhlYWRlcnMsIGNvbmZpZy50aW1lb3V0LFxuICAgICAgICAgICAgY29uZmlnLndpdGhDcmVkZW50aWFscywgY29uZmlnLnJlc3BvbnNlVHlwZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuXG5cbiAgICAgIC8qKlxuICAgICAgICogQ2FsbGJhY2sgcmVnaXN0ZXJlZCB0byAkaHR0cEJhY2tlbmQoKTpcbiAgICAgICAqICAtIGNhY2hlcyB0aGUgcmVzcG9uc2UgaWYgZGVzaXJlZFxuICAgICAgICogIC0gcmVzb2x2ZXMgdGhlIHJhdyAkaHR0cCBwcm9taXNlXG4gICAgICAgKiAgLSBjYWxscyAkYXBwbHlcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gZG9uZShzdGF0dXMsIHJlc3BvbnNlLCBoZWFkZXJzU3RyaW5nLCBzdGF0dXNUZXh0KSB7XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgIGlmIChpc1N1Y2Nlc3Moc3RhdHVzKSkge1xuICAgICAgICAgICAgY2FjaGUucHV0KHVybCwgW3N0YXR1cywgcmVzcG9uc2UsIHBhcnNlSGVhZGVycyhoZWFkZXJzU3RyaW5nKSwgc3RhdHVzVGV4dF0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgcHJvbWlzZSBmcm9tIHRoZSBjYWNoZVxuICAgICAgICAgICAgY2FjaGUucmVtb3ZlKHVybCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZUh0dHBQcm9taXNlKCkge1xuICAgICAgICAgIHJlc29sdmVQcm9taXNlKHJlc3BvbnNlLCBzdGF0dXMsIGhlYWRlcnNTdHJpbmcsIHN0YXR1c1RleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVzZUFwcGx5QXN5bmMpIHtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseUFzeW5jKHJlc29sdmVIdHRwUHJvbWlzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZUh0dHBQcm9taXNlKCk7XG4gICAgICAgICAgaWYgKCEkcm9vdFNjb3BlLiQkcGhhc2UpICRyb290U2NvcGUuJGFwcGx5KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuXG4gICAgICAvKipcbiAgICAgICAqIFJlc29sdmVzIHRoZSByYXcgJGh0dHAgcHJvbWlzZS5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UocmVzcG9uc2UsIHN0YXR1cywgaGVhZGVycywgc3RhdHVzVGV4dCkge1xuICAgICAgICAvLyBub3JtYWxpemUgaW50ZXJuYWwgc3RhdHVzZXMgdG8gMFxuICAgICAgICBzdGF0dXMgPSBNYXRoLm1heChzdGF0dXMsIDApO1xuXG4gICAgICAgIChpc1N1Y2Nlc3Moc3RhdHVzKSA/IGRlZmVycmVkLnJlc29sdmUgOiBkZWZlcnJlZC5yZWplY3QpKHtcbiAgICAgICAgICBkYXRhOiByZXNwb25zZSxcbiAgICAgICAgICBzdGF0dXM6IHN0YXR1cyxcbiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzR2V0dGVyKGhlYWRlcnMpLFxuICAgICAgICAgIGNvbmZpZzogY29uZmlnLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHN0YXR1c1RleHRcbiAgICAgICAgfSk7XG4gICAgICB9XG5cblxuICAgICAgZnVuY3Rpb24gcmVtb3ZlUGVuZGluZ1JlcSgpIHtcbiAgICAgICAgdmFyIGlkeCA9ICRodHRwLnBlbmRpbmdSZXF1ZXN0cy5pbmRleE9mKGNvbmZpZyk7XG4gICAgICAgIGlmIChpZHggIT09IC0xKSAkaHR0cC5wZW5kaW5nUmVxdWVzdHMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBidWlsZFVybCh1cmwsIHBhcmFtcykge1xuICAgICAgaWYgKCFwYXJhbXMpIHJldHVybiB1cmw7XG4gICAgICB2YXIgcGFydHMgPSBbXTtcbiAgICAgIGZvckVhY2hTb3J0ZWQocGFyYW1zLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCBpc1VuZGVmaW5lZCh2YWx1ZSkpIHJldHVybjtcbiAgICAgICAgaWYgKCFpc0FycmF5KHZhbHVlKSkgdmFsdWUgPSBbdmFsdWVdO1xuXG4gICAgICAgIGZvckVhY2godmFsdWUsIGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICBpZiAoaXNPYmplY3QodikpIHtcbiAgICAgICAgICAgIGlmIChpc0RhdGUodikpIHtcbiAgICAgICAgICAgICAgdiA9IHYudG9JU09TdHJpbmcoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHYgPSB0b0pzb24odik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5KSArICc9JyArXG4gICAgICAgICAgICAgICAgICAgICBlbmNvZGVVcmlRdWVyeSh2KSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBpZiAocGFydHMubGVuZ3RoID4gMCkge1xuICAgICAgICB1cmwgKz0gKCh1cmwuaW5kZXhPZignPycpID09IC0xKSA/ICc/JyA6ICcmJykgKyBwYXJ0cy5qb2luKCcmJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXJsO1xuICAgIH1cbiAgfV07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVhocigpIHtcbiAgICByZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkaHR0cEJhY2tlbmRcbiAqIEByZXF1aXJlcyAkd2luZG93XG4gKiBAcmVxdWlyZXMgJGRvY3VtZW50XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIVFRQIGJhY2tlbmQgdXNlZCBieSB0aGUge0BsaW5rIG5nLiRodHRwIHNlcnZpY2V9IHRoYXQgZGVsZWdhdGVzIHRvXG4gKiBYTUxIdHRwUmVxdWVzdCBvYmplY3Qgb3IgSlNPTlAgYW5kIGRlYWxzIHdpdGggYnJvd3NlciBpbmNvbXBhdGliaWxpdGllcy5cbiAqXG4gKiBZb3Ugc2hvdWxkIG5ldmVyIG5lZWQgdG8gdXNlIHRoaXMgc2VydmljZSBkaXJlY3RseSwgaW5zdGVhZCB1c2UgdGhlIGhpZ2hlci1sZXZlbCBhYnN0cmFjdGlvbnM6XG4gKiB7QGxpbmsgbmcuJGh0dHAgJGh0dHB9IG9yIHtAbGluayBuZ1Jlc291cmNlLiRyZXNvdXJjZSAkcmVzb3VyY2V9LlxuICpcbiAqIER1cmluZyB0ZXN0aW5nIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgc3dhcHBlZCB3aXRoIHtAbGluayBuZ01vY2suJGh0dHBCYWNrZW5kIG1vY2tcbiAqICRodHRwQmFja2VuZH0gd2hpY2ggY2FuIGJlIHRyYWluZWQgd2l0aCByZXNwb25zZXMuXG4gKi9cbmZ1bmN0aW9uICRIdHRwQmFja2VuZFByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRicm93c2VyJywgJyR3aW5kb3cnLCAnJGRvY3VtZW50JywgZnVuY3Rpb24oJGJyb3dzZXIsICR3aW5kb3csICRkb2N1bWVudCkge1xuICAgIHJldHVybiBjcmVhdGVIdHRwQmFja2VuZCgkYnJvd3NlciwgY3JlYXRlWGhyLCAkYnJvd3Nlci5kZWZlciwgJHdpbmRvdy5hbmd1bGFyLmNhbGxiYWNrcywgJGRvY3VtZW50WzBdKTtcbiAgfV07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUh0dHBCYWNrZW5kKCRicm93c2VyLCBjcmVhdGVYaHIsICRicm93c2VyRGVmZXIsIGNhbGxiYWNrcywgcmF3RG9jdW1lbnQpIHtcbiAgLy8gVE9ETyh2b2p0YSk6IGZpeCB0aGUgc2lnbmF0dXJlXG4gIHJldHVybiBmdW5jdGlvbihtZXRob2QsIHVybCwgcG9zdCwgY2FsbGJhY2ssIGhlYWRlcnMsIHRpbWVvdXQsIHdpdGhDcmVkZW50aWFscywgcmVzcG9uc2VUeXBlKSB7XG4gICAgJGJyb3dzZXIuJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudCgpO1xuICAgIHVybCA9IHVybCB8fCAkYnJvd3Nlci51cmwoKTtcblxuICAgIGlmIChsb3dlcmNhc2UobWV0aG9kKSA9PSAnanNvbnAnKSB7XG4gICAgICB2YXIgY2FsbGJhY2tJZCA9ICdfJyArIChjYWxsYmFja3MuY291bnRlcisrKS50b1N0cmluZygzNik7XG4gICAgICBjYWxsYmFja3NbY2FsbGJhY2tJZF0gPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIGNhbGxiYWNrc1tjYWxsYmFja0lkXS5kYXRhID0gZGF0YTtcbiAgICAgICAgY2FsbGJhY2tzW2NhbGxiYWNrSWRdLmNhbGxlZCA9IHRydWU7XG4gICAgICB9O1xuXG4gICAgICB2YXIganNvbnBEb25lID0ganNvbnBSZXEodXJsLnJlcGxhY2UoJ0pTT05fQ0FMTEJBQ0snLCAnYW5ndWxhci5jYWxsYmFja3MuJyArIGNhbGxiYWNrSWQpLFxuICAgICAgICAgIGNhbGxiYWNrSWQsIGZ1bmN0aW9uKHN0YXR1cywgdGV4dCkge1xuICAgICAgICBjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssIHN0YXR1cywgY2FsbGJhY2tzW2NhbGxiYWNrSWRdLmRhdGEsIFwiXCIsIHRleHQpO1xuICAgICAgICBjYWxsYmFja3NbY2FsbGJhY2tJZF0gPSBub29wO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcblxuICAgICAgdmFyIHhociA9IGNyZWF0ZVhocigpO1xuXG4gICAgICB4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XG4gICAgICBmb3JFYWNoKGhlYWRlcnMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uIHJlcXVlc3RMb2FkZWQoKSB7XG4gICAgICAgIHZhciBzdGF0dXNUZXh0ID0geGhyLnN0YXR1c1RleHQgfHwgJyc7XG5cbiAgICAgICAgLy8gcmVzcG9uc2VUZXh0IGlzIHRoZSBvbGQtc2Nob29sIHdheSBvZiByZXRyaWV2aW5nIHJlc3BvbnNlIChzdXBwb3J0ZWQgYnkgSUU4ICYgOSlcbiAgICAgICAgLy8gcmVzcG9uc2UvcmVzcG9uc2VUeXBlIHByb3BlcnRpZXMgd2VyZSBpbnRyb2R1Y2VkIGluIFhIUiBMZXZlbDIgc3BlYyAoc3VwcG9ydGVkIGJ5IElFMTApXG4gICAgICAgIHZhciByZXNwb25zZSA9ICgncmVzcG9uc2UnIGluIHhocikgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0O1xuXG4gICAgICAgIC8vIG5vcm1hbGl6ZSBJRTkgYnVnIChodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xNDUwKVxuICAgICAgICB2YXIgc3RhdHVzID0geGhyLnN0YXR1cyA9PT0gMTIyMyA/IDIwNCA6IHhoci5zdGF0dXM7XG5cbiAgICAgICAgLy8gZml4IHN0YXR1cyBjb2RlIHdoZW4gaXQgaXMgMCAoMCBzdGF0dXMgaXMgdW5kb2N1bWVudGVkKS5cbiAgICAgICAgLy8gT2NjdXJzIHdoZW4gYWNjZXNzaW5nIGZpbGUgcmVzb3VyY2VzIG9yIG9uIEFuZHJvaWQgNC4xIHN0b2NrIGJyb3dzZXJcbiAgICAgICAgLy8gd2hpbGUgcmV0cmlldmluZyBmaWxlcyBmcm9tIGFwcGxpY2F0aW9uIGNhY2hlLlxuICAgICAgICBpZiAoc3RhdHVzID09PSAwKSB7XG4gICAgICAgICAgc3RhdHVzID0gcmVzcG9uc2UgPyAyMDAgOiB1cmxSZXNvbHZlKHVybCkucHJvdG9jb2wgPT0gJ2ZpbGUnID8gNDA0IDogMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbXBsZXRlUmVxdWVzdChjYWxsYmFjayxcbiAgICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLFxuICAgICAgICAgICAgc3RhdHVzVGV4dCk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgcmVxdWVzdEVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFRoZSByZXNwb25zZSBpcyBhbHdheXMgZW1wdHlcbiAgICAgICAgLy8gU2VlIGh0dHBzOi8veGhyLnNwZWMud2hhdHdnLm9yZy8jcmVxdWVzdC1lcnJvci1zdGVwcyBhbmQgaHR0cHM6Ly9mZXRjaC5zcGVjLndoYXR3Zy5vcmcvI2NvbmNlcHQtbmV0d29yay1lcnJvclxuICAgICAgICBjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssIC0xLCBudWxsLCBudWxsLCAnJyk7XG4gICAgICB9O1xuXG4gICAgICB4aHIub25lcnJvciA9IHJlcXVlc3RFcnJvcjtcbiAgICAgIHhoci5vbmFib3J0ID0gcmVxdWVzdEVycm9yO1xuXG4gICAgICBpZiAod2l0aENyZWRlbnRpYWxzKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzcG9uc2VUeXBlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IHJlc3BvbnNlVHlwZTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIFdlYktpdCBhZGRlZCBzdXBwb3J0IGZvciB0aGUganNvbiByZXNwb25zZVR5cGUgdmFsdWUgb24gMDkvMDMvMjAxM1xuICAgICAgICAgIC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD03MzY0OC4gVmVyc2lvbnMgb2YgU2FmYXJpIHByaW9yIHRvIDcgYXJlXG4gICAgICAgICAgLy8ga25vd24gdG8gdGhyb3cgd2hlbiBzZXR0aW5nIHRoZSB2YWx1ZSBcImpzb25cIiBhcyB0aGUgcmVzcG9uc2UgdHlwZS4gT3RoZXIgb2xkZXJcbiAgICAgICAgICAvLyBicm93c2VycyBpbXBsZW1lbnRpbmcgdGhlIHJlc3BvbnNlVHlwZVxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gVGhlIGpzb24gcmVzcG9uc2UgdHlwZSBjYW4gYmUgaWdub3JlZCBpZiBub3Qgc3VwcG9ydGVkLCBiZWNhdXNlIEpTT04gcGF5bG9hZHMgYXJlXG4gICAgICAgICAgLy8gcGFyc2VkIG9uIHRoZSBjbGllbnQtc2lkZSByZWdhcmRsZXNzLlxuICAgICAgICAgIGlmIChyZXNwb25zZVR5cGUgIT09ICdqc29uJykge1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgeGhyLnNlbmQocG9zdCB8fCBudWxsKTtcbiAgICB9XG5cbiAgICBpZiAodGltZW91dCA+IDApIHtcbiAgICAgIHZhciB0aW1lb3V0SWQgPSAkYnJvd3NlckRlZmVyKHRpbWVvdXRSZXF1ZXN0LCB0aW1lb3V0KTtcbiAgICB9IGVsc2UgaWYgKGlzUHJvbWlzZUxpa2UodGltZW91dCkpIHtcbiAgICAgIHRpbWVvdXQudGhlbih0aW1lb3V0UmVxdWVzdCk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiB0aW1lb3V0UmVxdWVzdCgpIHtcbiAgICAgIGpzb25wRG9uZSAmJiBqc29ucERvbmUoKTtcbiAgICAgIHhociAmJiB4aHIuYWJvcnQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssIHN0YXR1cywgcmVzcG9uc2UsIGhlYWRlcnNTdHJpbmcsIHN0YXR1c1RleHQpIHtcbiAgICAgIC8vIGNhbmNlbCB0aW1lb3V0IGFuZCBzdWJzZXF1ZW50IHRpbWVvdXQgcHJvbWlzZSByZXNvbHV0aW9uXG4gICAgICB0aW1lb3V0SWQgJiYgJGJyb3dzZXJEZWZlci5jYW5jZWwodGltZW91dElkKTtcbiAgICAgIGpzb25wRG9uZSA9IHhociA9IG51bGw7XG5cbiAgICAgIGNhbGxiYWNrKHN0YXR1cywgcmVzcG9uc2UsIGhlYWRlcnNTdHJpbmcsIHN0YXR1c1RleHQpO1xuICAgICAgJGJyb3dzZXIuJCRjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdChub29wKTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24ganNvbnBSZXEodXJsLCBjYWxsYmFja0lkLCBkb25lKSB7XG4gICAgLy8gd2UgY2FuJ3QgdXNlIGpRdWVyeS9qcUxpdGUgaGVyZSBiZWNhdXNlIGpRdWVyeSBkb2VzIGNyYXp5IHNoaXQgd2l0aCBzY3JpcHQgZWxlbWVudHMsIGUuZy46XG4gICAgLy8gLSBmZXRjaGVzIGxvY2FsIHNjcmlwdHMgdmlhIFhIUiBhbmQgZXZhbHMgdGhlbVxuICAgIC8vIC0gYWRkcyBhbmQgaW1tZWRpYXRlbHkgcmVtb3ZlcyBzY3JpcHQgZWxlbWVudHMgZnJvbSB0aGUgZG9jdW1lbnRcbiAgICB2YXIgc2NyaXB0ID0gcmF3RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0JyksIGNhbGxiYWNrID0gbnVsbDtcbiAgICBzY3JpcHQudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XG4gICAgc2NyaXB0LnNyYyA9IHVybDtcbiAgICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xuXG4gICAgY2FsbGJhY2sgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lckZuKHNjcmlwdCwgXCJsb2FkXCIsIGNhbGxiYWNrKTtcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJGbihzY3JpcHQsIFwiZXJyb3JcIiwgY2FsbGJhY2spO1xuICAgICAgcmF3RG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgc2NyaXB0ID0gbnVsbDtcbiAgICAgIHZhciBzdGF0dXMgPSAtMTtcbiAgICAgIHZhciB0ZXh0ID0gXCJ1bmtub3duXCI7XG5cbiAgICAgIGlmIChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gXCJsb2FkXCIgJiYgIWNhbGxiYWNrc1tjYWxsYmFja0lkXS5jYWxsZWQpIHtcbiAgICAgICAgICBldmVudCA9IHsgdHlwZTogXCJlcnJvclwiIH07XG4gICAgICAgIH1cbiAgICAgICAgdGV4dCA9IGV2ZW50LnR5cGU7XG4gICAgICAgIHN0YXR1cyA9IGV2ZW50LnR5cGUgPT09IFwiZXJyb3JcIiA/IDQwNCA6IDIwMDtcbiAgICAgIH1cblxuICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgZG9uZShzdGF0dXMsIHRleHQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBhZGRFdmVudExpc3RlbmVyRm4oc2NyaXB0LCBcImxvYWRcIiwgY2FsbGJhY2spO1xuICAgIGFkZEV2ZW50TGlzdGVuZXJGbihzY3JpcHQsIFwiZXJyb3JcIiwgY2FsbGJhY2spO1xuICAgIHJhd0RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICByZXR1cm4gY2FsbGJhY2s7XG4gIH1cbn1cblxudmFyICRpbnRlcnBvbGF0ZU1pbkVyciA9IG1pbkVycignJGludGVycG9sYXRlJyk7XG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkaW50ZXJwb2xhdGVQcm92aWRlclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFVzZWQgZm9yIGNvbmZpZ3VyaW5nIHRoZSBpbnRlcnBvbGF0aW9uIG1hcmt1cC4gRGVmYXVsdHMgdG8gYHt7YCBhbmQgYH19YC5cbiAqXG4gKiBAZXhhbXBsZVxuPGV4YW1wbGUgbW9kdWxlPVwiY3VzdG9tSW50ZXJwb2xhdGlvbkFwcFwiPlxuPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbjxzY3JpcHQ+XG4gIHZhciBjdXN0b21JbnRlcnBvbGF0aW9uQXBwID0gYW5ndWxhci5tb2R1bGUoJ2N1c3RvbUludGVycG9sYXRpb25BcHAnLCBbXSk7XG5cbiAgY3VzdG9tSW50ZXJwb2xhdGlvbkFwcC5jb25maWcoZnVuY3Rpb24oJGludGVycG9sYXRlUHJvdmlkZXIpIHtcbiAgICAkaW50ZXJwb2xhdGVQcm92aWRlci5zdGFydFN5bWJvbCgnLy8nKTtcbiAgICAkaW50ZXJwb2xhdGVQcm92aWRlci5lbmRTeW1ib2woJy8vJyk7XG4gIH0pO1xuXG5cbiAgY3VzdG9tSW50ZXJwb2xhdGlvbkFwcC5jb250cm9sbGVyKCdEZW1vQ29udHJvbGxlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5sYWJlbCA9IFwiVGhpcyBiaW5kaW5nIGlzIGJyb3VnaHQgeW91IGJ5IC8vIGludGVycG9sYXRpb24gc3ltYm9scy5cIjtcbiAgfSk7XG48L3NjcmlwdD5cbjxkaXYgbmctYXBwPVwiQXBwXCIgbmctY29udHJvbGxlcj1cIkRlbW9Db250cm9sbGVyIGFzIGRlbW9cIj5cbiAgICAvL2RlbW8ubGFiZWwvL1xuPC9kaXY+XG48L2ZpbGU+XG48ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gIGl0KCdzaG91bGQgaW50ZXJwb2xhdGUgYmluZGluZyB3aXRoIGN1c3RvbSBzeW1ib2xzJywgZnVuY3Rpb24oKSB7XG4gICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnZGVtby5sYWJlbCcpKS5nZXRUZXh0KCkpLnRvQmUoJ1RoaXMgYmluZGluZyBpcyBicm91Z2h0IHlvdSBieSAvLyBpbnRlcnBvbGF0aW9uIHN5bWJvbHMuJyk7XG4gIH0pO1xuPC9maWxlPlxuPC9leGFtcGxlPlxuICovXG5mdW5jdGlvbiAkSW50ZXJwb2xhdGVQcm92aWRlcigpIHtcbiAgdmFyIHN0YXJ0U3ltYm9sID0gJ3t7JztcbiAgdmFyIGVuZFN5bWJvbCA9ICd9fSc7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGludGVycG9sYXRlUHJvdmlkZXIjc3RhcnRTeW1ib2xcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFN5bWJvbCB0byBkZW5vdGUgc3RhcnQgb2YgZXhwcmVzc2lvbiBpbiB0aGUgaW50ZXJwb2xhdGVkIHN0cmluZy4gRGVmYXVsdHMgdG8gYHt7YC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmc9fSB2YWx1ZSBuZXcgdmFsdWUgdG8gc2V0IHRoZSBzdGFydGluZyBzeW1ib2wgdG8uXG4gICAqIEByZXR1cm5zIHtzdHJpbmd8c2VsZn0gUmV0dXJucyB0aGUgc3ltYm9sIHdoZW4gdXNlZCBhcyBnZXR0ZXIgYW5kIHNlbGYgaWYgdXNlZCBhcyBzZXR0ZXIuXG4gICAqL1xuICB0aGlzLnN0YXJ0U3ltYm9sID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHN0YXJ0U3ltYm9sID0gdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHN0YXJ0U3ltYm9sO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkaW50ZXJwb2xhdGVQcm92aWRlciNlbmRTeW1ib2xcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFN5bWJvbCB0byBkZW5vdGUgdGhlIGVuZCBvZiBleHByZXNzaW9uIGluIHRoZSBpbnRlcnBvbGF0ZWQgc3RyaW5nLiBEZWZhdWx0cyB0byBgfX1gLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHZhbHVlIG5ldyB2YWx1ZSB0byBzZXQgdGhlIGVuZGluZyBzeW1ib2wgdG8uXG4gICAqIEByZXR1cm5zIHtzdHJpbmd8c2VsZn0gUmV0dXJucyB0aGUgc3ltYm9sIHdoZW4gdXNlZCBhcyBnZXR0ZXIgYW5kIHNlbGYgaWYgdXNlZCBhcyBzZXR0ZXIuXG4gICAqL1xuICB0aGlzLmVuZFN5bWJvbCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBlbmRTeW1ib2wgPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZW5kU3ltYm9sO1xuICAgIH1cbiAgfTtcblxuXG4gIHRoaXMuJGdldCA9IFsnJHBhcnNlJywgJyRleGNlcHRpb25IYW5kbGVyJywgJyRzY2UnLCBmdW5jdGlvbigkcGFyc2UsICRleGNlcHRpb25IYW5kbGVyLCAkc2NlKSB7XG4gICAgdmFyIHN0YXJ0U3ltYm9sTGVuZ3RoID0gc3RhcnRTeW1ib2wubGVuZ3RoLFxuICAgICAgICBlbmRTeW1ib2xMZW5ndGggPSBlbmRTeW1ib2wubGVuZ3RoLFxuICAgICAgICBlc2NhcGVkU3RhcnRSZWdleHAgPSBuZXcgUmVnRXhwKHN0YXJ0U3ltYm9sLnJlcGxhY2UoLy4vZywgZXNjYXBlKSwgJ2cnKSxcbiAgICAgICAgZXNjYXBlZEVuZFJlZ2V4cCA9IG5ldyBSZWdFeHAoZW5kU3ltYm9sLnJlcGxhY2UoLy4vZywgZXNjYXBlKSwgJ2cnKTtcblxuICAgIGZ1bmN0aW9uIGVzY2FwZShjaCkge1xuICAgICAgcmV0dXJuICdcXFxcXFxcXFxcXFwnICsgY2g7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgKiBAbmFtZSAkaW50ZXJwb2xhdGVcbiAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAqXG4gICAgICogQHJlcXVpcmVzICRwYXJzZVxuICAgICAqIEByZXF1aXJlcyAkc2NlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKlxuICAgICAqIENvbXBpbGVzIGEgc3RyaW5nIHdpdGggbWFya3VwIGludG8gYW4gaW50ZXJwb2xhdGlvbiBmdW5jdGlvbi4gVGhpcyBzZXJ2aWNlIGlzIHVzZWQgYnkgdGhlXG4gICAgICogSFRNTCB7QGxpbmsgbmcuJGNvbXBpbGUgJGNvbXBpbGV9IHNlcnZpY2UgZm9yIGRhdGEgYmluZGluZy4gU2VlXG4gICAgICoge0BsaW5rIG5nLiRpbnRlcnBvbGF0ZVByb3ZpZGVyICRpbnRlcnBvbGF0ZVByb3ZpZGVyfSBmb3IgY29uZmlndXJpbmcgdGhlXG4gICAgICogaW50ZXJwb2xhdGlvbiBtYXJrdXAuXG4gICAgICpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogICB2YXIgJGludGVycG9sYXRlID0gLi4uOyAvLyBpbmplY3RlZFxuICAgICAqICAgdmFyIGV4cCA9ICRpbnRlcnBvbGF0ZSgnSGVsbG8ge3tuYW1lIHwgdXBwZXJjYXNlfX0hJyk7XG4gICAgICogICBleHBlY3QoZXhwKHtuYW1lOidBbmd1bGFyJ30pLnRvRXF1YWwoJ0hlbGxvIEFOR1VMQVIhJyk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBgJGludGVycG9sYXRlYCB0YWtlcyBhbiBvcHRpb25hbCBmb3VydGggYXJndW1lbnQsIGBhbGxPck5vdGhpbmdgLiBJZiBgYWxsT3JOb3RoaW5nYCBpc1xuICAgICAqIGB0cnVlYCwgdGhlIGludGVycG9sYXRpb24gZnVuY3Rpb24gd2lsbCByZXR1cm4gYHVuZGVmaW5lZGAgdW5sZXNzIGFsbCBlbWJlZGRlZCBleHByZXNzaW9uc1xuICAgICAqIGV2YWx1YXRlIHRvIGEgdmFsdWUgb3RoZXIgdGhhbiBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogICB2YXIgJGludGVycG9sYXRlID0gLi4uOyAvLyBpbmplY3RlZFxuICAgICAqICAgdmFyIGNvbnRleHQgPSB7Z3JlZXRpbmc6ICdIZWxsbycsIG5hbWU6IHVuZGVmaW5lZCB9O1xuICAgICAqXG4gICAgICogICAvLyBkZWZhdWx0IFwiZm9yZ2l2aW5nXCIgbW9kZVxuICAgICAqICAgdmFyIGV4cCA9ICRpbnRlcnBvbGF0ZSgne3tncmVldGluZ319IHt7bmFtZX19IScpO1xuICAgICAqICAgZXhwZWN0KGV4cChjb250ZXh0KSkudG9FcXVhbCgnSGVsbG8gIScpO1xuICAgICAqXG4gICAgICogICAvLyBcImFsbE9yTm90aGluZ1wiIG1vZGVcbiAgICAgKiAgIGV4cCA9ICRpbnRlcnBvbGF0ZSgne3tncmVldGluZ319IHt7bmFtZX19IScsIGZhbHNlLCBudWxsLCB0cnVlKTtcbiAgICAgKiAgIGV4cGVjdChleHAoY29udGV4dCkpLnRvQmVVbmRlZmluZWQoKTtcbiAgICAgKiAgIGNvbnRleHQubmFtZSA9ICdBbmd1bGFyJztcbiAgICAgKiAgIGV4cGVjdChleHAoY29udGV4dCkpLnRvRXF1YWwoJ0hlbGxvIEFuZ3VsYXIhJyk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBgYWxsT3JOb3RoaW5nYCBpcyB1c2VmdWwgZm9yIGludGVycG9sYXRpbmcgVVJMcy4gYG5nU3JjYCBhbmQgYG5nU3Jjc2V0YCB1c2UgdGhpcyBiZWhhdmlvci5cbiAgICAgKlxuICAgICAqICMjIyNFc2NhcGVkIEludGVycG9sYXRpb25cbiAgICAgKiAkaW50ZXJwb2xhdGUgcHJvdmlkZXMgYSBtZWNoYW5pc20gZm9yIGVzY2FwaW5nIGludGVycG9sYXRpb24gbWFya2Vycy4gU3RhcnQgYW5kIGVuZCBtYXJrZXJzXG4gICAgICogY2FuIGJlIGVzY2FwZWQgYnkgcHJlY2VkaW5nIGVhY2ggb2YgdGhlaXIgY2hhcmFjdGVycyB3aXRoIGEgUkVWRVJTRSBTT0xJRFVTIFUrMDA1QyAoYmFja3NsYXNoKS5cbiAgICAgKiBJdCB3aWxsIGJlIHJlbmRlcmVkIGFzIGEgcmVndWxhciBzdGFydC9lbmQgbWFya2VyLCBhbmQgd2lsbCBub3QgYmUgaW50ZXJwcmV0ZWQgYXMgYW4gZXhwcmVzc2lvblxuICAgICAqIG9yIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBUaGlzIGVuYWJsZXMgd2ViLXNlcnZlcnMgdG8gcHJldmVudCBzY3JpcHQgaW5qZWN0aW9uIGF0dGFja3MgYW5kIGRlZmFjaW5nIGF0dGFja3MsIHRvIHNvbWVcbiAgICAgKiBkZWdyZWUsIHdoaWxlIGFsc28gZW5hYmxpbmcgY29kZSBleGFtcGxlcyB0byB3b3JrIHdpdGhvdXQgcmVseWluZyBvbiB0aGVcbiAgICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTm9uQmluZGFibGUgbmdOb25CaW5kYWJsZX0gZGlyZWN0aXZlLlxuICAgICAqXG4gICAgICogKipGb3Igc2VjdXJpdHkgcHVycG9zZXMsIGl0IGlzIHN0cm9uZ2x5IGVuY291cmFnZWQgdGhhdCB3ZWIgc2VydmVycyBlc2NhcGUgdXNlci1zdXBwbGllZCBkYXRhLFxuICAgICAqIHJlcGxhY2luZyBhbmdsZSBicmFja2V0cyAoJmx0OywgJmd0Oykgd2l0aCAmYW1wO2x0OyBhbmQgJmFtcDtndDsgcmVzcGVjdGl2ZWx5LCBhbmQgcmVwbGFjaW5nIGFsbFxuICAgICAqIGludGVycG9sYXRpb24gc3RhcnQvZW5kIG1hcmtlcnMgd2l0aCB0aGVpciBlc2NhcGVkIGNvdW50ZXJwYXJ0cy4qKlxuICAgICAqXG4gICAgICogRXNjYXBlZCBpbnRlcnBvbGF0aW9uIG1hcmtlcnMgYXJlIG9ubHkgcmVwbGFjZWQgd2l0aCB0aGUgYWN0dWFsIGludGVycG9sYXRpb24gbWFya2VycyBpbiByZW5kZXJlZFxuICAgICAqIG91dHB1dCB3aGVuIHRoZSAkaW50ZXJwb2xhdGUgc2VydmljZSBwcm9jZXNzZXMgdGhlIHRleHQuIFNvLCBmb3IgSFRNTCBlbGVtZW50cyBpbnRlcnBvbGF0ZWRcbiAgICAgKiBieSB7QGxpbmsgbmcuJGNvbXBpbGUgJGNvbXBpbGV9LCBvciBvdGhlcndpc2UgaW50ZXJwb2xhdGVkIHdpdGggdGhlIGBtdXN0SGF2ZUV4cHJlc3Npb25gIHBhcmFtZXRlclxuICAgICAqIHNldCB0byBgdHJ1ZWAsIHRoZSBpbnRlcnBvbGF0ZWQgdGV4dCBtdXN0IGNvbnRhaW4gYW4gdW5lc2NhcGVkIGludGVycG9sYXRpb24gZXhwcmVzc2lvbi4gQXMgc3VjaCxcbiAgICAgKiB0aGlzIGlzIHR5cGljYWxseSB1c2VmdWwgb25seSB3aGVuIHVzZXItZGF0YSBpcyB1c2VkIGluIHJlbmRlcmluZyBhIHRlbXBsYXRlIGZyb20gdGhlIHNlcnZlciwgb3JcbiAgICAgKiB3aGVuIG90aGVyd2lzZSB1bnRydXN0ZWQgZGF0YSBpcyB1c2VkIGJ5IGEgZGlyZWN0aXZlLlxuICAgICAqXG4gICAgICogPGV4YW1wbGU+XG4gICAgICogIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICogICAgPGRpdiBuZy1pbml0PVwidXNlcm5hbWU9J0EgdXNlcidcIj5cbiAgICAgKiAgICAgIDxwIG5nLWluaXQ9XCJhcHB0aXRsZT0nRXNjYXBpbmcgZGVtbydcIj57e2FwcHRpdGxlfX06IFxce1xceyB1c2VybmFtZSA9IFwiZGVmYWNlZCB2YWx1ZVwiOyBcXH1cXH1cbiAgICAgKiAgICAgICAgPC9wPlxuICAgICAqICAgICAgPHA+PHN0cm9uZz57e3VzZXJuYW1lfX08L3N0cm9uZz4gYXR0ZW1wdHMgdG8gaW5qZWN0IGNvZGUgd2hpY2ggd2lsbCBkZWZhY2UgdGhlXG4gICAgICogICAgICAgIGFwcGxpY2F0aW9uLCBidXQgZmFpbHMgdG8gYWNjb21wbGlzaCB0aGVpciB0YXNrLCBiZWNhdXNlIHRoZSBzZXJ2ZXIgaGFzIGNvcnJlY3RseVxuICAgICAqICAgICAgICBlc2NhcGVkIHRoZSBpbnRlcnBvbGF0aW9uIHN0YXJ0L2VuZCBtYXJrZXJzIHdpdGggUkVWRVJTRSBTT0xJRFVTIFUrMDA1QyAoYmFja3NsYXNoKVxuICAgICAqICAgICAgICBjaGFyYWN0ZXJzLjwvcD5cbiAgICAgKiAgICAgIDxwPkluc3RlYWQsIHRoZSByZXN1bHQgb2YgdGhlIGF0dGVtcHRlZCBzY3JpcHQgaW5qZWN0aW9uIGlzIHZpc2libGUsIGFuZCBjYW4gYmUgcmVtb3ZlZFxuICAgICAqICAgICAgICBmcm9tIHRoZSBkYXRhYmFzZSBieSBhbiBhZG1pbmlzdHJhdG9yLjwvcD5cbiAgICAgKiAgICA8L2Rpdj5cbiAgICAgKiAgPC9maWxlPlxuICAgICAqIDwvZXhhbXBsZT5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRoZSB0ZXh0IHdpdGggbWFya3VwIHRvIGludGVycG9sYXRlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IG11c3RIYXZlRXhwcmVzc2lvbiBpZiBzZXQgdG8gdHJ1ZSB0aGVuIHRoZSBpbnRlcnBvbGF0aW9uIHN0cmluZyBtdXN0IGhhdmVcbiAgICAgKiAgICBlbWJlZGRlZCBleHByZXNzaW9uIGluIG9yZGVyIHRvIHJldHVybiBhbiBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uLiBTdHJpbmdzIHdpdGggbm9cbiAgICAgKiAgICBlbWJlZGRlZCBleHByZXNzaW9uIHdpbGwgcmV0dXJuIG51bGwgZm9yIHRoZSBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gdHJ1c3RlZENvbnRleHQgd2hlbiBwcm92aWRlZCwgdGhlIHJldHVybmVkIGZ1bmN0aW9uIHBhc3NlcyB0aGUgaW50ZXJwb2xhdGVkXG4gICAgICogICAgcmVzdWx0IHRocm91Z2gge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZCAkc2NlLmdldFRydXN0ZWQoaW50ZXJwb2xhdGVkUmVzdWx0LFxuICAgICAqICAgIHRydXN0ZWRDb250ZXh0KX0gYmVmb3JlIHJldHVybmluZyBpdC4gIFJlZmVyIHRvIHRoZSB7QGxpbmsgbmcuJHNjZSAkc2NlfSBzZXJ2aWNlIHRoYXRcbiAgICAgKiAgICBwcm92aWRlcyBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyBmb3IgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBhbGxPck5vdGhpbmcgaWYgYHRydWVgLCB0aGVuIHRoZSByZXR1cm5lZCBmdW5jdGlvbiByZXR1cm5zIHVuZGVmaW5lZFxuICAgICAqICAgIHVubGVzcyBhbGwgZW1iZWRkZWQgZXhwcmVzc2lvbnMgZXZhbHVhdGUgdG8gYSB2YWx1ZSBvdGhlciB0aGFuIGB1bmRlZmluZWRgLlxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0KX0gYW4gaW50ZXJwb2xhdGlvbiBmdW5jdGlvbiB3aGljaCBpcyB1c2VkIHRvIGNvbXB1dGUgdGhlXG4gICAgICogICAgaW50ZXJwb2xhdGVkIHN0cmluZy4gVGhlIGZ1bmN0aW9uIGhhcyB0aGVzZSBwYXJhbWV0ZXJzOlxuICAgICAqXG4gICAgICogLSBgY29udGV4dGA6IGV2YWx1YXRpb24gY29udGV4dCBmb3IgYWxsIGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBpbnRlcnBvbGF0ZWQgdGV4dFxuICAgICAqL1xuICAgIGZ1bmN0aW9uICRpbnRlcnBvbGF0ZSh0ZXh0LCBtdXN0SGF2ZUV4cHJlc3Npb24sIHRydXN0ZWRDb250ZXh0LCBhbGxPck5vdGhpbmcpIHtcbiAgICAgIGFsbE9yTm90aGluZyA9ICEhYWxsT3JOb3RoaW5nO1xuICAgICAgdmFyIHN0YXJ0SW5kZXgsXG4gICAgICAgICAgZW5kSW5kZXgsXG4gICAgICAgICAgaW5kZXggPSAwLFxuICAgICAgICAgIGV4cHJlc3Npb25zID0gW10sXG4gICAgICAgICAgcGFyc2VGbnMgPSBbXSxcbiAgICAgICAgICB0ZXh0TGVuZ3RoID0gdGV4dC5sZW5ndGgsXG4gICAgICAgICAgZXhwLFxuICAgICAgICAgIGNvbmNhdCA9IFtdLFxuICAgICAgICAgIGV4cHJlc3Npb25Qb3NpdGlvbnMgPSBbXTtcblxuICAgICAgd2hpbGUgKGluZGV4IDwgdGV4dExlbmd0aCkge1xuICAgICAgICBpZiAoKChzdGFydEluZGV4ID0gdGV4dC5pbmRleE9mKHN0YXJ0U3ltYm9sLCBpbmRleCkpICE9IC0xKSAmJlxuICAgICAgICAgICAgICgoZW5kSW5kZXggPSB0ZXh0LmluZGV4T2YoZW5kU3ltYm9sLCBzdGFydEluZGV4ICsgc3RhcnRTeW1ib2xMZW5ndGgpKSAhPSAtMSkpIHtcbiAgICAgICAgICBpZiAoaW5kZXggIT09IHN0YXJ0SW5kZXgpIHtcbiAgICAgICAgICAgIGNvbmNhdC5wdXNoKHVuZXNjYXBlVGV4dCh0ZXh0LnN1YnN0cmluZyhpbmRleCwgc3RhcnRJbmRleCkpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZXhwID0gdGV4dC5zdWJzdHJpbmcoc3RhcnRJbmRleCArIHN0YXJ0U3ltYm9sTGVuZ3RoLCBlbmRJbmRleCk7XG4gICAgICAgICAgZXhwcmVzc2lvbnMucHVzaChleHApO1xuICAgICAgICAgIHBhcnNlRm5zLnB1c2goJHBhcnNlKGV4cCwgcGFyc2VTdHJpbmdpZnlJbnRlcmNlcHRvcikpO1xuICAgICAgICAgIGluZGV4ID0gZW5kSW5kZXggKyBlbmRTeW1ib2xMZW5ndGg7XG4gICAgICAgICAgZXhwcmVzc2lvblBvc2l0aW9ucy5wdXNoKGNvbmNhdC5sZW5ndGgpO1xuICAgICAgICAgIGNvbmNhdC5wdXNoKCcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB3ZSBkaWQgbm90IGZpbmQgYW4gaW50ZXJwb2xhdGlvbiwgc28gd2UgaGF2ZSB0byBhZGQgdGhlIHJlbWFpbmRlciB0byB0aGUgc2VwYXJhdG9ycyBhcnJheVxuICAgICAgICAgIGlmIChpbmRleCAhPT0gdGV4dExlbmd0aCkge1xuICAgICAgICAgICAgY29uY2F0LnB1c2godW5lc2NhcGVUZXh0KHRleHQuc3Vic3RyaW5nKGluZGV4KSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDb25jYXRlbmF0aW5nIGV4cHJlc3Npb25zIG1ha2VzIGl0IGhhcmQgdG8gcmVhc29uIGFib3V0IHdoZXRoZXIgc29tZSBjb21iaW5hdGlvbiBvZlxuICAgICAgLy8gY29uY2F0ZW5hdGVkIHZhbHVlcyBhcmUgdW5zYWZlIHRvIHVzZSBhbmQgY291bGQgZWFzaWx5IGxlYWQgdG8gWFNTLiAgQnkgcmVxdWlyaW5nIHRoYXQgYVxuICAgICAgLy8gc2luZ2xlIGV4cHJlc3Npb24gYmUgdXNlZCBmb3IgaWZyYW1lW3NyY10sIG9iamVjdFtzcmNdLCBldGMuLCB3ZSBlbnN1cmUgdGhhdCB0aGUgdmFsdWVcbiAgICAgIC8vIHRoYXQncyB1c2VkIGlzIGFzc2lnbmVkIG9yIGNvbnN0cnVjdGVkIGJ5IHNvbWUgSlMgY29kZSBzb21ld2hlcmUgdGhhdCBpcyBtb3JlIHRlc3RhYmxlIG9yXG4gICAgICAvLyBtYWtlIGl0IG9idmlvdXMgdGhhdCB5b3UgYm91bmQgdGhlIHZhbHVlIHRvIHNvbWUgdXNlciBjb250cm9sbGVkIHZhbHVlLiAgVGhpcyBoZWxwcyByZWR1Y2VcbiAgICAgIC8vIHRoZSBsb2FkIHdoZW4gYXVkaXRpbmcgZm9yIFhTUyBpc3N1ZXMuXG4gICAgICBpZiAodHJ1c3RlZENvbnRleHQgJiYgY29uY2F0Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICB0aHJvdyAkaW50ZXJwb2xhdGVNaW5FcnIoJ25vY29uY2F0JyxcbiAgICAgICAgICAgICAgXCJFcnJvciB3aGlsZSBpbnRlcnBvbGF0aW5nOiB7MH1cXG5TdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyBkaXNhbGxvd3MgXCIgK1xuICAgICAgICAgICAgICBcImludGVycG9sYXRpb25zIHRoYXQgY29uY2F0ZW5hdGUgbXVsdGlwbGUgZXhwcmVzc2lvbnMgd2hlbiBhIHRydXN0ZWQgdmFsdWUgaXMgXCIgK1xuICAgICAgICAgICAgICBcInJlcXVpcmVkLiAgU2VlIGh0dHA6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL25nLiRzY2VcIiwgdGV4dCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghbXVzdEhhdmVFeHByZXNzaW9uIHx8IGV4cHJlc3Npb25zLmxlbmd0aCkge1xuICAgICAgICB2YXIgY29tcHV0ZSA9IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGV4cHJlc3Npb25zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhbGxPck5vdGhpbmcgJiYgaXNVbmRlZmluZWQodmFsdWVzW2ldKSkgcmV0dXJuO1xuICAgICAgICAgICAgY29uY2F0W2V4cHJlc3Npb25Qb3NpdGlvbnNbaV1dID0gdmFsdWVzW2ldO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY29uY2F0LmpvaW4oJycpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIHRydXN0ZWRDb250ZXh0ID9cbiAgICAgICAgICAgICRzY2UuZ2V0VHJ1c3RlZCh0cnVzdGVkQ29udGV4dCwgdmFsdWUpIDpcbiAgICAgICAgICAgICRzY2UudmFsdWVPZih2YWx1ZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHN0cmluZ2lmeSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHsgLy8gbnVsbCB8fCB1bmRlZmluZWRcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICB9XG4gICAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgICAgdmFsdWUgPSAnJyArIHZhbHVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHZhbHVlID0gdG9Kc29uKHZhbHVlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGV4dGVuZChmdW5jdGlvbiBpbnRlcnBvbGF0aW9uRm4oY29udGV4dCkge1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgdmFyIGlpID0gZXhwcmVzc2lvbnMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IG5ldyBBcnJheShpaSk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGZvciAoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhbHVlc1tpXSA9IHBhcnNlRm5zW2ldKGNvbnRleHQpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuIGNvbXB1dGUodmFsdWVzKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICB2YXIgbmV3RXJyID0gJGludGVycG9sYXRlTWluRXJyKCdpbnRlcnInLCBcIkNhbid0IGludGVycG9sYXRlOiB7MH1cXG57MX1cIiwgdGV4dCxcbiAgICAgICAgICAgICAgICAgIGVyci50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIobmV3RXJyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAvLyBhbGwgb2YgdGhlc2UgcHJvcGVydGllcyBhcmUgdW5kb2N1bWVudGVkIGZvciBub3dcbiAgICAgICAgICBleHA6IHRleHQsIC8vanVzdCBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIHJlZ3VsYXIgd2F0Y2hlcnMgY3JlYXRlZCB2aWEgJHdhdGNoXG4gICAgICAgICAgZXhwcmVzc2lvbnM6IGV4cHJlc3Npb25zLFxuICAgICAgICAgICQkd2F0Y2hEZWxlZ2F0ZTogZnVuY3Rpb24oc2NvcGUsIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSkge1xuICAgICAgICAgICAgdmFyIGxhc3RWYWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBzY29wZS4kd2F0Y2hHcm91cChwYXJzZUZucywgZnVuY3Rpb24gaW50ZXJwb2xhdGVGbldhdGNoZXIodmFsdWVzLCBvbGRWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgdmFyIGN1cnJWYWx1ZSA9IGNvbXB1dGUodmFsdWVzKTtcbiAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXIpKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBjdXJyVmFsdWUsIHZhbHVlcyAhPT0gb2xkVmFsdWVzID8gbGFzdFZhbHVlIDogY3VyclZhbHVlLCBzY29wZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbGFzdFZhbHVlID0gY3VyclZhbHVlO1xuICAgICAgICAgICAgfSwgb2JqZWN0RXF1YWxpdHkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHVuZXNjYXBlVGV4dCh0ZXh0KSB7XG4gICAgICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoZXNjYXBlZFN0YXJ0UmVnZXhwLCBzdGFydFN5bWJvbCkuXG4gICAgICAgICAgcmVwbGFjZShlc2NhcGVkRW5kUmVnZXhwLCBlbmRTeW1ib2wpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBwYXJzZVN0cmluZ2lmeUludGVyY2VwdG9yKHZhbHVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHN0cmluZ2lmeShnZXRWYWx1ZSh2YWx1ZSkpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICB2YXIgbmV3RXJyID0gJGludGVycG9sYXRlTWluRXJyKCdpbnRlcnInLCBcIkNhbid0IGludGVycG9sYXRlOiB7MH1cXG57MX1cIiwgdGV4dCxcbiAgICAgICAgICAgIGVyci50b1N0cmluZygpKTtcbiAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihuZXdFcnIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGludGVycG9sYXRlI3N0YXJ0U3ltYm9sXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU3ltYm9sIHRvIGRlbm90ZSB0aGUgc3RhcnQgb2YgZXhwcmVzc2lvbiBpbiB0aGUgaW50ZXJwb2xhdGVkIHN0cmluZy4gRGVmYXVsdHMgdG8gYHt7YC5cbiAgICAgKlxuICAgICAqIFVzZSB7QGxpbmsgbmcuJGludGVycG9sYXRlUHJvdmlkZXIjc3RhcnRTeW1ib2wgYCRpbnRlcnBvbGF0ZVByb3ZpZGVyLnN0YXJ0U3ltYm9sYH0gdG8gY2hhbmdlXG4gICAgICogdGhlIHN5bWJvbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHN0YXJ0IHN5bWJvbC5cbiAgICAgKi9cbiAgICAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2wgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBzdGFydFN5bWJvbDtcbiAgICB9O1xuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGludGVycG9sYXRlI2VuZFN5bWJvbFxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFN5bWJvbCB0byBkZW5vdGUgdGhlIGVuZCBvZiBleHByZXNzaW9uIGluIHRoZSBpbnRlcnBvbGF0ZWQgc3RyaW5nLiBEZWZhdWx0cyB0byBgfX1gLlxuICAgICAqXG4gICAgICogVXNlIHtAbGluayBuZy4kaW50ZXJwb2xhdGVQcm92aWRlciNlbmRTeW1ib2wgYCRpbnRlcnBvbGF0ZVByb3ZpZGVyLmVuZFN5bWJvbGB9IHRvIGNoYW5nZVxuICAgICAqIHRoZSBzeW1ib2wuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBlbmQgc3ltYm9sLlxuICAgICAqL1xuICAgICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2wgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBlbmRTeW1ib2w7XG4gICAgfTtcblxuICAgIHJldHVybiAkaW50ZXJwb2xhdGU7XG4gIH1dO1xufVxuXG5mdW5jdGlvbiAkSW50ZXJ2YWxQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckcm9vdFNjb3BlJywgJyR3aW5kb3cnLCAnJHEnLCAnJCRxJyxcbiAgICAgICBmdW5jdGlvbigkcm9vdFNjb3BlLCAgICR3aW5kb3csICAgJHEsICAgJCRxKSB7XG4gICAgdmFyIGludGVydmFscyA9IHt9O1xuXG5cbiAgICAgLyoqXG4gICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICAqIEBuYW1lICRpbnRlcnZhbFxuICAgICAgKlxuICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICogQW5ndWxhcidzIHdyYXBwZXIgZm9yIGB3aW5kb3cuc2V0SW50ZXJ2YWxgLiBUaGUgYGZuYCBmdW5jdGlvbiBpcyBleGVjdXRlZCBldmVyeSBgZGVsYXlgXG4gICAgICAqIG1pbGxpc2Vjb25kcy5cbiAgICAgICpcbiAgICAgICogVGhlIHJldHVybiB2YWx1ZSBvZiByZWdpc3RlcmluZyBhbiBpbnRlcnZhbCBmdW5jdGlvbiBpcyBhIHByb21pc2UuIFRoaXMgcHJvbWlzZSB3aWxsIGJlXG4gICAgICAqIG5vdGlmaWVkIHVwb24gZWFjaCB0aWNrIG9mIHRoZSBpbnRlcnZhbCwgYW5kIHdpbGwgYmUgcmVzb2x2ZWQgYWZ0ZXIgYGNvdW50YCBpdGVyYXRpb25zLCBvclxuICAgICAgKiBydW4gaW5kZWZpbml0ZWx5IGlmIGBjb3VudGAgaXMgbm90IGRlZmluZWQuIFRoZSB2YWx1ZSBvZiB0aGUgbm90aWZpY2F0aW9uIHdpbGwgYmUgdGhlXG4gICAgICAqIG51bWJlciBvZiBpdGVyYXRpb25zIHRoYXQgaGF2ZSBydW4uXG4gICAgICAqIFRvIGNhbmNlbCBhbiBpbnRlcnZhbCwgY2FsbCBgJGludGVydmFsLmNhbmNlbChwcm9taXNlKWAuXG4gICAgICAqXG4gICAgICAqIEluIHRlc3RzIHlvdSBjYW4gdXNlIHtAbGluayBuZ01vY2suJGludGVydmFsI2ZsdXNoIGAkaW50ZXJ2YWwuZmx1c2gobWlsbGlzKWB9IHRvXG4gICAgICAqIG1vdmUgZm9yd2FyZCBieSBgbWlsbGlzYCBtaWxsaXNlY29uZHMgYW5kIHRyaWdnZXIgYW55IGZ1bmN0aW9ucyBzY2hlZHVsZWQgdG8gcnVuIGluIHRoYXRcbiAgICAgICogdGltZS5cbiAgICAgICpcbiAgICAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAgICAgICogKipOb3RlKio6IEludGVydmFscyBjcmVhdGVkIGJ5IHRoaXMgc2VydmljZSBtdXN0IGJlIGV4cGxpY2l0bHkgZGVzdHJveWVkIHdoZW4geW91IGFyZSBmaW5pc2hlZFxuICAgICAgKiB3aXRoIHRoZW0uICBJbiBwYXJ0aWN1bGFyIHRoZXkgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IGRlc3Ryb3llZCB3aGVuIGEgY29udHJvbGxlcidzIHNjb3BlIG9yIGFcbiAgICAgICogZGlyZWN0aXZlJ3MgZWxlbWVudCBhcmUgZGVzdHJveWVkLlxuICAgICAgKiBZb3Ugc2hvdWxkIHRha2UgdGhpcyBpbnRvIGNvbnNpZGVyYXRpb24gYW5kIG1ha2Ugc3VyZSB0byBhbHdheXMgY2FuY2VsIHRoZSBpbnRlcnZhbCBhdCB0aGVcbiAgICAgICogYXBwcm9wcmlhdGUgbW9tZW50LiAgU2VlIHRoZSBleGFtcGxlIGJlbG93IGZvciBtb3JlIGRldGFpbHMgb24gaG93IGFuZCB3aGVuIHRvIGRvIHRoaXMuXG4gICAgICAqIDwvZGl2PlxuICAgICAgKlxuICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGZuIEEgZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgY2FsbGVkIHJlcGVhdGVkbHkuXG4gICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheSBOdW1iZXIgb2YgbWlsbGlzZWNvbmRzIGJldHdlZW4gZWFjaCBmdW5jdGlvbiBjYWxsLlxuICAgICAgKiBAcGFyYW0ge251bWJlcj19IFtjb3VudD0wXSBOdW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0LiBJZiBub3Qgc2V0LCBvciAwLCB3aWxsIHJlcGVhdFxuICAgICAgKiAgIGluZGVmaW5pdGVseS5cbiAgICAgICogQHBhcmFtIHtib29sZWFuPX0gW2ludm9rZUFwcGx5PXRydWVdIElmIHNldCB0byBgZmFsc2VgIHNraXBzIG1vZGVsIGRpcnR5IGNoZWNraW5nLCBvdGhlcndpc2VcbiAgICAgICogICB3aWxsIGludm9rZSBgZm5gIHdpdGhpbiB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGFwcGx5ICRhcHBseX0gYmxvY2suXG4gICAgICAqIEByZXR1cm5zIHtwcm9taXNlfSBBIHByb21pc2Ugd2hpY2ggd2lsbCBiZSBub3RpZmllZCBvbiBlYWNoIGl0ZXJhdGlvbi5cbiAgICAgICpcbiAgICAgICogQGV4YW1wbGVcbiAgICAgICogPGV4YW1wbGUgbW9kdWxlPVwiaW50ZXJ2YWxFeGFtcGxlXCI+XG4gICAgICAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAqICAgPHNjcmlwdD5cbiAgICAgICogICAgIGFuZ3VsYXIubW9kdWxlKCdpbnRlcnZhbEV4YW1wbGUnLCBbXSlcbiAgICAgICogICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGludGVydmFsJyxcbiAgICAgICogICAgICAgICBmdW5jdGlvbigkc2NvcGUsICRpbnRlcnZhbCkge1xuICAgICAgKiAgICAgICAgICAgJHNjb3BlLmZvcm1hdCA9ICdNL2QveXkgaDptbTpzcyBhJztcbiAgICAgICogICAgICAgICAgICRzY29wZS5ibG9vZF8xID0gMTAwO1xuICAgICAgKiAgICAgICAgICAgJHNjb3BlLmJsb29kXzIgPSAxMjA7XG4gICAgICAqXG4gICAgICAqICAgICAgICAgICB2YXIgc3RvcDtcbiAgICAgICogICAgICAgICAgICRzY29wZS5maWdodCA9IGZ1bmN0aW9uKCkge1xuICAgICAgKiAgICAgICAgICAgICAvLyBEb24ndCBzdGFydCBhIG5ldyBmaWdodCBpZiB3ZSBhcmUgYWxyZWFkeSBmaWdodGluZ1xuICAgICAgKiAgICAgICAgICAgICBpZiAoIGFuZ3VsYXIuaXNEZWZpbmVkKHN0b3ApICkgcmV0dXJuO1xuICAgICAgKlxuICAgICAgKiAgICAgICAgICAgc3RvcCA9ICRpbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgICogICAgICAgICAgICAgaWYgKCRzY29wZS5ibG9vZF8xID4gMCAmJiAkc2NvcGUuYmxvb2RfMiA+IDApIHtcbiAgICAgICogICAgICAgICAgICAgICAkc2NvcGUuYmxvb2RfMSA9ICRzY29wZS5ibG9vZF8xIC0gMztcbiAgICAgICogICAgICAgICAgICAgICAkc2NvcGUuYmxvb2RfMiA9ICRzY29wZS5ibG9vZF8yIC0gNDtcbiAgICAgICogICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICogICAgICAgICAgICAgICAkc2NvcGUuc3RvcEZpZ2h0KCk7XG4gICAgICAqICAgICAgICAgICAgIH1cbiAgICAgICogICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAqICAgICAgICAgfTtcbiAgICAgICpcbiAgICAgICogICAgICAgICAkc2NvcGUuc3RvcEZpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAqICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoc3RvcCkpIHtcbiAgICAgICogICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChzdG9wKTtcbiAgICAgICogICAgICAgICAgICAgc3RvcCA9IHVuZGVmaW5lZDtcbiAgICAgICogICAgICAgICAgIH1cbiAgICAgICogICAgICAgICB9O1xuICAgICAgKlxuICAgICAgKiAgICAgICAgICRzY29wZS5yZXNldEZpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAqICAgICAgICAgICAkc2NvcGUuYmxvb2RfMSA9IDEwMDtcbiAgICAgICogICAgICAgICAgICRzY29wZS5ibG9vZF8yID0gMTIwO1xuICAgICAgKiAgICAgICAgIH07XG4gICAgICAqXG4gICAgICAqICAgICAgICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICogICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBpbnRlcnZhbCBpcyBkZXN0cm95ZWQgdG9vXG4gICAgICAqICAgICAgICAgICAkc2NvcGUuc3RvcEZpZ2h0KCk7XG4gICAgICAqICAgICAgICAgfSk7XG4gICAgICAqICAgICAgIH1dKVxuICAgICAgKiAgICAgICAvLyBSZWdpc3RlciB0aGUgJ215Q3VycmVudFRpbWUnIGRpcmVjdGl2ZSBmYWN0b3J5IG1ldGhvZC5cbiAgICAgICogICAgICAgLy8gV2UgaW5qZWN0ICRpbnRlcnZhbCBhbmQgZGF0ZUZpbHRlciBzZXJ2aWNlIHNpbmNlIHRoZSBmYWN0b3J5IG1ldGhvZCBpcyBESS5cbiAgICAgICogICAgICAgLmRpcmVjdGl2ZSgnbXlDdXJyZW50VGltZScsIFsnJGludGVydmFsJywgJ2RhdGVGaWx0ZXInLFxuICAgICAgKiAgICAgICAgIGZ1bmN0aW9uKCRpbnRlcnZhbCwgZGF0ZUZpbHRlcikge1xuICAgICAgKiAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBkaXJlY3RpdmUgbGluayBmdW5jdGlvbi4gKGNvbXBpbGUgZnVuY3Rpb24gbm90IG5lZWRlZClcbiAgICAgICogICAgICAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICogICAgICAgICAgICAgdmFyIGZvcm1hdCwgIC8vIGRhdGUgZm9ybWF0XG4gICAgICAqICAgICAgICAgICAgICAgICBzdG9wVGltZTsgLy8gc28gdGhhdCB3ZSBjYW4gY2FuY2VsIHRoZSB0aW1lIHVwZGF0ZXNcbiAgICAgICpcbiAgICAgICogICAgICAgICAgICAgLy8gdXNlZCB0byB1cGRhdGUgdGhlIFVJXG4gICAgICAqICAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVRpbWUoKSB7XG4gICAgICAqICAgICAgICAgICAgICAgZWxlbWVudC50ZXh0KGRhdGVGaWx0ZXIobmV3IERhdGUoKSwgZm9ybWF0KSk7XG4gICAgICAqICAgICAgICAgICAgIH1cbiAgICAgICpcbiAgICAgICogICAgICAgICAgICAgLy8gd2F0Y2ggdGhlIGV4cHJlc3Npb24sIGFuZCB1cGRhdGUgdGhlIFVJIG9uIGNoYW5nZS5cbiAgICAgICogICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJzLm15Q3VycmVudFRpbWUsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAqICAgICAgICAgICAgICAgZm9ybWF0ID0gdmFsdWU7XG4gICAgICAqICAgICAgICAgICAgICAgdXBkYXRlVGltZSgpO1xuICAgICAgKiAgICAgICAgICAgICB9KTtcbiAgICAgICpcbiAgICAgICogICAgICAgICAgICAgc3RvcFRpbWUgPSAkaW50ZXJ2YWwodXBkYXRlVGltZSwgMTAwMCk7XG4gICAgICAqXG4gICAgICAqICAgICAgICAgICAgIC8vIGxpc3RlbiBvbiBET00gZGVzdHJveSAocmVtb3ZhbCkgZXZlbnQsIGFuZCBjYW5jZWwgdGhlIG5leHQgVUkgdXBkYXRlXG4gICAgICAqICAgICAgICAgICAgIC8vIHRvIHByZXZlbnQgdXBkYXRpbmcgdGltZSBhZnRlciB0aGUgRE9NIGVsZW1lbnQgd2FzIHJlbW92ZWQuXG4gICAgICAqICAgICAgICAgICAgIGVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAqICAgICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChzdG9wVGltZSk7XG4gICAgICAqICAgICAgICAgICAgIH0pO1xuICAgICAgKiAgICAgICAgICAgfVxuICAgICAgKiAgICAgICAgIH1dKTtcbiAgICAgICogICA8L3NjcmlwdD5cbiAgICAgICpcbiAgICAgICogICA8ZGl2PlxuICAgICAgKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICogICAgICAgRGF0ZSBmb3JtYXQ6IDxpbnB1dCBuZy1tb2RlbD1cImZvcm1hdFwiPiA8aHIvPlxuICAgICAgKiAgICAgICBDdXJyZW50IHRpbWUgaXM6IDxzcGFuIG15LWN1cnJlbnQtdGltZT1cImZvcm1hdFwiPjwvc3Bhbj5cbiAgICAgICogICAgICAgPGhyLz5cbiAgICAgICogICAgICAgQmxvb2QgMSA6IDxmb250IGNvbG9yPSdyZWQnPnt7Ymxvb2RfMX19PC9mb250PlxuICAgICAgKiAgICAgICBCbG9vZCAyIDogPGZvbnQgY29sb3I9J3JlZCc+e3tibG9vZF8yfX08L2ZvbnQ+XG4gICAgICAqICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtbmctY2xpY2s9XCJmaWdodCgpXCI+RmlnaHQ8L2J1dHRvbj5cbiAgICAgICogICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1uZy1jbGljaz1cInN0b3BGaWdodCgpXCI+U3RvcEZpZ2h0PC9idXR0b24+XG4gICAgICAqICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtbmctY2xpY2s9XCJyZXNldEZpZ2h0KClcIj5yZXNldEZpZ2h0PC9idXR0b24+XG4gICAgICAqICAgICA8L2Rpdj5cbiAgICAgICogICA8L2Rpdj5cbiAgICAgICpcbiAgICAgICogPC9maWxlPlxuICAgICAgKiA8L2V4YW1wbGU+XG4gICAgICAqL1xuICAgIGZ1bmN0aW9uIGludGVydmFsKGZuLCBkZWxheSwgY291bnQsIGludm9rZUFwcGx5KSB7XG4gICAgICB2YXIgc2V0SW50ZXJ2YWwgPSAkd2luZG93LnNldEludGVydmFsLFxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwgPSAkd2luZG93LmNsZWFySW50ZXJ2YWwsXG4gICAgICAgICAgaXRlcmF0aW9uID0gMCxcbiAgICAgICAgICBza2lwQXBwbHkgPSAoaXNEZWZpbmVkKGludm9rZUFwcGx5KSAmJiAhaW52b2tlQXBwbHkpLFxuICAgICAgICAgIGRlZmVycmVkID0gKHNraXBBcHBseSA/ICQkcSA6ICRxKS5kZWZlcigpLFxuICAgICAgICAgIHByb21pc2UgPSBkZWZlcnJlZC5wcm9taXNlO1xuXG4gICAgICBjb3VudCA9IGlzRGVmaW5lZChjb3VudCkgPyBjb3VudCA6IDA7XG5cbiAgICAgIHByb21pc2UudGhlbihudWxsLCBudWxsLCBmbik7XG5cbiAgICAgIHByb21pc2UuJCRpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gdGljaygpIHtcbiAgICAgICAgZGVmZXJyZWQubm90aWZ5KGl0ZXJhdGlvbisrKTtcblxuICAgICAgICBpZiAoY291bnQgPiAwICYmIGl0ZXJhdGlvbiA+PSBjb3VudCkge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoaXRlcmF0aW9uKTtcbiAgICAgICAgICBjbGVhckludGVydmFsKHByb21pc2UuJCRpbnRlcnZhbElkKTtcbiAgICAgICAgICBkZWxldGUgaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2tpcEFwcGx5KSAkcm9vdFNjb3BlLiRhcHBseSgpO1xuXG4gICAgICB9LCBkZWxheSk7XG5cbiAgICAgIGludGVydmFsc1twcm9taXNlLiQkaW50ZXJ2YWxJZF0gPSBkZWZlcnJlZDtcblxuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuXG5cbiAgICAgLyoqXG4gICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICogQG5hbWUgJGludGVydmFsI2NhbmNlbFxuICAgICAgKlxuICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICogQ2FuY2VscyBhIHRhc2sgYXNzb2NpYXRlZCB3aXRoIHRoZSBgcHJvbWlzZWAuXG4gICAgICAqXG4gICAgICAqIEBwYXJhbSB7cHJvbWlzZX0gcHJvbWlzZSByZXR1cm5lZCBieSB0aGUgYCRpbnRlcnZhbGAgZnVuY3Rpb24uXG4gICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdGFzayB3YXMgc3VjY2Vzc2Z1bGx5IGNhbmNlbGVkLlxuICAgICAgKi9cbiAgICBpbnRlcnZhbC5jYW5jZWwgPSBmdW5jdGlvbihwcm9taXNlKSB7XG4gICAgICBpZiAocHJvbWlzZSAmJiBwcm9taXNlLiQkaW50ZXJ2YWxJZCBpbiBpbnRlcnZhbHMpIHtcbiAgICAgICAgaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXS5yZWplY3QoJ2NhbmNlbGVkJyk7XG4gICAgICAgICR3aW5kb3cuY2xlYXJJbnRlcnZhbChwcm9taXNlLiQkaW50ZXJ2YWxJZCk7XG4gICAgICAgIGRlbGV0ZSBpbnRlcnZhbHNbcHJvbWlzZS4kJGludGVydmFsSWRdO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGludGVydmFsO1xuICB9XTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGxvY2FsZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogJGxvY2FsZSBzZXJ2aWNlIHByb3ZpZGVzIGxvY2FsaXphdGlvbiBydWxlcyBmb3IgdmFyaW91cyBBbmd1bGFyIGNvbXBvbmVudHMuIEFzIG9mIHJpZ2h0IG5vdyB0aGVcbiAqIG9ubHkgcHVibGljIGFwaSBpczpcbiAqXG4gKiAqIGBpZGAg4oCTIGB7c3RyaW5nfWAg4oCTIGxvY2FsZSBpZCBmb3JtYXR0ZWQgYXMgYGxhbmd1YWdlSWQtY291bnRyeUlkYCAoZS5nLiBgZW4tdXNgKVxuICovXG5mdW5jdGlvbiAkTG9jYWxlUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogJ2VuLXVzJyxcblxuICAgICAgTlVNQkVSX0ZPUk1BVFM6IHtcbiAgICAgICAgREVDSU1BTF9TRVA6ICcuJyxcbiAgICAgICAgR1JPVVBfU0VQOiAnLCcsXG4gICAgICAgIFBBVFRFUk5TOiBbXG4gICAgICAgICAgeyAvLyBEZWNpbWFsIFBhdHRlcm5cbiAgICAgICAgICAgIG1pbkludDogMSxcbiAgICAgICAgICAgIG1pbkZyYWM6IDAsXG4gICAgICAgICAgICBtYXhGcmFjOiAzLFxuICAgICAgICAgICAgcG9zUHJlOiAnJyxcbiAgICAgICAgICAgIHBvc1N1ZjogJycsXG4gICAgICAgICAgICBuZWdQcmU6ICctJyxcbiAgICAgICAgICAgIG5lZ1N1ZjogJycsXG4gICAgICAgICAgICBnU2l6ZTogMyxcbiAgICAgICAgICAgIGxnU2l6ZTogM1xuICAgICAgICAgIH0seyAvL0N1cnJlbmN5IFBhdHRlcm5cbiAgICAgICAgICAgIG1pbkludDogMSxcbiAgICAgICAgICAgIG1pbkZyYWM6IDIsXG4gICAgICAgICAgICBtYXhGcmFjOiAyLFxuICAgICAgICAgICAgcG9zUHJlOiAnXFx1MDBBNCcsXG4gICAgICAgICAgICBwb3NTdWY6ICcnLFxuICAgICAgICAgICAgbmVnUHJlOiAnKFxcdTAwQTQnLFxuICAgICAgICAgICAgbmVnU3VmOiAnKScsXG4gICAgICAgICAgICBnU2l6ZTogMyxcbiAgICAgICAgICAgIGxnU2l6ZTogM1xuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgQ1VSUkVOQ1lfU1lNOiAnJCdcbiAgICAgIH0sXG5cbiAgICAgIERBVEVUSU1FX0ZPUk1BVFM6IHtcbiAgICAgICAgTU9OVEg6XG4gICAgICAgICAgICAnSmFudWFyeSxGZWJydWFyeSxNYXJjaCxBcHJpbCxNYXksSnVuZSxKdWx5LEF1Z3VzdCxTZXB0ZW1iZXIsT2N0b2JlcixOb3ZlbWJlcixEZWNlbWJlcidcbiAgICAgICAgICAgIC5zcGxpdCgnLCcpLFxuICAgICAgICBTSE9SVE1PTlRIOiAgJ0phbixGZWIsTWFyLEFwcixNYXksSnVuLEp1bCxBdWcsU2VwLE9jdCxOb3YsRGVjJy5zcGxpdCgnLCcpLFxuICAgICAgICBEQVk6ICdTdW5kYXksTW9uZGF5LFR1ZXNkYXksV2VkbmVzZGF5LFRodXJzZGF5LEZyaWRheSxTYXR1cmRheScuc3BsaXQoJywnKSxcbiAgICAgICAgU0hPUlREQVk6ICdTdW4sTW9uLFR1ZSxXZWQsVGh1LEZyaSxTYXQnLnNwbGl0KCcsJyksXG4gICAgICAgIEFNUE1TOiBbJ0FNJywnUE0nXSxcbiAgICAgICAgbWVkaXVtOiAnTU1NIGQsIHkgaDptbTpzcyBhJyxcbiAgICAgICAgJ3Nob3J0JzogJ00vZC95eSBoOm1tIGEnLFxuICAgICAgICBmdWxsRGF0ZTogJ0VFRUUsIE1NTU0gZCwgeScsXG4gICAgICAgIGxvbmdEYXRlOiAnTU1NTSBkLCB5JyxcbiAgICAgICAgbWVkaXVtRGF0ZTogJ01NTSBkLCB5JyxcbiAgICAgICAgc2hvcnREYXRlOiAnTS9kL3l5JyxcbiAgICAgICAgbWVkaXVtVGltZTogJ2g6bW06c3MgYScsXG4gICAgICAgIHNob3J0VGltZTogJ2g6bW0gYSdcbiAgICAgIH0sXG5cbiAgICAgIHBsdXJhbENhdDogZnVuY3Rpb24obnVtKSB7XG4gICAgICAgIGlmIChudW0gPT09IDEpIHtcbiAgICAgICAgICByZXR1cm4gJ29uZSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdvdGhlcic7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn1cblxudmFyIFBBVEhfTUFUQ0ggPSAvXihbXlxcPyNdKikoXFw/KFteI10qKSk/KCMoLiopKT8kLyxcbiAgICBERUZBVUxUX1BPUlRTID0geydodHRwJzogODAsICdodHRwcyc6IDQ0MywgJ2Z0cCc6IDIxfTtcbnZhciAkbG9jYXRpb25NaW5FcnIgPSBtaW5FcnIoJyRsb2NhdGlvbicpO1xuXG5cbi8qKlxuICogRW5jb2RlIHBhdGggdXNpbmcgZW5jb2RlVXJpU2VnbWVudCwgaWdub3JpbmcgZm9yd2FyZCBzbGFzaGVzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggUGF0aCB0byBlbmNvZGVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGVuY29kZVBhdGgocGF0aCkge1xuICB2YXIgc2VnbWVudHMgPSBwYXRoLnNwbGl0KCcvJyksXG4gICAgICBpID0gc2VnbWVudHMubGVuZ3RoO1xuXG4gIHdoaWxlIChpLS0pIHtcbiAgICBzZWdtZW50c1tpXSA9IGVuY29kZVVyaVNlZ21lbnQoc2VnbWVudHNbaV0pO1xuICB9XG5cbiAgcmV0dXJuIHNlZ21lbnRzLmpvaW4oJy8nKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VBYnNvbHV0ZVVybChhYnNvbHV0ZVVybCwgbG9jYXRpb25PYmosIGFwcEJhc2UpIHtcbiAgdmFyIHBhcnNlZFVybCA9IHVybFJlc29sdmUoYWJzb2x1dGVVcmwsIGFwcEJhc2UpO1xuXG4gIGxvY2F0aW9uT2JqLiQkcHJvdG9jb2wgPSBwYXJzZWRVcmwucHJvdG9jb2w7XG4gIGxvY2F0aW9uT2JqLiQkaG9zdCA9IHBhcnNlZFVybC5ob3N0bmFtZTtcbiAgbG9jYXRpb25PYmouJCRwb3J0ID0gaW50KHBhcnNlZFVybC5wb3J0KSB8fCBERUZBVUxUX1BPUlRTW3BhcnNlZFVybC5wcm90b2NvbF0gfHwgbnVsbDtcbn1cblxuXG5mdW5jdGlvbiBwYXJzZUFwcFVybChyZWxhdGl2ZVVybCwgbG9jYXRpb25PYmosIGFwcEJhc2UpIHtcbiAgdmFyIHByZWZpeGVkID0gKHJlbGF0aXZlVXJsLmNoYXJBdCgwKSAhPT0gJy8nKTtcbiAgaWYgKHByZWZpeGVkKSB7XG4gICAgcmVsYXRpdmVVcmwgPSAnLycgKyByZWxhdGl2ZVVybDtcbiAgfVxuICB2YXIgbWF0Y2ggPSB1cmxSZXNvbHZlKHJlbGF0aXZlVXJsLCBhcHBCYXNlKTtcbiAgbG9jYXRpb25PYmouJCRwYXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KHByZWZpeGVkICYmIG1hdGNoLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nID9cbiAgICAgIG1hdGNoLnBhdGhuYW1lLnN1YnN0cmluZygxKSA6IG1hdGNoLnBhdGhuYW1lKTtcbiAgbG9jYXRpb25PYmouJCRzZWFyY2ggPSBwYXJzZUtleVZhbHVlKG1hdGNoLnNlYXJjaCk7XG4gIGxvY2F0aW9uT2JqLiQkaGFzaCA9IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaC5oYXNoKTtcblxuICAvLyBtYWtlIHN1cmUgcGF0aCBzdGFydHMgd2l0aCAnLyc7XG4gIGlmIChsb2NhdGlvbk9iai4kJHBhdGggJiYgbG9jYXRpb25PYmouJCRwYXRoLmNoYXJBdCgwKSAhPSAnLycpIHtcbiAgICBsb2NhdGlvbk9iai4kJHBhdGggPSAnLycgKyBsb2NhdGlvbk9iai4kJHBhdGg7XG4gIH1cbn1cblxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmVnaW5cbiAqIEBwYXJhbSB7c3RyaW5nfSB3aG9sZVxuICogQHJldHVybnMge3N0cmluZ30gcmV0dXJucyB0ZXh0IGZyb20gd2hvbGUgYWZ0ZXIgYmVnaW4gb3IgdW5kZWZpbmVkIGlmIGl0IGRvZXMgbm90IGJlZ2luIHdpdGhcbiAqICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYmVnaW5zV2l0aChiZWdpbiwgd2hvbGUpIHtcbiAgaWYgKHdob2xlLmluZGV4T2YoYmVnaW4pID09PSAwKSB7XG4gICAgcmV0dXJuIHdob2xlLnN1YnN0cihiZWdpbi5sZW5ndGgpO1xuICB9XG59XG5cblxuZnVuY3Rpb24gc3RyaXBIYXNoKHVybCkge1xuICB2YXIgaW5kZXggPSB1cmwuaW5kZXhPZignIycpO1xuICByZXR1cm4gaW5kZXggPT0gLTEgPyB1cmwgOiB1cmwuc3Vic3RyKDAsIGluZGV4KTtcbn1cblxuXG5mdW5jdGlvbiBzdHJpcEZpbGUodXJsKSB7XG4gIHJldHVybiB1cmwuc3Vic3RyKDAsIHN0cmlwSGFzaCh1cmwpLmxhc3RJbmRleE9mKCcvJykgKyAxKTtcbn1cblxuLyogcmV0dXJuIHRoZSBzZXJ2ZXIgb25seSAoc2NoZW1lOi8vaG9zdDpwb3J0KSAqL1xuZnVuY3Rpb24gc2VydmVyQmFzZSh1cmwpIHtcbiAgcmV0dXJuIHVybC5zdWJzdHJpbmcoMCwgdXJsLmluZGV4T2YoJy8nLCB1cmwuaW5kZXhPZignLy8nKSArIDIpKTtcbn1cblxuXG4vKipcbiAqIExvY2F0aW9uSHRtbDVVcmwgcmVwcmVzZW50cyBhbiB1cmxcbiAqIFRoaXMgb2JqZWN0IGlzIGV4cG9zZWQgYXMgJGxvY2F0aW9uIHNlcnZpY2Ugd2hlbiBIVE1MNSBtb2RlIGlzIGVuYWJsZWQgYW5kIHN1cHBvcnRlZFxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtzdHJpbmd9IGFwcEJhc2UgYXBwbGljYXRpb24gYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlUHJlZml4IHVybCBwYXRoIHByZWZpeFxuICovXG5mdW5jdGlvbiBMb2NhdGlvbkh0bWw1VXJsKGFwcEJhc2UsIGJhc2VQcmVmaXgpIHtcbiAgdGhpcy4kJGh0bWw1ID0gdHJ1ZTtcbiAgYmFzZVByZWZpeCA9IGJhc2VQcmVmaXggfHwgJyc7XG4gIHZhciBhcHBCYXNlTm9GaWxlID0gc3RyaXBGaWxlKGFwcEJhc2UpO1xuICBwYXJzZUFic29sdXRlVXJsKGFwcEJhc2UsIHRoaXMsIGFwcEJhc2UpO1xuXG5cbiAgLyoqXG4gICAqIFBhcnNlIGdpdmVuIGh0bWw1IChyZWd1bGFyKSB1cmwgc3RyaW5nIGludG8gcHJvcGVydGllc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIEhUTUw1IHVybFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy4kJHBhcnNlID0gZnVuY3Rpb24odXJsKSB7XG4gICAgdmFyIHBhdGhVcmwgPSBiZWdpbnNXaXRoKGFwcEJhc2VOb0ZpbGUsIHVybCk7XG4gICAgaWYgKCFpc1N0cmluZyhwYXRoVXJsKSkge1xuICAgICAgdGhyb3cgJGxvY2F0aW9uTWluRXJyKCdpcHRocHJmeCcsICdJbnZhbGlkIHVybCBcInswfVwiLCBtaXNzaW5nIHBhdGggcHJlZml4IFwiezF9XCIuJywgdXJsLFxuICAgICAgICAgIGFwcEJhc2VOb0ZpbGUpO1xuICAgIH1cblxuICAgIHBhcnNlQXBwVXJsKHBhdGhVcmwsIHRoaXMsIGFwcEJhc2UpO1xuXG4gICAgaWYgKCF0aGlzLiQkcGF0aCkge1xuICAgICAgdGhpcy4kJHBhdGggPSAnLyc7XG4gICAgfVxuXG4gICAgdGhpcy4kJGNvbXBvc2UoKTtcbiAgfTtcblxuICAvKipcbiAgICogQ29tcG9zZSB1cmwgYW5kIHVwZGF0ZSBgYWJzVXJsYCBwcm9wZXJ0eVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy4kJGNvbXBvc2UgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VhcmNoID0gdG9LZXlWYWx1ZSh0aGlzLiQkc2VhcmNoKSxcbiAgICAgICAgaGFzaCA9IHRoaXMuJCRoYXNoID8gJyMnICsgZW5jb2RlVXJpU2VnbWVudCh0aGlzLiQkaGFzaCkgOiAnJztcblxuICAgIHRoaXMuJCR1cmwgPSBlbmNvZGVQYXRoKHRoaXMuJCRwYXRoKSArIChzZWFyY2ggPyAnPycgKyBzZWFyY2ggOiAnJykgKyBoYXNoO1xuICAgIHRoaXMuJCRhYnNVcmwgPSBhcHBCYXNlTm9GaWxlICsgdGhpcy4kJHVybC5zdWJzdHIoMSk7IC8vIGZpcnN0IGNoYXIgaXMgYWx3YXlzICcvJ1xuICB9O1xuXG4gIHRoaXMuJCRwYXJzZUxpbmtVcmwgPSBmdW5jdGlvbih1cmwsIHJlbEhyZWYpIHtcbiAgICBpZiAocmVsSHJlZiAmJiByZWxIcmVmWzBdID09PSAnIycpIHtcbiAgICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgbGlua3MgdG8gaGFzaCBmcmFnbWVudHM6XG4gICAgICAvLyBrZWVwIHRoZSBvbGQgdXJsIGFuZCBvbmx5IHJlcGxhY2UgdGhlIGhhc2ggZnJhZ21lbnRcbiAgICAgIHRoaXMuaGFzaChyZWxIcmVmLnNsaWNlKDEpKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXIgYXBwVXJsLCBwcmV2QXBwVXJsO1xuICAgIHZhciByZXdyaXR0ZW5Vcmw7XG5cbiAgICBpZiAoKGFwcFVybCA9IGJlZ2luc1dpdGgoYXBwQmFzZSwgdXJsKSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcHJldkFwcFVybCA9IGFwcFVybDtcbiAgICAgIGlmICgoYXBwVXJsID0gYmVnaW5zV2l0aChiYXNlUHJlZml4LCBhcHBVcmwpKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2VOb0ZpbGUgKyAoYmVnaW5zV2l0aCgnLycsIGFwcFVybCkgfHwgYXBwVXJsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2UgKyBwcmV2QXBwVXJsO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoKGFwcFVybCA9IGJlZ2luc1dpdGgoYXBwQmFzZU5vRmlsZSwgdXJsKSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV3cml0dGVuVXJsID0gYXBwQmFzZU5vRmlsZSArIGFwcFVybDtcbiAgICB9IGVsc2UgaWYgKGFwcEJhc2VOb0ZpbGUgPT0gdXJsICsgJy8nKSB7XG4gICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlTm9GaWxlO1xuICAgIH1cbiAgICBpZiAocmV3cml0dGVuVXJsKSB7XG4gICAgICB0aGlzLiQkcGFyc2UocmV3cml0dGVuVXJsKTtcbiAgICB9XG4gICAgcmV0dXJuICEhcmV3cml0dGVuVXJsO1xuICB9O1xufVxuXG5cbi8qKlxuICogTG9jYXRpb25IYXNoYmFuZ1VybCByZXByZXNlbnRzIHVybFxuICogVGhpcyBvYmplY3QgaXMgZXhwb3NlZCBhcyAkbG9jYXRpb24gc2VydmljZSB3aGVuIGRldmVsb3BlciBkb2Vzbid0IG9wdCBpbnRvIGh0bWw1IG1vZGUuXG4gKiBJdCBhbHNvIHNlcnZlcyBhcyB0aGUgYmFzZSBjbGFzcyBmb3IgaHRtbDUgbW9kZSBmYWxsYmFjayBvbiBsZWdhY3kgYnJvd3NlcnMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge3N0cmluZ30gYXBwQmFzZSBhcHBsaWNhdGlvbiBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IGhhc2hQcmVmaXggaGFzaGJhbmcgcHJlZml4XG4gKi9cbmZ1bmN0aW9uIExvY2F0aW9uSGFzaGJhbmdVcmwoYXBwQmFzZSwgaGFzaFByZWZpeCkge1xuICB2YXIgYXBwQmFzZU5vRmlsZSA9IHN0cmlwRmlsZShhcHBCYXNlKTtcblxuICBwYXJzZUFic29sdXRlVXJsKGFwcEJhc2UsIHRoaXMsIGFwcEJhc2UpO1xuXG5cbiAgLyoqXG4gICAqIFBhcnNlIGdpdmVuIGhhc2hiYW5nIHVybCBpbnRvIHByb3BlcnRpZXNcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBIYXNoYmFuZyB1cmxcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuJCRwYXJzZSA9IGZ1bmN0aW9uKHVybCkge1xuICAgIHZhciB3aXRob3V0QmFzZVVybCA9IGJlZ2luc1dpdGgoYXBwQmFzZSwgdXJsKSB8fCBiZWdpbnNXaXRoKGFwcEJhc2VOb0ZpbGUsIHVybCk7XG4gICAgdmFyIHdpdGhvdXRIYXNoVXJsID0gd2l0aG91dEJhc2VVcmwuY2hhckF0KDApID09ICcjJ1xuICAgICAgICA/IGJlZ2luc1dpdGgoaGFzaFByZWZpeCwgd2l0aG91dEJhc2VVcmwpXG4gICAgICAgIDogKHRoaXMuJCRodG1sNSlcbiAgICAgICAgICA/IHdpdGhvdXRCYXNlVXJsXG4gICAgICAgICAgOiAnJztcblxuICAgIGlmICghaXNTdHJpbmcod2l0aG91dEhhc2hVcmwpKSB7XG4gICAgICB0aHJvdyAkbG9jYXRpb25NaW5FcnIoJ2loc2hwcmZ4JywgJ0ludmFsaWQgdXJsIFwiezB9XCIsIG1pc3NpbmcgaGFzaCBwcmVmaXggXCJ7MX1cIi4nLCB1cmwsXG4gICAgICAgICAgaGFzaFByZWZpeCk7XG4gICAgfVxuICAgIHBhcnNlQXBwVXJsKHdpdGhvdXRIYXNoVXJsLCB0aGlzLCBhcHBCYXNlKTtcblxuICAgIHRoaXMuJCRwYXRoID0gcmVtb3ZlV2luZG93c0RyaXZlTmFtZSh0aGlzLiQkcGF0aCwgd2l0aG91dEhhc2hVcmwsIGFwcEJhc2UpO1xuXG4gICAgdGhpcy4kJGNvbXBvc2UoKTtcblxuICAgIC8qXG4gICAgICogSW4gV2luZG93cywgb24gYW4gYW5jaG9yIG5vZGUgb24gZG9jdW1lbnRzIGxvYWRlZCBmcm9tXG4gICAgICogdGhlIGZpbGVzeXN0ZW0sIHRoZSBicm93c2VyIHdpbGwgcmV0dXJuIGEgcGF0aG5hbWVcbiAgICAgKiBwcmVmaXhlZCB3aXRoIHRoZSBkcml2ZSBuYW1lICgnL0M6L3BhdGgnKSB3aGVuIGFcbiAgICAgKiBwYXRobmFtZSB3aXRob3V0IGEgZHJpdmUgaXMgc2V0OlxuICAgICAqICAqIGEuc2V0QXR0cmlidXRlKCdocmVmJywgJy9mb28nKVxuICAgICAqICAgKiBhLnBhdGhuYW1lID09PSAnL0M6L2ZvbycgLy90cnVlXG4gICAgICpcbiAgICAgKiBJbnNpZGUgb2YgQW5ndWxhciwgd2UncmUgYWx3YXlzIHVzaW5nIHBhdGhuYW1lcyB0aGF0XG4gICAgICogZG8gbm90IGluY2x1ZGUgZHJpdmUgbmFtZXMgZm9yIHJvdXRpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVtb3ZlV2luZG93c0RyaXZlTmFtZShwYXRoLCB1cmwsIGJhc2UpIHtcbiAgICAgIC8qXG4gICAgICBNYXRjaGVzIHBhdGhzIGZvciBmaWxlIHByb3RvY29sIG9uIHdpbmRvd3MsXG4gICAgICBzdWNoIGFzIC9DOi9mb28vYmFyLCBhbmQgY2FwdHVyZXMgb25seSAvZm9vL2Jhci5cbiAgICAgICovXG4gICAgICB2YXIgd2luZG93c0ZpbGVQYXRoRXhwID0gL15cXC9bQS1aXTooXFwvLiopLztcblxuICAgICAgdmFyIGZpcnN0UGF0aFNlZ21lbnRNYXRjaDtcblxuICAgICAgLy9HZXQgdGhlIHJlbGF0aXZlIHBhdGggZnJvbSB0aGUgaW5wdXQgVVJMLlxuICAgICAgaWYgKHVybC5pbmRleE9mKGJhc2UpID09PSAwKSB7XG4gICAgICAgIHVybCA9IHVybC5yZXBsYWNlKGJhc2UsICcnKTtcbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGlucHV0IFVSTCBpbnRlbnRpb25hbGx5IGNvbnRhaW5zIGEgZmlyc3QgcGF0aCBzZWdtZW50IHRoYXQgZW5kcyB3aXRoIGEgY29sb24uXG4gICAgICBpZiAod2luZG93c0ZpbGVQYXRoRXhwLmV4ZWModXJsKSkge1xuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgIH1cblxuICAgICAgZmlyc3RQYXRoU2VnbWVudE1hdGNoID0gd2luZG93c0ZpbGVQYXRoRXhwLmV4ZWMocGF0aCk7XG4gICAgICByZXR1cm4gZmlyc3RQYXRoU2VnbWVudE1hdGNoID8gZmlyc3RQYXRoU2VnbWVudE1hdGNoWzFdIDogcGF0aDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbXBvc2UgaGFzaGJhbmcgdXJsIGFuZCB1cGRhdGUgYGFic1VybGAgcHJvcGVydHlcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuJCRjb21wb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlYXJjaCA9IHRvS2V5VmFsdWUodGhpcy4kJHNlYXJjaCksXG4gICAgICAgIGhhc2ggPSB0aGlzLiQkaGFzaCA/ICcjJyArIGVuY29kZVVyaVNlZ21lbnQodGhpcy4kJGhhc2gpIDogJyc7XG5cbiAgICB0aGlzLiQkdXJsID0gZW5jb2RlUGF0aCh0aGlzLiQkcGF0aCkgKyAoc2VhcmNoID8gJz8nICsgc2VhcmNoIDogJycpICsgaGFzaDtcbiAgICB0aGlzLiQkYWJzVXJsID0gYXBwQmFzZSArICh0aGlzLiQkdXJsID8gaGFzaFByZWZpeCArIHRoaXMuJCR1cmwgOiAnJyk7XG4gIH07XG5cbiAgdGhpcy4kJHBhcnNlTGlua1VybCA9IGZ1bmN0aW9uKHVybCwgcmVsSHJlZikge1xuICAgIGlmIChzdHJpcEhhc2goYXBwQmFzZSkgPT0gc3RyaXBIYXNoKHVybCkpIHtcbiAgICAgIHRoaXMuJCRwYXJzZSh1cmwpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbn1cblxuXG4vKipcbiAqIExvY2F0aW9uSGFzaGJhbmdVcmwgcmVwcmVzZW50cyB1cmxcbiAqIFRoaXMgb2JqZWN0IGlzIGV4cG9zZWQgYXMgJGxvY2F0aW9uIHNlcnZpY2Ugd2hlbiBodG1sNSBoaXN0b3J5IGFwaSBpcyBlbmFibGVkIGJ1dCB0aGUgYnJvd3NlclxuICogZG9lcyBub3Qgc3VwcG9ydCBpdC5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBCYXNlIGFwcGxpY2F0aW9uIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gaGFzaFByZWZpeCBoYXNoYmFuZyBwcmVmaXhcbiAqL1xuZnVuY3Rpb24gTG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmwoYXBwQmFzZSwgaGFzaFByZWZpeCkge1xuICB0aGlzLiQkaHRtbDUgPSB0cnVlO1xuICBMb2NhdGlvbkhhc2hiYW5nVXJsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgdmFyIGFwcEJhc2VOb0ZpbGUgPSBzdHJpcEZpbGUoYXBwQmFzZSk7XG5cbiAgdGhpcy4kJHBhcnNlTGlua1VybCA9IGZ1bmN0aW9uKHVybCwgcmVsSHJlZikge1xuICAgIGlmIChyZWxIcmVmICYmIHJlbEhyZWZbMF0gPT09ICcjJykge1xuICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciBsaW5rcyB0byBoYXNoIGZyYWdtZW50czpcbiAgICAgIC8vIGtlZXAgdGhlIG9sZCB1cmwgYW5kIG9ubHkgcmVwbGFjZSB0aGUgaGFzaCBmcmFnbWVudFxuICAgICAgdGhpcy5oYXNoKHJlbEhyZWYuc2xpY2UoMSkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdmFyIHJld3JpdHRlblVybDtcbiAgICB2YXIgYXBwVXJsO1xuXG4gICAgaWYgKGFwcEJhc2UgPT0gc3RyaXBIYXNoKHVybCkpIHtcbiAgICAgIHJld3JpdHRlblVybCA9IHVybDtcbiAgICB9IGVsc2UgaWYgKChhcHBVcmwgPSBiZWdpbnNXaXRoKGFwcEJhc2VOb0ZpbGUsIHVybCkpKSB7XG4gICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlICsgaGFzaFByZWZpeCArIGFwcFVybDtcbiAgICB9IGVsc2UgaWYgKGFwcEJhc2VOb0ZpbGUgPT09IHVybCArICcvJykge1xuICAgICAgcmV3cml0dGVuVXJsID0gYXBwQmFzZU5vRmlsZTtcbiAgICB9XG4gICAgaWYgKHJld3JpdHRlblVybCkge1xuICAgICAgdGhpcy4kJHBhcnNlKHJld3JpdHRlblVybCk7XG4gICAgfVxuICAgIHJldHVybiAhIXJld3JpdHRlblVybDtcbiAgfTtcblxuICB0aGlzLiQkY29tcG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWFyY2ggPSB0b0tleVZhbHVlKHRoaXMuJCRzZWFyY2gpLFxuICAgICAgICBoYXNoID0gdGhpcy4kJGhhc2ggPyAnIycgKyBlbmNvZGVVcmlTZWdtZW50KHRoaXMuJCRoYXNoKSA6ICcnO1xuXG4gICAgdGhpcy4kJHVybCA9IGVuY29kZVBhdGgodGhpcy4kJHBhdGgpICsgKHNlYXJjaCA/ICc/JyArIHNlYXJjaCA6ICcnKSArIGhhc2g7XG4gICAgLy8gaW5jbHVkZSBoYXNoUHJlZml4IGluICQkYWJzVXJsIHdoZW4gJCR1cmwgaXMgZW1wdHkgc28gSUU4ICYgOSBkbyBub3QgcmVsb2FkIHBhZ2UgYmVjYXVzZSBvZiByZW1vdmFsIG9mICcjJ1xuICAgIHRoaXMuJCRhYnNVcmwgPSBhcHBCYXNlICsgaGFzaFByZWZpeCArIHRoaXMuJCR1cmw7XG4gIH07XG5cbn1cblxuXG52YXIgbG9jYXRpb25Qcm90b3R5cGUgPSB7XG5cbiAgLyoqXG4gICAqIEFyZSB3ZSBpbiBodG1sNSBtb2RlP1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgJCRodG1sNTogZmFsc2UsXG5cbiAgLyoqXG4gICAqIEhhcyBhbnkgY2hhbmdlIGJlZW4gcmVwbGFjaW5nP1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgJCRyZXBsYWNlOiBmYWxzZSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jYWJzVXJsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgb25seS5cbiAgICpcbiAgICogUmV0dXJuIGZ1bGwgdXJsIHJlcHJlc2VudGF0aW9uIHdpdGggYWxsIHNlZ21lbnRzIGVuY29kZWQgYWNjb3JkaW5nIHRvIHJ1bGVzIHNwZWNpZmllZCBpblxuICAgKiBbUkZDIDM5ODZdKGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzM5ODYudHh0KS5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfSBmdWxsIHVybFxuICAgKi9cbiAgYWJzVXJsOiBsb2NhdGlvbkdldHRlcignJCRhYnNVcmwnKSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jdXJsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgLyBzZXR0ZXIuXG4gICAqXG4gICAqIFJldHVybiB1cmwgKGUuZy4gYC9wYXRoP2E9YiNoYXNoYCkgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBDaGFuZ2UgcGF0aCwgc2VhcmNoIGFuZCBoYXNoLCB3aGVuIGNhbGxlZCB3aXRoIHBhcmFtZXRlciBhbmQgcmV0dXJuIGAkbG9jYXRpb25gLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHVybCBOZXcgdXJsIHdpdGhvdXQgYmFzZSBwcmVmaXggKGUuZy4gYC9wYXRoP2E9YiNoYXNoYClcbiAgICogQHJldHVybiB7c3RyaW5nfSB1cmxcbiAgICovXG4gIHVybDogZnVuY3Rpb24odXJsKSB7XG4gICAgaWYgKGlzVW5kZWZpbmVkKHVybCkpXG4gICAgICByZXR1cm4gdGhpcy4kJHVybDtcblxuICAgIHZhciBtYXRjaCA9IFBBVEhfTUFUQ0guZXhlYyh1cmwpO1xuICAgIGlmIChtYXRjaFsxXSkgdGhpcy5wYXRoKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkpO1xuICAgIGlmIChtYXRjaFsyXSB8fCBtYXRjaFsxXSkgdGhpcy5zZWFyY2gobWF0Y2hbM10gfHwgJycpO1xuICAgIHRoaXMuaGFzaChtYXRjaFs1XSB8fCAnJyk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jcHJvdG9jb2xcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciBvbmx5LlxuICAgKlxuICAgKiBSZXR1cm4gcHJvdG9jb2wgb2YgY3VycmVudCB1cmwuXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ30gcHJvdG9jb2wgb2YgY3VycmVudCB1cmxcbiAgICovXG4gIHByb3RvY29sOiBsb2NhdGlvbkdldHRlcignJCRwcm90b2NvbCcpLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNob3N0XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgb25seS5cbiAgICpcbiAgICogUmV0dXJuIGhvc3Qgb2YgY3VycmVudCB1cmwuXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ30gaG9zdCBvZiBjdXJyZW50IHVybC5cbiAgICovXG4gIGhvc3Q6IGxvY2F0aW9uR2V0dGVyKCckJGhvc3QnKSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jcG9ydFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIG9ubHkuXG4gICAqXG4gICAqIFJldHVybiBwb3J0IG9mIGN1cnJlbnQgdXJsLlxuICAgKlxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHBvcnRcbiAgICovXG4gIHBvcnQ6IGxvY2F0aW9uR2V0dGVyKCckJHBvcnQnKSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jcGF0aFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIC8gc2V0dGVyLlxuICAgKlxuICAgKiBSZXR1cm4gcGF0aCBvZiBjdXJyZW50IHVybCB3aGVuIGNhbGxlZCB3aXRob3V0IGFueSBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIENoYW5nZSBwYXRoIHdoZW4gY2FsbGVkIHdpdGggcGFyYW1ldGVyIGFuZCByZXR1cm4gYCRsb2NhdGlvbmAuXG4gICAqXG4gICAqIE5vdGU6IFBhdGggc2hvdWxkIGFsd2F5cyBiZWdpbiB3aXRoIGZvcndhcmQgc2xhc2ggKC8pLCB0aGlzIG1ldGhvZCB3aWxsIGFkZCB0aGUgZm9yd2FyZCBzbGFzaFxuICAgKiBpZiBpdCBpcyBtaXNzaW5nLlxuICAgKlxuICAgKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyKT19IHBhdGggTmV3IHBhdGhcbiAgICogQHJldHVybiB7c3RyaW5nfSBwYXRoXG4gICAqL1xuICBwYXRoOiBsb2NhdGlvbkdldHRlclNldHRlcignJCRwYXRoJywgZnVuY3Rpb24ocGF0aCkge1xuICAgIHBhdGggPSBwYXRoICE9PSBudWxsID8gcGF0aC50b1N0cmluZygpIDogJyc7XG4gICAgcmV0dXJuIHBhdGguY2hhckF0KDApID09ICcvJyA/IHBhdGggOiAnLycgKyBwYXRoO1xuICB9KSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jc2VhcmNoXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgLyBzZXR0ZXIuXG4gICAqXG4gICAqIFJldHVybiBzZWFyY2ggcGFydCAoYXMgb2JqZWN0KSBvZiBjdXJyZW50IHVybCB3aGVuIGNhbGxlZCB3aXRob3V0IGFueSBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIENoYW5nZSBzZWFyY2ggcGFydCB3aGVuIGNhbGxlZCB3aXRoIHBhcmFtZXRlciBhbmQgcmV0dXJuIGAkbG9jYXRpb25gLlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cbiAgICogdmFyIHNlYXJjaE9iamVjdCA9ICRsb2NhdGlvbi5zZWFyY2goKTtcbiAgICogLy8gPT4ge2ZvbzogJ2JhcicsIGJhejogJ3hveG8nfVxuICAgKlxuICAgKlxuICAgKiAvLyBzZXQgZm9vIHRvICd5aXBlZSdcbiAgICogJGxvY2F0aW9uLnNlYXJjaCgnZm9vJywgJ3lpcGVlJyk7XG4gICAqIC8vID0+ICRsb2NhdGlvblxuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0LjxzdHJpbmc+fE9iamVjdC48QXJyYXkuPHN0cmluZz4+fSBzZWFyY2ggTmV3IHNlYXJjaCBwYXJhbXMgLSBzdHJpbmcgb3JcbiAgICogaGFzaCBvYmplY3QuXG4gICAqXG4gICAqIFdoZW4gY2FsbGVkIHdpdGggYSBzaW5nbGUgYXJndW1lbnQgdGhlIG1ldGhvZCBhY3RzIGFzIGEgc2V0dGVyLCBzZXR0aW5nIHRoZSBgc2VhcmNoYCBjb21wb25lbnRcbiAgICogb2YgYCRsb2NhdGlvbmAgdG8gdGhlIHNwZWNpZmllZCB2YWx1ZS5cbiAgICpcbiAgICogSWYgdGhlIGFyZ3VtZW50IGlzIGEgaGFzaCBvYmplY3QgY29udGFpbmluZyBhbiBhcnJheSBvZiB2YWx1ZXMsIHRoZXNlIHZhbHVlcyB3aWxsIGJlIGVuY29kZWRcbiAgICogYXMgZHVwbGljYXRlIHNlYXJjaCBwYXJhbWV0ZXJzIGluIHRoZSB1cmwuXG4gICAqXG4gICAqIEBwYXJhbSB7KHN0cmluZ3xOdW1iZXJ8QXJyYXk8c3RyaW5nPnxib29sZWFuKT19IHBhcmFtVmFsdWUgSWYgYHNlYXJjaGAgaXMgYSBzdHJpbmcgb3IgbnVtYmVyLCB0aGVuIGBwYXJhbVZhbHVlYFxuICAgKiB3aWxsIG92ZXJyaWRlIG9ubHkgYSBzaW5nbGUgc2VhcmNoIHByb3BlcnR5LlxuICAgKlxuICAgKiBJZiBgcGFyYW1WYWx1ZWAgaXMgYW4gYXJyYXksIGl0IHdpbGwgb3ZlcnJpZGUgdGhlIHByb3BlcnR5IG9mIHRoZSBgc2VhcmNoYCBjb21wb25lbnQgb2ZcbiAgICogYCRsb2NhdGlvbmAgc3BlY2lmaWVkIHZpYSB0aGUgZmlyc3QgYXJndW1lbnQuXG4gICAqXG4gICAqIElmIGBwYXJhbVZhbHVlYCBpcyBgbnVsbGAsIHRoZSBwcm9wZXJ0eSBzcGVjaWZpZWQgdmlhIHRoZSBmaXJzdCBhcmd1bWVudCB3aWxsIGJlIGRlbGV0ZWQuXG4gICAqXG4gICAqIElmIGBwYXJhbVZhbHVlYCBpcyBgdHJ1ZWAsIHRoZSBwcm9wZXJ0eSBzcGVjaWZpZWQgdmlhIHRoZSBmaXJzdCBhcmd1bWVudCB3aWxsIGJlIGFkZGVkIHdpdGggbm9cbiAgICogdmFsdWUgbm9yIHRyYWlsaW5nIGVxdWFsIHNpZ24uXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH0gSWYgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzIHJldHVybnMgdGhlIHBhcnNlZCBgc2VhcmNoYCBvYmplY3QuIElmIGNhbGxlZCB3aXRoXG4gICAqIG9uZSBvciBtb3JlIGFyZ3VtZW50cyByZXR1cm5zIGAkbG9jYXRpb25gIG9iamVjdCBpdHNlbGYuXG4gICAqL1xuICBzZWFyY2g6IGZ1bmN0aW9uKHNlYXJjaCwgcGFyYW1WYWx1ZSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICByZXR1cm4gdGhpcy4kJHNlYXJjaDtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgaWYgKGlzU3RyaW5nKHNlYXJjaCkgfHwgaXNOdW1iZXIoc2VhcmNoKSkge1xuICAgICAgICAgIHNlYXJjaCA9IHNlYXJjaC50b1N0cmluZygpO1xuICAgICAgICAgIHRoaXMuJCRzZWFyY2ggPSBwYXJzZUtleVZhbHVlKHNlYXJjaCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qoc2VhcmNoKSkge1xuICAgICAgICAgIHNlYXJjaCA9IGNvcHkoc2VhcmNoLCB7fSk7XG4gICAgICAgICAgLy8gcmVtb3ZlIG9iamVjdCB1bmRlZmluZWQgb3IgbnVsbCBwcm9wZXJ0aWVzXG4gICAgICAgICAgZm9yRWFjaChzZWFyY2gsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSBkZWxldGUgc2VhcmNoW2tleV07XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB0aGlzLiQkc2VhcmNoID0gc2VhcmNoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93ICRsb2NhdGlvbk1pbkVycignaXNyY2hhcmcnLFxuICAgICAgICAgICAgICAnVGhlIGZpcnN0IGFyZ3VtZW50IG9mIHRoZSBgJGxvY2F0aW9uI3NlYXJjaCgpYCBjYWxsIG11c3QgYmUgYSBzdHJpbmcgb3IgYW4gb2JqZWN0LicpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHBhcmFtVmFsdWUpIHx8IHBhcmFtVmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy4kJHNlYXJjaFtzZWFyY2hdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuJCRzZWFyY2hbc2VhcmNoXSA9IHBhcmFtVmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLiQkY29tcG9zZSgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNoYXNoXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgLyBzZXR0ZXIuXG4gICAqXG4gICAqIFJldHVybiBoYXNoIGZyYWdtZW50IHdoZW4gY2FsbGVkIHdpdGhvdXQgYW55IHBhcmFtZXRlci5cbiAgICpcbiAgICogQ2hhbmdlIGhhc2ggZnJhZ21lbnQgd2hlbiBjYWxsZWQgd2l0aCBwYXJhbWV0ZXIgYW5kIHJldHVybiBgJGxvY2F0aW9uYC5cbiAgICpcbiAgICogQHBhcmFtIHsoc3RyaW5nfG51bWJlcik9fSBoYXNoIE5ldyBoYXNoIGZyYWdtZW50XG4gICAqIEByZXR1cm4ge3N0cmluZ30gaGFzaFxuICAgKi9cbiAgaGFzaDogbG9jYXRpb25HZXR0ZXJTZXR0ZXIoJyQkaGFzaCcsIGZ1bmN0aW9uKGhhc2gpIHtcbiAgICByZXR1cm4gaGFzaCAhPT0gbnVsbCA/IGhhc2gudG9TdHJpbmcoKSA6ICcnO1xuICB9KSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jcmVwbGFjZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSWYgY2FsbGVkLCBhbGwgY2hhbmdlcyB0byAkbG9jYXRpb24gZHVyaW5nIGN1cnJlbnQgYCRkaWdlc3RgIHdpbGwgYmUgcmVwbGFjaW5nIGN1cnJlbnQgaGlzdG9yeVxuICAgKiByZWNvcmQsIGluc3RlYWQgb2YgYWRkaW5nIG5ldyBvbmUuXG4gICAqL1xuICByZXBsYWNlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiQkcmVwbGFjZSA9IHRydWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn07XG5cbmZvckVhY2goW0xvY2F0aW9uSGFzaGJhbmdJbkh0bWw1VXJsLCBMb2NhdGlvbkhhc2hiYW5nVXJsLCBMb2NhdGlvbkh0bWw1VXJsXSwgZnVuY3Rpb24oTG9jYXRpb24pIHtcbiAgTG9jYXRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShsb2NhdGlvblByb3RvdHlwZSk7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvY2F0aW9uI3N0YXRlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgLyBzZXR0ZXIuXG4gICAqXG4gICAqIFJldHVybiB0aGUgaGlzdG9yeSBzdGF0ZSBvYmplY3Qgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBDaGFuZ2UgdGhlIGhpc3Rvcnkgc3RhdGUgb2JqZWN0IHdoZW4gY2FsbGVkIHdpdGggb25lIHBhcmFtZXRlciBhbmQgcmV0dXJuIGAkbG9jYXRpb25gLlxuICAgKiBUaGUgc3RhdGUgb2JqZWN0IGlzIGxhdGVyIHBhc3NlZCB0byBgcHVzaFN0YXRlYCBvciBgcmVwbGFjZVN0YXRlYC5cbiAgICpcbiAgICogTk9URTogVGhpcyBtZXRob2QgaXMgc3VwcG9ydGVkIG9ubHkgaW4gSFRNTDUgbW9kZSBhbmQgb25seSBpbiBicm93c2VycyBzdXBwb3J0aW5nXG4gICAqIHRoZSBIVE1MNSBIaXN0b3J5IEFQSSAoaS5lLiBtZXRob2RzIGBwdXNoU3RhdGVgIGFuZCBgcmVwbGFjZVN0YXRlYCkuIElmIHlvdSBuZWVkIHRvIHN1cHBvcnRcbiAgICogb2xkZXIgYnJvd3NlcnMgKGxpa2UgSUU5IG9yIEFuZHJvaWQgPCA0LjApLCBkb24ndCB1c2UgdGhpcyBtZXRob2QuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gc3RhdGUgU3RhdGUgb2JqZWN0IGZvciBwdXNoU3RhdGUgb3IgcmVwbGFjZVN0YXRlXG4gICAqIEByZXR1cm4ge29iamVjdH0gc3RhdGVcbiAgICovXG4gIExvY2F0aW9uLnByb3RvdHlwZS5zdGF0ZSA9IGZ1bmN0aW9uKHN0YXRlKSB7XG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKVxuICAgICAgcmV0dXJuIHRoaXMuJCRzdGF0ZTtcblxuICAgIGlmIChMb2NhdGlvbiAhPT0gTG9jYXRpb25IdG1sNVVybCB8fCAhdGhpcy4kJGh0bWw1KSB7XG4gICAgICB0aHJvdyAkbG9jYXRpb25NaW5FcnIoJ25vc3RhdGUnLCAnSGlzdG9yeSBBUEkgc3RhdGUgc3VwcG9ydCBpcyBhdmFpbGFibGUgb25seSAnICtcbiAgICAgICAgJ2luIEhUTUw1IG1vZGUgYW5kIG9ubHkgaW4gYnJvd3NlcnMgc3VwcG9ydGluZyBIVE1MNSBIaXN0b3J5IEFQSScpO1xuICAgIH1cbiAgICAvLyBUaGUgdXNlciBtaWdodCBtb2RpZnkgYHN0YXRlT2JqZWN0YCBhZnRlciBpbnZva2luZyBgJGxvY2F0aW9uLnN0YXRlKHN0YXRlT2JqZWN0KWBcbiAgICAvLyBidXQgd2UncmUgY2hhbmdpbmcgdGhlICQkc3RhdGUgcmVmZXJlbmNlIHRvICRicm93c2VyLnN0YXRlKCkgZHVyaW5nIHRoZSAkZGlnZXN0XG4gICAgLy8gc28gdGhlIG1vZGlmaWNhdGlvbiB3aW5kb3cgaXMgbmFycm93LlxuICAgIHRoaXMuJCRzdGF0ZSA9IGlzVW5kZWZpbmVkKHN0YXRlKSA/IG51bGwgOiBzdGF0ZTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xufSk7XG5cblxuZnVuY3Rpb24gbG9jYXRpb25HZXR0ZXIocHJvcGVydHkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzW3Byb3BlcnR5XTtcbiAgfTtcbn1cblxuXG5mdW5jdGlvbiBsb2NhdGlvbkdldHRlclNldHRlcihwcm9wZXJ0eSwgcHJlcHJvY2Vzcykge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKVxuICAgICAgcmV0dXJuIHRoaXNbcHJvcGVydHldO1xuXG4gICAgdGhpc1twcm9wZXJ0eV0gPSBwcmVwcm9jZXNzKHZhbHVlKTtcbiAgICB0aGlzLiQkY29tcG9zZSgpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG59XG5cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGxvY2F0aW9uXG4gKlxuICogQHJlcXVpcmVzICRyb290RWxlbWVudFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlICRsb2NhdGlvbiBzZXJ2aWNlIHBhcnNlcyB0aGUgVVJMIGluIHRoZSBicm93c2VyIGFkZHJlc3MgYmFyIChiYXNlZCBvbiB0aGVcbiAqIFt3aW5kb3cubG9jYXRpb25dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL3dpbmRvdy5sb2NhdGlvbikpIGFuZCBtYWtlcyB0aGUgVVJMXG4gKiBhdmFpbGFibGUgdG8geW91ciBhcHBsaWNhdGlvbi4gQ2hhbmdlcyB0byB0aGUgVVJMIGluIHRoZSBhZGRyZXNzIGJhciBhcmUgcmVmbGVjdGVkIGludG9cbiAqICRsb2NhdGlvbiBzZXJ2aWNlIGFuZCBjaGFuZ2VzIHRvICRsb2NhdGlvbiBhcmUgcmVmbGVjdGVkIGludG8gdGhlIGJyb3dzZXIgYWRkcmVzcyBiYXIuXG4gKlxuICogKipUaGUgJGxvY2F0aW9uIHNlcnZpY2U6KipcbiAqXG4gKiAtIEV4cG9zZXMgdGhlIGN1cnJlbnQgVVJMIGluIHRoZSBicm93c2VyIGFkZHJlc3MgYmFyLCBzbyB5b3UgY2FuXG4gKiAgIC0gV2F0Y2ggYW5kIG9ic2VydmUgdGhlIFVSTC5cbiAqICAgLSBDaGFuZ2UgdGhlIFVSTC5cbiAqIC0gU3luY2hyb25pemVzIHRoZSBVUkwgd2l0aCB0aGUgYnJvd3NlciB3aGVuIHRoZSB1c2VyXG4gKiAgIC0gQ2hhbmdlcyB0aGUgYWRkcmVzcyBiYXIuXG4gKiAgIC0gQ2xpY2tzIHRoZSBiYWNrIG9yIGZvcndhcmQgYnV0dG9uIChvciBjbGlja3MgYSBIaXN0b3J5IGxpbmspLlxuICogICAtIENsaWNrcyBvbiBhIGxpbmsuXG4gKiAtIFJlcHJlc2VudHMgdGhlIFVSTCBvYmplY3QgYXMgYSBzZXQgb2YgbWV0aG9kcyAocHJvdG9jb2wsIGhvc3QsIHBvcnQsIHBhdGgsIHNlYXJjaCwgaGFzaCkuXG4gKlxuICogRm9yIG1vcmUgaW5mb3JtYXRpb24gc2VlIHtAbGluayBndWlkZS8kbG9jYXRpb24gRGV2ZWxvcGVyIEd1aWRlOiBVc2luZyAkbG9jYXRpb259XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRsb2NhdGlvblByb3ZpZGVyXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZSB0aGUgYCRsb2NhdGlvblByb3ZpZGVyYCB0byBjb25maWd1cmUgaG93IHRoZSBhcHBsaWNhdGlvbiBkZWVwIGxpbmtpbmcgcGF0aHMgYXJlIHN0b3JlZC5cbiAqL1xuZnVuY3Rpb24gJExvY2F0aW9uUHJvdmlkZXIoKSB7XG4gIHZhciBoYXNoUHJlZml4ID0gJycsXG4gICAgICBodG1sNU1vZGUgPSB7XG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICByZXF1aXJlQmFzZTogdHJ1ZSxcbiAgICAgICAgcmV3cml0ZUxpbmtzOiB0cnVlXG4gICAgICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvblByb3ZpZGVyI2hhc2hQcmVmaXhcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcHJlZml4IFByZWZpeCBmb3IgaGFzaCBwYXJ0IChjb250YWluaW5nIHBhdGggYW5kIHNlYXJjaClcbiAgICogQHJldHVybnMgeyp9IGN1cnJlbnQgdmFsdWUgaWYgdXNlZCBhcyBnZXR0ZXIgb3IgaXRzZWxmIChjaGFpbmluZykgaWYgdXNlZCBhcyBzZXR0ZXJcbiAgICovXG4gIHRoaXMuaGFzaFByZWZpeCA9IGZ1bmN0aW9uKHByZWZpeCkge1xuICAgIGlmIChpc0RlZmluZWQocHJlZml4KSkge1xuICAgICAgaGFzaFByZWZpeCA9IHByZWZpeDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaGFzaFByZWZpeDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvY2F0aW9uUHJvdmlkZXIjaHRtbDVNb2RlXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBAcGFyYW0geyhib29sZWFufE9iamVjdCk9fSBtb2RlIElmIGJvb2xlYW4sIHNldHMgYGh0bWw1TW9kZS5lbmFibGVkYCB0byB2YWx1ZS5cbiAgICogICBJZiBvYmplY3QsIHNldHMgYGVuYWJsZWRgLCBgcmVxdWlyZUJhc2VgIGFuZCBgcmV3cml0ZUxpbmtzYCB0byByZXNwZWN0aXZlIHZhbHVlcy4gU3VwcG9ydGVkXG4gICAqICAgcHJvcGVydGllczpcbiAgICogICAtICoqZW5hYmxlZCoqIOKAkyBge2Jvb2xlYW59YCDigJMgKGRlZmF1bHQ6IGZhbHNlKSBJZiB0cnVlLCB3aWxsIHJlbHkgb24gYGhpc3RvcnkucHVzaFN0YXRlYCB0b1xuICAgKiAgICAgY2hhbmdlIHVybHMgd2hlcmUgc3VwcG9ydGVkLiBXaWxsIGZhbGwgYmFjayB0byBoYXNoLXByZWZpeGVkIHBhdGhzIGluIGJyb3dzZXJzIHRoYXQgZG8gbm90XG4gICAqICAgICBzdXBwb3J0IGBwdXNoU3RhdGVgLlxuICAgKiAgIC0gKipyZXF1aXJlQmFzZSoqIC0gYHtib29sZWFufWAgLSAoZGVmYXVsdDogYHRydWVgKSBXaGVuIGh0bWw1TW9kZSBpcyBlbmFibGVkLCBzcGVjaWZpZXNcbiAgICogICAgIHdoZXRoZXIgb3Igbm90IGEgPGJhc2U+IHRhZyBpcyByZXF1aXJlZCB0byBiZSBwcmVzZW50LiBJZiBgZW5hYmxlZGAgYW5kIGByZXF1aXJlQmFzZWAgYXJlXG4gICAqICAgICB0cnVlLCBhbmQgYSBiYXNlIHRhZyBpcyBub3QgcHJlc2VudCwgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd24gd2hlbiBgJGxvY2F0aW9uYCBpcyBpbmplY3RlZC5cbiAgICogICAgIFNlZSB0aGUge0BsaW5rIGd1aWRlLyRsb2NhdGlvbiAkbG9jYXRpb24gZ3VpZGUgZm9yIG1vcmUgaW5mb3JtYXRpb259XG4gICAqICAgLSAqKnJld3JpdGVMaW5rcyoqIC0gYHtib29sZWFufWAgLSAoZGVmYXVsdDogYHRydWVgKSBXaGVuIGh0bWw1TW9kZSBpcyBlbmFibGVkLFxuICAgKiAgICAgZW5hYmxlcy9kaXNhYmxlcyB1cmwgcmV3cml0aW5nIGZvciByZWxhdGl2ZSBsaW5rcy5cbiAgICpcbiAgICogQHJldHVybnMge09iamVjdH0gaHRtbDVNb2RlIG9iamVjdCBpZiB1c2VkIGFzIGdldHRlciBvciBpdHNlbGYgKGNoYWluaW5nKSBpZiB1c2VkIGFzIHNldHRlclxuICAgKi9cbiAgdGhpcy5odG1sNU1vZGUgPSBmdW5jdGlvbihtb2RlKSB7XG4gICAgaWYgKGlzQm9vbGVhbihtb2RlKSkge1xuICAgICAgaHRtbDVNb2RlLmVuYWJsZWQgPSBtb2RlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIGlmIChpc09iamVjdChtb2RlKSkge1xuXG4gICAgICBpZiAoaXNCb29sZWFuKG1vZGUuZW5hYmxlZCkpIHtcbiAgICAgICAgaHRtbDVNb2RlLmVuYWJsZWQgPSBtb2RlLmVuYWJsZWQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0Jvb2xlYW4obW9kZS5yZXF1aXJlQmFzZSkpIHtcbiAgICAgICAgaHRtbDVNb2RlLnJlcXVpcmVCYXNlID0gbW9kZS5yZXF1aXJlQmFzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzQm9vbGVhbihtb2RlLnJld3JpdGVMaW5rcykpIHtcbiAgICAgICAgaHRtbDVNb2RlLnJld3JpdGVMaW5rcyA9IG1vZGUucmV3cml0ZUxpbmtzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGh0bWw1TW9kZTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBldmVudFxuICAgKiBAbmFtZSAkbG9jYXRpb24jJGxvY2F0aW9uQ2hhbmdlU3RhcnRcbiAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gcm9vdCBzY29wZVxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQnJvYWRjYXN0ZWQgYmVmb3JlIGEgVVJMIHdpbGwgY2hhbmdlLlxuICAgKlxuICAgKiBUaGlzIGNoYW5nZSBjYW4gYmUgcHJldmVudGVkIGJ5IGNhbGxpbmdcbiAgICogYHByZXZlbnREZWZhdWx0YCBtZXRob2Qgb2YgdGhlIGV2ZW50LiBTZWUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9ufSBmb3IgbW9yZVxuICAgKiBkZXRhaWxzIGFib3V0IGV2ZW50IG9iamVjdC4gVXBvbiBzdWNjZXNzZnVsIGNoYW5nZVxuICAgKiB7QGxpbmsgbmcuJGxvY2F0aW9uIyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MgJGxvY2F0aW9uQ2hhbmdlU3VjY2Vzc30gaXMgZmlyZWQuXG4gICAqXG4gICAqIFRoZSBgbmV3U3RhdGVgIGFuZCBgb2xkU3RhdGVgIHBhcmFtZXRlcnMgbWF5IGJlIGRlZmluZWQgb25seSBpbiBIVE1MNSBtb2RlIGFuZCB3aGVuXG4gICAqIHRoZSBicm93c2VyIHN1cHBvcnRzIHRoZSBIVE1MNSBIaXN0b3J5IEFQSS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGFuZ3VsYXJFdmVudCBTeW50aGV0aWMgZXZlbnQgb2JqZWN0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmV3VXJsIE5ldyBVUkxcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBvbGRVcmwgVVJMIHRoYXQgd2FzIGJlZm9yZSBpdCB3YXMgY2hhbmdlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZXdTdGF0ZSBOZXcgaGlzdG9yeSBzdGF0ZSBvYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBvbGRTdGF0ZSBIaXN0b3J5IHN0YXRlIG9iamVjdCB0aGF0IHdhcyBiZWZvcmUgaXQgd2FzIGNoYW5nZWQuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZXZlbnRcbiAgICogQG5hbWUgJGxvY2F0aW9uIyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3NcbiAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gcm9vdCBzY29wZVxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQnJvYWRjYXN0ZWQgYWZ0ZXIgYSBVUkwgd2FzIGNoYW5nZWQuXG4gICAqXG4gICAqIFRoZSBgbmV3U3RhdGVgIGFuZCBgb2xkU3RhdGVgIHBhcmFtZXRlcnMgbWF5IGJlIGRlZmluZWQgb25seSBpbiBIVE1MNSBtb2RlIGFuZCB3aGVuXG4gICAqIHRoZSBicm93c2VyIHN1cHBvcnRzIHRoZSBIVE1MNSBIaXN0b3J5IEFQSS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGFuZ3VsYXJFdmVudCBTeW50aGV0aWMgZXZlbnQgb2JqZWN0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmV3VXJsIE5ldyBVUkxcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBvbGRVcmwgVVJMIHRoYXQgd2FzIGJlZm9yZSBpdCB3YXMgY2hhbmdlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZXdTdGF0ZSBOZXcgaGlzdG9yeSBzdGF0ZSBvYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBvbGRTdGF0ZSBIaXN0b3J5IHN0YXRlIG9iamVjdCB0aGF0IHdhcyBiZWZvcmUgaXQgd2FzIGNoYW5nZWQuXG4gICAqL1xuXG4gIHRoaXMuJGdldCA9IFsnJHJvb3RTY29wZScsICckYnJvd3NlcicsICckc25pZmZlcicsICckcm9vdEVsZW1lbnQnLFxuICAgICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgJGJyb3dzZXIsICRzbmlmZmVyLCAkcm9vdEVsZW1lbnQpIHtcbiAgICB2YXIgJGxvY2F0aW9uLFxuICAgICAgICBMb2NhdGlvbk1vZGUsXG4gICAgICAgIGJhc2VIcmVmID0gJGJyb3dzZXIuYmFzZUhyZWYoKSwgLy8gaWYgYmFzZVtocmVmXSBpcyB1bmRlZmluZWQsIGl0IGRlZmF1bHRzIHRvICcnXG4gICAgICAgIGluaXRpYWxVcmwgPSAkYnJvd3Nlci51cmwoKSxcbiAgICAgICAgYXBwQmFzZTtcblxuICAgIGlmIChodG1sNU1vZGUuZW5hYmxlZCkge1xuICAgICAgaWYgKCFiYXNlSHJlZiAmJiBodG1sNU1vZGUucmVxdWlyZUJhc2UpIHtcbiAgICAgICAgdGhyb3cgJGxvY2F0aW9uTWluRXJyKCdub2Jhc2UnLFxuICAgICAgICAgIFwiJGxvY2F0aW9uIGluIEhUTUw1IG1vZGUgcmVxdWlyZXMgYSA8YmFzZT4gdGFnIHRvIGJlIHByZXNlbnQhXCIpO1xuICAgICAgfVxuICAgICAgYXBwQmFzZSA9IHNlcnZlckJhc2UoaW5pdGlhbFVybCkgKyAoYmFzZUhyZWYgfHwgJy8nKTtcbiAgICAgIExvY2F0aW9uTW9kZSA9ICRzbmlmZmVyLmhpc3RvcnkgPyBMb2NhdGlvbkh0bWw1VXJsIDogTG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwcEJhc2UgPSBzdHJpcEhhc2goaW5pdGlhbFVybCk7XG4gICAgICBMb2NhdGlvbk1vZGUgPSBMb2NhdGlvbkhhc2hiYW5nVXJsO1xuICAgIH1cbiAgICAkbG9jYXRpb24gPSBuZXcgTG9jYXRpb25Nb2RlKGFwcEJhc2UsICcjJyArIGhhc2hQcmVmaXgpO1xuICAgICRsb2NhdGlvbi4kJHBhcnNlTGlua1VybChpbml0aWFsVXJsLCBpbml0aWFsVXJsKTtcblxuICAgICRsb2NhdGlvbi4kJHN0YXRlID0gJGJyb3dzZXIuc3RhdGUoKTtcblxuICAgIHZhciBJR05PUkVfVVJJX1JFR0VYUCA9IC9eXFxzKihqYXZhc2NyaXB0fG1haWx0byk6L2k7XG5cbiAgICBmdW5jdGlvbiBzZXRCcm93c2VyVXJsV2l0aEZhbGxiYWNrKHVybCwgcmVwbGFjZSwgc3RhdGUpIHtcbiAgICAgIHZhciBvbGRVcmwgPSAkbG9jYXRpb24udXJsKCk7XG4gICAgICB2YXIgb2xkU3RhdGUgPSAkbG9jYXRpb24uJCRzdGF0ZTtcbiAgICAgIHRyeSB7XG4gICAgICAgICRicm93c2VyLnVybCh1cmwsIHJlcGxhY2UsIHN0YXRlKTtcblxuICAgICAgICAvLyBNYWtlIHN1cmUgJGxvY2F0aW9uLnN0YXRlKCkgcmV0dXJucyByZWZlcmVudGlhbGx5IGlkZW50aWNhbCAobm90IGp1c3QgZGVlcGx5IGVxdWFsKVxuICAgICAgICAvLyBzdGF0ZSBvYmplY3Q7IHRoaXMgbWFrZXMgcG9zc2libGUgcXVpY2sgY2hlY2tpbmcgaWYgdGhlIHN0YXRlIGNoYW5nZWQgaW4gdGhlIGRpZ2VzdFxuICAgICAgICAvLyBsb29wLiBDaGVja2luZyBkZWVwIGVxdWFsaXR5IHdvdWxkIGJlIHRvbyBleHBlbnNpdmUuXG4gICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gJGJyb3dzZXIuc3RhdGUoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gUmVzdG9yZSBvbGQgdmFsdWVzIGlmIHB1c2hTdGF0ZSBmYWlsc1xuICAgICAgICAkbG9jYXRpb24udXJsKG9sZFVybCk7XG4gICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gb2xkU3RhdGU7XG5cbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkcm9vdEVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIC8vIFRPRE8odm9qdGEpOiByZXdyaXRlIGxpbmsgd2hlbiBvcGVuaW5nIGluIG5ldyB0YWIvd2luZG93IChpbiBsZWdhY3kgYnJvd3NlcilcbiAgICAgIC8vIGN1cnJlbnRseSB3ZSBvcGVuIG5pY2UgdXJsIGxpbmsgYW5kIHJlZGlyZWN0IHRoZW5cblxuICAgICAgaWYgKCFodG1sNU1vZGUucmV3cml0ZUxpbmtzIHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSB8fCBldmVudC53aGljaCA9PSAyKSByZXR1cm47XG5cbiAgICAgIHZhciBlbG0gPSBqcUxpdGUoZXZlbnQudGFyZ2V0KTtcblxuICAgICAgLy8gdHJhdmVyc2UgdGhlIERPTSB1cCB0byBmaW5kIGZpcnN0IEEgdGFnXG4gICAgICB3aGlsZSAobm9kZU5hbWVfKGVsbVswXSkgIT09ICdhJykge1xuICAgICAgICAvLyBpZ25vcmUgcmV3cml0aW5nIGlmIG5vIEEgdGFnIChyZWFjaGVkIHJvb3QgZWxlbWVudCwgb3Igbm8gcGFyZW50IC0gcmVtb3ZlZCBmcm9tIGRvY3VtZW50KVxuICAgICAgICBpZiAoZWxtWzBdID09PSAkcm9vdEVsZW1lbnRbMF0gfHwgIShlbG0gPSBlbG0ucGFyZW50KCkpWzBdKSByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBhYnNIcmVmID0gZWxtLnByb3AoJ2hyZWYnKTtcbiAgICAgIC8vIGdldCB0aGUgYWN0dWFsIGhyZWYgYXR0cmlidXRlIC0gc2VlXG4gICAgICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZGQzNDcxNDgodj12cy44NSkuYXNweFxuICAgICAgdmFyIHJlbEhyZWYgPSBlbG0uYXR0cignaHJlZicpIHx8IGVsbS5hdHRyKCd4bGluazpocmVmJyk7XG5cbiAgICAgIGlmIChpc09iamVjdChhYnNIcmVmKSAmJiBhYnNIcmVmLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXScpIHtcbiAgICAgICAgLy8gU1ZHQW5pbWF0ZWRTdHJpbmcuYW5pbVZhbCBzaG91bGQgYmUgaWRlbnRpY2FsIHRvIFNWR0FuaW1hdGVkU3RyaW5nLmJhc2VWYWwsIHVubGVzcyBkdXJpbmdcbiAgICAgICAgLy8gYW4gYW5pbWF0aW9uLlxuICAgICAgICBhYnNIcmVmID0gdXJsUmVzb2x2ZShhYnNIcmVmLmFuaW1WYWwpLmhyZWY7XG4gICAgICB9XG5cbiAgICAgIC8vIElnbm9yZSB3aGVuIHVybCBpcyBzdGFydGVkIHdpdGggamF2YXNjcmlwdDogb3IgbWFpbHRvOlxuICAgICAgaWYgKElHTk9SRV9VUklfUkVHRVhQLnRlc3QoYWJzSHJlZikpIHJldHVybjtcblxuICAgICAgaWYgKGFic0hyZWYgJiYgIWVsbS5hdHRyKCd0YXJnZXQnKSAmJiAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgaWYgKCRsb2NhdGlvbi4kJHBhcnNlTGlua1VybChhYnNIcmVmLCByZWxIcmVmKSkge1xuICAgICAgICAgIC8vIFdlIGRvIGEgcHJldmVudERlZmF1bHQgZm9yIGFsbCB1cmxzIHRoYXQgYXJlIHBhcnQgb2YgdGhlIGFuZ3VsYXIgYXBwbGljYXRpb24sXG4gICAgICAgICAgLy8gaW4gaHRtbDVtb2RlIGFuZCBhbHNvIHdpdGhvdXQsIHNvIHRoYXQgd2UgYXJlIGFibGUgdG8gYWJvcnQgbmF2aWdhdGlvbiB3aXRob3V0XG4gICAgICAgICAgLy8gZ2V0dGluZyBkb3VibGUgZW50cmllcyBpbiB0aGUgbG9jYXRpb24gaGlzdG9yeS5cbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIC8vIHVwZGF0ZSBsb2NhdGlvbiBtYW51YWxseVxuICAgICAgICAgIGlmICgkbG9jYXRpb24uYWJzVXJsKCkgIT0gJGJyb3dzZXIudXJsKCkpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgICAvLyBoYWNrIHRvIHdvcmsgYXJvdW5kIEZGNiBidWcgNjg0MjA4IHdoZW4gc2NlbmFyaW8gcnVubmVyIGNsaWNrcyBvbiBsaW5rc1xuICAgICAgICAgICAgd2luZG93LmFuZ3VsYXJbJ2ZmLTY4NDIwOC1wcmV2ZW50RGVmYXVsdCddID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuXG4gICAgLy8gcmV3cml0ZSBoYXNoYmFuZyB1cmwgPD4gaHRtbDUgdXJsXG4gICAgaWYgKCRsb2NhdGlvbi5hYnNVcmwoKSAhPSBpbml0aWFsVXJsKSB7XG4gICAgICAkYnJvd3Nlci51cmwoJGxvY2F0aW9uLmFic1VybCgpLCB0cnVlKTtcbiAgICB9XG5cbiAgICB2YXIgaW5pdGlhbGl6aW5nID0gdHJ1ZTtcblxuICAgIC8vIHVwZGF0ZSAkbG9jYXRpb24gd2hlbiAkYnJvd3NlciB1cmwgY2hhbmdlc1xuICAgICRicm93c2VyLm9uVXJsQ2hhbmdlKGZ1bmN0aW9uKG5ld1VybCwgbmV3U3RhdGUpIHtcbiAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG9sZFVybCA9ICRsb2NhdGlvbi5hYnNVcmwoKTtcbiAgICAgICAgdmFyIG9sZFN0YXRlID0gJGxvY2F0aW9uLiQkc3RhdGU7XG5cbiAgICAgICAgJGxvY2F0aW9uLiQkcGFyc2UobmV3VXJsKTtcbiAgICAgICAgJGxvY2F0aW9uLiQkc3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgaWYgKCRyb290U2NvcGUuJGJyb2FkY2FzdCgnJGxvY2F0aW9uQ2hhbmdlU3RhcnQnLCBuZXdVcmwsIG9sZFVybCxcbiAgICAgICAgICAgIG5ld1N0YXRlLCBvbGRTdGF0ZSkuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICRsb2NhdGlvbi4kJHBhcnNlKG9sZFVybCk7XG4gICAgICAgICAgJGxvY2F0aW9uLiQkc3RhdGUgPSBvbGRTdGF0ZTtcbiAgICAgICAgICBzZXRCcm93c2VyVXJsV2l0aEZhbGxiYWNrKG9sZFVybCwgZmFsc2UsIG9sZFN0YXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbml0aWFsaXppbmcgPSBmYWxzZTtcbiAgICAgICAgICBhZnRlckxvY2F0aW9uQ2hhbmdlKG9sZFVybCwgb2xkU3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICB9KTtcblxuICAgIC8vIHVwZGF0ZSBicm93c2VyXG4gICAgJHJvb3RTY29wZS4kd2F0Y2goZnVuY3Rpb24gJGxvY2F0aW9uV2F0Y2goKSB7XG4gICAgICB2YXIgb2xkVXJsID0gJGJyb3dzZXIudXJsKCk7XG4gICAgICB2YXIgb2xkU3RhdGUgPSAkYnJvd3Nlci5zdGF0ZSgpO1xuICAgICAgdmFyIGN1cnJlbnRSZXBsYWNlID0gJGxvY2F0aW9uLiQkcmVwbGFjZTtcbiAgICAgIHZhciB1cmxPclN0YXRlQ2hhbmdlZCA9IG9sZFVybCAhPT0gJGxvY2F0aW9uLmFic1VybCgpIHx8XG4gICAgICAgICgkbG9jYXRpb24uJCRodG1sNSAmJiAkc25pZmZlci5oaXN0b3J5ICYmIG9sZFN0YXRlICE9PSAkbG9jYXRpb24uJCRzdGF0ZSk7XG5cbiAgICAgIGlmIChpbml0aWFsaXppbmcgfHwgdXJsT3JTdGF0ZUNoYW5nZWQpIHtcbiAgICAgICAgaW5pdGlhbGl6aW5nID0gZmFsc2U7XG5cbiAgICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICgkcm9vdFNjb3BlLiRicm9hZGNhc3QoJyRsb2NhdGlvbkNoYW5nZVN0YXJ0JywgJGxvY2F0aW9uLmFic1VybCgpLCBvbGRVcmwsXG4gICAgICAgICAgICAgICRsb2NhdGlvbi4kJHN0YXRlLCBvbGRTdGF0ZSkuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgJGxvY2F0aW9uLiQkcGFyc2Uob2xkVXJsKTtcbiAgICAgICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gb2xkU3RhdGU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh1cmxPclN0YXRlQ2hhbmdlZCkge1xuICAgICAgICAgICAgICBzZXRCcm93c2VyVXJsV2l0aEZhbGxiYWNrKCRsb2NhdGlvbi5hYnNVcmwoKSwgY3VycmVudFJlcGxhY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkU3RhdGUgPT09ICRsb2NhdGlvbi4kJHN0YXRlID8gbnVsbCA6ICRsb2NhdGlvbi4kJHN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFmdGVyTG9jYXRpb25DaGFuZ2Uob2xkVXJsLCBvbGRTdGF0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgJGxvY2F0aW9uLiQkcmVwbGFjZSA9IGZhbHNlO1xuXG4gICAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIHJldHVybiBhbnl0aGluZyBiZWNhdXNlICRldmFsQXN5bmMgd2lsbCBtYWtlIHRoZSBkaWdlc3QgbG9vcCBkaXJ0eSB3aGVuXG4gICAgICAvLyB0aGVyZSBpcyBhIGNoYW5nZVxuICAgIH0pO1xuXG4gICAgcmV0dXJuICRsb2NhdGlvbjtcblxuICAgIGZ1bmN0aW9uIGFmdGVyTG9jYXRpb25DaGFuZ2Uob2xkVXJsLCBvbGRTdGF0ZSkge1xuICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCckbG9jYXRpb25DaGFuZ2VTdWNjZXNzJywgJGxvY2F0aW9uLmFic1VybCgpLCBvbGRVcmwsXG4gICAgICAgICRsb2NhdGlvbi4kJHN0YXRlLCBvbGRTdGF0ZSk7XG4gICAgfVxufV07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRsb2dcbiAqIEByZXF1aXJlcyAkd2luZG93XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTaW1wbGUgc2VydmljZSBmb3IgbG9nZ2luZy4gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBzYWZlbHkgd3JpdGVzIHRoZSBtZXNzYWdlXG4gKiBpbnRvIHRoZSBicm93c2VyJ3MgY29uc29sZSAoaWYgcHJlc2VudCkuXG4gKlxuICogVGhlIG1haW4gcHVycG9zZSBvZiB0aGlzIHNlcnZpY2UgaXMgdG8gc2ltcGxpZnkgZGVidWdnaW5nIGFuZCB0cm91Ymxlc2hvb3RpbmcuXG4gKlxuICogVGhlIGRlZmF1bHQgaXMgdG8gbG9nIGBkZWJ1Z2AgbWVzc2FnZXMuIFlvdSBjYW4gdXNlXG4gKiB7QGxpbmsgbmcuJGxvZ1Byb3ZpZGVyIG5nLiRsb2dQcm92aWRlciNkZWJ1Z0VuYWJsZWR9IHRvIGNoYW5nZSB0aGlzLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJsb2dFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnbG9nRXhhbXBsZScsIFtdKVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0xvZ0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckbG9nJywgZnVuY3Rpb24oJHNjb3BlLCAkbG9nKSB7XG4gICAgICAgICAgICRzY29wZS4kbG9nID0gJGxvZztcbiAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2UgPSAnSGVsbG8gV29ybGQhJztcbiAgICAgICAgIH1dKTtcbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkxvZ0NvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxwPlJlbG9hZCB0aGlzIHBhZ2Ugd2l0aCBvcGVuIGNvbnNvbGUsIGVudGVyIHRleHQgYW5kIGhpdCB0aGUgbG9nIGJ1dHRvbi4uLjwvcD5cbiAgICAgICAgIE1lc3NhZ2U6XG4gICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm1lc3NhZ2VcIi8+XG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiJGxvZy5sb2cobWVzc2FnZSlcIj5sb2c8L2J1dHRvbj5cbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCIkbG9nLndhcm4obWVzc2FnZSlcIj53YXJuPC9idXR0b24+XG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiJGxvZy5pbmZvKG1lc3NhZ2UpXCI+aW5mbzwvYnV0dG9uPlxuICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIiRsb2cuZXJyb3IobWVzc2FnZSlcIj5lcnJvcjwvYnV0dG9uPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRsb2dQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2UgdGhlIGAkbG9nUHJvdmlkZXJgIHRvIGNvbmZpZ3VyZSBob3cgdGhlIGFwcGxpY2F0aW9uIGxvZ3MgbWVzc2FnZXNcbiAqL1xuZnVuY3Rpb24gJExvZ1Byb3ZpZGVyKCkge1xuICB2YXIgZGVidWcgPSB0cnVlLFxuICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvZ1Byb3ZpZGVyI2RlYnVnRW5hYmxlZFxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQHBhcmFtIHtib29sZWFuPX0gZmxhZyBlbmFibGUgb3IgZGlzYWJsZSBkZWJ1ZyBsZXZlbCBtZXNzYWdlc1xuICAgKiBAcmV0dXJucyB7Kn0gY3VycmVudCB2YWx1ZSBpZiB1c2VkIGFzIGdldHRlciBvciBpdHNlbGYgKGNoYWluaW5nKSBpZiB1c2VkIGFzIHNldHRlclxuICAgKi9cbiAgdGhpcy5kZWJ1Z0VuYWJsZWQgPSBmdW5jdGlvbihmbGFnKSB7XG4gICAgaWYgKGlzRGVmaW5lZChmbGFnKSkge1xuICAgICAgZGVidWcgPSBmbGFnO1xuICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZGVidWc7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsIGZ1bmN0aW9uKCR3aW5kb3cpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkbG9nI2xvZ1xuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogV3JpdGUgYSBsb2cgbWVzc2FnZVxuICAgICAgICovXG4gICAgICBsb2c6IGNvbnNvbGVMb2coJ2xvZycpLFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRsb2cjaW5mb1xuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogV3JpdGUgYW4gaW5mb3JtYXRpb24gbWVzc2FnZVxuICAgICAgICovXG4gICAgICBpbmZvOiBjb25zb2xlTG9nKCdpbmZvJyksXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGxvZyN3YXJuXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBXcml0ZSBhIHdhcm5pbmcgbWVzc2FnZVxuICAgICAgICovXG4gICAgICB3YXJuOiBjb25zb2xlTG9nKCd3YXJuJyksXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGxvZyNlcnJvclxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogV3JpdGUgYW4gZXJyb3IgbWVzc2FnZVxuICAgICAgICovXG4gICAgICBlcnJvcjogY29uc29sZUxvZygnZXJyb3InKSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkbG9nI2RlYnVnXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBXcml0ZSBhIGRlYnVnIG1lc3NhZ2VcbiAgICAgICAqL1xuICAgICAgZGVidWc6IChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGZuID0gY29uc29sZUxvZygnZGVidWcnKTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICBmbi5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0oKSlcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZm9ybWF0RXJyb3IoYXJnKSB7XG4gICAgICBpZiAoYXJnIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgaWYgKGFyZy5zdGFjaykge1xuICAgICAgICAgIGFyZyA9IChhcmcubWVzc2FnZSAmJiBhcmcuc3RhY2suaW5kZXhPZihhcmcubWVzc2FnZSkgPT09IC0xKVxuICAgICAgICAgICAgICA/ICdFcnJvcjogJyArIGFyZy5tZXNzYWdlICsgJ1xcbicgKyBhcmcuc3RhY2tcbiAgICAgICAgICAgICAgOiBhcmcuc3RhY2s7XG4gICAgICAgIH0gZWxzZSBpZiAoYXJnLnNvdXJjZVVSTCkge1xuICAgICAgICAgIGFyZyA9IGFyZy5tZXNzYWdlICsgJ1xcbicgKyBhcmcuc291cmNlVVJMICsgJzonICsgYXJnLmxpbmU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcmc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29uc29sZUxvZyh0eXBlKSB7XG4gICAgICB2YXIgY29uc29sZSA9ICR3aW5kb3cuY29uc29sZSB8fCB7fSxcbiAgICAgICAgICBsb2dGbiA9IGNvbnNvbGVbdHlwZV0gfHwgY29uc29sZS5sb2cgfHwgbm9vcCxcbiAgICAgICAgICBoYXNBcHBseSA9IGZhbHNlO1xuXG4gICAgICAvLyBOb3RlOiByZWFkaW5nIGxvZ0ZuLmFwcGx5IHRocm93cyBhbiBlcnJvciBpbiBJRTExIGluIElFOCBkb2N1bWVudCBtb2RlLlxuICAgICAgLy8gVGhlIHJlYXNvbiBiZWhpbmQgdGhpcyBpcyB0aGF0IGNvbnNvbGUubG9nIGhhcyB0eXBlIFwib2JqZWN0XCIgaW4gSUU4Li4uXG4gICAgICB0cnkge1xuICAgICAgICBoYXNBcHBseSA9ICEhbG9nRm4uYXBwbHk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgICBpZiAoaGFzQXBwbHkpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgZm9yRWFjaChhcmd1bWVudHMsIGZ1bmN0aW9uKGFyZykge1xuICAgICAgICAgICAgYXJncy5wdXNoKGZvcm1hdEVycm9yKGFyZykpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBsb2dGbi5hcHBseShjb25zb2xlLCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgLy8gd2UgYXJlIElFIHdoaWNoIGVpdGhlciBkb2Vzbid0IGhhdmUgd2luZG93LmNvbnNvbGUgPT4gdGhpcyBpcyBub29wIGFuZCB3ZSBkbyBub3RoaW5nLFxuICAgICAgLy8gb3Igd2UgYXJlIElFIHdoZXJlIGNvbnNvbGUubG9nIGRvZXNuJ3QgaGF2ZSBhcHBseSBzbyB3ZSBsb2cgYXQgbGVhc3QgZmlyc3QgMiBhcmdzXG4gICAgICByZXR1cm4gZnVuY3Rpb24oYXJnMSwgYXJnMikge1xuICAgICAgICBsb2dGbihhcmcxLCBhcmcyID09IG51bGwgPyAnJyA6IGFyZzIpO1xuICAgICAgfTtcbiAgICB9XG4gIH1dO1xufVxuXG52YXIgJHBhcnNlTWluRXJyID0gbWluRXJyKCckcGFyc2UnKTtcblxuLy8gU2FuZGJveGluZyBBbmd1bGFyIEV4cHJlc3Npb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEFuZ3VsYXIgZXhwcmVzc2lvbnMgYXJlIGdlbmVyYWxseSBjb25zaWRlcmVkIHNhZmUgYmVjYXVzZSB0aGVzZSBleHByZXNzaW9ucyBvbmx5IGhhdmUgZGlyZWN0XG4vLyBhY2Nlc3MgdG8gJHNjb3BlIGFuZCBsb2NhbHMuIEhvd2V2ZXIsIG9uZSBjYW4gb2J0YWluIHRoZSBhYmlsaXR5IHRvIGV4ZWN1dGUgYXJiaXRyYXJ5IEpTIGNvZGUgYnlcbi8vIG9idGFpbmluZyBhIHJlZmVyZW5jZSB0byBuYXRpdmUgSlMgZnVuY3Rpb25zIHN1Y2ggYXMgdGhlIEZ1bmN0aW9uIGNvbnN0cnVjdG9yLlxuLy9cbi8vIEFzIGFuIGV4YW1wbGUsIGNvbnNpZGVyIHRoZSBmb2xsb3dpbmcgQW5ndWxhciBleHByZXNzaW9uOlxuLy9cbi8vICAge30udG9TdHJpbmcuY29uc3RydWN0b3IoJ2FsZXJ0KFwiZXZpbCBKUyBjb2RlXCIpJylcbi8vXG4vLyBUaGlzIHNhbmRib3hpbmcgdGVjaG5pcXVlIGlzIG5vdCBwZXJmZWN0IGFuZCBkb2Vzbid0IGFpbSB0byBiZS4gVGhlIGdvYWwgaXMgdG8gcHJldmVudCBleHBsb2l0c1xuLy8gYWdhaW5zdCB0aGUgZXhwcmVzc2lvbiBsYW5ndWFnZSwgYnV0IG5vdCB0byBwcmV2ZW50IGV4cGxvaXRzIHRoYXQgd2VyZSBlbmFibGVkIGJ5IGV4cG9zaW5nXG4vLyBzZW5zaXRpdmUgSmF2YVNjcmlwdCBvciBicm93c2VyIGFwaXMgb24gU2NvcGUuIEV4cG9zaW5nIHN1Y2ggb2JqZWN0cyBvbiBhIFNjb3BlIGlzIG5ldmVyIGEgZ29vZFxuLy8gcHJhY3RpY2UgYW5kIHRoZXJlZm9yZSB3ZSBhcmUgbm90IGV2ZW4gdHJ5aW5nIHRvIHByb3RlY3QgYWdhaW5zdCBpbnRlcmFjdGlvbiB3aXRoIGFuIG9iamVjdFxuLy8gZXhwbGljaXRseSBleHBvc2VkIGluIHRoaXMgd2F5LlxuLy9cbi8vIEluIGdlbmVyYWwsIGl0IGlzIG5vdCBwb3NzaWJsZSB0byBhY2Nlc3MgYSBXaW5kb3cgb2JqZWN0IGZyb20gYW4gYW5ndWxhciBleHByZXNzaW9uIHVubGVzcyBhXG4vLyB3aW5kb3cgb3Igc29tZSBET00gb2JqZWN0IHRoYXQgaGFzIGEgcmVmZXJlbmNlIHRvIHdpbmRvdyBpcyBwdWJsaXNoZWQgb250byBhIFNjb3BlLlxuLy8gU2ltaWxhcmx5IHdlIHByZXZlbnQgaW52b2NhdGlvbnMgb2YgZnVuY3Rpb24ga25vd24gdG8gYmUgZGFuZ2Vyb3VzLCBhcyB3ZWxsIGFzIGFzc2lnbm1lbnRzIHRvXG4vLyBuYXRpdmUgb2JqZWN0cy5cblxuXG5mdW5jdGlvbiBlbnN1cmVTYWZlTWVtYmVyTmFtZShuYW1lLCBmdWxsRXhwcmVzc2lvbikge1xuICBpZiAobmFtZSA9PT0gXCJfX2RlZmluZUdldHRlcl9fXCIgfHwgbmFtZSA9PT0gXCJfX2RlZmluZVNldHRlcl9fXCJcbiAgICAgIHx8IG5hbWUgPT09IFwiX19sb29rdXBHZXR0ZXJfX1wiIHx8IG5hbWUgPT09IFwiX19sb29rdXBTZXR0ZXJfX1wiXG4gICAgICB8fCBuYW1lID09PSBcIl9fcHJvdG9fX1wiKSB7XG4gICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2VjZmxkJyxcbiAgICAgICAgJ0F0dGVtcHRpbmcgdG8gYWNjZXNzIGEgZGlzYWxsb3dlZCBmaWVsZCBpbiBBbmd1bGFyIGV4cHJlc3Npb25zISAnXG4gICAgICAgICsnRXhwcmVzc2lvbjogezB9JywgZnVsbEV4cHJlc3Npb24pO1xuICB9XG4gIHJldHVybiBuYW1lO1xufVxuXG5mdW5jdGlvbiBlbnN1cmVTYWZlT2JqZWN0KG9iaiwgZnVsbEV4cHJlc3Npb24pIHtcbiAgLy8gbmlmdHkgY2hlY2sgaWYgb2JqIGlzIEZ1bmN0aW9uIHRoYXQgaXMgZmFzdCBhbmQgd29ya3MgYWNyb3NzIGlmcmFtZXMgYW5kIG90aGVyIGNvbnRleHRzXG4gIGlmIChvYmopIHtcbiAgICBpZiAob2JqLmNvbnN0cnVjdG9yID09PSBvYmopIHtcbiAgICAgIHRocm93ICRwYXJzZU1pbkVycignaXNlY2ZuJyxcbiAgICAgICAgICAnUmVmZXJlbmNpbmcgRnVuY3Rpb24gaW4gQW5ndWxhciBleHByZXNzaW9ucyBpcyBkaXNhbGxvd2VkISBFeHByZXNzaW9uOiB7MH0nLFxuICAgICAgICAgIGZ1bGxFeHByZXNzaW9uKTtcbiAgICB9IGVsc2UgaWYgKC8vIGlzV2luZG93KG9iailcbiAgICAgICAgb2JqLndpbmRvdyA9PT0gb2JqKSB7XG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2lzZWN3aW5kb3cnLFxuICAgICAgICAgICdSZWZlcmVuY2luZyB0aGUgV2luZG93IGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JyxcbiAgICAgICAgICBmdWxsRXhwcmVzc2lvbik7XG4gICAgfSBlbHNlIGlmICgvLyBpc0VsZW1lbnQob2JqKVxuICAgICAgICBvYmouY2hpbGRyZW4gJiYgKG9iai5ub2RlTmFtZSB8fCAob2JqLnByb3AgJiYgb2JqLmF0dHIgJiYgb2JqLmZpbmQpKSkge1xuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2VjZG9tJyxcbiAgICAgICAgICAnUmVmZXJlbmNpbmcgRE9NIG5vZGVzIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JyxcbiAgICAgICAgICBmdWxsRXhwcmVzc2lvbik7XG4gICAgfSBlbHNlIGlmICgvLyBibG9jayBPYmplY3Qgc28gdGhhdCB3ZSBjYW4ndCBnZXQgaG9sZCBvZiBkYW5nZXJvdXMgT2JqZWN0LiogbWV0aG9kc1xuICAgICAgICBvYmogPT09IE9iamVjdCkge1xuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2Vjb2JqJyxcbiAgICAgICAgICAnUmVmZXJlbmNpbmcgT2JqZWN0IGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JyxcbiAgICAgICAgICBmdWxsRXhwcmVzc2lvbik7XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbnZhciBDQUxMID0gRnVuY3Rpb24ucHJvdG90eXBlLmNhbGw7XG52YXIgQVBQTFkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG52YXIgQklORCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kO1xuXG5mdW5jdGlvbiBlbnN1cmVTYWZlRnVuY3Rpb24ob2JqLCBmdWxsRXhwcmVzc2lvbikge1xuICBpZiAob2JqKSB7XG4gICAgaWYgKG9iai5jb25zdHJ1Y3RvciA9PT0gb2JqKSB7XG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2lzZWNmbicsXG4gICAgICAgICdSZWZlcmVuY2luZyBGdW5jdGlvbiBpbiBBbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRpc2FsbG93ZWQhIEV4cHJlc3Npb246IHswfScsXG4gICAgICAgIGZ1bGxFeHByZXNzaW9uKTtcbiAgICB9IGVsc2UgaWYgKG9iaiA9PT0gQ0FMTCB8fCBvYmogPT09IEFQUExZIHx8IG9iaiA9PT0gQklORCkge1xuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2VjZmYnLFxuICAgICAgICAnUmVmZXJlbmNpbmcgY2FsbCwgYXBwbHkgb3IgYmluZCBpbiBBbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRpc2FsbG93ZWQhIEV4cHJlc3Npb246IHswfScsXG4gICAgICAgIGZ1bGxFeHByZXNzaW9uKTtcbiAgICB9XG4gIH1cbn1cblxuLy9LZXl3b3JkIGNvbnN0YW50c1xudmFyIENPTlNUQU5UUyA9IGNyZWF0ZU1hcCgpO1xuZm9yRWFjaCh7XG4gICdudWxsJzogZnVuY3Rpb24oKSB7IHJldHVybiBudWxsOyB9LFxuICAndHJ1ZSc6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfSxcbiAgJ2ZhbHNlJzogZnVuY3Rpb24oKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgJ3VuZGVmaW5lZCc6IGZ1bmN0aW9uKCkge31cbn0sIGZ1bmN0aW9uKGNvbnN0YW50R2V0dGVyLCBuYW1lKSB7XG4gIGNvbnN0YW50R2V0dGVyLmNvbnN0YW50ID0gY29uc3RhbnRHZXR0ZXIubGl0ZXJhbCA9IGNvbnN0YW50R2V0dGVyLnNoYXJlZEdldHRlciA9IHRydWU7XG4gIENPTlNUQU5UU1tuYW1lXSA9IGNvbnN0YW50R2V0dGVyO1xufSk7XG5cbi8vTm90IHF1aXRlIGEgY29uc3RhbnQsIGJ1dCBjYW4gYmUgbGV4L3BhcnNlZCB0aGUgc2FtZVxuQ09OU1RBTlRTWyd0aGlzJ10gPSBmdW5jdGlvbihzZWxmKSB7IHJldHVybiBzZWxmOyB9O1xuQ09OU1RBTlRTWyd0aGlzJ10uc2hhcmVkR2V0dGVyID0gdHJ1ZTtcblxuXG4vL09wZXJhdG9ycyAtIHdpbGwgYmUgd3JhcHBlZCBieSBiaW5hcnlGbi91bmFyeUZuL2Fzc2lnbm1lbnQvZmlsdGVyXG52YXIgT1BFUkFUT1JTID0gZXh0ZW5kKGNyZWF0ZU1hcCgpLCB7XG4gICAgJysnOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSwgYikge1xuICAgICAgYT1hKHNlbGYsIGxvY2Fscyk7IGI9YihzZWxmLCBsb2NhbHMpO1xuICAgICAgaWYgKGlzRGVmaW5lZChhKSkge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKGIpKSB7XG4gICAgICAgICAgcmV0dXJuIGEgKyBiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzRGVmaW5lZChiKT9iOnVuZGVmaW5lZDt9LFxuICAgICctJzpmdW5jdGlvbihzZWxmLCBsb2NhbHMsIGEsIGIpIHtcbiAgICAgICAgICBhPWEoc2VsZiwgbG9jYWxzKTsgYj1iKHNlbGYsIGxvY2Fscyk7XG4gICAgICAgICAgcmV0dXJuIChpc0RlZmluZWQoYSk/YTowKS0oaXNEZWZpbmVkKGIpP2I6MCk7XG4gICAgICAgIH0sXG4gICAgJyonOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSwgYikge3JldHVybiBhKHNlbGYsIGxvY2FscykqYihzZWxmLCBsb2NhbHMpO30sXG4gICAgJy8nOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSwgYikge3JldHVybiBhKHNlbGYsIGxvY2FscykvYihzZWxmLCBsb2NhbHMpO30sXG4gICAgJyUnOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSwgYikge3JldHVybiBhKHNlbGYsIGxvY2FscyklYihzZWxmLCBsb2NhbHMpO30sXG4gICAgJz09PSc6ZnVuY3Rpb24oc2VsZiwgbG9jYWxzLCBhLCBiKSB7cmV0dXJuIGEoc2VsZiwgbG9jYWxzKT09PWIoc2VsZiwgbG9jYWxzKTt9LFxuICAgICchPT0nOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSwgYikge3JldHVybiBhKHNlbGYsIGxvY2FscykhPT1iKHNlbGYsIGxvY2Fscyk7fSxcbiAgICAnPT0nOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSwgYikge3JldHVybiBhKHNlbGYsIGxvY2Fscyk9PWIoc2VsZiwgbG9jYWxzKTt9LFxuICAgICchPSc6ZnVuY3Rpb24oc2VsZiwgbG9jYWxzLCBhLCBiKSB7cmV0dXJuIGEoc2VsZiwgbG9jYWxzKSE9YihzZWxmLCBsb2NhbHMpO30sXG4gICAgJzwnOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSwgYikge3JldHVybiBhKHNlbGYsIGxvY2Fscyk8YihzZWxmLCBsb2NhbHMpO30sXG4gICAgJz4nOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSwgYikge3JldHVybiBhKHNlbGYsIGxvY2Fscyk+YihzZWxmLCBsb2NhbHMpO30sXG4gICAgJzw9JzpmdW5jdGlvbihzZWxmLCBsb2NhbHMsIGEsIGIpIHtyZXR1cm4gYShzZWxmLCBsb2NhbHMpPD1iKHNlbGYsIGxvY2Fscyk7fSxcbiAgICAnPj0nOmZ1bmN0aW9uKHNlbGYsIGxvY2FscywgYSwgYikge3JldHVybiBhKHNlbGYsIGxvY2Fscyk+PWIoc2VsZiwgbG9jYWxzKTt9LFxuICAgICcmJic6ZnVuY3Rpb24oc2VsZiwgbG9jYWxzLCBhLCBiKSB7cmV0dXJuIGEoc2VsZiwgbG9jYWxzKSYmYihzZWxmLCBsb2NhbHMpO30sXG4gICAgJ3x8JzpmdW5jdGlvbihzZWxmLCBsb2NhbHMsIGEsIGIpIHtyZXR1cm4gYShzZWxmLCBsb2NhbHMpfHxiKHNlbGYsIGxvY2Fscyk7fSxcbiAgICAnISc6ZnVuY3Rpb24oc2VsZiwgbG9jYWxzLCBhKSB7cmV0dXJuICFhKHNlbGYsIGxvY2Fscyk7fSxcblxuICAgIC8vVG9rZW5pemVkIGFzIG9wZXJhdG9ycyBidXQgcGFyc2VkIGFzIGFzc2lnbm1lbnQvZmlsdGVyc1xuICAgICc9Jzp0cnVlLFxuICAgICd8Jzp0cnVlXG59KTtcbnZhciBFU0NBUEUgPSB7XCJuXCI6XCJcXG5cIiwgXCJmXCI6XCJcXGZcIiwgXCJyXCI6XCJcXHJcIiwgXCJ0XCI6XCJcXHRcIiwgXCJ2XCI6XCJcXHZcIiwgXCInXCI6XCInXCIsICdcIic6J1wiJ307XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgTGV4ZXIgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG59O1xuXG5MZXhlci5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBMZXhlcixcblxuICBsZXg6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgIHRoaXMuaW5kZXggPSAwO1xuICAgIHRoaXMuY2ggPSB1bmRlZmluZWQ7XG4gICAgdGhpcy50b2tlbnMgPSBbXTtcblxuICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50ZXh0Lmxlbmd0aCkge1xuICAgICAgdGhpcy5jaCA9IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7XG4gICAgICBpZiAodGhpcy5pcygnXCJcXCcnKSkge1xuICAgICAgICB0aGlzLnJlYWRTdHJpbmcodGhpcy5jaCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNOdW1iZXIodGhpcy5jaCkgfHwgdGhpcy5pcygnLicpICYmIHRoaXMuaXNOdW1iZXIodGhpcy5wZWVrKCkpKSB7XG4gICAgICAgIHRoaXMucmVhZE51bWJlcigpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzSWRlbnQodGhpcy5jaCkpIHtcbiAgICAgICAgdGhpcy5yZWFkSWRlbnQoKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pcygnKCl7fVtdLiw7Oj8nKSkge1xuICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgICBpbmRleDogdGhpcy5pbmRleCxcbiAgICAgICAgICB0ZXh0OiB0aGlzLmNoXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNXaGl0ZXNwYWNlKHRoaXMuY2gpKSB7XG4gICAgICAgIHRoaXMuaW5kZXgrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBjaDIgPSB0aGlzLmNoICsgdGhpcy5wZWVrKCk7XG4gICAgICAgIHZhciBjaDMgPSBjaDIgKyB0aGlzLnBlZWsoMik7XG4gICAgICAgIHZhciBmbiA9IE9QRVJBVE9SU1t0aGlzLmNoXTtcbiAgICAgICAgdmFyIGZuMiA9IE9QRVJBVE9SU1tjaDJdO1xuICAgICAgICB2YXIgZm4zID0gT1BFUkFUT1JTW2NoM107XG4gICAgICAgIGlmIChmbjMpIHtcbiAgICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHtpbmRleDogdGhpcy5pbmRleCwgdGV4dDogY2gzLCBmbjogZm4zfSk7XG4gICAgICAgICAgdGhpcy5pbmRleCArPSAzO1xuICAgICAgICB9IGVsc2UgaWYgKGZuMikge1xuICAgICAgICAgIHRoaXMudG9rZW5zLnB1c2goe2luZGV4OiB0aGlzLmluZGV4LCB0ZXh0OiBjaDIsIGZuOiBmbjJ9KTtcbiAgICAgICAgICB0aGlzLmluZGV4ICs9IDI7XG4gICAgICAgIH0gZWxzZSBpZiAoZm4pIHtcbiAgICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgICAgIGluZGV4OiB0aGlzLmluZGV4LFxuICAgICAgICAgICAgdGV4dDogdGhpcy5jaCxcbiAgICAgICAgICAgIGZuOiBmblxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuaW5kZXggKz0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnRocm93RXJyb3IoJ1VuZXhwZWN0ZWQgbmV4dCBjaGFyYWN0ZXIgJywgdGhpcy5pbmRleCwgdGhpcy5pbmRleCArIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRva2VucztcbiAgfSxcblxuICBpczogZnVuY3Rpb24oY2hhcnMpIHtcbiAgICByZXR1cm4gY2hhcnMuaW5kZXhPZih0aGlzLmNoKSAhPT0gLTE7XG4gIH0sXG5cbiAgcGVlazogZnVuY3Rpb24oaSkge1xuICAgIHZhciBudW0gPSBpIHx8IDE7XG4gICAgcmV0dXJuICh0aGlzLmluZGV4ICsgbnVtIDwgdGhpcy50ZXh0Lmxlbmd0aCkgPyB0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXggKyBudW0pIDogZmFsc2U7XG4gIH0sXG5cbiAgaXNOdW1iZXI6IGZ1bmN0aW9uKGNoKSB7XG4gICAgcmV0dXJuICgnMCcgPD0gY2ggJiYgY2ggPD0gJzknKTtcbiAgfSxcblxuICBpc1doaXRlc3BhY2U6IGZ1bmN0aW9uKGNoKSB7XG4gICAgLy8gSUUgdHJlYXRzIG5vbi1icmVha2luZyBzcGFjZSBhcyBcXHUwMEEwXG4gICAgcmV0dXJuIChjaCA9PT0gJyAnIHx8IGNoID09PSAnXFxyJyB8fCBjaCA9PT0gJ1xcdCcgfHxcbiAgICAgICAgICAgIGNoID09PSAnXFxuJyB8fCBjaCA9PT0gJ1xcdicgfHwgY2ggPT09ICdcXHUwMEEwJyk7XG4gIH0sXG5cbiAgaXNJZGVudDogZnVuY3Rpb24oY2gpIHtcbiAgICByZXR1cm4gKCdhJyA8PSBjaCAmJiBjaCA8PSAneicgfHxcbiAgICAgICAgICAgICdBJyA8PSBjaCAmJiBjaCA8PSAnWicgfHxcbiAgICAgICAgICAgICdfJyA9PT0gY2ggfHwgY2ggPT09ICckJyk7XG4gIH0sXG5cbiAgaXNFeHBPcGVyYXRvcjogZnVuY3Rpb24oY2gpIHtcbiAgICByZXR1cm4gKGNoID09PSAnLScgfHwgY2ggPT09ICcrJyB8fCB0aGlzLmlzTnVtYmVyKGNoKSk7XG4gIH0sXG5cbiAgdGhyb3dFcnJvcjogZnVuY3Rpb24oZXJyb3IsIHN0YXJ0LCBlbmQpIHtcbiAgICBlbmQgPSBlbmQgfHwgdGhpcy5pbmRleDtcbiAgICB2YXIgY29sU3RyID0gKGlzRGVmaW5lZChzdGFydClcbiAgICAgICAgICAgID8gJ3MgJyArIHN0YXJ0ICsgICctJyArIHRoaXMuaW5kZXggKyAnIFsnICsgdGhpcy50ZXh0LnN1YnN0cmluZyhzdGFydCwgZW5kKSArICddJ1xuICAgICAgICAgICAgOiAnICcgKyBlbmQpO1xuICAgIHRocm93ICRwYXJzZU1pbkVycignbGV4ZXJyJywgJ0xleGVyIEVycm9yOiB7MH0gYXQgY29sdW1uezF9IGluIGV4cHJlc3Npb24gW3syfV0uJyxcbiAgICAgICAgZXJyb3IsIGNvbFN0ciwgdGhpcy50ZXh0KTtcbiAgfSxcblxuICByZWFkTnVtYmVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbnVtYmVyID0gJyc7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICB3aGlsZSAodGhpcy5pbmRleCA8IHRoaXMudGV4dC5sZW5ndGgpIHtcbiAgICAgIHZhciBjaCA9IGxvd2VyY2FzZSh0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpKTtcbiAgICAgIGlmIChjaCA9PSAnLicgfHwgdGhpcy5pc051bWJlcihjaCkpIHtcbiAgICAgICAgbnVtYmVyICs9IGNoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHBlZWtDaCA9IHRoaXMucGVlaygpO1xuICAgICAgICBpZiAoY2ggPT0gJ2UnICYmIHRoaXMuaXNFeHBPcGVyYXRvcihwZWVrQ2gpKSB7XG4gICAgICAgICAgbnVtYmVyICs9IGNoO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNFeHBPcGVyYXRvcihjaCkgJiZcbiAgICAgICAgICAgIHBlZWtDaCAmJiB0aGlzLmlzTnVtYmVyKHBlZWtDaCkgJiZcbiAgICAgICAgICAgIG51bWJlci5jaGFyQXQobnVtYmVyLmxlbmd0aCAtIDEpID09ICdlJykge1xuICAgICAgICAgIG51bWJlciArPSBjaDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzRXhwT3BlcmF0b3IoY2gpICYmXG4gICAgICAgICAgICAoIXBlZWtDaCB8fCAhdGhpcy5pc051bWJlcihwZWVrQ2gpKSAmJlxuICAgICAgICAgICAgbnVtYmVyLmNoYXJBdChudW1iZXIubGVuZ3RoIC0gMSkgPT0gJ2UnKSB7XG4gICAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdJbnZhbGlkIGV4cG9uZW50Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuaW5kZXgrKztcbiAgICB9XG4gICAgbnVtYmVyID0gMSAqIG51bWJlcjtcbiAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgIGluZGV4OiBzdGFydCxcbiAgICAgIHRleHQ6IG51bWJlcixcbiAgICAgIGNvbnN0YW50OiB0cnVlLFxuICAgICAgZm46IGZ1bmN0aW9uKCkgeyByZXR1cm4gbnVtYmVyOyB9XG4gICAgfSk7XG4gIH0sXG5cbiAgcmVhZElkZW50OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZXhwcmVzc2lvbiA9IHRoaXMudGV4dDtcblxuICAgIHZhciBpZGVudCA9ICcnO1xuICAgIHZhciBzdGFydCA9IHRoaXMuaW5kZXg7XG5cbiAgICB2YXIgbGFzdERvdCwgcGVla0luZGV4LCBtZXRob2ROYW1lLCBjaDtcblxuICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50ZXh0Lmxlbmd0aCkge1xuICAgICAgY2ggPSB0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpO1xuICAgICAgaWYgKGNoID09PSAnLicgfHwgdGhpcy5pc0lkZW50KGNoKSB8fCB0aGlzLmlzTnVtYmVyKGNoKSkge1xuICAgICAgICBpZiAoY2ggPT09ICcuJykgbGFzdERvdCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIGlkZW50ICs9IGNoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB0aGlzLmluZGV4Kys7XG4gICAgfVxuXG4gICAgLy9jaGVjayBpZiB0aGUgaWRlbnRpZmllciBlbmRzIHdpdGggLiBhbmQgaWYgc28gbW92ZSBiYWNrIG9uZSBjaGFyXG4gICAgaWYgKGxhc3REb3QgJiYgaWRlbnRbaWRlbnQubGVuZ3RoIC0gMV0gPT09ICcuJykge1xuICAgICAgdGhpcy5pbmRleC0tO1xuICAgICAgaWRlbnQgPSBpZGVudC5zbGljZSgwLCAtMSk7XG4gICAgICBsYXN0RG90ID0gaWRlbnQubGFzdEluZGV4T2YoJy4nKTtcbiAgICAgIGlmIChsYXN0RG90ID09PSAtMSkge1xuICAgICAgICBsYXN0RG90ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vY2hlY2sgaWYgdGhpcyBpcyBub3QgYSBtZXRob2QgaW52b2NhdGlvbiBhbmQgaWYgaXQgaXMgYmFjayBvdXQgdG8gbGFzdCBkb3RcbiAgICBpZiAobGFzdERvdCkge1xuICAgICAgcGVla0luZGV4ID0gdGhpcy5pbmRleDtcbiAgICAgIHdoaWxlIChwZWVrSW5kZXggPCB0aGlzLnRleHQubGVuZ3RoKSB7XG4gICAgICAgIGNoID0gdGhpcy50ZXh0LmNoYXJBdChwZWVrSW5kZXgpO1xuICAgICAgICBpZiAoY2ggPT09ICcoJykge1xuICAgICAgICAgIG1ldGhvZE5hbWUgPSBpZGVudC5zdWJzdHIobGFzdERvdCAtIHN0YXJ0ICsgMSk7XG4gICAgICAgICAgaWRlbnQgPSBpZGVudC5zdWJzdHIoMCwgbGFzdERvdCAtIHN0YXJ0KTtcbiAgICAgICAgICB0aGlzLmluZGV4ID0gcGVla0luZGV4O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzV2hpdGVzcGFjZShjaCkpIHtcbiAgICAgICAgICBwZWVrSW5kZXgrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgaW5kZXg6IHN0YXJ0LFxuICAgICAgdGV4dDogaWRlbnQsXG4gICAgICBmbjogQ09OU1RBTlRTW2lkZW50XSB8fCBnZXR0ZXJGbihpZGVudCwgdGhpcy5vcHRpb25zLCBleHByZXNzaW9uKVxuICAgIH0pO1xuXG4gICAgaWYgKG1ldGhvZE5hbWUpIHtcbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICBpbmRleDogbGFzdERvdCxcbiAgICAgICAgdGV4dDogJy4nXG4gICAgICB9KTtcbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICBpbmRleDogbGFzdERvdCArIDEsXG4gICAgICAgIHRleHQ6IG1ldGhvZE5hbWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICByZWFkU3RyaW5nOiBmdW5jdGlvbihxdW90ZSkge1xuICAgIHZhciBzdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgdGhpcy5pbmRleCsrO1xuICAgIHZhciBzdHJpbmcgPSAnJztcbiAgICB2YXIgcmF3U3RyaW5nID0gcXVvdGU7XG4gICAgdmFyIGVzY2FwZSA9IGZhbHNlO1xuICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50ZXh0Lmxlbmd0aCkge1xuICAgICAgdmFyIGNoID0gdGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KTtcbiAgICAgIHJhd1N0cmluZyArPSBjaDtcbiAgICAgIGlmIChlc2NhcGUpIHtcbiAgICAgICAgaWYgKGNoID09PSAndScpIHtcbiAgICAgICAgICB2YXIgaGV4ID0gdGhpcy50ZXh0LnN1YnN0cmluZyh0aGlzLmluZGV4ICsgMSwgdGhpcy5pbmRleCArIDUpO1xuICAgICAgICAgIGlmICghaGV4Lm1hdGNoKC9bXFxkYS1mXXs0fS9pKSlcbiAgICAgICAgICAgIHRoaXMudGhyb3dFcnJvcignSW52YWxpZCB1bmljb2RlIGVzY2FwZSBbXFxcXHUnICsgaGV4ICsgJ10nKTtcbiAgICAgICAgICB0aGlzLmluZGV4ICs9IDQ7XG4gICAgICAgICAgc3RyaW5nICs9IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoaGV4LCAxNikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciByZXAgPSBFU0NBUEVbY2hdO1xuICAgICAgICAgIHN0cmluZyA9IHN0cmluZyArIChyZXAgfHwgY2gpO1xuICAgICAgICB9XG4gICAgICAgIGVzY2FwZSA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChjaCA9PT0gJ1xcXFwnKSB7XG4gICAgICAgIGVzY2FwZSA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGNoID09PSBxdW90ZSkge1xuICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICAgIGluZGV4OiBzdGFydCxcbiAgICAgICAgICB0ZXh0OiByYXdTdHJpbmcsXG4gICAgICAgICAgc3RyaW5nOiBzdHJpbmcsXG4gICAgICAgICAgY29uc3RhbnQ6IHRydWUsXG4gICAgICAgICAgZm46IGZ1bmN0aW9uKCkgeyByZXR1cm4gc3RyaW5nOyB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHJpbmcgKz0gY2g7XG4gICAgICB9XG4gICAgICB0aGlzLmluZGV4Kys7XG4gICAgfVxuICAgIHRoaXMudGhyb3dFcnJvcignVW50ZXJtaW5hdGVkIHF1b3RlJywgc3RhcnQpO1xuICB9XG59O1xuXG5cbmZ1bmN0aW9uIGlzQ29uc3RhbnQoZXhwKSB7XG4gIHJldHVybiBleHAuY29uc3RhbnQ7XG59XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbnZhciBQYXJzZXIgPSBmdW5jdGlvbihsZXhlciwgJGZpbHRlciwgb3B0aW9ucykge1xuICB0aGlzLmxleGVyID0gbGV4ZXI7XG4gIHRoaXMuJGZpbHRlciA9ICRmaWx0ZXI7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG59O1xuXG5QYXJzZXIuWkVSTyA9IGV4dGVuZChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIDA7XG59LCB7XG4gIHNoYXJlZEdldHRlcjogdHJ1ZSxcbiAgY29uc3RhbnQ6IHRydWVcbn0pO1xuXG5QYXJzZXIucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogUGFyc2VyLFxuXG4gIHBhcnNlOiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB0aGlzLnRva2VucyA9IHRoaXMubGV4ZXIubGV4KHRleHQpO1xuXG4gICAgdmFyIHZhbHVlID0gdGhpcy5zdGF0ZW1lbnRzKCk7XG5cbiAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoICE9PSAwKSB7XG4gICAgICB0aGlzLnRocm93RXJyb3IoJ2lzIGFuIHVuZXhwZWN0ZWQgdG9rZW4nLCB0aGlzLnRva2Vuc1swXSk7XG4gICAgfVxuXG4gICAgdmFsdWUubGl0ZXJhbCA9ICEhdmFsdWUubGl0ZXJhbDtcbiAgICB2YWx1ZS5jb25zdGFudCA9ICEhdmFsdWUuY29uc3RhbnQ7XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0sXG5cbiAgcHJpbWFyeTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHByaW1hcnk7XG4gICAgaWYgKHRoaXMuZXhwZWN0KCcoJykpIHtcbiAgICAgIHByaW1hcnkgPSB0aGlzLmZpbHRlckNoYWluKCk7XG4gICAgICB0aGlzLmNvbnN1bWUoJyknKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZXhwZWN0KCdbJykpIHtcbiAgICAgIHByaW1hcnkgPSB0aGlzLmFycmF5RGVjbGFyYXRpb24oKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZXhwZWN0KCd7JykpIHtcbiAgICAgIHByaW1hcnkgPSB0aGlzLm9iamVjdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdG9rZW4gPSB0aGlzLmV4cGVjdCgpO1xuICAgICAgcHJpbWFyeSA9IHRva2VuLmZuO1xuICAgICAgaWYgKCFwcmltYXJ5KSB7XG4gICAgICAgIHRoaXMudGhyb3dFcnJvcignbm90IGEgcHJpbWFyeSBleHByZXNzaW9uJywgdG9rZW4pO1xuICAgICAgfVxuICAgICAgaWYgKHRva2VuLmNvbnN0YW50KSB7XG4gICAgICAgIHByaW1hcnkuY29uc3RhbnQgPSB0cnVlO1xuICAgICAgICBwcmltYXJ5LmxpdGVyYWwgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBuZXh0LCBjb250ZXh0O1xuICAgIHdoaWxlICgobmV4dCA9IHRoaXMuZXhwZWN0KCcoJywgJ1snLCAnLicpKSkge1xuICAgICAgaWYgKG5leHQudGV4dCA9PT0gJygnKSB7XG4gICAgICAgIHByaW1hcnkgPSB0aGlzLmZ1bmN0aW9uQ2FsbChwcmltYXJ5LCBjb250ZXh0KTtcbiAgICAgICAgY29udGV4dCA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKG5leHQudGV4dCA9PT0gJ1snKSB7XG4gICAgICAgIGNvbnRleHQgPSBwcmltYXJ5O1xuICAgICAgICBwcmltYXJ5ID0gdGhpcy5vYmplY3RJbmRleChwcmltYXJ5KTtcbiAgICAgIH0gZWxzZSBpZiAobmV4dC50ZXh0ID09PSAnLicpIHtcbiAgICAgICAgY29udGV4dCA9IHByaW1hcnk7XG4gICAgICAgIHByaW1hcnkgPSB0aGlzLmZpZWxkQWNjZXNzKHByaW1hcnkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdJTVBPU1NJQkxFJyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcmltYXJ5O1xuICB9LFxuXG4gIHRocm93RXJyb3I6IGZ1bmN0aW9uKG1zZywgdG9rZW4pIHtcbiAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ3N5bnRheCcsXG4gICAgICAgICdTeW50YXggRXJyb3I6IFRva2VuIFxcJ3swfVxcJyB7MX0gYXQgY29sdW1uIHsyfSBvZiB0aGUgZXhwcmVzc2lvbiBbezN9XSBzdGFydGluZyBhdCBbezR9XS4nLFxuICAgICAgICAgIHRva2VuLnRleHQsIG1zZywgKHRva2VuLmluZGV4ICsgMSksIHRoaXMudGV4dCwgdGhpcy50ZXh0LnN1YnN0cmluZyh0b2tlbi5pbmRleCkpO1xuICB9LFxuXG4gIHBlZWtUb2tlbjogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMudG9rZW5zLmxlbmd0aCA9PT0gMClcbiAgICAgIHRocm93ICRwYXJzZU1pbkVycigndWVvZScsICdVbmV4cGVjdGVkIGVuZCBvZiBleHByZXNzaW9uOiB7MH0nLCB0aGlzLnRleHQpO1xuICAgIHJldHVybiB0aGlzLnRva2Vuc1swXTtcbiAgfSxcblxuICBwZWVrOiBmdW5jdGlvbihlMSwgZTIsIGUzLCBlNCkge1xuICAgIGlmICh0aGlzLnRva2Vucy5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgdG9rZW4gPSB0aGlzLnRva2Vuc1swXTtcbiAgICAgIHZhciB0ID0gdG9rZW4udGV4dDtcbiAgICAgIGlmICh0ID09PSBlMSB8fCB0ID09PSBlMiB8fCB0ID09PSBlMyB8fCB0ID09PSBlNCB8fFxuICAgICAgICAgICghZTEgJiYgIWUyICYmICFlMyAmJiAhZTQpKSB7XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIGV4cGVjdDogZnVuY3Rpb24oZTEsIGUyLCBlMywgZTQpIHtcbiAgICB2YXIgdG9rZW4gPSB0aGlzLnBlZWsoZTEsIGUyLCBlMywgZTQpO1xuICAgIGlmICh0b2tlbikge1xuICAgICAgdGhpcy50b2tlbnMuc2hpZnQoKTtcbiAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIGNvbnN1bWU6IGZ1bmN0aW9uKGUxKSB7XG4gICAgaWYgKCF0aGlzLmV4cGVjdChlMSkpIHtcbiAgICAgIHRoaXMudGhyb3dFcnJvcignaXMgdW5leHBlY3RlZCwgZXhwZWN0aW5nIFsnICsgZTEgKyAnXScsIHRoaXMucGVlaygpKTtcbiAgICB9XG4gIH0sXG5cbiAgdW5hcnlGbjogZnVuY3Rpb24oZm4sIHJpZ2h0KSB7XG4gICAgcmV0dXJuIGV4dGVuZChmdW5jdGlvbiAkcGFyc2VVbmFyeUZuKHNlbGYsIGxvY2Fscykge1xuICAgICAgcmV0dXJuIGZuKHNlbGYsIGxvY2FscywgcmlnaHQpO1xuICAgIH0sIHtcbiAgICAgIGNvbnN0YW50OnJpZ2h0LmNvbnN0YW50LFxuICAgICAgaW5wdXRzOiBbcmlnaHRdXG4gICAgfSk7XG4gIH0sXG5cbiAgYmluYXJ5Rm46IGZ1bmN0aW9uKGxlZnQsIGZuLCByaWdodCwgaXNCcmFuY2hpbmcpIHtcbiAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uICRwYXJzZUJpbmFyeUZuKHNlbGYsIGxvY2Fscykge1xuICAgICAgcmV0dXJuIGZuKHNlbGYsIGxvY2FscywgbGVmdCwgcmlnaHQpO1xuICAgIH0sIHtcbiAgICAgIGNvbnN0YW50OiBsZWZ0LmNvbnN0YW50ICYmIHJpZ2h0LmNvbnN0YW50LFxuICAgICAgaW5wdXRzOiAhaXNCcmFuY2hpbmcgJiYgW2xlZnQsIHJpZ2h0XVxuICAgIH0pO1xuICB9LFxuXG4gIHN0YXRlbWVudHM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdGF0ZW1lbnRzID0gW107XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmICh0aGlzLnRva2Vucy5sZW5ndGggPiAwICYmICF0aGlzLnBlZWsoJ30nLCAnKScsICc7JywgJ10nKSlcbiAgICAgICAgc3RhdGVtZW50cy5wdXNoKHRoaXMuZmlsdGVyQ2hhaW4oKSk7XG4gICAgICBpZiAoIXRoaXMuZXhwZWN0KCc7JykpIHtcbiAgICAgICAgLy8gb3B0aW1pemUgZm9yIHRoZSBjb21tb24gY2FzZSB3aGVyZSB0aGVyZSBpcyBvbmx5IG9uZSBzdGF0ZW1lbnQuXG4gICAgICAgIC8vIFRPRE8oc2l6ZSk6IG1heWJlIHdlIHNob3VsZCBub3Qgc3VwcG9ydCBtdWx0aXBsZSBzdGF0ZW1lbnRzP1xuICAgICAgICByZXR1cm4gKHN0YXRlbWVudHMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgPyBzdGF0ZW1lbnRzWzBdXG4gICAgICAgICAgICA6IGZ1bmN0aW9uICRwYXJzZVN0YXRlbWVudHMoc2VsZiwgbG9jYWxzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHN0YXRlbWVudHMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBzdGF0ZW1lbnRzW2ldKHNlbGYsIGxvY2Fscyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgZmlsdGVyQ2hhaW46IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsZWZ0ID0gdGhpcy5leHByZXNzaW9uKCk7XG4gICAgdmFyIHRva2VuO1xuICAgIHdoaWxlICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnfCcpKSkge1xuICAgICAgbGVmdCA9IHRoaXMuZmlsdGVyKGxlZnQpO1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICBmaWx0ZXI6IGZ1bmN0aW9uKGlucHV0Rm4pIHtcbiAgICB2YXIgdG9rZW4gPSB0aGlzLmV4cGVjdCgpO1xuICAgIHZhciBmbiA9IHRoaXMuJGZpbHRlcih0b2tlbi50ZXh0KTtcbiAgICB2YXIgYXJnc0ZuO1xuICAgIHZhciBhcmdzO1xuXG4gICAgaWYgKHRoaXMucGVlaygnOicpKSB7XG4gICAgICBhcmdzRm4gPSBbXTtcbiAgICAgIGFyZ3MgPSBbXTsgLy8gd2UgY2FuIHNhZmVseSByZXVzZSB0aGUgYXJyYXlcbiAgICAgIHdoaWxlICh0aGlzLmV4cGVjdCgnOicpKSB7XG4gICAgICAgIGFyZ3NGbi5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgaW5wdXRzID0gW2lucHV0Rm5dLmNvbmNhdChhcmdzRm4gfHwgW10pO1xuXG4gICAgcmV0dXJuIGV4dGVuZChmdW5jdGlvbiAkcGFyc2VGaWx0ZXIoc2VsZiwgbG9jYWxzKSB7XG4gICAgICB2YXIgaW5wdXQgPSBpbnB1dEZuKHNlbGYsIGxvY2Fscyk7XG4gICAgICBpZiAoYXJncykge1xuICAgICAgICBhcmdzWzBdID0gaW5wdXQ7XG5cbiAgICAgICAgdmFyIGkgPSBhcmdzRm4ubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgYXJnc1tpICsgMV0gPSBhcmdzRm5baV0oc2VsZiwgbG9jYWxzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmbi5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZm4oaW5wdXQpO1xuICAgIH0sIHtcbiAgICAgIGNvbnN0YW50OiAhZm4uJHN0YXRlZnVsICYmIGlucHV0cy5ldmVyeShpc0NvbnN0YW50KSxcbiAgICAgIGlucHV0czogIWZuLiRzdGF0ZWZ1bCAmJiBpbnB1dHNcbiAgICB9KTtcbiAgfSxcblxuICBleHByZXNzaW9uOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5hc3NpZ25tZW50KCk7XG4gIH0sXG5cbiAgYXNzaWdubWVudDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlZnQgPSB0aGlzLnRlcm5hcnkoKTtcbiAgICB2YXIgcmlnaHQ7XG4gICAgdmFyIHRva2VuO1xuICAgIGlmICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnPScpKSkge1xuICAgICAgaWYgKCFsZWZ0LmFzc2lnbikge1xuICAgICAgICB0aGlzLnRocm93RXJyb3IoJ2ltcGxpZXMgYXNzaWdubWVudCBidXQgWycgK1xuICAgICAgICAgICAgdGhpcy50ZXh0LnN1YnN0cmluZygwLCB0b2tlbi5pbmRleCkgKyAnXSBjYW4gbm90IGJlIGFzc2lnbmVkIHRvJywgdG9rZW4pO1xuICAgICAgfVxuICAgICAgcmlnaHQgPSB0aGlzLnRlcm5hcnkoKTtcbiAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gJHBhcnNlQXNzaWdubWVudChzY29wZSwgbG9jYWxzKSB7XG4gICAgICAgIHJldHVybiBsZWZ0LmFzc2lnbihzY29wZSwgcmlnaHQoc2NvcGUsIGxvY2FscyksIGxvY2Fscyk7XG4gICAgICB9LCB7XG4gICAgICAgIGlucHV0czogW2xlZnQsIHJpZ2h0XVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBsZWZ0O1xuICB9LFxuXG4gIHRlcm5hcnk6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsZWZ0ID0gdGhpcy5sb2dpY2FsT1IoKTtcbiAgICB2YXIgbWlkZGxlO1xuICAgIHZhciB0b2tlbjtcbiAgICBpZiAoKHRva2VuID0gdGhpcy5leHBlY3QoJz8nKSkpIHtcbiAgICAgIG1pZGRsZSA9IHRoaXMuYXNzaWdubWVudCgpO1xuICAgICAgaWYgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCc6JykpKSB7XG4gICAgICAgIHZhciByaWdodCA9IHRoaXMuYXNzaWdubWVudCgpO1xuXG4gICAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gJHBhcnNlVGVybmFyeShzZWxmLCBsb2NhbHMpIHtcbiAgICAgICAgICByZXR1cm4gbGVmdChzZWxmLCBsb2NhbHMpID8gbWlkZGxlKHNlbGYsIGxvY2FscykgOiByaWdodChzZWxmLCBsb2NhbHMpO1xuICAgICAgICB9LCB7XG4gICAgICAgICAgY29uc3RhbnQ6IGxlZnQuY29uc3RhbnQgJiYgbWlkZGxlLmNvbnN0YW50ICYmIHJpZ2h0LmNvbnN0YW50XG4gICAgICAgIH0pO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnRocm93RXJyb3IoJ2V4cGVjdGVkIDonLCB0b2tlbik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGxlZnQ7XG4gIH0sXG5cbiAgbG9naWNhbE9SOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMubG9naWNhbEFORCgpO1xuICAgIHZhciB0b2tlbjtcbiAgICB3aGlsZSAoKHRva2VuID0gdGhpcy5leHBlY3QoJ3x8JykpKSB7XG4gICAgICBsZWZ0ID0gdGhpcy5iaW5hcnlGbihsZWZ0LCB0b2tlbi5mbiwgdGhpcy5sb2dpY2FsQU5EKCksIHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICBsb2dpY2FsQU5EOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMuZXF1YWxpdHkoKTtcbiAgICB2YXIgdG9rZW47XG4gICAgaWYgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCcmJicpKSkge1xuICAgICAgbGVmdCA9IHRoaXMuYmluYXJ5Rm4obGVmdCwgdG9rZW4uZm4sIHRoaXMubG9naWNhbEFORCgpLCB0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGxlZnQ7XG4gIH0sXG5cbiAgZXF1YWxpdHk6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsZWZ0ID0gdGhpcy5yZWxhdGlvbmFsKCk7XG4gICAgdmFyIHRva2VuO1xuICAgIGlmICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnPT0nLCchPScsJz09PScsJyE9PScpKSkge1xuICAgICAgbGVmdCA9IHRoaXMuYmluYXJ5Rm4obGVmdCwgdG9rZW4uZm4sIHRoaXMuZXF1YWxpdHkoKSk7XG4gICAgfVxuICAgIHJldHVybiBsZWZ0O1xuICB9LFxuXG4gIHJlbGF0aW9uYWw6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsZWZ0ID0gdGhpcy5hZGRpdGl2ZSgpO1xuICAgIHZhciB0b2tlbjtcbiAgICBpZiAoKHRva2VuID0gdGhpcy5leHBlY3QoJzwnLCAnPicsICc8PScsICc+PScpKSkge1xuICAgICAgbGVmdCA9IHRoaXMuYmluYXJ5Rm4obGVmdCwgdG9rZW4uZm4sIHRoaXMucmVsYXRpb25hbCgpKTtcbiAgICB9XG4gICAgcmV0dXJuIGxlZnQ7XG4gIH0sXG5cbiAgYWRkaXRpdmU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsZWZ0ID0gdGhpcy5tdWx0aXBsaWNhdGl2ZSgpO1xuICAgIHZhciB0b2tlbjtcbiAgICB3aGlsZSAoKHRva2VuID0gdGhpcy5leHBlY3QoJysnLCctJykpKSB7XG4gICAgICBsZWZ0ID0gdGhpcy5iaW5hcnlGbihsZWZ0LCB0b2tlbi5mbiwgdGhpcy5tdWx0aXBsaWNhdGl2ZSgpKTtcbiAgICB9XG4gICAgcmV0dXJuIGxlZnQ7XG4gIH0sXG5cbiAgbXVsdGlwbGljYXRpdmU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsZWZ0ID0gdGhpcy51bmFyeSgpO1xuICAgIHZhciB0b2tlbjtcbiAgICB3aGlsZSAoKHRva2VuID0gdGhpcy5leHBlY3QoJyonLCcvJywnJScpKSkge1xuICAgICAgbGVmdCA9IHRoaXMuYmluYXJ5Rm4obGVmdCwgdG9rZW4uZm4sIHRoaXMudW5hcnkoKSk7XG4gICAgfVxuICAgIHJldHVybiBsZWZ0O1xuICB9LFxuXG4gIHVuYXJ5OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdG9rZW47XG4gICAgaWYgKHRoaXMuZXhwZWN0KCcrJykpIHtcbiAgICAgIHJldHVybiB0aGlzLnByaW1hcnkoKTtcbiAgICB9IGVsc2UgaWYgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCctJykpKSB7XG4gICAgICByZXR1cm4gdGhpcy5iaW5hcnlGbihQYXJzZXIuWkVSTywgdG9rZW4uZm4sIHRoaXMudW5hcnkoKSk7XG4gICAgfSBlbHNlIGlmICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnIScpKSkge1xuICAgICAgcmV0dXJuIHRoaXMudW5hcnlGbih0b2tlbi5mbiwgdGhpcy51bmFyeSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJpbWFyeSgpO1xuICAgIH1cbiAgfSxcblxuICBmaWVsZEFjY2VzczogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGV4cHJlc3Npb24gPSB0aGlzLnRleHQ7XG4gICAgdmFyIGZpZWxkID0gdGhpcy5leHBlY3QoKS50ZXh0O1xuICAgIHZhciBnZXR0ZXIgPSBnZXR0ZXJGbihmaWVsZCwgdGhpcy5vcHRpb25zLCBleHByZXNzaW9uKTtcblxuICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gJHBhcnNlRmllbGRBY2Nlc3Moc2NvcGUsIGxvY2Fscywgc2VsZikge1xuICAgICAgcmV0dXJuIGdldHRlcihzZWxmIHx8IG9iamVjdChzY29wZSwgbG9jYWxzKSk7XG4gICAgfSwge1xuICAgICAgYXNzaWduOiBmdW5jdGlvbihzY29wZSwgdmFsdWUsIGxvY2Fscykge1xuICAgICAgICB2YXIgbyA9IG9iamVjdChzY29wZSwgbG9jYWxzKTtcbiAgICAgICAgaWYgKCFvKSBvYmplY3QuYXNzaWduKHNjb3BlLCBvID0ge30pO1xuICAgICAgICByZXR1cm4gc2V0dGVyKG8sIGZpZWxkLCB2YWx1ZSwgZXhwcmVzc2lvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgb2JqZWN0SW5kZXg6IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBleHByZXNzaW9uID0gdGhpcy50ZXh0O1xuXG4gICAgdmFyIGluZGV4Rm4gPSB0aGlzLmV4cHJlc3Npb24oKTtcbiAgICB0aGlzLmNvbnN1bWUoJ10nKTtcblxuICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gJHBhcnNlT2JqZWN0SW5kZXgoc2VsZiwgbG9jYWxzKSB7XG4gICAgICB2YXIgbyA9IG9iaihzZWxmLCBsb2NhbHMpLFxuICAgICAgICAgIGkgPSBpbmRleEZuKHNlbGYsIGxvY2FscyksXG4gICAgICAgICAgdjtcblxuICAgICAgZW5zdXJlU2FmZU1lbWJlck5hbWUoaSwgZXhwcmVzc2lvbik7XG4gICAgICBpZiAoIW8pIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB2ID0gZW5zdXJlU2FmZU9iamVjdChvW2ldLCBleHByZXNzaW9uKTtcbiAgICAgIHJldHVybiB2O1xuICAgIH0sIHtcbiAgICAgIGFzc2lnbjogZnVuY3Rpb24oc2VsZiwgdmFsdWUsIGxvY2Fscykge1xuICAgICAgICB2YXIga2V5ID0gZW5zdXJlU2FmZU1lbWJlck5hbWUoaW5kZXhGbihzZWxmLCBsb2NhbHMpLCBleHByZXNzaW9uKTtcbiAgICAgICAgLy8gcHJldmVudCBvdmVyd3JpdGluZyBvZiBGdW5jdGlvbi5jb25zdHJ1Y3RvciB3aGljaCB3b3VsZCBicmVhayBlbnN1cmVTYWZlT2JqZWN0IGNoZWNrXG4gICAgICAgIHZhciBvID0gZW5zdXJlU2FmZU9iamVjdChvYmooc2VsZiwgbG9jYWxzKSwgZXhwcmVzc2lvbik7XG4gICAgICAgIGlmICghbykgb2JqLmFzc2lnbihzZWxmLCBvID0ge30pO1xuICAgICAgICByZXR1cm4gb1trZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgZnVuY3Rpb25DYWxsOiBmdW5jdGlvbihmbkdldHRlciwgY29udGV4dEdldHRlcikge1xuICAgIHZhciBhcmdzRm4gPSBbXTtcbiAgICBpZiAodGhpcy5wZWVrVG9rZW4oKS50ZXh0ICE9PSAnKScpIHtcbiAgICAgIGRvIHtcbiAgICAgICAgYXJnc0ZuLnB1c2godGhpcy5leHByZXNzaW9uKCkpO1xuICAgICAgfSB3aGlsZSAodGhpcy5leHBlY3QoJywnKSk7XG4gICAgfVxuICAgIHRoaXMuY29uc3VtZSgnKScpO1xuXG4gICAgdmFyIGV4cHJlc3Npb25UZXh0ID0gdGhpcy50ZXh0O1xuICAgIC8vIHdlIGNhbiBzYWZlbHkgcmV1c2UgdGhlIGFycmF5IGFjcm9zcyBpbnZvY2F0aW9uc1xuICAgIHZhciBhcmdzID0gYXJnc0ZuLmxlbmd0aCA/IFtdIDogbnVsbDtcblxuICAgIHJldHVybiBmdW5jdGlvbiAkcGFyc2VGdW5jdGlvbkNhbGwoc2NvcGUsIGxvY2Fscykge1xuICAgICAgdmFyIGNvbnRleHQgPSBjb250ZXh0R2V0dGVyID8gY29udGV4dEdldHRlcihzY29wZSwgbG9jYWxzKSA6IHNjb3BlO1xuICAgICAgdmFyIGZuID0gZm5HZXR0ZXIoc2NvcGUsIGxvY2FscywgY29udGV4dCkgfHwgbm9vcDtcblxuICAgICAgaWYgKGFyZ3MpIHtcbiAgICAgICAgdmFyIGkgPSBhcmdzRm4ubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgYXJnc1tpXSA9IGVuc3VyZVNhZmVPYmplY3QoYXJnc0ZuW2ldKHNjb3BlLCBsb2NhbHMpLCBleHByZXNzaW9uVGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZW5zdXJlU2FmZU9iamVjdChjb250ZXh0LCBleHByZXNzaW9uVGV4dCk7XG4gICAgICBlbnN1cmVTYWZlRnVuY3Rpb24oZm4sIGV4cHJlc3Npb25UZXh0KTtcblxuICAgICAgLy8gSUUgc3R1cGlkaXR5ISAoSUUgZG9lc24ndCBoYXZlIGFwcGx5IGZvciBzb21lIG5hdGl2ZSBmdW5jdGlvbnMpXG4gICAgICB2YXIgdiA9IGZuLmFwcGx5XG4gICAgICAgICAgICA/IGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpXG4gICAgICAgICAgICA6IGZuKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0pO1xuXG4gICAgICByZXR1cm4gZW5zdXJlU2FmZU9iamVjdCh2LCBleHByZXNzaW9uVGV4dCk7XG4gICAgfTtcbiAgfSxcblxuICAvLyBUaGlzIGlzIHVzZWQgd2l0aCBqc29uIGFycmF5IGRlY2xhcmF0aW9uXG4gIGFycmF5RGVjbGFyYXRpb246IGZ1bmN0aW9uKCkge1xuICAgIHZhciBlbGVtZW50Rm5zID0gW107XG4gICAgaWYgKHRoaXMucGVla1Rva2VuKCkudGV4dCAhPT0gJ10nKSB7XG4gICAgICBkbyB7XG4gICAgICAgIGlmICh0aGlzLnBlZWsoJ10nKSkge1xuICAgICAgICAgIC8vIFN1cHBvcnQgdHJhaWxpbmcgY29tbWFzIHBlciBFUzUuMS5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB2YXIgZWxlbWVudEZuID0gdGhpcy5leHByZXNzaW9uKCk7XG4gICAgICAgIGVsZW1lbnRGbnMucHVzaChlbGVtZW50Rm4pO1xuICAgICAgfSB3aGlsZSAodGhpcy5leHBlY3QoJywnKSk7XG4gICAgfVxuICAgIHRoaXMuY29uc3VtZSgnXScpO1xuXG4gICAgcmV0dXJuIGV4dGVuZChmdW5jdGlvbiAkcGFyc2VBcnJheUxpdGVyYWwoc2VsZiwgbG9jYWxzKSB7XG4gICAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGVsZW1lbnRGbnMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICBhcnJheS5wdXNoKGVsZW1lbnRGbnNbaV0oc2VsZiwgbG9jYWxzKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfSwge1xuICAgICAgbGl0ZXJhbDogdHJ1ZSxcbiAgICAgIGNvbnN0YW50OiBlbGVtZW50Rm5zLmV2ZXJ5KGlzQ29uc3RhbnQpLFxuICAgICAgaW5wdXRzOiBlbGVtZW50Rm5zXG4gICAgfSk7XG4gIH0sXG5cbiAgb2JqZWN0OiBmdW5jdGlvbigpIHtcbiAgICB2YXIga2V5cyA9IFtdLCB2YWx1ZUZucyA9IFtdO1xuICAgIGlmICh0aGlzLnBlZWtUb2tlbigpLnRleHQgIT09ICd9Jykge1xuICAgICAgZG8ge1xuICAgICAgICBpZiAodGhpcy5wZWVrKCd9JykpIHtcbiAgICAgICAgICAvLyBTdXBwb3J0IHRyYWlsaW5nIGNvbW1hcyBwZXIgRVM1LjEuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRva2VuID0gdGhpcy5leHBlY3QoKTtcbiAgICAgICAga2V5cy5wdXNoKHRva2VuLnN0cmluZyB8fCB0b2tlbi50ZXh0KTtcbiAgICAgICAgdGhpcy5jb25zdW1lKCc6Jyk7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZXhwcmVzc2lvbigpO1xuICAgICAgICB2YWx1ZUZucy5wdXNoKHZhbHVlKTtcbiAgICAgIH0gd2hpbGUgKHRoaXMuZXhwZWN0KCcsJykpO1xuICAgIH1cbiAgICB0aGlzLmNvbnN1bWUoJ30nKTtcblxuICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gJHBhcnNlT2JqZWN0TGl0ZXJhbChzZWxmLCBsb2NhbHMpIHtcbiAgICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHZhbHVlRm5zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgb2JqZWN0W2tleXNbaV1dID0gdmFsdWVGbnNbaV0oc2VsZiwgbG9jYWxzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSwge1xuICAgICAgbGl0ZXJhbDogdHJ1ZSxcbiAgICAgIGNvbnN0YW50OiB2YWx1ZUZucy5ldmVyeShpc0NvbnN0YW50KSxcbiAgICAgIGlucHV0czogdmFsdWVGbnNcbiAgICB9KTtcbiAgfVxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gUGFyc2VyIGhlbHBlciBmdW5jdGlvbnNcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIHNldHRlcihvYmosIHBhdGgsIHNldFZhbHVlLCBmdWxsRXhwKSB7XG4gIGVuc3VyZVNhZmVPYmplY3Qob2JqLCBmdWxsRXhwKTtcblxuICB2YXIgZWxlbWVudCA9IHBhdGguc3BsaXQoJy4nKSwga2V5O1xuICBmb3IgKHZhciBpID0gMDsgZWxlbWVudC5sZW5ndGggPiAxOyBpKyspIHtcbiAgICBrZXkgPSBlbnN1cmVTYWZlTWVtYmVyTmFtZShlbGVtZW50LnNoaWZ0KCksIGZ1bGxFeHApO1xuICAgIHZhciBwcm9wZXJ0eU9iaiA9IGVuc3VyZVNhZmVPYmplY3Qob2JqW2tleV0sIGZ1bGxFeHApO1xuICAgIGlmICghcHJvcGVydHlPYmopIHtcbiAgICAgIHByb3BlcnR5T2JqID0ge307XG4gICAgICBvYmpba2V5XSA9IHByb3BlcnR5T2JqO1xuICAgIH1cbiAgICBvYmogPSBwcm9wZXJ0eU9iajtcbiAgfVxuICBrZXkgPSBlbnN1cmVTYWZlTWVtYmVyTmFtZShlbGVtZW50LnNoaWZ0KCksIGZ1bGxFeHApO1xuICBlbnN1cmVTYWZlT2JqZWN0KG9ialtrZXldLCBmdWxsRXhwKTtcbiAgb2JqW2tleV0gPSBzZXRWYWx1ZTtcbiAgcmV0dXJuIHNldFZhbHVlO1xufVxuXG52YXIgZ2V0dGVyRm5DYWNoZSA9IGNyZWF0ZU1hcCgpO1xuXG4vKipcbiAqIEltcGxlbWVudGF0aW9uIG9mIHRoZSBcIkJsYWNrIEhvbGVcIiB2YXJpYW50IGZyb206XG4gKiAtIGh0dHA6Ly9qc3BlcmYuY29tL2FuZ3VsYXJqcy1wYXJzZS1nZXR0ZXIvNFxuICogLSBodHRwOi8vanNwZXJmLmNvbS9wYXRoLWV2YWx1YXRpb24tc2ltcGxpZmllZC83XG4gKi9cbmZ1bmN0aW9uIGNzcFNhZmVHZXR0ZXJGbihrZXkwLCBrZXkxLCBrZXkyLCBrZXkzLCBrZXk0LCBmdWxsRXhwKSB7XG4gIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGtleTAsIGZ1bGxFeHApO1xuICBlbnN1cmVTYWZlTWVtYmVyTmFtZShrZXkxLCBmdWxsRXhwKTtcbiAgZW5zdXJlU2FmZU1lbWJlck5hbWUoa2V5MiwgZnVsbEV4cCk7XG4gIGVuc3VyZVNhZmVNZW1iZXJOYW1lKGtleTMsIGZ1bGxFeHApO1xuICBlbnN1cmVTYWZlTWVtYmVyTmFtZShrZXk0LCBmdWxsRXhwKTtcblxuICByZXR1cm4gZnVuY3Rpb24gY3NwU2FmZUdldHRlcihzY29wZSwgbG9jYWxzKSB7XG4gICAgdmFyIHBhdGhWYWwgPSAobG9jYWxzICYmIGxvY2Fscy5oYXNPd25Qcm9wZXJ0eShrZXkwKSkgPyBsb2NhbHMgOiBzY29wZTtcblxuICAgIGlmIChwYXRoVmFsID09IG51bGwpIHJldHVybiBwYXRoVmFsO1xuICAgIHBhdGhWYWwgPSBwYXRoVmFsW2tleTBdO1xuXG4gICAgaWYgKCFrZXkxKSByZXR1cm4gcGF0aFZhbDtcbiAgICBpZiAocGF0aFZhbCA9PSBudWxsKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIHBhdGhWYWwgPSBwYXRoVmFsW2tleTFdO1xuXG4gICAgaWYgKCFrZXkyKSByZXR1cm4gcGF0aFZhbDtcbiAgICBpZiAocGF0aFZhbCA9PSBudWxsKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIHBhdGhWYWwgPSBwYXRoVmFsW2tleTJdO1xuXG4gICAgaWYgKCFrZXkzKSByZXR1cm4gcGF0aFZhbDtcbiAgICBpZiAocGF0aFZhbCA9PSBudWxsKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIHBhdGhWYWwgPSBwYXRoVmFsW2tleTNdO1xuXG4gICAgaWYgKCFrZXk0KSByZXR1cm4gcGF0aFZhbDtcbiAgICBpZiAocGF0aFZhbCA9PSBudWxsKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIHBhdGhWYWwgPSBwYXRoVmFsW2tleTRdO1xuXG4gICAgcmV0dXJuIHBhdGhWYWw7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldHRlckZuKHBhdGgsIG9wdGlvbnMsIGZ1bGxFeHApIHtcbiAgdmFyIGZuID0gZ2V0dGVyRm5DYWNoZVtwYXRoXTtcblxuICBpZiAoZm4pIHJldHVybiBmbjtcblxuICB2YXIgcGF0aEtleXMgPSBwYXRoLnNwbGl0KCcuJyksXG4gICAgICBwYXRoS2V5c0xlbmd0aCA9IHBhdGhLZXlzLmxlbmd0aDtcblxuICAvLyBodHRwOi8vanNwZXJmLmNvbS9hbmd1bGFyanMtcGFyc2UtZ2V0dGVyLzZcbiAgaWYgKG9wdGlvbnMuY3NwKSB7XG4gICAgaWYgKHBhdGhLZXlzTGVuZ3RoIDwgNikge1xuICAgICAgZm4gPSBjc3BTYWZlR2V0dGVyRm4ocGF0aEtleXNbMF0sIHBhdGhLZXlzWzFdLCBwYXRoS2V5c1syXSwgcGF0aEtleXNbM10sIHBhdGhLZXlzWzRdLCBmdWxsRXhwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm4gPSBmdW5jdGlvbiBjc3BTYWZlR2V0dGVyKHNjb3BlLCBsb2NhbHMpIHtcbiAgICAgICAgdmFyIGkgPSAwLCB2YWw7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICB2YWwgPSBjc3BTYWZlR2V0dGVyRm4ocGF0aEtleXNbaSsrXSwgcGF0aEtleXNbaSsrXSwgcGF0aEtleXNbaSsrXSwgcGF0aEtleXNbaSsrXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aEtleXNbaSsrXSwgZnVsbEV4cCkoc2NvcGUsIGxvY2Fscyk7XG5cbiAgICAgICAgICBsb2NhbHMgPSB1bmRlZmluZWQ7IC8vIGNsZWFyIGFmdGVyIGZpcnN0IGl0ZXJhdGlvblxuICAgICAgICAgIHNjb3BlID0gdmFsO1xuICAgICAgICB9IHdoaWxlIChpIDwgcGF0aEtleXNMZW5ndGgpO1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNvZGUgPSAnJztcbiAgICBmb3JFYWNoKHBhdGhLZXlzLCBmdW5jdGlvbihrZXksIGluZGV4KSB7XG4gICAgICBlbnN1cmVTYWZlTWVtYmVyTmFtZShrZXksIGZ1bGxFeHApO1xuICAgICAgY29kZSArPSAnaWYocyA9PSBudWxsKSByZXR1cm4gdW5kZWZpbmVkO1xcbicgK1xuICAgICAgICAgICAgICAncz0nKyAoaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBzaW1wbHkgZGVyZWZlcmVuY2UgJ3MnIG9uIGFueSAuZG90IG5vdGF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgPyAncydcbiAgICAgICAgICAgICAgICAgICAgICAvLyBidXQgaWYgd2UgYXJlIGZpcnN0IHRoZW4gd2UgY2hlY2sgbG9jYWxzIGZpcnN0LCBhbmQgaWYgc28gcmVhZCBpdCBmaXJzdFxuICAgICAgICAgICAgICAgICAgICAgIDogJygobCYmbC5oYXNPd25Qcm9wZXJ0eShcIicgKyBrZXkgKyAnXCIpKT9sOnMpJykgKyAnLicgKyBrZXkgKyAnO1xcbic7XG4gICAgfSk7XG4gICAgY29kZSArPSAncmV0dXJuIHM7JztcblxuICAgIC8qIGpzaGludCAtVzA1NCAqL1xuICAgIHZhciBldmFsZWRGbkdldHRlciA9IG5ldyBGdW5jdGlvbigncycsICdsJywgY29kZSk7IC8vIHM9c2NvcGUsIGw9bG9jYWxzXG4gICAgLyoganNoaW50ICtXMDU0ICovXG4gICAgZXZhbGVkRm5HZXR0ZXIudG9TdHJpbmcgPSB2YWx1ZUZuKGNvZGUpO1xuXG4gICAgZm4gPSBldmFsZWRGbkdldHRlcjtcbiAgfVxuXG4gIGZuLnNoYXJlZEdldHRlciA9IHRydWU7XG4gIGZuLmFzc2lnbiA9IGZ1bmN0aW9uKHNlbGYsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHNldHRlcihzZWxmLCBwYXRoLCB2YWx1ZSwgcGF0aCk7XG4gIH07XG4gIGdldHRlckZuQ2FjaGVbcGF0aF0gPSBmbjtcbiAgcmV0dXJuIGZuO1xufVxuXG52YXIgb2JqZWN0VmFsdWVPZiA9IE9iamVjdC5wcm90b3R5cGUudmFsdWVPZjtcblxuZnVuY3Rpb24gZ2V0VmFsdWVPZih2YWx1ZSkge1xuICByZXR1cm4gaXNGdW5jdGlvbih2YWx1ZS52YWx1ZU9mKSA/IHZhbHVlLnZhbHVlT2YoKSA6IG9iamVjdFZhbHVlT2YuY2FsbCh2YWx1ZSk7XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRwYXJzZVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBDb252ZXJ0cyBBbmd1bGFyIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGludG8gYSBmdW5jdGlvbi5cbiAqXG4gKiBgYGBqc1xuICogICB2YXIgZ2V0dGVyID0gJHBhcnNlKCd1c2VyLm5hbWUnKTtcbiAqICAgdmFyIHNldHRlciA9IGdldHRlci5hc3NpZ247XG4gKiAgIHZhciBjb250ZXh0ID0ge3VzZXI6e25hbWU6J2FuZ3VsYXInfX07XG4gKiAgIHZhciBsb2NhbHMgPSB7dXNlcjp7bmFtZTonbG9jYWwnfX07XG4gKlxuICogICBleHBlY3QoZ2V0dGVyKGNvbnRleHQpKS50b0VxdWFsKCdhbmd1bGFyJyk7XG4gKiAgIHNldHRlcihjb250ZXh0LCAnbmV3VmFsdWUnKTtcbiAqICAgZXhwZWN0KGNvbnRleHQudXNlci5uYW1lKS50b0VxdWFsKCduZXdWYWx1ZScpO1xuICogICBleHBlY3QoZ2V0dGVyKGNvbnRleHQsIGxvY2FscykpLnRvRXF1YWwoJ2xvY2FsJyk7XG4gKiBgYGBcbiAqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cbiAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gKlxuICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5nc1xuICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluXG4gKiAgICAgIGBjb250ZXh0YC5cbiAqXG4gKiAgICBUaGUgcmV0dXJuZWQgZnVuY3Rpb24gYWxzbyBoYXMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogICAgICAqIGBsaXRlcmFsYCDigJMgYHtib29sZWFufWAg4oCTIHdoZXRoZXIgdGhlIGV4cHJlc3Npb24ncyB0b3AtbGV2ZWwgbm9kZSBpcyBhIEphdmFTY3JpcHRcbiAqICAgICAgICBsaXRlcmFsLlxuICogICAgICAqIGBjb25zdGFudGAg4oCTIGB7Ym9vbGVhbn1gIOKAkyB3aGV0aGVyIHRoZSBleHByZXNzaW9uIGlzIG1hZGUgZW50aXJlbHkgb2YgSmF2YVNjcmlwdFxuICogICAgICAgIGNvbnN0YW50IGxpdGVyYWxzLlxuICogICAgICAqIGBhc3NpZ25gIOKAkyBgez9mdW5jdGlvbihjb250ZXh0LCB2YWx1ZSl9YCDigJMgaWYgdGhlIGV4cHJlc3Npb24gaXMgYXNzaWduYWJsZSwgdGhpcyB3aWxsIGJlXG4gKiAgICAgICAgc2V0IHRvIGEgZnVuY3Rpb24gdG8gY2hhbmdlIGl0cyB2YWx1ZSBvbiB0aGUgZ2l2ZW4gY29udGV4dC5cbiAqXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJHBhcnNlUHJvdmlkZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGAkcGFyc2VQcm92aWRlcmAgY2FuIGJlIHVzZWQgZm9yIGNvbmZpZ3VyaW5nIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIHRoZSB7QGxpbmsgbmcuJHBhcnNlICRwYXJzZX1cbiAqICBzZXJ2aWNlLlxuICovXG5mdW5jdGlvbiAkUGFyc2VQcm92aWRlcigpIHtcbiAgdmFyIGNhY2hlID0gY3JlYXRlTWFwKCk7XG5cbiAgdmFyICRwYXJzZU9wdGlvbnMgPSB7XG4gICAgY3NwOiBmYWxzZVxuICB9O1xuXG5cbiAgdGhpcy4kZ2V0ID0gWyckZmlsdGVyJywgJyRzbmlmZmVyJywgZnVuY3Rpb24oJGZpbHRlciwgJHNuaWZmZXIpIHtcbiAgICAkcGFyc2VPcHRpb25zLmNzcCA9ICRzbmlmZmVyLmNzcDtcblxuICAgIGZ1bmN0aW9uIHdyYXBTaGFyZWRFeHByZXNzaW9uKGV4cCkge1xuICAgICAgdmFyIHdyYXBwZWQgPSBleHA7XG5cbiAgICAgIGlmIChleHAuc2hhcmVkR2V0dGVyKSB7XG4gICAgICAgIHdyYXBwZWQgPSBmdW5jdGlvbiAkcGFyc2VXcmFwcGVyKHNlbGYsIGxvY2Fscykge1xuICAgICAgICAgIHJldHVybiBleHAoc2VsZiwgbG9jYWxzKTtcbiAgICAgICAgfTtcbiAgICAgICAgd3JhcHBlZC5saXRlcmFsID0gZXhwLmxpdGVyYWw7XG4gICAgICAgIHdyYXBwZWQuY29uc3RhbnQgPSBleHAuY29uc3RhbnQ7XG4gICAgICAgIHdyYXBwZWQuYXNzaWduID0gZXhwLmFzc2lnbjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHdyYXBwZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICRwYXJzZShleHAsIGludGVyY2VwdG9yRm4pIHtcbiAgICAgIHZhciBwYXJzZWRFeHByZXNzaW9uLCBvbmVUaW1lLCBjYWNoZUtleTtcblxuICAgICAgc3dpdGNoICh0eXBlb2YgZXhwKSB7XG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgY2FjaGVLZXkgPSBleHAgPSBleHAudHJpbSgpO1xuXG4gICAgICAgICAgcGFyc2VkRXhwcmVzc2lvbiA9IGNhY2hlW2NhY2hlS2V5XTtcblxuICAgICAgICAgIGlmICghcGFyc2VkRXhwcmVzc2lvbikge1xuICAgICAgICAgICAgaWYgKGV4cC5jaGFyQXQoMCkgPT09ICc6JyAmJiBleHAuY2hhckF0KDEpID09PSAnOicpIHtcbiAgICAgICAgICAgICAgb25lVGltZSA9IHRydWU7XG4gICAgICAgICAgICAgIGV4cCA9IGV4cC5zdWJzdHJpbmcoMik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBsZXhlciA9IG5ldyBMZXhlcigkcGFyc2VPcHRpb25zKTtcbiAgICAgICAgICAgIHZhciBwYXJzZXIgPSBuZXcgUGFyc2VyKGxleGVyLCAkZmlsdGVyLCAkcGFyc2VPcHRpb25zKTtcbiAgICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24gPSBwYXJzZXIucGFyc2UoZXhwKTtcblxuICAgICAgICAgICAgaWYgKHBhcnNlZEV4cHJlc3Npb24uY29uc3RhbnQpIHtcbiAgICAgICAgICAgICAgcGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGUgPSBjb25zdGFudFdhdGNoRGVsZWdhdGU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9uZVRpbWUpIHtcbiAgICAgICAgICAgICAgLy9vbmVUaW1lIGlzIG5vdCBwYXJ0IG9mIHRoZSBleHAgcGFzc2VkIHRvIHRoZSBQYXJzZXIgc28gd2UgbWF5IGhhdmUgdG9cbiAgICAgICAgICAgICAgLy93cmFwIHRoZSBwYXJzZWRFeHByZXNzaW9uIGJlZm9yZSBhZGRpbmcgYSAkJHdhdGNoRGVsZWdhdGVcbiAgICAgICAgICAgICAgcGFyc2VkRXhwcmVzc2lvbiA9IHdyYXBTaGFyZWRFeHByZXNzaW9uKHBhcnNlZEV4cHJlc3Npb24pO1xuICAgICAgICAgICAgICBwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZSA9IHBhcnNlZEV4cHJlc3Npb24ubGl0ZXJhbCA/XG4gICAgICAgICAgICAgICAgb25lVGltZUxpdGVyYWxXYXRjaERlbGVnYXRlIDogb25lVGltZVdhdGNoRGVsZWdhdGU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlZEV4cHJlc3Npb24uaW5wdXRzKSB7XG4gICAgICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlID0gaW5wdXRzV2F0Y2hEZWxlZ2F0ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FjaGVbY2FjaGVLZXldID0gcGFyc2VkRXhwcmVzc2lvbjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGFkZEludGVyY2VwdG9yKHBhcnNlZEV4cHJlc3Npb24sIGludGVyY2VwdG9yRm4pO1xuXG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICByZXR1cm4gYWRkSW50ZXJjZXB0b3IoZXhwLCBpbnRlcmNlcHRvckZuKTtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBhZGRJbnRlcmNlcHRvcihub29wLCBpbnRlcmNlcHRvckZuKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gY29sbGVjdEV4cHJlc3Npb25JbnB1dHMoaW5wdXRzLCBsaXN0KSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBpbnB1dHMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICB2YXIgaW5wdXQgPSBpbnB1dHNbaV07XG4gICAgICAgIGlmICghaW5wdXQuY29uc3RhbnQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuaW5wdXRzKSB7XG4gICAgICAgICAgICBjb2xsZWN0RXhwcmVzc2lvbklucHV0cyhpbnB1dC5pbnB1dHMsIGxpc3QpO1xuICAgICAgICAgIH0gZWxzZSBpZiAobGlzdC5pbmRleE9mKGlucHV0KSA9PT0gLTEpIHsgLy8gVE9ETyhwZXJmKSBjYW4gd2UgZG8gYmV0dGVyP1xuICAgICAgICAgICAgbGlzdC5wdXNoKGlucHV0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXhwcmVzc2lvbklucHV0RGlydHlDaGVjayhuZXdWYWx1ZSwgb2xkVmFsdWVPZlZhbHVlKSB7XG5cbiAgICAgIGlmIChuZXdWYWx1ZSA9PSBudWxsIHx8IG9sZFZhbHVlT2ZWYWx1ZSA9PSBudWxsKSB7IC8vIG51bGwvdW5kZWZpbmVkXG4gICAgICAgIHJldHVybiBuZXdWYWx1ZSA9PT0gb2xkVmFsdWVPZlZhbHVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIG5ld1ZhbHVlID09PSAnb2JqZWN0Jykge1xuXG4gICAgICAgIC8vIGF0dGVtcHQgdG8gY29udmVydCB0aGUgdmFsdWUgdG8gYSBwcmltaXRpdmUgdHlwZVxuICAgICAgICAvLyBUT0RPKGRvY3MpOiBhZGQgYSBub3RlIHRvIGRvY3MgdGhhdCBieSBpbXBsZW1lbnRpbmcgdmFsdWVPZiBldmVuIG9iamVjdHMgYW5kIGFycmF5cyBjYW5cbiAgICAgICAgLy8gICAgICAgICAgICAgYmUgY2hlYXBseSBkaXJ0eS1jaGVja2VkXG4gICAgICAgIG5ld1ZhbHVlID0gZ2V0VmFsdWVPZihuZXdWYWx1ZSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBuZXdWYWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAvLyBvYmplY3RzL2FycmF5cyBhcmUgbm90IHN1cHBvcnRlZCAtIGRlZXAtd2F0Y2hpbmcgdGhlbSB3b3VsZCBiZSB0b28gZXhwZW5zaXZlXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmFsbC10aHJvdWdoIHRvIHRoZSBwcmltaXRpdmUgZXF1YWxpdHkgY2hlY2tcbiAgICAgIH1cblxuICAgICAgLy9QcmltaXRpdmUgb3IgTmFOXG4gICAgICByZXR1cm4gbmV3VmFsdWUgPT09IG9sZFZhbHVlT2ZWYWx1ZSB8fCAobmV3VmFsdWUgIT09IG5ld1ZhbHVlICYmIG9sZFZhbHVlT2ZWYWx1ZSAhPT0gb2xkVmFsdWVPZlZhbHVlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnB1dHNXYXRjaERlbGVnYXRlKHNjb3BlLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHBhcnNlZEV4cHJlc3Npb24pIHtcbiAgICAgIHZhciBpbnB1dEV4cHJlc3Npb25zID0gcGFyc2VkRXhwcmVzc2lvbi4kJGlucHV0cyB8fFxuICAgICAgICAgICAgICAgICAgICAocGFyc2VkRXhwcmVzc2lvbi4kJGlucHV0cyA9IGNvbGxlY3RFeHByZXNzaW9uSW5wdXRzKHBhcnNlZEV4cHJlc3Npb24uaW5wdXRzLCBbXSkpO1xuXG4gICAgICB2YXIgbGFzdFJlc3VsdDtcblxuICAgICAgaWYgKGlucHV0RXhwcmVzc2lvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHZhciBvbGRJbnB1dFZhbHVlID0gZXhwcmVzc2lvbklucHV0RGlydHlDaGVjazsgLy8gaW5pdCB0byBzb21ldGhpbmcgdW5pcXVlIHNvIHRoYXQgZXF1YWxzIGNoZWNrIGZhaWxzXG4gICAgICAgIGlucHV0RXhwcmVzc2lvbnMgPSBpbnB1dEV4cHJlc3Npb25zWzBdO1xuICAgICAgICByZXR1cm4gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIGV4cHJlc3Npb25JbnB1dFdhdGNoKHNjb3BlKSB7XG4gICAgICAgICAgdmFyIG5ld0lucHV0VmFsdWUgPSBpbnB1dEV4cHJlc3Npb25zKHNjb3BlKTtcbiAgICAgICAgICBpZiAoIWV4cHJlc3Npb25JbnB1dERpcnR5Q2hlY2sobmV3SW5wdXRWYWx1ZSwgb2xkSW5wdXRWYWx1ZSkpIHtcbiAgICAgICAgICAgIGxhc3RSZXN1bHQgPSBwYXJzZWRFeHByZXNzaW9uKHNjb3BlKTtcbiAgICAgICAgICAgIG9sZElucHV0VmFsdWUgPSBuZXdJbnB1dFZhbHVlICYmIGdldFZhbHVlT2YobmV3SW5wdXRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICAgICAgICB9LCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgb2xkSW5wdXRWYWx1ZU9mVmFsdWVzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBpbnB1dEV4cHJlc3Npb25zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgb2xkSW5wdXRWYWx1ZU9mVmFsdWVzW2ldID0gZXhwcmVzc2lvbklucHV0RGlydHlDaGVjazsgLy8gaW5pdCB0byBzb21ldGhpbmcgdW5pcXVlIHNvIHRoYXQgZXF1YWxzIGNoZWNrIGZhaWxzXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzY29wZS4kd2F0Y2goZnVuY3Rpb24gZXhwcmVzc2lvbklucHV0c1dhdGNoKHNjb3BlKSB7XG4gICAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gaW5wdXRFeHByZXNzaW9ucy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgdmFyIG5ld0lucHV0VmFsdWUgPSBpbnB1dEV4cHJlc3Npb25zW2ldKHNjb3BlKTtcbiAgICAgICAgICBpZiAoY2hhbmdlZCB8fCAoY2hhbmdlZCA9ICFleHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrKG5ld0lucHV0VmFsdWUsIG9sZElucHV0VmFsdWVPZlZhbHVlc1tpXSkpKSB7XG4gICAgICAgICAgICBvbGRJbnB1dFZhbHVlT2ZWYWx1ZXNbaV0gPSBuZXdJbnB1dFZhbHVlICYmIGdldFZhbHVlT2YobmV3SW5wdXRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgICBsYXN0UmVzdWx0ID0gcGFyc2VkRXhwcmVzc2lvbihzY29wZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbGFzdFJlc3VsdDtcbiAgICAgIH0sIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25lVGltZVdhdGNoRGVsZWdhdGUoc2NvcGUsIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSwgcGFyc2VkRXhwcmVzc2lvbikge1xuICAgICAgdmFyIHVud2F0Y2gsIGxhc3RWYWx1ZTtcbiAgICAgIHJldHVybiB1bndhdGNoID0gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIG9uZVRpbWVXYXRjaChzY29wZSkge1xuICAgICAgICByZXR1cm4gcGFyc2VkRXhwcmVzc2lvbihzY29wZSk7XG4gICAgICB9LCBmdW5jdGlvbiBvbmVUaW1lTGlzdGVuZXIodmFsdWUsIG9sZCwgc2NvcGUpIHtcbiAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVyKSkge1xuICAgICAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICBzY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKGxhc3RWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgdW53YXRjaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCBvYmplY3RFcXVhbGl0eSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25lVGltZUxpdGVyYWxXYXRjaERlbGVnYXRlKHNjb3BlLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHBhcnNlZEV4cHJlc3Npb24pIHtcbiAgICAgIHZhciB1bndhdGNoLCBsYXN0VmFsdWU7XG4gICAgICByZXR1cm4gdW53YXRjaCA9IHNjb3BlLiR3YXRjaChmdW5jdGlvbiBvbmVUaW1lV2F0Y2goc2NvcGUpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlZEV4cHJlc3Npb24oc2NvcGUpO1xuICAgICAgfSwgZnVuY3Rpb24gb25lVGltZUxpc3RlbmVyKHZhbHVlLCBvbGQsIHNjb3BlKSB7XG4gICAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcikpIHtcbiAgICAgICAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIHZhbHVlLCBvbGQsIHNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBbGxEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgIHNjb3BlLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChpc0FsbERlZmluZWQobGFzdFZhbHVlKSkgdW53YXRjaCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCBvYmplY3RFcXVhbGl0eSk7XG5cbiAgICAgIGZ1bmN0aW9uIGlzQWxsRGVmaW5lZCh2YWx1ZSkge1xuICAgICAgICB2YXIgYWxsRGVmaW5lZCA9IHRydWU7XG4gICAgICAgIGZvckVhY2godmFsdWUsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgIGlmICghaXNEZWZpbmVkKHZhbCkpIGFsbERlZmluZWQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBhbGxEZWZpbmVkO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbnN0YW50V2F0Y2hEZWxlZ2F0ZShzY29wZSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwYXJzZWRFeHByZXNzaW9uKSB7XG4gICAgICB2YXIgdW53YXRjaDtcbiAgICAgIHJldHVybiB1bndhdGNoID0gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIGNvbnN0YW50V2F0Y2goc2NvcGUpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlZEV4cHJlc3Npb24oc2NvcGUpO1xuICAgICAgfSwgZnVuY3Rpb24gY29uc3RhbnRMaXN0ZW5lcih2YWx1ZSwgb2xkLCBzY29wZSkge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcikpIHtcbiAgICAgICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIHVud2F0Y2goKTtcbiAgICAgIH0sIG9iamVjdEVxdWFsaXR5KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRJbnRlcmNlcHRvcihwYXJzZWRFeHByZXNzaW9uLCBpbnRlcmNlcHRvckZuKSB7XG4gICAgICBpZiAoIWludGVyY2VwdG9yRm4pIHJldHVybiBwYXJzZWRFeHByZXNzaW9uO1xuXG4gICAgICB2YXIgZm4gPSBmdW5jdGlvbiBpbnRlcmNlcHRlZEV4cHJlc3Npb24oc2NvcGUsIGxvY2Fscykge1xuICAgICAgICB2YXIgdmFsdWUgPSBwYXJzZWRFeHByZXNzaW9uKHNjb3BlLCBsb2NhbHMpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gaW50ZXJjZXB0b3JGbih2YWx1ZSwgc2NvcGUsIGxvY2Fscyk7XG4gICAgICAgIC8vIHdlIG9ubHkgcmV0dXJuIHRoZSBpbnRlcmNlcHRvcidzIHJlc3VsdCBpZiB0aGVcbiAgICAgICAgLy8gaW5pdGlhbCB2YWx1ZSBpcyBkZWZpbmVkIChmb3IgYmluZC1vbmNlKVxuICAgICAgICByZXR1cm4gaXNEZWZpbmVkKHZhbHVlKSA/IHJlc3VsdCA6IHZhbHVlO1xuICAgICAgfTtcblxuICAgICAgLy8gUHJvcGFnYXRlICQkd2F0Y2hEZWxlZ2F0ZXMgb3RoZXIgdGhlbiBpbnB1dHNXYXRjaERlbGVnYXRlXG4gICAgICBpZiAocGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGUgJiZcbiAgICAgICAgICBwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZSAhPT0gaW5wdXRzV2F0Y2hEZWxlZ2F0ZSkge1xuICAgICAgICBmbi4kJHdhdGNoRGVsZWdhdGUgPSBwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZTtcbiAgICAgIH0gZWxzZSBpZiAoIWludGVyY2VwdG9yRm4uJHN0YXRlZnVsKSB7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGFuIGludGVyY2VwdG9yLCBidXQgbm8gd2F0Y2hEZWxlZ2F0ZSB0aGVuIHRyZWF0IHRoZSBpbnRlcmNlcHRvciBsaWtlXG4gICAgICAgIC8vIHdlIHRyZWF0IGZpbHRlcnMgLSBpdCBpcyBhc3N1bWVkIHRvIGJlIGEgcHVyZSBmdW5jdGlvbiB1bmxlc3MgZmxhZ2dlZCB3aXRoICRzdGF0ZWZ1bFxuICAgICAgICBmbi4kJHdhdGNoRGVsZWdhdGUgPSBpbnB1dHNXYXRjaERlbGVnYXRlO1xuICAgICAgICBmbi5pbnB1dHMgPSBbcGFyc2VkRXhwcmVzc2lvbl07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmbjtcbiAgICB9XG4gIH1dO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkcVxuICogQHJlcXVpcmVzICRyb290U2NvcGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEEgcHJvbWlzZS9kZWZlcnJlZCBpbXBsZW1lbnRhdGlvbiBpbnNwaXJlZCBieSBbS3JpcyBLb3dhbCdzIFFdKGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvcSkuXG4gKlxuICogJHEgY2FuIGJlIHVzZWQgaW4gdHdvIGZhc2hpb25zIC0tLSBvbmUgd2hpY2ggaXMgbW9yZSBzaW1pbGFyIHRvIEtyaXMgS293YWwncyBRIG9yIGpRdWVyeSdzIERlZmVycmVkXG4gKiBpbXBsZW1lbnRhdGlvbnMsIGFuZCB0aGUgb3RoZXIgd2hpY2ggcmVzZW1ibGVzIEVTNiBwcm9taXNlcyB0byBzb21lIGRlZ3JlZS5cbiAqXG4gKiAjICRxIGNvbnN0cnVjdG9yXG4gKlxuICogVGhlIHN0cmVhbWxpbmVkIEVTNiBzdHlsZSBwcm9taXNlIGlzIGVzc2VudGlhbGx5IGp1c3QgdXNpbmcgJHEgYXMgYSBjb25zdHJ1Y3RvciB3aGljaCB0YWtlcyBhIGByZXNvbHZlcmBcbiAqIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudC4gVGhpcyBpcyBzaW1pbGFyIHRvIHRoZSBuYXRpdmUgUHJvbWlzZSBpbXBsZW1lbnRhdGlvbiBmcm9tIEVTNiBIYXJtb255LFxuICogc2VlIFtNRE5dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1Byb21pc2UpLlxuICpcbiAqIFdoaWxlIHRoZSBjb25zdHJ1Y3Rvci1zdHlsZSB1c2UgaXMgc3VwcG9ydGVkLCBub3QgYWxsIG9mIHRoZSBzdXBwb3J0aW5nIG1ldGhvZHMgZnJvbSBFUzYgSGFybW9ueSBwcm9taXNlcyBhcmVcbiAqIGF2YWlsYWJsZSB5ZXQuXG4gKlxuICogSXQgY2FuIGJlIHVzZWQgbGlrZSBzbzpcbiAqXG4gKiBgYGBqc1xuICogICAvLyBmb3IgdGhlIHB1cnBvc2Ugb2YgdGhpcyBleGFtcGxlIGxldCdzIGFzc3VtZSB0aGF0IHZhcmlhYmxlcyBgJHFgIGFuZCBgb2tUb0dyZWV0YFxuICogICAvLyBhcmUgYXZhaWxhYmxlIGluIHRoZSBjdXJyZW50IGxleGljYWwgc2NvcGUgKHRoZXkgY291bGQgaGF2ZSBiZWVuIGluamVjdGVkIG9yIHBhc3NlZCBpbikuXG4gKlxuICogICBmdW5jdGlvbiBhc3luY0dyZWV0KG5hbWUpIHtcbiAqICAgICAvLyBwZXJmb3JtIHNvbWUgYXN5bmNocm9ub3VzIG9wZXJhdGlvbiwgcmVzb2x2ZSBvciByZWplY3QgdGhlIHByb21pc2Ugd2hlbiBhcHByb3ByaWF0ZS5cbiAqICAgICByZXR1cm4gJHEoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gKiAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICogICAgICAgICBpZiAob2tUb0dyZWV0KG5hbWUpKSB7XG4gKiAgICAgICAgICAgcmVzb2x2ZSgnSGVsbG8sICcgKyBuYW1lICsgJyEnKTtcbiAqICAgICAgICAgfSBlbHNlIHtcbiAqICAgICAgICAgICByZWplY3QoJ0dyZWV0aW5nICcgKyBuYW1lICsgJyBpcyBub3QgYWxsb3dlZC4nKTtcbiAqICAgICAgICAgfVxuICogICAgICAgfSwgMTAwMCk7XG4gKiAgICAgfSk7XG4gKiAgIH1cbiAqXG4gKiAgIHZhciBwcm9taXNlID0gYXN5bmNHcmVldCgnUm9iaW4gSG9vZCcpO1xuICogICBwcm9taXNlLnRoZW4oZnVuY3Rpb24oZ3JlZXRpbmcpIHtcbiAqICAgICBhbGVydCgnU3VjY2VzczogJyArIGdyZWV0aW5nKTtcbiAqICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gKiAgICAgYWxlcnQoJ0ZhaWxlZDogJyArIHJlYXNvbik7XG4gKiAgIH0pO1xuICogYGBgXG4gKlxuICogTm90ZTogcHJvZ3Jlc3Mvbm90aWZ5IGNhbGxiYWNrcyBhcmUgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQgdmlhIHRoZSBFUzYtc3R5bGUgaW50ZXJmYWNlLlxuICpcbiAqIEhvd2V2ZXIsIHRoZSBtb3JlIHRyYWRpdGlvbmFsIENvbW1vbkpTLXN0eWxlIHVzYWdlIGlzIHN0aWxsIGF2YWlsYWJsZSwgYW5kIGRvY3VtZW50ZWQgYmVsb3cuXG4gKlxuICogW1RoZSBDb21tb25KUyBQcm9taXNlIHByb3Bvc2FsXShodHRwOi8vd2lraS5jb21tb25qcy5vcmcvd2lraS9Qcm9taXNlcykgZGVzY3JpYmVzIGEgcHJvbWlzZSBhcyBhblxuICogaW50ZXJmYWNlIGZvciBpbnRlcmFjdGluZyB3aXRoIGFuIG9iamVjdCB0aGF0IHJlcHJlc2VudHMgdGhlIHJlc3VsdCBvZiBhbiBhY3Rpb24gdGhhdCBpc1xuICogcGVyZm9ybWVkIGFzeW5jaHJvbm91c2x5LCBhbmQgbWF5IG9yIG1heSBub3QgYmUgZmluaXNoZWQgYXQgYW55IGdpdmVuIHBvaW50IGluIHRpbWUuXG4gKlxuICogRnJvbSB0aGUgcGVyc3BlY3RpdmUgb2YgZGVhbGluZyB3aXRoIGVycm9yIGhhbmRsaW5nLCBkZWZlcnJlZCBhbmQgcHJvbWlzZSBBUElzIGFyZSB0b1xuICogYXN5bmNocm9ub3VzIHByb2dyYW1taW5nIHdoYXQgYHRyeWAsIGBjYXRjaGAgYW5kIGB0aHJvd2Aga2V5d29yZHMgYXJlIHRvIHN5bmNocm9ub3VzIHByb2dyYW1taW5nLlxuICpcbiAqIGBgYGpzXG4gKiAgIC8vIGZvciB0aGUgcHVycG9zZSBvZiB0aGlzIGV4YW1wbGUgbGV0J3MgYXNzdW1lIHRoYXQgdmFyaWFibGVzIGAkcWAgYW5kIGBva1RvR3JlZXRgXG4gKiAgIC8vIGFyZSBhdmFpbGFibGUgaW4gdGhlIGN1cnJlbnQgbGV4aWNhbCBzY29wZSAodGhleSBjb3VsZCBoYXZlIGJlZW4gaW5qZWN0ZWQgb3IgcGFzc2VkIGluKS5cbiAqXG4gKiAgIGZ1bmN0aW9uIGFzeW5jR3JlZXQobmFtZSkge1xuICogICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gKlxuICogICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gKiAgICAgICBkZWZlcnJlZC5ub3RpZnkoJ0Fib3V0IHRvIGdyZWV0ICcgKyBuYW1lICsgJy4nKTtcbiAqXG4gKiAgICAgICBpZiAob2tUb0dyZWV0KG5hbWUpKSB7XG4gKiAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJ0hlbGxvLCAnICsgbmFtZSArICchJyk7XG4gKiAgICAgICB9IGVsc2Uge1xuICogICAgICAgICBkZWZlcnJlZC5yZWplY3QoJ0dyZWV0aW5nICcgKyBuYW1lICsgJyBpcyBub3QgYWxsb3dlZC4nKTtcbiAqICAgICAgIH1cbiAqICAgICB9LCAxMDAwKTtcbiAqXG4gKiAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gKiAgIH1cbiAqXG4gKiAgIHZhciBwcm9taXNlID0gYXN5bmNHcmVldCgnUm9iaW4gSG9vZCcpO1xuICogICBwcm9taXNlLnRoZW4oZnVuY3Rpb24oZ3JlZXRpbmcpIHtcbiAqICAgICBhbGVydCgnU3VjY2VzczogJyArIGdyZWV0aW5nKTtcbiAqICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gKiAgICAgYWxlcnQoJ0ZhaWxlZDogJyArIHJlYXNvbik7XG4gKiAgIH0sIGZ1bmN0aW9uKHVwZGF0ZSkge1xuICogICAgIGFsZXJ0KCdHb3Qgbm90aWZpY2F0aW9uOiAnICsgdXBkYXRlKTtcbiAqICAgfSk7XG4gKiBgYGBcbiAqXG4gKiBBdCBmaXJzdCBpdCBtaWdodCBub3QgYmUgb2J2aW91cyB3aHkgdGhpcyBleHRyYSBjb21wbGV4aXR5IGlzIHdvcnRoIHRoZSB0cm91YmxlLiBUaGUgcGF5b2ZmXG4gKiBjb21lcyBpbiB0aGUgd2F5IG9mIGd1YXJhbnRlZXMgdGhhdCBwcm9taXNlIGFuZCBkZWZlcnJlZCBBUElzIG1ha2UsIHNlZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC91bmNvbW1vbmpzL2Jsb2IvbWFzdGVyL3Byb21pc2VzL3NwZWNpZmljYXRpb24ubWQuXG4gKlxuICogQWRkaXRpb25hbGx5IHRoZSBwcm9taXNlIGFwaSBhbGxvd3MgZm9yIGNvbXBvc2l0aW9uIHRoYXQgaXMgdmVyeSBoYXJkIHRvIGRvIHdpdGggdGhlXG4gKiB0cmFkaXRpb25hbCBjYWxsYmFjayAoW0NQU10oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db250aW51YXRpb24tcGFzc2luZ19zdHlsZSkpIGFwcHJvYWNoLlxuICogRm9yIG1vcmUgb24gdGhpcyBwbGVhc2Ugc2VlIHRoZSBbUSBkb2N1bWVudGF0aW9uXShodHRwczovL2dpdGh1Yi5jb20va3Jpc2tvd2FsL3EpIGVzcGVjaWFsbHkgdGhlXG4gKiBzZWN0aW9uIG9uIHNlcmlhbCBvciBwYXJhbGxlbCBqb2luaW5nIG9mIHByb21pc2VzLlxuICpcbiAqICMgVGhlIERlZmVycmVkIEFQSVxuICpcbiAqIEEgbmV3IGluc3RhbmNlIG9mIGRlZmVycmVkIGlzIGNvbnN0cnVjdGVkIGJ5IGNhbGxpbmcgYCRxLmRlZmVyKClgLlxuICpcbiAqIFRoZSBwdXJwb3NlIG9mIHRoZSBkZWZlcnJlZCBvYmplY3QgaXMgdG8gZXhwb3NlIHRoZSBhc3NvY2lhdGVkIFByb21pc2UgaW5zdGFuY2UgYXMgd2VsbCBhcyBBUElzXG4gKiB0aGF0IGNhbiBiZSB1c2VkIGZvciBzaWduYWxpbmcgdGhlIHN1Y2Nlc3NmdWwgb3IgdW5zdWNjZXNzZnVsIGNvbXBsZXRpb24sIGFzIHdlbGwgYXMgdGhlIHN0YXR1c1xuICogb2YgdGhlIHRhc2suXG4gKlxuICogKipNZXRob2RzKipcbiAqXG4gKiAtIGByZXNvbHZlKHZhbHVlKWAg4oCTIHJlc29sdmVzIHRoZSBkZXJpdmVkIHByb21pc2Ugd2l0aCB0aGUgYHZhbHVlYC4gSWYgdGhlIHZhbHVlIGlzIGEgcmVqZWN0aW9uXG4gKiAgIGNvbnN0cnVjdGVkIHZpYSBgJHEucmVqZWN0YCwgdGhlIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZCBpbnN0ZWFkLlxuICogLSBgcmVqZWN0KHJlYXNvbilgIOKAkyByZWplY3RzIHRoZSBkZXJpdmVkIHByb21pc2Ugd2l0aCB0aGUgYHJlYXNvbmAuIFRoaXMgaXMgZXF1aXZhbGVudCB0b1xuICogICByZXNvbHZpbmcgaXQgd2l0aCBhIHJlamVjdGlvbiBjb25zdHJ1Y3RlZCB2aWEgYCRxLnJlamVjdGAuXG4gKiAtIGBub3RpZnkodmFsdWUpYCAtIHByb3ZpZGVzIHVwZGF0ZXMgb24gdGhlIHN0YXR1cyBvZiB0aGUgcHJvbWlzZSdzIGV4ZWN1dGlvbi4gVGhpcyBtYXkgYmUgY2FsbGVkXG4gKiAgIG11bHRpcGxlIHRpbWVzIGJlZm9yZSB0aGUgcHJvbWlzZSBpcyBlaXRoZXIgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQuXG4gKlxuICogKipQcm9wZXJ0aWVzKipcbiAqXG4gKiAtIHByb21pc2Ug4oCTIGB7UHJvbWlzZX1gIOKAkyBwcm9taXNlIG9iamVjdCBhc3NvY2lhdGVkIHdpdGggdGhpcyBkZWZlcnJlZC5cbiAqXG4gKlxuICogIyBUaGUgUHJvbWlzZSBBUElcbiAqXG4gKiBBIG5ldyBwcm9taXNlIGluc3RhbmNlIGlzIGNyZWF0ZWQgd2hlbiBhIGRlZmVycmVkIGluc3RhbmNlIGlzIGNyZWF0ZWQgYW5kIGNhbiBiZSByZXRyaWV2ZWQgYnlcbiAqIGNhbGxpbmcgYGRlZmVycmVkLnByb21pc2VgLlxuICpcbiAqIFRoZSBwdXJwb3NlIG9mIHRoZSBwcm9taXNlIG9iamVjdCBpcyB0byBhbGxvdyBmb3IgaW50ZXJlc3RlZCBwYXJ0aWVzIHRvIGdldCBhY2Nlc3MgdG8gdGhlIHJlc3VsdFxuICogb2YgdGhlIGRlZmVycmVkIHRhc2sgd2hlbiBpdCBjb21wbGV0ZXMuXG4gKlxuICogKipNZXRob2RzKipcbiAqXG4gKiAtIGB0aGVuKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgbm90aWZ5Q2FsbGJhY2spYCDigJMgcmVnYXJkbGVzcyBvZiB3aGVuIHRoZSBwcm9taXNlIHdhcyBvclxuICogICB3aWxsIGJlIHJlc29sdmVkIG9yIHJlamVjdGVkLCBgdGhlbmAgY2FsbHMgb25lIG9mIHRoZSBzdWNjZXNzIG9yIGVycm9yIGNhbGxiYWNrcyBhc3luY2hyb25vdXNseVxuICogICBhcyBzb29uIGFzIHRoZSByZXN1bHQgaXMgYXZhaWxhYmxlLiBUaGUgY2FsbGJhY2tzIGFyZSBjYWxsZWQgd2l0aCBhIHNpbmdsZSBhcmd1bWVudDogdGhlIHJlc3VsdFxuICogICBvciByZWplY3Rpb24gcmVhc29uLiBBZGRpdGlvbmFsbHksIHRoZSBub3RpZnkgY2FsbGJhY2sgbWF5IGJlIGNhbGxlZCB6ZXJvIG9yIG1vcmUgdGltZXMgdG9cbiAqICAgcHJvdmlkZSBhIHByb2dyZXNzIGluZGljYXRpb24sIGJlZm9yZSB0aGUgcHJvbWlzZSBpcyByZXNvbHZlZCBvciByZWplY3RlZC5cbiAqXG4gKiAgIFRoaXMgbWV0aG9kICpyZXR1cm5zIGEgbmV3IHByb21pc2UqIHdoaWNoIGlzIHJlc29sdmVkIG9yIHJlamVjdGVkIHZpYSB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZVxuICogICBgc3VjY2Vzc0NhbGxiYWNrYCwgYGVycm9yQ2FsbGJhY2tgLiBJdCBhbHNvIG5vdGlmaWVzIHZpYSB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZVxuICogICBgbm90aWZ5Q2FsbGJhY2tgIG1ldGhvZC4gVGhlIHByb21pc2UgY2Fubm90IGJlIHJlc29sdmVkIG9yIHJlamVjdGVkIGZyb20gdGhlIG5vdGlmeUNhbGxiYWNrXG4gKiAgIG1ldGhvZC5cbiAqXG4gKiAtIGBjYXRjaChlcnJvckNhbGxiYWNrKWAg4oCTIHNob3J0aGFuZCBmb3IgYHByb21pc2UudGhlbihudWxsLCBlcnJvckNhbGxiYWNrKWBcbiAqXG4gKiAtIGBmaW5hbGx5KGNhbGxiYWNrKWAg4oCTIGFsbG93cyB5b3UgdG8gb2JzZXJ2ZSBlaXRoZXIgdGhlIGZ1bGZpbGxtZW50IG9yIHJlamVjdGlvbiBvZiBhIHByb21pc2UsXG4gKiAgIGJ1dCB0byBkbyBzbyB3aXRob3V0IG1vZGlmeWluZyB0aGUgZmluYWwgdmFsdWUuIFRoaXMgaXMgdXNlZnVsIHRvIHJlbGVhc2UgcmVzb3VyY2VzIG9yIGRvIHNvbWVcbiAqICAgY2xlYW4tdXAgdGhhdCBuZWVkcyB0byBiZSBkb25lIHdoZXRoZXIgdGhlIHByb21pc2Ugd2FzIHJlamVjdGVkIG9yIHJlc29sdmVkLiBTZWUgdGhlIFtmdWxsXG4gKiAgIHNwZWNpZmljYXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvcS93aWtpL0FQSS1SZWZlcmVuY2UjcHJvbWlzZWZpbmFsbHljYWxsYmFjaykgZm9yXG4gKiAgIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogICBCZWNhdXNlIGBmaW5hbGx5YCBpcyBhIHJlc2VydmVkIHdvcmQgaW4gSmF2YVNjcmlwdCBhbmQgcmVzZXJ2ZWQga2V5d29yZHMgYXJlIG5vdCBzdXBwb3J0ZWQgYXNcbiAqICAgcHJvcGVydHkgbmFtZXMgYnkgRVMzLCB5b3UnbGwgbmVlZCB0byBpbnZva2UgdGhlIG1ldGhvZCBsaWtlIGBwcm9taXNlWydmaW5hbGx5J10oY2FsbGJhY2spYCB0b1xuICogICBtYWtlIHlvdXIgY29kZSBJRTggYW5kIEFuZHJvaWQgMi54IGNvbXBhdGlibGUuXG4gKlxuICogIyBDaGFpbmluZyBwcm9taXNlc1xuICpcbiAqIEJlY2F1c2UgY2FsbGluZyB0aGUgYHRoZW5gIG1ldGhvZCBvZiBhIHByb21pc2UgcmV0dXJucyBhIG5ldyBkZXJpdmVkIHByb21pc2UsIGl0IGlzIGVhc2lseVxuICogcG9zc2libGUgdG8gY3JlYXRlIGEgY2hhaW4gb2YgcHJvbWlzZXM6XG4gKlxuICogYGBganNcbiAqICAgcHJvbWlzZUIgPSBwcm9taXNlQS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICogICAgIHJldHVybiByZXN1bHQgKyAxO1xuICogICB9KTtcbiAqXG4gKiAgIC8vIHByb21pc2VCIHdpbGwgYmUgcmVzb2x2ZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgcHJvbWlzZUEgaXMgcmVzb2x2ZWQgYW5kIGl0cyB2YWx1ZVxuICogICAvLyB3aWxsIGJlIHRoZSByZXN1bHQgb2YgcHJvbWlzZUEgaW5jcmVtZW50ZWQgYnkgMVxuICogYGBgXG4gKlxuICogSXQgaXMgcG9zc2libGUgdG8gY3JlYXRlIGNoYWlucyBvZiBhbnkgbGVuZ3RoIGFuZCBzaW5jZSBhIHByb21pc2UgY2FuIGJlIHJlc29sdmVkIHdpdGggYW5vdGhlclxuICogcHJvbWlzZSAod2hpY2ggd2lsbCBkZWZlciBpdHMgcmVzb2x1dGlvbiBmdXJ0aGVyKSwgaXQgaXMgcG9zc2libGUgdG8gcGF1c2UvZGVmZXIgcmVzb2x1dGlvbiBvZlxuICogdGhlIHByb21pc2VzIGF0IGFueSBwb2ludCBpbiB0aGUgY2hhaW4uIFRoaXMgbWFrZXMgaXQgcG9zc2libGUgdG8gaW1wbGVtZW50IHBvd2VyZnVsIEFQSXMgbGlrZVxuICogJGh0dHAncyByZXNwb25zZSBpbnRlcmNlcHRvcnMuXG4gKlxuICpcbiAqICMgRGlmZmVyZW5jZXMgYmV0d2VlbiBLcmlzIEtvd2FsJ3MgUSBhbmQgJHFcbiAqXG4gKiAgVGhlcmUgYXJlIHR3byBtYWluIGRpZmZlcmVuY2VzOlxuICpcbiAqIC0gJHEgaXMgaW50ZWdyYXRlZCB3aXRoIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZX0gU2NvcGUgbW9kZWwgb2JzZXJ2YXRpb25cbiAqICAgbWVjaGFuaXNtIGluIGFuZ3VsYXIsIHdoaWNoIG1lYW5zIGZhc3RlciBwcm9wYWdhdGlvbiBvZiByZXNvbHV0aW9uIG9yIHJlamVjdGlvbiBpbnRvIHlvdXJcbiAqICAgbW9kZWxzIGFuZCBhdm9pZGluZyB1bm5lY2Vzc2FyeSBicm93c2VyIHJlcGFpbnRzLCB3aGljaCB3b3VsZCByZXN1bHQgaW4gZmxpY2tlcmluZyBVSS5cbiAqIC0gUSBoYXMgbWFueSBtb3JlIGZlYXR1cmVzIHRoYW4gJHEsIGJ1dCB0aGF0IGNvbWVzIGF0IGEgY29zdCBvZiBieXRlcy4gJHEgaXMgdGlueSwgYnV0IGNvbnRhaW5zXG4gKiAgIGFsbCB0aGUgaW1wb3J0YW50IGZ1bmN0aW9uYWxpdHkgbmVlZGVkIGZvciBjb21tb24gYXN5bmMgdGFza3MuXG4gKlxuICogICMgVGVzdGluZ1xuICpcbiAqICBgYGBqc1xuICogICAgaXQoJ3Nob3VsZCBzaW11bGF0ZSBwcm9taXNlJywgaW5qZWN0KGZ1bmN0aW9uKCRxLCAkcm9vdFNjb3BlKSB7XG4gKiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gKiAgICAgIHZhciBwcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZTtcbiAqICAgICAgdmFyIHJlc29sdmVkVmFsdWU7XG4gKlxuICogICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpIHsgcmVzb2x2ZWRWYWx1ZSA9IHZhbHVlOyB9KTtcbiAqICAgICAgZXhwZWN0KHJlc29sdmVkVmFsdWUpLnRvQmVVbmRlZmluZWQoKTtcbiAqXG4gKiAgICAgIC8vIFNpbXVsYXRlIHJlc29sdmluZyBvZiBwcm9taXNlXG4gKiAgICAgIGRlZmVycmVkLnJlc29sdmUoMTIzKTtcbiAqICAgICAgLy8gTm90ZSB0aGF0IHRoZSAndGhlbicgZnVuY3Rpb24gZG9lcyBub3QgZ2V0IGNhbGxlZCBzeW5jaHJvbm91c2x5LlxuICogICAgICAvLyBUaGlzIGlzIGJlY2F1c2Ugd2Ugd2FudCB0aGUgcHJvbWlzZSBBUEkgdG8gYWx3YXlzIGJlIGFzeW5jLCB3aGV0aGVyIG9yIG5vdFxuICogICAgICAvLyBpdCBnb3QgY2FsbGVkIHN5bmNocm9ub3VzbHkgb3IgYXN5bmNocm9ub3VzbHkuXG4gKiAgICAgIGV4cGVjdChyZXNvbHZlZFZhbHVlKS50b0JlVW5kZWZpbmVkKCk7XG4gKlxuICogICAgICAvLyBQcm9wYWdhdGUgcHJvbWlzZSByZXNvbHV0aW9uIHRvICd0aGVuJyBmdW5jdGlvbnMgdXNpbmcgJGFwcGx5KCkuXG4gKiAgICAgICRyb290U2NvcGUuJGFwcGx5KCk7XG4gKiAgICAgIGV4cGVjdChyZXNvbHZlZFZhbHVlKS50b0VxdWFsKDEyMyk7XG4gKiAgICB9KSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbihmdW5jdGlvbiwgZnVuY3Rpb24pfSByZXNvbHZlciBGdW5jdGlvbiB3aGljaCBpcyByZXNwb25zaWJsZSBmb3IgcmVzb2x2aW5nIG9yXG4gKiAgIHJlamVjdGluZyB0aGUgbmV3bHkgY3JlYXRlZCBwcm9taXNlLiBUaGUgZmlyc3QgcGFyYW1ldGVyIGlzIGEgZnVuY3Rpb24gd2hpY2ggcmVzb2x2ZXMgdGhlXG4gKiAgIHByb21pc2UsIHRoZSBzZWNvbmQgcGFyYW1ldGVyIGlzIGEgZnVuY3Rpb24gd2hpY2ggcmVqZWN0cyB0aGUgcHJvbWlzZS5cbiAqXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIG5ld2x5IGNyZWF0ZWQgcHJvbWlzZS5cbiAqL1xuZnVuY3Rpb24gJFFQcm92aWRlcigpIHtcblxuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGV4Y2VwdGlvbkhhbmRsZXInLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkZXhjZXB0aW9uSGFuZGxlcikge1xuICAgIHJldHVybiBxRmFjdG9yeShmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKGNhbGxiYWNrKTtcbiAgICB9LCAkZXhjZXB0aW9uSGFuZGxlcik7XG4gIH1dO1xufVxuXG5mdW5jdGlvbiAkJFFQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckYnJvd3NlcicsICckZXhjZXB0aW9uSGFuZGxlcicsIGZ1bmN0aW9uKCRicm93c2VyLCAkZXhjZXB0aW9uSGFuZGxlcikge1xuICAgIHJldHVybiBxRmFjdG9yeShmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgJGJyb3dzZXIuZGVmZXIoY2FsbGJhY2spO1xuICAgIH0sICRleGNlcHRpb25IYW5kbGVyKTtcbiAgfV07XG59XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIHByb21pc2UgbWFuYWdlci5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGZ1bmN0aW9uKX0gbmV4dFRpY2sgRnVuY3Rpb24gZm9yIGV4ZWN1dGluZyBmdW5jdGlvbnMgaW4gdGhlIG5leHQgdHVybi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oLi4uKil9IGV4Y2VwdGlvbkhhbmRsZXIgRnVuY3Rpb24gaW50byB3aGljaCB1bmV4cGVjdGVkIGV4Y2VwdGlvbnMgYXJlIHBhc3NlZCBmb3JcbiAqICAgICBkZWJ1Z2dpbmcgcHVycG9zZXMuXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBQcm9taXNlIG1hbmFnZXIuXG4gKi9cbmZ1bmN0aW9uIHFGYWN0b3J5KG5leHRUaWNrLCBleGNlcHRpb25IYW5kbGVyKSB7XG4gIHZhciAkcU1pbkVyciA9IG1pbkVycignJHEnLCBUeXBlRXJyb3IpO1xuICBmdW5jdGlvbiBjYWxsT25jZShzZWxmLCByZXNvbHZlRm4sIHJlamVjdEZuKSB7XG4gICAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIHdyYXAoZm4pIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAoY2FsbGVkKSByZXR1cm47XG4gICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgIGZuLmNhbGwoc2VsZiwgdmFsdWUpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gW3dyYXAocmVzb2x2ZUZuKSwgd3JhcChyZWplY3RGbildO1xuICB9XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmcuJHEjZGVmZXJcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENyZWF0ZXMgYSBgRGVmZXJyZWRgIG9iamVjdCB3aGljaCByZXByZXNlbnRzIGEgdGFzayB3aGljaCB3aWxsIGZpbmlzaCBpbiB0aGUgZnV0dXJlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7RGVmZXJyZWR9IFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgZGVmZXJyZWQuXG4gICAqL1xuICB2YXIgZGVmZXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IERlZmVycmVkKCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gUHJvbWlzZSgpIHtcbiAgICB0aGlzLiQkc3RhdGUgPSB7IHN0YXR1czogMCB9O1xuICB9XG5cbiAgUHJvbWlzZS5wcm90b3R5cGUgPSB7XG4gICAgdGhlbjogZnVuY3Rpb24ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIHByb2dyZXNzQmFjaykge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBEZWZlcnJlZCgpO1xuXG4gICAgICB0aGlzLiQkc3RhdGUucGVuZGluZyA9IHRoaXMuJCRzdGF0ZS5wZW5kaW5nIHx8IFtdO1xuICAgICAgdGhpcy4kJHN0YXRlLnBlbmRpbmcucHVzaChbcmVzdWx0LCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgcHJvZ3Jlc3NCYWNrXSk7XG4gICAgICBpZiAodGhpcy4kJHN0YXRlLnN0YXR1cyA+IDApIHNjaGVkdWxlUHJvY2Vzc1F1ZXVlKHRoaXMuJCRzdGF0ZSk7XG5cbiAgICAgIHJldHVybiByZXN1bHQucHJvbWlzZTtcbiAgICB9LFxuXG4gICAgXCJjYXRjaFwiOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBjYWxsYmFjayk7XG4gICAgfSxcblxuICAgIFwiZmluYWxseVwiOiBmdW5jdGlvbihjYWxsYmFjaywgcHJvZ3Jlc3NCYWNrKSB7XG4gICAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVDYWxsYmFjayh2YWx1ZSwgdHJ1ZSwgY2FsbGJhY2spO1xuICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZUNhbGxiYWNrKGVycm9yLCBmYWxzZSwgY2FsbGJhY2spO1xuICAgICAgfSwgcHJvZ3Jlc3NCYWNrKTtcbiAgICB9XG4gIH07XG5cbiAgLy9GYXN0ZXIsIG1vcmUgYmFzaWMgdGhhbiBhbmd1bGFyLmJpbmQgaHR0cDovL2pzcGVyZi5jb20vYW5ndWxhci1iaW5kLXZzLWN1c3RvbS12cy1uYXRpdmVcbiAgZnVuY3Rpb24gc2ltcGxlQmluZChjb250ZXh0LCBmbikge1xuICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgZm4uY2FsbChjb250ZXh0LCB2YWx1ZSk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NRdWV1ZShzdGF0ZSkge1xuICAgIHZhciBmbiwgcHJvbWlzZSwgcGVuZGluZztcblxuICAgIHBlbmRpbmcgPSBzdGF0ZS5wZW5kaW5nO1xuICAgIHN0YXRlLnByb2Nlc3NTY2hlZHVsZWQgPSBmYWxzZTtcbiAgICBzdGF0ZS5wZW5kaW5nID0gdW5kZWZpbmVkO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHBlbmRpbmcubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgcHJvbWlzZSA9IHBlbmRpbmdbaV1bMF07XG4gICAgICBmbiA9IHBlbmRpbmdbaV1bc3RhdGUuc3RhdHVzXTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGZuKSkge1xuICAgICAgICAgIHByb21pc2UucmVzb2x2ZShmbihzdGF0ZS52YWx1ZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLnN0YXR1cyA9PT0gMSkge1xuICAgICAgICAgIHByb21pc2UucmVzb2x2ZShzdGF0ZS52YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvbWlzZS5yZWplY3Qoc3RhdGUudmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHByb21pc2UucmVqZWN0KGUpO1xuICAgICAgICBleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNjaGVkdWxlUHJvY2Vzc1F1ZXVlKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLnByb2Nlc3NTY2hlZHVsZWQgfHwgIXN0YXRlLnBlbmRpbmcpIHJldHVybjtcbiAgICBzdGF0ZS5wcm9jZXNzU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICBuZXh0VGljayhmdW5jdGlvbigpIHsgcHJvY2Vzc1F1ZXVlKHN0YXRlKTsgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBEZWZlcnJlZCgpIHtcbiAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZSgpO1xuICAgIC8vTmVjZXNzYXJ5IHRvIHN1cHBvcnQgdW5ib3VuZCBleGVjdXRpb24gOi9cbiAgICB0aGlzLnJlc29sdmUgPSBzaW1wbGVCaW5kKHRoaXMsIHRoaXMucmVzb2x2ZSk7XG4gICAgdGhpcy5yZWplY3QgPSBzaW1wbGVCaW5kKHRoaXMsIHRoaXMucmVqZWN0KTtcbiAgICB0aGlzLm5vdGlmeSA9IHNpbXBsZUJpbmQodGhpcywgdGhpcy5ub3RpZnkpO1xuICB9XG5cbiAgRGVmZXJyZWQucHJvdG90eXBlID0ge1xuICAgIHJlc29sdmU6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgaWYgKHRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cykgcmV0dXJuO1xuICAgICAgaWYgKHZhbCA9PT0gdGhpcy5wcm9taXNlKSB7XG4gICAgICAgIHRoaXMuJCRyZWplY3QoJHFNaW5FcnIoXG4gICAgICAgICAgJ3FjeWNsZScsXG4gICAgICAgICAgXCJFeHBlY3RlZCBwcm9taXNlIHRvIGJlIHJlc29sdmVkIHdpdGggdmFsdWUgb3RoZXIgdGhhbiBpdHNlbGYgJ3swfSdcIixcbiAgICAgICAgICB2YWwpKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLiQkcmVzb2x2ZSh2YWwpO1xuICAgICAgfVxuXG4gICAgfSxcblxuICAgICQkcmVzb2x2ZTogZnVuY3Rpb24odmFsKSB7XG4gICAgICB2YXIgdGhlbiwgZm5zO1xuXG4gICAgICBmbnMgPSBjYWxsT25jZSh0aGlzLCB0aGlzLiQkcmVzb2x2ZSwgdGhpcy4kJHJlamVjdCk7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoKGlzT2JqZWN0KHZhbCkgfHwgaXNGdW5jdGlvbih2YWwpKSkgdGhlbiA9IHZhbCAmJiB2YWwudGhlbjtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhlbikpIHtcbiAgICAgICAgICB0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXMgPSAtMTtcbiAgICAgICAgICB0aGVuLmNhbGwodmFsLCBmbnNbMF0sIGZuc1sxXSwgdGhpcy5ub3RpZnkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucHJvbWlzZS4kJHN0YXRlLnZhbHVlID0gdmFsO1xuICAgICAgICAgIHRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cyA9IDE7XG4gICAgICAgICAgc2NoZWR1bGVQcm9jZXNzUXVldWUodGhpcy5wcm9taXNlLiQkc3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGZuc1sxXShlKTtcbiAgICAgICAgZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVqZWN0OiBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgIGlmICh0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXMpIHJldHVybjtcbiAgICAgIHRoaXMuJCRyZWplY3QocmVhc29uKTtcbiAgICB9LFxuXG4gICAgJCRyZWplY3Q6IGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgdGhpcy5wcm9taXNlLiQkc3RhdGUudmFsdWUgPSByZWFzb247XG4gICAgICB0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXMgPSAyO1xuICAgICAgc2NoZWR1bGVQcm9jZXNzUXVldWUodGhpcy5wcm9taXNlLiQkc3RhdGUpO1xuICAgIH0sXG5cbiAgICBub3RpZnk6IGZ1bmN0aW9uKHByb2dyZXNzKSB7XG4gICAgICB2YXIgY2FsbGJhY2tzID0gdGhpcy5wcm9taXNlLiQkc3RhdGUucGVuZGluZztcblxuICAgICAgaWYgKCh0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXMgPD0gMCkgJiYgY2FsbGJhY2tzICYmIGNhbGxiYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgbmV4dFRpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGNhbGxiYWNrLCByZXN1bHQ7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gY2FsbGJhY2tzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGNhbGxiYWNrc1tpXVswXTtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2tzW2ldWzNdO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmVzdWx0Lm5vdGlmeShpc0Z1bmN0aW9uKGNhbGxiYWNrKSA/IGNhbGxiYWNrKHByb2dyZXNzKSA6IHByb2dyZXNzKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkcSNyZWplY3RcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENyZWF0ZXMgYSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgYXMgcmVqZWN0ZWQgd2l0aCB0aGUgc3BlY2lmaWVkIGByZWFzb25gLiBUaGlzIGFwaSBzaG91bGQgYmVcbiAgICogdXNlZCB0byBmb3J3YXJkIHJlamVjdGlvbiBpbiBhIGNoYWluIG9mIHByb21pc2VzLiBJZiB5b3UgYXJlIGRlYWxpbmcgd2l0aCB0aGUgbGFzdCBwcm9taXNlIGluXG4gICAqIGEgcHJvbWlzZSBjaGFpbiwgeW91IGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgaXQuXG4gICAqXG4gICAqIFdoZW4gY29tcGFyaW5nIGRlZmVycmVkcy9wcm9taXNlcyB0byB0aGUgZmFtaWxpYXIgYmVoYXZpb3Igb2YgdHJ5L2NhdGNoL3Rocm93LCB0aGluayBvZlxuICAgKiBgcmVqZWN0YCBhcyB0aGUgYHRocm93YCBrZXl3b3JkIGluIEphdmFTY3JpcHQuIFRoaXMgYWxzbyBtZWFucyB0aGF0IGlmIHlvdSBcImNhdGNoXCIgYW4gZXJyb3IgdmlhXG4gICAqIGEgcHJvbWlzZSBlcnJvciBjYWxsYmFjayBhbmQgeW91IHdhbnQgdG8gZm9yd2FyZCB0aGUgZXJyb3IgdG8gdGhlIHByb21pc2UgZGVyaXZlZCBmcm9tIHRoZVxuICAgKiBjdXJyZW50IHByb21pc2UsIHlvdSBoYXZlIHRvIFwicmV0aHJvd1wiIHRoZSBlcnJvciBieSByZXR1cm5pbmcgYSByZWplY3Rpb24gY29uc3RydWN0ZWQgdmlhXG4gICAqIGByZWplY3RgLlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAgIHByb21pc2VCID0gcHJvbWlzZUEudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICogICAgIC8vIHN1Y2Nlc3M6IGRvIHNvbWV0aGluZyBhbmQgcmVzb2x2ZSBwcm9taXNlQlxuICAgKiAgICAgLy8gICAgICAgICAgd2l0aCB0aGUgb2xkIG9yIGEgbmV3IHJlc3VsdFxuICAgKiAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICogICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICogICAgIC8vIGVycm9yOiBoYW5kbGUgdGhlIGVycm9yIGlmIHBvc3NpYmxlIGFuZFxuICAgKiAgICAgLy8gICAgICAgIHJlc29sdmUgcHJvbWlzZUIgd2l0aCBuZXdQcm9taXNlT3JWYWx1ZSxcbiAgICogICAgIC8vICAgICAgICBvdGhlcndpc2UgZm9yd2FyZCB0aGUgcmVqZWN0aW9uIHRvIHByb21pc2VCXG4gICAqICAgICBpZiAoY2FuSGFuZGxlKHJlYXNvbikpIHtcbiAgICogICAgICAvLyBoYW5kbGUgdGhlIGVycm9yIGFuZCByZWNvdmVyXG4gICAqICAgICAgcmV0dXJuIG5ld1Byb21pc2VPclZhbHVlO1xuICAgKiAgICAgfVxuICAgKiAgICAgcmV0dXJuICRxLnJlamVjdChyZWFzb24pO1xuICAgKiAgIH0pO1xuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHsqfSByZWFzb24gQ29uc3RhbnQsIG1lc3NhZ2UsIGV4Y2VwdGlvbiBvciBhbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSByZWplY3Rpb24gcmVhc29uLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmV0dXJucyBhIHByb21pc2UgdGhhdCB3YXMgYWxyZWFkeSByZXNvbHZlZCBhcyByZWplY3RlZCB3aXRoIHRoZSBgcmVhc29uYC5cbiAgICovXG4gIHZhciByZWplY3QgPSBmdW5jdGlvbihyZWFzb24pIHtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IERlZmVycmVkKCk7XG4gICAgcmVzdWx0LnJlamVjdChyZWFzb24pO1xuICAgIHJldHVybiByZXN1bHQucHJvbWlzZTtcbiAgfTtcblxuICB2YXIgbWFrZVByb21pc2UgPSBmdW5jdGlvbiBtYWtlUHJvbWlzZSh2YWx1ZSwgcmVzb2x2ZWQpIHtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IERlZmVycmVkKCk7XG4gICAgaWYgKHJlc29sdmVkKSB7XG4gICAgICByZXN1bHQucmVzb2x2ZSh2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5yZWplY3QodmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0LnByb21pc2U7XG4gIH07XG5cbiAgdmFyIGhhbmRsZUNhbGxiYWNrID0gZnVuY3Rpb24gaGFuZGxlQ2FsbGJhY2sodmFsdWUsIGlzUmVzb2x2ZWQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGNhbGxiYWNrT3V0cHV0ID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgaWYgKGlzRnVuY3Rpb24oY2FsbGJhY2spKSBjYWxsYmFja091dHB1dCA9IGNhbGxiYWNrKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIG1ha2VQcm9taXNlKGUsIGZhbHNlKTtcbiAgICB9XG4gICAgaWYgKGlzUHJvbWlzZUxpa2UoY2FsbGJhY2tPdXRwdXQpKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2tPdXRwdXQudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG1ha2VQcm9taXNlKHZhbHVlLCBpc1Jlc29sdmVkKTtcbiAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBtYWtlUHJvbWlzZShlcnJvciwgZmFsc2UpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBtYWtlUHJvbWlzZSh2YWx1ZSwgaXNSZXNvbHZlZCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRxI3doZW5cbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFdyYXBzIGFuIG9iamVjdCB0aGF0IG1pZ2h0IGJlIGEgdmFsdWUgb3IgYSAoM3JkIHBhcnR5KSB0aGVuLWFibGUgcHJvbWlzZSBpbnRvIGEgJHEgcHJvbWlzZS5cbiAgICogVGhpcyBpcyB1c2VmdWwgd2hlbiB5b3UgYXJlIGRlYWxpbmcgd2l0aCBhbiBvYmplY3QgdGhhdCBtaWdodCBvciBtaWdodCBub3QgYmUgYSBwcm9taXNlLCBvciBpZlxuICAgKiB0aGUgcHJvbWlzZSBjb21lcyBmcm9tIGEgc291cmNlIHRoYXQgY2FuJ3QgYmUgdHJ1c3RlZC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSBvciBhIHByb21pc2VcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJldHVybnMgYSBwcm9taXNlIG9mIHRoZSBwYXNzZWQgdmFsdWUgb3IgcHJvbWlzZVxuICAgKi9cblxuXG4gIHZhciB3aGVuID0gZnVuY3Rpb24odmFsdWUsIGNhbGxiYWNrLCBlcnJiYWNrLCBwcm9ncmVzc0JhY2spIHtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IERlZmVycmVkKCk7XG4gICAgcmVzdWx0LnJlc29sdmUodmFsdWUpO1xuICAgIHJldHVybiByZXN1bHQucHJvbWlzZS50aGVuKGNhbGxiYWNrLCBlcnJiYWNrLCBwcm9ncmVzc0JhY2spO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRxI2FsbFxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ29tYmluZXMgbXVsdGlwbGUgcHJvbWlzZXMgaW50byBhIHNpbmdsZSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiBhbGwgb2YgdGhlIGlucHV0XG4gICAqIHByb21pc2VzIGFyZSByZXNvbHZlZC5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheS48UHJvbWlzZT58T2JqZWN0LjxQcm9taXNlPn0gcHJvbWlzZXMgQW4gYXJyYXkgb3IgaGFzaCBvZiBwcm9taXNlcy5cbiAgICogQHJldHVybnMge1Byb21pc2V9IFJldHVybnMgYSBzaW5nbGUgcHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCBhbiBhcnJheS9oYXNoIG9mIHZhbHVlcyxcbiAgICogICBlYWNoIHZhbHVlIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb21pc2UgYXQgdGhlIHNhbWUgaW5kZXgva2V5IGluIHRoZSBgcHJvbWlzZXNgIGFycmF5L2hhc2guXG4gICAqICAgSWYgYW55IG9mIHRoZSBwcm9taXNlcyBpcyByZXNvbHZlZCB3aXRoIGEgcmVqZWN0aW9uLCB0aGlzIHJlc3VsdGluZyBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWRcbiAgICogICB3aXRoIHRoZSBzYW1lIHJlamVjdGlvbiB2YWx1ZS5cbiAgICovXG5cbiAgZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gICAgdmFyIGRlZmVycmVkID0gbmV3IERlZmVycmVkKCksXG4gICAgICAgIGNvdW50ZXIgPSAwLFxuICAgICAgICByZXN1bHRzID0gaXNBcnJheShwcm9taXNlcykgPyBbXSA6IHt9O1xuXG4gICAgZm9yRWFjaChwcm9taXNlcywgZnVuY3Rpb24ocHJvbWlzZSwga2V5KSB7XG4gICAgICBjb3VudGVyKys7XG4gICAgICB3aGVuKHByb21pc2UpLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKHJlc3VsdHMuaGFzT3duUHJvcGVydHkoa2V5KSkgcmV0dXJuO1xuICAgICAgICByZXN1bHRzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgaWYgKCEoLS1jb3VudGVyKSkgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICBpZiAocmVzdWx0cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSByZXR1cm47XG4gICAgICAgIGRlZmVycmVkLnJlamVjdChyZWFzb24pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpZiAoY291bnRlciA9PT0gMCkge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHRzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgfVxuXG4gIHZhciAkUSA9IGZ1bmN0aW9uIFEocmVzb2x2ZXIpIHtcbiAgICBpZiAoIWlzRnVuY3Rpb24ocmVzb2x2ZXIpKSB7XG4gICAgICB0aHJvdyAkcU1pbkVycignbm9yc2x2cicsIFwiRXhwZWN0ZWQgcmVzb2x2ZXJGbiwgZ290ICd7MH0nXCIsIHJlc29sdmVyKTtcbiAgICB9XG5cbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUSkpIHtcbiAgICAgIC8vIE1vcmUgdXNlZnVsIHdoZW4gJFEgaXMgdGhlIFByb21pc2UgaXRzZWxmLlxuICAgICAgcmV0dXJuIG5ldyBRKHJlc29sdmVyKTtcbiAgICB9XG5cbiAgICB2YXIgZGVmZXJyZWQgPSBuZXcgRGVmZXJyZWQoKTtcblxuICAgIGZ1bmN0aW9uIHJlc29sdmVGbih2YWx1ZSkge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVqZWN0Rm4ocmVhc29uKSB7XG4gICAgICBkZWZlcnJlZC5yZWplY3QocmVhc29uKTtcbiAgICB9XG5cbiAgICByZXNvbHZlcihyZXNvbHZlRm4sIHJlamVjdEZuKTtcblxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICB9O1xuXG4gICRRLmRlZmVyID0gZGVmZXI7XG4gICRRLnJlamVjdCA9IHJlamVjdDtcbiAgJFEud2hlbiA9IHdoZW47XG4gICRRLmFsbCA9IGFsbDtcblxuICByZXR1cm4gJFE7XG59XG5cbmZ1bmN0aW9uICQkUkFGUHJvdmlkZXIoKSB7IC8vckFGXG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsICckdGltZW91dCcsIGZ1bmN0aW9uKCR3aW5kb3csICR0aW1lb3V0KSB7XG4gICAgdmFyIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9ICR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuXG4gICAgdmFyIGNhbmNlbEFuaW1hdGlvbkZyYW1lID0gJHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy53ZWJraXRDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG5cbiAgICB2YXIgcmFmU3VwcG9ydGVkID0gISFyZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG4gICAgdmFyIHJhZiA9IHJhZlN1cHBvcnRlZFxuICAgICAgPyBmdW5jdGlvbihmbikge1xuICAgICAgICAgIHZhciBpZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmbik7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIDogZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgICB2YXIgdGltZXIgPSAkdGltZW91dChmbiwgMTYuNjYsIGZhbHNlKTsgLy8gMTAwMCAvIDYwID0gMTYuNjY2XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVyKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgcmFmLnN1cHBvcnRlZCA9IHJhZlN1cHBvcnRlZDtcblxuICAgIHJldHVybiByYWY7XG4gIH1dO1xufVxuXG4vKipcbiAqIERFU0lHTiBOT1RFU1xuICpcbiAqIFRoZSBkZXNpZ24gZGVjaXNpb25zIGJlaGluZCB0aGUgc2NvcGUgYXJlIGhlYXZpbHkgZmF2b3JlZCBmb3Igc3BlZWQgYW5kIG1lbW9yeSBjb25zdW1wdGlvbi5cbiAqXG4gKiBUaGUgdHlwaWNhbCB1c2Ugb2Ygc2NvcGUgaXMgdG8gd2F0Y2ggdGhlIGV4cHJlc3Npb25zLCB3aGljaCBtb3N0IG9mIHRoZSB0aW1lIHJldHVybiB0aGUgc2FtZVxuICogdmFsdWUgYXMgbGFzdCB0aW1lIHNvIHdlIG9wdGltaXplIHRoZSBvcGVyYXRpb24uXG4gKlxuICogQ2xvc3VyZXMgY29uc3RydWN0aW9uIGlzIGV4cGVuc2l2ZSBpbiB0ZXJtcyBvZiBzcGVlZCBhcyB3ZWxsIGFzIG1lbW9yeTpcbiAqICAgLSBObyBjbG9zdXJlcywgaW5zdGVhZCB1c2UgcHJvdG90eXBpY2FsIGluaGVyaXRhbmNlIGZvciBBUElcbiAqICAgLSBJbnRlcm5hbCBzdGF0ZSBuZWVkcyB0byBiZSBzdG9yZWQgb24gc2NvcGUgZGlyZWN0bHksIHdoaWNoIG1lYW5zIHRoYXQgcHJpdmF0ZSBzdGF0ZSBpc1xuICogICAgIGV4cG9zZWQgYXMgJCRfX19fIHByb3BlcnRpZXNcbiAqXG4gKiBMb29wIG9wZXJhdGlvbnMgYXJlIG9wdGltaXplZCBieSB1c2luZyB3aGlsZShjb3VudC0tKSB7IC4uLiB9XG4gKiAgIC0gdGhpcyBtZWFucyB0aGF0IGluIG9yZGVyIHRvIGtlZXAgdGhlIHNhbWUgb3JkZXIgb2YgZXhlY3V0aW9uIGFzIGFkZGl0aW9uIHdlIGhhdmUgdG8gYWRkXG4gKiAgICAgaXRlbXMgdG8gdGhlIGFycmF5IGF0IHRoZSBiZWdpbm5pbmcgKHVuc2hpZnQpIGluc3RlYWQgb2YgYXQgdGhlIGVuZCAocHVzaClcbiAqXG4gKiBDaGlsZCBzY29wZXMgYXJlIGNyZWF0ZWQgYW5kIHJlbW92ZWQgb2Z0ZW5cbiAqICAgLSBVc2luZyBhbiBhcnJheSB3b3VsZCBiZSBzbG93IHNpbmNlIGluc2VydHMgaW4gbWlkZGxlIGFyZSBleHBlbnNpdmUgc28gd2UgdXNlIGxpbmtlZCBsaXN0XG4gKlxuICogVGhlcmUgYXJlIGZldyB3YXRjaGVzIHRoZW4gYSBsb3Qgb2Ygb2JzZXJ2ZXJzLiBUaGlzIGlzIHdoeSB5b3UgZG9uJ3Qgd2FudCB0aGUgb2JzZXJ2ZXIgdG8gYmVcbiAqIGltcGxlbWVudGVkIGluIHRoZSBzYW1lIHdheSBhcyB3YXRjaC4gV2F0Y2ggcmVxdWlyZXMgcmV0dXJuIG9mIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uIHdoaWNoXG4gKiBhcmUgZXhwZW5zaXZlIHRvIGNvbnN0cnVjdC5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkcm9vdFNjb3BlUHJvdmlkZXJcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFByb3ZpZGVyIGZvciB0aGUgJHJvb3RTY29wZSBzZXJ2aWNlLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJHJvb3RTY29wZVByb3ZpZGVyI2RpZ2VzdFR0bFxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogU2V0cyB0aGUgbnVtYmVyIG9mIGAkZGlnZXN0YCBpdGVyYXRpb25zIHRoZSBzY29wZSBzaG91bGQgYXR0ZW1wdCB0byBleGVjdXRlIGJlZm9yZSBnaXZpbmcgdXAgYW5kXG4gKiBhc3N1bWluZyB0aGF0IHRoZSBtb2RlbCBpcyB1bnN0YWJsZS5cbiAqXG4gKiBUaGUgY3VycmVudCBkZWZhdWx0IGlzIDEwIGl0ZXJhdGlvbnMuXG4gKlxuICogSW4gY29tcGxleCBhcHBsaWNhdGlvbnMgaXQncyBwb3NzaWJsZSB0aGF0IHRoZSBkZXBlbmRlbmNpZXMgYmV0d2VlbiBgJHdhdGNoYHMgd2lsbCByZXN1bHQgaW5cbiAqIHNldmVyYWwgZGlnZXN0IGl0ZXJhdGlvbnMuIEhvd2V2ZXIgaWYgYW4gYXBwbGljYXRpb24gbmVlZHMgbW9yZSB0aGFuIHRoZSBkZWZhdWx0IDEwIGRpZ2VzdFxuICogaXRlcmF0aW9ucyBmb3IgaXRzIG1vZGVsIHRvIHN0YWJpbGl6ZSB0aGVuIHlvdSBzaG91bGQgaW52ZXN0aWdhdGUgd2hhdCBpcyBjYXVzaW5nIHRoZSBtb2RlbCB0b1xuICogY29udGludW91c2x5IGNoYW5nZSBkdXJpbmcgdGhlIGRpZ2VzdC5cbiAqXG4gKiBJbmNyZWFzaW5nIHRoZSBUVEwgY291bGQgaGF2ZSBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMsIHNvIHlvdSBzaG91bGQgbm90IGNoYW5nZSBpdCB3aXRob3V0XG4gKiBwcm9wZXIganVzdGlmaWNhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbGltaXQgVGhlIG51bWJlciBvZiBkaWdlc3QgaXRlcmF0aW9ucy5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRyb290U2NvcGVcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIEV2ZXJ5IGFwcGxpY2F0aW9uIGhhcyBhIHNpbmdsZSByb290IHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIHNjb3BlfS5cbiAqIEFsbCBvdGhlciBzY29wZXMgYXJlIGRlc2NlbmRhbnQgc2NvcGVzIG9mIHRoZSByb290IHNjb3BlLiBTY29wZXMgcHJvdmlkZSBzZXBhcmF0aW9uXG4gKiBiZXR3ZWVuIHRoZSBtb2RlbCBhbmQgdGhlIHZpZXcsIHZpYSBhIG1lY2hhbmlzbSBmb3Igd2F0Y2hpbmcgdGhlIG1vZGVsIGZvciBjaGFuZ2VzLlxuICogVGhleSBhbHNvIHByb3ZpZGUgYW4gZXZlbnQgZW1pc3Npb24vYnJvYWRjYXN0IGFuZCBzdWJzY3JpcHRpb24gZmFjaWxpdHkuIFNlZSB0aGVcbiAqIHtAbGluayBndWlkZS9zY29wZSBkZXZlbG9wZXIgZ3VpZGUgb24gc2NvcGVzfS5cbiAqL1xuZnVuY3Rpb24gJFJvb3RTY29wZVByb3ZpZGVyKCkge1xuICB2YXIgVFRMID0gMTA7XG4gIHZhciAkcm9vdFNjb3BlTWluRXJyID0gbWluRXJyKCckcm9vdFNjb3BlJyk7XG4gIHZhciBsYXN0RGlydHlXYXRjaCA9IG51bGw7XG4gIHZhciBhcHBseUFzeW5jSWQgPSBudWxsO1xuXG4gIHRoaXMuZGlnZXN0VHRsID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgVFRMID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBUVEw7XG4gIH07XG5cbiAgdGhpcy4kZ2V0ID0gWyckaW5qZWN0b3InLCAnJGV4Y2VwdGlvbkhhbmRsZXInLCAnJHBhcnNlJywgJyRicm93c2VyJyxcbiAgICAgIGZ1bmN0aW9uKCRpbmplY3RvciwgJGV4Y2VwdGlvbkhhbmRsZXIsICRwYXJzZSwgJGJyb3dzZXIpIHtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyB0eXBlXG4gICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQSByb290IHNjb3BlIGNhbiBiZSByZXRyaWV2ZWQgdXNpbmcgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlICRyb290U2NvcGV9IGtleSBmcm9tIHRoZVxuICAgICAqIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LiBDaGlsZCBzY29wZXMgYXJlIGNyZWF0ZWQgdXNpbmcgdGhlXG4gICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG5ldyAkbmV3KCl9IG1ldGhvZC4gKE1vc3Qgc2NvcGVzIGFyZSBjcmVhdGVkIGF1dG9tYXRpY2FsbHkgd2hlblxuICAgICAqIGNvbXBpbGVkIEhUTUwgdGVtcGxhdGUgaXMgZXhlY3V0ZWQuKVxuICAgICAqXG4gICAgICogSGVyZSBpcyBhIHNpbXBsZSBzY29wZSBzbmlwcGV0IHRvIHNob3cgaG93IHlvdSBjYW4gaW50ZXJhY3Qgd2l0aCB0aGUgc2NvcGUuXG4gICAgICogYGBgaHRtbFxuICAgICAqIDxmaWxlIHNyYz1cIi4vdGVzdC9uZy9yb290U2NvcGVTcGVjLmpzXCIgdGFnPVwiZG9jczFcIiAvPlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyBJbmhlcml0YW5jZVxuICAgICAqIEEgc2NvcGUgY2FuIGluaGVyaXQgZnJvbSBhIHBhcmVudCBzY29wZSwgYXMgaW4gdGhpcyBleGFtcGxlOlxuICAgICAqIGBgYGpzXG4gICAgICAgICB2YXIgcGFyZW50ID0gJHJvb3RTY29wZTtcbiAgICAgICAgIHZhciBjaGlsZCA9IHBhcmVudC4kbmV3KCk7XG5cbiAgICAgICAgIHBhcmVudC5zYWx1dGF0aW9uID0gXCJIZWxsb1wiO1xuICAgICAgICAgY2hpbGQubmFtZSA9IFwiV29ybGRcIjtcbiAgICAgICAgIGV4cGVjdChjaGlsZC5zYWx1dGF0aW9uKS50b0VxdWFsKCdIZWxsbycpO1xuXG4gICAgICAgICBjaGlsZC5zYWx1dGF0aW9uID0gXCJXZWxjb21lXCI7XG4gICAgICAgICBleHBlY3QoY2hpbGQuc2FsdXRhdGlvbikudG9FcXVhbCgnV2VsY29tZScpO1xuICAgICAgICAgZXhwZWN0KHBhcmVudC5zYWx1dGF0aW9uKS50b0VxdWFsKCdIZWxsbycpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCBmdW5jdGlvbigpPj19IHByb3ZpZGVycyBNYXAgb2Ygc2VydmljZSBmYWN0b3J5IHdoaWNoIG5lZWQgdG8gYmVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVkIGZvciB0aGUgY3VycmVudCBzY29wZS4gRGVmYXVsdHMgdG8ge0BsaW5rIG5nfS5cbiAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCAqPj19IGluc3RhbmNlQ2FjaGUgUHJvdmlkZXMgcHJlLWluc3RhbnRpYXRlZCBzZXJ2aWNlcyB3aGljaCBzaG91bGRcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZC9vdmVycmlkZSBzZXJ2aWNlcyBwcm92aWRlZCBieSBgcHJvdmlkZXJzYC4gVGhpcyBpcyBoYW5keVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiB1bml0LXRlc3RpbmcgYW5kIGhhdmluZyB0aGUgbmVlZCB0byBvdmVycmlkZSBhIGRlZmF1bHRcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2UuXG4gICAgICogQHJldHVybnMge09iamVjdH0gTmV3bHkgY3JlYXRlZCBzY29wZS5cbiAgICAgKlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNjb3BlKCkge1xuICAgICAgdGhpcy4kaWQgPSBuZXh0VWlkKCk7XG4gICAgICB0aGlzLiQkcGhhc2UgPSB0aGlzLiRwYXJlbnQgPSB0aGlzLiQkd2F0Y2hlcnMgPVxuICAgICAgICAgICAgICAgICAgICAgdGhpcy4kJG5leHRTaWJsaW5nID0gdGhpcy4kJHByZXZTaWJsaW5nID1cbiAgICAgICAgICAgICAgICAgICAgIHRoaXMuJCRjaGlsZEhlYWQgPSB0aGlzLiQkY2hpbGRUYWlsID0gbnVsbDtcbiAgICAgIHRoaXMuJHJvb3QgPSB0aGlzO1xuICAgICAgdGhpcy4kJGRlc3Ryb3llZCA9IGZhbHNlO1xuICAgICAgdGhpcy4kJGxpc3RlbmVycyA9IHt9O1xuICAgICAgdGhpcy4kJGxpc3RlbmVyQ291bnQgPSB7fTtcbiAgICAgIHRoaXMuJCRpc29sYXRlQmluZGluZ3MgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGlkXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBVbmlxdWUgc2NvcGUgSUQgKG1vbm90b25pY2FsbHkgaW5jcmVhc2luZykgdXNlZnVsIGZvciBkZWJ1Z2dpbmcuXG4gICAgICovXG5cbiAgICAgLyoqXG4gICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRwYXJlbnRcbiAgICAgICpcbiAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAqIFJlZmVyZW5jZSB0byB0aGUgcGFyZW50IHNjb3BlLlxuICAgICAgKi9cblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgcHJvcGVydHlcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJHJvb3RcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgcm9vdCBzY29wZS5cbiAgICAgICAqL1xuXG4gICAgU2NvcGUucHJvdG90eXBlID0ge1xuICAgICAgY29uc3RydWN0b3I6IFNjb3BlLFxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRuZXdcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBDcmVhdGVzIGEgbmV3IGNoaWxkIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIHNjb3BlfS5cbiAgICAgICAqXG4gICAgICAgKiBUaGUgcGFyZW50IHNjb3BlIHdpbGwgcHJvcGFnYXRlIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3QoKX0gZXZlbnQuXG4gICAgICAgKiBUaGUgc2NvcGUgY2FuIGJlIHJlbW92ZWQgZnJvbSB0aGUgc2NvcGUgaGllcmFyY2h5IHVzaW5nIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkZXN0cm95ICRkZXN0cm95KCl9LlxuICAgICAgICpcbiAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkZXN0cm95ICRkZXN0cm95KCl9IG11c3QgYmUgY2FsbGVkIG9uIGEgc2NvcGUgd2hlbiBpdCBpc1xuICAgICAgICogZGVzaXJlZCBmb3IgdGhlIHNjb3BlIGFuZCBpdHMgY2hpbGQgc2NvcGVzIHRvIGJlIHBlcm1hbmVudGx5IGRldGFjaGVkIGZyb20gdGhlIHBhcmVudCBhbmRcbiAgICAgICAqIHRodXMgc3RvcCBwYXJ0aWNpcGF0aW5nIGluIG1vZGVsIGNoYW5nZSBkZXRlY3Rpb24gYW5kIGxpc3RlbmVyIG5vdGlmaWNhdGlvbiBieSBpbnZva2luZy5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzb2xhdGUgSWYgdHJ1ZSwgdGhlbiB0aGUgc2NvcGUgZG9lcyBub3QgcHJvdG90eXBpY2FsbHkgaW5oZXJpdCBmcm9tIHRoZVxuICAgICAgICogICAgICAgICBwYXJlbnQgc2NvcGUuIFRoZSBzY29wZSBpcyBpc29sYXRlZCwgYXMgaXQgY2FuIG5vdCBzZWUgcGFyZW50IHNjb3BlIHByb3BlcnRpZXMuXG4gICAgICAgKiAgICAgICAgIFdoZW4gY3JlYXRpbmcgd2lkZ2V0cywgaXQgaXMgdXNlZnVsIGZvciB0aGUgd2lkZ2V0IHRvIG5vdCBhY2NpZGVudGFsbHkgcmVhZCBwYXJlbnRcbiAgICAgICAqICAgICAgICAgc3RhdGUuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtTY29wZX0gW3BhcmVudD10aGlzXSBUaGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgYFNjb3BlYH0gdGhhdCB3aWxsIGJlIHRoZSBgJHBhcmVudGBcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdGhlIG5ld2x5IGNyZWF0ZWQgc2NvcGUuIERlZmF1bHRzIHRvIGB0aGlzYCBzY29wZSBpZiBub3QgcHJvdmlkZWQuXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoaXMgaXMgdXNlZCB3aGVuIGNyZWF0aW5nIGEgdHJhbnNjbHVkZSBzY29wZSB0byBjb3JyZWN0bHkgcGxhY2UgaXRcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW4gdGhlIHNjb3BlIGhpZXJhcmNoeSB3aGlsZSBtYWludGFpbmluZyB0aGUgY29ycmVjdCBwcm90b3R5cGljYWxcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5oZXJpdGFuY2UuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge09iamVjdH0gVGhlIG5ld2x5IGNyZWF0ZWQgY2hpbGQgc2NvcGUuXG4gICAgICAgKlxuICAgICAgICovXG4gICAgICAkbmV3OiBmdW5jdGlvbihpc29sYXRlLCBwYXJlbnQpIHtcbiAgICAgICAgdmFyIGNoaWxkO1xuXG4gICAgICAgIHBhcmVudCA9IHBhcmVudCB8fCB0aGlzO1xuXG4gICAgICAgIGlmIChpc29sYXRlKSB7XG4gICAgICAgICAgY2hpbGQgPSBuZXcgU2NvcGUoKTtcbiAgICAgICAgICBjaGlsZC4kcm9vdCA9IHRoaXMuJHJvb3Q7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT25seSBjcmVhdGUgYSBjaGlsZCBzY29wZSBjbGFzcyBpZiBzb21lYm9keSBhc2tzIGZvciBvbmUsXG4gICAgICAgICAgLy8gYnV0IGNhY2hlIGl0IHRvIGFsbG93IHRoZSBWTSB0byBvcHRpbWl6ZSBsb29rdXBzLlxuICAgICAgICAgIGlmICghdGhpcy4kJENoaWxkU2NvcGUpIHtcbiAgICAgICAgICAgIHRoaXMuJCRDaGlsZFNjb3BlID0gZnVuY3Rpb24gQ2hpbGRTY29wZSgpIHtcbiAgICAgICAgICAgICAgdGhpcy4kJHdhdGNoZXJzID0gdGhpcy4kJG5leHRTaWJsaW5nID1cbiAgICAgICAgICAgICAgICAgIHRoaXMuJCRjaGlsZEhlYWQgPSB0aGlzLiQkY2hpbGRUYWlsID0gbnVsbDtcbiAgICAgICAgICAgICAgdGhpcy4kJGxpc3RlbmVycyA9IHt9O1xuICAgICAgICAgICAgICB0aGlzLiQkbGlzdGVuZXJDb3VudCA9IHt9O1xuICAgICAgICAgICAgICB0aGlzLiRpZCA9IG5leHRVaWQoKTtcbiAgICAgICAgICAgICAgdGhpcy4kJENoaWxkU2NvcGUgPSBudWxsO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuJCRDaGlsZFNjb3BlLnByb3RvdHlwZSA9IHRoaXM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoaWxkID0gbmV3IHRoaXMuJCRDaGlsZFNjb3BlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGQuJHBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgY2hpbGQuJCRwcmV2U2libGluZyA9IHBhcmVudC4kJGNoaWxkVGFpbDtcbiAgICAgICAgaWYgKHBhcmVudC4kJGNoaWxkSGVhZCkge1xuICAgICAgICAgIHBhcmVudC4kJGNoaWxkVGFpbC4kJG5leHRTaWJsaW5nID0gY2hpbGQ7XG4gICAgICAgICAgcGFyZW50LiQkY2hpbGRUYWlsID0gY2hpbGQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFyZW50LiQkY2hpbGRIZWFkID0gcGFyZW50LiQkY2hpbGRUYWlsID0gY2hpbGQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXaGVuIHRoZSBuZXcgc2NvcGUgaXMgbm90IGlzb2xhdGVkIG9yIHdlIGluaGVyaXQgZnJvbSBgdGhpc2AsIGFuZFxuICAgICAgICAvLyB0aGUgcGFyZW50IHNjb3BlIGlzIGRlc3Ryb3llZCwgdGhlIHByb3BlcnR5IGAkJGRlc3Ryb3llZGAgaXMgaW5oZXJpdGVkXG4gICAgICAgIC8vIHByb3RvdHlwaWNhbGx5LiBJbiBhbGwgb3RoZXIgY2FzZXMsIHRoaXMgcHJvcGVydHkgbmVlZHMgdG8gYmUgc2V0XG4gICAgICAgIC8vIHdoZW4gdGhlIHBhcmVudCBzY29wZSBpcyBkZXN0cm95ZWQuXG4gICAgICAgIC8vIFRoZSBsaXN0ZW5lciBuZWVkcyB0byBiZSBhZGRlZCBhZnRlciB0aGUgcGFyZW50IGlzIHNldFxuICAgICAgICBpZiAoaXNvbGF0ZSB8fCBwYXJlbnQgIT0gdGhpcykgY2hpbGQuJG9uKCckZGVzdHJveScsIGRlc3Ryb3lDaGlsZCk7XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuXG4gICAgICAgIGZ1bmN0aW9uIGRlc3Ryb3lDaGlsZCgpIHtcbiAgICAgICAgICBjaGlsZC4kJGRlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkd2F0Y2hcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZWdpc3RlcnMgYSBgbGlzdGVuZXJgIGNhbGxiYWNrIHRvIGJlIGV4ZWN1dGVkIHdoZW5ldmVyIHRoZSBgd2F0Y2hFeHByZXNzaW9uYCBjaGFuZ2VzLlxuICAgICAgICpcbiAgICAgICAqIC0gVGhlIGB3YXRjaEV4cHJlc3Npb25gIGlzIGNhbGxlZCBvbiBldmVyeSBjYWxsIHRvIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3RcbiAgICAgICAqICAgJGRpZ2VzdCgpfSBhbmQgc2hvdWxkIHJldHVybiB0aGUgdmFsdWUgdGhhdCB3aWxsIGJlIHdhdGNoZWQuIChTaW5jZVxuICAgICAgICogICB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3QoKX0gcmVydW5zIHdoZW4gaXQgZGV0ZWN0cyBjaGFuZ2VzIHRoZVxuICAgICAgICogICBgd2F0Y2hFeHByZXNzaW9uYCBjYW4gZXhlY3V0ZSBtdWx0aXBsZSB0aW1lcyBwZXJcbiAgICAgICAqICAge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0KCl9IGFuZCBzaG91bGQgYmUgaWRlbXBvdGVudC4pXG4gICAgICAgKiAtIFRoZSBgbGlzdGVuZXJgIGlzIGNhbGxlZCBvbmx5IHdoZW4gdGhlIHZhbHVlIGZyb20gdGhlIGN1cnJlbnQgYHdhdGNoRXhwcmVzc2lvbmAgYW5kIHRoZVxuICAgICAgICogICBwcmV2aW91cyBjYWxsIHRvIGB3YXRjaEV4cHJlc3Npb25gIGFyZSBub3QgZXF1YWwgKHdpdGggdGhlIGV4Y2VwdGlvbiBvZiB0aGUgaW5pdGlhbCBydW4sXG4gICAgICAgKiAgIHNlZSBiZWxvdykuIEluZXF1YWxpdHkgaXMgZGV0ZXJtaW5lZCBhY2NvcmRpbmcgdG8gcmVmZXJlbmNlIGluZXF1YWxpdHksXG4gICAgICAgKiAgIFtzdHJpY3QgY29tcGFyaXNvbl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvT3BlcmF0b3JzL0NvbXBhcmlzb25fT3BlcmF0b3JzKVxuICAgICAgICogICAgdmlhIHRoZSBgIT09YCBKYXZhc2NyaXB0IG9wZXJhdG9yLCB1bmxlc3MgYG9iamVjdEVxdWFsaXR5ID09IHRydWVgXG4gICAgICAgKiAgIChzZWUgbmV4dCBwb2ludClcbiAgICAgICAqIC0gV2hlbiBgb2JqZWN0RXF1YWxpdHkgPT0gdHJ1ZWAsIGluZXF1YWxpdHkgb2YgdGhlIGB3YXRjaEV4cHJlc3Npb25gIGlzIGRldGVybWluZWRcbiAgICAgICAqICAgYWNjb3JkaW5nIHRvIHRoZSB7QGxpbmsgYW5ndWxhci5lcXVhbHN9IGZ1bmN0aW9uLiBUbyBzYXZlIHRoZSB2YWx1ZSBvZiB0aGUgb2JqZWN0IGZvclxuICAgICAgICogICBsYXRlciBjb21wYXJpc29uLCB0aGUge0BsaW5rIGFuZ3VsYXIuY29weX0gZnVuY3Rpb24gaXMgdXNlZC4gVGhpcyB0aGVyZWZvcmUgbWVhbnMgdGhhdFxuICAgICAgICogICB3YXRjaGluZyBjb21wbGV4IG9iamVjdHMgd2lsbCBoYXZlIGFkdmVyc2UgbWVtb3J5IGFuZCBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMuXG4gICAgICAgKiAtIFRoZSB3YXRjaCBgbGlzdGVuZXJgIG1heSBjaGFuZ2UgdGhlIG1vZGVsLCB3aGljaCBtYXkgdHJpZ2dlciBvdGhlciBgbGlzdGVuZXJgcyB0byBmaXJlLlxuICAgICAgICogICBUaGlzIGlzIGFjaGlldmVkIGJ5IHJlcnVubmluZyB0aGUgd2F0Y2hlcnMgdW50aWwgbm8gY2hhbmdlcyBhcmUgZGV0ZWN0ZWQuIFRoZSByZXJ1blxuICAgICAgICogICBpdGVyYXRpb24gbGltaXQgaXMgMTAgdG8gcHJldmVudCBhbiBpbmZpbml0ZSBsb29wIGRlYWRsb2NrLlxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKiBJZiB5b3Ugd2FudCB0byBiZSBub3RpZmllZCB3aGVuZXZlciB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3R9IGlzIGNhbGxlZCxcbiAgICAgICAqIHlvdSBjYW4gcmVnaXN0ZXIgYSBgd2F0Y2hFeHByZXNzaW9uYCBmdW5jdGlvbiB3aXRoIG5vIGBsaXN0ZW5lcmAuIChTaW5jZSBgd2F0Y2hFeHByZXNzaW9uYFxuICAgICAgICogY2FuIGV4ZWN1dGUgbXVsdGlwbGUgdGltZXMgcGVyIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdH0gY3ljbGUgd2hlbiBhXG4gICAgICAgKiBjaGFuZ2UgaXMgZGV0ZWN0ZWQsIGJlIHByZXBhcmVkIGZvciBtdWx0aXBsZSBjYWxscyB0byB5b3VyIGxpc3RlbmVyLilcbiAgICAgICAqXG4gICAgICAgKiBBZnRlciBhIHdhdGNoZXIgaXMgcmVnaXN0ZXJlZCB3aXRoIHRoZSBzY29wZSwgdGhlIGBsaXN0ZW5lcmAgZm4gaXMgY2FsbGVkIGFzeW5jaHJvbm91c2x5XG4gICAgICAgKiAodmlhIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRldmFsQXN5bmMgJGV2YWxBc3luY30pIHRvIGluaXRpYWxpemUgdGhlXG4gICAgICAgKiB3YXRjaGVyLiBJbiByYXJlIGNhc2VzLCB0aGlzIGlzIHVuZGVzaXJhYmxlIGJlY2F1c2UgdGhlIGxpc3RlbmVyIGlzIGNhbGxlZCB3aGVuIHRoZSByZXN1bHRcbiAgICAgICAqIG9mIGB3YXRjaEV4cHJlc3Npb25gIGRpZG4ndCBjaGFuZ2UuIFRvIGRldGVjdCB0aGlzIHNjZW5hcmlvIHdpdGhpbiB0aGUgYGxpc3RlbmVyYCBmbiwgeW91XG4gICAgICAgKiBjYW4gY29tcGFyZSB0aGUgYG5ld1ZhbGAgYW5kIGBvbGRWYWxgLiBJZiB0aGVzZSB0d28gdmFsdWVzIGFyZSBpZGVudGljYWwgKGA9PT1gKSB0aGVuIHRoZVxuICAgICAgICogbGlzdGVuZXIgd2FzIGNhbGxlZCBkdWUgdG8gaW5pdGlhbGl6YXRpb24uXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKiAjIEV4YW1wbGVcbiAgICAgICAqIGBgYGpzXG4gICAgICAgICAgIC8vIGxldCdzIGFzc3VtZSB0aGF0IHNjb3BlIHdhcyBkZXBlbmRlbmN5IGluamVjdGVkIGFzIHRoZSAkcm9vdFNjb3BlXG4gICAgICAgICAgIHZhciBzY29wZSA9ICRyb290U2NvcGU7XG4gICAgICAgICAgIHNjb3BlLm5hbWUgPSAnbWlza28nO1xuICAgICAgICAgICBzY29wZS5jb3VudGVyID0gMDtcblxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgwKTtcbiAgICAgICAgICAgc2NvcGUuJHdhdGNoKCduYW1lJywgZnVuY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgc2NvcGUuY291bnRlciA9IHNjb3BlLmNvdW50ZXIgKyAxO1xuICAgICAgICAgICB9KTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMCk7XG5cbiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAvLyB0aGUgbGlzdGVuZXIgaXMgYWx3YXlzIGNhbGxlZCBkdXJpbmcgdGhlIGZpcnN0ICRkaWdlc3QgbG9vcCBhZnRlciBpdCB3YXMgcmVnaXN0ZXJlZFxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgxKTtcblxuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgIC8vIGJ1dCBub3cgaXQgd2lsbCBub3QgYmUgY2FsbGVkIHVubGVzcyB0aGUgdmFsdWUgY2hhbmdlc1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgxKTtcblxuICAgICAgICAgICBzY29wZS5uYW1lID0gJ2FkYW0nO1xuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDIpO1xuXG5cblxuICAgICAgICAgICAvLyBVc2luZyBhIGZ1bmN0aW9uIGFzIGEgd2F0Y2hFeHByZXNzaW9uXG4gICAgICAgICAgIHZhciBmb29kO1xuICAgICAgICAgICBzY29wZS5mb29kQ291bnRlciA9IDA7XG4gICAgICAgICAgIGV4cGVjdChzY29wZS5mb29kQ291bnRlcikudG9FcXVhbCgwKTtcbiAgICAgICAgICAgc2NvcGUuJHdhdGNoKFxuICAgICAgICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgdmFsdWUgYmVpbmcgd2F0Y2hlZC4gSXQgaXMgY2FsbGVkIGZvciBlYWNoIHR1cm4gb2YgdGhlICRkaWdlc3QgbG9vcFxuICAgICAgICAgICAgIGZ1bmN0aW9uKCkgeyByZXR1cm4gZm9vZDsgfSxcbiAgICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBjaGFuZ2UgbGlzdGVuZXIsIGNhbGxlZCB3aGVuIHRoZSB2YWx1ZSByZXR1cm5lZCBmcm9tIHRoZSBhYm92ZSBmdW5jdGlvbiBjaGFuZ2VzXG4gICAgICAgICAgICAgZnVuY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgICBpZiAoIG5ld1ZhbHVlICE9PSBvbGRWYWx1ZSApIHtcbiAgICAgICAgICAgICAgICAgLy8gT25seSBpbmNyZW1lbnQgdGhlIGNvdW50ZXIgaWYgdGhlIHZhbHVlIGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgc2NvcGUuZm9vZENvdW50ZXIgPSBzY29wZS5mb29kQ291bnRlciArIDE7XG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICApO1xuICAgICAgICAgICAvLyBObyBkaWdlc3QgaGFzIGJlZW4gcnVuIHNvIHRoZSBjb3VudGVyIHdpbGwgYmUgemVyb1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuZm9vZENvdW50ZXIpLnRvRXF1YWwoMCk7XG5cbiAgICAgICAgICAgLy8gUnVuIHRoZSBkaWdlc3QgYnV0IHNpbmNlIGZvb2QgaGFzIG5vdCBjaGFuZ2VkIGNvdW50IHdpbGwgc3RpbGwgYmUgemVyb1xuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgIGV4cGVjdChzY29wZS5mb29kQ291bnRlcikudG9FcXVhbCgwKTtcblxuICAgICAgICAgICAvLyBVcGRhdGUgZm9vZCBhbmQgcnVuIGRpZ2VzdC4gIE5vdyB0aGUgY291bnRlciB3aWxsIGluY3JlbWVudFxuICAgICAgICAgICBmb29kID0gJ2NoZWVzZWJ1cmdlcic7XG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZvb2RDb3VudGVyKS50b0VxdWFsKDEpO1xuXG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7KGZ1bmN0aW9uKCl8c3RyaW5nKX0gd2F0Y2hFeHByZXNzaW9uIEV4cHJlc3Npb24gdGhhdCBpcyBldmFsdWF0ZWQgb24gZWFjaFxuICAgICAgICogICAge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0fSBjeWNsZS4gQSBjaGFuZ2UgaW4gdGhlIHJldHVybiB2YWx1ZSB0cmlnZ2Vyc1xuICAgICAgICogICAgYSBjYWxsIHRvIHRoZSBgbGlzdGVuZXJgLlxuICAgICAgICpcbiAgICAgICAqICAgIC0gYHN0cmluZ2A6IEV2YWx1YXRlZCBhcyB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufVxuICAgICAgICogICAgLSBgZnVuY3Rpb24oc2NvcGUpYDogY2FsbGVkIHdpdGggY3VycmVudCBgc2NvcGVgIGFzIGEgcGFyYW1ldGVyLlxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbihuZXdWYWwsIG9sZFZhbCwgc2NvcGUpfSBsaXN0ZW5lciBDYWxsYmFjayBjYWxsZWQgd2hlbmV2ZXIgdGhlIHZhbHVlXG4gICAgICAgKiAgICBvZiBgd2F0Y2hFeHByZXNzaW9uYCBjaGFuZ2VzLlxuICAgICAgICpcbiAgICAgICAqICAgIC0gYG5ld1ZhbGAgY29udGFpbnMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIGB3YXRjaEV4cHJlc3Npb25gXG4gICAgICAgKiAgICAtIGBvbGRWYWxgIGNvbnRhaW5zIHRoZSBwcmV2aW91cyB2YWx1ZSBvZiB0aGUgYHdhdGNoRXhwcmVzc2lvbmBcbiAgICAgICAqICAgIC0gYHNjb3BlYCByZWZlcnMgdG8gdGhlIGN1cnJlbnQgc2NvcGVcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9iamVjdEVxdWFsaXR5IENvbXBhcmUgZm9yIG9iamVjdCBlcXVhbGl0eSB1c2luZyB7QGxpbmsgYW5ndWxhci5lcXVhbHN9IGluc3RlYWQgb2ZcbiAgICAgICAqICAgICBjb21wYXJpbmcgZm9yIHJlZmVyZW5jZSBlcXVhbGl0eS5cbiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBSZXR1cm5zIGEgZGVyZWdpc3RyYXRpb24gZnVuY3Rpb24gZm9yIHRoaXMgbGlzdGVuZXIuXG4gICAgICAgKi9cbiAgICAgICR3YXRjaDogZnVuY3Rpb24od2F0Y2hFeHAsIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSkge1xuICAgICAgICB2YXIgZ2V0ID0gJHBhcnNlKHdhdGNoRXhwKTtcblxuICAgICAgICBpZiAoZ2V0LiQkd2F0Y2hEZWxlZ2F0ZSkge1xuICAgICAgICAgIHJldHVybiBnZXQuJCR3YXRjaERlbGVnYXRlKHRoaXMsIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSwgZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2NvcGUgPSB0aGlzLFxuICAgICAgICAgICAgYXJyYXkgPSBzY29wZS4kJHdhdGNoZXJzLFxuICAgICAgICAgICAgd2F0Y2hlciA9IHtcbiAgICAgICAgICAgICAgZm46IGxpc3RlbmVyLFxuICAgICAgICAgICAgICBsYXN0OiBpbml0V2F0Y2hWYWwsXG4gICAgICAgICAgICAgIGdldDogZ2V0LFxuICAgICAgICAgICAgICBleHA6IHdhdGNoRXhwLFxuICAgICAgICAgICAgICBlcTogISFvYmplY3RFcXVhbGl0eVxuICAgICAgICAgICAgfTtcblxuICAgICAgICBsYXN0RGlydHlXYXRjaCA9IG51bGw7XG5cbiAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSkge1xuICAgICAgICAgIHdhdGNoZXIuZm4gPSBub29wO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFhcnJheSkge1xuICAgICAgICAgIGFycmF5ID0gc2NvcGUuJCR3YXRjaGVycyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIC8vIHdlIHVzZSB1bnNoaWZ0IHNpbmNlIHdlIHVzZSBhIHdoaWxlIGxvb3AgaW4gJGRpZ2VzdCBmb3Igc3BlZWQuXG4gICAgICAgIC8vIHRoZSB3aGlsZSBsb29wIHJlYWRzIGluIHJldmVyc2Ugb3JkZXIuXG4gICAgICAgIGFycmF5LnVuc2hpZnQod2F0Y2hlcik7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlcmVnaXN0ZXJXYXRjaCgpIHtcbiAgICAgICAgICBhcnJheVJlbW92ZShhcnJheSwgd2F0Y2hlcik7XG4gICAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSBudWxsO1xuICAgICAgICB9O1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyR3YXRjaEdyb3VwXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQSB2YXJpYW50IG9mIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCAkd2F0Y2goKX0gd2hlcmUgaXQgd2F0Y2hlcyBhbiBhcnJheSBvZiBgd2F0Y2hFeHByZXNzaW9uc2AuXG4gICAgICAgKiBJZiBhbnkgb25lIGV4cHJlc3Npb24gaW4gdGhlIGNvbGxlY3Rpb24gY2hhbmdlcyB0aGUgYGxpc3RlbmVyYCBpcyBleGVjdXRlZC5cbiAgICAgICAqXG4gICAgICAgKiAtIFRoZSBpdGVtcyBpbiB0aGUgYHdhdGNoRXhwcmVzc2lvbnNgIGFycmF5IGFyZSBvYnNlcnZlZCB2aWEgc3RhbmRhcmQgJHdhdGNoIG9wZXJhdGlvbiBhbmQgYXJlIGV4YW1pbmVkIG9uIGV2ZXJ5XG4gICAgICAgKiAgIGNhbGwgdG8gJGRpZ2VzdCgpIHRvIHNlZSBpZiBhbnkgaXRlbXMgY2hhbmdlcy5cbiAgICAgICAqIC0gVGhlIGBsaXN0ZW5lcmAgaXMgY2FsbGVkIHdoZW5ldmVyIGFueSBleHByZXNzaW9uIGluIHRoZSBgd2F0Y2hFeHByZXNzaW9uc2AgYXJyYXkgY2hhbmdlcy5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0FycmF5LjxzdHJpbmd8RnVuY3Rpb24oc2NvcGUpPn0gd2F0Y2hFeHByZXNzaW9ucyBBcnJheSBvZiBleHByZXNzaW9ucyB0aGF0IHdpbGwgYmUgaW5kaXZpZHVhbGx5XG4gICAgICAgKiB3YXRjaGVkIHVzaW5nIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCAkd2F0Y2goKX1cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG5ld1ZhbHVlcywgb2xkVmFsdWVzLCBzY29wZSl9IGxpc3RlbmVyIENhbGxiYWNrIGNhbGxlZCB3aGVuZXZlciB0aGUgcmV0dXJuIHZhbHVlIG9mIGFueVxuICAgICAgICogICAgZXhwcmVzc2lvbiBpbiBgd2F0Y2hFeHByZXNzaW9uc2AgY2hhbmdlc1xuICAgICAgICogICAgVGhlIGBuZXdWYWx1ZXNgIGFycmF5IGNvbnRhaW5zIHRoZSBjdXJyZW50IHZhbHVlcyBvZiB0aGUgYHdhdGNoRXhwcmVzc2lvbnNgLCB3aXRoIHRoZSBpbmRleGVzIG1hdGNoaW5nXG4gICAgICAgKiAgICB0aG9zZSBvZiBgd2F0Y2hFeHByZXNzaW9uYFxuICAgICAgICogICAgYW5kIHRoZSBgb2xkVmFsdWVzYCBhcnJheSBjb250YWlucyB0aGUgcHJldmlvdXMgdmFsdWVzIG9mIHRoZSBgd2F0Y2hFeHByZXNzaW9uc2AsIHdpdGggdGhlIGluZGV4ZXMgbWF0Y2hpbmdcbiAgICAgICAqICAgIHRob3NlIG9mIGB3YXRjaEV4cHJlc3Npb25gXG4gICAgICAgKiAgICBUaGUgYHNjb3BlYCByZWZlcnMgdG8gdGhlIGN1cnJlbnQgc2NvcGUuXG4gICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gUmV0dXJucyBhIGRlLXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBmb3IgYWxsIGxpc3RlbmVycy5cbiAgICAgICAqL1xuICAgICAgJHdhdGNoR3JvdXA6IGZ1bmN0aW9uKHdhdGNoRXhwcmVzc2lvbnMsIGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBvbGRWYWx1ZXMgPSBuZXcgQXJyYXkod2F0Y2hFeHByZXNzaW9ucy5sZW5ndGgpO1xuICAgICAgICB2YXIgbmV3VmFsdWVzID0gbmV3IEFycmF5KHdhdGNoRXhwcmVzc2lvbnMubGVuZ3RoKTtcbiAgICAgICAgdmFyIGRlcmVnaXN0ZXJGbnMgPSBbXTtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgY2hhbmdlUmVhY3Rpb25TY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGZpcnN0UnVuID0gdHJ1ZTtcblxuICAgICAgICBpZiAoIXdhdGNoRXhwcmVzc2lvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gTm8gZXhwcmVzc2lvbnMgbWVhbnMgd2UgY2FsbCB0aGUgbGlzdGVuZXIgQVNBUFxuICAgICAgICAgIHZhciBzaG91bGRDYWxsID0gdHJ1ZTtcbiAgICAgICAgICBzZWxmLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoc2hvdWxkQ2FsbCkgbGlzdGVuZXIobmV3VmFsdWVzLCBuZXdWYWx1ZXMsIHNlbGYpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBkZXJlZ2lzdGVyV2F0Y2hHcm91cCgpIHtcbiAgICAgICAgICAgIHNob3VsZENhbGwgPSBmYWxzZTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdhdGNoRXhwcmVzc2lvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgLy8gU3BlY2lhbCBjYXNlIHNpemUgb2Ygb25lXG4gICAgICAgICAgcmV0dXJuIHRoaXMuJHdhdGNoKHdhdGNoRXhwcmVzc2lvbnNbMF0sIGZ1bmN0aW9uIHdhdGNoR3JvdXBBY3Rpb24odmFsdWUsIG9sZFZhbHVlLCBzY29wZSkge1xuICAgICAgICAgICAgbmV3VmFsdWVzWzBdID0gdmFsdWU7XG4gICAgICAgICAgICBvbGRWYWx1ZXNbMF0gPSBvbGRWYWx1ZTtcbiAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlcywgKHZhbHVlID09PSBvbGRWYWx1ZSkgPyBuZXdWYWx1ZXMgOiBvbGRWYWx1ZXMsIHNjb3BlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvckVhY2god2F0Y2hFeHByZXNzaW9ucywgZnVuY3Rpb24oZXhwciwgaSkge1xuICAgICAgICAgIHZhciB1bndhdGNoRm4gPSBzZWxmLiR3YXRjaChleHByLCBmdW5jdGlvbiB3YXRjaEdyb3VwU3ViQWN0aW9uKHZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgbmV3VmFsdWVzW2ldID0gdmFsdWU7XG4gICAgICAgICAgICBvbGRWYWx1ZXNbaV0gPSBvbGRWYWx1ZTtcbiAgICAgICAgICAgIGlmICghY2hhbmdlUmVhY3Rpb25TY2hlZHVsZWQpIHtcbiAgICAgICAgICAgICAgY2hhbmdlUmVhY3Rpb25TY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBzZWxmLiRldmFsQXN5bmMod2F0Y2hHcm91cEFjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZGVyZWdpc3RlckZucy5wdXNoKHVud2F0Y2hGbik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIHdhdGNoR3JvdXBBY3Rpb24oKSB7XG4gICAgICAgICAgY2hhbmdlUmVhY3Rpb25TY2hlZHVsZWQgPSBmYWxzZTtcblxuICAgICAgICAgIGlmIChmaXJzdFJ1bikge1xuICAgICAgICAgICAgZmlyc3RSdW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlcywgbmV3VmFsdWVzLCBzZWxmKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGlzdGVuZXIobmV3VmFsdWVzLCBvbGRWYWx1ZXMsIHNlbGYpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBkZXJlZ2lzdGVyV2F0Y2hHcm91cCgpIHtcbiAgICAgICAgICB3aGlsZSAoZGVyZWdpc3RlckZucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGRlcmVnaXN0ZXJGbnMuc2hpZnQoKSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0sXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyR3YXRjaENvbGxlY3Rpb25cbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBTaGFsbG93IHdhdGNoZXMgdGhlIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IGFuZCBmaXJlcyB3aGVuZXZlciBhbnkgb2YgdGhlIHByb3BlcnRpZXMgY2hhbmdlXG4gICAgICAgKiAoZm9yIGFycmF5cywgdGhpcyBpbXBsaWVzIHdhdGNoaW5nIHRoZSBhcnJheSBpdGVtczsgZm9yIG9iamVjdCBtYXBzLCB0aGlzIGltcGxpZXMgd2F0Y2hpbmdcbiAgICAgICAqIHRoZSBwcm9wZXJ0aWVzKS4gSWYgYSBjaGFuZ2UgaXMgZGV0ZWN0ZWQsIHRoZSBgbGlzdGVuZXJgIGNhbGxiYWNrIGlzIGZpcmVkLlxuICAgICAgICpcbiAgICAgICAqIC0gVGhlIGBvYmpgIGNvbGxlY3Rpb24gaXMgb2JzZXJ2ZWQgdmlhIHN0YW5kYXJkICR3YXRjaCBvcGVyYXRpb24gYW5kIGlzIGV4YW1pbmVkIG9uIGV2ZXJ5XG4gICAgICAgKiAgIGNhbGwgdG8gJGRpZ2VzdCgpIHRvIHNlZSBpZiBhbnkgaXRlbXMgaGF2ZSBiZWVuIGFkZGVkLCByZW1vdmVkLCBvciBtb3ZlZC5cbiAgICAgICAqIC0gVGhlIGBsaXN0ZW5lcmAgaXMgY2FsbGVkIHdoZW5ldmVyIGFueXRoaW5nIHdpdGhpbiB0aGUgYG9iamAgaGFzIGNoYW5nZWQuIEV4YW1wbGVzIGluY2x1ZGVcbiAgICAgICAqICAgYWRkaW5nLCByZW1vdmluZywgYW5kIG1vdmluZyBpdGVtcyBiZWxvbmdpbmcgdG8gYW4gb2JqZWN0IG9yIGFycmF5LlxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKiAjIEV4YW1wbGVcbiAgICAgICAqIGBgYGpzXG4gICAgICAgICAgJHNjb3BlLm5hbWVzID0gWydpZ29yJywgJ21hdGlhcycsICdtaXNrbycsICdqYW1lcyddO1xuICAgICAgICAgICRzY29wZS5kYXRhQ291bnQgPSA0O1xuXG4gICAgICAgICAgJHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJ25hbWVzJywgZnVuY3Rpb24obmV3TmFtZXMsIG9sZE5hbWVzKSB7XG4gICAgICAgICAgICAkc2NvcGUuZGF0YUNvdW50ID0gbmV3TmFtZXMubGVuZ3RoO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgZXhwZWN0KCRzY29wZS5kYXRhQ291bnQpLnRvRXF1YWwoNCk7XG4gICAgICAgICAgJHNjb3BlLiRkaWdlc3QoKTtcblxuICAgICAgICAgIC8vc3RpbGwgYXQgNCAuLi4gbm8gY2hhbmdlc1xuICAgICAgICAgIGV4cGVjdCgkc2NvcGUuZGF0YUNvdW50KS50b0VxdWFsKDQpO1xuXG4gICAgICAgICAgJHNjb3BlLm5hbWVzLnBvcCgpO1xuICAgICAgICAgICRzY29wZS4kZGlnZXN0KCk7XG5cbiAgICAgICAgICAvL25vdyB0aGVyZSdzIGJlZW4gYSBjaGFuZ2VcbiAgICAgICAgICBleHBlY3QoJHNjb3BlLmRhdGFDb3VudCkudG9FcXVhbCgzKTtcbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ3xmdW5jdGlvbihzY29wZSl9IG9iaiBFdmFsdWF0ZWQgYXMge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0uIFRoZVxuICAgICAgICogICAgZXhwcmVzc2lvbiB2YWx1ZSBzaG91bGQgZXZhbHVhdGUgdG8gYW4gb2JqZWN0IG9yIGFuIGFycmF5IHdoaWNoIGlzIG9ic2VydmVkIG9uIGVhY2hcbiAgICAgICAqICAgIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdH0gY3ljbGUuIEFueSBzaGFsbG93IGNoYW5nZSB3aXRoaW4gdGhlXG4gICAgICAgKiAgICBjb2xsZWN0aW9uIHdpbGwgdHJpZ2dlciBhIGNhbGwgdG8gdGhlIGBsaXN0ZW5lcmAuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbihuZXdDb2xsZWN0aW9uLCBvbGRDb2xsZWN0aW9uLCBzY29wZSl9IGxpc3RlbmVyIGEgY2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkXG4gICAgICAgKiAgICB3aGVuIGEgY2hhbmdlIGlzIGRldGVjdGVkLlxuICAgICAgICogICAgLSBUaGUgYG5ld0NvbGxlY3Rpb25gIG9iamVjdCBpcyB0aGUgbmV3bHkgbW9kaWZpZWQgZGF0YSBvYnRhaW5lZCBmcm9tIHRoZSBgb2JqYCBleHByZXNzaW9uXG4gICAgICAgKiAgICAtIFRoZSBgb2xkQ29sbGVjdGlvbmAgb2JqZWN0IGlzIGEgY29weSBvZiB0aGUgZm9ybWVyIGNvbGxlY3Rpb24gZGF0YS5cbiAgICAgICAqICAgICAgRHVlIHRvIHBlcmZvcm1hbmNlIGNvbnNpZGVyYXRpb25zLCB0aGVgb2xkQ29sbGVjdGlvbmAgdmFsdWUgaXMgY29tcHV0ZWQgb25seSBpZiB0aGVcbiAgICAgICAqICAgICAgYGxpc3RlbmVyYCBmdW5jdGlvbiBkZWNsYXJlcyB0d28gb3IgbW9yZSBhcmd1bWVudHMuXG4gICAgICAgKiAgICAtIFRoZSBgc2NvcGVgIGFyZ3VtZW50IHJlZmVycyB0byB0aGUgY3VycmVudCBzY29wZS5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gUmV0dXJucyBhIGRlLXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBmb3IgdGhpcyBsaXN0ZW5lci4gV2hlbiB0aGVcbiAgICAgICAqICAgIGRlLXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBpcyBleGVjdXRlZCwgdGhlIGludGVybmFsIHdhdGNoIG9wZXJhdGlvbiBpcyB0ZXJtaW5hdGVkLlxuICAgICAgICovXG4gICAgICAkd2F0Y2hDb2xsZWN0aW9uOiBmdW5jdGlvbihvYmosIGxpc3RlbmVyKSB7XG4gICAgICAgICR3YXRjaENvbGxlY3Rpb25JbnRlcmNlcHRvci4kc3RhdGVmdWwgPSB0cnVlO1xuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgLy8gdGhlIGN1cnJlbnQgdmFsdWUsIHVwZGF0ZWQgb24gZWFjaCBkaXJ0eS1jaGVjayBydW5cbiAgICAgICAgdmFyIG5ld1ZhbHVlO1xuICAgICAgICAvLyBhIHNoYWxsb3cgY29weSBvZiB0aGUgbmV3VmFsdWUgZnJvbSB0aGUgbGFzdCBkaXJ0eS1jaGVjayBydW4sXG4gICAgICAgIC8vIHVwZGF0ZWQgdG8gbWF0Y2ggbmV3VmFsdWUgZHVyaW5nIGRpcnR5LWNoZWNrIHJ1blxuICAgICAgICB2YXIgb2xkVmFsdWU7XG4gICAgICAgIC8vIGEgc2hhbGxvdyBjb3B5IG9mIHRoZSBuZXdWYWx1ZSBmcm9tIHdoZW4gdGhlIGxhc3QgY2hhbmdlIGhhcHBlbmVkXG4gICAgICAgIHZhciB2ZXJ5T2xkVmFsdWU7XG4gICAgICAgIC8vIG9ubHkgdHJhY2sgdmVyeU9sZFZhbHVlIGlmIHRoZSBsaXN0ZW5lciBpcyBhc2tpbmcgZm9yIGl0XG4gICAgICAgIHZhciB0cmFja1ZlcnlPbGRWYWx1ZSA9IChsaXN0ZW5lci5sZW5ndGggPiAxKTtcbiAgICAgICAgdmFyIGNoYW5nZURldGVjdGVkID0gMDtcbiAgICAgICAgdmFyIGNoYW5nZURldGVjdG9yID0gJHBhcnNlKG9iaiwgJHdhdGNoQ29sbGVjdGlvbkludGVyY2VwdG9yKTtcbiAgICAgICAgdmFyIGludGVybmFsQXJyYXkgPSBbXTtcbiAgICAgICAgdmFyIGludGVybmFsT2JqZWN0ID0ge307XG4gICAgICAgIHZhciBpbml0UnVuID0gdHJ1ZTtcbiAgICAgICAgdmFyIG9sZExlbmd0aCA9IDA7XG5cbiAgICAgICAgZnVuY3Rpb24gJHdhdGNoQ29sbGVjdGlvbkludGVyY2VwdG9yKF92YWx1ZSkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gX3ZhbHVlO1xuICAgICAgICAgIHZhciBuZXdMZW5ndGgsIGtleSwgYm90aE5hTiwgbmV3SXRlbSwgb2xkSXRlbTtcblxuICAgICAgICAgIGlmICghaXNPYmplY3QobmV3VmFsdWUpKSB7IC8vIGlmIHByaW1pdGl2ZVxuICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICBvbGRWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheUxpa2UobmV3VmFsdWUpKSB7XG4gICAgICAgICAgICBpZiAob2xkVmFsdWUgIT09IGludGVybmFsQXJyYXkpIHtcbiAgICAgICAgICAgICAgLy8gd2UgYXJlIHRyYW5zaXRpb25pbmcgZnJvbSBzb21ldGhpbmcgd2hpY2ggd2FzIG5vdCBhbiBhcnJheSBpbnRvIGFycmF5LlxuICAgICAgICAgICAgICBvbGRWYWx1ZSA9IGludGVybmFsQXJyYXk7XG4gICAgICAgICAgICAgIG9sZExlbmd0aCA9IG9sZFZhbHVlLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5ld0xlbmd0aCA9IG5ld1ZhbHVlLmxlbmd0aDtcblxuICAgICAgICAgICAgaWYgKG9sZExlbmd0aCAhPT0gbmV3TGVuZ3RoKSB7XG4gICAgICAgICAgICAgIC8vIGlmIGxlbmd0aHMgZG8gbm90IG1hdGNoIHdlIG5lZWQgdG8gdHJpZ2dlciBjaGFuZ2Ugbm90aWZpY2F0aW9uXG4gICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XG4gICAgICAgICAgICAgIG9sZFZhbHVlLmxlbmd0aCA9IG9sZExlbmd0aCA9IG5ld0xlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNvcHkgdGhlIGl0ZW1zIHRvIG9sZFZhbHVlIGFuZCBsb29rIGZvciBjaGFuZ2VzLlxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBvbGRJdGVtID0gb2xkVmFsdWVbaV07XG4gICAgICAgICAgICAgIG5ld0l0ZW0gPSBuZXdWYWx1ZVtpXTtcblxuICAgICAgICAgICAgICBib3RoTmFOID0gKG9sZEl0ZW0gIT09IG9sZEl0ZW0pICYmIChuZXdJdGVtICE9PSBuZXdJdGVtKTtcbiAgICAgICAgICAgICAgaWYgKCFib3RoTmFOICYmIChvbGRJdGVtICE9PSBuZXdJdGVtKSkge1xuICAgICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XG4gICAgICAgICAgICAgICAgb2xkVmFsdWVbaV0gPSBuZXdJdGVtO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gaW50ZXJuYWxPYmplY3QpIHtcbiAgICAgICAgICAgICAgLy8gd2UgYXJlIHRyYW5zaXRpb25pbmcgZnJvbSBzb21ldGhpbmcgd2hpY2ggd2FzIG5vdCBhbiBvYmplY3QgaW50byBvYmplY3QuXG4gICAgICAgICAgICAgIG9sZFZhbHVlID0gaW50ZXJuYWxPYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgb2xkTGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNvcHkgdGhlIGl0ZW1zIHRvIG9sZFZhbHVlIGFuZCBsb29rIGZvciBjaGFuZ2VzLlxuICAgICAgICAgICAgbmV3TGVuZ3RoID0gMDtcbiAgICAgICAgICAgIGZvciAoa2V5IGluIG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgIGlmIChuZXdWYWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgbmV3TGVuZ3RoKys7XG4gICAgICAgICAgICAgICAgbmV3SXRlbSA9IG5ld1ZhbHVlW2tleV07XG4gICAgICAgICAgICAgICAgb2xkSXRlbSA9IG9sZFZhbHVlW2tleV07XG5cbiAgICAgICAgICAgICAgICBpZiAoa2V5IGluIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICBib3RoTmFOID0gKG9sZEl0ZW0gIT09IG9sZEl0ZW0pICYmIChuZXdJdGVtICE9PSBuZXdJdGVtKTtcbiAgICAgICAgICAgICAgICAgIGlmICghYm90aE5hTiAmJiAob2xkSXRlbSAhPT0gbmV3SXRlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWVba2V5XSA9IG5ld0l0ZW07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIG9sZExlbmd0aCsrO1xuICAgICAgICAgICAgICAgICAgb2xkVmFsdWVba2V5XSA9IG5ld0l0ZW07XG4gICAgICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9sZExlbmd0aCA+IG5ld0xlbmd0aCkge1xuICAgICAgICAgICAgICAvLyB3ZSB1c2VkIHRvIGhhdmUgbW9yZSBrZXlzLCBuZWVkIHRvIGZpbmQgdGhlbSBhbmQgZGVzdHJveSB0aGVtLlxuICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xuICAgICAgICAgICAgICBmb3IgKGtleSBpbiBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICghbmV3VmFsdWUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgb2xkTGVuZ3RoLS07XG4gICAgICAgICAgICAgICAgICBkZWxldGUgb2xkVmFsdWVba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNoYW5nZURldGVjdGVkO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gJHdhdGNoQ29sbGVjdGlvbkFjdGlvbigpIHtcbiAgICAgICAgICBpZiAoaW5pdFJ1bikge1xuICAgICAgICAgICAgaW5pdFJ1biA9IGZhbHNlO1xuICAgICAgICAgICAgbGlzdGVuZXIobmV3VmFsdWUsIG5ld1ZhbHVlLCBzZWxmKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGlzdGVuZXIobmV3VmFsdWUsIHZlcnlPbGRWYWx1ZSwgc2VsZik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gbWFrZSBhIGNvcHkgZm9yIHRoZSBuZXh0IHRpbWUgYSBjb2xsZWN0aW9uIGlzIGNoYW5nZWRcbiAgICAgICAgICBpZiAodHJhY2tWZXJ5T2xkVmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghaXNPYmplY3QobmV3VmFsdWUpKSB7XG4gICAgICAgICAgICAgIC8vcHJpbWl0aXZlXG4gICAgICAgICAgICAgIHZlcnlPbGRWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5TGlrZShuZXdWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgdmVyeU9sZFZhbHVlID0gbmV3IEFycmF5KG5ld1ZhbHVlLmxlbmd0aCk7XG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3VmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2ZXJ5T2xkVmFsdWVbaV0gPSBuZXdWYWx1ZVtpXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHsgLy8gaWYgb2JqZWN0XG4gICAgICAgICAgICAgIHZlcnlPbGRWYWx1ZSA9IHt9O1xuICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChuZXdWYWx1ZSwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgdmVyeU9sZFZhbHVlW2tleV0gPSBuZXdWYWx1ZVtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLiR3YXRjaChjaGFuZ2VEZXRlY3RvciwgJHdhdGNoQ29sbGVjdGlvbkFjdGlvbik7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdFxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFByb2Nlc3NlcyBhbGwgb2YgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCB3YXRjaGVyc30gb2YgdGhlIGN1cnJlbnQgc2NvcGUgYW5kXG4gICAgICAgKiBpdHMgY2hpbGRyZW4uIEJlY2F1c2UgYSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggd2F0Y2hlcn0ncyBsaXN0ZW5lciBjYW4gY2hhbmdlXG4gICAgICAgKiB0aGUgbW9kZWwsIHRoZSBgJGRpZ2VzdCgpYCBrZWVwcyBjYWxsaW5nIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggd2F0Y2hlcnN9XG4gICAgICAgKiB1bnRpbCBubyBtb3JlIGxpc3RlbmVycyBhcmUgZmlyaW5nLiBUaGlzIG1lYW5zIHRoYXQgaXQgaXMgcG9zc2libGUgdG8gZ2V0IGludG8gYW4gaW5maW5pdGVcbiAgICAgICAqIGxvb3AuIFRoaXMgZnVuY3Rpb24gd2lsbCB0aHJvdyBgJ01heGltdW0gaXRlcmF0aW9uIGxpbWl0IGV4Y2VlZGVkLidgIGlmIHRoZSBudW1iZXIgb2ZcbiAgICAgICAqIGl0ZXJhdGlvbnMgZXhjZWVkcyAxMC5cbiAgICAgICAqXG4gICAgICAgKiBVc3VhbGx5LCB5b3UgZG9uJ3QgY2FsbCBgJGRpZ2VzdCgpYCBkaXJlY3RseSBpblxuICAgICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NvbnRyb2xsZXIgY29udHJvbGxlcnN9IG9yIGluXG4gICAgICAgKiB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmUgZGlyZWN0aXZlc30uXG4gICAgICAgKiBJbnN0ZWFkLCB5b3Ugc2hvdWxkIGNhbGwge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGFwcGx5ICRhcHBseSgpfSAodHlwaWNhbGx5IGZyb20gd2l0aGluXG4gICAgICAgKiBhIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZSBkaXJlY3RpdmV9KSwgd2hpY2ggd2lsbCBmb3JjZSBhIGAkZGlnZXN0KClgLlxuICAgICAgICpcbiAgICAgICAqIElmIHlvdSB3YW50IHRvIGJlIG5vdGlmaWVkIHdoZW5ldmVyIGAkZGlnZXN0KClgIGlzIGNhbGxlZCxcbiAgICAgICAqIHlvdSBjYW4gcmVnaXN0ZXIgYSBgd2F0Y2hFeHByZXNzaW9uYCBmdW5jdGlvbiB3aXRoXG4gICAgICAgKiB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggJHdhdGNoKCl9IHdpdGggbm8gYGxpc3RlbmVyYC5cbiAgICAgICAqXG4gICAgICAgKiBJbiB1bml0IHRlc3RzLCB5b3UgbWF5IG5lZWQgdG8gY2FsbCBgJGRpZ2VzdCgpYCB0byBzaW11bGF0ZSB0aGUgc2NvcGUgbGlmZSBjeWNsZS5cbiAgICAgICAqXG4gICAgICAgKiAjIEV4YW1wbGVcbiAgICAgICAqIGBgYGpzXG4gICAgICAgICAgIHZhciBzY29wZSA9IC4uLjtcbiAgICAgICAgICAgc2NvcGUubmFtZSA9ICdtaXNrbyc7XG4gICAgICAgICAgIHNjb3BlLmNvdW50ZXIgPSAwO1xuXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDApO1xuICAgICAgICAgICBzY29wZS4kd2F0Y2goJ25hbWUnLCBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICBzY29wZS5jb3VudGVyID0gc2NvcGUuY291bnRlciArIDE7XG4gICAgICAgICAgIH0pO1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgwKTtcblxuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgIC8vIHRoZSBsaXN0ZW5lciBpcyBhbHdheXMgY2FsbGVkIGR1cmluZyB0aGUgZmlyc3QgJGRpZ2VzdCBsb29wIGFmdGVyIGl0IHdhcyByZWdpc3RlcmVkXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDEpO1xuXG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgLy8gYnV0IG5vdyBpdCB3aWxsIG5vdCBiZSBjYWxsZWQgdW5sZXNzIHRoZSB2YWx1ZSBjaGFuZ2VzXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDEpO1xuXG4gICAgICAgICAgIHNjb3BlLm5hbWUgPSAnYWRhbSc7XG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMik7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKi9cbiAgICAgICRkaWdlc3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgd2F0Y2gsIHZhbHVlLCBsYXN0LFxuICAgICAgICAgICAgd2F0Y2hlcnMsXG4gICAgICAgICAgICBsZW5ndGgsXG4gICAgICAgICAgICBkaXJ0eSwgdHRsID0gVFRMLFxuICAgICAgICAgICAgbmV4dCwgY3VycmVudCwgdGFyZ2V0ID0gdGhpcyxcbiAgICAgICAgICAgIHdhdGNoTG9nID0gW10sXG4gICAgICAgICAgICBsb2dJZHgsIGxvZ01zZywgYXN5bmNUYXNrO1xuXG4gICAgICAgIGJlZ2luUGhhc2UoJyRkaWdlc3QnKTtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGNoYW5nZXMgdG8gYnJvd3NlciB1cmwgdGhhdCBoYXBwZW5lZCBpbiBzeW5jIGJlZm9yZSB0aGUgY2FsbCB0byAkZGlnZXN0XG4gICAgICAgICRicm93c2VyLiQkY2hlY2tVcmxDaGFuZ2UoKTtcblxuICAgICAgICBpZiAodGhpcyA9PT0gJHJvb3RTY29wZSAmJiBhcHBseUFzeW5jSWQgIT09IG51bGwpIHtcbiAgICAgICAgICAvLyBJZiB0aGlzIGlzIHRoZSByb290IHNjb3BlLCBhbmQgJGFwcGx5QXN5bmMgaGFzIHNjaGVkdWxlZCBhIGRlZmVycmVkICRhcHBseSgpLCB0aGVuXG4gICAgICAgICAgLy8gY2FuY2VsIHRoZSBzY2hlZHVsZWQgJGFwcGx5IGFuZCBmbHVzaCB0aGUgcXVldWUgb2YgZXhwcmVzc2lvbnMgdG8gYmUgZXZhbHVhdGVkLlxuICAgICAgICAgICRicm93c2VyLmRlZmVyLmNhbmNlbChhcHBseUFzeW5jSWQpO1xuICAgICAgICAgIGZsdXNoQXBwbHlBc3luYygpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSBudWxsO1xuXG4gICAgICAgIGRvIHsgLy8gXCJ3aGlsZSBkaXJ0eVwiIGxvb3BcbiAgICAgICAgICBkaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgIGN1cnJlbnQgPSB0YXJnZXQ7XG5cbiAgICAgICAgICB3aGlsZSAoYXN5bmNRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGFzeW5jVGFzayA9IGFzeW5jUXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgYXN5bmNUYXNrLnNjb3BlLiRldmFsKGFzeW5jVGFzay5leHByZXNzaW9uKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0RGlydHlXYXRjaCA9IG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdHJhdmVyc2VTY29wZXNMb29wOlxuICAgICAgICAgIGRvIHsgLy8gXCJ0cmF2ZXJzZSB0aGUgc2NvcGVzXCIgbG9vcFxuICAgICAgICAgICAgaWYgKCh3YXRjaGVycyA9IGN1cnJlbnQuJCR3YXRjaGVycykpIHtcbiAgICAgICAgICAgICAgLy8gcHJvY2VzcyBvdXIgd2F0Y2hlc1xuICAgICAgICAgICAgICBsZW5ndGggPSB3YXRjaGVycy5sZW5ndGg7XG4gICAgICAgICAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICB3YXRjaCA9IHdhdGNoZXJzW2xlbmd0aF07XG4gICAgICAgICAgICAgICAgICAvLyBNb3N0IGNvbW1vbiB3YXRjaGVzIGFyZSBvbiBwcmltaXRpdmVzLCBpbiB3aGljaCBjYXNlIHdlIGNhbiBzaG9ydFxuICAgICAgICAgICAgICAgICAgLy8gY2lyY3VpdCBpdCB3aXRoID09PSBvcGVyYXRvciwgb25seSB3aGVuID09PSBmYWlscyBkbyB3ZSB1c2UgLmVxdWFsc1xuICAgICAgICAgICAgICAgICAgaWYgKHdhdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgPSB3YXRjaC5nZXQoY3VycmVudCkpICE9PSAobGFzdCA9IHdhdGNoLmxhc3QpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhKHdhdGNoLmVxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBlcXVhbHModmFsdWUsIGxhc3QpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgbGFzdCA9PT0gJ251bWJlcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBpc05hTih2YWx1ZSkgJiYgaXNOYU4obGFzdCkpKSkge1xuICAgICAgICAgICAgICAgICAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICBsYXN0RGlydHlXYXRjaCA9IHdhdGNoO1xuICAgICAgICAgICAgICAgICAgICAgIHdhdGNoLmxhc3QgPSB3YXRjaC5lcSA/IGNvcHkodmFsdWUsIG51bGwpIDogdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgd2F0Y2guZm4odmFsdWUsICgobGFzdCA9PT0gaW5pdFdhdGNoVmFsKSA/IHZhbHVlIDogbGFzdCksIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0dGwgPCA1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dJZHggPSA0IC0gdHRsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3YXRjaExvZ1tsb2dJZHhdKSB3YXRjaExvZ1tsb2dJZHhdID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dNc2cgPSAoaXNGdW5jdGlvbih3YXRjaC5leHApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2ZuOiAnICsgKHdhdGNoLmV4cC5uYW1lIHx8IHdhdGNoLmV4cC50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogd2F0Y2guZXhwO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nTXNnICs9ICc7IG5ld1ZhbDogJyArIHRvSnNvbih2YWx1ZSkgKyAnOyBvbGRWYWw6ICcgKyB0b0pzb24obGFzdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXRjaExvZ1tsb2dJZHhdLnB1c2gobG9nTXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAod2F0Y2ggPT09IGxhc3REaXJ0eVdhdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIG1vc3QgcmVjZW50bHkgZGlydHkgd2F0Y2hlciBpcyBub3cgY2xlYW4sIHNob3J0IGNpcmN1aXQgc2luY2UgdGhlIHJlbWFpbmluZyB3YXRjaGVyc1xuICAgICAgICAgICAgICAgICAgICAgIC8vIGhhdmUgYWxyZWFkeSBiZWVuIHRlc3RlZC5cbiAgICAgICAgICAgICAgICAgICAgICBkaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHRyYXZlcnNlU2NvcGVzTG9vcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJbnNhbml0eSBXYXJuaW5nOiBzY29wZSBkZXB0aC1maXJzdCB0cmF2ZXJzYWxcbiAgICAgICAgICAgIC8vIHllcywgdGhpcyBjb2RlIGlzIGEgYml0IGNyYXp5LCBidXQgaXQgd29ya3MgYW5kIHdlIGhhdmUgdGVzdHMgdG8gcHJvdmUgaXQhXG4gICAgICAgICAgICAvLyB0aGlzIHBpZWNlIHNob3VsZCBiZSBrZXB0IGluIHN5bmMgd2l0aCB0aGUgdHJhdmVyc2FsIGluICRicm9hZGNhc3RcbiAgICAgICAgICAgIGlmICghKG5leHQgPSAoY3VycmVudC4kJGNoaWxkSGVhZCB8fFxuICAgICAgICAgICAgICAgIChjdXJyZW50ICE9PSB0YXJnZXQgJiYgY3VycmVudC4kJG5leHRTaWJsaW5nKSkpKSB7XG4gICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50ICE9PSB0YXJnZXQgJiYgIShuZXh0ID0gY3VycmVudC4kJG5leHRTaWJsaW5nKSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IHdoaWxlICgoY3VycmVudCA9IG5leHQpKTtcblxuICAgICAgICAgIC8vIGBicmVhayB0cmF2ZXJzZVNjb3Blc0xvb3A7YCB0YWtlcyB1cyB0byBoZXJlXG5cbiAgICAgICAgICBpZiAoKGRpcnR5IHx8IGFzeW5jUXVldWUubGVuZ3RoKSAmJiAhKHR0bC0tKSkge1xuICAgICAgICAgICAgY2xlYXJQaGFzZSgpO1xuICAgICAgICAgICAgdGhyb3cgJHJvb3RTY29wZU1pbkVycignaW5mZGlnJyxcbiAgICAgICAgICAgICAgICAnezB9ICRkaWdlc3QoKSBpdGVyYXRpb25zIHJlYWNoZWQuIEFib3J0aW5nIVxcbicgK1xuICAgICAgICAgICAgICAgICdXYXRjaGVycyBmaXJlZCBpbiB0aGUgbGFzdCA1IGl0ZXJhdGlvbnM6IHsxfScsXG4gICAgICAgICAgICAgICAgVFRMLCB0b0pzb24od2F0Y2hMb2cpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSB3aGlsZSAoZGlydHkgfHwgYXN5bmNRdWV1ZS5sZW5ndGgpO1xuXG4gICAgICAgIGNsZWFyUGhhc2UoKTtcblxuICAgICAgICB3aGlsZSAocG9zdERpZ2VzdFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwb3N0RGlnZXN0UXVldWUuc2hpZnQoKSgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBldmVudFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZGVzdHJveVxuICAgICAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gc2NvcGUgYmVpbmcgZGVzdHJveWVkXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBCcm9hZGNhc3RlZCB3aGVuIGEgc2NvcGUgYW5kIGl0cyBjaGlsZHJlbiBhcmUgYmVpbmcgZGVzdHJveWVkLlxuICAgICAgICpcbiAgICAgICAqIE5vdGUgdGhhdCwgaW4gQW5ndWxhckpTLCB0aGVyZSBpcyBhbHNvIGEgYCRkZXN0cm95YCBqUXVlcnkgZXZlbnQsIHdoaWNoIGNhbiBiZSB1c2VkIHRvXG4gICAgICAgKiBjbGVhbiB1cCBET00gYmluZGluZ3MgYmVmb3JlIGFuIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gICAgICAgKi9cblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRkZXN0cm95XG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVtb3ZlcyB0aGUgY3VycmVudCBzY29wZSAoYW5kIGFsbCBvZiBpdHMgY2hpbGRyZW4pIGZyb20gdGhlIHBhcmVudCBzY29wZS4gUmVtb3ZhbCBpbXBsaWVzXG4gICAgICAgKiB0aGF0IGNhbGxzIHRvIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCgpfSB3aWxsIG5vIGxvbmdlclxuICAgICAgICogcHJvcGFnYXRlIHRvIHRoZSBjdXJyZW50IHNjb3BlIGFuZCBpdHMgY2hpbGRyZW4uIFJlbW92YWwgYWxzbyBpbXBsaWVzIHRoYXQgdGhlIGN1cnJlbnRcbiAgICAgICAqIHNjb3BlIGlzIGVsaWdpYmxlIGZvciBnYXJiYWdlIGNvbGxlY3Rpb24uXG4gICAgICAgKlxuICAgICAgICogVGhlIGAkZGVzdHJveSgpYCBpcyB1c3VhbGx5IHVzZWQgYnkgZGlyZWN0aXZlcyBzdWNoIGFzXG4gICAgICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fSBmb3IgbWFuYWdpbmcgdGhlXG4gICAgICAgKiB1bnJvbGxpbmcgb2YgdGhlIGxvb3AuXG4gICAgICAgKlxuICAgICAgICogSnVzdCBiZWZvcmUgYSBzY29wZSBpcyBkZXN0cm95ZWQsIGEgYCRkZXN0cm95YCBldmVudCBpcyBicm9hZGNhc3RlZCBvbiB0aGlzIHNjb3BlLlxuICAgICAgICogQXBwbGljYXRpb24gY29kZSBjYW4gcmVnaXN0ZXIgYSBgJGRlc3Ryb3lgIGV2ZW50IGhhbmRsZXIgdGhhdCB3aWxsIGdpdmUgaXQgYSBjaGFuY2UgdG9cbiAgICAgICAqIHBlcmZvcm0gYW55IG5lY2Vzc2FyeSBjbGVhbnVwLlxuICAgICAgICpcbiAgICAgICAqIE5vdGUgdGhhdCwgaW4gQW5ndWxhckpTLCB0aGVyZSBpcyBhbHNvIGEgYCRkZXN0cm95YCBqUXVlcnkgZXZlbnQsIHdoaWNoIGNhbiBiZSB1c2VkIHRvXG4gICAgICAgKiBjbGVhbiB1cCBET00gYmluZGluZ3MgYmVmb3JlIGFuIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gICAgICAgKi9cbiAgICAgICRkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gd2UgY2FuJ3QgZGVzdHJveSB0aGUgcm9vdCBzY29wZSBvciBhIHNjb3BlIHRoYXQgaGFzIGJlZW4gYWxyZWFkeSBkZXN0cm95ZWRcbiAgICAgICAgaWYgKHRoaXMuJCRkZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMuJHBhcmVudDtcblxuICAgICAgICB0aGlzLiRicm9hZGNhc3QoJyRkZXN0cm95Jyk7XG4gICAgICAgIHRoaXMuJCRkZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcyA9PT0gJHJvb3RTY29wZSkgcmV0dXJuO1xuXG4gICAgICAgIGZvciAodmFyIGV2ZW50TmFtZSBpbiB0aGlzLiQkbGlzdGVuZXJDb3VudCkge1xuICAgICAgICAgIGRlY3JlbWVudExpc3RlbmVyQ291bnQodGhpcywgdGhpcy4kJGxpc3RlbmVyQ291bnRbZXZlbnROYW1lXSwgZXZlbnROYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldmVyIGFsbCB0aGUgcmVmZXJlbmNlcyB0byBwYXJlbnQgc2NvcGVzIChhZnRlciB0aGlzIGNsZWFudXAsIHRoZSBjdXJyZW50IHNjb3BlIHNob3VsZFxuICAgICAgICAvLyBub3QgYmUgcmV0YWluZWQgYnkgYW55IG9mIG91ciByZWZlcmVuY2VzIGFuZCBzaG91bGQgYmUgZWxpZ2libGUgZm9yIGdhcmJhZ2UgY29sbGVjdGlvbilcbiAgICAgICAgaWYgKHBhcmVudC4kJGNoaWxkSGVhZCA9PSB0aGlzKSBwYXJlbnQuJCRjaGlsZEhlYWQgPSB0aGlzLiQkbmV4dFNpYmxpbmc7XG4gICAgICAgIGlmIChwYXJlbnQuJCRjaGlsZFRhaWwgPT0gdGhpcykgcGFyZW50LiQkY2hpbGRUYWlsID0gdGhpcy4kJHByZXZTaWJsaW5nO1xuICAgICAgICBpZiAodGhpcy4kJHByZXZTaWJsaW5nKSB0aGlzLiQkcHJldlNpYmxpbmcuJCRuZXh0U2libGluZyA9IHRoaXMuJCRuZXh0U2libGluZztcbiAgICAgICAgaWYgKHRoaXMuJCRuZXh0U2libGluZykgdGhpcy4kJG5leHRTaWJsaW5nLiQkcHJldlNpYmxpbmcgPSB0aGlzLiQkcHJldlNpYmxpbmc7XG5cbiAgICAgICAgLy8gRGlzYWJsZSBsaXN0ZW5lcnMsIHdhdGNoZXJzIGFuZCBhcHBseS9kaWdlc3QgbWV0aG9kc1xuICAgICAgICB0aGlzLiRkZXN0cm95ID0gdGhpcy4kZGlnZXN0ID0gdGhpcy4kYXBwbHkgPSB0aGlzLiRldmFsQXN5bmMgPSB0aGlzLiRhcHBseUFzeW5jID0gbm9vcDtcbiAgICAgICAgdGhpcy4kb24gPSB0aGlzLiR3YXRjaCA9IHRoaXMuJHdhdGNoR3JvdXAgPSBmdW5jdGlvbigpIHsgcmV0dXJuIG5vb3A7IH07XG4gICAgICAgIHRoaXMuJCRsaXN0ZW5lcnMgPSB7fTtcblxuICAgICAgICAvLyBBbGwgb2YgdGhlIGNvZGUgYmVsb3cgaXMgYm9ndXMgY29kZSB0aGF0IHdvcmtzIGFyb3VuZCBWOCdzIG1lbW9yeSBsZWFrIHZpYSBvcHRpbWl6ZWQgY29kZVxuICAgICAgICAvLyBhbmQgaW5saW5lIGNhY2hlcy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gc2VlOlxuICAgICAgICAvLyAtIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMDczI2MyNlxuICAgICAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzY3OTQjaXNzdWVjb21tZW50LTM4NjQ4OTA5XG4gICAgICAgIC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvMTMxMyNpc3N1ZWNvbW1lbnQtMTAzNzg0NTFcblxuICAgICAgICB0aGlzLiRwYXJlbnQgPSB0aGlzLiQkbmV4dFNpYmxpbmcgPSB0aGlzLiQkcHJldlNpYmxpbmcgPSB0aGlzLiQkY2hpbGRIZWFkID1cbiAgICAgICAgICAgIHRoaXMuJCRjaGlsZFRhaWwgPSB0aGlzLiRyb290ID0gdGhpcy4kJHdhdGNoZXJzID0gbnVsbDtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZXZhbFxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEV4ZWN1dGVzIHRoZSBgZXhwcmVzc2lvbmAgb24gdGhlIGN1cnJlbnQgc2NvcGUgYW5kIHJldHVybnMgdGhlIHJlc3VsdC4gQW55IGV4Y2VwdGlvbnMgaW5cbiAgICAgICAqIHRoZSBleHByZXNzaW9uIGFyZSBwcm9wYWdhdGVkICh1bmNhdWdodCkuIFRoaXMgaXMgdXNlZnVsIHdoZW4gZXZhbHVhdGluZyBBbmd1bGFyXG4gICAgICAgKiBleHByZXNzaW9ucy5cbiAgICAgICAqXG4gICAgICAgKiAjIEV4YW1wbGVcbiAgICAgICAqIGBgYGpzXG4gICAgICAgICAgIHZhciBzY29wZSA9IG5nLiRyb290U2NvcGUuU2NvcGUoKTtcbiAgICAgICAgICAgc2NvcGUuYSA9IDE7XG4gICAgICAgICAgIHNjb3BlLmIgPSAyO1xuXG4gICAgICAgICAgIGV4cGVjdChzY29wZS4kZXZhbCgnYStiJykpLnRvRXF1YWwoMyk7XG4gICAgICAgICAgIGV4cGVjdChzY29wZS4kZXZhbChmdW5jdGlvbihzY29wZSl7IHJldHVybiBzY29wZS5hICsgc2NvcGUuYjsgfSkpLnRvRXF1YWwoMyk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0geyhzdHJpbmd8ZnVuY3Rpb24oKSk9fSBleHByZXNzaW9uIEFuIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZC5cbiAgICAgICAqXG4gICAgICAgKiAgICAtIGBzdHJpbmdgOiBleGVjdXRlIHVzaW5nIHRoZSBydWxlcyBhcyBkZWZpbmVkIGluICB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufS5cbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGN1cnJlbnQgYHNjb3BlYCBwYXJhbWV0ZXIuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsob2JqZWN0KT19IGxvY2FscyBMb2NhbCB2YXJpYWJsZXMgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluIHNjb3BlLlxuICAgICAgICogQHJldHVybnMgeyp9IFRoZSByZXN1bHQgb2YgZXZhbHVhdGluZyB0aGUgZXhwcmVzc2lvbi5cbiAgICAgICAqL1xuICAgICAgJGV2YWw6IGZ1bmN0aW9uKGV4cHIsIGxvY2Fscykge1xuICAgICAgICByZXR1cm4gJHBhcnNlKGV4cHIpKHRoaXMsIGxvY2Fscyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGV2YWxBc3luY1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEV4ZWN1dGVzIHRoZSBleHByZXNzaW9uIG9uIHRoZSBjdXJyZW50IHNjb3BlIGF0IGEgbGF0ZXIgcG9pbnQgaW4gdGltZS5cbiAgICAgICAqXG4gICAgICAgKiBUaGUgYCRldmFsQXN5bmNgIG1ha2VzIG5vIGd1YXJhbnRlZXMgYXMgdG8gd2hlbiB0aGUgYGV4cHJlc3Npb25gIHdpbGwgYmUgZXhlY3V0ZWQsIG9ubHlcbiAgICAgICAqIHRoYXQ6XG4gICAgICAgKlxuICAgICAgICogICAtIGl0IHdpbGwgZXhlY3V0ZSBhZnRlciB0aGUgZnVuY3Rpb24gdGhhdCBzY2hlZHVsZWQgdGhlIGV2YWx1YXRpb24gKHByZWZlcmFibHkgYmVmb3JlIERPTVxuICAgICAgICogICAgIHJlbmRlcmluZykuXG4gICAgICAgKiAgIC0gYXQgbGVhc3Qgb25lIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCBjeWNsZX0gd2lsbCBiZSBwZXJmb3JtZWQgYWZ0ZXJcbiAgICAgICAqICAgICBgZXhwcmVzc2lvbmAgZXhlY3V0aW9uLlxuICAgICAgICpcbiAgICAgICAqIEFueSBleGNlcHRpb25zIGZyb20gdGhlIGV4ZWN1dGlvbiBvZiB0aGUgZXhwcmVzc2lvbiBhcmUgZm9yd2FyZGVkIHRvIHRoZVxuICAgICAgICoge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfSBzZXJ2aWNlLlxuICAgICAgICpcbiAgICAgICAqIF9fTm90ZTpfXyBpZiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBvdXRzaWRlIG9mIGEgYCRkaWdlc3RgIGN5Y2xlLCBhIG5ldyBgJGRpZ2VzdGAgY3ljbGVcbiAgICAgICAqIHdpbGwgYmUgc2NoZWR1bGVkLiBIb3dldmVyLCBpdCBpcyBlbmNvdXJhZ2VkIHRvIGFsd2F5cyBjYWxsIGNvZGUgdGhhdCBjaGFuZ2VzIHRoZSBtb2RlbFxuICAgICAgICogZnJvbSB3aXRoaW4gYW4gYCRhcHBseWAgY2FsbC4gVGhhdCBpbmNsdWRlcyBjb2RlIGV2YWx1YXRlZCB2aWEgYCRldmFsQXN5bmNgLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7KHN0cmluZ3xmdW5jdGlvbigpKT19IGV4cHJlc3Npb24gQW4gYW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkLlxuICAgICAgICpcbiAgICAgICAqICAgIC0gYHN0cmluZ2A6IGV4ZWN1dGUgdXNpbmcgdGhlIHJ1bGVzIGFzIGRlZmluZWQgaW4ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0uXG4gICAgICAgKiAgICAtIGBmdW5jdGlvbihzY29wZSlgOiBleGVjdXRlIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSBjdXJyZW50IGBzY29wZWAgcGFyYW1ldGVyLlxuICAgICAgICpcbiAgICAgICAqL1xuICAgICAgJGV2YWxBc3luYzogZnVuY3Rpb24oZXhwcikge1xuICAgICAgICAvLyBpZiB3ZSBhcmUgb3V0c2lkZSBvZiBhbiAkZGlnZXN0IGxvb3AgYW5kIHRoaXMgaXMgdGhlIGZpcnN0IHRpbWUgd2UgYXJlIHNjaGVkdWxpbmcgYXN5bmNcbiAgICAgICAgLy8gdGFzayBhbHNvIHNjaGVkdWxlIGFzeW5jIGF1dG8tZmx1c2hcbiAgICAgICAgaWYgKCEkcm9vdFNjb3BlLiQkcGhhc2UgJiYgIWFzeW5jUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgJGJyb3dzZXIuZGVmZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoYXN5bmNRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBhc3luY1F1ZXVlLnB1c2goe3Njb3BlOiB0aGlzLCBleHByZXNzaW9uOiBleHByfSk7XG4gICAgICB9LFxuXG4gICAgICAkJHBvc3REaWdlc3Q6IGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgIHBvc3REaWdlc3RRdWV1ZS5wdXNoKGZuKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkYXBwbHlcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBgJGFwcGx5KClgIGlzIHVzZWQgdG8gZXhlY3V0ZSBhbiBleHByZXNzaW9uIGluIGFuZ3VsYXIgZnJvbSBvdXRzaWRlIG9mIHRoZSBhbmd1bGFyXG4gICAgICAgKiBmcmFtZXdvcmsuIChGb3IgZXhhbXBsZSBmcm9tIGJyb3dzZXIgRE9NIGV2ZW50cywgc2V0VGltZW91dCwgWEhSIG9yIHRoaXJkIHBhcnR5IGxpYnJhcmllcykuXG4gICAgICAgKiBCZWNhdXNlIHdlIGFyZSBjYWxsaW5nIGludG8gdGhlIGFuZ3VsYXIgZnJhbWV3b3JrIHdlIG5lZWQgdG8gcGVyZm9ybSBwcm9wZXIgc2NvcGUgbGlmZVxuICAgICAgICogY3ljbGUgb2Yge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyIGV4Y2VwdGlvbiBoYW5kbGluZ30sXG4gICAgICAgKiB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0IGV4ZWN1dGluZyB3YXRjaGVzfS5cbiAgICAgICAqXG4gICAgICAgKiAjIyBMaWZlIGN5Y2xlXG4gICAgICAgKlxuICAgICAgICogIyBQc2V1ZG8tQ29kZSBvZiBgJGFwcGx5KClgXG4gICAgICAgKiBgYGBqc1xuICAgICAgICAgICBmdW5jdGlvbiAkYXBwbHkoZXhwcikge1xuICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICByZXR1cm4gJGV2YWwoZXhwcik7XG4gICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICRyb290LiRkaWdlc3QoKTtcbiAgICAgICAgICAgICB9XG4gICAgICAgICAgIH1cbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKiBTY29wZSdzIGAkYXBwbHkoKWAgbWV0aG9kIHRyYW5zaXRpb25zIHRocm91Z2ggdGhlIGZvbGxvd2luZyBzdGFnZXM6XG4gICAgICAgKlxuICAgICAgICogMS4gVGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIGV4ZWN1dGVkIHVzaW5nIHRoZVxuICAgICAgICogICAge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGV2YWwgJGV2YWwoKX0gbWV0aG9kLlxuICAgICAgICogMi4gQW55IGV4Y2VwdGlvbnMgZnJvbSB0aGUgZXhlY3V0aW9uIG9mIHRoZSBleHByZXNzaW9uIGFyZSBmb3J3YXJkZWQgdG8gdGhlXG4gICAgICAgKiAgICB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9IHNlcnZpY2UuXG4gICAgICAgKiAzLiBUaGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIHdhdGNofSBsaXN0ZW5lcnMgYXJlIGZpcmVkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZVxuICAgICAgICogICAgZXhwcmVzc2lvbiB3YXMgZXhlY3V0ZWQgdXNpbmcgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCgpfSBtZXRob2QuXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7KHN0cmluZ3xmdW5jdGlvbigpKT19IGV4cCBBbiBhbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQuXG4gICAgICAgKlxuICAgICAgICogICAgLSBgc3RyaW5nYDogZXhlY3V0ZSB1c2luZyB0aGUgcnVsZXMgYXMgZGVmaW5lZCBpbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufS5cbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggY3VycmVudCBgc2NvcGVgIHBhcmFtZXRlci5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdCBvZiBldmFsdWF0aW5nIHRoZSBleHByZXNzaW9uLlxuICAgICAgICovXG4gICAgICAkYXBwbHk6IGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBiZWdpblBoYXNlKCckYXBwbHknKTtcbiAgICAgICAgICByZXR1cm4gdGhpcy4kZXZhbChleHByKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGNsZWFyUGhhc2UoKTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRhcHBseUFzeW5jXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogU2NoZWR1bGUgdGhlIGludm9rYXRpb24gb2YgJGFwcGx5IHRvIG9jY3VyIGF0IGEgbGF0ZXIgdGltZS4gVGhlIGFjdHVhbCB0aW1lIGRpZmZlcmVuY2VcbiAgICAgICAqIHZhcmllcyBhY3Jvc3MgYnJvd3NlcnMsIGJ1dCBpcyB0eXBpY2FsbHkgYXJvdW5kIH4xMCBtaWxsaXNlY29uZHMuXG4gICAgICAgKlxuICAgICAgICogVGhpcyBjYW4gYmUgdXNlZCB0byBxdWV1ZSB1cCBtdWx0aXBsZSBleHByZXNzaW9ucyB3aGljaCBuZWVkIHRvIGJlIGV2YWx1YXRlZCBpbiB0aGUgc2FtZVxuICAgICAgICogZGlnZXN0LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7KHN0cmluZ3xmdW5jdGlvbigpKT19IGV4cCBBbiBhbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQuXG4gICAgICAgKlxuICAgICAgICogICAgLSBgc3RyaW5nYDogZXhlY3V0ZSB1c2luZyB0aGUgcnVsZXMgYXMgZGVmaW5lZCBpbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufS5cbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggY3VycmVudCBgc2NvcGVgIHBhcmFtZXRlci5cbiAgICAgICAqL1xuICAgICAgJGFwcGx5QXN5bmM6IGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgICAgdmFyIHNjb3BlID0gdGhpcztcbiAgICAgICAgZXhwciAmJiBhcHBseUFzeW5jUXVldWUucHVzaCgkYXBwbHlBc3luY0V4cHJlc3Npb24pO1xuICAgICAgICBzY2hlZHVsZUFwcGx5QXN5bmMoKTtcblxuICAgICAgICBmdW5jdGlvbiAkYXBwbHlBc3luY0V4cHJlc3Npb24oKSB7XG4gICAgICAgICAgc2NvcGUuJGV2YWwoZXhwcik7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkb25cbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBMaXN0ZW5zIG9uIGV2ZW50cyBvZiBhIGdpdmVuIHR5cGUuIFNlZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZW1pdCAkZW1pdH0gZm9yXG4gICAgICAgKiBkaXNjdXNzaW9uIG9mIGV2ZW50IGxpZmUgY3ljbGUuXG4gICAgICAgKlxuICAgICAgICogVGhlIGV2ZW50IGxpc3RlbmVyIGZ1bmN0aW9uIGZvcm1hdCBpczogYGZ1bmN0aW9uKGV2ZW50LCBhcmdzLi4uKWAuIFRoZSBgZXZlbnRgIG9iamVjdFxuICAgICAgICogcGFzc2VkIGludG8gdGhlIGxpc3RlbmVyIGhhcyB0aGUgZm9sbG93aW5nIGF0dHJpYnV0ZXM6XG4gICAgICAgKlxuICAgICAgICogICAtIGB0YXJnZXRTY29wZWAgLSBge1Njb3BlfWA6IHRoZSBzY29wZSBvbiB3aGljaCB0aGUgZXZlbnQgd2FzIGAkZW1pdGAtZWQgb3JcbiAgICAgICAqICAgICBgJGJyb2FkY2FzdGAtZWQuXG4gICAgICAgKiAgIC0gYGN1cnJlbnRTY29wZWAgLSBge1Njb3BlfWA6IHRoZSBzY29wZSB0aGF0IGlzIGN1cnJlbnRseSBoYW5kbGluZyB0aGUgZXZlbnQuIE9uY2UgdGhlXG4gICAgICAgKiAgICAgZXZlbnQgcHJvcGFnYXRlcyB0aHJvdWdoIHRoZSBzY29wZSBoaWVyYXJjaHksIHRoaXMgcHJvcGVydHkgaXMgc2V0IHRvIG51bGwuXG4gICAgICAgKiAgIC0gYG5hbWVgIC0gYHtzdHJpbmd9YDogbmFtZSBvZiB0aGUgZXZlbnQuXG4gICAgICAgKiAgIC0gYHN0b3BQcm9wYWdhdGlvbmAgLSBge2Z1bmN0aW9uPX1gOiBjYWxsaW5nIGBzdG9wUHJvcGFnYXRpb25gIGZ1bmN0aW9uIHdpbGwgY2FuY2VsXG4gICAgICAgKiAgICAgZnVydGhlciBldmVudCBwcm9wYWdhdGlvbiAoYXZhaWxhYmxlIG9ubHkgZm9yIGV2ZW50cyB0aGF0IHdlcmUgYCRlbWl0YC1lZCkuXG4gICAgICAgKiAgIC0gYHByZXZlbnREZWZhdWx0YCAtIGB7ZnVuY3Rpb259YDogY2FsbGluZyBgcHJldmVudERlZmF1bHRgIHNldHMgYGRlZmF1bHRQcmV2ZW50ZWRgIGZsYWdcbiAgICAgICAqICAgICB0byB0cnVlLlxuICAgICAgICogICAtIGBkZWZhdWx0UHJldmVudGVkYCAtIGB7Ym9vbGVhbn1gOiB0cnVlIGlmIGBwcmV2ZW50RGVmYXVsdGAgd2FzIGNhbGxlZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBFdmVudCBuYW1lIHRvIGxpc3RlbiBvbi5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXZlbnQsIC4uLmFyZ3MpfSBsaXN0ZW5lciBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhlIGV2ZW50IGlzIGVtaXR0ZWQuXG4gICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gUmV0dXJucyBhIGRlcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGZvciB0aGlzIGxpc3RlbmVyLlxuICAgICAgICovXG4gICAgICAkb246IGZ1bmN0aW9uKG5hbWUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBuYW1lZExpc3RlbmVycyA9IHRoaXMuJCRsaXN0ZW5lcnNbbmFtZV07XG4gICAgICAgIGlmICghbmFtZWRMaXN0ZW5lcnMpIHtcbiAgICAgICAgICB0aGlzLiQkbGlzdGVuZXJzW25hbWVdID0gbmFtZWRMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBuYW1lZExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblxuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXM7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBpZiAoIWN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdKSB7XG4gICAgICAgICAgICBjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdKys7XG4gICAgICAgIH0gd2hpbGUgKChjdXJyZW50ID0gY3VycmVudC4kcGFyZW50KSk7XG5cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGluZGV4T2ZMaXN0ZW5lciA9IG5hbWVkTGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgICAgIGlmIChpbmRleE9mTGlzdGVuZXIgIT09IC0xKSB7XG4gICAgICAgICAgICBuYW1lZExpc3RlbmVyc1tpbmRleE9mTGlzdGVuZXJdID0gbnVsbDtcbiAgICAgICAgICAgIGRlY3JlbWVudExpc3RlbmVyQ291bnQoc2VsZiwgMSwgbmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGVtaXRcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBEaXNwYXRjaGVzIGFuIGV2ZW50IGBuYW1lYCB1cHdhcmRzIHRocm91Z2ggdGhlIHNjb3BlIGhpZXJhcmNoeSBub3RpZnlpbmcgdGhlXG4gICAgICAgKiByZWdpc3RlcmVkIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn0gbGlzdGVuZXJzLlxuICAgICAgICpcbiAgICAgICAqIFRoZSBldmVudCBsaWZlIGN5Y2xlIHN0YXJ0cyBhdCB0aGUgc2NvcGUgb24gd2hpY2ggYCRlbWl0YCB3YXMgY2FsbGVkLiBBbGxcbiAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbiBsaXN0ZW5lcnN9IGxpc3RlbmluZyBmb3IgYG5hbWVgIGV2ZW50IG9uIHRoaXMgc2NvcGUgZ2V0XG4gICAgICAgKiBub3RpZmllZC4gQWZ0ZXJ3YXJkcywgdGhlIGV2ZW50IHRyYXZlcnNlcyB1cHdhcmRzIHRvd2FyZCB0aGUgcm9vdCBzY29wZSBhbmQgY2FsbHMgYWxsXG4gICAgICAgKiByZWdpc3RlcmVkIGxpc3RlbmVycyBhbG9uZyB0aGUgd2F5LiBUaGUgZXZlbnQgd2lsbCBzdG9wIHByb3BhZ2F0aW5nIGlmIG9uZSBvZiB0aGUgbGlzdGVuZXJzXG4gICAgICAgKiBjYW5jZWxzIGl0LlxuICAgICAgICpcbiAgICAgICAqIEFueSBleGNlcHRpb24gZW1pdHRlZCBmcm9tIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb24gbGlzdGVuZXJzfSB3aWxsIGJlIHBhc3NlZFxuICAgICAgICogb250byB0aGUge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfSBzZXJ2aWNlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEV2ZW50IG5hbWUgdG8gZW1pdC5cbiAgICAgICAqIEBwYXJhbSB7Li4uKn0gYXJncyBPcHRpb25hbCBvbmUgb3IgbW9yZSBhcmd1bWVudHMgd2hpY2ggd2lsbCBiZSBwYXNzZWQgb250byB0aGUgZXZlbnQgbGlzdGVuZXJzLlxuICAgICAgICogQHJldHVybiB7T2JqZWN0fSBFdmVudCBvYmplY3QgKHNlZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb259KS5cbiAgICAgICAqL1xuICAgICAgJGVtaXQ6IGZ1bmN0aW9uKG5hbWUsIGFyZ3MpIHtcbiAgICAgICAgdmFyIGVtcHR5ID0gW10sXG4gICAgICAgICAgICBuYW1lZExpc3RlbmVycyxcbiAgICAgICAgICAgIHNjb3BlID0gdGhpcyxcbiAgICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbiA9IGZhbHNlLFxuICAgICAgICAgICAgZXZlbnQgPSB7XG4gICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgIHRhcmdldFNjb3BlOiBzY29wZSxcbiAgICAgICAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHtzdG9wUHJvcGFnYXRpb24gPSB0cnVlO30sXG4gICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBldmVudC5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZGVmYXVsdFByZXZlbnRlZDogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsaXN0ZW5lckFyZ3MgPSBjb25jYXQoW2V2ZW50XSwgYXJndW1lbnRzLCAxKSxcbiAgICAgICAgICAgIGksIGxlbmd0aDtcblxuICAgICAgICBkbyB7XG4gICAgICAgICAgbmFtZWRMaXN0ZW5lcnMgPSBzY29wZS4kJGxpc3RlbmVyc1tuYW1lXSB8fCBlbXB0eTtcbiAgICAgICAgICBldmVudC5jdXJyZW50U2NvcGUgPSBzY29wZTtcbiAgICAgICAgICBmb3IgKGk9MCwgbGVuZ3RoPW5hbWVkTGlzdGVuZXJzLmxlbmd0aDsgaTxsZW5ndGg7IGkrKykge1xuXG4gICAgICAgICAgICAvLyBpZiBsaXN0ZW5lcnMgd2VyZSBkZXJlZ2lzdGVyZWQsIGRlZnJhZ21lbnQgdGhlIGFycmF5XG4gICAgICAgICAgICBpZiAoIW5hbWVkTGlzdGVuZXJzW2ldKSB7XG4gICAgICAgICAgICAgIG5hbWVkTGlzdGVuZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICBsZW5ndGgtLTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAvL2FsbG93IGFsbCBsaXN0ZW5lcnMgYXR0YWNoZWQgdG8gdGhlIGN1cnJlbnQgc2NvcGUgdG8gcnVuXG4gICAgICAgICAgICAgIG5hbWVkTGlzdGVuZXJzW2ldLmFwcGx5KG51bGwsIGxpc3RlbmVyQXJncyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvL2lmIGFueSBsaXN0ZW5lciBvbiB0aGUgY3VycmVudCBzY29wZSBzdG9wcyBwcm9wYWdhdGlvbiwgcHJldmVudCBidWJibGluZ1xuICAgICAgICAgIGlmIChzdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vdHJhdmVyc2UgdXB3YXJkc1xuICAgICAgICAgIHNjb3BlID0gc2NvcGUuJHBhcmVudDtcbiAgICAgICAgfSB3aGlsZSAoc2NvcGUpO1xuXG4gICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgfSxcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGJyb2FkY2FzdFxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIERpc3BhdGNoZXMgYW4gZXZlbnQgYG5hbWVgIGRvd253YXJkcyB0byBhbGwgY2hpbGQgc2NvcGVzIChhbmQgdGhlaXIgY2hpbGRyZW4pIG5vdGlmeWluZyB0aGVcbiAgICAgICAqIHJlZ2lzdGVyZWQge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9ufSBsaXN0ZW5lcnMuXG4gICAgICAgKlxuICAgICAgICogVGhlIGV2ZW50IGxpZmUgY3ljbGUgc3RhcnRzIGF0IHRoZSBzY29wZSBvbiB3aGljaCBgJGJyb2FkY2FzdGAgd2FzIGNhbGxlZC4gQWxsXG4gICAgICAgKiB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb24gbGlzdGVuZXJzfSBsaXN0ZW5pbmcgZm9yIGBuYW1lYCBldmVudCBvbiB0aGlzIHNjb3BlIGdldFxuICAgICAgICogbm90aWZpZWQuIEFmdGVyd2FyZHMsIHRoZSBldmVudCBwcm9wYWdhdGVzIHRvIGFsbCBkaXJlY3QgYW5kIGluZGlyZWN0IHNjb3BlcyBvZiB0aGUgY3VycmVudFxuICAgICAgICogc2NvcGUgYW5kIGNhbGxzIGFsbCByZWdpc3RlcmVkIGxpc3RlbmVycyBhbG9uZyB0aGUgd2F5LiBUaGUgZXZlbnQgY2Fubm90IGJlIGNhbmNlbGVkLlxuICAgICAgICpcbiAgICAgICAqIEFueSBleGNlcHRpb24gZW1pdHRlZCBmcm9tIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb24gbGlzdGVuZXJzfSB3aWxsIGJlIHBhc3NlZFxuICAgICAgICogb250byB0aGUge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfSBzZXJ2aWNlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEV2ZW50IG5hbWUgdG8gYnJvYWRjYXN0LlxuICAgICAgICogQHBhcmFtIHsuLi4qfSBhcmdzIE9wdGlvbmFsIG9uZSBvciBtb3JlIGFyZ3VtZW50cyB3aGljaCB3aWxsIGJlIHBhc3NlZCBvbnRvIHRoZSBldmVudCBsaXN0ZW5lcnMuXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEV2ZW50IG9iamVjdCwgc2VlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn1cbiAgICAgICAqL1xuICAgICAgJGJyb2FkY2FzdDogZnVuY3Rpb24obmFtZSwgYXJncykge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcyxcbiAgICAgICAgICAgIGN1cnJlbnQgPSB0YXJnZXQsXG4gICAgICAgICAgICBuZXh0ID0gdGFyZ2V0LFxuICAgICAgICAgICAgZXZlbnQgPSB7XG4gICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgIHRhcmdldFNjb3BlOiB0YXJnZXQsXG4gICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBldmVudC5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZGVmYXVsdFByZXZlbnRlZDogZmFsc2VcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgaWYgKCF0YXJnZXQuJCRsaXN0ZW5lckNvdW50W25hbWVdKSByZXR1cm4gZXZlbnQ7XG5cbiAgICAgICAgdmFyIGxpc3RlbmVyQXJncyA9IGNvbmNhdChbZXZlbnRdLCBhcmd1bWVudHMsIDEpLFxuICAgICAgICAgICAgbGlzdGVuZXJzLCBpLCBsZW5ndGg7XG5cbiAgICAgICAgLy9kb3duIHdoaWxlIHlvdSBjYW4sIHRoZW4gdXAgYW5kIG5leHQgc2libGluZyBvciB1cCBhbmQgbmV4dCBzaWJsaW5nIHVudGlsIGJhY2sgYXQgcm9vdFxuICAgICAgICB3aGlsZSAoKGN1cnJlbnQgPSBuZXh0KSkge1xuICAgICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IGN1cnJlbnQ7XG4gICAgICAgICAgbGlzdGVuZXJzID0gY3VycmVudC4kJGxpc3RlbmVyc1tuYW1lXSB8fCBbXTtcbiAgICAgICAgICBmb3IgKGk9MCwgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aDsgaTxsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gaWYgbGlzdGVuZXJzIHdlcmUgZGVyZWdpc3RlcmVkLCBkZWZyYWdtZW50IHRoZSBhcnJheVxuICAgICAgICAgICAgaWYgKCFsaXN0ZW5lcnNbaV0pIHtcbiAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICBsZW5ndGgtLTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGxpc3RlbmVyc1tpXS5hcHBseShudWxsLCBsaXN0ZW5lckFyZ3MpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBJbnNhbml0eSBXYXJuaW5nOiBzY29wZSBkZXB0aC1maXJzdCB0cmF2ZXJzYWxcbiAgICAgICAgICAvLyB5ZXMsIHRoaXMgY29kZSBpcyBhIGJpdCBjcmF6eSwgYnV0IGl0IHdvcmtzIGFuZCB3ZSBoYXZlIHRlc3RzIHRvIHByb3ZlIGl0IVxuICAgICAgICAgIC8vIHRoaXMgcGllY2Ugc2hvdWxkIGJlIGtlcHQgaW4gc3luYyB3aXRoIHRoZSB0cmF2ZXJzYWwgaW4gJGRpZ2VzdFxuICAgICAgICAgIC8vICh0aG91Z2ggaXQgZGlmZmVycyBkdWUgdG8gaGF2aW5nIHRoZSBleHRyYSBjaGVjayBmb3IgJCRsaXN0ZW5lckNvdW50KVxuICAgICAgICAgIGlmICghKG5leHQgPSAoKGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdICYmIGN1cnJlbnQuJCRjaGlsZEhlYWQpIHx8XG4gICAgICAgICAgICAgIChjdXJyZW50ICE9PSB0YXJnZXQgJiYgY3VycmVudC4kJG5leHRTaWJsaW5nKSkpKSB7XG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCAhPT0gdGFyZ2V0ICYmICEobmV4dCA9IGN1cnJlbnQuJCRuZXh0U2libGluZykpIHtcbiAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuJHBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBldmVudC5jdXJyZW50U2NvcGUgPSBudWxsO1xuICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciAkcm9vdFNjb3BlID0gbmV3IFNjb3BlKCk7XG5cbiAgICAvL1RoZSBpbnRlcm5hbCBxdWV1ZXMuIEV4cG9zZSB0aGVtIG9uIHRoZSAkcm9vdFNjb3BlIGZvciBkZWJ1Z2dpbmcvdGVzdGluZyBwdXJwb3Nlcy5cbiAgICB2YXIgYXN5bmNRdWV1ZSA9ICRyb290U2NvcGUuJCRhc3luY1F1ZXVlID0gW107XG4gICAgdmFyIHBvc3REaWdlc3RRdWV1ZSA9ICRyb290U2NvcGUuJCRwb3N0RGlnZXN0UXVldWUgPSBbXTtcbiAgICB2YXIgYXBwbHlBc3luY1F1ZXVlID0gJHJvb3RTY29wZS4kJGFwcGx5QXN5bmNRdWV1ZSA9IFtdO1xuXG4gICAgcmV0dXJuICRyb290U2NvcGU7XG5cblxuICAgIGZ1bmN0aW9uIGJlZ2luUGhhc2UocGhhc2UpIHtcbiAgICAgIGlmICgkcm9vdFNjb3BlLiQkcGhhc2UpIHtcbiAgICAgICAgdGhyb3cgJHJvb3RTY29wZU1pbkVycignaW5wcm9nJywgJ3swfSBhbHJlYWR5IGluIHByb2dyZXNzJywgJHJvb3RTY29wZS4kJHBoYXNlKTtcbiAgICAgIH1cblxuICAgICAgJHJvb3RTY29wZS4kJHBoYXNlID0gcGhhc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYXJQaGFzZSgpIHtcbiAgICAgICRyb290U2NvcGUuJCRwaGFzZSA9IG51bGw7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBkZWNyZW1lbnRMaXN0ZW5lckNvdW50KGN1cnJlbnQsIGNvdW50LCBuYW1lKSB7XG4gICAgICBkbyB7XG4gICAgICAgIGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdIC09IGNvdW50O1xuXG4gICAgICAgIGlmIChjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSA9PT0gMCkge1xuICAgICAgICAgIGRlbGV0ZSBjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXTtcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAoKGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBmdW5jdGlvbiB1c2VkIGFzIGFuIGluaXRpYWwgdmFsdWUgZm9yIHdhdGNoZXJzLlxuICAgICAqIGJlY2F1c2UgaXQncyB1bmlxdWUgd2UgY2FuIGVhc2lseSB0ZWxsIGl0IGFwYXJ0IGZyb20gb3RoZXIgdmFsdWVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdFdhdGNoVmFsKCkge31cblxuICAgIGZ1bmN0aW9uIGZsdXNoQXBwbHlBc3luYygpIHtcbiAgICAgIHdoaWxlIChhcHBseUFzeW5jUXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXBwbHlBc3luY1F1ZXVlLnNoaWZ0KCkoKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBhcHBseUFzeW5jSWQgPSBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlQXBwbHlBc3luYygpIHtcbiAgICAgIGlmIChhcHBseUFzeW5jSWQgPT09IG51bGwpIHtcbiAgICAgICAgYXBwbHlBc3luY0lkID0gJGJyb3dzZXIuZGVmZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZmx1c2hBcHBseUFzeW5jKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XTtcbn1cblxuLyoqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFByaXZhdGUgc2VydmljZSB0byBzYW5pdGl6ZSB1cmlzIGZvciBsaW5rcyBhbmQgaW1hZ2VzLiBVc2VkIGJ5ICRjb21waWxlIGFuZCAkc2FuaXRpemUuXG4gKi9cbmZ1bmN0aW9uICQkU2FuaXRpemVVcmlQcm92aWRlcigpIHtcbiAgdmFyIGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gL15cXHMqKGh0dHBzP3xmdHB8bWFpbHRvfHRlbHxmaWxlKTovLFxuICAgIGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCA9IC9eXFxzKigoaHR0cHM/fGZ0cHxmaWxlfGJsb2IpOnxkYXRhOmltYWdlXFwvKS87XG5cbiAgLyoqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXRyaWV2ZXMgb3Igb3ZlcnJpZGVzIHRoZSBkZWZhdWx0IHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGlzIHVzZWQgZm9yIHdoaXRlbGlzdGluZyBvZiBzYWZlXG4gICAqIHVybHMgZHVyaW5nIGFbaHJlZl0gc2FuaXRpemF0aW9uLlxuICAgKlxuICAgKiBUaGUgc2FuaXRpemF0aW9uIGlzIGEgc2VjdXJpdHkgbWVhc3VyZSBhaW1lZCBhdCBwcmV2ZW50IFhTUyBhdHRhY2tzIHZpYSBodG1sIGxpbmtzLlxuICAgKlxuICAgKiBBbnkgdXJsIGFib3V0IHRvIGJlIGFzc2lnbmVkIHRvIGFbaHJlZl0gdmlhIGRhdGEtYmluZGluZyBpcyBmaXJzdCBub3JtYWxpemVkIGFuZCB0dXJuZWQgaW50b1xuICAgKiBhbiBhYnNvbHV0ZSB1cmwuIEFmdGVyd2FyZHMsIHRoZSB1cmwgaXMgbWF0Y2hlZCBhZ2FpbnN0IHRoZSBgYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3RgXG4gICAqIHJlZ3VsYXIgZXhwcmVzc2lvbi4gSWYgYSBtYXRjaCBpcyBmb3VuZCwgdGhlIG9yaWdpbmFsIHVybCBpcyB3cml0dGVuIGludG8gdGhlIGRvbS4gT3RoZXJ3aXNlLFxuICAgKiB0aGUgYWJzb2x1dGUgdXJsIGlzIHByZWZpeGVkIHdpdGggYCd1bnNhZmU6J2Agc3RyaW5nIGFuZCBvbmx5IHRoZW4gaXMgaXQgd3JpdHRlbiBpbnRvIHRoZSBET00uXG4gICAqXG4gICAqIEBwYXJhbSB7UmVnRXhwPX0gcmVnZXhwIE5ldyByZWdleHAgdG8gd2hpdGVsaXN0IHVybHMgd2l0aC5cbiAgICogQHJldHVybnMge1JlZ0V4cHxuZy4kY29tcGlsZVByb3ZpZGVyfSBDdXJyZW50IFJlZ0V4cCBpZiBjYWxsZWQgd2l0aG91dCB2YWx1ZSBvciBzZWxmIGZvclxuICAgKiAgICBjaGFpbmluZyBvdGhlcndpc2UuXG4gICAqL1xuICB0aGlzLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gZnVuY3Rpb24ocmVnZXhwKSB7XG4gICAgaWYgKGlzRGVmaW5lZChyZWdleHApKSB7XG4gICAgICBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCA9IHJlZ2V4cDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3Q7XG4gIH07XG5cblxuICAvKipcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJldHJpZXZlcyBvciBvdmVycmlkZXMgdGhlIGRlZmF1bHQgcmVndWxhciBleHByZXNzaW9uIHRoYXQgaXMgdXNlZCBmb3Igd2hpdGVsaXN0aW5nIG9mIHNhZmVcbiAgICogdXJscyBkdXJpbmcgaW1nW3NyY10gc2FuaXRpemF0aW9uLlxuICAgKlxuICAgKiBUaGUgc2FuaXRpemF0aW9uIGlzIGEgc2VjdXJpdHkgbWVhc3VyZSBhaW1lZCBhdCBwcmV2ZW50IFhTUyBhdHRhY2tzIHZpYSBodG1sIGxpbmtzLlxuICAgKlxuICAgKiBBbnkgdXJsIGFib3V0IHRvIGJlIGFzc2lnbmVkIHRvIGltZ1tzcmNdIHZpYSBkYXRhLWJpbmRpbmcgaXMgZmlyc3Qgbm9ybWFsaXplZCBhbmQgdHVybmVkIGludG9cbiAgICogYW4gYWJzb2x1dGUgdXJsLiBBZnRlcndhcmRzLCB0aGUgdXJsIGlzIG1hdGNoZWQgYWdhaW5zdCB0aGUgYGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdGBcbiAgICogcmVndWxhciBleHByZXNzaW9uLiBJZiBhIG1hdGNoIGlzIGZvdW5kLCB0aGUgb3JpZ2luYWwgdXJsIGlzIHdyaXR0ZW4gaW50byB0aGUgZG9tLiBPdGhlcndpc2UsXG4gICAqIHRoZSBhYnNvbHV0ZSB1cmwgaXMgcHJlZml4ZWQgd2l0aCBgJ3Vuc2FmZTonYCBzdHJpbmcgYW5kIG9ubHkgdGhlbiBpcyBpdCB3cml0dGVuIGludG8gdGhlIERPTS5cbiAgICpcbiAgICogQHBhcmFtIHtSZWdFeHA9fSByZWdleHAgTmV3IHJlZ2V4cCB0byB3aGl0ZWxpc3QgdXJscyB3aXRoLlxuICAgKiBAcmV0dXJucyB7UmVnRXhwfG5nLiRjb21waWxlUHJvdmlkZXJ9IEN1cnJlbnQgUmVnRXhwIGlmIGNhbGxlZCB3aXRob3V0IHZhbHVlIG9yIHNlbGYgZm9yXG4gICAqICAgIGNoYWluaW5nIG90aGVyd2lzZS5cbiAgICovXG4gIHRoaXMuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gZnVuY3Rpb24ocmVnZXhwKSB7XG4gICAgaWYgKGlzRGVmaW5lZChyZWdleHApKSB7XG4gICAgICBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSByZWdleHA7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdDtcbiAgfTtcblxuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gc2FuaXRpemVVcmkodXJpLCBpc0ltYWdlKSB7XG4gICAgICB2YXIgcmVnZXggPSBpc0ltYWdlID8gaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0IDogYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3Q7XG4gICAgICB2YXIgbm9ybWFsaXplZFZhbDtcbiAgICAgIG5vcm1hbGl6ZWRWYWwgPSB1cmxSZXNvbHZlKHVyaSkuaHJlZjtcbiAgICAgIGlmIChub3JtYWxpemVkVmFsICE9PSAnJyAmJiAhbm9ybWFsaXplZFZhbC5tYXRjaChyZWdleCkpIHtcbiAgICAgICAgcmV0dXJuICd1bnNhZmU6Jytub3JtYWxpemVkVmFsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVyaTtcbiAgICB9O1xuICB9O1xufVxuXG52YXIgJHNjZU1pbkVyciA9IG1pbkVycignJHNjZScpO1xuXG52YXIgU0NFX0NPTlRFWFRTID0ge1xuICBIVE1MOiAnaHRtbCcsXG4gIENTUzogJ2NzcycsXG4gIFVSTDogJ3VybCcsXG4gIC8vIFJFU09VUkNFX1VSTCBpcyBhIHN1YnR5cGUgb2YgVVJMIHVzZWQgaW4gY29udGV4dHMgd2hlcmUgYSBwcml2aWxlZ2VkIHJlc291cmNlIGlzIHNvdXJjZWQgZnJvbSBhXG4gIC8vIHVybC4gIChlLmcuIG5nLWluY2x1ZGUsIHNjcmlwdCBzcmMsIHRlbXBsYXRlVXJsKVxuICBSRVNPVVJDRV9VUkw6ICdyZXNvdXJjZVVybCcsXG4gIEpTOiAnanMnXG59O1xuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvbGxvdy5cblxuZnVuY3Rpb24gYWRqdXN0TWF0Y2hlcihtYXRjaGVyKSB7XG4gIGlmIChtYXRjaGVyID09PSAnc2VsZicpIHtcbiAgICByZXR1cm4gbWF0Y2hlcjtcbiAgfSBlbHNlIGlmIChpc1N0cmluZyhtYXRjaGVyKSkge1xuICAgIC8vIFN0cmluZ3MgbWF0Y2ggZXhhY3RseSBleGNlcHQgZm9yIDIgd2lsZGNhcmRzIC0gJyonIGFuZCAnKionLlxuICAgIC8vICcqJyBtYXRjaGVzIGFueSBjaGFyYWN0ZXIgZXhjZXB0IHRob3NlIGZyb20gdGhlIHNldCAnOi8uPyYnLlxuICAgIC8vICcqKicgbWF0Y2hlcyBhbnkgY2hhcmFjdGVyIChsaWtlIC4qIGluIGEgUmVnRXhwKS5cbiAgICAvLyBNb3JlIHRoYW4gMiAqJ3MgcmFpc2VzIGFuIGVycm9yIGFzIGl0J3MgaWxsIGRlZmluZWQuXG4gICAgaWYgKG1hdGNoZXIuaW5kZXhPZignKioqJykgPiAtMSkge1xuICAgICAgdGhyb3cgJHNjZU1pbkVycignaXdjYXJkJyxcbiAgICAgICAgICAnSWxsZWdhbCBzZXF1ZW5jZSAqKiogaW4gc3RyaW5nIG1hdGNoZXIuICBTdHJpbmc6IHswfScsIG1hdGNoZXIpO1xuICAgIH1cbiAgICBtYXRjaGVyID0gZXNjYXBlRm9yUmVnZXhwKG1hdGNoZXIpLlxuICAgICAgICAgICAgICAgICAgcmVwbGFjZSgnXFxcXCpcXFxcKicsICcuKicpLlxuICAgICAgICAgICAgICAgICAgcmVwbGFjZSgnXFxcXConLCAnW146Ly4/JjtdKicpO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKCdeJyArIG1hdGNoZXIgKyAnJCcpO1xuICB9IGVsc2UgaWYgKGlzUmVnRXhwKG1hdGNoZXIpKSB7XG4gICAgLy8gVGhlIG9ubHkgb3RoZXIgdHlwZSBvZiBtYXRjaGVyIGFsbG93ZWQgaXMgYSBSZWdleHAuXG4gICAgLy8gTWF0Y2ggZW50aXJlIFVSTCAvIGRpc2FsbG93IHBhcnRpYWwgbWF0Y2hlcy5cbiAgICAvLyBGbGFncyBhcmUgcmVzZXQgKGkuZS4gbm8gZ2xvYmFsLCBpZ25vcmVDYXNlIG9yIG11bHRpbGluZSlcbiAgICByZXR1cm4gbmV3IFJlZ0V4cCgnXicgKyBtYXRjaGVyLnNvdXJjZSArICckJyk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgJHNjZU1pbkVycignaW1hdGNoZXInLFxuICAgICAgICAnTWF0Y2hlcnMgbWF5IG9ubHkgYmUgXCJzZWxmXCIsIHN0cmluZyBwYXR0ZXJucyBvciBSZWdFeHAgb2JqZWN0cycpO1xuICB9XG59XG5cblxuZnVuY3Rpb24gYWRqdXN0TWF0Y2hlcnMobWF0Y2hlcnMpIHtcbiAgdmFyIGFkanVzdGVkTWF0Y2hlcnMgPSBbXTtcbiAgaWYgKGlzRGVmaW5lZChtYXRjaGVycykpIHtcbiAgICBmb3JFYWNoKG1hdGNoZXJzLCBmdW5jdGlvbihtYXRjaGVyKSB7XG4gICAgICBhZGp1c3RlZE1hdGNoZXJzLnB1c2goYWRqdXN0TWF0Y2hlcihtYXRjaGVyKSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGFkanVzdGVkTWF0Y2hlcnM7XG59XG5cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHNjZURlbGVnYXRlXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIGAkc2NlRGVsZWdhdGVgIGlzIGEgc2VydmljZSB0aGF0IGlzIHVzZWQgYnkgdGhlIGAkc2NlYCBzZXJ2aWNlIHRvIHByb3ZpZGUge0BsaW5rIG5nLiRzY2UgU3RyaWN0XG4gKiBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfSBzZXJ2aWNlcyB0byBBbmd1bGFySlMuXG4gKlxuICogVHlwaWNhbGx5LCB5b3Ugd291bGQgY29uZmlndXJlIG9yIG92ZXJyaWRlIHRoZSB7QGxpbmsgbmcuJHNjZURlbGVnYXRlICRzY2VEZWxlZ2F0ZX0gaW5zdGVhZCBvZlxuICogdGhlIGAkc2NlYCBzZXJ2aWNlIHRvIGN1c3RvbWl6ZSB0aGUgd2F5IFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIHdvcmtzIGluIEFuZ3VsYXJKUy4gIFRoaXMgaXNcbiAqIGJlY2F1c2UsIHdoaWxlIHRoZSBgJHNjZWAgcHJvdmlkZXMgbnVtZXJvdXMgc2hvcnRoYW5kIG1ldGhvZHMsIGV0Yy4sIHlvdSByZWFsbHkgb25seSBuZWVkIHRvXG4gKiBvdmVycmlkZSAzIGNvcmUgZnVuY3Rpb25zIChgdHJ1c3RBc2AsIGBnZXRUcnVzdGVkYCBhbmQgYHZhbHVlT2ZgKSB0byByZXBsYWNlIHRoZSB3YXkgdGhpbmdzXG4gKiB3b3JrIGJlY2F1c2UgYCRzY2VgIGRlbGVnYXRlcyB0byBgJHNjZURlbGVnYXRlYCBmb3IgdGhlc2Ugb3BlcmF0aW9ucy5cbiAqXG4gKiBSZWZlciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIgJHNjZURlbGVnYXRlUHJvdmlkZXJ9IHRvIGNvbmZpZ3VyZSB0aGlzIHNlcnZpY2UuXG4gKlxuICogVGhlIGRlZmF1bHQgaW5zdGFuY2Ugb2YgYCRzY2VEZWxlZ2F0ZWAgc2hvdWxkIHdvcmsgb3V0IG9mIHRoZSBib3ggd2l0aCBsaXR0bGUgcGFpbi4gIFdoaWxlIHlvdVxuICogY2FuIG92ZXJyaWRlIGl0IGNvbXBsZXRlbHkgdG8gY2hhbmdlIHRoZSBiZWhhdmlvciBvZiBgJHNjZWAsIHRoZSBjb21tb24gY2FzZSB3b3VsZFxuICogaW52b2x2ZSBjb25maWd1cmluZyB0aGUge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyICRzY2VEZWxlZ2F0ZVByb3ZpZGVyfSBpbnN0ZWFkIGJ5IHNldHRpbmdcbiAqIHlvdXIgb3duIHdoaXRlbGlzdHMgYW5kIGJsYWNrbGlzdHMgZm9yIHRydXN0aW5nIFVSTHMgdXNlZCBmb3IgbG9hZGluZyBBbmd1bGFySlMgcmVzb3VyY2VzIHN1Y2ggYXNcbiAqIHRlbXBsYXRlcy4gIFJlZmVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdFxuICogJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxXaGl0ZWxpc3R9IGFuZCB7QGxpbmtcbiAqIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0ICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsQmxhY2tsaXN0fVxuICovXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkc2NlRGVsZWdhdGVQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVGhlIGAkc2NlRGVsZWdhdGVQcm92aWRlcmAgcHJvdmlkZXIgYWxsb3dzIGRldmVsb3BlcnMgdG8gY29uZmlndXJlIHRoZSB7QGxpbmsgbmcuJHNjZURlbGVnYXRlXG4gKiAkc2NlRGVsZWdhdGV9IHNlcnZpY2UuICBUaGlzIGFsbG93cyBvbmUgdG8gZ2V0L3NldCB0aGUgd2hpdGVsaXN0cyBhbmQgYmxhY2tsaXN0cyB1c2VkIHRvIGVuc3VyZVxuICogdGhhdCB0aGUgVVJMcyB1c2VkIGZvciBzb3VyY2luZyBBbmd1bGFyIHRlbXBsYXRlcyBhcmUgc2FmZS4gIFJlZmVyIHtAbGlua1xuICogbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3QgJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxXaGl0ZWxpc3R9IGFuZFxuICoge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0ICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsQmxhY2tsaXN0fVxuICpcbiAqIEZvciB0aGUgZ2VuZXJhbCBkZXRhaWxzIGFib3V0IHRoaXMgc2VydmljZSBpbiBBbmd1bGFyLCByZWFkIHRoZSBtYWluIHBhZ2UgZm9yIHtAbGluayBuZy4kc2NlXG4gKiBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKX0uXG4gKlxuICogKipFeGFtcGxlKio6ICBDb25zaWRlciB0aGUgZm9sbG93aW5nIGNhc2UuIDxhIG5hbWU9XCJleGFtcGxlXCI+PC9hPlxuICpcbiAqIC0geW91ciBhcHAgaXMgaG9zdGVkIGF0IHVybCBgaHR0cDovL215YXBwLmV4YW1wbGUuY29tL2BcbiAqIC0gYnV0IHNvbWUgb2YgeW91ciB0ZW1wbGF0ZXMgYXJlIGhvc3RlZCBvbiBvdGhlciBkb21haW5zIHlvdSBjb250cm9sIHN1Y2ggYXNcbiAqICAgYGh0dHA6Ly9zcnYwMS5hc3NldHMuZXhhbXBsZS5jb20vYCzCoCBgaHR0cDovL3NydjAyLmFzc2V0cy5leGFtcGxlLmNvbS9gLCBldGMuXG4gKiAtIGFuZCB5b3UgaGF2ZSBhbiBvcGVuIHJlZGlyZWN0IGF0IGBodHRwOi8vbXlhcHAuZXhhbXBsZS5jb20vY2xpY2tUaHJ1Py4uLmAuXG4gKlxuICogSGVyZSBpcyB3aGF0IGEgc2VjdXJlIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgc2NlbmFyaW8gbWlnaHQgbG9vayBsaWtlOlxuICpcbiAqIGBgYFxuICogIGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKS5jb25maWcoZnVuY3Rpb24oJHNjZURlbGVnYXRlUHJvdmlkZXIpIHtcbiAqICAgICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsV2hpdGVsaXN0KFtcbiAqICAgICAgLy8gQWxsb3cgc2FtZSBvcmlnaW4gcmVzb3VyY2UgbG9hZHMuXG4gKiAgICAgICdzZWxmJyxcbiAqICAgICAgLy8gQWxsb3cgbG9hZGluZyBmcm9tIG91ciBhc3NldHMgZG9tYWluLiAgTm90aWNlIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gKiBhbmQgKiouXG4gKiAgICAgICdodHRwOi8vc3J2Ki5hc3NldHMuZXhhbXBsZS5jb20vKionXG4gKiAgICBdKTtcbiAqXG4gKiAgICAvLyBUaGUgYmxhY2tsaXN0IG92ZXJyaWRlcyB0aGUgd2hpdGVsaXN0IHNvIHRoZSBvcGVuIHJlZGlyZWN0IGhlcmUgaXMgYmxvY2tlZC5cbiAqICAgICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsQmxhY2tsaXN0KFtcbiAqICAgICAgJ2h0dHA6Ly9teWFwcC5leGFtcGxlLmNvbS9jbGlja1RocnUqKidcbiAqICAgIF0pO1xuICogIH0pO1xuICogYGBgXG4gKi9cblxuZnVuY3Rpb24gJFNjZURlbGVnYXRlUHJvdmlkZXIoKSB7XG4gIHRoaXMuU0NFX0NPTlRFWFRTID0gU0NFX0NPTlRFWFRTO1xuXG4gIC8vIFJlc291cmNlIFVSTHMgY2FuIGFsc28gYmUgdHJ1c3RlZCBieSBwb2xpY3kuXG4gIHZhciByZXNvdXJjZVVybFdoaXRlbGlzdCA9IFsnc2VsZiddLFxuICAgICAgcmVzb3VyY2VVcmxCbGFja2xpc3QgPSBbXTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdFxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5PX0gd2hpdGVsaXN0IFdoZW4gcHJvdmlkZWQsIHJlcGxhY2VzIHRoZSByZXNvdXJjZVVybFdoaXRlbGlzdCB3aXRoIHRoZSB2YWx1ZVxuICAgKiAgICAgcHJvdmlkZWQuICBUaGlzIG11c3QgYmUgYW4gYXJyYXkgb3IgbnVsbC4gIEEgc25hcHNob3Qgb2YgdGhpcyBhcnJheSBpcyB1c2VkIHNvIGZ1cnRoZXJcbiAgICogICAgIGNoYW5nZXMgdG8gdGhlIGFycmF5IGFyZSBpZ25vcmVkLlxuICAgKlxuICAgKiAgICAgRm9sbG93IHtAbGluayBuZy4kc2NlI3Jlc291cmNlVXJsUGF0dGVybkl0ZW0gdGhpcyBsaW5rfSBmb3IgYSBkZXNjcmlwdGlvbiBvZiB0aGUgaXRlbXNcbiAgICogICAgIGFsbG93ZWQgaW4gdGhpcyBhcnJheS5cbiAgICpcbiAgICogICAgIE5vdGU6ICoqYW4gZW1wdHkgd2hpdGVsaXN0IGFycmF5IHdpbGwgYmxvY2sgYWxsIFVSTHMqKiFcbiAgICpcbiAgICogQHJldHVybiB7QXJyYXl9IHRoZSBjdXJyZW50bHkgc2V0IHdoaXRlbGlzdCBhcnJheS5cbiAgICpcbiAgICogVGhlICoqZGVmYXVsdCB2YWx1ZSoqIHdoZW4gbm8gd2hpdGVsaXN0IGhhcyBiZWVuIGV4cGxpY2l0bHkgc2V0IGlzIGBbJ3NlbGYnXWAgYWxsb3dpbmcgb25seVxuICAgKiBzYW1lIG9yaWdpbiByZXNvdXJjZSByZXF1ZXN0cy5cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMvR2V0cyB0aGUgd2hpdGVsaXN0IG9mIHRydXN0ZWQgcmVzb3VyY2UgVVJMcy5cbiAgICovXG4gIHRoaXMucmVzb3VyY2VVcmxXaGl0ZWxpc3QgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICByZXNvdXJjZVVybFdoaXRlbGlzdCA9IGFkanVzdE1hdGNoZXJzKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc291cmNlVXJsV2hpdGVsaXN0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0XG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXk9fSBibGFja2xpc3QgV2hlbiBwcm92aWRlZCwgcmVwbGFjZXMgdGhlIHJlc291cmNlVXJsQmxhY2tsaXN0IHdpdGggdGhlIHZhbHVlXG4gICAqICAgICBwcm92aWRlZC4gIFRoaXMgbXVzdCBiZSBhbiBhcnJheSBvciBudWxsLiAgQSBzbmFwc2hvdCBvZiB0aGlzIGFycmF5IGlzIHVzZWQgc28gZnVydGhlclxuICAgKiAgICAgY2hhbmdlcyB0byB0aGUgYXJyYXkgYXJlIGlnbm9yZWQuXG4gICAqXG4gICAqICAgICBGb2xsb3cge0BsaW5rIG5nLiRzY2UjcmVzb3VyY2VVcmxQYXR0ZXJuSXRlbSB0aGlzIGxpbmt9IGZvciBhIGRlc2NyaXB0aW9uIG9mIHRoZSBpdGVtc1xuICAgKiAgICAgYWxsb3dlZCBpbiB0aGlzIGFycmF5LlxuICAgKlxuICAgKiAgICAgVGhlIHR5cGljYWwgdXNhZ2UgZm9yIHRoZSBibGFja2xpc3QgaXMgdG8gKipibG9ja1xuICAgKiAgICAgW29wZW4gcmVkaXJlY3RzXShodHRwOi8vY3dlLm1pdHJlLm9yZy9kYXRhL2RlZmluaXRpb25zLzYwMS5odG1sKSoqIHNlcnZlZCBieSB5b3VyIGRvbWFpbiBhc1xuICAgKiAgICAgdGhlc2Ugd291bGQgb3RoZXJ3aXNlIGJlIHRydXN0ZWQgYnV0IGFjdHVhbGx5IHJldHVybiBjb250ZW50IGZyb20gdGhlIHJlZGlyZWN0ZWQgZG9tYWluLlxuICAgKlxuICAgKiAgICAgRmluYWxseSwgKip0aGUgYmxhY2tsaXN0IG92ZXJyaWRlcyB0aGUgd2hpdGVsaXN0KiogYW5kIGhhcyB0aGUgZmluYWwgc2F5LlxuICAgKlxuICAgKiBAcmV0dXJuIHtBcnJheX0gdGhlIGN1cnJlbnRseSBzZXQgYmxhY2tsaXN0IGFycmF5LlxuICAgKlxuICAgKiBUaGUgKipkZWZhdWx0IHZhbHVlKiogd2hlbiBubyB3aGl0ZWxpc3QgaGFzIGJlZW4gZXhwbGljaXRseSBzZXQgaXMgdGhlIGVtcHR5IGFycmF5IChpLmUuIHRoZXJlXG4gICAqIGlzIG5vIGJsYWNrbGlzdC4pXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzL0dldHMgdGhlIGJsYWNrbGlzdCBvZiB0cnVzdGVkIHJlc291cmNlIFVSTHMuXG4gICAqL1xuXG4gIHRoaXMucmVzb3VyY2VVcmxCbGFja2xpc3QgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICByZXNvdXJjZVVybEJsYWNrbGlzdCA9IGFkanVzdE1hdGNoZXJzKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc291cmNlVXJsQmxhY2tsaXN0O1xuICB9O1xuXG4gIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgZnVuY3Rpb24oJGluamVjdG9yKSB7XG5cbiAgICB2YXIgaHRtbFNhbml0aXplciA9IGZ1bmN0aW9uIGh0bWxTYW5pdGl6ZXIoaHRtbCkge1xuICAgICAgdGhyb3cgJHNjZU1pbkVycigndW5zYWZlJywgJ0F0dGVtcHRpbmcgdG8gdXNlIGFuIHVuc2FmZSB2YWx1ZSBpbiBhIHNhZmUgY29udGV4dC4nKTtcbiAgICB9O1xuXG4gICAgaWYgKCRpbmplY3Rvci5oYXMoJyRzYW5pdGl6ZScpKSB7XG4gICAgICBodG1sU2FuaXRpemVyID0gJGluamVjdG9yLmdldCgnJHNhbml0aXplJyk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBtYXRjaFVybChtYXRjaGVyLCBwYXJzZWRVcmwpIHtcbiAgICAgIGlmIChtYXRjaGVyID09PSAnc2VsZicpIHtcbiAgICAgICAgcmV0dXJuIHVybElzU2FtZU9yaWdpbihwYXJzZWRVcmwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZGVmaW5pdGVseSBhIHJlZ2V4LiAgU2VlIGFkanVzdE1hdGNoZXJzKClcbiAgICAgICAgcmV0dXJuICEhbWF0Y2hlci5leGVjKHBhcnNlZFVybC5ocmVmKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1Jlc291cmNlVXJsQWxsb3dlZEJ5UG9saWN5KHVybCkge1xuICAgICAgdmFyIHBhcnNlZFVybCA9IHVybFJlc29sdmUodXJsLnRvU3RyaW5nKCkpO1xuICAgICAgdmFyIGksIG4sIGFsbG93ZWQgPSBmYWxzZTtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IGF0IGxlYXN0IG9uZSBpdGVtIGZyb20gdGhlIHdoaXRlbGlzdCBhbGxvd3MgdGhpcyB1cmwuXG4gICAgICBmb3IgKGkgPSAwLCBuID0gcmVzb3VyY2VVcmxXaGl0ZWxpc3QubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIGlmIChtYXRjaFVybChyZXNvdXJjZVVybFdoaXRlbGlzdFtpXSwgcGFyc2VkVXJsKSkge1xuICAgICAgICAgIGFsbG93ZWQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYWxsb3dlZCkge1xuICAgICAgICAvLyBFbnN1cmUgdGhhdCBubyBpdGVtIGZyb20gdGhlIGJsYWNrbGlzdCBibG9ja2VkIHRoaXMgdXJsLlxuICAgICAgICBmb3IgKGkgPSAwLCBuID0gcmVzb3VyY2VVcmxCbGFja2xpc3QubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgaWYgKG1hdGNoVXJsKHJlc291cmNlVXJsQmxhY2tsaXN0W2ldLCBwYXJzZWRVcmwpKSB7XG4gICAgICAgICAgICBhbGxvd2VkID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhbGxvd2VkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlSG9sZGVyVHlwZShCYXNlKSB7XG4gICAgICB2YXIgaG9sZGVyVHlwZSA9IGZ1bmN0aW9uIFRydXN0ZWRWYWx1ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlKSB7XG4gICAgICAgIHRoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1c3RlZFZhbHVlO1xuICAgICAgICB9O1xuICAgICAgfTtcbiAgICAgIGlmIChCYXNlKSB7XG4gICAgICAgIGhvbGRlclR5cGUucHJvdG90eXBlID0gbmV3IEJhc2UoKTtcbiAgICAgIH1cbiAgICAgIGhvbGRlclR5cGUucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbiBzY2VWYWx1ZU9mKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpO1xuICAgICAgfTtcbiAgICAgIGhvbGRlclR5cGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gc2NlVG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCkudG9TdHJpbmcoKTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gaG9sZGVyVHlwZTtcbiAgICB9XG5cbiAgICB2YXIgdHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSA9IGdlbmVyYXRlSG9sZGVyVHlwZSgpLFxuICAgICAgICBieVR5cGUgPSB7fTtcblxuICAgIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuSFRNTF0gPSBnZW5lcmF0ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSk7XG4gICAgYnlUeXBlW1NDRV9DT05URVhUUy5DU1NdID0gZ2VuZXJhdGVIb2xkZXJUeXBlKHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpO1xuICAgIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuVVJMXSA9IGdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKTtcbiAgICBieVR5cGVbU0NFX0NPTlRFWFRTLkpTXSA9IGdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKTtcbiAgICBieVR5cGVbU0NFX0NPTlRFWFRTLlJFU09VUkNFX1VSTF0gPSBnZW5lcmF0ZUhvbGRlclR5cGUoYnlUeXBlW1NDRV9DT05URVhUUy5VUkxdKTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlRGVsZWdhdGUjdHJ1c3RBc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBpcyB0cnVzdGVkIGJ5IGFuZ3VsYXIgZm9yIHVzZSBpbiBzcGVjaWZpZWQgc3RyaWN0XG4gICAgICogY29udGV4dHVhbCBlc2NhcGluZyBjb250ZXh0cyAoc3VjaCBhcyBuZy1iaW5kLWh0bWwsIG5nLWluY2x1ZGUsIGFueSBzcmNcbiAgICAgKiBhdHRyaWJ1dGUgaW50ZXJwb2xhdGlvbiwgYW55IGRvbSBldmVudCBiaW5kaW5nIGF0dHJpYnV0ZSBpbnRlcnBvbGF0aW9uXG4gICAgICogc3VjaCBhcyBmb3Igb25jbGljaywgIGV0Yy4pIHRoYXQgdXNlcyB0aGUgcHJvdmlkZWQgdmFsdWUuXG4gICAgICogU2VlIHtAbGluayBuZy4kc2NlICRzY2V9IGZvciBlbmFibGluZyBzdHJpY3QgY29udGV4dHVhbCBlc2NhcGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBraW5kIG9mIGNvbnRleHQgaW4gd2hpY2ggdGhpcyB2YWx1ZSBpcyBzYWZlIGZvciB1c2UuICBlLmcuIHVybCxcbiAgICAgKiAgIHJlc291cmNlVXJsLCBodG1sLCBqcyBhbmQgY3NzLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRoYXQgdGhhdCBzaG91bGQgYmUgY29uc2lkZXJlZCB0cnVzdGVkL3NhZmUuXG4gICAgICogQHJldHVybnMgeyp9IEEgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCB0byBzdGFuZCBpbiBmb3IgdGhlIHByb3ZpZGVkIGB2YWx1ZWAgaW4gcGxhY2VzXG4gICAgICogd2hlcmUgQW5ndWxhciBleHBlY3RzIGEgJHNjZS50cnVzdEFzKCkgcmV0dXJuIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRydXN0QXModHlwZSwgdHJ1c3RlZFZhbHVlKSB7XG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSAoYnlUeXBlLmhhc093blByb3BlcnR5KHR5cGUpID8gYnlUeXBlW3R5cGVdIDogbnVsbCk7XG4gICAgICBpZiAoIUNvbnN0cnVjdG9yKSB7XG4gICAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2ljb250ZXh0JyxcbiAgICAgICAgICAgICdBdHRlbXB0ZWQgdG8gdHJ1c3QgYSB2YWx1ZSBpbiBpbnZhbGlkIGNvbnRleHQuIENvbnRleHQ6IHswfTsgVmFsdWU6IHsxfScsXG4gICAgICAgICAgICB0eXBlLCB0cnVzdGVkVmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHRydXN0ZWRWYWx1ZSA9PT0gbnVsbCB8fCB0cnVzdGVkVmFsdWUgPT09IHVuZGVmaW5lZCB8fCB0cnVzdGVkVmFsdWUgPT09ICcnKSB7XG4gICAgICAgIHJldHVybiB0cnVzdGVkVmFsdWU7XG4gICAgICB9XG4gICAgICAvLyBBbGwgdGhlIGN1cnJlbnQgY29udGV4dHMgaW4gU0NFX0NPTlRFWFRTIGhhcHBlbiB0byBiZSBzdHJpbmdzLiAgSW4gb3JkZXIgdG8gYXZvaWQgdHJ1c3RpbmdcbiAgICAgIC8vIG11dGFibGUgb2JqZWN0cywgd2UgZW5zdXJlIGhlcmUgdGhhdCB0aGUgdmFsdWUgcGFzc2VkIGluIGlzIGFjdHVhbGx5IGEgc3RyaW5nLlxuICAgICAgaWYgKHR5cGVvZiB0cnVzdGVkVmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2l0eXBlJyxcbiAgICAgICAgICAgICdBdHRlbXB0ZWQgdG8gdHJ1c3QgYSBub24tc3RyaW5nIHZhbHVlIGluIGEgY29udGVudCByZXF1aXJpbmcgYSBzdHJpbmc6IENvbnRleHQ6IHswfScsXG4gICAgICAgICAgICB0eXBlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IodHJ1c3RlZFZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZURlbGVnYXRlI3ZhbHVlT2ZcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIElmIHRoZSBwYXNzZWQgcGFyYW1ldGVyIGhhZCBiZWVuIHJldHVybmVkIGJ5IGEgcHJpb3IgY2FsbCB0byB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXNcbiAgICAgKiBgJHNjZURlbGVnYXRlLnRydXN0QXNgfSwgcmV0dXJucyB0aGUgdmFsdWUgdGhhdCBoYWQgYmVlbiBwYXNzZWQgdG8ge0BsaW5rXG4gICAgICogbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0uXG4gICAgICpcbiAgICAgKiBJZiB0aGUgcGFzc2VkIHBhcmFtZXRlciBpcyBub3QgYSB2YWx1ZSB0aGF0IGhhZCBiZWVuIHJldHVybmVkIGJ5IHtAbGlua1xuICAgICAqIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9LCByZXR1cm5zIGl0IGFzLWlzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcmVzdWx0IG9mIGEgcHJpb3Ige0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9XG4gICAgICogICAgICBjYWxsIG9yIGFueXRoaW5nIGVsc2UuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSBgdmFsdWVgIHRoYXQgd2FzIG9yaWdpbmFsbHkgcHJvdmlkZWQgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzXG4gICAgICogICAgIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9IGlmIGB2YWx1ZWAgaXMgdGhlIHJlc3VsdCBvZiBzdWNoIGEgY2FsbC4gIE90aGVyd2lzZSwgcmV0dXJuc1xuICAgICAqICAgICBgdmFsdWVgIHVuY2hhbmdlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZU9mKG1heWJlVHJ1c3RlZCkge1xuICAgICAgaWYgKG1heWJlVHJ1c3RlZCBpbnN0YW5jZW9mIHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpIHtcbiAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZC4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZURlbGVnYXRlI2dldFRydXN0ZWRcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFRha2VzIHRoZSByZXN1bHQgb2YgYSB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0gY2FsbCBhbmRcbiAgICAgKiByZXR1cm5zIHRoZSBvcmlnaW5hbGx5IHN1cHBsaWVkIHZhbHVlIGlmIHRoZSBxdWVyaWVkIGNvbnRleHQgdHlwZSBpcyBhIHN1cGVydHlwZSBvZiB0aGVcbiAgICAgKiBjcmVhdGVkIHR5cGUuICBJZiB0aGlzIGNvbmRpdGlvbiBpc24ndCBzYXRpc2ZpZWQsIHRocm93cyBhbiBleGNlcHRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUga2luZCBvZiBjb250ZXh0IGluIHdoaWNoIHRoaXMgdmFsdWUgaXMgdG8gYmUgdXNlZC5cbiAgICAgKiBAcGFyYW0geyp9IG1heWJlVHJ1c3RlZCBUaGUgcmVzdWx0IG9mIGEgcHJpb3Ige0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzXG4gICAgICogICAgIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9IGNhbGwuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGUgd2FzIG9yaWdpbmFsbHkgcHJvdmlkZWQgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzXG4gICAgICogICAgIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9IGlmIHZhbGlkIGluIHRoaXMgY29udGV4dC4gIE90aGVyd2lzZSwgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRUcnVzdGVkKHR5cGUsIG1heWJlVHJ1c3RlZCkge1xuICAgICAgaWYgKG1heWJlVHJ1c3RlZCA9PT0gbnVsbCB8fCBtYXliZVRydXN0ZWQgPT09IHVuZGVmaW5lZCB8fCBtYXliZVRydXN0ZWQgPT09ICcnKSB7XG4gICAgICAgIHJldHVybiBtYXliZVRydXN0ZWQ7XG4gICAgICB9XG4gICAgICB2YXIgY29uc3RydWN0b3IgPSAoYnlUeXBlLmhhc093blByb3BlcnR5KHR5cGUpID8gYnlUeXBlW3R5cGVdIDogbnVsbCk7XG4gICAgICBpZiAoY29uc3RydWN0b3IgJiYgbWF5YmVUcnVzdGVkIGluc3RhbmNlb2YgY29uc3RydWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZC4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpO1xuICAgICAgfVxuICAgICAgLy8gSWYgd2UgZ2V0IGhlcmUsIHRoZW4gd2UgbWF5IG9ubHkgdGFrZSBvbmUgb2YgdHdvIGFjdGlvbnMuXG4gICAgICAvLyAxLiBzYW5pdGl6ZSB0aGUgdmFsdWUgZm9yIHRoZSByZXF1ZXN0ZWQgdHlwZSwgb3JcbiAgICAgIC8vIDIuIHRocm93IGFuIGV4Y2VwdGlvbi5cbiAgICAgIGlmICh0eXBlID09PSBTQ0VfQ09OVEVYVFMuUkVTT1VSQ0VfVVJMKSB7XG4gICAgICAgIGlmIChpc1Jlc291cmNlVXJsQWxsb3dlZEJ5UG9saWN5KG1heWJlVHJ1c3RlZCkpIHtcbiAgICAgICAgICByZXR1cm4gbWF5YmVUcnVzdGVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2luc2VjdXJsJyxcbiAgICAgICAgICAgICAgJ0Jsb2NrZWQgbG9hZGluZyByZXNvdXJjZSBmcm9tIHVybCBub3QgYWxsb3dlZCBieSAkc2NlRGVsZWdhdGUgcG9saWN5LiAgVVJMOiB7MH0nLFxuICAgICAgICAgICAgICBtYXliZVRydXN0ZWQudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gU0NFX0NPTlRFWFRTLkhUTUwpIHtcbiAgICAgICAgcmV0dXJuIGh0bWxTYW5pdGl6ZXIobWF5YmVUcnVzdGVkKTtcbiAgICAgIH1cbiAgICAgIHRocm93ICRzY2VNaW5FcnIoJ3Vuc2FmZScsICdBdHRlbXB0aW5nIHRvIHVzZSBhbiB1bnNhZmUgdmFsdWUgaW4gYSBzYWZlIGNvbnRleHQuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgdHJ1c3RBczogdHJ1c3RBcyxcbiAgICAgICAgICAgICBnZXRUcnVzdGVkOiBnZXRUcnVzdGVkLFxuICAgICAgICAgICAgIHZhbHVlT2Y6IHZhbHVlT2YgfTtcbiAgfV07XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRzY2VQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVGhlICRzY2VQcm92aWRlciBwcm92aWRlciBhbGxvd3MgZGV2ZWxvcGVycyB0byBjb25maWd1cmUgdGhlIHtAbGluayBuZy4kc2NlICRzY2V9IHNlcnZpY2UuXG4gKiAtICAgZW5hYmxlL2Rpc2FibGUgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgKFNDRSkgaW4gYSBtb2R1bGVcbiAqIC0gICBvdmVycmlkZSB0aGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiB3aXRoIGEgY3VzdG9tIGRlbGVnYXRlXG4gKlxuICogUmVhZCBtb3JlIGFib3V0IHtAbGluayBuZy4kc2NlIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfS5cbiAqL1xuXG4vKiBqc2hpbnQgbWF4bGVuOiBmYWxzZSovXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRzY2VcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogYCRzY2VgIGlzIGEgc2VydmljZSB0aGF0IHByb3ZpZGVzIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIHNlcnZpY2VzIHRvIEFuZ3VsYXJKUy5cbiAqXG4gKiAjIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nXG4gKlxuICogU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgKFNDRSkgaXMgYSBtb2RlIGluIHdoaWNoIEFuZ3VsYXJKUyByZXF1aXJlcyBiaW5kaW5ncyBpbiBjZXJ0YWluXG4gKiBjb250ZXh0cyB0byByZXN1bHQgaW4gYSB2YWx1ZSB0aGF0IGlzIG1hcmtlZCBhcyBzYWZlIHRvIHVzZSBmb3IgdGhhdCBjb250ZXh0LiAgT25lIGV4YW1wbGUgb2ZcbiAqIHN1Y2ggYSBjb250ZXh0IGlzIGJpbmRpbmcgYXJiaXRyYXJ5IGh0bWwgY29udHJvbGxlZCBieSB0aGUgdXNlciB2aWEgYG5nLWJpbmQtaHRtbGAuICBXZSByZWZlclxuICogdG8gdGhlc2UgY29udGV4dHMgYXMgcHJpdmlsZWdlZCBvciBTQ0UgY29udGV4dHMuXG4gKlxuICogQXMgb2YgdmVyc2lvbiAxLjIsIEFuZ3VsYXIgc2hpcHMgd2l0aCBTQ0UgZW5hYmxlZCBieSBkZWZhdWx0LlxuICpcbiAqIE5vdGU6ICBXaGVuIGVuYWJsZWQgKHRoZSBkZWZhdWx0KSwgSUU8MTEgaW4gcXVpcmtzIG1vZGUgaXMgbm90IHN1cHBvcnRlZC4gIEluIHRoaXMgbW9kZSwgSUU8MTEgYWxsb3dcbiAqIG9uZSB0byBleGVjdXRlIGFyYml0cmFyeSBqYXZhc2NyaXB0IGJ5IHRoZSB1c2Ugb2YgdGhlIGV4cHJlc3Npb24oKSBzeW50YXguICBSZWZlclxuICogPGh0dHA6Ly9ibG9ncy5tc2RuLmNvbS9iL2llL2FyY2hpdmUvMjAwOC8xMC8xNi9lbmRpbmctZXhwcmVzc2lvbnMuYXNweD4gdG8gbGVhcm4gbW9yZSBhYm91dCB0aGVtLlxuICogWW91IGNhbiBlbnN1cmUgeW91ciBkb2N1bWVudCBpcyBpbiBzdGFuZGFyZHMgbW9kZSBhbmQgbm90IHF1aXJrcyBtb2RlIGJ5IGFkZGluZyBgPCFkb2N0eXBlIGh0bWw+YFxuICogdG8gdGhlIHRvcCBvZiB5b3VyIEhUTUwgZG9jdW1lbnQuXG4gKlxuICogU0NFIGFzc2lzdHMgaW4gd3JpdGluZyBjb2RlIGluIHdheSB0aGF0IChhKSBpcyBzZWN1cmUgYnkgZGVmYXVsdCBhbmQgKGIpIG1ha2VzIGF1ZGl0aW5nIGZvclxuICogc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzIHN1Y2ggYXMgWFNTLCBjbGlja2phY2tpbmcsIGV0Yy4gYSBsb3QgZWFzaWVyLlxuICpcbiAqIEhlcmUncyBhbiBleGFtcGxlIG9mIGEgYmluZGluZyBpbiBhIHByaXZpbGVnZWQgY29udGV4dDpcbiAqXG4gKiBgYGBcbiAqIDxpbnB1dCBuZy1tb2RlbD1cInVzZXJIdG1sXCI+XG4gKiA8ZGl2IG5nLWJpbmQtaHRtbD1cInVzZXJIdG1sXCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBOb3RpY2UgdGhhdCBgbmctYmluZC1odG1sYCBpcyBib3VuZCB0byBgdXNlckh0bWxgIGNvbnRyb2xsZWQgYnkgdGhlIHVzZXIuICBXaXRoIFNDRVxuICogZGlzYWJsZWQsIHRoaXMgYXBwbGljYXRpb24gYWxsb3dzIHRoZSB1c2VyIHRvIHJlbmRlciBhcmJpdHJhcnkgSFRNTCBpbnRvIHRoZSBESVYuXG4gKiBJbiBhIG1vcmUgcmVhbGlzdGljIGV4YW1wbGUsIG9uZSBtYXkgYmUgcmVuZGVyaW5nIHVzZXIgY29tbWVudHMsIGJsb2cgYXJ0aWNsZXMsIGV0Yy4gdmlhXG4gKiBiaW5kaW5ncy4gIChIVE1MIGlzIGp1c3Qgb25lIGV4YW1wbGUgb2YgYSBjb250ZXh0IHdoZXJlIHJlbmRlcmluZyB1c2VyIGNvbnRyb2xsZWQgaW5wdXQgY3JlYXRlc1xuICogc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzLilcbiAqXG4gKiBGb3IgdGhlIGNhc2Ugb2YgSFRNTCwgeW91IG1pZ2h0IHVzZSBhIGxpYnJhcnksIGVpdGhlciBvbiB0aGUgY2xpZW50IHNpZGUsIG9yIG9uIHRoZSBzZXJ2ZXIgc2lkZSxcbiAqIHRvIHNhbml0aXplIHVuc2FmZSBIVE1MIGJlZm9yZSBiaW5kaW5nIHRvIHRoZSB2YWx1ZSBhbmQgcmVuZGVyaW5nIGl0IGluIHRoZSBkb2N1bWVudC5cbiAqXG4gKiBIb3cgd291bGQgeW91IGVuc3VyZSB0aGF0IGV2ZXJ5IHBsYWNlIHRoYXQgdXNlZCB0aGVzZSB0eXBlcyBvZiBiaW5kaW5ncyB3YXMgYm91bmQgdG8gYSB2YWx1ZSB0aGF0XG4gKiB3YXMgc2FuaXRpemVkIGJ5IHlvdXIgbGlicmFyeSAob3IgcmV0dXJuZWQgYXMgc2FmZSBmb3IgcmVuZGVyaW5nIGJ5IHlvdXIgc2VydmVyPykgIEhvdyBjYW4geW91XG4gKiBlbnN1cmUgdGhhdCB5b3UgZGlkbid0IGFjY2lkZW50YWxseSBkZWxldGUgdGhlIGxpbmUgdGhhdCBzYW5pdGl6ZWQgdGhlIHZhbHVlLCBvciByZW5hbWVkIHNvbWVcbiAqIHByb3BlcnRpZXMvZmllbGRzIGFuZCBmb3Jnb3QgdG8gdXBkYXRlIHRoZSBiaW5kaW5nIHRvIHRoZSBzYW5pdGl6ZWQgdmFsdWU/XG4gKlxuICogVG8gYmUgc2VjdXJlIGJ5IGRlZmF1bHQsIHlvdSB3YW50IHRvIGVuc3VyZSB0aGF0IGFueSBzdWNoIGJpbmRpbmdzIGFyZSBkaXNhbGxvd2VkIHVubGVzcyB5b3UgY2FuXG4gKiBkZXRlcm1pbmUgdGhhdCBzb21ldGhpbmcgZXhwbGljaXRseSBzYXlzIGl0J3Mgc2FmZSB0byB1c2UgYSB2YWx1ZSBmb3IgYmluZGluZyBpbiB0aGF0XG4gKiBjb250ZXh0LiAgWW91IGNhbiB0aGVuIGF1ZGl0IHlvdXIgY29kZSAoYSBzaW1wbGUgZ3JlcCB3b3VsZCBkbykgdG8gZW5zdXJlIHRoYXQgdGhpcyBpcyBvbmx5IGRvbmVcbiAqIGZvciB0aG9zZSB2YWx1ZXMgdGhhdCB5b3UgY2FuIGVhc2lseSB0ZWxsIGFyZSBzYWZlIC0gYmVjYXVzZSB0aGV5IHdlcmUgcmVjZWl2ZWQgZnJvbSB5b3VyIHNlcnZlcixcbiAqIHNhbml0aXplZCBieSB5b3VyIGxpYnJhcnksIGV0Yy4gIFlvdSBjYW4gb3JnYW5pemUgeW91ciBjb2RlYmFzZSB0byBoZWxwIHdpdGggdGhpcyAtIHBlcmhhcHNcbiAqIGFsbG93aW5nIG9ubHkgdGhlIGZpbGVzIGluIGEgc3BlY2lmaWMgZGlyZWN0b3J5IHRvIGRvIHRoaXMuICBFbnN1cmluZyB0aGF0IHRoZSBpbnRlcm5hbCBBUElcbiAqIGV4cG9zZWQgYnkgdGhhdCBjb2RlIGRvZXNuJ3QgbWFya3VwIGFyYml0cmFyeSB2YWx1ZXMgYXMgc2FmZSB0aGVuIGJlY29tZXMgYSBtb3JlIG1hbmFnZWFibGUgdGFzay5cbiAqXG4gKiBJbiB0aGUgY2FzZSBvZiBBbmd1bGFySlMnIFNDRSBzZXJ2aWNlLCBvbmUgdXNlcyB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzICRzY2UudHJ1c3RBc31cbiAqIChhbmQgc2hvcnRoYW5kIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzSHRtbCAkc2NlLnRydXN0QXNIdG1sfSwgZXRjLikgdG9cbiAqIG9idGFpbiB2YWx1ZXMgdGhhdCB3aWxsIGJlIGFjY2VwdGVkIGJ5IFNDRSAvIHByaXZpbGVnZWQgY29udGV4dHMuXG4gKlxuICpcbiAqICMjIEhvdyBkb2VzIGl0IHdvcms/XG4gKlxuICogSW4gcHJpdmlsZWdlZCBjb250ZXh0cywgZGlyZWN0aXZlcyBhbmQgY29kZSB3aWxsIGJpbmQgdG8gdGhlIHJlc3VsdCBvZiB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkXG4gKiAkc2NlLmdldFRydXN0ZWQoY29udGV4dCwgdmFsdWUpfSByYXRoZXIgdGhhbiB0byB0aGUgdmFsdWUgZGlyZWN0bHkuICBEaXJlY3RpdmVzIHVzZSB7QGxpbmtcbiAqIG5nLiRzY2UjcGFyc2VBcyAkc2NlLnBhcnNlQXN9IHJhdGhlciB0aGFuIGAkcGFyc2VgIHRvIHdhdGNoIGF0dHJpYnV0ZSBiaW5kaW5ncywgd2hpY2ggcGVyZm9ybXMgdGhlXG4gKiB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkICRzY2UuZ2V0VHJ1c3RlZH0gYmVoaW5kIHRoZSBzY2VuZXMgb24gbm9uLWNvbnN0YW50IGxpdGVyYWxzLlxuICpcbiAqIEFzIGFuIGV4YW1wbGUsIHtAbGluayBuZy5kaXJlY3RpdmU6bmdCaW5kSHRtbCBuZ0JpbmRIdG1sfSB1c2VzIHtAbGlua1xuICogbmcuJHNjZSNwYXJzZUFzSHRtbCAkc2NlLnBhcnNlQXNIdG1sKGJpbmRpbmcgZXhwcmVzc2lvbil9LiAgSGVyZSdzIHRoZSBhY3R1YWwgY29kZSAoc2xpZ2h0bHlcbiAqIHNpbXBsaWZpZWQpOlxuICpcbiAqIGBgYFxuICogdmFyIG5nQmluZEh0bWxEaXJlY3RpdmUgPSBbJyRzY2UnLCBmdW5jdGlvbigkc2NlKSB7XG4gKiAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICogICAgIHNjb3BlLiR3YXRjaCgkc2NlLnBhcnNlQXNIdG1sKGF0dHIubmdCaW5kSHRtbCksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gKiAgICAgICBlbGVtZW50Lmh0bWwodmFsdWUgfHwgJycpO1xuICogICAgIH0pO1xuICogICB9O1xuICogfV07XG4gKiBgYGBcbiAqXG4gKiAjIyBJbXBhY3Qgb24gbG9hZGluZyB0ZW1wbGF0ZXNcbiAqXG4gKiBUaGlzIGFwcGxpZXMgYm90aCB0byB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0luY2x1ZGUgYG5nLWluY2x1ZGVgfSBkaXJlY3RpdmUgYXMgd2VsbCBhc1xuICogYHRlbXBsYXRlVXJsYCdzIHNwZWNpZmllZCBieSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlIGRpcmVjdGl2ZXN9LlxuICpcbiAqIEJ5IGRlZmF1bHQsIEFuZ3VsYXIgb25seSBsb2FkcyB0ZW1wbGF0ZXMgZnJvbSB0aGUgc2FtZSBkb21haW4gYW5kIHByb3RvY29sIGFzIHRoZSBhcHBsaWNhdGlvblxuICogZG9jdW1lbnQuICBUaGlzIGlzIGRvbmUgYnkgY2FsbGluZyB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmxcbiAqICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsfSBvbiB0aGUgdGVtcGxhdGUgVVJMLiAgVG8gbG9hZCB0ZW1wbGF0ZXMgZnJvbSBvdGhlciBkb21haW5zIGFuZC9vclxuICogcHJvdG9jb2xzLCB5b3UgbWF5IGVpdGhlciBlaXRoZXIge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0IHdoaXRlbGlzdFxuICogdGhlbX0gb3Ige0BsaW5rIG5nLiRzY2UjdHJ1c3RBc1Jlc291cmNlVXJsIHdyYXAgaXR9IGludG8gYSB0cnVzdGVkIHZhbHVlLlxuICpcbiAqICpQbGVhc2Ugbm90ZSo6XG4gKiBUaGUgYnJvd3NlcidzXG4gKiBbU2FtZSBPcmlnaW4gUG9saWN5XShodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Jyb3dzZXJzZWMvd2lraS9QYXJ0MiNTYW1lLW9yaWdpbl9wb2xpY3lfZm9yX1hNTEh0dHBSZXF1ZXN0KVxuICogYW5kIFtDcm9zcy1PcmlnaW4gUmVzb3VyY2UgU2hhcmluZyAoQ09SUyldKGh0dHA6Ly93d3cudzMub3JnL1RSL2NvcnMvKVxuICogcG9saWN5IGFwcGx5IGluIGFkZGl0aW9uIHRvIHRoaXMgYW5kIG1heSBmdXJ0aGVyIHJlc3RyaWN0IHdoZXRoZXIgdGhlIHRlbXBsYXRlIGlzIHN1Y2Nlc3NmdWxseVxuICogbG9hZGVkLiAgVGhpcyBtZWFucyB0aGF0IHdpdGhvdXQgdGhlIHJpZ2h0IENPUlMgcG9saWN5LCBsb2FkaW5nIHRlbXBsYXRlcyBmcm9tIGEgZGlmZmVyZW50IGRvbWFpblxuICogd29uJ3Qgd29yayBvbiBhbGwgYnJvd3NlcnMuICBBbHNvLCBsb2FkaW5nIHRlbXBsYXRlcyBmcm9tIGBmaWxlOi8vYCBVUkwgZG9lcyBub3Qgd29yayBvbiBzb21lXG4gKiBicm93c2Vycy5cbiAqXG4gKiAjIyBUaGlzIGZlZWxzIGxpa2UgdG9vIG11Y2ggb3ZlcmhlYWRcbiAqXG4gKiBJdCdzIGltcG9ydGFudCB0byByZW1lbWJlciB0aGF0IFNDRSBvbmx5IGFwcGxpZXMgdG8gaW50ZXJwb2xhdGlvbiBleHByZXNzaW9ucy5cbiAqXG4gKiBJZiB5b3VyIGV4cHJlc3Npb25zIGFyZSBjb25zdGFudCBsaXRlcmFscywgdGhleSdyZSBhdXRvbWF0aWNhbGx5IHRydXN0ZWQgYW5kIHlvdSBkb24ndCBuZWVkIHRvXG4gKiBjYWxsIGAkc2NlLnRydXN0QXNgIG9uIHRoZW0gKHJlbWVtYmVyIHRvIGluY2x1ZGUgdGhlIGBuZ1Nhbml0aXplYCBtb2R1bGUpIChlLmcuXG4gKiBgPGRpdiBuZy1iaW5kLWh0bWw9XCInPGI+aW1wbGljaXRseSB0cnVzdGVkPC9iPidcIj48L2Rpdj5gKSBqdXN0IHdvcmtzLlxuICpcbiAqIEFkZGl0aW9uYWxseSwgYGFbaHJlZl1gIGFuZCBgaW1nW3NyY11gIGF1dG9tYXRpY2FsbHkgc2FuaXRpemUgdGhlaXIgVVJMcyBhbmQgZG8gbm90IHBhc3MgdGhlbVxuICogdGhyb3VnaCB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkICRzY2UuZ2V0VHJ1c3RlZH0uICBTQ0UgZG9lc24ndCBwbGF5IGEgcm9sZSBoZXJlLlxuICpcbiAqIFRoZSBpbmNsdWRlZCB7QGxpbmsgbmcuJHNjZURlbGVnYXRlICRzY2VEZWxlZ2F0ZX0gY29tZXMgd2l0aCBzYW5lIGRlZmF1bHRzIHRvIGFsbG93IHlvdSB0byBsb2FkXG4gKiB0ZW1wbGF0ZXMgaW4gYG5nLWluY2x1ZGVgIGZyb20geW91ciBhcHBsaWNhdGlvbidzIGRvbWFpbiB3aXRob3V0IGhhdmluZyB0byBldmVuIGtub3cgYWJvdXQgU0NFLlxuICogSXQgYmxvY2tzIGxvYWRpbmcgdGVtcGxhdGVzIGZyb20gb3RoZXIgZG9tYWlucyBvciBsb2FkaW5nIHRlbXBsYXRlcyBvdmVyIGh0dHAgZnJvbSBhbiBodHRwc1xuICogc2VydmVkIGRvY3VtZW50LiAgWW91IGNhbiBjaGFuZ2UgdGhlc2UgYnkgc2V0dGluZyB5b3VyIG93biBjdXN0b20ge0BsaW5rXG4gKiBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdCB3aGl0ZWxpc3RzfSBhbmQge0BsaW5rXG4gKiBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybEJsYWNrbGlzdCBibGFja2xpc3RzfSBmb3IgbWF0Y2hpbmcgc3VjaCBVUkxzLlxuICpcbiAqIFRoaXMgc2lnbmlmaWNhbnRseSByZWR1Y2VzIHRoZSBvdmVyaGVhZC4gIEl0IGlzIGZhciBlYXNpZXIgdG8gcGF5IHRoZSBzbWFsbCBvdmVyaGVhZCBhbmQgaGF2ZSBhblxuICogYXBwbGljYXRpb24gdGhhdCdzIHNlY3VyZSBhbmQgY2FuIGJlIGF1ZGl0ZWQgdG8gdmVyaWZ5IHRoYXQgd2l0aCBtdWNoIG1vcmUgZWFzZSB0aGFuIGJvbHRpbmdcbiAqIHNlY3VyaXR5IG9udG8gYW4gYXBwbGljYXRpb24gbGF0ZXIuXG4gKlxuICogPGEgbmFtZT1cImNvbnRleHRzXCI+PC9hPlxuICogIyMgV2hhdCB0cnVzdGVkIGNvbnRleHQgdHlwZXMgYXJlIHN1cHBvcnRlZD9cbiAqXG4gKiB8IENvbnRleHQgICAgICAgICAgICAgfCBOb3RlcyAgICAgICAgICB8XG4gKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IGAkc2NlLkhUTUxgICAgICAgICAgfCBGb3IgSFRNTCB0aGF0J3Mgc2FmZSB0byBzb3VyY2UgaW50byB0aGUgYXBwbGljYXRpb24uICBUaGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0JpbmRIdG1sIG5nQmluZEh0bWx9IGRpcmVjdGl2ZSB1c2VzIHRoaXMgY29udGV4dCBmb3IgYmluZGluZ3MuIElmIGFuIHVuc2FmZSB2YWx1ZSBpcyBlbmNvdW50ZXJlZCBhbmQgdGhlIHtAbGluayBuZ1Nhbml0aXplICRzYW5pdGl6ZX0gbW9kdWxlIGlzIHByZXNlbnQgdGhpcyB3aWxsIHNhbml0aXplIHRoZSB2YWx1ZSBpbnN0ZWFkIG9mIHRocm93aW5nIGFuIGVycm9yLiB8XG4gKiB8IGAkc2NlLkNTU2AgICAgICAgICAgfCBGb3IgQ1NTIHRoYXQncyBzYWZlIHRvIHNvdXJjZSBpbnRvIHRoZSBhcHBsaWNhdGlvbi4gIEN1cnJlbnRseSB1bnVzZWQuICBGZWVsIGZyZWUgdG8gdXNlIGl0IGluIHlvdXIgb3duIGRpcmVjdGl2ZXMuIHxcbiAqIHwgYCRzY2UuVVJMYCAgICAgICAgICB8IEZvciBVUkxzIHRoYXQgYXJlIHNhZmUgdG8gZm9sbG93IGFzIGxpbmtzLiAgQ3VycmVudGx5IHVudXNlZCAoYDxhIGhyZWY9YCBhbmQgYDxpbWcgc3JjPWAgc2FuaXRpemUgdGhlaXIgdXJscyBhbmQgZG9uJ3QgY29uc3RpdHV0ZSBhbiBTQ0UgY29udGV4dC4gfFxuICogfCBgJHNjZS5SRVNPVVJDRV9VUkxgIHwgRm9yIFVSTHMgdGhhdCBhcmUgbm90IG9ubHkgc2FmZSB0byBmb2xsb3cgYXMgbGlua3MsIGJ1dCB3aG9zZSBjb250ZW50cyBhcmUgYWxzbyBzYWZlIHRvIGluY2x1ZGUgaW4geW91ciBhcHBsaWNhdGlvbi4gIEV4YW1wbGVzIGluY2x1ZGUgYG5nLWluY2x1ZGVgLCBgc3JjYCAvIGBuZ1NyY2AgYmluZGluZ3MgZm9yIHRhZ3Mgb3RoZXIgdGhhbiBgSU1HYCAoZS5nLiBgSUZSQU1FYCwgYE9CSkVDVGAsIGV0Yy4pICA8YnI+PGJyPk5vdGUgdGhhdCBgJHNjZS5SRVNPVVJDRV9VUkxgIG1ha2VzIGEgc3Ryb25nZXIgc3RhdGVtZW50IGFib3V0IHRoZSBVUkwgdGhhbiBgJHNjZS5VUkxgIGRvZXMgYW5kIHRoZXJlZm9yZSBjb250ZXh0cyByZXF1aXJpbmcgdmFsdWVzIHRydXN0ZWQgZm9yIGAkc2NlLlJFU09VUkNFX1VSTGAgY2FuIGJlIHVzZWQgYW55d2hlcmUgdGhhdCB2YWx1ZXMgdHJ1c3RlZCBmb3IgYCRzY2UuVVJMYCBhcmUgcmVxdWlyZWQuIHxcbiAqIHwgYCRzY2UuSlNgICAgICAgICAgICB8IEZvciBKYXZhU2NyaXB0IHRoYXQgaXMgc2FmZSB0byBleGVjdXRlIGluIHlvdXIgYXBwbGljYXRpb24ncyBjb250ZXh0LiAgQ3VycmVudGx5IHVudXNlZC4gIEZlZWwgZnJlZSB0byB1c2UgaXQgaW4geW91ciBvd24gZGlyZWN0aXZlcy4gfFxuICpcbiAqICMjIEZvcm1hdCBvZiBpdGVtcyBpbiB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3QgcmVzb3VyY2VVcmxXaGl0ZWxpc3R9L3tAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybEJsYWNrbGlzdCBCbGFja2xpc3R9IDxhIG5hbWU9XCJyZXNvdXJjZVVybFBhdHRlcm5JdGVtXCI+PC9hPlxuICpcbiAqICBFYWNoIGVsZW1lbnQgaW4gdGhlc2UgYXJyYXlzIG11c3QgYmUgb25lIG9mIHRoZSBmb2xsb3dpbmc6XG4gKlxuICogIC0gKionc2VsZicqKlxuICogICAgLSBUaGUgc3BlY2lhbCAqKnN0cmluZyoqLCBgJ3NlbGYnYCwgY2FuIGJlIHVzZWQgdG8gbWF0Y2ggYWdhaW5zdCBhbGwgVVJMcyBvZiB0aGUgKipzYW1lXG4gKiAgICAgIGRvbWFpbioqIGFzIHRoZSBhcHBsaWNhdGlvbiBkb2N1bWVudCB1c2luZyB0aGUgKipzYW1lIHByb3RvY29sKiouXG4gKiAgLSAqKlN0cmluZyoqIChleGNlcHQgdGhlIHNwZWNpYWwgdmFsdWUgYCdzZWxmJ2ApXG4gKiAgICAtIFRoZSBzdHJpbmcgaXMgbWF0Y2hlZCBhZ2FpbnN0IHRoZSBmdWxsICpub3JtYWxpemVkIC8gYWJzb2x1dGUgVVJMKiBvZiB0aGUgcmVzb3VyY2VcbiAqICAgICAgYmVpbmcgdGVzdGVkIChzdWJzdHJpbmcgbWF0Y2hlcyBhcmUgbm90IGdvb2QgZW5vdWdoLilcbiAqICAgIC0gVGhlcmUgYXJlIGV4YWN0bHkgKip0d28gd2lsZGNhcmQgc2VxdWVuY2VzKiogLSBgKmAgYW5kIGAqKmAuICBBbGwgb3RoZXIgY2hhcmFjdGVyc1xuICogICAgICBtYXRjaCB0aGVtc2VsdmVzLlxuICogICAgLSBgKmA6IG1hdGNoZXMgemVybyBvciBtb3JlIG9jY3VycmVuY2VzIG9mIGFueSBjaGFyYWN0ZXIgb3RoZXIgdGhhbiBvbmUgb2YgdGhlIGZvbGxvd2luZyA2XG4gKiAgICAgIGNoYXJhY3RlcnM6ICdgOmAnLCAnYC9gJywgJ2AuYCcsICdgP2AnLCAnYCZgJyBhbmQgJzsnLiAgSXQncyBhIHVzZWZ1bCB3aWxkY2FyZCBmb3IgdXNlXG4gKiAgICAgIGluIGEgd2hpdGVsaXN0LlxuICogICAgLSBgKipgOiBtYXRjaGVzIHplcm8gb3IgbW9yZSBvY2N1cnJlbmNlcyBvZiAqYW55KiBjaGFyYWN0ZXIuICBBcyBzdWNoLCBpdCdzIG5vdFxuICogICAgICBub3QgYXBwcm9wcmlhdGUgdG8gdXNlIGluIGZvciBhIHNjaGVtZSwgZG9tYWluLCBldGMuIGFzIGl0IHdvdWxkIG1hdGNoIHRvbyBtdWNoLiAgKGUuZy5cbiAqICAgICAgaHR0cDovLyoqLmV4YW1wbGUuY29tLyB3b3VsZCBtYXRjaCBodHRwOi8vZXZpbC5jb20vP2lnbm9yZT0uZXhhbXBsZS5jb20vIGFuZCB0aGF0IG1pZ2h0XG4gKiAgICAgIG5vdCBoYXZlIGJlZW4gdGhlIGludGVudGlvbi4pICBJdHMgdXNhZ2UgYXQgdGhlIHZlcnkgZW5kIG9mIHRoZSBwYXRoIGlzIG9rLiAgKGUuZy5cbiAqICAgICAgaHR0cDovL2Zvby5leGFtcGxlLmNvbS90ZW1wbGF0ZXMvKiopLlxuICogIC0gKipSZWdFeHAqKiAoKnNlZSBjYXZlYXQgYmVsb3cqKVxuICogICAgLSAqQ2F2ZWF0KjogIFdoaWxlIHJlZ3VsYXIgZXhwcmVzc2lvbnMgYXJlIHBvd2VyZnVsIGFuZCBvZmZlciBncmVhdCBmbGV4aWJpbGl0eSwgIHRoZWlyIHN5bnRheFxuICogICAgICAoYW5kIGFsbCB0aGUgaW5ldml0YWJsZSBlc2NhcGluZykgbWFrZXMgdGhlbSAqaGFyZGVyIHRvIG1haW50YWluKi4gIEl0J3MgZWFzeSB0b1xuICogICAgICBhY2NpZGVudGFsbHkgaW50cm9kdWNlIGEgYnVnIHdoZW4gb25lIHVwZGF0ZXMgYSBjb21wbGV4IGV4cHJlc3Npb24gKGltaG8sIGFsbCByZWdleGVzIHNob3VsZFxuICogICAgICBoYXZlIGdvb2QgdGVzdCBjb3ZlcmFnZS4pLiAgRm9yIGluc3RhbmNlLCB0aGUgdXNlIG9mIGAuYCBpbiB0aGUgcmVnZXggaXMgY29ycmVjdCBvbmx5IGluIGFcbiAqICAgICAgc21hbGwgbnVtYmVyIG9mIGNhc2VzLiAgQSBgLmAgY2hhcmFjdGVyIGluIHRoZSByZWdleCB1c2VkIHdoZW4gbWF0Y2hpbmcgdGhlIHNjaGVtZSBvciBhXG4gKiAgICAgIHN1YmRvbWFpbiBjb3VsZCBiZSBtYXRjaGVkIGFnYWluc3QgYSBgOmAgb3IgbGl0ZXJhbCBgLmAgdGhhdCB3YXMgbGlrZWx5IG5vdCBpbnRlbmRlZC4gICBJdFxuICogICAgICBpcyBoaWdobHkgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBzdHJpbmcgcGF0dGVybnMgYW5kIG9ubHkgZmFsbCBiYWNrIHRvIHJlZ3VsYXIgZXhwcmVzc2lvbnNcbiAqICAgICAgaWYgdGhleSBhcyBhIGxhc3QgcmVzb3J0LlxuICogICAgLSBUaGUgcmVndWxhciBleHByZXNzaW9uIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgUmVnRXhwIChpLmUuIG5vdCBhIHN0cmluZy4pICBJdCBpc1xuICogICAgICBtYXRjaGVkIGFnYWluc3QgdGhlICoqZW50aXJlKiogKm5vcm1hbGl6ZWQgLyBhYnNvbHV0ZSBVUkwqIG9mIHRoZSByZXNvdXJjZSBiZWluZyB0ZXN0ZWRcbiAqICAgICAgKGV2ZW4gd2hlbiB0aGUgUmVnRXhwIGRpZCBub3QgaGF2ZSB0aGUgYF5gIGFuZCBgJGAgY29kZXMuKSAgSW4gYWRkaXRpb24sIGFueSBmbGFnc1xuICogICAgICBwcmVzZW50IG9uIHRoZSBSZWdFeHAgKHN1Y2ggYXMgbXVsdGlsaW5lLCBnbG9iYWwsIGlnbm9yZUNhc2UpIGFyZSBpZ25vcmVkLlxuICogICAgLSBJZiB5b3UgYXJlIGdlbmVyYXRpbmcgeW91ciBKYXZhU2NyaXB0IGZyb20gc29tZSBvdGhlciB0ZW1wbGF0aW5nIGVuZ2luZSAobm90XG4gKiAgICAgIHJlY29tbWVuZGVkLCBlLmcuIGluIGlzc3VlIFsjNDAwNl0oaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvNDAwNikpLFxuICogICAgICByZW1lbWJlciB0byBlc2NhcGUgeW91ciByZWd1bGFyIGV4cHJlc3Npb24gKGFuZCBiZSBhd2FyZSB0aGF0IHlvdSBtaWdodCBuZWVkIG1vcmUgdGhhblxuICogICAgICBvbmUgbGV2ZWwgb2YgZXNjYXBpbmcgZGVwZW5kaW5nIG9uIHlvdXIgdGVtcGxhdGluZyBlbmdpbmUgYW5kIHRoZSB3YXkgeW91IGludGVycG9sYXRlZFxuICogICAgICB0aGUgdmFsdWUuKSAgRG8gbWFrZSB1c2Ugb2YgeW91ciBwbGF0Zm9ybSdzIGVzY2FwaW5nIG1lY2hhbmlzbSBhcyBpdCBtaWdodCBiZSBnb29kXG4gKiAgICAgIGVub3VnaCBiZWZvcmUgY29kaW5nIHlvdXIgb3duLiAgZS5nLiBSdWJ5IGhhc1xuICogICAgICBbUmVnZXhwLmVzY2FwZShzdHIpXShodHRwOi8vd3d3LnJ1YnktZG9jLm9yZy9jb3JlLTIuMC4wL1JlZ2V4cC5odG1sI21ldGhvZC1jLWVzY2FwZSlcbiAqICAgICAgYW5kIFB5dGhvbiBoYXMgW3JlLmVzY2FwZV0oaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3JlLmh0bWwjcmUuZXNjYXBlKS5cbiAqICAgICAgSmF2YXNjcmlwdCBsYWNrcyBhIHNpbWlsYXIgYnVpbHQgaW4gZnVuY3Rpb24gZm9yIGVzY2FwaW5nLiAgVGFrZSBhIGxvb2sgYXQgR29vZ2xlXG4gKiAgICAgIENsb3N1cmUgbGlicmFyeSdzIFtnb29nLnN0cmluZy5yZWdFeHBFc2NhcGUocyldKFxuICogICAgICBodHRwOi8vZG9jcy5jbG9zdXJlLWxpYnJhcnkuZ29vZ2xlY29kZS5jb20vZ2l0L2Nsb3N1cmVfZ29vZ19zdHJpbmdfc3RyaW5nLmpzLnNvdXJjZS5odG1sI2xpbmU5NjIpLlxuICpcbiAqIFJlZmVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciAkc2NlRGVsZWdhdGVQcm92aWRlcn0gZm9yIGFuIGV4YW1wbGUuXG4gKlxuICogIyMgU2hvdyBtZSBhbiBleGFtcGxlIHVzaW5nIFNDRS5cbiAqXG4gKiA8ZXhhbXBsZSBtb2R1bGU9XCJteVNjZUFwcFwiIGRlcHM9XCJhbmd1bGFyLXNhbml0aXplLmpzXCI+XG4gKiA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJBcHBDb250cm9sbGVyIGFzIG15Q3RybFwiPlxuICogICAgIDxpIG5nLWJpbmQtaHRtbD1cIm15Q3RybC5leHBsaWNpdGx5VHJ1c3RlZEh0bWxcIiBpZD1cImV4cGxpY2l0bHlUcnVzdGVkSHRtbFwiPjwvaT48YnI+PGJyPlxuICogICAgIDxiPlVzZXIgY29tbWVudHM8L2I+PGJyPlxuICogICAgIEJ5IGRlZmF1bHQsIEhUTUwgdGhhdCBpc24ndCBleHBsaWNpdGx5IHRydXN0ZWQgKGUuZy4gQWxpY2UncyBjb21tZW50KSBpcyBzYW5pdGl6ZWQgd2hlblxuICogICAgICRzYW5pdGl6ZSBpcyBhdmFpbGFibGUuICBJZiAkc2FuaXRpemUgaXNuJ3QgYXZhaWxhYmxlLCB0aGlzIHJlc3VsdHMgaW4gYW4gZXJyb3IgaW5zdGVhZCBvZiBhblxuICogICAgIGV4cGxvaXQuXG4gKiAgICAgPGRpdiBjbGFzcz1cIndlbGxcIj5cbiAqICAgICAgIDxkaXYgbmctcmVwZWF0PVwidXNlckNvbW1lbnQgaW4gbXlDdHJsLnVzZXJDb21tZW50c1wiPlxuICogICAgICAgICA8Yj57e3VzZXJDb21tZW50Lm5hbWV9fTwvYj46XG4gKiAgICAgICAgIDxzcGFuIG5nLWJpbmQtaHRtbD1cInVzZXJDb21tZW50Lmh0bWxDb21tZW50XCIgY2xhc3M9XCJodG1sQ29tbWVudFwiPjwvc3Bhbj5cbiAqICAgICAgICAgPGJyPlxuICogICAgICAgPC9kaXY+XG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvZGl2PlxuICogPC9maWxlPlxuICpcbiAqIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAqICAgYW5ndWxhci5tb2R1bGUoJ215U2NlQXBwJywgWyduZ1Nhbml0aXplJ10pXG4gKiAgICAgLmNvbnRyb2xsZXIoJ0FwcENvbnRyb2xsZXInLCBbJyRodHRwJywgJyR0ZW1wbGF0ZUNhY2hlJywgJyRzY2UnLFxuICogICAgICAgZnVuY3Rpb24oJGh0dHAsICR0ZW1wbGF0ZUNhY2hlLCAkc2NlKSB7XG4gKiAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAqICAgICAgICAgJGh0dHAuZ2V0KFwidGVzdF9kYXRhLmpzb25cIiwge2NhY2hlOiAkdGVtcGxhdGVDYWNoZX0pLnN1Y2Nlc3MoZnVuY3Rpb24odXNlckNvbW1lbnRzKSB7XG4gKiAgICAgICAgICAgc2VsZi51c2VyQ29tbWVudHMgPSB1c2VyQ29tbWVudHM7XG4gKiAgICAgICAgIH0pO1xuICogICAgICAgICBzZWxmLmV4cGxpY2l0bHlUcnVzdGVkSHRtbCA9ICRzY2UudHJ1c3RBc0h0bWwoXG4gKiAgICAgICAgICAgICAnPHNwYW4gb25tb3VzZW92ZXI9XCJ0aGlzLnRleHRDb250ZW50PSZxdW90O0V4cGxpY2l0bHkgdHJ1c3RlZCBIVE1MIGJ5cGFzc2VzICcgK1xuICogICAgICAgICAgICAgJ3Nhbml0aXphdGlvbi4mcXVvdDtcIj5Ib3ZlciBvdmVyIHRoaXMgdGV4dC48L3NwYW4+Jyk7XG4gKiAgICAgICB9XSk7XG4gKiA8L2ZpbGU+XG4gKlxuICogPGZpbGUgbmFtZT1cInRlc3RfZGF0YS5qc29uXCI+XG4gKiBbXG4gKiAgIHsgXCJuYW1lXCI6IFwiQWxpY2VcIixcbiAqICAgICBcImh0bWxDb21tZW50XCI6XG4gKiAgICAgICAgIFwiPHNwYW4gb25tb3VzZW92ZXI9J3RoaXMudGV4dENvbnRlbnQ9XFxcIlBXTjNEIVxcXCInPklzIDxpPmFueW9uZTwvaT4gcmVhZGluZyB0aGlzPzwvc3Bhbj5cIlxuICogICB9LFxuICogICB7IFwibmFtZVwiOiBcIkJvYlwiLFxuICogICAgIFwiaHRtbENvbW1lbnRcIjogXCI8aT5ZZXMhPC9pPiAgQW0gSSB0aGUgb25seSBvdGhlciBvbmU/XCJcbiAqICAgfVxuICogXVxuICogPC9maWxlPlxuICpcbiAqIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgZGVzY3JpYmUoJ1NDRSBkb2MgZGVtbycsIGZ1bmN0aW9uKCkge1xuICogICAgIGl0KCdzaG91bGQgc2FuaXRpemUgdW50cnVzdGVkIHZhbHVlcycsIGZ1bmN0aW9uKCkge1xuICogICAgICAgZXhwZWN0KGVsZW1lbnQuYWxsKGJ5LmNzcygnLmh0bWxDb21tZW50JykpLmZpcnN0KCkuZ2V0SW5uZXJIdG1sKCkpXG4gKiAgICAgICAgICAgLnRvQmUoJzxzcGFuPklzIDxpPmFueW9uZTwvaT4gcmVhZGluZyB0aGlzPzwvc3Bhbj4nKTtcbiAqICAgICB9KTtcbiAqXG4gKiAgICAgaXQoJ3Nob3VsZCBOT1Qgc2FuaXRpemUgZXhwbGljaXRseSB0cnVzdGVkIHZhbHVlcycsIGZ1bmN0aW9uKCkge1xuICogICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2V4cGxpY2l0bHlUcnVzdGVkSHRtbCcpKS5nZXRJbm5lckh0bWwoKSkudG9CZShcbiAqICAgICAgICAgICAnPHNwYW4gb25tb3VzZW92ZXI9XCJ0aGlzLnRleHRDb250ZW50PSZxdW90O0V4cGxpY2l0bHkgdHJ1c3RlZCBIVE1MIGJ5cGFzc2VzICcgK1xuICogICAgICAgICAgICdzYW5pdGl6YXRpb24uJnF1b3Q7XCI+SG92ZXIgb3ZlciB0aGlzIHRleHQuPC9zcGFuPicpO1xuICogICAgIH0pO1xuICogICB9KTtcbiAqIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKlxuICpcbiAqICMjIENhbiBJIGRpc2FibGUgU0NFIGNvbXBsZXRlbHk/XG4gKlxuICogWWVzLCB5b3UgY2FuLiAgSG93ZXZlciwgdGhpcyBpcyBzdHJvbmdseSBkaXNjb3VyYWdlZC4gIFNDRSBnaXZlcyB5b3UgYSBsb3Qgb2Ygc2VjdXJpdHkgYmVuZWZpdHNcbiAqIGZvciBsaXR0bGUgY29kaW5nIG92ZXJoZWFkLiAgSXQgd2lsbCBiZSBtdWNoIGhhcmRlciB0byB0YWtlIGFuIFNDRSBkaXNhYmxlZCBhcHBsaWNhdGlvbiBhbmRcbiAqIGVpdGhlciBzZWN1cmUgaXQgb24geW91ciBvd24gb3IgZW5hYmxlIFNDRSBhdCBhIGxhdGVyIHN0YWdlLiAgSXQgbWlnaHQgbWFrZSBzZW5zZSB0byBkaXNhYmxlIFNDRVxuICogZm9yIGNhc2VzIHdoZXJlIHlvdSBoYXZlIGEgbG90IG9mIGV4aXN0aW5nIGNvZGUgdGhhdCB3YXMgd3JpdHRlbiBiZWZvcmUgU0NFIHdhcyBpbnRyb2R1Y2VkIGFuZFxuICogeW91J3JlIG1pZ3JhdGluZyB0aGVtIGEgbW9kdWxlIGF0IGEgdGltZS5cbiAqXG4gKiBUaGF0IHNhaWQsIGhlcmUncyBob3cgeW91IGNhbiBjb21wbGV0ZWx5IGRpc2FibGUgU0NFOlxuICpcbiAqIGBgYFxuICogYW5ndWxhci5tb2R1bGUoJ215QXBwV2l0aFNjZURpc2FibGVkbXlBcHAnLCBbXSkuY29uZmlnKGZ1bmN0aW9uKCRzY2VQcm92aWRlcikge1xuICogICAvLyBDb21wbGV0ZWx5IGRpc2FibGUgU0NFLiAgRm9yIGRlbW9uc3RyYXRpb24gcHVycG9zZXMgb25seSFcbiAqICAgLy8gRG8gbm90IHVzZSBpbiBuZXcgcHJvamVjdHMuXG4gKiAgICRzY2VQcm92aWRlci5lbmFibGVkKGZhbHNlKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICovXG4vKiBqc2hpbnQgbWF4bGVuOiAxMDAgKi9cblxuZnVuY3Rpb24gJFNjZVByb3ZpZGVyKCkge1xuICB2YXIgZW5hYmxlZCA9IHRydWU7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJHNjZVByb3ZpZGVyI2VuYWJsZWRcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFuPX0gdmFsdWUgSWYgcHJvdmlkZWQsIHRoZW4gZW5hYmxlcy9kaXNhYmxlcyBTQ0UuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgU0NFIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEVuYWJsZXMvZGlzYWJsZXMgU0NFIGFuZCByZXR1cm5zIHRoZSBjdXJyZW50IHZhbHVlLlxuICAgKi9cbiAgdGhpcy5lbmFibGVkID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgZW5hYmxlZCA9ICEhdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBlbmFibGVkO1xuICB9O1xuXG5cbiAgLyogRGVzaWduIG5vdGVzIG9uIHRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGZvciBTQ0UuXG4gICAqXG4gICAqIFRoZSBBUEkgY29udHJhY3QgZm9yIHRoZSBTQ0UgZGVsZWdhdGVcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBUaGUgU0NFIGRlbGVnYXRlIG9iamVjdCBtdXN0IHByb3ZpZGUgdGhlIGZvbGxvd2luZyAzIG1ldGhvZHM6XG4gICAqXG4gICAqIC0gdHJ1c3RBcyhjb250ZXh0RW51bSwgdmFsdWUpXG4gICAqICAgICBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIHRlbGwgdGhlIFNDRSBzZXJ2aWNlIHRoYXQgdGhlIHByb3ZpZGVkIHZhbHVlIGlzIE9LIHRvIHVzZSBpbiB0aGVcbiAgICogICAgIGNvbnRleHRzIHNwZWNpZmllZCBieSBjb250ZXh0RW51bS4gIEl0IG11c3QgcmV0dXJuIGFuIG9iamVjdCB0aGF0IHdpbGwgYmUgYWNjZXB0ZWQgYnlcbiAgICogICAgIGdldFRydXN0ZWQoKSBmb3IgYSBjb21wYXRpYmxlIGNvbnRleHRFbnVtIGFuZCByZXR1cm4gdGhpcyB2YWx1ZS5cbiAgICpcbiAgICogLSB2YWx1ZU9mKHZhbHVlKVxuICAgKiAgICAgRm9yIHZhbHVlcyB0aGF0IHdlcmUgbm90IHByb2R1Y2VkIGJ5IHRydXN0QXMoKSwgcmV0dXJuIHRoZW0gYXMgaXMuICBGb3IgdmFsdWVzIHRoYXQgd2VyZVxuICAgKiAgICAgcHJvZHVjZWQgYnkgdHJ1c3RBcygpLCByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcgaW5wdXQgdmFsdWUgdG8gdHJ1c3RBcy4gIEJhc2ljYWxseSwgaWZcbiAgICogICAgIHRydXN0QXMgaXMgd3JhcHBpbmcgdGhlIGdpdmVuIHZhbHVlcyBpbnRvIHNvbWUgdHlwZSwgdGhpcyBvcGVyYXRpb24gdW53cmFwcyBpdCB3aGVuIGdpdmVuXG4gICAqICAgICBzdWNoIGEgdmFsdWUuXG4gICAqXG4gICAqIC0gZ2V0VHJ1c3RlZChjb250ZXh0RW51bSwgdmFsdWUpXG4gICAqICAgICBUaGlzIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gdGhlIGEgdmFsdWUgdGhhdCBpcyBzYWZlIHRvIHVzZSBpbiB0aGUgY29udGV4dCBzcGVjaWZpZWQgYnlcbiAgICogICAgIGNvbnRleHRFbnVtIG9yIHRocm93IGFuZCBleGNlcHRpb24gb3RoZXJ3aXNlLlxuICAgKlxuICAgKiBOT1RFOiBUaGlzIGNvbnRyYWN0IGRlbGliZXJhdGVseSBkb2VzIE5PVCBzdGF0ZSB0aGF0IHZhbHVlcyByZXR1cm5lZCBieSB0cnVzdEFzKCkgbXVzdCBiZVxuICAgKiBvcGFxdWUgb3Igd3JhcHBlZCBpbiBzb21lIGhvbGRlciBvYmplY3QuICBUaGF0IGhhcHBlbnMgdG8gYmUgYW4gaW1wbGVtZW50YXRpb24gZGV0YWlsLiAgRm9yXG4gICAqIGluc3RhbmNlLCBhbiBpbXBsZW1lbnRhdGlvbiBjb3VsZCBtYWludGFpbiBhIHJlZ2lzdHJ5IG9mIGFsbCB0cnVzdGVkIG9iamVjdHMgYnkgY29udGV4dC4gIEluXG4gICAqIHN1Y2ggYSBjYXNlLCB0cnVzdEFzKCkgd291bGQgcmV0dXJuIHRoZSBzYW1lIG9iamVjdCB0aGF0IHdhcyBwYXNzZWQgaW4uICBnZXRUcnVzdGVkKCkgd291bGRcbiAgICogcmV0dXJuIHRoZSBzYW1lIG9iamVjdCBwYXNzZWQgaW4gaWYgaXQgd2FzIGZvdW5kIGluIHRoZSByZWdpc3RyeSB1bmRlciBhIGNvbXBhdGlibGUgY29udGV4dCBvclxuICAgKiB0aHJvdyBhbiBleGNlcHRpb24gb3RoZXJ3aXNlLiAgQW4gaW1wbGVtZW50YXRpb24gbWlnaHQgb25seSB3cmFwIHZhbHVlcyBzb21lIG9mIHRoZSB0aW1lIGJhc2VkXG4gICAqIG9uIHNvbWUgY3JpdGVyaWEuICBnZXRUcnVzdGVkKCkgbWlnaHQgcmV0dXJuIGEgdmFsdWUgYW5kIG5vdCB0aHJvdyBhbiBleGNlcHRpb24gZm9yIHNwZWNpYWxcbiAgICogY29uc3RhbnRzIG9yIG9iamVjdHMgZXZlbiBpZiBub3Qgd3JhcHBlZC4gIEFsbCBzdWNoIGltcGxlbWVudGF0aW9ucyBmdWxmaWxsIHRoaXMgY29udHJhY3QuXG4gICAqXG4gICAqXG4gICAqIEEgbm90ZSBvbiB0aGUgaW5oZXJpdGFuY2UgbW9kZWwgZm9yIFNDRSBjb250ZXh0c1xuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogSSd2ZSB1c2VkIGluaGVyaXRhbmNlIGFuZCBtYWRlIFJFU09VUkNFX1VSTCB3cmFwcGVkIHR5cGVzIGEgc3VidHlwZSBvZiBVUkwgd3JhcHBlZCB0eXBlcy4gIFRoaXNcbiAgICogaXMgcHVyZWx5IGFuIGltcGxlbWVudGF0aW9uIGRldGFpbHMuXG4gICAqXG4gICAqIFRoZSBjb250cmFjdCBpcyBzaW1wbHkgdGhpczpcbiAgICpcbiAgICogICAgIGdldFRydXN0ZWQoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKSBzdWNjZWVkaW5nIGltcGxpZXMgdGhhdCBnZXRUcnVzdGVkKCRzY2UuVVJMLCB2YWx1ZSlcbiAgICogICAgIHdpbGwgYWxzbyBzdWNjZWVkLlxuICAgKlxuICAgKiBJbmhlcml0YW5jZSBoYXBwZW5zIHRvIGNhcHR1cmUgdGhpcyBpbiBhIG5hdHVyYWwgd2F5LiAgSW4gc29tZSBmdXR1cmUsIHdlXG4gICAqIG1heSBub3QgdXNlIGluaGVyaXRhbmNlIGFueW1vcmUuICBUaGF0IGlzIE9LIGJlY2F1c2Ugbm8gY29kZSBvdXRzaWRlIG9mXG4gICAqIHNjZS5qcyBhbmQgc2NlU3BlY3MuanMgd291bGQgbmVlZCB0byBiZSBhd2FyZSBvZiB0aGlzIGRldGFpbC5cbiAgICovXG5cbiAgdGhpcy4kZ2V0ID0gWyckcGFyc2UnLCAnJHNjZURlbGVnYXRlJywgZnVuY3Rpb24oXG4gICAgICAgICAgICAgICAgJHBhcnNlLCAgICRzY2VEZWxlZ2F0ZSkge1xuICAgIC8vIFByZXJlcTogRW5zdXJlIHRoYXQgd2UncmUgbm90IHJ1bm5pbmcgaW4gSUU8MTEgcXVpcmtzIG1vZGUuICBJbiB0aGF0IG1vZGUsIElFIDwgMTEgYWxsb3dcbiAgICAvLyB0aGUgXCJleHByZXNzaW9uKGphdmFzY3JpcHQgZXhwcmVzc2lvbilcIiBzeW50YXggd2hpY2ggaXMgaW5zZWN1cmUuXG4gICAgaWYgKGVuYWJsZWQgJiYgbXNpZSA8IDgpIHtcbiAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2llcXVpcmtzJyxcbiAgICAgICAgJ1N0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIGRvZXMgbm90IHN1cHBvcnQgSW50ZXJuZXQgRXhwbG9yZXIgdmVyc2lvbiA8IDExIGluIHF1aXJrcyAnICtcbiAgICAgICAgJ21vZGUuICBZb3UgY2FuIGZpeCB0aGlzIGJ5IGFkZGluZyB0aGUgdGV4dCA8IWRvY3R5cGUgaHRtbD4gdG8gdGhlIHRvcCBvZiB5b3VyIEhUTUwgJyArXG4gICAgICAgICdkb2N1bWVudC4gIFNlZSBodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZy4kc2NlIGZvciBtb3JlIGluZm9ybWF0aW9uLicpO1xuICAgIH1cblxuICAgIHZhciBzY2UgPSBzaGFsbG93Q29weShTQ0VfQ09OVEVYVFMpO1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjaXNFbmFibGVkXG4gICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgU0NFIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS4gIElmIHlvdSB3YW50IHRvIHNldCB0aGUgdmFsdWUsIHlvdVxuICAgICAqIGhhdmUgdG8gZG8gaXQgYXQgbW9kdWxlIGNvbmZpZyB0aW1lIG9uIHtAbGluayBuZy4kc2NlUHJvdmlkZXIgJHNjZVByb3ZpZGVyfS5cbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgYSBib29sZWFuIGluZGljYXRpbmcgaWYgU0NFIGlzIGVuYWJsZWQuXG4gICAgICovXG4gICAgc2NlLmlzRW5hYmxlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGVuYWJsZWQ7XG4gICAgfTtcbiAgICBzY2UudHJ1c3RBcyA9ICRzY2VEZWxlZ2F0ZS50cnVzdEFzO1xuICAgIHNjZS5nZXRUcnVzdGVkID0gJHNjZURlbGVnYXRlLmdldFRydXN0ZWQ7XG4gICAgc2NlLnZhbHVlT2YgPSAkc2NlRGVsZWdhdGUudmFsdWVPZjtcblxuICAgIGlmICghZW5hYmxlZCkge1xuICAgICAgc2NlLnRydXN0QXMgPSBzY2UuZ2V0VHJ1c3RlZCA9IGZ1bmN0aW9uKHR5cGUsIHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcbiAgICAgIHNjZS52YWx1ZU9mID0gaWRlbnRpdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ29udmVydHMgQW5ndWxhciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpbnRvIGEgZnVuY3Rpb24uICBUaGlzIGlzIGxpa2Uge0BsaW5rXG4gICAgICogbmcuJHBhcnNlICRwYXJzZX0gYW5kIGlzIGlkZW50aWNhbCB3aGVuIHRoZSBleHByZXNzaW9uIGlzIGEgbGl0ZXJhbCBjb25zdGFudC4gIE90aGVyd2lzZSwgaXRcbiAgICAgKiB3cmFwcyB0aGUgZXhwcmVzc2lvbiBpbiBhIGNhbGwgdG8ge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZCAkc2NlLmdldFRydXN0ZWQoKnR5cGUqLFxuICAgICAqICpyZXN1bHQqKX1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBraW5kIG9mIFNDRSBjb250ZXh0IGluIHdoaWNoIHRoaXMgcmVzdWx0IHdpbGwgYmUgdXNlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLlxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gICAgICpcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzXG4gICAgICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpblxuICAgICAqICAgICAgYGNvbnRleHRgLlxuICAgICAqL1xuICAgIHNjZS5wYXJzZUFzID0gZnVuY3Rpb24gc2NlUGFyc2VBcyh0eXBlLCBleHByKSB7XG4gICAgICB2YXIgcGFyc2VkID0gJHBhcnNlKGV4cHIpO1xuICAgICAgaWYgKHBhcnNlZC5saXRlcmFsICYmIHBhcnNlZC5jb25zdGFudCkge1xuICAgICAgICByZXR1cm4gcGFyc2VkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICRwYXJzZShleHByLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBzY2UuZ2V0VHJ1c3RlZCh0eXBlLCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSN0cnVzdEFzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBEZWxlZ2F0ZXMgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9LiAgQXMgc3VjaCxcbiAgICAgKiByZXR1cm5zIGFuIG9iamVjdCB0aGF0IGlzIHRydXN0ZWQgYnkgYW5ndWxhciBmb3IgdXNlIGluIHNwZWNpZmllZCBzdHJpY3QgY29udGV4dHVhbFxuICAgICAqIGVzY2FwaW5nIGNvbnRleHRzIChzdWNoIGFzIG5nLWJpbmQtaHRtbCwgbmctaW5jbHVkZSwgYW55IHNyYyBhdHRyaWJ1dGVcbiAgICAgKiBpbnRlcnBvbGF0aW9uLCBhbnkgZG9tIGV2ZW50IGJpbmRpbmcgYXR0cmlidXRlIGludGVycG9sYXRpb24gc3VjaCBhcyBmb3Igb25jbGljaywgIGV0Yy4pXG4gICAgICogdGhhdCB1c2VzIHRoZSBwcm92aWRlZCB2YWx1ZS4gIFNlZSAqIHtAbGluayBuZy4kc2NlICRzY2V9IGZvciBlbmFibGluZyBzdHJpY3QgY29udGV4dHVhbFxuICAgICAqIGVzY2FwaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGtpbmQgb2YgY29udGV4dCBpbiB3aGljaCB0aGlzIHZhbHVlIGlzIHNhZmUgZm9yIHVzZS4gIGUuZy4gdXJsLFxuICAgICAqICAgcmVzb3VyY2VfdXJsLCBodG1sLCBqcyBhbmQgY3NzLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRoYXQgdGhhdCBzaG91bGQgYmUgY29uc2lkZXJlZCB0cnVzdGVkL3NhZmUuXG4gICAgICogQHJldHVybnMgeyp9IEEgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCB0byBzdGFuZCBpbiBmb3IgdGhlIHByb3ZpZGVkIGB2YWx1ZWAgaW4gcGxhY2VzXG4gICAgICogd2hlcmUgQW5ndWxhciBleHBlY3RzIGEgJHNjZS50cnVzdEFzKCkgcmV0dXJuIHZhbHVlLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjdHJ1c3RBc0h0bWxcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS50cnVzdEFzSHRtbCh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzKCRzY2UuSFRNTCwgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHRydXN0QXMuXG4gICAgICogQHJldHVybnMgeyp9IEFuIG9iamVjdCB0aGF0IGNhbiBiZSBwYXNzZWQgdG8ge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZEh0bWxcbiAgICAgKiAgICAgJHNjZS5nZXRUcnVzdGVkSHRtbCh2YWx1ZSl9IHRvIG9idGFpbiB0aGUgb3JpZ2luYWwgdmFsdWUuICAocHJpdmlsZWdlZCBkaXJlY3RpdmVzXG4gICAgICogICAgIG9ubHkgYWNjZXB0IGV4cHJlc3Npb25zIHRoYXQgYXJlIGVpdGhlciBsaXRlcmFsIGNvbnN0YW50cyBvciBhcmUgdGhlXG4gICAgICogICAgIHJldHVybiB2YWx1ZSBvZiB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzICRzY2UudHJ1c3RBc30uKVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjdHJ1c3RBc1VybFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnRydXN0QXNVcmwodmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBcygkc2NlLlVSTCwgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHRydXN0QXMuXG4gICAgICogQHJldHVybnMgeyp9IEFuIG9iamVjdCB0aGF0IGNhbiBiZSBwYXNzZWQgdG8ge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZFVybFxuICAgICAqICAgICAkc2NlLmdldFRydXN0ZWRVcmwodmFsdWUpfSB0byBvYnRhaW4gdGhlIG9yaWdpbmFsIHZhbHVlLiAgKHByaXZpbGVnZWQgZGlyZWN0aXZlc1xuICAgICAqICAgICBvbmx5IGFjY2VwdCBleHByZXNzaW9ucyB0aGF0IGFyZSBlaXRoZXIgbGl0ZXJhbCBjb25zdGFudHMgb3IgYXJlIHRoZVxuICAgICAqICAgICByZXR1cm4gdmFsdWUgb2Yge0BsaW5rIG5nLiRzY2UjdHJ1c3RBcyAkc2NlLnRydXN0QXN9LilcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3RydXN0QXNSZXNvdXJjZVVybFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnRydXN0QXNSZXNvdXJjZVVybCh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzKCRzY2UuUkVTT1VSQ0VfVVJMLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gdHJ1c3RBcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gQW4gb2JqZWN0IHRoYXQgY2FuIGJlIHBhc3NlZCB0byB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmxcbiAgICAgKiAgICAgJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmwodmFsdWUpfSB0byBvYnRhaW4gdGhlIG9yaWdpbmFsIHZhbHVlLiAgKHByaXZpbGVnZWQgZGlyZWN0aXZlc1xuICAgICAqICAgICBvbmx5IGFjY2VwdCBleHByZXNzaW9ucyB0aGF0IGFyZSBlaXRoZXIgbGl0ZXJhbCBjb25zdGFudHMgb3IgYXJlIHRoZSByZXR1cm5cbiAgICAgKiAgICAgdmFsdWUgb2Yge0BsaW5rIG5nLiRzY2UjdHJ1c3RBcyAkc2NlLnRydXN0QXN9LilcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3RydXN0QXNKc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnRydXN0QXNKcyh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzKCRzY2UuSlMsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB0cnVzdEFzLlxuICAgICAqIEByZXR1cm5zIHsqfSBBbiBvYmplY3QgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWRKc1xuICAgICAqICAgICAkc2NlLmdldFRydXN0ZWRKcyh2YWx1ZSl9IHRvIG9idGFpbiB0aGUgb3JpZ2luYWwgdmFsdWUuICAocHJpdmlsZWdlZCBkaXJlY3RpdmVzXG4gICAgICogICAgIG9ubHkgYWNjZXB0IGV4cHJlc3Npb25zIHRoYXQgYXJlIGVpdGhlciBsaXRlcmFsIGNvbnN0YW50cyBvciBhcmUgdGhlXG4gICAgICogICAgIHJldHVybiB2YWx1ZSBvZiB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzICRzY2UudHJ1c3RBc30uKVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogRGVsZWdhdGVzIHRvIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWRgfS4gIEFzIHN1Y2gsXG4gICAgICogdGFrZXMgdGhlIHJlc3VsdCBvZiBhIHtAbGluayBuZy4kc2NlI3RydXN0QXMgYCRzY2UudHJ1c3RBc2B9KCkgY2FsbCBhbmQgcmV0dXJucyB0aGVcbiAgICAgKiBvcmlnaW5hbGx5IHN1cHBsaWVkIHZhbHVlIGlmIHRoZSBxdWVyaWVkIGNvbnRleHQgdHlwZSBpcyBhIHN1cGVydHlwZSBvZiB0aGUgY3JlYXRlZCB0eXBlLlxuICAgICAqIElmIHRoaXMgY29uZGl0aW9uIGlzbid0IHNhdGlzZmllZCwgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBraW5kIG9mIGNvbnRleHQgaW4gd2hpY2ggdGhpcyB2YWx1ZSBpcyB0byBiZSB1c2VkLlxuICAgICAqIEBwYXJhbSB7Kn0gbWF5YmVUcnVzdGVkIFRoZSByZXN1bHQgb2YgYSBwcmlvciB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzIGAkc2NlLnRydXN0QXNgfVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGwuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGUgd2FzIG9yaWdpbmFsbHkgcHJvdmlkZWQgdG9cbiAgICAgKiAgICAgICAgICAgICAge0BsaW5rIG5nLiRzY2UjdHJ1c3RBcyBgJHNjZS50cnVzdEFzYH0gaWYgdmFsaWQgaW4gdGhpcyBjb250ZXh0LlxuICAgICAqICAgICAgICAgICAgICBPdGhlcndpc2UsIHRocm93cyBhbiBleGNlcHRpb24uXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkSHRtbFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLmdldFRydXN0ZWRIdG1sKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWQoJHNjZS5IVE1MLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFzcyB0byBgJHNjZS5nZXRUcnVzdGVkYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHJldHVybiB2YWx1ZSBvZiBgJHNjZS5nZXRUcnVzdGVkKCRzY2UuSFRNTCwgdmFsdWUpYFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZENzc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLmdldFRydXN0ZWRDc3ModmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZCgkc2NlLkNTUywgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBhc3MgdG8gYCRzY2UuZ2V0VHJ1c3RlZGAuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgYCRzY2UuZ2V0VHJ1c3RlZCgkc2NlLkNTUywgdmFsdWUpYFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZFVybFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLmdldFRydXN0ZWRVcmwodmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZCgkc2NlLlVSTCwgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBhc3MgdG8gYCRzY2UuZ2V0VHJ1c3RlZGAuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgYCRzY2UuZ2V0VHJ1c3RlZCgkc2NlLlVSTCwgdmFsdWUpYFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZFJlc291cmNlVXJsXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWQoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwYXNzIHRvIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZGAuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgYCRzY2UuZ2V0VHJ1c3RlZCgkc2NlLlJFU09VUkNFX1VSTCwgdmFsdWUpYFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZEpzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UuZ2V0VHJ1c3RlZEpzKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWQoJHNjZS5KUywgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBhc3MgdG8gYCRzY2UuZ2V0VHJ1c3RlZGAuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgYCRzY2UuZ2V0VHJ1c3RlZCgkc2NlLkpTLCB2YWx1ZSlgXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNwYXJzZUFzSHRtbFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNIdG1sKGV4cHJlc3Npb24gc3RyaW5nKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlI3BhcnNlQXMgYCRzY2UucGFyc2VBcygkc2NlLkhUTUwsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLlxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gICAgICpcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzXG4gICAgICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpblxuICAgICAqICAgICAgYGNvbnRleHRgLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc0Nzc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNDc3ModmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2UjcGFyc2VBcyBgJHNjZS5wYXJzZUFzKCRzY2UuQ1NTLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cbiAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gYSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxuICAgICAqXG4gICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5nc1xuICAgICAqICAgICAgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxuICAgICAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW5cbiAgICAgKiAgICAgIGBjb250ZXh0YC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3BhcnNlQXNVcmxcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5wYXJzZUFzVXJsKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlI3BhcnNlQXMgYCRzY2UucGFyc2VBcygkc2NlLlVSTCwgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXG4gICAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IGEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcbiAgICAgKlxuICAgICAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIHN0cmluZ3NcbiAgICAgKiAgICAgIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cbiAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluXG4gICAgICogICAgICBgY29udGV4dGAuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNwYXJzZUFzUmVzb3VyY2VVcmxcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5wYXJzZUFzUmVzb3VyY2VVcmwodmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2UjcGFyc2VBcyBgJHNjZS5wYXJzZUFzKCRzY2UuUkVTT1VSQ0VfVVJMLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cbiAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gYSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxuICAgICAqXG4gICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5nc1xuICAgICAqICAgICAgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxuICAgICAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW5cbiAgICAgKiAgICAgIGBjb250ZXh0YC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3BhcnNlQXNKc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNKcyh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZSNwYXJzZUFzIGAkc2NlLnBhcnNlQXMoJHNjZS5KUywgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXG4gICAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IGEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcbiAgICAgKlxuICAgICAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIHN0cmluZ3NcbiAgICAgKiAgICAgIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cbiAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluXG4gICAgICogICAgICBgY29udGV4dGAuXG4gICAgICovXG5cbiAgICAvLyBTaG9ydGhhbmQgZGVsZWdhdGlvbnMuXG4gICAgdmFyIHBhcnNlID0gc2NlLnBhcnNlQXMsXG4gICAgICAgIGdldFRydXN0ZWQgPSBzY2UuZ2V0VHJ1c3RlZCxcbiAgICAgICAgdHJ1c3RBcyA9IHNjZS50cnVzdEFzO1xuXG4gICAgZm9yRWFjaChTQ0VfQ09OVEVYVFMsIGZ1bmN0aW9uKGVudW1WYWx1ZSwgbmFtZSkge1xuICAgICAgdmFyIGxOYW1lID0gbG93ZXJjYXNlKG5hbWUpO1xuICAgICAgc2NlW2NhbWVsQ2FzZShcInBhcnNlX2FzX1wiICsgbE5hbWUpXSA9IGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlKGVudW1WYWx1ZSwgZXhwcik7XG4gICAgICB9O1xuICAgICAgc2NlW2NhbWVsQ2FzZShcImdldF90cnVzdGVkX1wiICsgbE5hbWUpXSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBnZXRUcnVzdGVkKGVudW1WYWx1ZSwgdmFsdWUpO1xuICAgICAgfTtcbiAgICAgIHNjZVtjYW1lbENhc2UoXCJ0cnVzdF9hc19cIiArIGxOYW1lKV0gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdHJ1c3RBcyhlbnVtVmFsdWUsIHZhbHVlKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc2NlO1xuICB9XTtcbn1cblxuLyoqXG4gKiAhISEgVGhpcyBpcyBhbiB1bmRvY3VtZW50ZWQgXCJwcml2YXRlXCIgc2VydmljZSAhISFcbiAqXG4gKiBAbmFtZSAkc25pZmZlclxuICogQHJlcXVpcmVzICR3aW5kb3dcbiAqIEByZXF1aXJlcyAkZG9jdW1lbnRcbiAqXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGhpc3RvcnkgRG9lcyB0aGUgYnJvd3NlciBzdXBwb3J0IGh0bWw1IGhpc3RvcnkgYXBpID9cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gdHJhbnNpdGlvbnMgRG9lcyB0aGUgYnJvd3NlciBzdXBwb3J0IENTUyB0cmFuc2l0aW9uIGV2ZW50cyA/XG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGFuaW1hdGlvbnMgRG9lcyB0aGUgYnJvd3NlciBzdXBwb3J0IENTUyBhbmltYXRpb24gZXZlbnRzID9cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoaXMgaXMgdmVyeSBzaW1wbGUgaW1wbGVtZW50YXRpb24gb2YgdGVzdGluZyBicm93c2VyJ3MgZmVhdHVyZXMuXG4gKi9cbmZ1bmN0aW9uICRTbmlmZmVyUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsICckZG9jdW1lbnQnLCBmdW5jdGlvbigkd2luZG93LCAkZG9jdW1lbnQpIHtcbiAgICB2YXIgZXZlbnRTdXBwb3J0ID0ge30sXG4gICAgICAgIGFuZHJvaWQgPVxuICAgICAgICAgIGludCgoL2FuZHJvaWQgKFxcZCspLy5leGVjKGxvd2VyY2FzZSgoJHdpbmRvdy5uYXZpZ2F0b3IgfHwge30pLnVzZXJBZ2VudCkpIHx8IFtdKVsxXSksXG4gICAgICAgIGJveGVlID0gL0JveGVlL2kudGVzdCgoJHdpbmRvdy5uYXZpZ2F0b3IgfHwge30pLnVzZXJBZ2VudCksXG4gICAgICAgIGRvY3VtZW50ID0gJGRvY3VtZW50WzBdIHx8IHt9LFxuICAgICAgICB2ZW5kb3JQcmVmaXgsXG4gICAgICAgIHZlbmRvclJlZ2V4ID0gL14oTW96fHdlYmtpdHxtcykoPz1bQS1aXSkvLFxuICAgICAgICBib2R5U3R5bGUgPSBkb2N1bWVudC5ib2R5ICYmIGRvY3VtZW50LmJvZHkuc3R5bGUsXG4gICAgICAgIHRyYW5zaXRpb25zID0gZmFsc2UsXG4gICAgICAgIGFuaW1hdGlvbnMgPSBmYWxzZSxcbiAgICAgICAgbWF0Y2g7XG5cbiAgICBpZiAoYm9keVN0eWxlKSB7XG4gICAgICBmb3IgKHZhciBwcm9wIGluIGJvZHlTdHlsZSkge1xuICAgICAgICBpZiAobWF0Y2ggPSB2ZW5kb3JSZWdleC5leGVjKHByb3ApKSB7XG4gICAgICAgICAgdmVuZG9yUHJlZml4ID0gbWF0Y2hbMF07XG4gICAgICAgICAgdmVuZG9yUHJlZml4ID0gdmVuZG9yUHJlZml4LnN1YnN0cigwLCAxKS50b1VwcGVyQ2FzZSgpICsgdmVuZG9yUHJlZml4LnN1YnN0cigxKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXZlbmRvclByZWZpeCkge1xuICAgICAgICB2ZW5kb3JQcmVmaXggPSAoJ1dlYmtpdE9wYWNpdHknIGluIGJvZHlTdHlsZSkgJiYgJ3dlYmtpdCc7XG4gICAgICB9XG5cbiAgICAgIHRyYW5zaXRpb25zID0gISEoKCd0cmFuc2l0aW9uJyBpbiBib2R5U3R5bGUpIHx8ICh2ZW5kb3JQcmVmaXggKyAnVHJhbnNpdGlvbicgaW4gYm9keVN0eWxlKSk7XG4gICAgICBhbmltYXRpb25zICA9ICEhKCgnYW5pbWF0aW9uJyBpbiBib2R5U3R5bGUpIHx8ICh2ZW5kb3JQcmVmaXggKyAnQW5pbWF0aW9uJyBpbiBib2R5U3R5bGUpKTtcblxuICAgICAgaWYgKGFuZHJvaWQgJiYgKCF0cmFuc2l0aW9uc3x8IWFuaW1hdGlvbnMpKSB7XG4gICAgICAgIHRyYW5zaXRpb25zID0gaXNTdHJpbmcoZG9jdW1lbnQuYm9keS5zdHlsZS53ZWJraXRUcmFuc2l0aW9uKTtcbiAgICAgICAgYW5pbWF0aW9ucyA9IGlzU3RyaW5nKGRvY3VtZW50LmJvZHkuc3R5bGUud2Via2l0QW5pbWF0aW9uKTtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIHJldHVybiB7XG4gICAgICAvLyBBbmRyb2lkIGhhcyBoaXN0b3J5LnB1c2hTdGF0ZSwgYnV0IGl0IGRvZXMgbm90IHVwZGF0ZSBsb2NhdGlvbiBjb3JyZWN0bHlcbiAgICAgIC8vIHNvIGxldCdzIG5vdCB1c2UgdGhlIGhpc3RvcnkgQVBJIGF0IGFsbC5cbiAgICAgIC8vIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9hbmRyb2lkL2lzc3Vlcy9kZXRhaWw/aWQ9MTc0NzFcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzkwNFxuXG4gICAgICAvLyBvbGRlciB3ZWJraXQgYnJvd3NlciAoNTMzLjkpIG9uIEJveGVlIGJveCBoYXMgZXhhY3RseSB0aGUgc2FtZSBwcm9ibGVtIGFzIEFuZHJvaWQgaGFzXG4gICAgICAvLyBzbyBsZXQncyBub3QgdXNlIHRoZSBoaXN0b3J5IEFQSSBhbHNvXG4gICAgICAvLyBXZSBhcmUgcHVycG9zZWZ1bGx5IHVzaW5nIGAhKGFuZHJvaWQgPCA0KWAgdG8gY292ZXIgdGhlIGNhc2Ugd2hlbiBgYW5kcm9pZGAgaXMgdW5kZWZpbmVkXG4gICAgICAvLyBqc2hpbnQgLVcwMThcbiAgICAgIGhpc3Rvcnk6ICEhKCR3aW5kb3cuaGlzdG9yeSAmJiAkd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlICYmICEoYW5kcm9pZCA8IDQpICYmICFib3hlZSksXG4gICAgICAvLyBqc2hpbnQgK1cwMThcbiAgICAgIGhhc0V2ZW50OiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAvLyBJRTkgaW1wbGVtZW50cyAnaW5wdXQnIGV2ZW50IGl0J3Mgc28gZnViYXJlZCB0aGF0IHdlIHJhdGhlciBwcmV0ZW5kIHRoYXQgaXQgZG9lc24ndCBoYXZlXG4gICAgICAgIC8vIGl0LiBJbiBwYXJ0aWN1bGFyIHRoZSBldmVudCBpcyBub3QgZmlyZWQgd2hlbiBiYWNrc3BhY2Ugb3IgZGVsZXRlIGtleSBhcmUgcHJlc3NlZCBvclxuICAgICAgICAvLyB3aGVuIGN1dCBvcGVyYXRpb24gaXMgcGVyZm9ybWVkLlxuICAgICAgICBpZiAoZXZlbnQgPT0gJ2lucHV0JyAmJiBtc2llID09IDkpIHJldHVybiBmYWxzZTtcblxuICAgICAgICBpZiAoaXNVbmRlZmluZWQoZXZlbnRTdXBwb3J0W2V2ZW50XSkpIHtcbiAgICAgICAgICB2YXIgZGl2RWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgZXZlbnRTdXBwb3J0W2V2ZW50XSA9ICdvbicgKyBldmVudCBpbiBkaXZFbG07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXZlbnRTdXBwb3J0W2V2ZW50XTtcbiAgICAgIH0sXG4gICAgICBjc3A6IGNzcCgpLFxuICAgICAgdmVuZG9yUHJlZml4OiB2ZW5kb3JQcmVmaXgsXG4gICAgICB0cmFuc2l0aW9uczogdHJhbnNpdGlvbnMsXG4gICAgICBhbmltYXRpb25zOiBhbmltYXRpb25zLFxuICAgICAgYW5kcm9pZDogYW5kcm9pZFxuICAgIH07XG4gIH1dO1xufVxuXG52YXIgJGNvbXBpbGVNaW5FcnIgPSBtaW5FcnIoJyRjb21waWxlJyk7XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICR0ZW1wbGF0ZVJlcXVlc3RcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgJHRlbXBsYXRlUmVxdWVzdGAgc2VydmljZSBkb3dubG9hZHMgdGhlIHByb3ZpZGVkIHRlbXBsYXRlIHVzaW5nIGAkaHR0cGAgYW5kLCB1cG9uIHN1Y2Nlc3MsXG4gKiBzdG9yZXMgdGhlIGNvbnRlbnRzIGluc2lkZSBvZiBgJHRlbXBsYXRlQ2FjaGVgLiBJZiB0aGUgSFRUUCByZXF1ZXN0IGZhaWxzIG9yIHRoZSByZXNwb25zZSBkYXRhXG4gKiBvZiB0aGUgSFRUUCByZXF1ZXN0IGlzIGVtcHR5IHRoZW4gYSBgJGNvbXBpbGVgIGVycm9yIHdpbGwgYmUgdGhyb3duICh0aGUgZXhjZXB0aW9uIGNhbiBiZSB0aHdhcnRlZFxuICogYnkgc2V0dGluZyB0aGUgMm5kIHBhcmFtZXRlciBvZiB0aGUgZnVuY3Rpb24gdG8gdHJ1ZSkuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRwbCBUaGUgSFRUUCByZXF1ZXN0IHRlbXBsYXRlIFVSTFxuICogQHBhcmFtIHtib29sZWFuPX0gaWdub3JlUmVxdWVzdEVycm9yIFdoZXRoZXIgb3Igbm90IHRvIGlnbm9yZSB0aGUgZXhjZXB0aW9uIHdoZW4gdGhlIHJlcXVlc3QgZmFpbHMgb3IgdGhlIHRlbXBsYXRlIGlzIGVtcHR5XG4gKlxuICogQHJldHVybiB7UHJvbWlzZX0gdGhlIEhUVFAgUHJvbWlzZSBmb3IgdGhlIGdpdmVuLlxuICpcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0b3RhbFBlbmRpbmdSZXF1ZXN0cyB0b3RhbCBhbW91bnQgb2YgcGVuZGluZyB0ZW1wbGF0ZSByZXF1ZXN0cyBiZWluZyBkb3dubG9hZGVkLlxuICovXG5mdW5jdGlvbiAkVGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJHRlbXBsYXRlQ2FjaGUnLCAnJGh0dHAnLCAnJHEnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSwgJGh0dHAsICRxKSB7XG4gICAgZnVuY3Rpb24gaGFuZGxlUmVxdWVzdEZuKHRwbCwgaWdub3JlUmVxdWVzdEVycm9yKSB7XG4gICAgICB2YXIgc2VsZiA9IGhhbmRsZVJlcXVlc3RGbjtcbiAgICAgIHNlbGYudG90YWxQZW5kaW5nUmVxdWVzdHMrKztcblxuICAgICAgdmFyIHRyYW5zZm9ybVJlc3BvbnNlID0gJGh0dHAuZGVmYXVsdHMgJiYgJGh0dHAuZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2U7XG5cbiAgICAgIGlmIChpc0FycmF5KHRyYW5zZm9ybVJlc3BvbnNlKSkge1xuICAgICAgICB2YXIgb3JpZ2luYWwgPSB0cmFuc2Zvcm1SZXNwb25zZTtcbiAgICAgICAgdHJhbnNmb3JtUmVzcG9uc2UgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPG9yaWdpbmFsLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgdmFyIHRyYW5zZm9ybWVyID0gb3JpZ2luYWxbaV07XG4gICAgICAgICAgaWYgKHRyYW5zZm9ybWVyICE9PSBkZWZhdWx0SHR0cFJlc3BvbnNlVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm1SZXNwb25zZS5wdXNoKHRyYW5zZm9ybWVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHJhbnNmb3JtUmVzcG9uc2UgPT09IGRlZmF1bHRIdHRwUmVzcG9uc2VUcmFuc2Zvcm0pIHtcbiAgICAgICAgdHJhbnNmb3JtUmVzcG9uc2UgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgaHR0cE9wdGlvbnMgPSB7XG4gICAgICAgIGNhY2hlOiAkdGVtcGxhdGVDYWNoZSxcbiAgICAgICAgdHJhbnNmb3JtUmVzcG9uc2U6IHRyYW5zZm9ybVJlc3BvbnNlXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KHRwbCwgaHR0cE9wdGlvbnMpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgdmFyIGh0bWwgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICAgIHNlbGYudG90YWxQZW5kaW5nUmVxdWVzdHMtLTtcbiAgICAgICAgICAkdGVtcGxhdGVDYWNoZS5wdXQodHBsLCBodG1sKTtcbiAgICAgICAgICByZXR1cm4gaHRtbDtcbiAgICAgICAgfSwgaGFuZGxlRXJyb3IpO1xuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVFcnJvcigpIHtcbiAgICAgICAgc2VsZi50b3RhbFBlbmRpbmdSZXF1ZXN0cy0tO1xuICAgICAgICBpZiAoIWlnbm9yZVJlcXVlc3RFcnJvcikge1xuICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCd0cGxvYWQnLCAnRmFpbGVkIHRvIGxvYWQgdGVtcGxhdGU6IHswfScsIHRwbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICRxLnJlamVjdCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVJlcXVlc3RGbi50b3RhbFBlbmRpbmdSZXF1ZXN0cyA9IDA7XG5cbiAgICByZXR1cm4gaGFuZGxlUmVxdWVzdEZuO1xuICB9XTtcbn1cblxuZnVuY3Rpb24gJCRUZXN0YWJpbGl0eVByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGJyb3dzZXInLCAnJGxvY2F0aW9uJyxcbiAgICAgICBmdW5jdGlvbigkcm9vdFNjb3BlLCAgICRicm93c2VyLCAgICRsb2NhdGlvbikge1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgJHRlc3RhYmlsaXR5XG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBUaGUgcHJpdmF0ZSAkJHRlc3RhYmlsaXR5IHNlcnZpY2UgcHJvdmlkZXMgYSBjb2xsZWN0aW9uIG9mIG1ldGhvZHMgZm9yIHVzZSB3aGVuIGRlYnVnZ2luZ1xuICAgICAqIG9yIGJ5IGF1dG9tYXRlZCB0ZXN0IGFuZCBkZWJ1Z2dpbmcgdG9vbHMuXG4gICAgICovXG4gICAgdmFyIHRlc3RhYmlsaXR5ID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I2ZpbmRCaW5kaW5nc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBlbGVtZW50cyB0aGF0IGFyZSBib3VuZCAodmlhIG5nLWJpbmQgb3Ige3t9fSlcbiAgICAgKiB0byBleHByZXNzaW9ucyBtYXRjaGluZyB0aGUgaW5wdXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgcm9vdCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBUaGUgYmluZGluZyBleHByZXNzaW9uIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0X2V4YWN0TWF0Y2ggSWYgdHJ1ZSwgb25seSByZXR1cm5zIGV4YWN0IG1hdGNoZXNcbiAgICAgKiAgICAgZm9yIHRoZSBleHByZXNzaW9uLiBGaWx0ZXJzIGFuZCB3aGl0ZXNwYWNlIGFyZSBpZ25vcmVkLlxuICAgICAqL1xuICAgIHRlc3RhYmlsaXR5LmZpbmRCaW5kaW5ncyA9IGZ1bmN0aW9uKGVsZW1lbnQsIGV4cHJlc3Npb24sIG9wdF9leGFjdE1hdGNoKSB7XG4gICAgICB2YXIgYmluZGluZ3MgPSBlbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25nLWJpbmRpbmcnKTtcbiAgICAgIHZhciBtYXRjaGVzID0gW107XG4gICAgICBmb3JFYWNoKGJpbmRpbmdzLCBmdW5jdGlvbihiaW5kaW5nKSB7XG4gICAgICAgIHZhciBkYXRhQmluZGluZyA9IGFuZ3VsYXIuZWxlbWVudChiaW5kaW5nKS5kYXRhKCckYmluZGluZycpO1xuICAgICAgICBpZiAoZGF0YUJpbmRpbmcpIHtcbiAgICAgICAgICBmb3JFYWNoKGRhdGFCaW5kaW5nLCBmdW5jdGlvbihiaW5kaW5nTmFtZSkge1xuICAgICAgICAgICAgaWYgKG9wdF9leGFjdE1hdGNoKSB7XG4gICAgICAgICAgICAgIHZhciBtYXRjaGVyID0gbmV3IFJlZ0V4cCgnKF58XFxcXHMpJyArIGVzY2FwZUZvclJlZ2V4cChleHByZXNzaW9uKSArICcoXFxcXHN8XFxcXHx8JCknKTtcbiAgICAgICAgICAgICAgaWYgKG1hdGNoZXIudGVzdChiaW5kaW5nTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goYmluZGluZyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChiaW5kaW5nTmFtZS5pbmRleE9mKGV4cHJlc3Npb24pICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKGJpbmRpbmcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG1hdGNoZXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjZmluZE1vZGVsc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBlbGVtZW50cyB0aGF0IGFyZSB0d28td2F5IGZvdW5kIHZpYSBuZy1tb2RlbCB0b1xuICAgICAqIGV4cHJlc3Npb25zIG1hdGNoaW5nIHRoZSBpbnB1dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudCByb290IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFRoZSBtb2RlbCBleHByZXNzaW9uIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0X2V4YWN0TWF0Y2ggSWYgdHJ1ZSwgb25seSByZXR1cm5zIGV4YWN0IG1hdGNoZXNcbiAgICAgKiAgICAgZm9yIHRoZSBleHByZXNzaW9uLlxuICAgICAqL1xuICAgIHRlc3RhYmlsaXR5LmZpbmRNb2RlbHMgPSBmdW5jdGlvbihlbGVtZW50LCBleHByZXNzaW9uLCBvcHRfZXhhY3RNYXRjaCkge1xuICAgICAgdmFyIHByZWZpeGVzID0gWyduZy0nLCAnZGF0YS1uZy0nLCAnbmdcXFxcOiddO1xuICAgICAgZm9yICh2YXIgcCA9IDA7IHAgPCBwcmVmaXhlcy5sZW5ndGg7ICsrcCkge1xuICAgICAgICB2YXIgYXR0cmlidXRlRXF1YWxzID0gb3B0X2V4YWN0TWF0Y2ggPyAnPScgOiAnKj0nO1xuICAgICAgICB2YXIgc2VsZWN0b3IgPSAnWycgKyBwcmVmaXhlc1twXSArICdtb2RlbCcgKyBhdHRyaWJ1dGVFcXVhbHMgKyAnXCInICsgZXhwcmVzc2lvbiArICdcIl0nO1xuICAgICAgICB2YXIgZWxlbWVudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgICAgICBpZiAoZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjZ2V0TG9jYXRpb25cbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0Y3V0IGZvciBnZXR0aW5nIHRoZSBsb2NhdGlvbiBpbiBhIGJyb3dzZXIgYWdub3N0aWMgd2F5LiBSZXR1cm5zXG4gICAgICogICAgIHRoZSBwYXRoLCBzZWFyY2gsIGFuZCBoYXNoLiAoZS5nLiAvcGF0aD9hPWIjaGFzaClcbiAgICAgKi9cbiAgICB0ZXN0YWJpbGl0eS5nZXRMb2NhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICRsb2NhdGlvbi51cmwoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgJCR0ZXN0YWJpbGl0eSNzZXRMb2NhdGlvblxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRjdXQgZm9yIG5hdmlnYXRpbmcgdG8gYSBsb2NhdGlvbiB3aXRob3V0IGRvaW5nIGEgZnVsbCBwYWdlIHJlbG9hZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIGxvY2F0aW9uIHVybCAocGF0aCwgc2VhcmNoIGFuZCBoYXNoLFxuICAgICAqICAgICBlLmcuIC9wYXRoP2E9YiNoYXNoKSB0byBnbyB0by5cbiAgICAgKi9cbiAgICB0ZXN0YWJpbGl0eS5zZXRMb2NhdGlvbiA9IGZ1bmN0aW9uKHVybCkge1xuICAgICAgaWYgKHVybCAhPT0gJGxvY2F0aW9uLnVybCgpKSB7XG4gICAgICAgICRsb2NhdGlvbi51cmwodXJsKTtcbiAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjd2hlblN0YWJsZVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ2FsbHMgdGhlIGNhbGxiYWNrIHdoZW4gJHRpbWVvdXQgYW5kICRodHRwIHJlcXVlc3RzIGFyZSBjb21wbGV0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqL1xuICAgIHRlc3RhYmlsaXR5LndoZW5TdGFibGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgJGJyb3dzZXIubm90aWZ5V2hlbk5vT3V0c3RhbmRpbmdSZXF1ZXN0cyhjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIHJldHVybiB0ZXN0YWJpbGl0eTtcbiAgfV07XG59XG5cbmZ1bmN0aW9uICRUaW1lb3V0UHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJHJvb3RTY29wZScsICckYnJvd3NlcicsICckcScsICckJHEnLCAnJGV4Y2VwdGlvbkhhbmRsZXInLFxuICAgICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsICAgJGJyb3dzZXIsICAgJHEsICAgJCRxLCAgICRleGNlcHRpb25IYW5kbGVyKSB7XG4gICAgdmFyIGRlZmVycmVkcyA9IHt9O1xuXG5cbiAgICAgLyoqXG4gICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICAqIEBuYW1lICR0aW1lb3V0XG4gICAgICAqXG4gICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgKiBBbmd1bGFyJ3Mgd3JhcHBlciBmb3IgYHdpbmRvdy5zZXRUaW1lb3V0YC4gVGhlIGBmbmAgZnVuY3Rpb24gaXMgd3JhcHBlZCBpbnRvIGEgdHJ5L2NhdGNoXG4gICAgICAqIGJsb2NrIGFuZCBkZWxlZ2F0ZXMgYW55IGV4Y2VwdGlvbnMgdG9cbiAgICAgICoge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfSBzZXJ2aWNlLlxuICAgICAgKlxuICAgICAgKiBUaGUgcmV0dXJuIHZhbHVlIG9mIHJlZ2lzdGVyaW5nIGEgdGltZW91dCBmdW5jdGlvbiBpcyBhIHByb21pc2UsIHdoaWNoIHdpbGwgYmUgcmVzb2x2ZWQgd2hlblxuICAgICAgKiB0aGUgdGltZW91dCBpcyByZWFjaGVkIGFuZCB0aGUgdGltZW91dCBmdW5jdGlvbiBpcyBleGVjdXRlZC5cbiAgICAgICpcbiAgICAgICogVG8gY2FuY2VsIGEgdGltZW91dCByZXF1ZXN0LCBjYWxsIGAkdGltZW91dC5jYW5jZWwocHJvbWlzZSlgLlxuICAgICAgKlxuICAgICAgKiBJbiB0ZXN0cyB5b3UgY2FuIHVzZSB7QGxpbmsgbmdNb2NrLiR0aW1lb3V0IGAkdGltZW91dC5mbHVzaCgpYH0gdG9cbiAgICAgICogc3luY2hyb25vdXNseSBmbHVzaCB0aGUgcXVldWUgb2YgZGVmZXJyZWQgZnVuY3Rpb25zLlxuICAgICAgKlxuICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGZuIEEgZnVuY3Rpb24sIHdob3NlIGV4ZWN1dGlvbiBzaG91bGQgYmUgZGVsYXllZC5cbiAgICAgICogQHBhcmFtIHtudW1iZXI9fSBbZGVsYXk9MF0gRGVsYXkgaW4gbWlsbGlzZWNvbmRzLlxuICAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBbaW52b2tlQXBwbHk9dHJ1ZV0gSWYgc2V0IHRvIGBmYWxzZWAgc2tpcHMgbW9kZWwgZGlydHkgY2hlY2tpbmcsIG90aGVyd2lzZVxuICAgICAgKiAgIHdpbGwgaW52b2tlIGBmbmAgd2l0aGluIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkYXBwbHkgJGFwcGx5fSBibG9jay5cbiAgICAgICogQHJldHVybnMge1Byb21pc2V9IFByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdoZW4gdGhlIHRpbWVvdXQgaXMgcmVhY2hlZC4gVGhlIHZhbHVlIHRoaXNcbiAgICAgICogICBwcm9taXNlIHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCBpcyB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBgZm5gIGZ1bmN0aW9uLlxuICAgICAgKlxuICAgICAgKi9cbiAgICBmdW5jdGlvbiB0aW1lb3V0KGZuLCBkZWxheSwgaW52b2tlQXBwbHkpIHtcbiAgICAgIHZhciBza2lwQXBwbHkgPSAoaXNEZWZpbmVkKGludm9rZUFwcGx5KSAmJiAhaW52b2tlQXBwbHkpLFxuICAgICAgICAgIGRlZmVycmVkID0gKHNraXBBcHBseSA/ICQkcSA6ICRxKS5kZWZlcigpLFxuICAgICAgICAgIHByb21pc2UgPSBkZWZlcnJlZC5wcm9taXNlLFxuICAgICAgICAgIHRpbWVvdXRJZDtcblxuICAgICAgdGltZW91dElkID0gJGJyb3dzZXIuZGVmZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShmbigpKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlKTtcbiAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICBkZWxldGUgZGVmZXJyZWRzW3Byb21pc2UuJCR0aW1lb3V0SWRdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFza2lwQXBwbHkpICRyb290U2NvcGUuJGFwcGx5KCk7XG4gICAgICB9LCBkZWxheSk7XG5cbiAgICAgIHByb21pc2UuJCR0aW1lb3V0SWQgPSB0aW1lb3V0SWQ7XG4gICAgICBkZWZlcnJlZHNbdGltZW91dElkXSA9IGRlZmVycmVkO1xuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cblxuICAgICAvKipcbiAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgKiBAbmFtZSAkdGltZW91dCNjYW5jZWxcbiAgICAgICpcbiAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAqIENhbmNlbHMgYSB0YXNrIGFzc29jaWF0ZWQgd2l0aCB0aGUgYHByb21pc2VgLiBBcyBhIHJlc3VsdCBvZiB0aGlzLCB0aGUgcHJvbWlzZSB3aWxsIGJlXG4gICAgICAqIHJlc29sdmVkIHdpdGggYSByZWplY3Rpb24uXG4gICAgICAqXG4gICAgICAqIEBwYXJhbSB7UHJvbWlzZT19IHByb21pc2UgUHJvbWlzZSByZXR1cm5lZCBieSB0aGUgYCR0aW1lb3V0YCBmdW5jdGlvbi5cbiAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB0YXNrIGhhc24ndCBleGVjdXRlZCB5ZXQgYW5kIHdhcyBzdWNjZXNzZnVsbHlcbiAgICAgICogICBjYW5jZWxlZC5cbiAgICAgICovXG4gICAgdGltZW91dC5jYW5jZWwgPSBmdW5jdGlvbihwcm9taXNlKSB7XG4gICAgICBpZiAocHJvbWlzZSAmJiBwcm9taXNlLiQkdGltZW91dElkIGluIGRlZmVycmVkcykge1xuICAgICAgICBkZWZlcnJlZHNbcHJvbWlzZS4kJHRpbWVvdXRJZF0ucmVqZWN0KCdjYW5jZWxlZCcpO1xuICAgICAgICBkZWxldGUgZGVmZXJyZWRzW3Byb21pc2UuJCR0aW1lb3V0SWRdO1xuICAgICAgICByZXR1cm4gJGJyb3dzZXIuZGVmZXIuY2FuY2VsKHByb21pc2UuJCR0aW1lb3V0SWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICByZXR1cm4gdGltZW91dDtcbiAgfV07XG59XG5cbi8vIE5PVEU6ICBUaGUgdXNhZ2Ugb2Ygd2luZG93IGFuZCBkb2N1bWVudCBpbnN0ZWFkIG9mICR3aW5kb3cgYW5kICRkb2N1bWVudCBoZXJlIGlzXG4vLyBkZWxpYmVyYXRlLiAgVGhpcyBzZXJ2aWNlIGRlcGVuZHMgb24gdGhlIHNwZWNpZmljIGJlaGF2aW9yIG9mIGFuY2hvciBub2RlcyBjcmVhdGVkIGJ5IHRoZVxuLy8gYnJvd3NlciAocmVzb2x2aW5nIGFuZCBwYXJzaW5nIFVSTHMpIHRoYXQgaXMgdW5saWtlbHkgdG8gYmUgcHJvdmlkZWQgYnkgbW9jayBvYmplY3RzIGFuZFxuLy8gY2F1c2UgdXMgdG8gYnJlYWsgdGVzdHMuICBJbiBhZGRpdGlvbiwgd2hlbiB0aGUgYnJvd3NlciByZXNvbHZlcyBhIFVSTCBmb3IgWEhSLCBpdFxuLy8gZG9lc24ndCBrbm93IGFib3V0IG1vY2tlZCBsb2NhdGlvbnMgYW5kIHJlc29sdmVzIFVSTHMgdG8gdGhlIHJlYWwgZG9jdW1lbnQgLSB3aGljaCBpc1xuLy8gZXhhY3RseSB0aGUgYmVoYXZpb3IgbmVlZGVkIGhlcmUuICBUaGVyZSBpcyBsaXR0bGUgdmFsdWUgaXMgbW9ja2luZyB0aGVzZSBvdXQgZm9yIHRoaXNcbi8vIHNlcnZpY2UuXG52YXIgdXJsUGFyc2luZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbnZhciBvcmlnaW5VcmwgPSB1cmxSZXNvbHZlKHdpbmRvdy5sb2NhdGlvbi5ocmVmLCB0cnVlKTtcblxuXG4vKipcbiAqXG4gKiBJbXBsZW1lbnRhdGlvbiBOb3RlcyBmb3Igbm9uLUlFIGJyb3dzZXJzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBc3NpZ25pbmcgYSBVUkwgdG8gdGhlIGhyZWYgcHJvcGVydHkgb2YgYW4gYW5jaG9yIERPTSBub2RlLCBldmVuIG9uZSBhdHRhY2hlZCB0byB0aGUgRE9NLFxuICogcmVzdWx0cyBib3RoIGluIHRoZSBub3JtYWxpemluZyBhbmQgcGFyc2luZyBvZiB0aGUgVVJMLiAgTm9ybWFsaXppbmcgbWVhbnMgdGhhdCBhIHJlbGF0aXZlXG4gKiBVUkwgd2lsbCBiZSByZXNvbHZlZCBpbnRvIGFuIGFic29sdXRlIFVSTCBpbiB0aGUgY29udGV4dCBvZiB0aGUgYXBwbGljYXRpb24gZG9jdW1lbnQuXG4gKiBQYXJzaW5nIG1lYW5zIHRoYXQgdGhlIGFuY2hvciBub2RlJ3MgaG9zdCwgaG9zdG5hbWUsIHByb3RvY29sLCBwb3J0LCBwYXRobmFtZSBhbmQgcmVsYXRlZFxuICogcHJvcGVydGllcyBhcmUgYWxsIHBvcHVsYXRlZCB0byByZWZsZWN0IHRoZSBub3JtYWxpemVkIFVSTC4gIFRoaXMgYXBwcm9hY2ggaGFzIHdpZGVcbiAqIGNvbXBhdGliaWxpdHkgLSBTYWZhcmkgMSssIE1vemlsbGEgMSssIE9wZXJhIDcrLGUgZXRjLiAgU2VlXG4gKiBodHRwOi8vd3d3LmFwdGFuYS5jb20vcmVmZXJlbmNlL2h0bWwvYXBpL0hUTUxBbmNob3JFbGVtZW50Lmh0bWxcbiAqXG4gKiBJbXBsZW1lbnRhdGlvbiBOb3RlcyBmb3IgSUVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogSUUgPj0gOCBhbmQgPD0gMTAgbm9ybWFsaXplcyB0aGUgVVJMIHdoZW4gYXNzaWduZWQgdG8gdGhlIGFuY2hvciBub2RlIHNpbWlsYXIgdG8gdGhlIG90aGVyXG4gKiBicm93c2Vycy4gIEhvd2V2ZXIsIHRoZSBwYXJzZWQgY29tcG9uZW50cyB3aWxsIG5vdCBiZSBzZXQgaWYgdGhlIFVSTCBhc3NpZ25lZCBkaWQgbm90IHNwZWNpZnlcbiAqIHRoZW0uICAoZS5nLiBpZiB5b3UgYXNzaWduIGEuaHJlZiA9IFwiZm9vXCIsIHRoZW4gYS5wcm90b2NvbCwgYS5ob3N0LCBldGMuIHdpbGwgYmUgZW1wdHkuKSAgV2VcbiAqIHdvcmsgYXJvdW5kIHRoYXQgYnkgcGVyZm9ybWluZyB0aGUgcGFyc2luZyBpbiBhIDJuZCBzdGVwIGJ5IHRha2luZyBhIHByZXZpb3VzbHkgbm9ybWFsaXplZFxuICogVVJMIChlLmcuIGJ5IGFzc2lnbmluZyB0byBhLmhyZWYpIGFuZCBhc3NpZ25pbmcgaXQgYS5ocmVmIGFnYWluLiAgVGhpcyBjb3JyZWN0bHkgcG9wdWxhdGVzIHRoZVxuICogcHJvcGVydGllcyBzdWNoIGFzIHByb3RvY29sLCBob3N0bmFtZSwgcG9ydCwgZXRjLlxuICpcbiAqIElFNyBkb2VzIG5vdCBub3JtYWxpemUgdGhlIFVSTCB3aGVuIGFzc2lnbmVkIHRvIGFuIGFuY2hvciBub2RlLiAgKEFwcGFyZW50bHksIGl0IGRvZXMsIGlmIG9uZVxuICogdXNlcyB0aGUgaW5uZXIgSFRNTCBhcHByb2FjaCB0byBhc3NpZ24gdGhlIFVSTCBhcyBwYXJ0IG9mIGFuIEhUTUwgc25pcHBldCAtXG4gKiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80NzI3MjkpICBIb3dldmVyLCBzZXR0aW5nIGltZ1tzcmNdIGRvZXMgbm9ybWFsaXplIHRoZSBVUkwuXG4gKiBVbmZvcnR1bmF0ZWx5LCBzZXR0aW5nIGltZ1tzcmNdIHRvIHNvbWV0aGluZyBsaWtlIFwiamF2YXNjcmlwdDpmb29cIiBvbiBJRSB0aHJvd3MgYW4gZXhjZXB0aW9uLlxuICogU2luY2UgdGhlIHByaW1hcnkgdXNhZ2UgZm9yIG5vcm1hbGl6aW5nIFVSTHMgaXMgdG8gc2FuaXRpemUgc3VjaCBVUkxzLCB3ZSBjYW4ndCB1c2UgdGhhdFxuICogbWV0aG9kIGFuZCBJRSA8IDggaXMgdW5zdXBwb3J0ZWQuXG4gKlxuICogUmVmZXJlbmNlczpcbiAqICAgaHR0cDovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTEFuY2hvckVsZW1lbnRcbiAqICAgaHR0cDovL3d3dy5hcHRhbmEuY29tL3JlZmVyZW5jZS9odG1sL2FwaS9IVE1MQW5jaG9yRWxlbWVudC5odG1sXG4gKiAgIGh0dHA6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmx1dGlsc1xuICogICBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3B1bGwvMjkwMlxuICogICBodHRwOi8vamFtZXMucGFkb2xzZXkuY29tL2phdmFzY3JpcHQvcGFyc2luZy11cmxzLXdpdGgtdGhlLWRvbS9cbiAqXG4gKiBAa2luZCBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZC5cbiAqIEBkZXNjcmlwdGlvbiBOb3JtYWxpemVzIGFuZCBwYXJzZXMgYSBVUkwuXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBSZXR1cm5zIHRoZSBub3JtYWxpemVkIFVSTCBhcyBhIGRpY3Rpb25hcnkuXG4gKlxuICogICB8IG1lbWJlciBuYW1lICAgfCBEZXNjcmlwdGlvbiAgICB8XG4gKiAgIHwtLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLXxcbiAqICAgfCBocmVmICAgICAgICAgIHwgQSBub3JtYWxpemVkIHZlcnNpb24gb2YgdGhlIHByb3ZpZGVkIFVSTCBpZiBpdCB3YXMgbm90IGFuIGFic29sdXRlIFVSTCB8XG4gKiAgIHwgcHJvdG9jb2wgICAgICB8IFRoZSBwcm90b2NvbCBpbmNsdWRpbmcgdGhlIHRyYWlsaW5nIGNvbG9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICB8IGhvc3QgICAgICAgICAgfCBUaGUgaG9zdCBhbmQgcG9ydCAoaWYgdGhlIHBvcnQgaXMgbm9uLWRlZmF1bHQpIG9mIHRoZSBub3JtYWxpemVkVXJsICAgIHxcbiAqICAgfCBzZWFyY2ggICAgICAgIHwgVGhlIHNlYXJjaCBwYXJhbXMsIG1pbnVzIHRoZSBxdWVzdGlvbiBtYXJrICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgIHwgaGFzaCAgICAgICAgICB8IFRoZSBoYXNoIHN0cmluZywgbWludXMgdGhlIGhhc2ggc3ltYm9sXG4gKiAgIHwgaG9zdG5hbWUgICAgICB8IFRoZSBob3N0bmFtZVxuICogICB8IHBvcnQgICAgICAgICAgfCBUaGUgcG9ydCwgd2l0aG91dCBcIjpcIlxuICogICB8IHBhdGhuYW1lICAgICAgfCBUaGUgcGF0aG5hbWUsIGJlZ2lubmluZyB3aXRoIFwiL1wiXG4gKlxuICovXG5mdW5jdGlvbiB1cmxSZXNvbHZlKHVybCwgYmFzZSkge1xuICB2YXIgaHJlZiA9IHVybDtcblxuICBpZiAobXNpZSkge1xuICAgIC8vIE5vcm1hbGl6ZSBiZWZvcmUgcGFyc2UuICBSZWZlciBJbXBsZW1lbnRhdGlvbiBOb3RlcyBvbiB3aHkgdGhpcyBpc1xuICAgIC8vIGRvbmUgaW4gdHdvIHN0ZXBzIG9uIElFLlxuICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgaHJlZik7XG4gICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG4gIH1cblxuICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcblxuICAvLyB1cmxQYXJzaW5nTm9kZSBwcm92aWRlcyB0aGUgVXJsVXRpbHMgaW50ZXJmYWNlIC0gaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gIHJldHVybiB7XG4gICAgaHJlZjogdXJsUGFyc2luZ05vZGUuaHJlZixcbiAgICBwcm90b2NvbDogdXJsUGFyc2luZ05vZGUucHJvdG9jb2wgPyB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sICcnKSA6ICcnLFxuICAgIGhvc3Q6IHVybFBhcnNpbmdOb2RlLmhvc3QsXG4gICAgc2VhcmNoOiB1cmxQYXJzaW5nTm9kZS5zZWFyY2ggPyB1cmxQYXJzaW5nTm9kZS5zZWFyY2gucmVwbGFjZSgvXlxcPy8sICcnKSA6ICcnLFxuICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsXG4gICAgaG9zdG5hbWU6IHVybFBhcnNpbmdOb2RlLmhvc3RuYW1lLFxuICAgIHBvcnQ6IHVybFBhcnNpbmdOb2RlLnBvcnQsXG4gICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJylcbiAgICAgID8gdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcbiAgICAgIDogJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcbiAgfTtcbn1cblxuLyoqXG4gKiBQYXJzZSBhIHJlcXVlc3QgVVJMIGFuZCBkZXRlcm1pbmUgd2hldGhlciB0aGlzIGlzIGEgc2FtZS1vcmlnaW4gcmVxdWVzdCBhcyB0aGUgYXBwbGljYXRpb24gZG9jdW1lbnQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSByZXF1ZXN0VXJsIFRoZSB1cmwgb2YgdGhlIHJlcXVlc3QgYXMgYSBzdHJpbmcgdGhhdCB3aWxsIGJlIHJlc29sdmVkXG4gKiBvciBhIHBhcnNlZCBVUkwgb2JqZWN0LlxuICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHJlcXVlc3QgaXMgZm9yIHRoZSBzYW1lIG9yaWdpbiBhcyB0aGUgYXBwbGljYXRpb24gZG9jdW1lbnQuXG4gKi9cbmZ1bmN0aW9uIHVybElzU2FtZU9yaWdpbihyZXF1ZXN0VXJsKSB7XG4gIHZhciBwYXJzZWQgPSAoaXNTdHJpbmcocmVxdWVzdFVybCkpID8gdXJsUmVzb2x2ZShyZXF1ZXN0VXJsKSA6IHJlcXVlc3RVcmw7XG4gIHJldHVybiAocGFyc2VkLnByb3RvY29sID09PSBvcmlnaW5VcmwucHJvdG9jb2wgJiZcbiAgICAgICAgICBwYXJzZWQuaG9zdCA9PT0gb3JpZ2luVXJsLmhvc3QpO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkd2luZG93XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBIHJlZmVyZW5jZSB0byB0aGUgYnJvd3NlcidzIGB3aW5kb3dgIG9iamVjdC4gV2hpbGUgYHdpbmRvd2BcbiAqIGlzIGdsb2JhbGx5IGF2YWlsYWJsZSBpbiBKYXZhU2NyaXB0LCBpdCBjYXVzZXMgdGVzdGFiaWxpdHkgcHJvYmxlbXMsIGJlY2F1c2VcbiAqIGl0IGlzIGEgZ2xvYmFsIHZhcmlhYmxlLiBJbiBhbmd1bGFyIHdlIGFsd2F5cyByZWZlciB0byBpdCB0aHJvdWdoIHRoZVxuICogYCR3aW5kb3dgIHNlcnZpY2UsIHNvIGl0IG1heSBiZSBvdmVycmlkZGVuLCByZW1vdmVkIG9yIG1vY2tlZCBmb3IgdGVzdGluZy5cbiAqXG4gKiBFeHByZXNzaW9ucywgbGlrZSB0aGUgb25lIGRlZmluZWQgZm9yIHRoZSBgbmdDbGlja2AgZGlyZWN0aXZlIGluIHRoZSBleGFtcGxlXG4gKiBiZWxvdywgYXJlIGV2YWx1YXRlZCB3aXRoIHJlc3BlY3QgdG8gdGhlIGN1cnJlbnQgc2NvcGUuICBUaGVyZWZvcmUsIHRoZXJlIGlzXG4gKiBubyByaXNrIG9mIGluYWR2ZXJ0ZW50bHkgY29kaW5nIGluIGEgZGVwZW5kZW5jeSBvbiBhIGdsb2JhbCB2YWx1ZSBpbiBzdWNoIGFuXG4gKiBleHByZXNzaW9uLlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJ3aW5kb3dFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCd3aW5kb3dFeGFtcGxlJywgW10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyR3aW5kb3cnLCBmdW5jdGlvbigkc2NvcGUsICR3aW5kb3cpIHtcbiAgICAgICAgICAgICAkc2NvcGUuZ3JlZXRpbmcgPSAnSGVsbG8sIFdvcmxkISc7XG4gICAgICAgICAgICAgJHNjb3BlLmRvR3JlZXRpbmcgPSBmdW5jdGlvbihncmVldGluZykge1xuICAgICAgICAgICAgICAgJHdpbmRvdy5hbGVydChncmVldGluZyk7XG4gICAgICAgICAgICAgfTtcbiAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImdyZWV0aW5nXCIgLz5cbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJkb0dyZWV0aW5nKGdyZWV0aW5nKVwiPkFMRVJUPC9idXR0b24+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgaXQoJ3Nob3VsZCBkaXNwbGF5IHRoZSBncmVldGluZyBpbiB0aGUgaW5wdXQgYm94JywgZnVuY3Rpb24oKSB7XG4gICAgICAgZWxlbWVudChieS5tb2RlbCgnZ3JlZXRpbmcnKSkuc2VuZEtleXMoJ0hlbGxvLCBFMkUgVGVzdHMnKTtcbiAgICAgICAvLyBJZiB3ZSBjbGljayB0aGUgYnV0dG9uIGl0IHdpbGwgYmxvY2sgdGhlIHRlc3QgcnVubmVyXG4gICAgICAgLy8gZWxlbWVudCgnOmJ1dHRvbicpLmNsaWNrKCk7XG4gICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5mdW5jdGlvbiAkV2luZG93UHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IHZhbHVlRm4od2luZG93KTtcbn1cblxuLyogZ2xvYmFsIGN1cnJlbmN5RmlsdGVyOiB0cnVlLFxuIGRhdGVGaWx0ZXI6IHRydWUsXG4gZmlsdGVyRmlsdGVyOiB0cnVlLFxuIGpzb25GaWx0ZXI6IHRydWUsXG4gbGltaXRUb0ZpbHRlcjogdHJ1ZSxcbiBsb3dlcmNhc2VGaWx0ZXI6IHRydWUsXG4gbnVtYmVyRmlsdGVyOiB0cnVlLFxuIG9yZGVyQnlGaWx0ZXI6IHRydWUsXG4gdXBwZXJjYXNlRmlsdGVyOiB0cnVlLFxuICovXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkZmlsdGVyUHJvdmlkZXJcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIEZpbHRlcnMgYXJlIGp1c3QgZnVuY3Rpb25zIHdoaWNoIHRyYW5zZm9ybSBpbnB1dCB0byBhbiBvdXRwdXQuIEhvd2V2ZXIgZmlsdGVycyBuZWVkIHRvIGJlXG4gKiBEZXBlbmRlbmN5IEluamVjdGVkLiBUbyBhY2hpZXZlIHRoaXMgYSBmaWx0ZXIgZGVmaW5pdGlvbiBjb25zaXN0cyBvZiBhIGZhY3RvcnkgZnVuY3Rpb24gd2hpY2ggaXNcbiAqIGFubm90YXRlZCB3aXRoIGRlcGVuZGVuY2llcyBhbmQgaXMgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIGEgZmlsdGVyIGZ1bmN0aW9uLlxuICpcbiAqIGBgYGpzXG4gKiAgIC8vIEZpbHRlciByZWdpc3RyYXRpb25cbiAqICAgZnVuY3Rpb24gTXlNb2R1bGUoJHByb3ZpZGUsICRmaWx0ZXJQcm92aWRlcikge1xuICogICAgIC8vIGNyZWF0ZSBhIHNlcnZpY2UgdG8gZGVtb25zdHJhdGUgaW5qZWN0aW9uIChub3QgYWx3YXlzIG5lZWRlZClcbiAqICAgICAkcHJvdmlkZS52YWx1ZSgnZ3JlZXQnLCBmdW5jdGlvbihuYW1lKXtcbiAqICAgICAgIHJldHVybiAnSGVsbG8gJyArIG5hbWUgKyAnISc7XG4gKiAgICAgfSk7XG4gKlxuICogICAgIC8vIHJlZ2lzdGVyIGEgZmlsdGVyIGZhY3Rvcnkgd2hpY2ggdXNlcyB0aGVcbiAqICAgICAvLyBncmVldCBzZXJ2aWNlIHRvIGRlbW9uc3RyYXRlIERJLlxuICogICAgICRmaWx0ZXJQcm92aWRlci5yZWdpc3RlcignZ3JlZXQnLCBmdW5jdGlvbihncmVldCl7XG4gKiAgICAgICAvLyByZXR1cm4gdGhlIGZpbHRlciBmdW5jdGlvbiB3aGljaCB1c2VzIHRoZSBncmVldCBzZXJ2aWNlXG4gKiAgICAgICAvLyB0byBnZW5lcmF0ZSBzYWx1dGF0aW9uXG4gKiAgICAgICByZXR1cm4gZnVuY3Rpb24odGV4dCkge1xuICogICAgICAgICAvLyBmaWx0ZXJzIG5lZWQgdG8gYmUgZm9yZ2l2aW5nIHNvIGNoZWNrIGlucHV0IHZhbGlkaXR5XG4gKiAgICAgICAgIHJldHVybiB0ZXh0ICYmIGdyZWV0KHRleHQpIHx8IHRleHQ7XG4gKiAgICAgICB9O1xuICogICAgIH0pO1xuICogICB9XG4gKiBgYGBcbiAqXG4gKiBUaGUgZmlsdGVyIGZ1bmN0aW9uIGlzIHJlZ2lzdGVyZWQgd2l0aCB0aGUgYCRpbmplY3RvcmAgdW5kZXIgdGhlIGZpbHRlciBuYW1lIHN1ZmZpeCB3aXRoXG4gKiBgRmlsdGVyYC5cbiAqXG4gKiBgYGBqc1xuICogICBpdCgnc2hvdWxkIGJlIHRoZSBzYW1lIGluc3RhbmNlJywgaW5qZWN0KFxuICogICAgIGZ1bmN0aW9uKCRmaWx0ZXJQcm92aWRlcikge1xuICogICAgICAgJGZpbHRlclByb3ZpZGVyLnJlZ2lzdGVyKCdyZXZlcnNlJywgZnVuY3Rpb24oKXtcbiAqICAgICAgICAgcmV0dXJuIC4uLjtcbiAqICAgICAgIH0pO1xuICogICAgIH0sXG4gKiAgICAgZnVuY3Rpb24oJGZpbHRlciwgcmV2ZXJzZUZpbHRlcikge1xuICogICAgICAgZXhwZWN0KCRmaWx0ZXIoJ3JldmVyc2UnKSkudG9CZShyZXZlcnNlRmlsdGVyKTtcbiAqICAgICB9KTtcbiAqIGBgYFxuICpcbiAqXG4gKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBob3cgYW5ndWxhciBmaWx0ZXJzIHdvcmssIGFuZCBob3cgdG8gY3JlYXRlIHlvdXIgb3duIGZpbHRlcnMsIHNlZVxuICoge0BsaW5rIGd1aWRlL2ZpbHRlciBGaWx0ZXJzfSBpbiB0aGUgQW5ndWxhciBEZXZlbG9wZXIgR3VpZGUuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGZpbHRlclxuICogQGtpbmQgZnVuY3Rpb25cbiAqIEBkZXNjcmlwdGlvblxuICogRmlsdGVycyBhcmUgdXNlZCBmb3IgZm9ybWF0dGluZyBkYXRhIGRpc3BsYXllZCB0byB0aGUgdXNlci5cbiAqXG4gKiBUaGUgZ2VuZXJhbCBzeW50YXggaW4gdGVtcGxhdGVzIGlzIGFzIGZvbGxvd3M6XG4gKlxuICogICAgICAgICB7eyBleHByZXNzaW9uIFt8IGZpbHRlcl9uYW1lWzpwYXJhbWV0ZXJfdmFsdWVdIC4uLiBdIH19XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgZmlsdGVyIGZ1bmN0aW9uIHRvIHJldHJpZXZlXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gdGhlIGZpbHRlciBmdW5jdGlvblxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG5hbWU9XCIkZmlsdGVyXCIgbW9kdWxlPVwiZmlsdGVyRXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIk1haW5DdHJsXCI+XG4gICAgICAgIDxoMz57eyBvcmlnaW5hbFRleHQgfX08L2gzPlxuICAgICAgICA8aDM+e3sgZmlsdGVyZWRUZXh0IH19PC9oMz5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuXG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdmaWx0ZXJFeGFtcGxlJywgW10pXG4gICAgICAuY29udHJvbGxlcignTWFpbkN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRmaWx0ZXIpIHtcbiAgICAgICAgJHNjb3BlLm9yaWdpbmFsVGV4dCA9ICdoZWxsbyc7XG4gICAgICAgICRzY29wZS5maWx0ZXJlZFRleHQgPSAkZmlsdGVyKCd1cHBlcmNhc2UnKSgkc2NvcGUub3JpZ2luYWxUZXh0KTtcbiAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gICovXG4kRmlsdGVyUHJvdmlkZXIuJGluamVjdCA9IFsnJHByb3ZpZGUnXTtcbmZ1bmN0aW9uICRGaWx0ZXJQcm92aWRlcigkcHJvdmlkZSkge1xuICB2YXIgc3VmZml4ID0gJ0ZpbHRlcic7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGZpbHRlclByb3ZpZGVyI3JlZ2lzdGVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBOYW1lIG9mIHRoZSBmaWx0ZXIgZnVuY3Rpb24sIG9yIGFuIG9iamVjdCBtYXAgb2YgZmlsdGVycyB3aGVyZVxuICAgKiAgICB0aGUga2V5cyBhcmUgdGhlIGZpbHRlciBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGZpbHRlciBmYWN0b3JpZXMuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJlZ2lzdGVyZWQgZmlsdGVyIGluc3RhbmNlLCBvciBpZiBhIG1hcCBvZiBmaWx0ZXJzIHdhcyBwcm92aWRlZCB0aGVuIGEgbWFwXG4gICAqICAgIG9mIHRoZSByZWdpc3RlcmVkIGZpbHRlciBpbnN0YW5jZXMuXG4gICAqL1xuICBmdW5jdGlvbiByZWdpc3RlcihuYW1lLCBmYWN0b3J5KSB7XG4gICAgaWYgKGlzT2JqZWN0KG5hbWUpKSB7XG4gICAgICB2YXIgZmlsdGVycyA9IHt9O1xuICAgICAgZm9yRWFjaChuYW1lLCBmdW5jdGlvbihmaWx0ZXIsIGtleSkge1xuICAgICAgICBmaWx0ZXJzW2tleV0gPSByZWdpc3RlcihrZXksIGZpbHRlcik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmaWx0ZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJHByb3ZpZGUuZmFjdG9yeShuYW1lICsgc3VmZml4LCBmYWN0b3J5KTtcbiAgICB9XG4gIH1cbiAgdGhpcy5yZWdpc3RlciA9IHJlZ2lzdGVyO1xuXG4gIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgZnVuY3Rpb24oJGluamVjdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHJldHVybiAkaW5qZWN0b3IuZ2V0KG5hbWUgKyBzdWZmaXgpO1xuICAgIH07XG4gIH1dO1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAvKiBnbG9iYWxcbiAgICBjdXJyZW5jeUZpbHRlcjogZmFsc2UsXG4gICAgZGF0ZUZpbHRlcjogZmFsc2UsXG4gICAgZmlsdGVyRmlsdGVyOiBmYWxzZSxcbiAgICBqc29uRmlsdGVyOiBmYWxzZSxcbiAgICBsaW1pdFRvRmlsdGVyOiBmYWxzZSxcbiAgICBsb3dlcmNhc2VGaWx0ZXI6IGZhbHNlLFxuICAgIG51bWJlckZpbHRlcjogZmFsc2UsXG4gICAgb3JkZXJCeUZpbHRlcjogZmFsc2UsXG4gICAgdXBwZXJjYXNlRmlsdGVyOiBmYWxzZSxcbiAgKi9cblxuICByZWdpc3RlcignY3VycmVuY3knLCBjdXJyZW5jeUZpbHRlcik7XG4gIHJlZ2lzdGVyKCdkYXRlJywgZGF0ZUZpbHRlcik7XG4gIHJlZ2lzdGVyKCdmaWx0ZXInLCBmaWx0ZXJGaWx0ZXIpO1xuICByZWdpc3RlcignanNvbicsIGpzb25GaWx0ZXIpO1xuICByZWdpc3RlcignbGltaXRUbycsIGxpbWl0VG9GaWx0ZXIpO1xuICByZWdpc3RlcignbG93ZXJjYXNlJywgbG93ZXJjYXNlRmlsdGVyKTtcbiAgcmVnaXN0ZXIoJ251bWJlcicsIG51bWJlckZpbHRlcik7XG4gIHJlZ2lzdGVyKCdvcmRlckJ5Jywgb3JkZXJCeUZpbHRlcik7XG4gIHJlZ2lzdGVyKCd1cHBlcmNhc2UnLCB1cHBlcmNhc2VGaWx0ZXIpO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIGZpbHRlclxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNlbGVjdHMgYSBzdWJzZXQgb2YgaXRlbXMgZnJvbSBgYXJyYXlgIGFuZCByZXR1cm5zIGl0IGFzIGEgbmV3IGFycmF5LlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3VyY2UgYXJyYXkuXG4gKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R8ZnVuY3Rpb24oKX0gZXhwcmVzc2lvbiBUaGUgcHJlZGljYXRlIHRvIGJlIHVzZWQgZm9yIHNlbGVjdGluZyBpdGVtcyBmcm9tXG4gKiAgIGBhcnJheWAuXG4gKlxuICogICBDYW4gYmUgb25lIG9mOlxuICpcbiAqICAgLSBgc3RyaW5nYDogVGhlIHN0cmluZyBpcyBldmFsdWF0ZWQgYXMgYW4gZXhwcmVzc2lvbiBhbmQgdGhlIHJlc3VsdGluZyB2YWx1ZSBpcyB1c2VkIGZvciBzdWJzdHJpbmcgbWF0Y2ggYWdhaW5zdFxuICogICAgIHRoZSBjb250ZW50cyBvZiB0aGUgYGFycmF5YC4gQWxsIHN0cmluZ3Mgb3Igb2JqZWN0cyB3aXRoIHN0cmluZyBwcm9wZXJ0aWVzIGluIGBhcnJheWAgdGhhdCBjb250YWluIHRoaXMgc3RyaW5nXG4gKiAgICAgd2lsbCBiZSByZXR1cm5lZC4gVGhlIHByZWRpY2F0ZSBjYW4gYmUgbmVnYXRlZCBieSBwcmVmaXhpbmcgdGhlIHN0cmluZyB3aXRoIGAhYC5cbiAqXG4gKiAgIC0gYE9iamVjdGA6IEEgcGF0dGVybiBvYmplY3QgY2FuIGJlIHVzZWQgdG8gZmlsdGVyIHNwZWNpZmljIHByb3BlcnRpZXMgb24gb2JqZWN0cyBjb250YWluZWRcbiAqICAgICBieSBgYXJyYXlgLiBGb3IgZXhhbXBsZSBge25hbWU6XCJNXCIsIHBob25lOlwiMVwifWAgcHJlZGljYXRlIHdpbGwgcmV0dXJuIGFuIGFycmF5IG9mIGl0ZW1zXG4gKiAgICAgd2hpY2ggaGF2ZSBwcm9wZXJ0eSBgbmFtZWAgY29udGFpbmluZyBcIk1cIiBhbmQgcHJvcGVydHkgYHBob25lYCBjb250YWluaW5nIFwiMVwiLiBBIHNwZWNpYWxcbiAqICAgICBwcm9wZXJ0eSBuYW1lIGAkYCBjYW4gYmUgdXNlZCAoYXMgaW4gYHskOlwidGV4dFwifWApIHRvIGFjY2VwdCBhIG1hdGNoIGFnYWluc3QgYW55XG4gKiAgICAgcHJvcGVydHkgb2YgdGhlIG9iamVjdC4gVGhhdCdzIGVxdWl2YWxlbnQgdG8gdGhlIHNpbXBsZSBzdWJzdHJpbmcgbWF0Y2ggd2l0aCBhIGBzdHJpbmdgXG4gKiAgICAgYXMgZGVzY3JpYmVkIGFib3ZlLiBUaGUgcHJlZGljYXRlIGNhbiBiZSBuZWdhdGVkIGJ5IHByZWZpeGluZyB0aGUgc3RyaW5nIHdpdGggYCFgLlxuICogICAgIEZvciBFeGFtcGxlIGB7bmFtZTogXCIhTVwifWAgcHJlZGljYXRlIHdpbGwgcmV0dXJuIGFuIGFycmF5IG9mIGl0ZW1zIHdoaWNoIGhhdmUgcHJvcGVydHkgYG5hbWVgXG4gKiAgICAgbm90IGNvbnRhaW5pbmcgXCJNXCIuXG4gKlxuICogICAtIGBmdW5jdGlvbih2YWx1ZSwgaW5kZXgpYDogQSBwcmVkaWNhdGUgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gd3JpdGUgYXJiaXRyYXJ5IGZpbHRlcnMuIFRoZVxuICogICAgIGZ1bmN0aW9uIGlzIGNhbGxlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAuIFRoZSBmaW5hbCByZXN1bHQgaXMgYW4gYXJyYXkgb2YgdGhvc2VcbiAqICAgICBlbGVtZW50cyB0aGF0IHRoZSBwcmVkaWNhdGUgcmV0dXJuZWQgdHJ1ZSBmb3IuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbihhY3R1YWwsIGV4cGVjdGVkKXx0cnVlfHVuZGVmaW5lZH0gY29tcGFyYXRvciBDb21wYXJhdG9yIHdoaWNoIGlzIHVzZWQgaW5cbiAqICAgICBkZXRlcm1pbmluZyBpZiB0aGUgZXhwZWN0ZWQgdmFsdWUgKGZyb20gdGhlIGZpbHRlciBleHByZXNzaW9uKSBhbmQgYWN0dWFsIHZhbHVlIChmcm9tXG4gKiAgICAgdGhlIG9iamVjdCBpbiB0aGUgYXJyYXkpIHNob3VsZCBiZSBjb25zaWRlcmVkIGEgbWF0Y2guXG4gKlxuICogICBDYW4gYmUgb25lIG9mOlxuICpcbiAqICAgLSBgZnVuY3Rpb24oYWN0dWFsLCBleHBlY3RlZClgOlxuICogICAgIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGdpdmVuIHRoZSBvYmplY3QgdmFsdWUgYW5kIHRoZSBwcmVkaWNhdGUgdmFsdWUgdG8gY29tcGFyZSBhbmRcbiAqICAgICBzaG91bGQgcmV0dXJuIHRydWUgaWYgdGhlIGl0ZW0gc2hvdWxkIGJlIGluY2x1ZGVkIGluIGZpbHRlcmVkIHJlc3VsdC5cbiAqXG4gKiAgIC0gYHRydWVgOiBBIHNob3J0aGFuZCBmb3IgYGZ1bmN0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpIHsgcmV0dXJuIGFuZ3VsYXIuZXF1YWxzKGV4cGVjdGVkLCBhY3R1YWwpfWAuXG4gKiAgICAgdGhpcyBpcyBlc3NlbnRpYWxseSBzdHJpY3QgY29tcGFyaXNvbiBvZiBleHBlY3RlZCBhbmQgYWN0dWFsLlxuICpcbiAqICAgLSBgZmFsc2V8dW5kZWZpbmVkYDogQSBzaG9ydCBoYW5kIGZvciBhIGZ1bmN0aW9uIHdoaWNoIHdpbGwgbG9vayBmb3IgYSBzdWJzdHJpbmcgbWF0Y2ggaW4gY2FzZVxuICogICAgIGluc2Vuc2l0aXZlIHdheS5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPGRpdiBuZy1pbml0PVwiZnJpZW5kcyA9IFt7bmFtZTonSm9obicsIHBob25lOic1NTUtMTI3Nid9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTonTWFyeScsIHBob25lOic4MDAtQklHLU1BUlknfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J01pa2UnLCBwaG9uZTonNTU1LTQzMjEnfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J0FkYW0nLCBwaG9uZTonNTU1LTU2NzgnfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J0p1bGllJywgcGhvbmU6JzU1NS04NzY1J30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOidKdWxpZXR0ZScsIHBob25lOic1NTUtNTY3OCd9XVwiPjwvZGl2PlxuXG4gICAgICAgU2VhcmNoOiA8aW5wdXQgbmctbW9kZWw9XCJzZWFyY2hUZXh0XCI+XG4gICAgICAgPHRhYmxlIGlkPVwic2VhcmNoVGV4dFJlc3VsdHNcIj5cbiAgICAgICAgIDx0cj48dGg+TmFtZTwvdGg+PHRoPlBob25lPC90aD48L3RyPlxuICAgICAgICAgPHRyIG5nLXJlcGVhdD1cImZyaWVuZCBpbiBmcmllbmRzIHwgZmlsdGVyOnNlYXJjaFRleHRcIj5cbiAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XG4gICAgICAgICAgIDx0ZD57e2ZyaWVuZC5waG9uZX19PC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgPC90YWJsZT5cbiAgICAgICA8aHI+XG4gICAgICAgQW55OiA8aW5wdXQgbmctbW9kZWw9XCJzZWFyY2guJFwiPiA8YnI+XG4gICAgICAgTmFtZSBvbmx5IDxpbnB1dCBuZy1tb2RlbD1cInNlYXJjaC5uYW1lXCI+PGJyPlxuICAgICAgIFBob25lIG9ubHkgPGlucHV0IG5nLW1vZGVsPVwic2VhcmNoLnBob25lXCI+PGJyPlxuICAgICAgIEVxdWFsaXR5IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cInN0cmljdFwiPjxicj5cbiAgICAgICA8dGFibGUgaWQ9XCJzZWFyY2hPYmpSZXN1bHRzXCI+XG4gICAgICAgICA8dHI+PHRoPk5hbWU8L3RoPjx0aD5QaG9uZTwvdGg+PC90cj5cbiAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmRPYmogaW4gZnJpZW5kcyB8IGZpbHRlcjpzZWFyY2g6c3RyaWN0XCI+XG4gICAgICAgICAgIDx0ZD57e2ZyaWVuZE9iai5uYW1lfX08L3RkPlxuICAgICAgICAgICA8dGQ+e3tmcmllbmRPYmoucGhvbmV9fTwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgIDwvdGFibGU+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIHZhciBleHBlY3RGcmllbmROYW1lcyA9IGZ1bmN0aW9uKGV4cGVjdGVkTmFtZXMsIGtleSkge1xuICAgICAgICAgZWxlbWVudC5hbGwoYnkucmVwZWF0ZXIoa2V5ICsgJyBpbiBmcmllbmRzJykuY29sdW1uKGtleSArICcubmFtZScpKS50aGVuKGZ1bmN0aW9uKGFycikge1xuICAgICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbih3ZCwgaSkge1xuICAgICAgICAgICAgIGV4cGVjdCh3ZC5nZXRUZXh0KCkpLnRvTWF0Y2goZXhwZWN0ZWROYW1lc1tpXSk7XG4gICAgICAgICAgIH0pO1xuICAgICAgICAgfSk7XG4gICAgICAgfTtcblxuICAgICAgIGl0KCdzaG91bGQgc2VhcmNoIGFjcm9zcyBhbGwgZmllbGRzIHdoZW4gZmlsdGVyaW5nIHdpdGggYSBzdHJpbmcnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIHZhciBzZWFyY2hUZXh0ID0gZWxlbWVudChieS5tb2RlbCgnc2VhcmNoVGV4dCcpKTtcbiAgICAgICAgIHNlYXJjaFRleHQuY2xlYXIoKTtcbiAgICAgICAgIHNlYXJjaFRleHQuc2VuZEtleXMoJ20nKTtcbiAgICAgICAgIGV4cGVjdEZyaWVuZE5hbWVzKFsnTWFyeScsICdNaWtlJywgJ0FkYW0nXSwgJ2ZyaWVuZCcpO1xuXG4gICAgICAgICBzZWFyY2hUZXh0LmNsZWFyKCk7XG4gICAgICAgICBzZWFyY2hUZXh0LnNlbmRLZXlzKCc3NicpO1xuICAgICAgICAgZXhwZWN0RnJpZW5kTmFtZXMoWydKb2huJywgJ0p1bGllJ10sICdmcmllbmQnKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgc2VhcmNoIGluIHNwZWNpZmljIGZpZWxkcyB3aGVuIGZpbHRlcmluZyB3aXRoIGEgcHJlZGljYXRlIG9iamVjdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIHNlYXJjaEFueSA9IGVsZW1lbnQoYnkubW9kZWwoJ3NlYXJjaC4kJykpO1xuICAgICAgICAgc2VhcmNoQW55LmNsZWFyKCk7XG4gICAgICAgICBzZWFyY2hBbnkuc2VuZEtleXMoJ2knKTtcbiAgICAgICAgIGV4cGVjdEZyaWVuZE5hbWVzKFsnTWFyeScsICdNaWtlJywgJ0p1bGllJywgJ0p1bGlldHRlJ10sICdmcmllbmRPYmonKTtcbiAgICAgICB9KTtcbiAgICAgICBpdCgnc2hvdWxkIHVzZSBhIGVxdWFsIGNvbXBhcmlzb24gd2hlbiBjb21wYXJhdG9yIGlzIHRydWUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIHZhciBzZWFyY2hOYW1lID0gZWxlbWVudChieS5tb2RlbCgnc2VhcmNoLm5hbWUnKSk7XG4gICAgICAgICB2YXIgc3RyaWN0ID0gZWxlbWVudChieS5tb2RlbCgnc3RyaWN0JykpO1xuICAgICAgICAgc2VhcmNoTmFtZS5jbGVhcigpO1xuICAgICAgICAgc2VhcmNoTmFtZS5zZW5kS2V5cygnSnVsaWUnKTtcbiAgICAgICAgIHN0cmljdC5jbGljaygpO1xuICAgICAgICAgZXhwZWN0RnJpZW5kTmFtZXMoWydKdWxpZSddLCAnZnJpZW5kT2JqJyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuZnVuY3Rpb24gZmlsdGVyRmlsdGVyKCkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIGV4cHJlc3Npb24sIGNvbXBhcmF0b3IpIHtcbiAgICBpZiAoIWlzQXJyYXkoYXJyYXkpKSByZXR1cm4gYXJyYXk7XG5cbiAgICB2YXIgY29tcGFyYXRvclR5cGUgPSB0eXBlb2YoY29tcGFyYXRvciksXG4gICAgICAgIHByZWRpY2F0ZXMgPSBbXTtcblxuICAgIHByZWRpY2F0ZXMuY2hlY2sgPSBmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcHJlZGljYXRlcy5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAoIXByZWRpY2F0ZXNbal0odmFsdWUsIGluZGV4KSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIGlmIChjb21wYXJhdG9yVHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKGNvbXBhcmF0b3JUeXBlID09PSAnYm9vbGVhbicgJiYgY29tcGFyYXRvcikge1xuICAgICAgICBjb21wYXJhdG9yID0gZnVuY3Rpb24ob2JqLCB0ZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIGFuZ3VsYXIuZXF1YWxzKG9iaiwgdGV4dCk7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wYXJhdG9yID0gZnVuY3Rpb24ob2JqLCB0ZXh0KSB7XG4gICAgICAgICAgaWYgKG9iaiAmJiB0ZXh0ICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIHR5cGVvZiB0ZXh0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZm9yICh2YXIgb2JqS2V5IGluIG9iaikge1xuICAgICAgICAgICAgICBpZiAob2JqS2V5LmNoYXJBdCgwKSAhPT0gJyQnICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqLCBvYmpLZXkpICYmXG4gICAgICAgICAgICAgICAgICBjb21wYXJhdG9yKG9ialtvYmpLZXldLCB0ZXh0W29iaktleV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGV4dCA9ICgnJyt0ZXh0KS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIHJldHVybiAoJycrb2JqKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YodGV4dCkgPiAtMTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgc2VhcmNoID0gZnVuY3Rpb24ob2JqLCB0ZXh0KSB7XG4gICAgICBpZiAodHlwZW9mIHRleHQgPT09ICdzdHJpbmcnICYmIHRleHQuY2hhckF0KDApID09PSAnIScpIHtcbiAgICAgICAgcmV0dXJuICFzZWFyY2gob2JqLCB0ZXh0LnN1YnN0cigxKSk7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKHR5cGVvZiBvYmopIHtcbiAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgcmV0dXJuIGNvbXBhcmF0b3Iob2JqLCB0ZXh0KTtcbiAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiB0ZXh0KSB7XG4gICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICByZXR1cm4gY29tcGFyYXRvcihvYmosIHRleHQpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgZm9yICh2YXIgb2JqS2V5IGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmIChvYmpLZXkuY2hhckF0KDApICE9PSAnJCcgJiYgc2VhcmNoKG9ialtvYmpLZXldLCB0ZXh0KSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHNlYXJjaChvYmpbaV0sIHRleHQpKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH07XG4gICAgc3dpdGNoICh0eXBlb2YgZXhwcmVzc2lvbikge1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgLy8gU2V0IHVwIGV4cHJlc3Npb24gb2JqZWN0IGFuZCBmYWxsIHRocm91Z2hcbiAgICAgICAgZXhwcmVzc2lvbiA9IHskOmV4cHJlc3Npb259O1xuICAgICAgICAvLyBqc2hpbnQgLVcwODZcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIC8vIGpzaGludCArVzA4NlxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gZXhwcmVzc2lvbikge1xuICAgICAgICAgIChmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV4cHJlc3Npb25bcGF0aF0gPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gICAgICAgICAgICBwcmVkaWNhdGVzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNlYXJjaChwYXRoID09ICckJyA/IHZhbHVlIDogKHZhbHVlICYmIHZhbHVlW3BhdGhdKSwgZXhwcmVzc2lvbltwYXRoXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICBwcmVkaWNhdGVzLnB1c2goZXhwcmVzc2lvbik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cbiAgICB2YXIgZmlsdGVyZWQgPSBbXTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFycmF5Lmxlbmd0aDsgaisrKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtqXTtcbiAgICAgIGlmIChwcmVkaWNhdGVzLmNoZWNrKHZhbHVlLCBqKSkge1xuICAgICAgICBmaWx0ZXJlZC5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZpbHRlcmVkO1xuICB9O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIGN1cnJlbmN5XG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRm9ybWF0cyBhIG51bWJlciBhcyBhIGN1cnJlbmN5IChpZSAkMSwyMzQuNTYpLiBXaGVuIG5vIGN1cnJlbmN5IHN5bWJvbCBpcyBwcm92aWRlZCwgZGVmYXVsdFxuICogc3ltYm9sIGZvciBjdXJyZW50IGxvY2FsZSBpcyB1c2VkLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgSW5wdXQgdG8gZmlsdGVyLlxuICogQHBhcmFtIHtzdHJpbmc9fSBzeW1ib2wgQ3VycmVuY3kgc3ltYm9sIG9yIGlkZW50aWZpZXIgdG8gYmUgZGlzcGxheWVkLlxuICogQHBhcmFtIHtudW1iZXI9fSBmcmFjdGlvblNpemUgTnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIHRvIHJvdW5kIHRoZSBhbW91bnQgdG8uXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBGb3JtYXR0ZWQgbnVtYmVyLlxuICpcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwiY3VycmVuY3lFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdjdXJyZW5jeUV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAkc2NvcGUuYW1vdW50ID0gMTIzNC41NjtcbiAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwiYW1vdW50XCI+IDxicj5cbiAgICAgICAgIGRlZmF1bHQgY3VycmVuY3kgc3ltYm9sICgkKTogPHNwYW4gaWQ9XCJjdXJyZW5jeS1kZWZhdWx0XCI+e3thbW91bnQgfCBjdXJyZW5jeX19PC9zcGFuPjxicj5cbiAgICAgICAgIGN1c3RvbSBjdXJyZW5jeSBpZGVudGlmaWVyIChVU0QkKTogPHNwYW4gaWQ9XCJjdXJyZW5jeS1jdXN0b21cIj57e2Ftb3VudCB8IGN1cnJlbmN5OlwiVVNEJFwifX08L3NwYW4+XG4gICAgICAgICBubyBmcmFjdGlvbnMgKDApOiA8c3BhbiBpZD1cImN1cnJlbmN5LW5vLWZyYWN0aW9uc1wiPnt7YW1vdW50IHwgY3VycmVuY3k6XCJVU0QkXCI6MH19PC9zcGFuPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGluaXQgd2l0aCAxMjM0LjU2JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VycmVuY3ktZGVmYXVsdCcpKS5nZXRUZXh0KCkpLnRvQmUoJyQxLDIzNC41NicpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LWN1c3RvbScpKS5nZXRUZXh0KCkpLnRvQmUoJ1VTRCQxLDIzNC41NicpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LW5vLWZyYWN0aW9ucycpKS5nZXRUZXh0KCkpLnRvQmUoJ1VTRCQxLDIzNScpO1xuICAgICAgIH0pO1xuICAgICAgIGl0KCdzaG91bGQgdXBkYXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBpZiAoYnJvd3Nlci5wYXJhbXMuYnJvd3NlciA9PSAnc2FmYXJpJykge1xuICAgICAgICAgICAvLyBTYWZhcmkgZG9lcyBub3QgdW5kZXJzdGFuZCB0aGUgbWludXMga2V5LiBTZWVcbiAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNDgxXG4gICAgICAgICAgIHJldHVybjtcbiAgICAgICAgIH1cbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2Ftb3VudCcpKS5jbGVhcigpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnYW1vdW50JykpLnNlbmRLZXlzKCctMTIzNCcpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LWRlZmF1bHQnKSkuZ2V0VGV4dCgpKS50b0JlKCcoJDEsMjM0LjAwKScpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LWN1c3RvbScpKS5nZXRUZXh0KCkpLnRvQmUoJyhVU0QkMSwyMzQuMDApJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VycmVuY3ktbm8tZnJhY3Rpb25zJykpLmdldFRleHQoKSkudG9CZSgnKFVTRCQxLDIzNCknKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5jdXJyZW5jeUZpbHRlci4kaW5qZWN0ID0gWyckbG9jYWxlJ107XG5mdW5jdGlvbiBjdXJyZW5jeUZpbHRlcigkbG9jYWxlKSB7XG4gIHZhciBmb3JtYXRzID0gJGxvY2FsZS5OVU1CRVJfRk9STUFUUztcbiAgcmV0dXJuIGZ1bmN0aW9uKGFtb3VudCwgY3VycmVuY3lTeW1ib2wsIGZyYWN0aW9uU2l6ZSkge1xuICAgIGlmIChpc1VuZGVmaW5lZChjdXJyZW5jeVN5bWJvbCkpIHtcbiAgICAgIGN1cnJlbmN5U3ltYm9sID0gZm9ybWF0cy5DVVJSRU5DWV9TWU07XG4gICAgfVxuXG4gICAgaWYgKGlzVW5kZWZpbmVkKGZyYWN0aW9uU2l6ZSkpIHtcbiAgICAgIC8vIFRPRE86IHJlYWQgdGhlIGRlZmF1bHQgdmFsdWUgZnJvbSB0aGUgbG9jYWxlIGZpbGVcbiAgICAgIGZyYWN0aW9uU2l6ZSA9IDI7XG4gICAgfVxuXG4gICAgLy8gaWYgbnVsbCBvciB1bmRlZmluZWQgcGFzcyBpdCB0aHJvdWdoXG4gICAgcmV0dXJuIChhbW91bnQgPT0gbnVsbClcbiAgICAgICAgPyBhbW91bnRcbiAgICAgICAgOiBmb3JtYXROdW1iZXIoYW1vdW50LCBmb3JtYXRzLlBBVFRFUk5TWzFdLCBmb3JtYXRzLkdST1VQX1NFUCwgZm9ybWF0cy5ERUNJTUFMX1NFUCwgZnJhY3Rpb25TaXplKS5cbiAgICAgICAgICAgIHJlcGxhY2UoL1xcdTAwQTQvZywgY3VycmVuY3lTeW1ib2wpO1xuICB9O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIG51bWJlclxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEZvcm1hdHMgYSBudW1iZXIgYXMgdGV4dC5cbiAqXG4gKiBJZiB0aGUgaW5wdXQgaXMgbm90IGEgbnVtYmVyIGFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IG51bWJlciBOdW1iZXIgdG8gZm9ybWF0LlxuICogQHBhcmFtIHsobnVtYmVyfHN0cmluZyk9fSBmcmFjdGlvblNpemUgTnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIHRvIHJvdW5kIHRoZSBudW1iZXIgdG8uXG4gKiBJZiB0aGlzIGlzIG5vdCBwcm92aWRlZCB0aGVuIHRoZSBmcmFjdGlvbiBzaXplIGlzIGNvbXB1dGVkIGZyb20gdGhlIGN1cnJlbnQgbG9jYWxlJ3MgbnVtYmVyXG4gKiBmb3JtYXR0aW5nIHBhdHRlcm4uIEluIHRoZSBjYXNlIG9mIHRoZSBkZWZhdWx0IGxvY2FsZSwgaXQgd2lsbCBiZSAzLlxuICogQHJldHVybnMge3N0cmluZ30gTnVtYmVyIHJvdW5kZWQgdG8gZGVjaW1hbFBsYWNlcyBhbmQgcGxhY2VzIGEg4oCcLOKAnSBhZnRlciBlYWNoIHRoaXJkIGRpZ2l0LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJudW1iZXJGaWx0ZXJFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdudW1iZXJGaWx0ZXJFeGFtcGxlJywgW10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgJHNjb3BlLnZhbCA9IDEyMzQuNTY3ODk7XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgRW50ZXIgbnVtYmVyOiA8aW5wdXQgbmctbW9kZWw9J3ZhbCc+PGJyPlxuICAgICAgICAgRGVmYXVsdCBmb3JtYXR0aW5nOiA8c3BhbiBpZD0nbnVtYmVyLWRlZmF1bHQnPnt7dmFsIHwgbnVtYmVyfX08L3NwYW4+PGJyPlxuICAgICAgICAgTm8gZnJhY3Rpb25zOiA8c3Bhbj57e3ZhbCB8IG51bWJlcjowfX08L3NwYW4+PGJyPlxuICAgICAgICAgTmVnYXRpdmUgbnVtYmVyOiA8c3Bhbj57ey12YWwgfCBudW1iZXI6NH19PC9zcGFuPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGZvcm1hdCBudW1iZXJzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbnVtYmVyLWRlZmF1bHQnKSkuZ2V0VGV4dCgpKS50b0JlKCcxLDIzNC41NjgnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3ZhbCB8IG51bWJlcjowJykpLmdldFRleHQoKSkudG9CZSgnMSwyMzUnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJy12YWwgfCBudW1iZXI6NCcpKS5nZXRUZXh0KCkpLnRvQmUoJy0xLDIzNC41Njc5Jyk7XG4gICAgICAgfSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIHVwZGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgndmFsJykpLmNsZWFyKCk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCd2YWwnKSkuc2VuZEtleXMoJzMzNzQuMzMzJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbnVtYmVyLWRlZmF1bHQnKSkuZ2V0VGV4dCgpKS50b0JlKCczLDM3NC4zMzMnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3ZhbCB8IG51bWJlcjowJykpLmdldFRleHQoKSkudG9CZSgnMywzNzQnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJy12YWwgfCBudW1iZXI6NCcpKS5nZXRUZXh0KCkpLnRvQmUoJy0zLDM3NC4zMzMwJyk7XG4gICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxubnVtYmVyRmlsdGVyLiRpbmplY3QgPSBbJyRsb2NhbGUnXTtcbmZ1bmN0aW9uIG51bWJlckZpbHRlcigkbG9jYWxlKSB7XG4gIHZhciBmb3JtYXRzID0gJGxvY2FsZS5OVU1CRVJfRk9STUFUUztcbiAgcmV0dXJuIGZ1bmN0aW9uKG51bWJlciwgZnJhY3Rpb25TaXplKSB7XG5cbiAgICAvLyBpZiBudWxsIG9yIHVuZGVmaW5lZCBwYXNzIGl0IHRocm91Z2hcbiAgICByZXR1cm4gKG51bWJlciA9PSBudWxsKVxuICAgICAgICA/IG51bWJlclxuICAgICAgICA6IGZvcm1hdE51bWJlcihudW1iZXIsIGZvcm1hdHMuUEFUVEVSTlNbMF0sIGZvcm1hdHMuR1JPVVBfU0VQLCBmb3JtYXRzLkRFQ0lNQUxfU0VQLFxuICAgICAgICAgICAgICAgICAgICAgICBmcmFjdGlvblNpemUpO1xuICB9O1xufVxuXG52YXIgREVDSU1BTF9TRVAgPSAnLic7XG5mdW5jdGlvbiBmb3JtYXROdW1iZXIobnVtYmVyLCBwYXR0ZXJuLCBncm91cFNlcCwgZGVjaW1hbFNlcCwgZnJhY3Rpb25TaXplKSB7XG4gIGlmICghaXNGaW5pdGUobnVtYmVyKSB8fCBpc09iamVjdChudW1iZXIpKSByZXR1cm4gJyc7XG5cbiAgdmFyIGlzTmVnYXRpdmUgPSBudW1iZXIgPCAwO1xuICBudW1iZXIgPSBNYXRoLmFicyhudW1iZXIpO1xuICB2YXIgbnVtU3RyID0gbnVtYmVyICsgJycsXG4gICAgICBmb3JtYXRlZFRleHQgPSAnJyxcbiAgICAgIHBhcnRzID0gW107XG5cbiAgdmFyIGhhc0V4cG9uZW50ID0gZmFsc2U7XG4gIGlmIChudW1TdHIuaW5kZXhPZignZScpICE9PSAtMSkge1xuICAgIHZhciBtYXRjaCA9IG51bVN0ci5tYXRjaCgvKFtcXGRcXC5dKyllKC0/KShcXGQrKS8pO1xuICAgIGlmIChtYXRjaCAmJiBtYXRjaFsyXSA9PSAnLScgJiYgbWF0Y2hbM10gPiBmcmFjdGlvblNpemUgKyAxKSB7XG4gICAgICBudW1TdHIgPSAnMCc7XG4gICAgICBudW1iZXIgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3JtYXRlZFRleHQgPSBudW1TdHI7XG4gICAgICBoYXNFeHBvbmVudCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFoYXNFeHBvbmVudCkge1xuICAgIHZhciBmcmFjdGlvbkxlbiA9IChudW1TdHIuc3BsaXQoREVDSU1BTF9TRVApWzFdIHx8ICcnKS5sZW5ndGg7XG5cbiAgICAvLyBkZXRlcm1pbmUgZnJhY3Rpb25TaXplIGlmIGl0IGlzIG5vdCBzcGVjaWZpZWRcbiAgICBpZiAoaXNVbmRlZmluZWQoZnJhY3Rpb25TaXplKSkge1xuICAgICAgZnJhY3Rpb25TaXplID0gTWF0aC5taW4oTWF0aC5tYXgocGF0dGVybi5taW5GcmFjLCBmcmFjdGlvbkxlbiksIHBhdHRlcm4ubWF4RnJhYyk7XG4gICAgfVxuXG4gICAgLy8gc2FmZWx5IHJvdW5kIG51bWJlcnMgaW4gSlMgd2l0aG91dCBoaXR0aW5nIGltcHJlY2lzaW9ucyBvZiBmbG9hdGluZy1wb2ludCBhcml0aG1ldGljc1xuICAgIC8vIGluc3BpcmVkIGJ5OlxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvcm91bmRcbiAgICBudW1iZXIgPSArKE1hdGgucm91bmQoKyhudW1iZXIudG9TdHJpbmcoKSArICdlJyArIGZyYWN0aW9uU2l6ZSkpLnRvU3RyaW5nKCkgKyAnZScgKyAtZnJhY3Rpb25TaXplKTtcblxuICAgIGlmIChudW1iZXIgPT09IDApIHtcbiAgICAgIGlzTmVnYXRpdmUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgZnJhY3Rpb24gPSAoJycgKyBudW1iZXIpLnNwbGl0KERFQ0lNQUxfU0VQKTtcbiAgICB2YXIgd2hvbGUgPSBmcmFjdGlvblswXTtcbiAgICBmcmFjdGlvbiA9IGZyYWN0aW9uWzFdIHx8ICcnO1xuXG4gICAgdmFyIGksIHBvcyA9IDAsXG4gICAgICAgIGxncm91cCA9IHBhdHRlcm4ubGdTaXplLFxuICAgICAgICBncm91cCA9IHBhdHRlcm4uZ1NpemU7XG5cbiAgICBpZiAod2hvbGUubGVuZ3RoID49IChsZ3JvdXAgKyBncm91cCkpIHtcbiAgICAgIHBvcyA9IHdob2xlLmxlbmd0aCAtIGxncm91cDtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBwb3M7IGkrKykge1xuICAgICAgICBpZiAoKHBvcyAtIGkpJWdyb3VwID09PSAwICYmIGkgIT09IDApIHtcbiAgICAgICAgICBmb3JtYXRlZFRleHQgKz0gZ3JvdXBTZXA7XG4gICAgICAgIH1cbiAgICAgICAgZm9ybWF0ZWRUZXh0ICs9IHdob2xlLmNoYXJBdChpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGkgPSBwb3M7IGkgPCB3aG9sZS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCh3aG9sZS5sZW5ndGggLSBpKSVsZ3JvdXAgPT09IDAgJiYgaSAhPT0gMCkge1xuICAgICAgICBmb3JtYXRlZFRleHQgKz0gZ3JvdXBTZXA7XG4gICAgICB9XG4gICAgICBmb3JtYXRlZFRleHQgKz0gd2hvbGUuY2hhckF0KGkpO1xuICAgIH1cblxuICAgIC8vIGZvcm1hdCBmcmFjdGlvbiBwYXJ0LlxuICAgIHdoaWxlIChmcmFjdGlvbi5sZW5ndGggPCBmcmFjdGlvblNpemUpIHtcbiAgICAgIGZyYWN0aW9uICs9ICcwJztcbiAgICB9XG5cbiAgICBpZiAoZnJhY3Rpb25TaXplICYmIGZyYWN0aW9uU2l6ZSAhPT0gXCIwXCIpIGZvcm1hdGVkVGV4dCArPSBkZWNpbWFsU2VwICsgZnJhY3Rpb24uc3Vic3RyKDAsIGZyYWN0aW9uU2l6ZSk7XG4gIH0gZWxzZSB7XG5cbiAgICBpZiAoZnJhY3Rpb25TaXplID4gMCAmJiBudW1iZXIgPiAtMSAmJiBudW1iZXIgPCAxKSB7XG4gICAgICBmb3JtYXRlZFRleHQgPSBudW1iZXIudG9GaXhlZChmcmFjdGlvblNpemUpO1xuICAgIH1cbiAgfVxuXG4gIHBhcnRzLnB1c2goaXNOZWdhdGl2ZSA/IHBhdHRlcm4ubmVnUHJlIDogcGF0dGVybi5wb3NQcmUpO1xuICBwYXJ0cy5wdXNoKGZvcm1hdGVkVGV4dCk7XG4gIHBhcnRzLnB1c2goaXNOZWdhdGl2ZSA/IHBhdHRlcm4ubmVnU3VmIDogcGF0dGVybi5wb3NTdWYpO1xuICByZXR1cm4gcGFydHMuam9pbignJyk7XG59XG5cbmZ1bmN0aW9uIHBhZE51bWJlcihudW0sIGRpZ2l0cywgdHJpbSkge1xuICB2YXIgbmVnID0gJyc7XG4gIGlmIChudW0gPCAwKSB7XG4gICAgbmVnID0gICctJztcbiAgICBudW0gPSAtbnVtO1xuICB9XG4gIG51bSA9ICcnICsgbnVtO1xuICB3aGlsZSAobnVtLmxlbmd0aCA8IGRpZ2l0cykgbnVtID0gJzAnICsgbnVtO1xuICBpZiAodHJpbSlcbiAgICBudW0gPSBudW0uc3Vic3RyKG51bS5sZW5ndGggLSBkaWdpdHMpO1xuICByZXR1cm4gbmVnICsgbnVtO1xufVxuXG5cbmZ1bmN0aW9uIGRhdGVHZXR0ZXIobmFtZSwgc2l6ZSwgb2Zmc2V0LCB0cmltKSB7XG4gIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuICByZXR1cm4gZnVuY3Rpb24oZGF0ZSkge1xuICAgIHZhciB2YWx1ZSA9IGRhdGVbJ2dldCcgKyBuYW1lXSgpO1xuICAgIGlmIChvZmZzZXQgPiAwIHx8IHZhbHVlID4gLW9mZnNldClcbiAgICAgIHZhbHVlICs9IG9mZnNldDtcbiAgICBpZiAodmFsdWUgPT09IDAgJiYgb2Zmc2V0ID09IC0xMikgdmFsdWUgPSAxMjtcbiAgICByZXR1cm4gcGFkTnVtYmVyKHZhbHVlLCBzaXplLCB0cmltKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZGF0ZVN0ckdldHRlcihuYW1lLCBzaG9ydEZvcm0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGRhdGUsIGZvcm1hdHMpIHtcbiAgICB2YXIgdmFsdWUgPSBkYXRlWydnZXQnICsgbmFtZV0oKTtcbiAgICB2YXIgZ2V0ID0gdXBwZXJjYXNlKHNob3J0Rm9ybSA/ICgnU0hPUlQnICsgbmFtZSkgOiBuYW1lKTtcblxuICAgIHJldHVybiBmb3JtYXRzW2dldF1bdmFsdWVdO1xuICB9O1xufVxuXG5mdW5jdGlvbiB0aW1lWm9uZUdldHRlcihkYXRlKSB7XG4gIHZhciB6b25lID0gLTEgKiBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gIHZhciBwYWRkZWRab25lID0gKHpvbmUgPj0gMCkgPyBcIitcIiA6IFwiXCI7XG5cbiAgcGFkZGVkWm9uZSArPSBwYWROdW1iZXIoTWF0aFt6b25lID4gMCA/ICdmbG9vcicgOiAnY2VpbCddKHpvbmUgLyA2MCksIDIpICtcbiAgICAgICAgICAgICAgICBwYWROdW1iZXIoTWF0aC5hYnMoem9uZSAlIDYwKSwgMik7XG5cbiAgcmV0dXJuIHBhZGRlZFpvbmU7XG59XG5cbmZ1bmN0aW9uIGdldEZpcnN0VGh1cnNkYXlPZlllYXIoeWVhcikge1xuICAgIC8vIDAgPSBpbmRleCBvZiBKYW51YXJ5XG4gICAgdmFyIGRheU9mV2Vla09uRmlyc3QgPSAobmV3IERhdGUoeWVhciwgMCwgMSkpLmdldERheSgpO1xuICAgIC8vIDQgPSBpbmRleCBvZiBUaHVyc2RheSAoKzEgdG8gYWNjb3VudCBmb3IgMXN0ID0gNSlcbiAgICAvLyAxMSA9IGluZGV4IG9mICpuZXh0KiBUaHVyc2RheSAoKzEgYWNjb3VudCBmb3IgMXN0ID0gMTIpXG4gICAgcmV0dXJuIG5ldyBEYXRlKHllYXIsIDAsICgoZGF5T2ZXZWVrT25GaXJzdCA8PSA0KSA/IDUgOiAxMikgLSBkYXlPZldlZWtPbkZpcnN0KTtcbn1cblxuZnVuY3Rpb24gZ2V0VGh1cnNkYXlUaGlzV2VlayhkYXRldGltZSkge1xuICAgIHJldHVybiBuZXcgRGF0ZShkYXRldGltZS5nZXRGdWxsWWVhcigpLCBkYXRldGltZS5nZXRNb250aCgpLFxuICAgICAgLy8gNCA9IGluZGV4IG9mIFRodXJzZGF5XG4gICAgICBkYXRldGltZS5nZXREYXRlKCkgKyAoNCAtIGRhdGV0aW1lLmdldERheSgpKSk7XG59XG5cbmZ1bmN0aW9uIHdlZWtHZXR0ZXIoc2l6ZSkge1xuICAgcmV0dXJuIGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgIHZhciBmaXJzdFRodXJzID0gZ2V0Rmlyc3RUaHVyc2RheU9mWWVhcihkYXRlLmdldEZ1bGxZZWFyKCkpLFxuICAgICAgICAgdGhpc1RodXJzID0gZ2V0VGh1cnNkYXlUaGlzV2VlayhkYXRlKTtcblxuICAgICAgdmFyIGRpZmYgPSArdGhpc1RodXJzIC0gK2ZpcnN0VGh1cnMsXG4gICAgICAgICByZXN1bHQgPSAxICsgTWF0aC5yb3VuZChkaWZmIC8gNi4wNDhlOCk7IC8vIDYuMDQ4ZTggbXMgcGVyIHdlZWtcblxuICAgICAgcmV0dXJuIHBhZE51bWJlcihyZXN1bHQsIHNpemUpO1xuICAgfTtcbn1cblxuZnVuY3Rpb24gYW1wbUdldHRlcihkYXRlLCBmb3JtYXRzKSB7XG4gIHJldHVybiBkYXRlLmdldEhvdXJzKCkgPCAxMiA/IGZvcm1hdHMuQU1QTVNbMF0gOiBmb3JtYXRzLkFNUE1TWzFdO1xufVxuXG52YXIgREFURV9GT1JNQVRTID0ge1xuICB5eXl5OiBkYXRlR2V0dGVyKCdGdWxsWWVhcicsIDQpLFxuICAgIHl5OiBkYXRlR2V0dGVyKCdGdWxsWWVhcicsIDIsIDAsIHRydWUpLFxuICAgICB5OiBkYXRlR2V0dGVyKCdGdWxsWWVhcicsIDEpLFxuICBNTU1NOiBkYXRlU3RyR2V0dGVyKCdNb250aCcpLFxuICAgTU1NOiBkYXRlU3RyR2V0dGVyKCdNb250aCcsIHRydWUpLFxuICAgIE1NOiBkYXRlR2V0dGVyKCdNb250aCcsIDIsIDEpLFxuICAgICBNOiBkYXRlR2V0dGVyKCdNb250aCcsIDEsIDEpLFxuICAgIGRkOiBkYXRlR2V0dGVyKCdEYXRlJywgMiksXG4gICAgIGQ6IGRhdGVHZXR0ZXIoJ0RhdGUnLCAxKSxcbiAgICBISDogZGF0ZUdldHRlcignSG91cnMnLCAyKSxcbiAgICAgSDogZGF0ZUdldHRlcignSG91cnMnLCAxKSxcbiAgICBoaDogZGF0ZUdldHRlcignSG91cnMnLCAyLCAtMTIpLFxuICAgICBoOiBkYXRlR2V0dGVyKCdIb3VycycsIDEsIC0xMiksXG4gICAgbW06IGRhdGVHZXR0ZXIoJ01pbnV0ZXMnLCAyKSxcbiAgICAgbTogZGF0ZUdldHRlcignTWludXRlcycsIDEpLFxuICAgIHNzOiBkYXRlR2V0dGVyKCdTZWNvbmRzJywgMiksXG4gICAgIHM6IGRhdGVHZXR0ZXIoJ1NlY29uZHMnLCAxKSxcbiAgICAgLy8gd2hpbGUgSVNPIDg2MDEgcmVxdWlyZXMgZnJhY3Rpb25zIHRvIGJlIHByZWZpeGVkIHdpdGggYC5gIG9yIGAsYFxuICAgICAvLyB3ZSBjYW4gYmUganVzdCBzYWZlbHkgcmVseSBvbiB1c2luZyBgc3NzYCBzaW5jZSB3ZSBjdXJyZW50bHkgZG9uJ3Qgc3VwcG9ydCBzaW5nbGUgb3IgdHdvIGRpZ2l0IGZyYWN0aW9uc1xuICAgc3NzOiBkYXRlR2V0dGVyKCdNaWxsaXNlY29uZHMnLCAzKSxcbiAgRUVFRTogZGF0ZVN0ckdldHRlcignRGF5JyksXG4gICBFRUU6IGRhdGVTdHJHZXR0ZXIoJ0RheScsIHRydWUpLFxuICAgICBhOiBhbXBtR2V0dGVyLFxuICAgICBaOiB0aW1lWm9uZUdldHRlcixcbiAgICB3dzogd2Vla0dldHRlcigyKSxcbiAgICAgdzogd2Vla0dldHRlcigxKVxufTtcblxudmFyIERBVEVfRk9STUFUU19TUExJVCA9IC8oKD86W155TWRIaG1zYVpFdyddKyl8KD86Jyg/OlteJ118JycpKicpfCg/OkUrfHkrfE0rfGQrfEgrfGgrfG0rfHMrfGF8Wnx3KykpKC4qKS8sXG4gICAgTlVNQkVSX1NUUklORyA9IC9eXFwtP1xcZCskLztcblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBkYXRlXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogICBGb3JtYXRzIGBkYXRlYCB0byBhIHN0cmluZyBiYXNlZCBvbiB0aGUgcmVxdWVzdGVkIGBmb3JtYXRgLlxuICpcbiAqICAgYGZvcm1hdGAgc3RyaW5nIGNhbiBiZSBjb21wb3NlZCBvZiB0aGUgZm9sbG93aW5nIGVsZW1lbnRzOlxuICpcbiAqICAgKiBgJ3l5eXknYDogNCBkaWdpdCByZXByZXNlbnRhdGlvbiBvZiB5ZWFyIChlLmcuIEFEIDEgPT4gMDAwMSwgQUQgMjAxMCA9PiAyMDEwKVxuICogICAqIGAneXknYDogMiBkaWdpdCByZXByZXNlbnRhdGlvbiBvZiB5ZWFyLCBwYWRkZWQgKDAwLTk5KS4gKGUuZy4gQUQgMjAwMSA9PiAwMSwgQUQgMjAxMCA9PiAxMClcbiAqICAgKiBgJ3knYDogMSBkaWdpdCByZXByZXNlbnRhdGlvbiBvZiB5ZWFyLCBlLmcuIChBRCAxID0+IDEsIEFEIDE5OSA9PiAxOTkpXG4gKiAgICogYCdNTU1NJ2A6IE1vbnRoIGluIHllYXIgKEphbnVhcnktRGVjZW1iZXIpXG4gKiAgICogYCdNTU0nYDogTW9udGggaW4geWVhciAoSmFuLURlYylcbiAqICAgKiBgJ01NJ2A6IE1vbnRoIGluIHllYXIsIHBhZGRlZCAoMDEtMTIpXG4gKiAgICogYCdNJ2A6IE1vbnRoIGluIHllYXIgKDEtMTIpXG4gKiAgICogYCdkZCdgOiBEYXkgaW4gbW9udGgsIHBhZGRlZCAoMDEtMzEpXG4gKiAgICogYCdkJ2A6IERheSBpbiBtb250aCAoMS0zMSlcbiAqICAgKiBgJ0VFRUUnYDogRGF5IGluIFdlZWssKFN1bmRheS1TYXR1cmRheSlcbiAqICAgKiBgJ0VFRSdgOiBEYXkgaW4gV2VlaywgKFN1bi1TYXQpXG4gKiAgICogYCdISCdgOiBIb3VyIGluIGRheSwgcGFkZGVkICgwMC0yMylcbiAqICAgKiBgJ0gnYDogSG91ciBpbiBkYXkgKDAtMjMpXG4gKiAgICogYCdoaCdgOiBIb3VyIGluIEFNL1BNLCBwYWRkZWQgKDAxLTEyKVxuICogICAqIGAnaCdgOiBIb3VyIGluIEFNL1BNLCAoMS0xMilcbiAqICAgKiBgJ21tJ2A6IE1pbnV0ZSBpbiBob3VyLCBwYWRkZWQgKDAwLTU5KVxuICogICAqIGAnbSdgOiBNaW51dGUgaW4gaG91ciAoMC01OSlcbiAqICAgKiBgJ3NzJ2A6IFNlY29uZCBpbiBtaW51dGUsIHBhZGRlZCAoMDAtNTkpXG4gKiAgICogYCdzJ2A6IFNlY29uZCBpbiBtaW51dGUgKDAtNTkpXG4gKiAgICogYCcuc3NzJyBvciAnLHNzcydgOiBNaWxsaXNlY29uZCBpbiBzZWNvbmQsIHBhZGRlZCAoMDAwLTk5OSlcbiAqICAgKiBgJ2EnYDogQU0vUE0gbWFya2VyXG4gKiAgICogYCdaJ2A6IDQgZGlnaXQgKCtzaWduKSByZXByZXNlbnRhdGlvbiBvZiB0aGUgdGltZXpvbmUgb2Zmc2V0ICgtMTIwMC0rMTIwMClcbiAqICAgKiBgJ3d3J2A6IElTTy04NjAxIHdlZWsgb2YgeWVhciAoMDAtNTMpXG4gKiAgICogYCd3J2A6IElTTy04NjAxIHdlZWsgb2YgeWVhciAoMC01MylcbiAqXG4gKiAgIGBmb3JtYXRgIHN0cmluZyBjYW4gYWxzbyBiZSBvbmUgb2YgdGhlIGZvbGxvd2luZyBwcmVkZWZpbmVkXG4gKiAgIHtAbGluayBndWlkZS9pMThuIGxvY2FsaXphYmxlIGZvcm1hdHN9OlxuICpcbiAqICAgKiBgJ21lZGl1bSdgOiBlcXVpdmFsZW50IHRvIGAnTU1NIGQsIHkgaDptbTpzcyBhJ2AgZm9yIGVuX1VTIGxvY2FsZVxuICogICAgIChlLmcuIFNlcCAzLCAyMDEwIDEyOjA1OjA4IFBNKVxuICogICAqIGAnc2hvcnQnYDogZXF1aXZhbGVudCB0byBgJ00vZC95eSBoOm1tIGEnYCBmb3IgZW5fVVMgIGxvY2FsZSAoZS5nLiA5LzMvMTAgMTI6MDUgUE0pXG4gKiAgICogYCdmdWxsRGF0ZSdgOiBlcXVpdmFsZW50IHRvIGAnRUVFRSwgTU1NTSBkLCB5J2AgZm9yIGVuX1VTICBsb2NhbGVcbiAqICAgICAoZS5nLiBGcmlkYXksIFNlcHRlbWJlciAzLCAyMDEwKVxuICogICAqIGAnbG9uZ0RhdGUnYDogZXF1aXZhbGVudCB0byBgJ01NTU0gZCwgeSdgIGZvciBlbl9VUyAgbG9jYWxlIChlLmcuIFNlcHRlbWJlciAzLCAyMDEwKVxuICogICAqIGAnbWVkaXVtRGF0ZSdgOiBlcXVpdmFsZW50IHRvIGAnTU1NIGQsIHknYCBmb3IgZW5fVVMgIGxvY2FsZSAoZS5nLiBTZXAgMywgMjAxMClcbiAqICAgKiBgJ3Nob3J0RGF0ZSdgOiBlcXVpdmFsZW50IHRvIGAnTS9kL3l5J2AgZm9yIGVuX1VTIGxvY2FsZSAoZS5nLiA5LzMvMTApXG4gKiAgICogYCdtZWRpdW1UaW1lJ2A6IGVxdWl2YWxlbnQgdG8gYCdoOm1tOnNzIGEnYCBmb3IgZW5fVVMgbG9jYWxlIChlLmcuIDEyOjA1OjA4IFBNKVxuICogICAqIGAnc2hvcnRUaW1lJ2A6IGVxdWl2YWxlbnQgdG8gYCdoOm1tIGEnYCBmb3IgZW5fVVMgbG9jYWxlIChlLmcuIDEyOjA1IFBNKVxuICpcbiAqICAgYGZvcm1hdGAgc3RyaW5nIGNhbiBjb250YWluIGxpdGVyYWwgdmFsdWVzLiBUaGVzZSBuZWVkIHRvIGJlIGVzY2FwZWQgYnkgc3Vycm91bmRpbmcgd2l0aCBzaW5nbGUgcXVvdGVzIChlLmcuXG4gKiAgIGBcImggJ2luIHRoZSBtb3JuaW5nJ1wiYCkuIEluIG9yZGVyIHRvIG91dHB1dCBhIHNpbmdsZSBxdW90ZSwgZXNjYXBlIGl0IC0gaS5lLiwgdHdvIHNpbmdsZSBxdW90ZXMgaW4gYSBzZXF1ZW5jZVxuICogICAoZS5nLiBgXCJoICdvJydjbG9jaydcImApLlxuICpcbiAqIEBwYXJhbSB7KERhdGV8bnVtYmVyfHN0cmluZyl9IGRhdGUgRGF0ZSB0byBmb3JtYXQgZWl0aGVyIGFzIERhdGUgb2JqZWN0LCBtaWxsaXNlY29uZHMgKHN0cmluZyBvclxuICogICAgbnVtYmVyKSBvciB2YXJpb3VzIElTTyA4NjAxIGRhdGV0aW1lIHN0cmluZyBmb3JtYXRzIChlLmcuIHl5eXktTU0tZGRUSEg6bW06c3Muc3NzWiBhbmQgaXRzXG4gKiAgICBzaG9ydGVyIHZlcnNpb25zIGxpa2UgeXl5eS1NTS1kZFRISDptbVosIHl5eXktTU0tZGQgb3IgeXl5eU1NZGRUSEhtbXNzWikuIElmIG5vIHRpbWV6b25lIGlzXG4gKiAgICBzcGVjaWZpZWQgaW4gdGhlIHN0cmluZyBpbnB1dCwgdGhlIHRpbWUgaXMgY29uc2lkZXJlZCB0byBiZSBpbiB0aGUgbG9jYWwgdGltZXpvbmUuXG4gKiBAcGFyYW0ge3N0cmluZz19IGZvcm1hdCBGb3JtYXR0aW5nIHJ1bGVzIChzZWUgRGVzY3JpcHRpb24pLiBJZiBub3Qgc3BlY2lmaWVkLFxuICogICAgYG1lZGl1bURhdGVgIGlzIHVzZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IHRpbWV6b25lIFRpbWV6b25lIHRvIGJlIHVzZWQgZm9yIGZvcm1hdHRpbmcuIFJpZ2h0IG5vdywgb25seSBgJ1VUQydgIGlzIHN1cHBvcnRlZC5cbiAqICAgIElmIG5vdCBzcGVjaWZpZWQsIHRoZSB0aW1lem9uZSBvZiB0aGUgYnJvd3NlciB3aWxsIGJlIHVzZWQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBGb3JtYXR0ZWQgc3RyaW5nIG9yIHRoZSBpbnB1dCBpZiBpbnB1dCBpcyBub3QgcmVjb2duaXplZCBhcyBkYXRlL21pbGxpcy5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNwYW4gbmctbm9uLWJpbmRhYmxlPnt7MTI4ODMyMzYyMzAwNiB8IGRhdGU6J21lZGl1bSd9fTwvc3Bhbj46XG4gICAgICAgICAgIDxzcGFuPnt7MTI4ODMyMzYyMzAwNiB8IGRhdGU6J21lZGl1bSd9fTwvc3Bhbj48YnI+XG4gICAgICAgPHNwYW4gbmctbm9uLWJpbmRhYmxlPnt7MTI4ODMyMzYyMzAwNiB8IGRhdGU6J3l5eXktTU0tZGQgSEg6bW06c3MgWid9fTwvc3Bhbj46XG4gICAgICAgICAgPHNwYW4+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZToneXl5eS1NTS1kZCBISDptbTpzcyBaJ319PC9zcGFuPjxicj5cbiAgICAgICA8c3BhbiBuZy1ub24tYmluZGFibGU+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTonTU0vZGQveXl5eSBAIGg6bW1hJ319PC9zcGFuPjpcbiAgICAgICAgICA8c3Bhbj57eycxMjg4MzIzNjIzMDA2JyB8IGRhdGU6J01NL2RkL3l5eXkgQCBoOm1tYSd9fTwvc3Bhbj48YnI+XG4gICAgICAgPHNwYW4gbmctbm9uLWJpbmRhYmxlPnt7MTI4ODMyMzYyMzAwNiB8IGRhdGU6XCJNTS9kZC95eXl5ICdhdCcgaDptbWFcIn19PC9zcGFuPjpcbiAgICAgICAgICA8c3Bhbj57eycxMjg4MzIzNjIzMDA2JyB8IGRhdGU6XCJNTS9kZC95eXl5ICdhdCcgaDptbWFcIn19PC9zcGFuPjxicj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBmb3JtYXQgZGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZyhcIjEyODgzMjM2MjMwMDYgfCBkYXRlOidtZWRpdW0nXCIpKS5nZXRUZXh0KCkpLlxuICAgICAgICAgICAgdG9NYXRjaCgvT2N0IDJcXGQsIDIwMTAgXFxkezEsMn06XFxkezJ9OlxcZHsyfSAoQU18UE0pLyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKFwiMTI4ODMyMzYyMzAwNiB8IGRhdGU6J3l5eXktTU0tZGQgSEg6bW06c3MgWidcIikpLmdldFRleHQoKSkuXG4gICAgICAgICAgICB0b01hdGNoKC8yMDEwXFwtMTBcXC0yXFxkIFxcZHsyfTpcXGR7Mn06XFxkezJ9IChcXC18XFwrKT9cXGR7NH0vKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoXCInMTI4ODMyMzYyMzAwNicgfCBkYXRlOidNTS9kZC95eXl5IEAgaDptbWEnXCIpKS5nZXRUZXh0KCkpLlxuICAgICAgICAgICAgdG9NYXRjaCgvMTBcXC8yXFxkXFwvMjAxMCBAIFxcZHsxLDJ9OlxcZHsyfShBTXxQTSkvKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoXCInMTI4ODMyMzYyMzAwNicgfCBkYXRlOlxcXCJNTS9kZC95eXl5ICdhdCcgaDptbWFcXFwiXCIpKS5nZXRUZXh0KCkpLlxuICAgICAgICAgICAgdG9NYXRjaCgvMTBcXC8yXFxkXFwvMjAxMCBhdCBcXGR7MSwyfTpcXGR7Mn0oQU18UE0pLyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuZGF0ZUZpbHRlci4kaW5qZWN0ID0gWyckbG9jYWxlJ107XG5mdW5jdGlvbiBkYXRlRmlsdGVyKCRsb2NhbGUpIHtcblxuXG4gIHZhciBSX0lTTzg2MDFfU1RSID0gL14oXFxkezR9KS0/KFxcZFxcZCktPyhcXGRcXGQpKD86VChcXGRcXGQpKD86Oj8oXFxkXFxkKSg/Ojo/KFxcZFxcZCkoPzpcXC4oXFxkKykpPyk/KT8oWnwoWystXSkoXFxkXFxkKTo/KFxcZFxcZCkpPyk/JC87XG4gICAgICAgICAgICAgICAgICAgICAvLyAxICAgICAgICAyICAgICAgIDMgICAgICAgICA0ICAgICAgICAgIDUgICAgICAgICAgNiAgICAgICAgICA3ICAgICAgICAgIDggIDkgICAgIDEwICAgICAgMTFcbiAgZnVuY3Rpb24ganNvblN0cmluZ1RvRGF0ZShzdHJpbmcpIHtcbiAgICB2YXIgbWF0Y2g7XG4gICAgaWYgKG1hdGNoID0gc3RyaW5nLm1hdGNoKFJfSVNPODYwMV9TVFIpKSB7XG4gICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKDApLFxuICAgICAgICAgIHR6SG91ciA9IDAsXG4gICAgICAgICAgdHpNaW4gID0gMCxcbiAgICAgICAgICBkYXRlU2V0dGVyID0gbWF0Y2hbOF0gPyBkYXRlLnNldFVUQ0Z1bGxZZWFyIDogZGF0ZS5zZXRGdWxsWWVhcixcbiAgICAgICAgICB0aW1lU2V0dGVyID0gbWF0Y2hbOF0gPyBkYXRlLnNldFVUQ0hvdXJzIDogZGF0ZS5zZXRIb3VycztcblxuICAgICAgaWYgKG1hdGNoWzldKSB7XG4gICAgICAgIHR6SG91ciA9IGludChtYXRjaFs5XSArIG1hdGNoWzEwXSk7XG4gICAgICAgIHR6TWluID0gaW50KG1hdGNoWzldICsgbWF0Y2hbMTFdKTtcbiAgICAgIH1cbiAgICAgIGRhdGVTZXR0ZXIuY2FsbChkYXRlLCBpbnQobWF0Y2hbMV0pLCBpbnQobWF0Y2hbMl0pIC0gMSwgaW50KG1hdGNoWzNdKSk7XG4gICAgICB2YXIgaCA9IGludChtYXRjaFs0XXx8MCkgLSB0ekhvdXI7XG4gICAgICB2YXIgbSA9IGludChtYXRjaFs1XXx8MCkgLSB0ek1pbjtcbiAgICAgIHZhciBzID0gaW50KG1hdGNoWzZdfHwwKTtcbiAgICAgIHZhciBtcyA9IE1hdGgucm91bmQocGFyc2VGbG9hdCgnMC4nICsgKG1hdGNoWzddfHwwKSkgKiAxMDAwKTtcbiAgICAgIHRpbWVTZXR0ZXIuY2FsbChkYXRlLCBoLCBtLCBzLCBtcyk7XG4gICAgICByZXR1cm4gZGF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cmluZztcbiAgfVxuXG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGRhdGUsIGZvcm1hdCwgdGltZXpvbmUpIHtcbiAgICB2YXIgdGV4dCA9ICcnLFxuICAgICAgICBwYXJ0cyA9IFtdLFxuICAgICAgICBmbiwgbWF0Y2g7XG5cbiAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJ21lZGl1bURhdGUnO1xuICAgIGZvcm1hdCA9ICRsb2NhbGUuREFURVRJTUVfRk9STUFUU1tmb3JtYXRdIHx8IGZvcm1hdDtcbiAgICBpZiAoaXNTdHJpbmcoZGF0ZSkpIHtcbiAgICAgIGRhdGUgPSBOVU1CRVJfU1RSSU5HLnRlc3QoZGF0ZSkgPyBpbnQoZGF0ZSkgOiBqc29uU3RyaW5nVG9EYXRlKGRhdGUpO1xuICAgIH1cblxuICAgIGlmIChpc051bWJlcihkYXRlKSkge1xuICAgICAgZGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuICAgIH1cblxuICAgIGlmICghaXNEYXRlKGRhdGUpKSB7XG4gICAgICByZXR1cm4gZGF0ZTtcbiAgICB9XG5cbiAgICB3aGlsZSAoZm9ybWF0KSB7XG4gICAgICBtYXRjaCA9IERBVEVfRk9STUFUU19TUExJVC5leGVjKGZvcm1hdCk7XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcGFydHMgPSBjb25jYXQocGFydHMsIG1hdGNoLCAxKTtcbiAgICAgICAgZm9ybWF0ID0gcGFydHMucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJ0cy5wdXNoKGZvcm1hdCk7XG4gICAgICAgIGZvcm1hdCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRpbWV6b25lICYmIHRpbWV6b25lID09PSAnVVRDJykge1xuICAgICAgZGF0ZSA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKTtcbiAgICAgIGRhdGUuc2V0TWludXRlcyhkYXRlLmdldE1pbnV0ZXMoKSArIGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSk7XG4gICAgfVxuICAgIGZvckVhY2gocGFydHMsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBmbiA9IERBVEVfRk9STUFUU1t2YWx1ZV07XG4gICAgICB0ZXh0ICs9IGZuID8gZm4oZGF0ZSwgJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTKVxuICAgICAgICAgICAgICAgICA6IHZhbHVlLnJlcGxhY2UoLyheJ3wnJCkvZywgJycpLnJlcGxhY2UoLycnL2csIFwiJ1wiKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0ZXh0O1xuICB9O1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUganNvblxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqICAgQWxsb3dzIHlvdSB0byBjb252ZXJ0IGEgSmF2YVNjcmlwdCBvYmplY3QgaW50byBKU09OIHN0cmluZy5cbiAqXG4gKiAgIFRoaXMgZmlsdGVyIGlzIG1vc3RseSB1c2VmdWwgZm9yIGRlYnVnZ2luZy4gV2hlbiB1c2luZyB0aGUgZG91YmxlIGN1cmx5IHt7dmFsdWV9fSBub3RhdGlvblxuICogICB0aGUgYmluZGluZyBpcyBhdXRvbWF0aWNhbGx5IGNvbnZlcnRlZCB0byBKU09OLlxuICpcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IEFueSBKYXZhU2NyaXB0IG9iamVjdCAoaW5jbHVkaW5nIGFycmF5cyBhbmQgcHJpbWl0aXZlIHR5cGVzKSB0byBmaWx0ZXIuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBKU09OIHN0cmluZy5cbiAqXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxwcmU+e3sgeyduYW1lJzondmFsdWUnfSB8IGpzb24gfX08L3ByZT5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBqc29uaWZ5IGZpbHRlcmVkIG9iamVjdHMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoXCJ7J25hbWUnOid2YWx1ZSd9XCIpKS5nZXRUZXh0KCkpLnRvTWF0Y2goL1xce1xcbiAgXCJuYW1lXCI6ID9cInZhbHVlXCJcXG59Lyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqXG4gKi9cbmZ1bmN0aW9uIGpzb25GaWx0ZXIoKSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gdG9Kc29uKG9iamVjdCwgdHJ1ZSk7XG4gIH07XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBsb3dlcmNhc2VcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbnZlcnRzIHN0cmluZyB0byBsb3dlcmNhc2UuXG4gKiBAc2VlIGFuZ3VsYXIubG93ZXJjYXNlXG4gKi9cbnZhciBsb3dlcmNhc2VGaWx0ZXIgPSB2YWx1ZUZuKGxvd2VyY2FzZSk7XG5cblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSB1cHBlcmNhc2VcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbnZlcnRzIHN0cmluZyB0byB1cHBlcmNhc2UuXG4gKiBAc2VlIGFuZ3VsYXIudXBwZXJjYXNlXG4gKi9cbnZhciB1cHBlcmNhc2VGaWx0ZXIgPSB2YWx1ZUZuKHVwcGVyY2FzZSk7XG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUgbGltaXRUb1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYSBuZXcgYXJyYXkgb3Igc3RyaW5nIGNvbnRhaW5pbmcgb25seSBhIHNwZWNpZmllZCBudW1iZXIgb2YgZWxlbWVudHMuIFRoZSBlbGVtZW50c1xuICogYXJlIHRha2VuIGZyb20gZWl0aGVyIHRoZSBiZWdpbm5pbmcgb3IgdGhlIGVuZCBvZiB0aGUgc291cmNlIGFycmF5LCBzdHJpbmcgb3IgbnVtYmVyLCBhcyBzcGVjaWZpZWQgYnlcbiAqIHRoZSB2YWx1ZSBhbmQgc2lnbiAocG9zaXRpdmUgb3IgbmVnYXRpdmUpIG9mIGBsaW1pdGAuIElmIGEgbnVtYmVyIGlzIHVzZWQgYXMgaW5wdXQsIGl0IGlzXG4gKiBjb252ZXJ0ZWQgdG8gYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd8bnVtYmVyfSBpbnB1dCBTb3VyY2UgYXJyYXksIHN0cmluZyBvciBudW1iZXIgdG8gYmUgbGltaXRlZC5cbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gbGltaXQgVGhlIGxlbmd0aCBvZiB0aGUgcmV0dXJuZWQgYXJyYXkgb3Igc3RyaW5nLiBJZiB0aGUgYGxpbWl0YCBudW1iZXJcbiAqICAgICBpcyBwb3NpdGl2ZSwgYGxpbWl0YCBudW1iZXIgb2YgaXRlbXMgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBzb3VyY2UgYXJyYXkvc3RyaW5nIGFyZSBjb3BpZWQuXG4gKiAgICAgSWYgdGhlIG51bWJlciBpcyBuZWdhdGl2ZSwgYGxpbWl0YCBudW1iZXIgIG9mIGl0ZW1zIGZyb20gdGhlIGVuZCBvZiB0aGUgc291cmNlIGFycmF5L3N0cmluZ1xuICogICAgIGFyZSBjb3BpZWQuIFRoZSBgbGltaXRgIHdpbGwgYmUgdHJpbW1lZCBpZiBpdCBleGNlZWRzIGBhcnJheS5sZW5ndGhgXG4gKiBAcmV0dXJucyB7QXJyYXl8c3RyaW5nfSBBIG5ldyBzdWItYXJyYXkgb3Igc3Vic3RyaW5nIG9mIGxlbmd0aCBgbGltaXRgIG9yIGxlc3MgaWYgaW5wdXQgYXJyYXlcbiAqICAgICBoYWQgbGVzcyB0aGFuIGBsaW1pdGAgZWxlbWVudHMuXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cImxpbWl0VG9FeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdsaW1pdFRvRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS5udW1iZXJzID0gWzEsMiwzLDQsNSw2LDcsOCw5XTtcbiAgICAgICAgICAgICAkc2NvcGUubGV0dGVycyA9IFwiYWJjZGVmZ2hpXCI7XG4gICAgICAgICAgICAgJHNjb3BlLmxvbmdOdW1iZXIgPSAyMzQ1NDMyMzQyO1xuICAgICAgICAgICAgICRzY29wZS5udW1MaW1pdCA9IDM7XG4gICAgICAgICAgICAgJHNjb3BlLmxldHRlckxpbWl0ID0gMztcbiAgICAgICAgICAgICAkc2NvcGUubG9uZ051bWJlckxpbWl0ID0gMztcbiAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICBMaW1pdCB7e251bWJlcnN9fSB0bzogPGlucHV0IHR5cGU9XCJudW1iZXJcIiBzdGVwPVwiMVwiIG5nLW1vZGVsPVwibnVtTGltaXRcIj5cbiAgICAgICAgIDxwPk91dHB1dCBudW1iZXJzOiB7eyBudW1iZXJzIHwgbGltaXRUbzpudW1MaW1pdCB9fTwvcD5cbiAgICAgICAgIExpbWl0IHt7bGV0dGVyc319IHRvOiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIHN0ZXA9XCIxXCIgbmctbW9kZWw9XCJsZXR0ZXJMaW1pdFwiPlxuICAgICAgICAgPHA+T3V0cHV0IGxldHRlcnM6IHt7IGxldHRlcnMgfCBsaW1pdFRvOmxldHRlckxpbWl0IH19PC9wPlxuICAgICAgICAgTGltaXQge3tsb25nTnVtYmVyfX0gdG86IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgc3RlcD1cIjFcIiBuZy1tb2RlbD1cImxvbmdOdW1iZXJMaW1pdFwiPlxuICAgICAgICAgPHA+T3V0cHV0IGxvbmcgbnVtYmVyOiB7eyBsb25nTnVtYmVyIHwgbGltaXRUbzpsb25nTnVtYmVyTGltaXQgfX08L3A+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIHZhciBudW1MaW1pdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbnVtTGltaXQnKSk7XG4gICAgICAgdmFyIGxldHRlckxpbWl0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdsZXR0ZXJMaW1pdCcpKTtcbiAgICAgICB2YXIgbG9uZ051bWJlckxpbWl0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdsb25nTnVtYmVyTGltaXQnKSk7XG4gICAgICAgdmFyIGxpbWl0ZWROdW1iZXJzID0gZWxlbWVudChieS5iaW5kaW5nKCdudW1iZXJzIHwgbGltaXRUbzpudW1MaW1pdCcpKTtcbiAgICAgICB2YXIgbGltaXRlZExldHRlcnMgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2xldHRlcnMgfCBsaW1pdFRvOmxldHRlckxpbWl0JykpO1xuICAgICAgIHZhciBsaW1pdGVkTG9uZ051bWJlciA9IGVsZW1lbnQoYnkuYmluZGluZygnbG9uZ051bWJlciB8IGxpbWl0VG86bG9uZ051bWJlckxpbWl0JykpO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBsaW1pdCB0aGUgbnVtYmVyIGFycmF5IHRvIGZpcnN0IHRocmVlIGl0ZW1zJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QobnVtTGltaXRJbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvQmUoJzMnKTtcbiAgICAgICAgIGV4cGVjdChsZXR0ZXJMaW1pdElucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnMycpO1xuICAgICAgICAgZXhwZWN0KGxvbmdOdW1iZXJMaW1pdElucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnMycpO1xuICAgICAgICAgZXhwZWN0KGxpbWl0ZWROdW1iZXJzLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IG51bWJlcnM6IFsxLDIsM10nKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTGV0dGVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsZXR0ZXJzOiBhYmMnKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTG9uZ051bWJlci5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsb25nIG51bWJlcjogMjM0Jyk7XG4gICAgICAgfSk7XG5cbiAgICAgICAvLyBUaGVyZSBpcyBhIGJ1ZyBpbiBzYWZhcmkgYW5kIHByb3RyYWN0b3IgdGhhdCBkb2Vzbid0IGxpa2UgdGhlIG1pbnVzIGtleVxuICAgICAgIC8vIGl0KCdzaG91bGQgdXBkYXRlIHRoZSBvdXRwdXQgd2hlbiAtMyBpcyBlbnRlcmVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgLy8gICBudW1MaW1pdElucHV0LmNsZWFyKCk7XG4gICAgICAgLy8gICBudW1MaW1pdElucHV0LnNlbmRLZXlzKCctMycpO1xuICAgICAgIC8vICAgbGV0dGVyTGltaXRJbnB1dC5jbGVhcigpO1xuICAgICAgIC8vICAgbGV0dGVyTGltaXRJbnB1dC5zZW5kS2V5cygnLTMnKTtcbiAgICAgICAvLyAgIGxvbmdOdW1iZXJMaW1pdElucHV0LmNsZWFyKCk7XG4gICAgICAgLy8gICBsb25nTnVtYmVyTGltaXRJbnB1dC5zZW5kS2V5cygnLTMnKTtcbiAgICAgICAvLyAgIGV4cGVjdChsaW1pdGVkTnVtYmVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBudW1iZXJzOiBbNyw4LDldJyk7XG4gICAgICAgLy8gICBleHBlY3QobGltaXRlZExldHRlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbGV0dGVyczogZ2hpJyk7XG4gICAgICAgLy8gICBleHBlY3QobGltaXRlZExvbmdOdW1iZXIuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbG9uZyBudW1iZXI6IDM0MicpO1xuICAgICAgIC8vIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBub3QgZXhjZWVkIHRoZSBtYXhpbXVtIHNpemUgb2YgaW5wdXQgYXJyYXknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIG51bUxpbWl0SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgIG51bUxpbWl0SW5wdXQuc2VuZEtleXMoJzEwMCcpO1xuICAgICAgICAgbGV0dGVyTGltaXRJbnB1dC5jbGVhcigpO1xuICAgICAgICAgbGV0dGVyTGltaXRJbnB1dC5zZW5kS2V5cygnMTAwJyk7XG4gICAgICAgICBsb25nTnVtYmVyTGltaXRJbnB1dC5jbGVhcigpO1xuICAgICAgICAgbG9uZ051bWJlckxpbWl0SW5wdXQuc2VuZEtleXMoJzEwMCcpO1xuICAgICAgICAgZXhwZWN0KGxpbWl0ZWROdW1iZXJzLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IG51bWJlcnM6IFsxLDIsMyw0LDUsNiw3LDgsOV0nKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTGV0dGVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsZXR0ZXJzOiBhYmNkZWZnaGknKTtcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTG9uZ051bWJlci5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsb25nIG51bWJlcjogMjM0NTQzMjM0MicpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4qL1xuZnVuY3Rpb24gbGltaXRUb0ZpbHRlcigpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0LCBsaW1pdCkge1xuICAgIGlmIChpc051bWJlcihpbnB1dCkpIGlucHV0ID0gaW5wdXQudG9TdHJpbmcoKTtcbiAgICBpZiAoIWlzQXJyYXkoaW5wdXQpICYmICFpc1N0cmluZyhpbnB1dCkpIHJldHVybiBpbnB1dDtcblxuICAgIGlmIChNYXRoLmFicyhOdW1iZXIobGltaXQpKSA9PT0gSW5maW5pdHkpIHtcbiAgICAgIGxpbWl0ID0gTnVtYmVyKGxpbWl0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGltaXQgPSBpbnQobGltaXQpO1xuICAgIH1cblxuICAgIGlmIChpc1N0cmluZyhpbnB1dCkpIHtcbiAgICAgIC8vTmFOIGNoZWNrIG9uIGxpbWl0XG4gICAgICBpZiAobGltaXQpIHtcbiAgICAgICAgcmV0dXJuIGxpbWl0ID49IDAgPyBpbnB1dC5zbGljZSgwLCBsaW1pdCkgOiBpbnB1dC5zbGljZShsaW1pdCwgaW5wdXQubGVuZ3RoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBvdXQgPSBbXSxcbiAgICAgIGksIG47XG5cbiAgICAvLyBpZiBhYnMobGltaXQpIGV4Y2VlZHMgbWF4aW11bSBsZW5ndGgsIHRyaW0gaXRcbiAgICBpZiAobGltaXQgPiBpbnB1dC5sZW5ndGgpXG4gICAgICBsaW1pdCA9IGlucHV0Lmxlbmd0aDtcbiAgICBlbHNlIGlmIChsaW1pdCA8IC1pbnB1dC5sZW5ndGgpXG4gICAgICBsaW1pdCA9IC1pbnB1dC5sZW5ndGg7XG5cbiAgICBpZiAobGltaXQgPiAwKSB7XG4gICAgICBpID0gMDtcbiAgICAgIG4gPSBsaW1pdDtcbiAgICB9IGVsc2Uge1xuICAgICAgaSA9IGlucHV0Lmxlbmd0aCArIGxpbWl0O1xuICAgICAgbiA9IGlucHV0Lmxlbmd0aDtcbiAgICB9XG5cbiAgICBmb3IgKDsgaTxuOyBpKyspIHtcbiAgICAgIG91dC5wdXNoKGlucHV0W2ldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0O1xuICB9O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIG9yZGVyQnlcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBPcmRlcnMgYSBzcGVjaWZpZWQgYGFycmF5YCBieSB0aGUgYGV4cHJlc3Npb25gIHByZWRpY2F0ZS4gSXQgaXMgb3JkZXJlZCBhbHBoYWJldGljYWxseVxuICogZm9yIHN0cmluZ3MgYW5kIG51bWVyaWNhbGx5IGZvciBudW1iZXJzLiBOb3RlOiBpZiB5b3Ugbm90aWNlIG51bWJlcnMgYXJlIG5vdCBiZWluZyBzb3J0ZWRcbiAqIGNvcnJlY3RseSwgbWFrZSBzdXJlIHRoZXkgYXJlIGFjdHVhbGx5IGJlaW5nIHNhdmVkIGFzIG51bWJlcnMgYW5kIG5vdCBzdHJpbmdzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzb3J0LlxuICogQHBhcmFtIHtmdW5jdGlvbigqKXxzdHJpbmd8QXJyYXkuPChmdW5jdGlvbigqKXxzdHJpbmcpPj19IGV4cHJlc3Npb24gQSBwcmVkaWNhdGUgdG8gYmVcbiAqICAgIHVzZWQgYnkgdGhlIGNvbXBhcmF0b3IgdG8gZGV0ZXJtaW5lIHRoZSBvcmRlciBvZiBlbGVtZW50cy5cbiAqXG4gKiAgICBDYW4gYmUgb25lIG9mOlxuICpcbiAqICAgIC0gYGZ1bmN0aW9uYDogR2V0dGVyIGZ1bmN0aW9uLiBUaGUgcmVzdWx0IG9mIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSBzb3J0ZWQgdXNpbmcgdGhlXG4gKiAgICAgIGA8YCwgYD1gLCBgPmAgb3BlcmF0b3IuXG4gKiAgICAtIGBzdHJpbmdgOiBBbiBBbmd1bGFyIGV4cHJlc3Npb24uIFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIGlzIHVzZWQgdG8gY29tcGFyZSBlbGVtZW50c1xuICogICAgICAoZm9yIGV4YW1wbGUgYG5hbWVgIHRvIHNvcnQgYnkgYSBwcm9wZXJ0eSBjYWxsZWQgYG5hbWVgIG9yIGBuYW1lLnN1YnN0cigwLCAzKWAgdG8gc29ydCBieVxuICogICAgICAzIGZpcnN0IGNoYXJhY3RlcnMgb2YgYSBwcm9wZXJ0eSBjYWxsZWQgYG5hbWVgKS4gVGhlIHJlc3VsdCBvZiBhIGNvbnN0YW50IGV4cHJlc3Npb25cbiAqICAgICAgaXMgaW50ZXJwcmV0ZWQgYXMgYSBwcm9wZXJ0eSBuYW1lIHRvIGJlIHVzZWQgaW4gY29tcGFyaXNvbnMgKGZvciBleGFtcGxlIGBcInNwZWNpYWwgbmFtZVwiYFxuICogICAgICB0byBzb3J0IG9iamVjdCBieSB0aGUgdmFsdWUgb2YgdGhlaXIgYHNwZWNpYWwgbmFtZWAgcHJvcGVydHkpLiBBbiBleHByZXNzaW9uIGNhbiBiZVxuICogICAgICBvcHRpb25hbGx5IHByZWZpeGVkIHdpdGggYCtgIG9yIGAtYCB0byBjb250cm9sIGFzY2VuZGluZyBvciBkZXNjZW5kaW5nIHNvcnQgb3JkZXJcbiAqICAgICAgKGZvciBleGFtcGxlLCBgK25hbWVgIG9yIGAtbmFtZWApLiBJZiBubyBwcm9wZXJ0eSBpcyBwcm92aWRlZCwgKGUuZy4gYCcrJ2ApIHRoZW4gdGhlIGFycmF5XG4gKiAgICAgIGVsZW1lbnQgaXRzZWxmIGlzIHVzZWQgdG8gY29tcGFyZSB3aGVyZSBzb3J0aW5nLlxuICogICAgLSBgQXJyYXlgOiBBbiBhcnJheSBvZiBmdW5jdGlvbiBvciBzdHJpbmcgcHJlZGljYXRlcy4gVGhlIGZpcnN0IHByZWRpY2F0ZSBpbiB0aGUgYXJyYXlcbiAqICAgICAgaXMgdXNlZCBmb3Igc29ydGluZywgYnV0IHdoZW4gdHdvIGl0ZW1zIGFyZSBlcXVpdmFsZW50LCB0aGUgbmV4dCBwcmVkaWNhdGUgaXMgdXNlZC5cbiAqXG4gKiAgICBJZiB0aGUgcHJlZGljYXRlIGlzIG1pc3Npbmcgb3IgZW1wdHkgdGhlbiBpdCBkZWZhdWx0cyB0byBgJysnYC5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSByZXZlcnNlIFJldmVyc2UgdGhlIG9yZGVyIG9mIHRoZSBhcnJheS5cbiAqIEByZXR1cm5zIHtBcnJheX0gU29ydGVkIGNvcHkgb2YgdGhlIHNvdXJjZSBhcnJheS5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwib3JkZXJCeUV4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ29yZGVyQnlFeGFtcGxlJywgW10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgJHNjb3BlLmZyaWVuZHMgPVxuICAgICAgICAgICAgICAgICBbe25hbWU6J0pvaG4nLCBwaG9uZTonNTU1LTEyMTInLCBhZ2U6MTB9LFxuICAgICAgICAgICAgICAgICAge25hbWU6J01hcnknLCBwaG9uZTonNTU1LTk4NzYnLCBhZ2U6MTl9LFxuICAgICAgICAgICAgICAgICAge25hbWU6J01pa2UnLCBwaG9uZTonNTU1LTQzMjEnLCBhZ2U6MjF9LFxuICAgICAgICAgICAgICAgICAge25hbWU6J0FkYW0nLCBwaG9uZTonNTU1LTU2NzgnLCBhZ2U6MzV9LFxuICAgICAgICAgICAgICAgICAge25hbWU6J0p1bGllJywgcGhvbmU6JzU1NS04NzY1JywgYWdlOjI5fV07XG4gICAgICAgICAgICAgJHNjb3BlLnByZWRpY2F0ZSA9ICctYWdlJztcbiAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8cHJlPlNvcnRpbmcgcHJlZGljYXRlID0ge3twcmVkaWNhdGV9fTsgcmV2ZXJzZSA9IHt7cmV2ZXJzZX19PC9wcmU+XG4gICAgICAgICA8aHIvPlxuICAgICAgICAgWyA8YSBocmVmPVwiXCIgbmctY2xpY2s9XCJwcmVkaWNhdGU9JydcIj51bnNvcnRlZDwvYT4gXVxuICAgICAgICAgPHRhYmxlIGNsYXNzPVwiZnJpZW5kXCI+XG4gICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICA8dGg+PGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwicHJlZGljYXRlID0gJ25hbWUnOyByZXZlcnNlPWZhbHNlXCI+TmFtZTwvYT5cbiAgICAgICAgICAgICAgICAgKDxhIGhyZWY9XCJcIiBuZy1jbGljaz1cInByZWRpY2F0ZSA9ICctbmFtZSc7IHJldmVyc2U9ZmFsc2VcIj5ePC9hPik8L3RoPlxuICAgICAgICAgICAgIDx0aD48YSBocmVmPVwiXCIgbmctY2xpY2s9XCJwcmVkaWNhdGUgPSAncGhvbmUnOyByZXZlcnNlPSFyZXZlcnNlXCI+UGhvbmUgTnVtYmVyPC9hPjwvdGg+XG4gICAgICAgICAgICAgPHRoPjxhIGhyZWY9XCJcIiBuZy1jbGljaz1cInByZWRpY2F0ZSA9ICdhZ2UnOyByZXZlcnNlPSFyZXZlcnNlXCI+QWdlPC9hPjwvdGg+XG4gICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmQgaW4gZnJpZW5kcyB8IG9yZGVyQnk6cHJlZGljYXRlOnJldmVyc2VcIj5cbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQubmFtZX19PC90ZD5cbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQucGhvbmV9fTwvdGQ+XG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLmFnZX19PC90ZD5cbiAgICAgICAgICAgPC90cj5cbiAgICAgICAgIDwvdGFibGU+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqXG4gKiBJdCdzIGFsc28gcG9zc2libGUgdG8gY2FsbCB0aGUgb3JkZXJCeSBmaWx0ZXIgbWFudWFsbHksIGJ5IGluamVjdGluZyBgJGZpbHRlcmAsIHJldHJpZXZpbmcgdGhlXG4gKiBmaWx0ZXIgcm91dGluZSB3aXRoIGAkZmlsdGVyKCdvcmRlckJ5JylgLCBhbmQgY2FsbGluZyB0aGUgcmV0dXJuZWQgZmlsdGVyIHJvdXRpbmUgd2l0aCB0aGVcbiAqIGRlc2lyZWQgcGFyYW1ldGVycy5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIEBleGFtcGxlXG4gIDxleGFtcGxlIG1vZHVsZT1cIm9yZGVyQnlFeGFtcGxlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgIDx0YWJsZSBjbGFzcz1cImZyaWVuZFwiPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0aD48YSBocmVmPVwiXCIgbmctY2xpY2s9XCJyZXZlcnNlPWZhbHNlO29yZGVyKCduYW1lJywgZmFsc2UpXCI+TmFtZTwvYT5cbiAgICAgICAgICAgICAgKDxhIGhyZWY9XCJcIiBuZy1jbGljaz1cIm9yZGVyKCctbmFtZScsZmFsc2UpXCI+XjwvYT4pPC90aD5cbiAgICAgICAgICAgIDx0aD48YSBocmVmPVwiXCIgbmctY2xpY2s9XCJyZXZlcnNlPSFyZXZlcnNlO29yZGVyKCdwaG9uZScsIHJldmVyc2UpXCI+UGhvbmUgTnVtYmVyPC9hPjwvdGg+XG4gICAgICAgICAgICA8dGg+PGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwicmV2ZXJzZT0hcmV2ZXJzZTtvcmRlcignYWdlJyxyZXZlcnNlKVwiPkFnZTwvYT48L3RoPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyIG5nLXJlcGVhdD1cImZyaWVuZCBpbiBmcmllbmRzXCI+XG4gICAgICAgICAgICA8dGQ+e3tmcmllbmQubmFtZX19PC90ZD5cbiAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5waG9uZX19PC90ZD5cbiAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5hZ2V9fTwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cblxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdvcmRlckJ5RXhhbXBsZScsIFtdKVxuICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckZmlsdGVyJywgZnVuY3Rpb24oJHNjb3BlLCAkZmlsdGVyKSB7XG4gICAgICAgICAgdmFyIG9yZGVyQnkgPSAkZmlsdGVyKCdvcmRlckJ5Jyk7XG4gICAgICAgICAgJHNjb3BlLmZyaWVuZHMgPSBbXG4gICAgICAgICAgICB7IG5hbWU6ICdKb2huJywgICAgcGhvbmU6ICc1NTUtMTIxMicsICAgIGFnZTogMTAgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ01hcnknLCAgICBwaG9uZTogJzU1NS05ODc2JywgICAgYWdlOiAxOSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnTWlrZScsICAgIHBob25lOiAnNTU1LTQzMjEnLCAgICBhZ2U6IDIxIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdBZGFtJywgICAgcGhvbmU6ICc1NTUtNTY3OCcsICAgIGFnZTogMzUgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ0p1bGllJywgICBwaG9uZTogJzU1NS04NzY1JywgICAgYWdlOiAyOSB9XG4gICAgICAgICAgXTtcbiAgICAgICAgICAkc2NvcGUub3JkZXIgPSBmdW5jdGlvbihwcmVkaWNhdGUsIHJldmVyc2UpIHtcbiAgICAgICAgICAgICRzY29wZS5mcmllbmRzID0gb3JkZXJCeSgkc2NvcGUuZnJpZW5kcywgcHJlZGljYXRlLCByZXZlcnNlKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgICRzY29wZS5vcmRlcignLWFnZScsZmFsc2UpO1xuICAgICAgICB9XSk7XG4gICAgPC9maWxlPlxuPC9leGFtcGxlPlxuICovXG5vcmRlckJ5RmlsdGVyLiRpbmplY3QgPSBbJyRwYXJzZSddO1xuZnVuY3Rpb24gb3JkZXJCeUZpbHRlcigkcGFyc2UpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBzb3J0UHJlZGljYXRlLCByZXZlcnNlT3JkZXIpIHtcbiAgICBpZiAoIShpc0FycmF5TGlrZShhcnJheSkpKSByZXR1cm4gYXJyYXk7XG4gICAgc29ydFByZWRpY2F0ZSA9IGlzQXJyYXkoc29ydFByZWRpY2F0ZSkgPyBzb3J0UHJlZGljYXRlOiBbc29ydFByZWRpY2F0ZV07XG4gICAgaWYgKHNvcnRQcmVkaWNhdGUubGVuZ3RoID09PSAwKSB7IHNvcnRQcmVkaWNhdGUgPSBbJysnXTsgfVxuICAgIHNvcnRQcmVkaWNhdGUgPSBzb3J0UHJlZGljYXRlLm1hcChmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBkZXNjZW5kaW5nID0gZmFsc2UsIGdldCA9IHByZWRpY2F0ZSB8fCBpZGVudGl0eTtcbiAgICAgIGlmIChpc1N0cmluZyhwcmVkaWNhdGUpKSB7XG4gICAgICAgIGlmICgocHJlZGljYXRlLmNoYXJBdCgwKSA9PSAnKycgfHwgcHJlZGljYXRlLmNoYXJBdCgwKSA9PSAnLScpKSB7XG4gICAgICAgICAgZGVzY2VuZGluZyA9IHByZWRpY2F0ZS5jaGFyQXQoMCkgPT0gJy0nO1xuICAgICAgICAgIHByZWRpY2F0ZSA9IHByZWRpY2F0ZS5zdWJzdHJpbmcoMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZWRpY2F0ZSA9PT0gJycpIHtcbiAgICAgICAgICAvLyBFZmZlY3RpdmVseSBubyBwcmVkaWNhdGUgd2FzIHBhc3NlZCBzbyB3ZSBjb21wYXJlIGlkZW50aXR5XG4gICAgICAgICAgcmV0dXJuIHJldmVyc2VDb21wYXJhdG9yKGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wYXJlKGEsIGIpO1xuICAgICAgICAgIH0sIGRlc2NlbmRpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGdldCA9ICRwYXJzZShwcmVkaWNhdGUpO1xuICAgICAgICBpZiAoZ2V0LmNvbnN0YW50KSB7XG4gICAgICAgICAgdmFyIGtleSA9IGdldCgpO1xuICAgICAgICAgIHJldHVybiByZXZlcnNlQ29tcGFyYXRvcihmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcGFyZShhW2tleV0sIGJba2V5XSk7XG4gICAgICAgICAgfSwgZGVzY2VuZGluZyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXZlcnNlQ29tcGFyYXRvcihmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIHJldHVybiBjb21wYXJlKGdldChhKSxnZXQoYikpO1xuICAgICAgfSwgZGVzY2VuZGluZyk7XG4gICAgfSk7XG4gICAgdmFyIGFycmF5Q29weSA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHsgYXJyYXlDb3B5LnB1c2goYXJyYXlbaV0pOyB9XG4gICAgcmV0dXJuIGFycmF5Q29weS5zb3J0KHJldmVyc2VDb21wYXJhdG9yKGNvbXBhcmF0b3IsIHJldmVyc2VPcmRlcikpO1xuXG4gICAgZnVuY3Rpb24gY29tcGFyYXRvcihvMSwgbzIpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc29ydFByZWRpY2F0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY29tcCA9IHNvcnRQcmVkaWNhdGVbaV0obzEsIG8yKTtcbiAgICAgICAgaWYgKGNvbXAgIT09IDApIHJldHVybiBjb21wO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJldmVyc2VDb21wYXJhdG9yKGNvbXAsIGRlc2NlbmRpbmcpIHtcbiAgICAgIHJldHVybiBkZXNjZW5kaW5nXG4gICAgICAgICAgPyBmdW5jdGlvbihhLCBiKSB7cmV0dXJuIGNvbXAoYixhKTt9XG4gICAgICAgICAgOiBjb21wO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21wYXJlKHYxLCB2Mikge1xuICAgICAgdmFyIHQxID0gdHlwZW9mIHYxO1xuICAgICAgdmFyIHQyID0gdHlwZW9mIHYyO1xuICAgICAgaWYgKHQxID09IHQyKSB7XG4gICAgICAgIGlmIChpc0RhdGUodjEpICYmIGlzRGF0ZSh2MikpIHtcbiAgICAgICAgICB2MSA9IHYxLnZhbHVlT2YoKTtcbiAgICAgICAgICB2MiA9IHYyLnZhbHVlT2YoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodDEgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICB2MSA9IHYxLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgIHYyID0gdjIudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodjEgPT09IHYyKSByZXR1cm4gMDtcbiAgICAgICAgcmV0dXJuIHYxIDwgdjIgPyAtMSA6IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdDEgPCB0MiA/IC0xIDogMTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIG5nRGlyZWN0aXZlKGRpcmVjdGl2ZSkge1xuICBpZiAoaXNGdW5jdGlvbihkaXJlY3RpdmUpKSB7XG4gICAgZGlyZWN0aXZlID0ge1xuICAgICAgbGluazogZGlyZWN0aXZlXG4gICAgfTtcbiAgfVxuICBkaXJlY3RpdmUucmVzdHJpY3QgPSBkaXJlY3RpdmUucmVzdHJpY3QgfHwgJ0FDJztcbiAgcmV0dXJuIHZhbHVlRm4oZGlyZWN0aXZlKTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBhXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogTW9kaWZpZXMgdGhlIGRlZmF1bHQgYmVoYXZpb3Igb2YgdGhlIGh0bWwgQSB0YWcgc28gdGhhdCB0aGUgZGVmYXVsdCBhY3Rpb24gaXMgcHJldmVudGVkIHdoZW5cbiAqIHRoZSBocmVmIGF0dHJpYnV0ZSBpcyBlbXB0eS5cbiAqXG4gKiBUaGlzIGNoYW5nZSBwZXJtaXRzIHRoZSBlYXN5IGNyZWF0aW9uIG9mIGFjdGlvbiBsaW5rcyB3aXRoIHRoZSBgbmdDbGlja2AgZGlyZWN0aXZlXG4gKiB3aXRob3V0IGNoYW5naW5nIHRoZSBsb2NhdGlvbiBvciBjYXVzaW5nIHBhZ2UgcmVsb2FkcywgZS5nLjpcbiAqIGA8YSBocmVmPVwiXCIgbmctY2xpY2s9XCJsaXN0LmFkZEl0ZW0oKVwiPkFkZCBJdGVtPC9hPmBcbiAqL1xudmFyIGh0bWxBbmNob3JEaXJlY3RpdmUgPSB2YWx1ZUZuKHtcbiAgcmVzdHJpY3Q6ICdFJyxcbiAgY29tcGlsZTogZnVuY3Rpb24oZWxlbWVudCwgYXR0cikge1xuICAgIGlmICghYXR0ci5ocmVmICYmICFhdHRyLnhsaW5rSHJlZiAmJiAhYXR0ci5uYW1lKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgICAgLy8gU1ZHQUVsZW1lbnQgZG9lcyBub3QgdXNlIHRoZSBocmVmIGF0dHJpYnV0ZSwgYnV0IHJhdGhlciB0aGUgJ3hsaW5rSHJlZicgYXR0cmlidXRlLlxuICAgICAgICB2YXIgaHJlZiA9IHRvU3RyaW5nLmNhbGwoZWxlbWVudC5wcm9wKCdocmVmJykpID09PSAnW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ10nID9cbiAgICAgICAgICAgICAgICAgICAneGxpbms6aHJlZicgOiAnaHJlZic7XG4gICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAvLyBpZiB3ZSBoYXZlIG5vIGhyZWYgdXJsLCB0aGVuIGRvbid0IG5hdmlnYXRlIGFueXdoZXJlLlxuICAgICAgICAgIGlmICghZWxlbWVudC5hdHRyKGhyZWYpKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfVxufSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdIcmVmXG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDk5XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2luZyBBbmd1bGFyIG1hcmt1cCBsaWtlIGB7e2hhc2h9fWAgaW4gYW4gaHJlZiBhdHRyaWJ1dGUgd2lsbFxuICogbWFrZSB0aGUgbGluayBnbyB0byB0aGUgd3JvbmcgVVJMIGlmIHRoZSB1c2VyIGNsaWNrcyBpdCBiZWZvcmVcbiAqIEFuZ3VsYXIgaGFzIGEgY2hhbmNlIHRvIHJlcGxhY2UgdGhlIGB7e2hhc2h9fWAgbWFya3VwIHdpdGggaXRzXG4gKiB2YWx1ZS4gVW50aWwgQW5ndWxhciByZXBsYWNlcyB0aGUgbWFya3VwIHRoZSBsaW5rIHdpbGwgYmUgYnJva2VuXG4gKiBhbmQgd2lsbCBtb3N0IGxpa2VseSByZXR1cm4gYSA0MDQgZXJyb3IuXG4gKlxuICogVGhlIGBuZ0hyZWZgIGRpcmVjdGl2ZSBzb2x2ZXMgdGhpcyBwcm9ibGVtLlxuICpcbiAqIFRoZSB3cm9uZyB3YXkgdG8gd3JpdGUgaXQ6XG4gKiBgYGBodG1sXG4gKiA8YSBocmVmPVwiaHR0cDovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyL3t7aGFzaH19XCI+bGluazE8L2E+XG4gKiBgYGBcbiAqXG4gKiBUaGUgY29ycmVjdCB3YXkgdG8gd3JpdGUgaXQ6XG4gKiBgYGBodG1sXG4gKiA8YSBuZy1ocmVmPVwiaHR0cDovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyL3t7aGFzaH19XCI+bGluazE8L2E+XG4gKiBgYGBcbiAqXG4gKiBAZWxlbWVudCBBXG4gKiBAcGFyYW0ge3RlbXBsYXRlfSBuZ0hyZWYgYW55IHN0cmluZyB3aGljaCBjYW4gY29udGFpbiBge3t9fWAgbWFya3VwLlxuICpcbiAqIEBleGFtcGxlXG4gKiBUaGlzIGV4YW1wbGUgc2hvd3MgdmFyaW91cyBjb21iaW5hdGlvbnMgb2YgYGhyZWZgLCBgbmctaHJlZmAgYW5kIGBuZy1jbGlja2AgYXR0cmlidXRlc1xuICogaW4gbGlua3MgYW5kIHRoZWlyIGRpZmZlcmVudCBiZWhhdmlvcnM6XG4gICAgPGV4YW1wbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJ2YWx1ZVwiIC8+PGJyIC8+XG4gICAgICAgIDxhIGlkPVwibGluay0xXCIgaHJlZiBuZy1jbGljaz1cInZhbHVlID0gMVwiPmxpbmsgMTwvYT4gKGxpbmssIGRvbid0IHJlbG9hZCk8YnIgLz5cbiAgICAgICAgPGEgaWQ9XCJsaW5rLTJcIiBocmVmPVwiXCIgbmctY2xpY2s9XCJ2YWx1ZSA9IDJcIj5saW5rIDI8L2E+IChsaW5rLCBkb24ndCByZWxvYWQpPGJyIC8+XG4gICAgICAgIDxhIGlkPVwibGluay0zXCIgbmctaHJlZj1cIi97eycxMjMnfX1cIj5saW5rIDM8L2E+IChsaW5rLCByZWxvYWQhKTxiciAvPlxuICAgICAgICA8YSBpZD1cImxpbmstNFwiIGhyZWY9XCJcIiBuYW1lPVwieHhcIiBuZy1jbGljaz1cInZhbHVlID0gNFwiPmFuY2hvcjwvYT4gKGxpbmssIGRvbid0IHJlbG9hZCk8YnIgLz5cbiAgICAgICAgPGEgaWQ9XCJsaW5rLTVcIiBuYW1lPVwieHh4XCIgbmctY2xpY2s9XCJ2YWx1ZSA9IDVcIj5hbmNob3I8L2E+IChubyBsaW5rKTxiciAvPlxuICAgICAgICA8YSBpZD1cImxpbmstNlwiIG5nLWhyZWY9XCJ7e3ZhbHVlfX1cIj5saW5rPC9hPiAobGluaywgY2hhbmdlIGxvY2F0aW9uKVxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgbmctY2xpY2sgYnV0IG5vdCByZWxvYWQgd2hlbiBocmVmIHdpdGhvdXQgdmFsdWUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbGVtZW50KGJ5LmlkKCdsaW5rLTEnKSkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCcxJyk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstMScpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9CZSgnJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBuZy1jbGljayBidXQgbm90IHJlbG9hZCB3aGVuIGhyZWYgZW1wdHkgc3RyaW5nJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay0yJykpLmNsaWNrKCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9FcXVhbCgnMicpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5rLTInKSkuZ2V0QXR0cmlidXRlKCdocmVmJykpLnRvQmUoJycpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgbmctY2xpY2sgYW5kIGNoYW5nZSB1cmwgd2hlbiBuZy1ocmVmIHNwZWNpZmllZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5rLTMnKSkuZ2V0QXR0cmlidXRlKCdocmVmJykpLnRvTWF0Y2goL1xcLzEyMyQvKTtcblxuICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstMycpKS5jbGljaygpO1xuXG4gICAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgd2UgbmF2aWdhdGUgYXdheSBmcm9tIGFuIEFuZ3VsYXIgcGFnZSwgc28gd2UgbmVlZFxuICAgICAgICAgIC8vIHRvIHVzZSBicm93c2VyLmRyaXZlciB0byBnZXQgdGhlIGJhc2Ugd2ViZHJpdmVyLlxuXG4gICAgICAgICAgYnJvd3Nlci53YWl0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGJyb3dzZXIuZHJpdmVyLmdldEN1cnJlbnRVcmwoKS50aGVuKGZ1bmN0aW9uKHVybCkge1xuICAgICAgICAgICAgICByZXR1cm4gdXJsLm1hdGNoKC9cXC8xMjMkLyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LCA1MDAwLCAncGFnZSBzaG91bGQgbmF2aWdhdGUgdG8gLzEyMycpO1xuICAgICAgICB9KTtcblxuICAgICAgICB4aXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGJ1dCBub3QgcmVsb2FkIHdoZW4gaHJlZiBlbXB0eSBzdHJpbmcgYW5kIG5hbWUgc3BlY2lmaWVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay00JykpLmNsaWNrKCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9FcXVhbCgnNCcpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5rLTQnKSkuZ2V0QXR0cmlidXRlKCdocmVmJykpLnRvQmUoJycpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgbmctY2xpY2sgYnV0IG5vdCByZWxvYWQgd2hlbiBubyBocmVmIGJ1dCBuYW1lIHNwZWNpZmllZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstNScpKS5jbGljaygpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJzUnKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay01JykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b0JlKG51bGwpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIG9ubHkgY2hhbmdlIHVybCB3aGVuIG9ubHkgbmctaHJlZicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLmNsZWFyKCk7XG4gICAgICAgICAgZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuc2VuZEtleXMoJzYnKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay02JykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b01hdGNoKC9cXC82JC8pO1xuXG4gICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay02JykpLmNsaWNrKCk7XG5cbiAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCB3ZSBuYXZpZ2F0ZSBhd2F5IGZyb20gYW4gQW5ndWxhciBwYWdlLCBzbyB3ZSBuZWVkXG4gICAgICAgICAgLy8gdG8gdXNlIGJyb3dzZXIuZHJpdmVyIHRvIGdldCB0aGUgYmFzZSB3ZWJkcml2ZXIuXG4gICAgICAgICAgYnJvd3Nlci53YWl0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGJyb3dzZXIuZHJpdmVyLmdldEN1cnJlbnRVcmwoKS50aGVuKGZ1bmN0aW9uKHVybCkge1xuICAgICAgICAgICAgICByZXR1cm4gdXJsLm1hdGNoKC9cXC82JC8pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSwgNTAwMCwgJ3BhZ2Ugc2hvdWxkIG5hdmlnYXRlIHRvIC82Jyk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nU3JjXG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDk5XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2luZyBBbmd1bGFyIG1hcmt1cCBsaWtlIGB7e2hhc2h9fWAgaW4gYSBgc3JjYCBhdHRyaWJ1dGUgZG9lc24ndFxuICogd29yayByaWdodDogVGhlIGJyb3dzZXIgd2lsbCBmZXRjaCBmcm9tIHRoZSBVUkwgd2l0aCB0aGUgbGl0ZXJhbFxuICogdGV4dCBge3toYXNofX1gIHVudGlsIEFuZ3VsYXIgcmVwbGFjZXMgdGhlIGV4cHJlc3Npb24gaW5zaWRlXG4gKiBge3toYXNofX1gLiBUaGUgYG5nU3JjYCBkaXJlY3RpdmUgc29sdmVzIHRoaXMgcHJvYmxlbS5cbiAqXG4gKiBUaGUgYnVnZ3kgd2F5IHRvIHdyaXRlIGl0OlxuICogYGBgaHRtbFxuICogPGltZyBzcmM9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX1cIi8+XG4gKiBgYGBcbiAqXG4gKiBUaGUgY29ycmVjdCB3YXkgdG8gd3JpdGUgaXQ6XG4gKiBgYGBodG1sXG4gKiA8aW1nIG5nLXNyYz1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fVwiLz5cbiAqIGBgYFxuICpcbiAqIEBlbGVtZW50IElNR1xuICogQHBhcmFtIHt0ZW1wbGF0ZX0gbmdTcmMgYW55IHN0cmluZyB3aGljaCBjYW4gY29udGFpbiBge3t9fWAgbWFya3VwLlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdTcmNzZXRcbiAqIEByZXN0cmljdCBBXG4gKiBAcHJpb3JpdHkgOTlcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzaW5nIEFuZ3VsYXIgbWFya3VwIGxpa2UgYHt7aGFzaH19YCBpbiBhIGBzcmNzZXRgIGF0dHJpYnV0ZSBkb2Vzbid0XG4gKiB3b3JrIHJpZ2h0OiBUaGUgYnJvd3NlciB3aWxsIGZldGNoIGZyb20gdGhlIFVSTCB3aXRoIHRoZSBsaXRlcmFsXG4gKiB0ZXh0IGB7e2hhc2h9fWAgdW50aWwgQW5ndWxhciByZXBsYWNlcyB0aGUgZXhwcmVzc2lvbiBpbnNpZGVcbiAqIGB7e2hhc2h9fWAuIFRoZSBgbmdTcmNzZXRgIGRpcmVjdGl2ZSBzb2x2ZXMgdGhpcyBwcm9ibGVtLlxuICpcbiAqIFRoZSBidWdneSB3YXkgdG8gd3JpdGUgaXQ6XG4gKiBgYGBodG1sXG4gKiA8aW1nIHNyY3NldD1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fSAyeFwiLz5cbiAqIGBgYFxuICpcbiAqIFRoZSBjb3JyZWN0IHdheSB0byB3cml0ZSBpdDpcbiAqIGBgYGh0bWxcbiAqIDxpbWcgbmctc3Jjc2V0PVwiaHR0cDovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyL3t7aGFzaH19IDJ4XCIvPlxuICogYGBgXG4gKlxuICogQGVsZW1lbnQgSU1HXG4gKiBAcGFyYW0ge3RlbXBsYXRlfSBuZ1NyY3NldCBhbnkgc3RyaW5nIHdoaWNoIGNhbiBjb250YWluIGB7e319YCBtYXJrdXAuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0Rpc2FibGVkXG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDEwMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFdlIHNob3VsZG4ndCBkbyB0aGlzLCBiZWNhdXNlIGl0IHdpbGwgbWFrZSB0aGUgYnV0dG9uIGVuYWJsZWQgb24gQ2hyb21lL0ZpcmVmb3ggYnV0IG5vdCBvbiBJRTggYW5kIG9sZGVyIElFczpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgbmctaW5pdD1cInNjb3BlID0geyBpc0Rpc2FibGVkOiBmYWxzZSB9XCI+XG4gKiAgPGJ1dHRvbiBkaXNhYmxlZD1cInt7c2NvcGUuaXNEaXNhYmxlZH19XCI+RGlzYWJsZWQ8L2J1dHRvbj5cbiAqIDwvZGl2PlxuICogYGBgXG4gKlxuICogVGhlIEhUTUwgc3BlY2lmaWNhdGlvbiBkb2VzIG5vdCByZXF1aXJlIGJyb3dzZXJzIHRvIHByZXNlcnZlIHRoZSB2YWx1ZXMgb2YgYm9vbGVhbiBhdHRyaWJ1dGVzXG4gKiBzdWNoIGFzIGRpc2FibGVkLiAoVGhlaXIgcHJlc2VuY2UgbWVhbnMgdHJ1ZSBhbmQgdGhlaXIgYWJzZW5jZSBtZWFucyBmYWxzZS4pXG4gKiBJZiB3ZSBwdXQgYW4gQW5ndWxhciBpbnRlcnBvbGF0aW9uIGV4cHJlc3Npb24gaW50byBzdWNoIGFuIGF0dHJpYnV0ZSB0aGVuIHRoZVxuICogYmluZGluZyBpbmZvcm1hdGlvbiB3b3VsZCBiZSBsb3N0IHdoZW4gdGhlIGJyb3dzZXIgcmVtb3ZlcyB0aGUgYXR0cmlidXRlLlxuICogVGhlIGBuZ0Rpc2FibGVkYCBkaXJlY3RpdmUgc29sdmVzIHRoaXMgcHJvYmxlbSBmb3IgdGhlIGBkaXNhYmxlZGAgYXR0cmlidXRlLlxuICogVGhpcyBjb21wbGVtZW50YXJ5IGRpcmVjdGl2ZSBpcyBub3QgcmVtb3ZlZCBieSB0aGUgYnJvd3NlciBhbmQgc28gcHJvdmlkZXNcbiAqIGEgcGVybWFuZW50IHJlbGlhYmxlIHBsYWNlIHRvIHN0b3JlIHRoZSBiaW5kaW5nIGluZm9ybWF0aW9uLlxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICBDbGljayBtZSB0byB0b2dnbGU6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrZWRcIj48YnIvPlxuICAgICAgICA8YnV0dG9uIG5nLW1vZGVsPVwiYnV0dG9uXCIgbmctZGlzYWJsZWQ9XCJjaGVja2VkXCI+QnV0dG9uPC9idXR0b24+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIGl0KCdzaG91bGQgdG9nZ2xlIGJ1dHRvbicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnYnV0dG9uJykpLmdldEF0dHJpYnV0ZSgnZGlzYWJsZWQnKSkudG9CZUZhbHN5KCk7XG4gICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnY2hlY2tlZCcpKS5jbGljaygpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnYnV0dG9uJykpLmdldEF0dHJpYnV0ZSgnZGlzYWJsZWQnKSkudG9CZVRydXRoeSgpO1xuICAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKlxuICogQGVsZW1lbnQgSU5QVVRcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdEaXNhYmxlZCBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxuICogICAgIHRoZW4gc3BlY2lhbCBhdHRyaWJ1dGUgXCJkaXNhYmxlZFwiIHdpbGwgYmUgc2V0IG9uIHRoZSBlbGVtZW50XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ2hlY2tlZFxuICogQHJlc3RyaWN0IEFcbiAqIEBwcmlvcml0eSAxMDBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBIVE1MIHNwZWNpZmljYXRpb24gZG9lcyBub3QgcmVxdWlyZSBicm93c2VycyB0byBwcmVzZXJ2ZSB0aGUgdmFsdWVzIG9mIGJvb2xlYW4gYXR0cmlidXRlc1xuICogc3VjaCBhcyBjaGVja2VkLiAoVGhlaXIgcHJlc2VuY2UgbWVhbnMgdHJ1ZSBhbmQgdGhlaXIgYWJzZW5jZSBtZWFucyBmYWxzZS4pXG4gKiBJZiB3ZSBwdXQgYW4gQW5ndWxhciBpbnRlcnBvbGF0aW9uIGV4cHJlc3Npb24gaW50byBzdWNoIGFuIGF0dHJpYnV0ZSB0aGVuIHRoZVxuICogYmluZGluZyBpbmZvcm1hdGlvbiB3b3VsZCBiZSBsb3N0IHdoZW4gdGhlIGJyb3dzZXIgcmVtb3ZlcyB0aGUgYXR0cmlidXRlLlxuICogVGhlIGBuZ0NoZWNrZWRgIGRpcmVjdGl2ZSBzb2x2ZXMgdGhpcyBwcm9ibGVtIGZvciB0aGUgYGNoZWNrZWRgIGF0dHJpYnV0ZS5cbiAqIFRoaXMgY29tcGxlbWVudGFyeSBkaXJlY3RpdmUgaXMgbm90IHJlbW92ZWQgYnkgdGhlIGJyb3dzZXIgYW5kIHNvIHByb3ZpZGVzXG4gKiBhIHBlcm1hbmVudCByZWxpYWJsZSBwbGFjZSB0byBzdG9yZSB0aGUgYmluZGluZyBpbmZvcm1hdGlvbi5cbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICBDaGVjayBtZSB0byBjaGVjayBib3RoOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJtYXN0ZXJcIj48YnIvPlxuICAgICAgICA8aW5wdXQgaWQ9XCJjaGVja1NsYXZlXCIgdHlwZT1cImNoZWNrYm94XCIgbmctY2hlY2tlZD1cIm1hc3RlclwiPlxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICBpdCgnc2hvdWxkIGNoZWNrIGJvdGggY2hlY2tCb3hlcycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjaGVja1NsYXZlJykpLmdldEF0dHJpYnV0ZSgnY2hlY2tlZCcpKS50b0JlRmFsc3koKTtcbiAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdtYXN0ZXInKSkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY2hlY2tTbGF2ZScpKS5nZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnKSkudG9CZVRydXRoeSgpO1xuICAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKlxuICogQGVsZW1lbnQgSU5QVVRcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDaGVja2VkIElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyB0cnV0aHksXG4gKiAgICAgdGhlbiBzcGVjaWFsIGF0dHJpYnV0ZSBcImNoZWNrZWRcIiB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1JlYWRvbmx5XG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDEwMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIEhUTUwgc3BlY2lmaWNhdGlvbiBkb2VzIG5vdCByZXF1aXJlIGJyb3dzZXJzIHRvIHByZXNlcnZlIHRoZSB2YWx1ZXMgb2YgYm9vbGVhbiBhdHRyaWJ1dGVzXG4gKiBzdWNoIGFzIHJlYWRvbmx5LiAoVGhlaXIgcHJlc2VuY2UgbWVhbnMgdHJ1ZSBhbmQgdGhlaXIgYWJzZW5jZSBtZWFucyBmYWxzZS4pXG4gKiBJZiB3ZSBwdXQgYW4gQW5ndWxhciBpbnRlcnBvbGF0aW9uIGV4cHJlc3Npb24gaW50byBzdWNoIGFuIGF0dHJpYnV0ZSB0aGVuIHRoZVxuICogYmluZGluZyBpbmZvcm1hdGlvbiB3b3VsZCBiZSBsb3N0IHdoZW4gdGhlIGJyb3dzZXIgcmVtb3ZlcyB0aGUgYXR0cmlidXRlLlxuICogVGhlIGBuZ1JlYWRvbmx5YCBkaXJlY3RpdmUgc29sdmVzIHRoaXMgcHJvYmxlbSBmb3IgdGhlIGByZWFkb25seWAgYXR0cmlidXRlLlxuICogVGhpcyBjb21wbGVtZW50YXJ5IGRpcmVjdGl2ZSBpcyBub3QgcmVtb3ZlZCBieSB0aGUgYnJvd3NlciBhbmQgc28gcHJvdmlkZXNcbiAqIGEgcGVybWFuZW50IHJlbGlhYmxlIHBsYWNlIHRvIHN0b3JlIHRoZSBiaW5kaW5nIGluZm9ybWF0aW9uLlxuICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIENoZWNrIG1lIHRvIG1ha2UgdGV4dCByZWFkb25seTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tlZFwiPjxici8+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLXJlYWRvbmx5PVwiY2hlY2tlZFwiIHZhbHVlPVwiSSdtIEFuZ3VsYXJcIi8+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIGl0KCdzaG91bGQgdG9nZ2xlIHJlYWRvbmx5IGF0dHInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJ1t0eXBlPVwidGV4dFwiXScpKS5nZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JykpLnRvQmVGYWxzeSgpO1xuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrZWQnKSkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJ1t0eXBlPVwidGV4dFwiXScpKS5nZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JykpLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICpcbiAqIEBlbGVtZW50IElOUFVUXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nUmVhZG9ubHkgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeSxcbiAqICAgICB0aGVuIHNwZWNpYWwgYXR0cmlidXRlIFwicmVhZG9ubHlcIiB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1NlbGVjdGVkXG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDEwMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIEhUTUwgc3BlY2lmaWNhdGlvbiBkb2VzIG5vdCByZXF1aXJlIGJyb3dzZXJzIHRvIHByZXNlcnZlIHRoZSB2YWx1ZXMgb2YgYm9vbGVhbiBhdHRyaWJ1dGVzXG4gKiBzdWNoIGFzIHNlbGVjdGVkLiAoVGhlaXIgcHJlc2VuY2UgbWVhbnMgdHJ1ZSBhbmQgdGhlaXIgYWJzZW5jZSBtZWFucyBmYWxzZS4pXG4gKiBJZiB3ZSBwdXQgYW4gQW5ndWxhciBpbnRlcnBvbGF0aW9uIGV4cHJlc3Npb24gaW50byBzdWNoIGFuIGF0dHJpYnV0ZSB0aGVuIHRoZVxuICogYmluZGluZyBpbmZvcm1hdGlvbiB3b3VsZCBiZSBsb3N0IHdoZW4gdGhlIGJyb3dzZXIgcmVtb3ZlcyB0aGUgYXR0cmlidXRlLlxuICogVGhlIGBuZ1NlbGVjdGVkYCBkaXJlY3RpdmUgc29sdmVzIHRoaXMgcHJvYmxlbSBmb3IgdGhlIGBzZWxlY3RlZGAgYXR0cmlidXRlLlxuICogVGhpcyBjb21wbGVtZW50YXJ5IGRpcmVjdGl2ZSBpcyBub3QgcmVtb3ZlZCBieSB0aGUgYnJvd3NlciBhbmQgc28gcHJvdmlkZXNcbiAqIGEgcGVybWFuZW50IHJlbGlhYmxlIHBsYWNlIHRvIHN0b3JlIHRoZSBiaW5kaW5nIGluZm9ybWF0aW9uLlxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICBDaGVjayBtZSB0byBzZWxlY3Q6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cInNlbGVjdGVkXCI+PGJyLz5cbiAgICAgICAgPHNlbGVjdD5cbiAgICAgICAgICA8b3B0aW9uPkhlbGxvITwvb3B0aW9uPlxuICAgICAgICAgIDxvcHRpb24gaWQ9XCJncmVldFwiIG5nLXNlbGVjdGVkPVwic2VsZWN0ZWRcIj5HcmVldGluZ3MhPC9vcHRpb24+XG4gICAgICAgIDwvc2VsZWN0PlxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICBpdCgnc2hvdWxkIHNlbGVjdCBHcmVldGluZ3MhJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2dyZWV0JykpLmdldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnKSkudG9CZUZhbHN5KCk7XG4gICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc2VsZWN0ZWQnKSkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZ3JlZXQnKSkuZ2V0QXR0cmlidXRlKCdzZWxlY3RlZCcpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqXG4gKiBAZWxlbWVudCBPUFRJT05cbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdTZWxlY3RlZCBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxuICogICAgIHRoZW4gc3BlY2lhbCBhdHRyaWJ1dGUgXCJzZWxlY3RlZFwiIHdpbGwgYmUgc2V0IG9uIHRoZSBlbGVtZW50XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ09wZW5cbiAqIEByZXN0cmljdCBBXG4gKiBAcHJpb3JpdHkgMTAwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgSFRNTCBzcGVjaWZpY2F0aW9uIGRvZXMgbm90IHJlcXVpcmUgYnJvd3NlcnMgdG8gcHJlc2VydmUgdGhlIHZhbHVlcyBvZiBib29sZWFuIGF0dHJpYnV0ZXNcbiAqIHN1Y2ggYXMgb3Blbi4gKFRoZWlyIHByZXNlbmNlIG1lYW5zIHRydWUgYW5kIHRoZWlyIGFic2VuY2UgbWVhbnMgZmFsc2UuKVxuICogSWYgd2UgcHV0IGFuIEFuZ3VsYXIgaW50ZXJwb2xhdGlvbiBleHByZXNzaW9uIGludG8gc3VjaCBhbiBhdHRyaWJ1dGUgdGhlbiB0aGVcbiAqIGJpbmRpbmcgaW5mb3JtYXRpb24gd291bGQgYmUgbG9zdCB3aGVuIHRoZSBicm93c2VyIHJlbW92ZXMgdGhlIGF0dHJpYnV0ZS5cbiAqIFRoZSBgbmdPcGVuYCBkaXJlY3RpdmUgc29sdmVzIHRoaXMgcHJvYmxlbSBmb3IgdGhlIGBvcGVuYCBhdHRyaWJ1dGUuXG4gKiBUaGlzIGNvbXBsZW1lbnRhcnkgZGlyZWN0aXZlIGlzIG5vdCByZW1vdmVkIGJ5IHRoZSBicm93c2VyIGFuZCBzbyBwcm92aWRlc1xuICogYSBwZXJtYW5lbnQgcmVsaWFibGUgcGxhY2UgdG8gc3RvcmUgdGhlIGJpbmRpbmcgaW5mb3JtYXRpb24uXG4gKiBAZXhhbXBsZVxuICAgICA8ZXhhbXBsZT5cbiAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgQ2hlY2sgbWUgY2hlY2sgbXVsdGlwbGU6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cIm9wZW5cIj48YnIvPlxuICAgICAgICAgPGRldGFpbHMgaWQ9XCJkZXRhaWxzXCIgbmctb3Blbj1cIm9wZW5cIj5cbiAgICAgICAgICAgIDxzdW1tYXJ5PlNob3cvSGlkZSBtZTwvc3VtbWFyeT5cbiAgICAgICAgIDwvZGV0YWlscz5cbiAgICAgICA8L2ZpbGU+XG4gICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgaXQoJ3Nob3VsZCB0b2dnbGUgb3BlbicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZGV0YWlscycpKS5nZXRBdHRyaWJ1dGUoJ29wZW4nKSkudG9CZUZhbHN5KCk7XG4gICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ29wZW4nKSkuY2xpY2soKTtcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2RldGFpbHMnKSkuZ2V0QXR0cmlidXRlKCdvcGVuJykpLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgIH0pO1xuICAgICAgIDwvZmlsZT5cbiAgICAgPC9leGFtcGxlPlxuICpcbiAqIEBlbGVtZW50IERFVEFJTFNcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdPcGVuIElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyB0cnV0aHksXG4gKiAgICAgdGhlbiBzcGVjaWFsIGF0dHJpYnV0ZSBcIm9wZW5cIiB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxuICovXG5cbnZhciBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcyA9IHt9O1xuXG5cbi8vIGJvb2xlYW4gYXR0cnMgYXJlIGV2YWx1YXRlZFxuZm9yRWFjaChCT09MRUFOX0FUVFIsIGZ1bmN0aW9uKHByb3BOYW1lLCBhdHRyTmFtZSkge1xuICAvLyBiaW5kaW5nIHRvIG11bHRpcGxlIGlzIG5vdCBzdXBwb3J0ZWRcbiAgaWYgKHByb3BOYW1lID09IFwibXVsdGlwbGVcIikgcmV0dXJuO1xuXG4gIHZhciBub3JtYWxpemVkID0gZGlyZWN0aXZlTm9ybWFsaXplKCduZy0nICsgYXR0ck5hbWUpO1xuICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlc1tub3JtYWxpemVkXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgcHJpb3JpdHk6IDEwMCxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgIHNjb3BlLiR3YXRjaChhdHRyW25vcm1hbGl6ZWRdLCBmdW5jdGlvbiBuZ0Jvb2xlYW5BdHRyV2F0Y2hBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBhdHRyLiRzZXQoYXR0ck5hbWUsICEhdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xufSk7XG5cbi8vIGFsaWFzZWQgaW5wdXQgYXR0cnMgYXJlIGV2YWx1YXRlZFxuZm9yRWFjaChBTElBU0VEX0FUVFIsIGZ1bmN0aW9uKGh0bWxBdHRyLCBuZ0F0dHIpIHtcbiAgbmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXNbbmdBdHRyXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcmlvcml0eTogMTAwLFxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgLy9zcGVjaWFsIGNhc2UgbmdQYXR0ZXJuIHdoZW4gYSBsaXRlcmFsIHJlZ3VsYXIgZXhwcmVzc2lvbiB2YWx1ZVxuICAgICAgICAvL2lzIHVzZWQgYXMgdGhlIGV4cHJlc3Npb24gKHRoaXMgd2F5IHdlIGRvbid0IGhhdmUgdG8gd2F0Y2ggYW55dGhpbmcpLlxuICAgICAgICBpZiAobmdBdHRyID09PSBcIm5nUGF0dGVyblwiICYmIGF0dHIubmdQYXR0ZXJuLmNoYXJBdCgwKSA9PSBcIi9cIikge1xuICAgICAgICAgIHZhciBtYXRjaCA9IGF0dHIubmdQYXR0ZXJuLm1hdGNoKFJFR0VYX1NUUklOR19SRUdFWFApO1xuICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgYXR0ci4kc2V0KFwibmdQYXR0ZXJuXCIsIG5ldyBSZWdFeHAobWF0Y2hbMV0sIG1hdGNoWzJdKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJbbmdBdHRyXSwgZnVuY3Rpb24gbmdBdHRyQWxpYXNXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGF0dHIuJHNldChuZ0F0dHIsIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn0pO1xuXG4vLyBuZy1zcmMsIG5nLXNyY3NldCwgbmctaHJlZiBhcmUgaW50ZXJwb2xhdGVkXG5mb3JFYWNoKFsnc3JjJywgJ3NyY3NldCcsICdocmVmJ10sIGZ1bmN0aW9uKGF0dHJOYW1lKSB7XG4gIHZhciBub3JtYWxpemVkID0gZGlyZWN0aXZlTm9ybWFsaXplKCduZy0nICsgYXR0ck5hbWUpO1xuICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlc1tub3JtYWxpemVkXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcmlvcml0eTogOTksIC8vIGl0IG5lZWRzIHRvIHJ1biBhZnRlciB0aGUgYXR0cmlidXRlcyBhcmUgaW50ZXJwb2xhdGVkXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICB2YXIgcHJvcE5hbWUgPSBhdHRyTmFtZSxcbiAgICAgICAgICAgIG5hbWUgPSBhdHRyTmFtZTtcblxuICAgICAgICBpZiAoYXR0ck5hbWUgPT09ICdocmVmJyAmJlxuICAgICAgICAgICAgdG9TdHJpbmcuY2FsbChlbGVtZW50LnByb3AoJ2hyZWYnKSkgPT09ICdbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXScpIHtcbiAgICAgICAgICBuYW1lID0gJ3hsaW5rSHJlZic7XG4gICAgICAgICAgYXR0ci4kYXR0cltuYW1lXSA9ICd4bGluazpocmVmJztcbiAgICAgICAgICBwcm9wTmFtZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBhdHRyLiRvYnNlcnZlKG5vcm1hbGl6ZWQsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKGF0dHJOYW1lID09PSAnaHJlZicpIHtcbiAgICAgICAgICAgICAgYXR0ci4kc2V0KG5hbWUsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGF0dHIuJHNldChuYW1lLCB2YWx1ZSk7XG5cbiAgICAgICAgICAvLyBvbiBJRSwgaWYgXCJuZzpzcmNcIiBkaXJlY3RpdmUgZGVjbGFyYXRpb24gaXMgdXNlZCBhbmQgXCJzcmNcIiBhdHRyaWJ1dGUgZG9lc24ndCBleGlzdFxuICAgICAgICAgIC8vIHRoZW4gY2FsbGluZyBlbGVtZW50LnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ZvbycpIGRvZXNuJ3QgZG8gYW55dGhpbmcsIHNvIHdlIG5lZWRcbiAgICAgICAgICAvLyB0byBzZXQgdGhlIHByb3BlcnR5IGFzIHdlbGwgdG8gYWNoaWV2ZSB0aGUgZGVzaXJlZCBlZmZlY3QuXG4gICAgICAgICAgLy8gd2UgdXNlIGF0dHJbYXR0ck5hbWVdIHZhbHVlIHNpbmNlICRzZXQgY2FuIHNhbml0aXplIHRoZSB1cmwuXG4gICAgICAgICAgaWYgKG1zaWUgJiYgcHJvcE5hbWUpIGVsZW1lbnQucHJvcChwcm9wTmFtZSwgYXR0cltuYW1lXSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH07XG59KTtcblxuLyogZ2xvYmFsIC1udWxsRm9ybUN0cmwsIC1TVUJNSVRURURfQ0xBU1MsIGFkZFNldFZhbGlkaXR5TWV0aG9kOiB0cnVlXG4gKi9cbnZhciBudWxsRm9ybUN0cmwgPSB7XG4gICRhZGRDb250cm9sOiBub29wLFxuICAkJHJlbmFtZUNvbnRyb2w6IG51bGxGb3JtUmVuYW1lQ29udHJvbCxcbiAgJHJlbW92ZUNvbnRyb2w6IG5vb3AsXG4gICRzZXRWYWxpZGl0eTogbm9vcCxcbiAgJHNldERpcnR5OiBub29wLFxuICAkc2V0UHJpc3RpbmU6IG5vb3AsXG4gICRzZXRTdWJtaXR0ZWQ6IG5vb3Bcbn0sXG5TVUJNSVRURURfQ0xBU1MgPSAnbmctc3VibWl0dGVkJztcblxuZnVuY3Rpb24gbnVsbEZvcm1SZW5hbWVDb250cm9sKGNvbnRyb2wsIG5hbWUpIHtcbiAgY29udHJvbC4kbmFtZSA9IG5hbWU7XG59XG5cbi8qKlxuICogQG5nZG9jIHR5cGVcbiAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXJcbiAqXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICRwcmlzdGluZSBUcnVlIGlmIHVzZXIgaGFzIG5vdCBpbnRlcmFjdGVkIHdpdGggdGhlIGZvcm0geWV0LlxuICogQHByb3BlcnR5IHtib29sZWFufSAkZGlydHkgVHJ1ZSBpZiB1c2VyIGhhcyBhbHJlYWR5IGludGVyYWN0ZWQgd2l0aCB0aGUgZm9ybS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHZhbGlkIFRydWUgaWYgYWxsIG9mIHRoZSBjb250YWluaW5nIGZvcm1zIGFuZCBjb250cm9scyBhcmUgdmFsaWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICRpbnZhbGlkIFRydWUgaWYgYXQgbGVhc3Qgb25lIGNvbnRhaW5pbmcgY29udHJvbCBvciBmb3JtIGlzIGludmFsaWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICRzdWJtaXR0ZWQgVHJ1ZSBpZiB1c2VyIGhhcyBzdWJtaXR0ZWQgdGhlIGZvcm0gZXZlbiBpZiBpdHMgaW52YWxpZC5cbiAqXG4gKiBAcHJvcGVydHkge09iamVjdH0gJGVycm9yIElzIGFuIG9iamVjdCBoYXNoLCBjb250YWluaW5nIHJlZmVyZW5jZXMgdG8gY29udHJvbHMgb3JcbiAqICBmb3JtcyB3aXRoIGZhaWxpbmcgdmFsaWRhdG9ycywgd2hlcmU6XG4gKlxuICogIC0ga2V5cyBhcmUgdmFsaWRhdGlvbiB0b2tlbnMgKGVycm9yIG5hbWVzKSxcbiAqICAtIHZhbHVlcyBhcmUgYXJyYXlzIG9mIGNvbnRyb2xzIG9yIGZvcm1zIHRoYXQgaGF2ZSBhIGZhaWxpbmcgdmFsaWRhdG9yIGZvciBnaXZlbiBlcnJvciBuYW1lLlxuICpcbiAqICBCdWlsdC1pbiB2YWxpZGF0aW9uIHRva2VuczpcbiAqXG4gKiAgLSBgZW1haWxgXG4gKiAgLSBgbWF4YFxuICogIC0gYG1heGxlbmd0aGBcbiAqICAtIGBtaW5gXG4gKiAgLSBgbWlubGVuZ3RoYFxuICogIC0gYG51bWJlcmBcbiAqICAtIGBwYXR0ZXJuYFxuICogIC0gYHJlcXVpcmVkYFxuICogIC0gYHVybGBcbiAqICAtIGBkYXRlYFxuICogIC0gYGRhdGV0aW1lbG9jYWxgXG4gKiAgLSBgdGltZWBcbiAqICAtIGB3ZWVrYFxuICogIC0gYG1vbnRoYFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYEZvcm1Db250cm9sbGVyYCBrZWVwcyB0cmFjayBvZiBhbGwgaXRzIGNvbnRyb2xzIGFuZCBuZXN0ZWQgZm9ybXMgYXMgd2VsbCBhcyB0aGUgc3RhdGUgb2YgdGhlbSxcbiAqIHN1Y2ggYXMgYmVpbmcgdmFsaWQvaW52YWxpZCBvciBkaXJ0eS9wcmlzdGluZS5cbiAqXG4gKiBFYWNoIHtAbGluayBuZy5kaXJlY3RpdmU6Zm9ybSBmb3JtfSBkaXJlY3RpdmUgY3JlYXRlcyBhbiBpbnN0YW5jZVxuICogb2YgYEZvcm1Db250cm9sbGVyYC5cbiAqXG4gKi9cbi8vYXNrcyBmb3IgJHNjb3BlIHRvIGZvb2wgdGhlIEJDIGNvbnRyb2xsZXIgbW9kdWxlXG5Gb3JtQ29udHJvbGxlci4kaW5qZWN0ID0gWyckZWxlbWVudCcsICckYXR0cnMnLCAnJHNjb3BlJywgJyRhbmltYXRlJywgJyRpbnRlcnBvbGF0ZSddO1xuZnVuY3Rpb24gRm9ybUNvbnRyb2xsZXIoZWxlbWVudCwgYXR0cnMsICRzY29wZSwgJGFuaW1hdGUsICRpbnRlcnBvbGF0ZSkge1xuICB2YXIgZm9ybSA9IHRoaXMsXG4gICAgICBjb250cm9scyA9IFtdO1xuXG4gIHZhciBwYXJlbnRGb3JtID0gZm9ybS4kJHBhcmVudEZvcm0gPSBlbGVtZW50LnBhcmVudCgpLmNvbnRyb2xsZXIoJ2Zvcm0nKSB8fCBudWxsRm9ybUN0cmw7XG5cbiAgLy8gaW5pdCBzdGF0ZVxuICBmb3JtLiRlcnJvciA9IHt9O1xuICBmb3JtLiQkc3VjY2VzcyA9IHt9O1xuICBmb3JtLiRwZW5kaW5nID0gdW5kZWZpbmVkO1xuICBmb3JtLiRuYW1lID0gJGludGVycG9sYXRlKGF0dHJzLm5hbWUgfHwgYXR0cnMubmdGb3JtIHx8ICcnKSgkc2NvcGUpO1xuICBmb3JtLiRkaXJ0eSA9IGZhbHNlO1xuICBmb3JtLiRwcmlzdGluZSA9IHRydWU7XG4gIGZvcm0uJHZhbGlkID0gdHJ1ZTtcbiAgZm9ybS4kaW52YWxpZCA9IGZhbHNlO1xuICBmb3JtLiRzdWJtaXR0ZWQgPSBmYWxzZTtcblxuICBwYXJlbnRGb3JtLiRhZGRDb250cm9sKGZvcm0pO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHJvbGxiYWNrVmlld1ZhbHVlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSb2xsYmFjayBhbGwgZm9ybSBjb250cm9scyBwZW5kaW5nIHVwZGF0ZXMgdG8gdGhlIGAkbW9kZWxWYWx1ZWAuXG4gICAqXG4gICAqIFVwZGF0ZXMgbWF5IGJlIHBlbmRpbmcgYnkgYSBkZWJvdW5jZWQgZXZlbnQgb3IgYmVjYXVzZSB0aGUgaW5wdXQgaXMgd2FpdGluZyBmb3IgYSBzb21lIGZ1dHVyZVxuICAgKiBldmVudCBkZWZpbmVkIGluIGBuZy1tb2RlbC1vcHRpb25zYC4gVGhpcyBtZXRob2QgaXMgdHlwaWNhbGx5IG5lZWRlZCBieSB0aGUgcmVzZXQgYnV0dG9uIG9mXG4gICAqIGEgZm9ybSB0aGF0IHVzZXMgYG5nLW1vZGVsLW9wdGlvbnNgIHRvIHBlbmQgdXBkYXRlcy5cbiAgICovXG4gIGZvcm0uJHJvbGxiYWNrVmlld1ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yRWFjaChjb250cm9scywgZnVuY3Rpb24oY29udHJvbCkge1xuICAgICAgY29udHJvbC4kcm9sbGJhY2tWaWV3VmFsdWUoKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRjb21taXRWaWV3VmFsdWVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENvbW1pdCBhbGwgZm9ybSBjb250cm9scyBwZW5kaW5nIHVwZGF0ZXMgdG8gdGhlIGAkbW9kZWxWYWx1ZWAuXG4gICAqXG4gICAqIFVwZGF0ZXMgbWF5IGJlIHBlbmRpbmcgYnkgYSBkZWJvdW5jZWQgZXZlbnQgb3IgYmVjYXVzZSB0aGUgaW5wdXQgaXMgd2FpdGluZyBmb3IgYSBzb21lIGZ1dHVyZVxuICAgKiBldmVudCBkZWZpbmVkIGluIGBuZy1tb2RlbC1vcHRpb25zYC4gVGhpcyBtZXRob2QgaXMgcmFyZWx5IG5lZWRlZCBhcyBgTmdNb2RlbENvbnRyb2xsZXJgXG4gICAqIHVzdWFsbHkgaGFuZGxlcyBjYWxsaW5nIHRoaXMgaW4gcmVzcG9uc2UgdG8gaW5wdXQgZXZlbnRzLlxuICAgKi9cbiAgZm9ybS4kY29tbWl0Vmlld1ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yRWFjaChjb250cm9scywgZnVuY3Rpb24oY29udHJvbCkge1xuICAgICAgY29udHJvbC4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkYWRkQ29udHJvbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXIgYSBjb250cm9sIHdpdGggdGhlIGZvcm0uXG4gICAqXG4gICAqIElucHV0IGVsZW1lbnRzIHVzaW5nIG5nTW9kZWxDb250cm9sbGVyIGRvIHRoaXMgYXV0b21hdGljYWxseSB3aGVuIHRoZXkgYXJlIGxpbmtlZC5cbiAgICovXG4gIGZvcm0uJGFkZENvbnRyb2wgPSBmdW5jdGlvbihjb250cm9sKSB7XG4gICAgLy8gQnJlYWtpbmcgY2hhbmdlIC0gYmVmb3JlLCBpbnB1dHMgd2hvc2UgbmFtZSB3YXMgXCJoYXNPd25Qcm9wZXJ0eVwiIHdlcmUgcXVpZXRseSBpZ25vcmVkXG4gICAgLy8gYW5kIG5vdCBhZGRlZCB0byB0aGUgc2NvcGUuICBOb3cgd2UgdGhyb3cgYW4gZXJyb3IuXG4gICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkoY29udHJvbC4kbmFtZSwgJ2lucHV0Jyk7XG4gICAgY29udHJvbHMucHVzaChjb250cm9sKTtcblxuICAgIGlmIChjb250cm9sLiRuYW1lKSB7XG4gICAgICBmb3JtW2NvbnRyb2wuJG5hbWVdID0gY29udHJvbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gUHJpdmF0ZSBBUEk6IHJlbmFtZSBhIGZvcm0gY29udHJvbFxuICBmb3JtLiQkcmVuYW1lQ29udHJvbCA9IGZ1bmN0aW9uKGNvbnRyb2wsIG5ld05hbWUpIHtcbiAgICB2YXIgb2xkTmFtZSA9IGNvbnRyb2wuJG5hbWU7XG5cbiAgICBpZiAoZm9ybVtvbGROYW1lXSA9PT0gY29udHJvbCkge1xuICAgICAgZGVsZXRlIGZvcm1bb2xkTmFtZV07XG4gICAgfVxuICAgIGZvcm1bbmV3TmFtZV0gPSBjb250cm9sO1xuICAgIGNvbnRyb2wuJG5hbWUgPSBuZXdOYW1lO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHJlbW92ZUNvbnRyb2xcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIERlcmVnaXN0ZXIgYSBjb250cm9sIGZyb20gdGhlIGZvcm0uXG4gICAqXG4gICAqIElucHV0IGVsZW1lbnRzIHVzaW5nIG5nTW9kZWxDb250cm9sbGVyIGRvIHRoaXMgYXV0b21hdGljYWxseSB3aGVuIHRoZXkgYXJlIGRlc3Ryb3llZC5cbiAgICovXG4gIGZvcm0uJHJlbW92ZUNvbnRyb2wgPSBmdW5jdGlvbihjb250cm9sKSB7XG4gICAgaWYgKGNvbnRyb2wuJG5hbWUgJiYgZm9ybVtjb250cm9sLiRuYW1lXSA9PT0gY29udHJvbCkge1xuICAgICAgZGVsZXRlIGZvcm1bY29udHJvbC4kbmFtZV07XG4gICAgfVxuICAgIGZvckVhY2goZm9ybS4kcGVuZGluZywgZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgIGZvcm0uJHNldFZhbGlkaXR5KG5hbWUsIG51bGwsIGNvbnRyb2wpO1xuICAgIH0pO1xuICAgIGZvckVhY2goZm9ybS4kZXJyb3IsIGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICBmb3JtLiRzZXRWYWxpZGl0eShuYW1lLCBudWxsLCBjb250cm9sKTtcbiAgICB9KTtcblxuICAgIGFycmF5UmVtb3ZlKGNvbnRyb2xzLCBjb250cm9sKTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHNldFZhbGlkaXR5XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHRoZSB2YWxpZGl0eSBvZiBhIGZvcm0gY29udHJvbC5cbiAgICpcbiAgICogVGhpcyBtZXRob2Qgd2lsbCBhbHNvIHByb3BhZ2F0ZSB0byBwYXJlbnQgZm9ybXMuXG4gICAqL1xuICBhZGRTZXRWYWxpZGl0eU1ldGhvZCh7XG4gICAgY3RybDogdGhpcyxcbiAgICAkZWxlbWVudDogZWxlbWVudCxcbiAgICBzZXQ6IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHksIGNvbnRyb2wpIHtcbiAgICAgIHZhciBsaXN0ID0gb2JqZWN0W3Byb3BlcnR5XTtcbiAgICAgIGlmICghbGlzdCkge1xuICAgICAgICBvYmplY3RbcHJvcGVydHldID0gW2NvbnRyb2xdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGluZGV4ID0gbGlzdC5pbmRleE9mKGNvbnRyb2wpO1xuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgbGlzdC5wdXNoKGNvbnRyb2wpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB1bnNldDogZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSwgY29udHJvbCkge1xuICAgICAgdmFyIGxpc3QgPSBvYmplY3RbcHJvcGVydHldO1xuICAgICAgaWYgKCFsaXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFycmF5UmVtb3ZlKGxpc3QsIGNvbnRyb2wpO1xuICAgICAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGRlbGV0ZSBvYmplY3RbcHJvcGVydHldO1xuICAgICAgfVxuICAgIH0sXG4gICAgcGFyZW50Rm9ybTogcGFyZW50Rm9ybSxcbiAgICAkYW5pbWF0ZTogJGFuaW1hdGVcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkc2V0RGlydHlcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIGZvcm0gdG8gYSBkaXJ0eSBzdGF0ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byBhZGQgdGhlICduZy1kaXJ0eScgY2xhc3MgYW5kIHNldCB0aGUgZm9ybSB0byBhIGRpcnR5XG4gICAqIHN0YXRlIChuZy1kaXJ0eSBjbGFzcykuIFRoaXMgbWV0aG9kIHdpbGwgYWxzbyBwcm9wYWdhdGUgdG8gcGFyZW50IGZvcm1zLlxuICAgKi9cbiAgZm9ybS4kc2V0RGlydHkgPSBmdW5jdGlvbigpIHtcbiAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LCBQUklTVElORV9DTEFTUyk7XG4gICAgJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgRElSVFlfQ0xBU1MpO1xuICAgIGZvcm0uJGRpcnR5ID0gdHJ1ZTtcbiAgICBmb3JtLiRwcmlzdGluZSA9IGZhbHNlO1xuICAgIHBhcmVudEZvcm0uJHNldERpcnR5KCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkc2V0UHJpc3RpbmVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIGZvcm0gdG8gaXRzIHByaXN0aW5lIHN0YXRlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgJ25nLWRpcnR5JyBjbGFzcyBhbmQgc2V0IHRoZSBmb3JtIHRvIGl0cyBwcmlzdGluZVxuICAgKiBzdGF0ZSAobmctcHJpc3RpbmUgY2xhc3MpLiBUaGlzIG1ldGhvZCB3aWxsIGFsc28gcHJvcGFnYXRlIHRvIGFsbCB0aGUgY29udHJvbHMgY29udGFpbmVkXG4gICAqIGluIHRoaXMgZm9ybS5cbiAgICpcbiAgICogU2V0dGluZyBhIGZvcm0gYmFjayB0byBhIHByaXN0aW5lIHN0YXRlIGlzIG9mdGVuIHVzZWZ1bCB3aGVuIHdlIHdhbnQgdG8gJ3JldXNlJyBhIGZvcm0gYWZ0ZXJcbiAgICogc2F2aW5nIG9yIHJlc2V0dGluZyBpdC5cbiAgICovXG4gIGZvcm0uJHNldFByaXN0aW5lID0gZnVuY3Rpb24oKSB7XG4gICAgJGFuaW1hdGUuc2V0Q2xhc3MoZWxlbWVudCwgUFJJU1RJTkVfQ0xBU1MsIERJUlRZX0NMQVNTICsgJyAnICsgU1VCTUlUVEVEX0NMQVNTKTtcbiAgICBmb3JtLiRkaXJ0eSA9IGZhbHNlO1xuICAgIGZvcm0uJHByaXN0aW5lID0gdHJ1ZTtcbiAgICBmb3JtLiRzdWJtaXR0ZWQgPSBmYWxzZTtcbiAgICBmb3JFYWNoKGNvbnRyb2xzLCBmdW5jdGlvbihjb250cm9sKSB7XG4gICAgICBjb250cm9sLiRzZXRQcmlzdGluZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHNldFVudG91Y2hlZFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgZm9ybSB0byBpdHMgdW50b3VjaGVkIHN0YXRlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgJ25nLXRvdWNoZWQnIGNsYXNzIGFuZCBzZXQgdGhlIGZvcm0gY29udHJvbHMgdG8gdGhlaXJcbiAgICogdW50b3VjaGVkIHN0YXRlIChuZy11bnRvdWNoZWQgY2xhc3MpLlxuICAgKlxuICAgKiBTZXR0aW5nIGEgZm9ybSBjb250cm9scyBiYWNrIHRvIHRoZWlyIHVudG91Y2hlZCBzdGF0ZSBpcyBvZnRlbiB1c2VmdWwgd2hlbiBzZXR0aW5nIHRoZSBmb3JtXG4gICAqIGJhY2sgdG8gaXRzIHByaXN0aW5lIHN0YXRlLlxuICAgKi9cbiAgZm9ybS4kc2V0VW50b3VjaGVkID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yRWFjaChjb250cm9scywgZnVuY3Rpb24oY29udHJvbCkge1xuICAgICAgY29udHJvbC4kc2V0VW50b3VjaGVkKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkc2V0U3VibWl0dGVkXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHRoZSBmb3JtIHRvIGl0cyBzdWJtaXR0ZWQgc3RhdGUuXG4gICAqL1xuICBmb3JtLiRzZXRTdWJtaXR0ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCBTVUJNSVRURURfQ0xBU1MpO1xuICAgIGZvcm0uJHN1Ym1pdHRlZCA9IHRydWU7XG4gICAgcGFyZW50Rm9ybS4kc2V0U3VibWl0dGVkKCk7XG4gIH07XG59XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdGb3JtXG4gKiBAcmVzdHJpY3QgRUFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBOZXN0YWJsZSBhbGlhcyBvZiB7QGxpbmsgbmcuZGlyZWN0aXZlOmZvcm0gYGZvcm1gfSBkaXJlY3RpdmUuIEhUTUxcbiAqIGRvZXMgbm90IGFsbG93IG5lc3Rpbmcgb2YgZm9ybSBlbGVtZW50cy4gSXQgaXMgdXNlZnVsIHRvIG5lc3QgZm9ybXMsIGZvciBleGFtcGxlIGlmIHRoZSB2YWxpZGl0eSBvZiBhXG4gKiBzdWItZ3JvdXAgb2YgY29udHJvbHMgbmVlZHMgdG8gYmUgZGV0ZXJtaW5lZC5cbiAqXG4gKiBOb3RlOiB0aGUgcHVycG9zZSBvZiBgbmdGb3JtYCBpcyB0byBncm91cCBjb250cm9scyxcbiAqIGJ1dCBub3QgdG8gYmUgYSByZXBsYWNlbWVudCBmb3IgdGhlIGA8Zm9ybT5gIHRhZyB3aXRoIGFsbCBvZiBpdHMgY2FwYWJpbGl0aWVzXG4gKiAoZS5nLiBwb3N0aW5nIHRvIHRoZSBzZXJ2ZXIsIC4uLikuXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ0Zvcm18bmFtZSBOYW1lIG9mIHRoZSBmb3JtLiBJZiBzcGVjaWZpZWQsIHRoZSBmb3JtIGNvbnRyb2xsZXIgd2lsbCBiZSBwdWJsaXNoZWQgaW50b1xuICogICAgICAgICAgICAgICAgICAgICAgIHJlbGF0ZWQgc2NvcGUsIHVuZGVyIHRoaXMgbmFtZS5cbiAqXG4gKi9cblxuIC8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgZm9ybVxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERpcmVjdGl2ZSB0aGF0IGluc3RhbnRpYXRlc1xuICoge0BsaW5rIGZvcm0uRm9ybUNvbnRyb2xsZXIgRm9ybUNvbnRyb2xsZXJ9LlxuICpcbiAqIElmIHRoZSBgbmFtZWAgYXR0cmlidXRlIGlzIHNwZWNpZmllZCwgdGhlIGZvcm0gY29udHJvbGxlciBpcyBwdWJsaXNoZWQgb250byB0aGUgY3VycmVudCBzY29wZSB1bmRlclxuICogdGhpcyBuYW1lLlxuICpcbiAqICMgQWxpYXM6IHtAbGluayBuZy5kaXJlY3RpdmU6bmdGb3JtIGBuZ0Zvcm1gfVxuICpcbiAqIEluIEFuZ3VsYXIgZm9ybXMgY2FuIGJlIG5lc3RlZC4gVGhpcyBtZWFucyB0aGF0IHRoZSBvdXRlciBmb3JtIGlzIHZhbGlkIHdoZW4gYWxsIG9mIHRoZSBjaGlsZFxuICogZm9ybXMgYXJlIHZhbGlkIGFzIHdlbGwuIEhvd2V2ZXIsIGJyb3dzZXJzIGRvIG5vdCBhbGxvdyBuZXN0aW5nIG9mIGA8Zm9ybT5gIGVsZW1lbnRzLCBzb1xuICogQW5ndWxhciBwcm92aWRlcyB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0Zvcm0gYG5nRm9ybWB9IGRpcmVjdGl2ZSB3aGljaCBiZWhhdmVzIGlkZW50aWNhbGx5IHRvXG4gKiBgPGZvcm0+YCBidXQgY2FuIGJlIG5lc3RlZC4gIFRoaXMgYWxsb3dzIHlvdSB0byBoYXZlIG5lc3RlZCBmb3Jtcywgd2hpY2ggaXMgdmVyeSB1c2VmdWwgd2hlblxuICogdXNpbmcgQW5ndWxhciB2YWxpZGF0aW9uIGRpcmVjdGl2ZXMgaW4gZm9ybXMgdGhhdCBhcmUgZHluYW1pY2FsbHkgZ2VuZXJhdGVkIHVzaW5nIHRoZVxuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1JlcGVhdCBgbmdSZXBlYXRgfSBkaXJlY3RpdmUuIFNpbmNlIHlvdSBjYW5ub3QgZHluYW1pY2FsbHkgZ2VuZXJhdGUgdGhlIGBuYW1lYFxuICogYXR0cmlidXRlIG9mIGlucHV0IGVsZW1lbnRzIHVzaW5nIGludGVycG9sYXRpb24sIHlvdSBoYXZlIHRvIHdyYXAgZWFjaCBzZXQgb2YgcmVwZWF0ZWQgaW5wdXRzIGluIGFuXG4gKiBgbmdGb3JtYCBkaXJlY3RpdmUgYW5kIG5lc3QgdGhlc2UgaW4gYW4gb3V0ZXIgYGZvcm1gIGVsZW1lbnQuXG4gKlxuICpcbiAqICMgQ1NTIGNsYXNzZXNcbiAqICAtIGBuZy12YWxpZGAgaXMgc2V0IGlmIHRoZSBmb3JtIGlzIHZhbGlkLlxuICogIC0gYG5nLWludmFsaWRgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyBpbnZhbGlkLlxuICogIC0gYG5nLXByaXN0aW5lYCBpcyBzZXQgaWYgdGhlIGZvcm0gaXMgcHJpc3RpbmUuXG4gKiAgLSBgbmctZGlydHlgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyBkaXJ0eS5cbiAqICAtIGBuZy1zdWJtaXR0ZWRgIGlzIHNldCBpZiB0aGUgZm9ybSB3YXMgc3VibWl0dGVkLlxuICpcbiAqIEtlZXAgaW4gbWluZCB0aGF0IG5nQW5pbWF0ZSBjYW4gZGV0ZWN0IGVhY2ggb2YgdGhlc2UgY2xhc3NlcyB3aGVuIGFkZGVkIGFuZCByZW1vdmVkLlxuICpcbiAqXG4gKiAjIFN1Ym1pdHRpbmcgYSBmb3JtIGFuZCBwcmV2ZW50aW5nIHRoZSBkZWZhdWx0IGFjdGlvblxuICpcbiAqIFNpbmNlIHRoZSByb2xlIG9mIGZvcm1zIGluIGNsaWVudC1zaWRlIEFuZ3VsYXIgYXBwbGljYXRpb25zIGlzIGRpZmZlcmVudCB0aGFuIGluIGNsYXNzaWNhbFxuICogcm91bmR0cmlwIGFwcHMsIGl0IGlzIGRlc2lyYWJsZSBmb3IgdGhlIGJyb3dzZXIgbm90IHRvIHRyYW5zbGF0ZSB0aGUgZm9ybSBzdWJtaXNzaW9uIGludG8gYSBmdWxsXG4gKiBwYWdlIHJlbG9hZCB0aGF0IHNlbmRzIHRoZSBkYXRhIHRvIHRoZSBzZXJ2ZXIuIEluc3RlYWQgc29tZSBqYXZhc2NyaXB0IGxvZ2ljIHNob3VsZCBiZSB0cmlnZ2VyZWRcbiAqIHRvIGhhbmRsZSB0aGUgZm9ybSBzdWJtaXNzaW9uIGluIGFuIGFwcGxpY2F0aW9uLXNwZWNpZmljIHdheS5cbiAqXG4gKiBGb3IgdGhpcyByZWFzb24sIEFuZ3VsYXIgcHJldmVudHMgdGhlIGRlZmF1bHQgYWN0aW9uIChmb3JtIHN1Ym1pc3Npb24gdG8gdGhlIHNlcnZlcikgdW5sZXNzIHRoZVxuICogYDxmb3JtPmAgZWxlbWVudCBoYXMgYW4gYGFjdGlvbmAgYXR0cmlidXRlIHNwZWNpZmllZC5cbiAqXG4gKiBZb3UgY2FuIHVzZSBvbmUgb2YgdGhlIGZvbGxvd2luZyB0d28gd2F5cyB0byBzcGVjaWZ5IHdoYXQgamF2YXNjcmlwdCBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCB3aGVuXG4gKiBhIGZvcm0gaXMgc3VibWl0dGVkOlxuICpcbiAqIC0ge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1N1Ym1pdCBuZ1N1Ym1pdH0gZGlyZWN0aXZlIG9uIHRoZSBmb3JtIGVsZW1lbnRcbiAqIC0ge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsaWNrIG5nQ2xpY2t9IGRpcmVjdGl2ZSBvbiB0aGUgZmlyc3RcbiAgKiAgYnV0dG9uIG9yIGlucHV0IGZpZWxkIG9mIHR5cGUgc3VibWl0IChpbnB1dFt0eXBlPXN1Ym1pdF0pXG4gKlxuICogVG8gcHJldmVudCBkb3VibGUgZXhlY3V0aW9uIG9mIHRoZSBoYW5kbGVyLCB1c2Ugb25seSBvbmUgb2YgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdTdWJtaXQgbmdTdWJtaXR9XG4gKiBvciB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xpY2sgbmdDbGlja30gZGlyZWN0aXZlcy5cbiAqIFRoaXMgaXMgYmVjYXVzZSBvZiB0aGUgZm9sbG93aW5nIGZvcm0gc3VibWlzc2lvbiBydWxlcyBpbiB0aGUgSFRNTCBzcGVjaWZpY2F0aW9uOlxuICpcbiAqIC0gSWYgYSBmb3JtIGhhcyBvbmx5IG9uZSBpbnB1dCBmaWVsZCB0aGVuIGhpdHRpbmcgZW50ZXIgaW4gdGhpcyBmaWVsZCB0cmlnZ2VycyBmb3JtIHN1Ym1pdFxuICogKGBuZ1N1Ym1pdGApXG4gKiAtIGlmIGEgZm9ybSBoYXMgMisgaW5wdXQgZmllbGRzIGFuZCBubyBidXR0b25zIG9yIGlucHV0W3R5cGU9c3VibWl0XSB0aGVuIGhpdHRpbmcgZW50ZXJcbiAqIGRvZXNuJ3QgdHJpZ2dlciBzdWJtaXRcbiAqIC0gaWYgYSBmb3JtIGhhcyBvbmUgb3IgbW9yZSBpbnB1dCBmaWVsZHMgYW5kIG9uZSBvciBtb3JlIGJ1dHRvbnMgb3IgaW5wdXRbdHlwZT1zdWJtaXRdIHRoZW5cbiAqIGhpdHRpbmcgZW50ZXIgaW4gYW55IG9mIHRoZSBpbnB1dCBmaWVsZHMgd2lsbCB0cmlnZ2VyIHRoZSBjbGljayBoYW5kbGVyIG9uIHRoZSAqZmlyc3QqIGJ1dHRvbiBvclxuICogaW5wdXRbdHlwZT1zdWJtaXRdIChgbmdDbGlja2ApICphbmQqIGEgc3VibWl0IGhhbmRsZXIgb24gdGhlIGVuY2xvc2luZyBmb3JtIChgbmdTdWJtaXRgKVxuICpcbiAqIEFueSBwZW5kaW5nIGBuZ01vZGVsT3B0aW9uc2AgY2hhbmdlcyB3aWxsIHRha2UgcGxhY2UgaW1tZWRpYXRlbHkgd2hlbiBhbiBlbmNsb3NpbmcgZm9ybSBpc1xuICogc3VibWl0dGVkLiBOb3RlIHRoYXQgYG5nQ2xpY2tgIGV2ZW50cyB3aWxsIG9jY3VyIGJlZm9yZSB0aGUgbW9kZWwgaXMgdXBkYXRlZC4gVXNlIGBuZ1N1Ym1pdGBcbiAqIHRvIGhhdmUgYWNjZXNzIHRvIHRoZSB1cGRhdGVkIG1vZGVsLlxuICpcbiAqICMjIEFuaW1hdGlvbiBIb29rc1xuICpcbiAqIEFuaW1hdGlvbnMgaW4gbmdGb3JtIGFyZSB0cmlnZ2VyZWQgd2hlbiBhbnkgb2YgdGhlIGFzc29jaWF0ZWQgQ1NTIGNsYXNzZXMgYXJlIGFkZGVkIGFuZCByZW1vdmVkLlxuICogVGhlc2UgY2xhc3NlcyBhcmU6IGAubmctcHJpc3RpbmVgLCBgLm5nLWRpcnR5YCwgYC5uZy1pbnZhbGlkYCBhbmQgYC5uZy12YWxpZGAgYXMgd2VsbCBhcyBhbnlcbiAqIG90aGVyIHZhbGlkYXRpb25zIHRoYXQgYXJlIHBlcmZvcm1lZCB3aXRoaW4gdGhlIGZvcm0uIEFuaW1hdGlvbnMgaW4gbmdGb3JtIGFyZSBzaW1pbGFyIHRvIGhvd1xuICogdGhleSB3b3JrIGluIG5nQ2xhc3MgYW5kIGFuaW1hdGlvbnMgY2FuIGJlIGhvb2tlZCBpbnRvIHVzaW5nIENTUyB0cmFuc2l0aW9ucywga2V5ZnJhbWVzIGFzIHdlbGxcbiAqIGFzIEpTIGFuaW1hdGlvbnMuXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGEgc2ltcGxlIHdheSB0byB1dGlsaXplIENTUyB0cmFuc2l0aW9ucyB0byBzdHlsZSBhIGZvcm0gZWxlbWVudFxuICogdGhhdCBoYXMgYmVlbiByZW5kZXJlZCBhcyBpbnZhbGlkIGFmdGVyIGl0IGhhcyBiZWVuIHZhbGlkYXRlZDpcbiAqXG4gKiA8cHJlPlxuICogLy9iZSBzdXJlIHRvIGluY2x1ZGUgbmdBbmltYXRlIGFzIGEgbW9kdWxlIHRvIGhvb2sgaW50byBtb3JlXG4gKiAvL2FkdmFuY2VkIGFuaW1hdGlvbnNcbiAqIC5teS1mb3JtIHtcbiAqICAgdHJhbnNpdGlvbjowLjVzIGxpbmVhciBhbGw7XG4gKiAgIGJhY2tncm91bmQ6IHdoaXRlO1xuICogfVxuICogLm15LWZvcm0ubmctaW52YWxpZCB7XG4gKiAgIGJhY2tncm91bmQ6IHJlZDtcbiAqICAgY29sb3I6d2hpdGU7XG4gKiB9XG4gKiA8L3ByZT5cbiAqXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiIGZpeEJhc2U9XCJ0cnVlXCIgbW9kdWxlPVwiZm9ybUV4YW1wbGVcIj5cbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdmb3JtRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRm9ybUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS51c2VyVHlwZSA9ICdndWVzdCc7XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8c3R5bGU+XG4gICAgICAgIC5teS1mb3JtIHtcbiAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzO1xuICAgICAgICAgIHRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzO1xuICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIC5teS1mb3JtLm5nLWludmFsaWQge1xuICAgICAgICAgIGJhY2tncm91bmQ6IHJlZDtcbiAgICAgICAgfVxuICAgICAgIDwvc3R5bGU+XG4gICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJGb3JtQ29udHJvbGxlclwiIGNsYXNzPVwibXktZm9ybVwiPlxuICAgICAgICAgdXNlclR5cGU6IDxpbnB1dCBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cInVzZXJUeXBlXCIgcmVxdWlyZWQ+XG4gICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5SZXF1aXJlZCE8L3NwYW4+PGJyPlxuICAgICAgICAgPHR0PnVzZXJUeXBlID0ge3t1c2VyVHlwZX19PC90dD48YnI+XG4gICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnI+XG4gICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnI+XG4gICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnI+XG4gICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxicj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgdXNlclR5cGUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3VzZXJUeXBlJykpO1xuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcblxuICAgICAgICAgIGV4cGVjdCh1c2VyVHlwZS5nZXRUZXh0KCkpLnRvQ29udGFpbignZ3Vlc3QnKTtcbiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHVzZXJUeXBlID0gZWxlbWVudChieS5iaW5kaW5nKCd1c2VyVHlwZScpKTtcbiAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG4gICAgICAgICAgdmFyIHVzZXJJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3VzZXJUeXBlJykpO1xuXG4gICAgICAgICAgdXNlcklucHV0LmNsZWFyKCk7XG4gICAgICAgICAgdXNlcklucHV0LnNlbmRLZXlzKCcnKTtcblxuICAgICAgICAgIGV4cGVjdCh1c2VyVHlwZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3VzZXJUeXBlID0nKTtcbiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgTmFtZSBvZiB0aGUgZm9ybS4gSWYgc3BlY2lmaWVkLCB0aGUgZm9ybSBjb250cm9sbGVyIHdpbGwgYmUgcHVibGlzaGVkIGludG9cbiAqICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkIHNjb3BlLCB1bmRlciB0aGlzIG5hbWUuXG4gKi9cbnZhciBmb3JtRGlyZWN0aXZlRmFjdG9yeSA9IGZ1bmN0aW9uKGlzTmdGb3JtKSB7XG4gIHJldHVybiBbJyR0aW1lb3V0JywgZnVuY3Rpb24oJHRpbWVvdXQpIHtcbiAgICB2YXIgZm9ybURpcmVjdGl2ZSA9IHtcbiAgICAgIG5hbWU6ICdmb3JtJyxcbiAgICAgIHJlc3RyaWN0OiBpc05nRm9ybSA/ICdFQUMnIDogJ0UnLFxuICAgICAgY29udHJvbGxlcjogRm9ybUNvbnRyb2xsZXIsXG4gICAgICBjb21waWxlOiBmdW5jdGlvbiBuZ0Zvcm1Db21waWxlKGZvcm1FbGVtZW50KSB7XG4gICAgICAgIC8vIFNldHVwIGluaXRpYWwgc3RhdGUgb2YgdGhlIGNvbnRyb2xcbiAgICAgICAgZm9ybUVsZW1lbnQuYWRkQ2xhc3MoUFJJU1RJTkVfQ0xBU1MpLmFkZENsYXNzKFZBTElEX0NMQVNTKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHByZTogZnVuY3Rpb24gbmdGb3JtUHJlTGluayhzY29wZSwgZm9ybUVsZW1lbnQsIGF0dHIsIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIC8vIGlmIGBhY3Rpb25gIGF0dHIgaXMgbm90IHByZXNlbnQgb24gdGhlIGZvcm0sIHByZXZlbnQgdGhlIGRlZmF1bHQgYWN0aW9uIChzdWJtaXNzaW9uKVxuICAgICAgICAgICAgaWYgKCEoJ2FjdGlvbicgaW4gYXR0cikpIHtcbiAgICAgICAgICAgICAgLy8gd2UgY2FuJ3QgdXNlIGpxIGV2ZW50cyBiZWNhdXNlIGlmIGEgZm9ybSBpcyBkZXN0cm95ZWQgZHVyaW5nIHN1Ym1pc3Npb24gdGhlIGRlZmF1bHRcbiAgICAgICAgICAgICAgLy8gYWN0aW9uIGlzIG5vdCBwcmV2ZW50ZWQuIHNlZSAjMTIzOFxuICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAvLyBJRSA5IGlzIG5vdCBhZmZlY3RlZCBiZWNhdXNlIGl0IGRvZXNuJ3QgZmlyZSBhIHN1Ym1pdCBldmVudCBhbmQgdHJ5IHRvIGRvIGEgZnVsbFxuICAgICAgICAgICAgICAvLyBwYWdlIHJlbG9hZCBpZiB0aGUgZm9ybSB3YXMgZGVzdHJveWVkIGJ5IHN1Ym1pc3Npb24gb2YgdGhlIGZvcm0gdmlhIGEgY2xpY2sgaGFuZGxlclxuICAgICAgICAgICAgICAvLyBvbiBhIGJ1dHRvbiBpbiB0aGUgZm9ybS4gTG9va3MgbGlrZSBhbiBJRTkgc3BlY2lmaWMgYnVnLlxuICAgICAgICAgICAgICB2YXIgaGFuZGxlRm9ybVN1Ym1pc3Npb24gPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgICAgICAgICAgICAgICAgY29udHJvbGxlci4kc2V0U3VibWl0dGVkKCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdFxuICAgICAgICAgICAgICAgICAgPyBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAgICAgICA6IGV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7IC8vIElFXG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lckZuKGZvcm1FbGVtZW50WzBdLCAnc3VibWl0JywgaGFuZGxlRm9ybVN1Ym1pc3Npb24pO1xuXG4gICAgICAgICAgICAgIC8vIHVucmVnaXN0ZXIgdGhlIHByZXZlbnREZWZhdWx0IGxpc3RlbmVyIHNvIHRoYXQgd2UgZG9uJ3Qgbm90IGxlYWsgbWVtb3J5IGJ1dCBpbiBhXG4gICAgICAgICAgICAgIC8vIHdheSB0aGF0IHdpbGwgYWNoaWV2ZSB0aGUgcHJldmVudGlvbiBvZiB0aGUgZGVmYXVsdCBhY3Rpb24uXG4gICAgICAgICAgICAgIGZvcm1FbGVtZW50Lm9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lckZuKGZvcm1FbGVtZW50WzBdLCAnc3VibWl0JywgaGFuZGxlRm9ybVN1Ym1pc3Npb24pO1xuICAgICAgICAgICAgICAgIH0sIDAsIGZhbHNlKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBwYXJlbnRGb3JtQ3RybCA9IGNvbnRyb2xsZXIuJCRwYXJlbnRGb3JtLFxuICAgICAgICAgICAgICAgIGFsaWFzID0gY29udHJvbGxlci4kbmFtZTtcblxuICAgICAgICAgICAgaWYgKGFsaWFzKSB7XG4gICAgICAgICAgICAgIHNldHRlcihzY29wZSwgYWxpYXMsIGNvbnRyb2xsZXIsIGFsaWFzKTtcbiAgICAgICAgICAgICAgYXR0ci4kb2JzZXJ2ZShhdHRyLm5hbWUgPyAnbmFtZScgOiAnbmdGb3JtJywgZnVuY3Rpb24obmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoYWxpYXMgPT09IG5ld1ZhbHVlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgc2V0dGVyKHNjb3BlLCBhbGlhcywgdW5kZWZpbmVkLCBhbGlhcyk7XG4gICAgICAgICAgICAgICAgYWxpYXMgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICBzZXR0ZXIoc2NvcGUsIGFsaWFzLCBjb250cm9sbGVyLCBhbGlhcyk7XG4gICAgICAgICAgICAgICAgcGFyZW50Rm9ybUN0cmwuJCRyZW5hbWVDb250cm9sKGNvbnRyb2xsZXIsIGFsaWFzKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3JtRWxlbWVudC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcGFyZW50Rm9ybUN0cmwuJHJlbW92ZUNvbnRyb2woY29udHJvbGxlcik7XG4gICAgICAgICAgICAgIGlmIChhbGlhcykge1xuICAgICAgICAgICAgICAgIHNldHRlcihzY29wZSwgYWxpYXMsIHVuZGVmaW5lZCwgYWxpYXMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGV4dGVuZChjb250cm9sbGVyLCBudWxsRm9ybUN0cmwpOyAvL3N0b3AgcHJvcGFnYXRpbmcgY2hpbGQgZGVzdHJ1Y3Rpb24gaGFuZGxlcnMgdXB3YXJkc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gZm9ybURpcmVjdGl2ZTtcbiAgfV07XG59O1xuXG52YXIgZm9ybURpcmVjdGl2ZSA9IGZvcm1EaXJlY3RpdmVGYWN0b3J5KCk7XG52YXIgbmdGb3JtRGlyZWN0aXZlID0gZm9ybURpcmVjdGl2ZUZhY3RvcnkodHJ1ZSk7XG5cbi8qIGdsb2JhbCBWQUxJRF9DTEFTUzogdHJ1ZSxcbiAgSU5WQUxJRF9DTEFTUzogdHJ1ZSxcbiAgUFJJU1RJTkVfQ0xBU1M6IHRydWUsXG4gIERJUlRZX0NMQVNTOiB0cnVlLFxuICBVTlRPVUNIRURfQ0xBU1M6IHRydWUsXG4gIFRPVUNIRURfQ0xBU1M6IHRydWUsXG4qL1xuXG4vLyBSZWdleCBjb2RlIGlzIG9idGFpbmVkIGZyb20gU086IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzMxNDMwNzAvamF2YXNjcmlwdC1yZWdleC1pc28tZGF0ZXRpbWUjYW5zd2VyLTMxNDMyMzFcbnZhciBJU09fREFURV9SRUdFWFAgPSAvXFxkezR9LVswMV1cXGQtWzAtM11cXGRUWzAtMl1cXGQ6WzAtNV1cXGQ6WzAtNV1cXGRcXC5cXGQrKFsrLV1bMC0yXVxcZDpbMC01XVxcZHxaKS87XG52YXIgVVJMX1JFR0VYUCA9IC9eKGZ0cHxodHRwfGh0dHBzKTpcXC9cXC8oXFx3Kzp7MCwxfVxcdypAKT8oXFxTKykoOlswLTldKyk/KFxcL3xcXC8oW1xcdyMhOi4/Kz0mJUAhXFwtXFwvXSkpPyQvO1xudmFyIEVNQUlMX1JFR0VYUCA9IC9eW2EtejAtOSEjJCUmJyorXFwvPT9eX2B7fH1+Li1dK0BbYS16MC05XShbYS16MC05LV0qW2EtejAtOV0pPyhcXC5bYS16MC05XShbYS16MC05LV0qW2EtejAtOV0pPykqJC9pO1xudmFyIE5VTUJFUl9SRUdFWFAgPSAvXlxccyooXFwtfFxcKyk/KFxcZCt8KFxcZCooXFwuXFxkKikpKVxccyokLztcbnZhciBEQVRFX1JFR0VYUCA9IC9eKFxcZHs0fSktKFxcZHsyfSktKFxcZHsyfSkkLztcbnZhciBEQVRFVElNRUxPQ0FMX1JFR0VYUCA9IC9eKFxcZHs0fSktKFxcZFxcZCktKFxcZFxcZClUKFxcZFxcZCk6KFxcZFxcZCkoPzo6KFxcZFxcZCkoXFwuXFxkezEsM30pPyk/JC87XG52YXIgV0VFS19SRUdFWFAgPSAvXihcXGR7NH0pLVcoXFxkXFxkKSQvO1xudmFyIE1PTlRIX1JFR0VYUCA9IC9eKFxcZHs0fSktKFxcZFxcZCkkLztcbnZhciBUSU1FX1JFR0VYUCA9IC9eKFxcZFxcZCk6KFxcZFxcZCkoPzo6KFxcZFxcZCkoXFwuXFxkezEsM30pPyk/JC87XG52YXIgREVGQVVMVF9SRUdFWFAgPSAvKFxccyt8XilkZWZhdWx0KFxccyt8JCkvO1xuXG52YXIgJG5nTW9kZWxNaW5FcnIgPSBuZXcgbWluRXJyKCduZ01vZGVsJyk7XG5cbnZhciBpbnB1dFR5cGUgPSB7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFt0ZXh0XVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU3RhbmRhcmQgSFRNTCB0ZXh0IGlucHV0IHdpdGggYW5ndWxhciBkYXRhIGJpbmRpbmcsIGluaGVyaXRlZCBieSBtb3N0IG9mIHRoZSBgaW5wdXRgIGVsZW1lbnRzLlxuICAgKlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXG4gICAqICAgIG1pbmxlbmd0aC5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxuICAgKiAgICBtYXhsZW5ndGguXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBkb2VzIG5vdCBtYXRjaCB0aGVcbiAgICogICAgUmVnRXhwIHBhdHRlcm4gZXhwcmVzc2lvbi4gRXhwZWN0ZWQgdmFsdWUgaXMgYC9yZWdleHAvYCBmb3IgaW5saW5lIHBhdHRlcm5zIG9yIGByZWdleHBgIGZvclxuICAgKiAgICBwYXR0ZXJucyBkZWZpbmVkIGFzIHNjb3BlIGV4cHJlc3Npb25zLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICogQHBhcmFtIHtib29sZWFuPX0gW25nVHJpbT10cnVlXSBJZiBzZXQgdG8gZmFsc2UgQW5ndWxhciB3aWxsIG5vdCBhdXRvbWF0aWNhbGx5IHRyaW0gdGhlIGlucHV0LlxuICAgKiAgICBUaGlzIHBhcmFtZXRlciBpcyBpZ25vcmVkIGZvciBpbnB1dFt0eXBlPXBhc3N3b3JkXSBjb250cm9scywgd2hpY2ggd2lsbCBuZXZlciB0cmltIHRoZVxuICAgKiAgICBpbnB1dC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICAgIDxleGFtcGxlIG5hbWU9XCJ0ZXh0LWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cInRleHRJbnB1dEV4YW1wbGVcIj5cbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCd0ZXh0SW5wdXRFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICRzY29wZS50ZXh0ID0gJ2d1ZXN0JztcbiAgICAgICAgICAgICAgICRzY29wZS53b3JkID0gL15cXHMqXFx3KlxccyokLztcbiAgICAgICAgICAgICB9XSk7XG4gICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICAgU2luZ2xlIHdvcmQ6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmctcGF0dGVybj1cIndvcmRcIiByZXF1aXJlZCBuZy10cmltPVwiZmFsc2VcIj5cbiAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XG4gICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucGF0dGVyblwiPlxuICAgICAgICAgICAgIFNpbmdsZSB3b3JkIG9ubHkhPC9zcGFuPlxuXG4gICAgICAgICAgIDx0dD50ZXh0ID0ge3t0ZXh0fX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIHZhciB0ZXh0ID0gZWxlbWVudChieS5iaW5kaW5nKCd0ZXh0JykpO1xuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd0ZXh0JykpO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvQ29udGFpbignZ3Vlc3QnKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJycpO1xuXG4gICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvRXF1YWwoJ3RleHQgPScpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG11bHRpIHdvcmQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnaGVsbG8gd29ybGQnKTtcblxuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICAgIH0pO1xuICAgICAgICA8L2ZpbGU+XG4gICAgICA8L2V4YW1wbGU+XG4gICAqL1xuICAndGV4dCc6IHRleHRJbnB1dFR5cGUsXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgaW5wdXRcbiAgICAgKiBAbmFtZSBpbnB1dFtkYXRlXVxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogSW5wdXQgd2l0aCBkYXRlIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uLiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCB5ZXQgc3VwcG9ydFxuICAgICAqIHRoZSBIVE1MNSBkYXRlIGlucHV0LCBhIHRleHQgZWxlbWVudCB3aWxsIGJlIHVzZWQuIEluIHRoYXQgY2FzZSwgdGV4dCBtdXN0IGJlIGVudGVyZWQgaW4gYSB2YWxpZCBJU08tODYwMVxuICAgICAqIGRhdGUgZm9ybWF0ICh5eXl5LU1NLWRkKSwgZm9yIGV4YW1wbGU6IGAyMDA5LTAxLTA2YC4gU2luY2UgbWFueVxuICAgICAqIG1vZGVybiBicm93c2VycyBkbyBub3QgeWV0IHN1cHBvcnQgdGhpcyBpbnB1dCB0eXBlLCBpdCBpcyBpbXBvcnRhbnQgdG8gcHJvdmlkZSBjdWVzIHRvIHVzZXJzIG9uIHRoZVxuICAgICAqIGV4cGVjdGVkIGlucHV0IGZvcm1hdCB2aWEgYSBwbGFjZWhvbGRlciBvciBsYWJlbC5cbiAgICAgKlxuICAgICAqIFRoZSBtb2RlbCBtdXN0IGFsd2F5cyBiZSBhIERhdGUgb2JqZWN0LCBvdGhlcndpc2UgQW5ndWxhciB3aWxsIHRocm93IGFuIGVycm9yLlxuICAgICAqIEludmFsaWQgYERhdGVgIG9iamVjdHMgKGRhdGVzIHdob3NlIGBnZXRUaW1lKClgIGlzIGBOYU5gKSB3aWxsIGJlIHJlbmRlcmVkIGFzIGFuIGVtcHR5IHN0cmluZy5cbiAgICAgKlxuICAgICAqIFRoZSB0aW1lem9uZSB0byBiZSB1c2VkIHRvIHJlYWQvd3JpdGUgdGhlIGBEYXRlYCBpbnN0YW5jZSBpbiB0aGUgbW9kZWwgY2FuIGJlIGRlZmluZWQgdXNpbmdcbiAgICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIG5nTW9kZWxPcHRpb25zfS4gQnkgZGVmYXVsdCwgdGhpcyBpcyB0aGUgdGltZXpvbmUgb2YgdGhlIGJyb3dzZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC4gVGhpcyBtdXN0IGJlIGFcbiAgICAgKiB2YWxpZCBJU08gZGF0ZSBzdHJpbmcgKHl5eXktTU0tZGQpLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXIgdGhhbiBgbWF4YC4gVGhpcyBtdXN0IGJlXG4gICAgICogYSB2YWxpZCBJU08gZGF0ZSBzdHJpbmcgKHl5eXktTU0tZGQpLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICAgICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICA8ZXhhbXBsZSBuYW1lPVwiZGF0ZS1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJkYXRlSW5wdXRFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnZGF0ZUlucHV0RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0RhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLnZhbHVlID0gbmV3IERhdGUoMjAxMywgOSwgMjIpO1xuICAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRGF0ZUNvbnRyb2xsZXIgYXMgZGF0ZUN0cmxcIj5cbiAgICAgICAgICBQaWNrIGEgZGF0ZSBpbiAyMDEzOlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZGF0ZVwiIGlkPVwiZXhhbXBsZUlucHV0XCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJ2YWx1ZVwiXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwieXl5eS1NTS1kZFwiIG1pbj1cIjIwMTMtMDEtMDFcIiBtYXg9XCIyMDEzLTEyLTMxXCIgcmVxdWlyZWQgLz5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5kYXRlXCI+XG4gICAgICAgICAgICAgIE5vdCBhIHZhbGlkIGRhdGUhPC9zcGFuPlxuICAgICAgICAgICA8dHQ+dmFsdWUgPSB7e3ZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NLWRkXCJ9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICAgIDwvZm9ybT5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQoYnkuYmluZGluZygndmFsdWUgfCBkYXRlOiBcInl5eXktTU0tZGRcIicpKTtcbiAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xuICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKTtcblxuICAgICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAgICAvLyBzZW5kaW5nIGtleXMgdG8gYWxsIGtub3duIEhUTUw1IGlucHV0IGNvbnRyb2xzXG4gICAgICAgIC8vIGZvciB2YXJpb3VzIGJyb3dzZXJzIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNTYyKS5cbiAgICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XG4gICAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhbmQgZm9yY2UgdmFsaWRhdGlvbi5cbiAgICAgICAgICB2YXIgc2NyID0gXCJ2YXIgaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1wbGVJbnB1dCcpOyBcIiArXG4gICAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xuICAgICAgICAgIFwiYW5ndWxhci5lbGVtZW50KGlwdCkuc2NvcGUoKS4kYXBwbHkoZnVuY3Rpb24ocykgeyBzLm15Rm9ybVtpcHQubmFtZV0uJHNldFZpZXdWYWx1ZSgnXCIgKyB2YWwgKyBcIicpOyB9KTtcIjtcbiAgICAgICAgICBicm93c2VyLmV4ZWN1dGVTY3JpcHQoc2NyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignMjAxMy0xMC0yMicpO1xuICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IHRydWUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2V0SW5wdXQoJycpO1xuICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcbiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZXRJbnB1dCgnMjAxNS0wMS0wMScpO1xuICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XG4gICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgICAgPC9leGFtcGxlPlxuICAgICAqL1xuICAnZGF0ZSc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ2RhdGUnLCBEQVRFX1JFR0VYUCxcbiAgICAgICAgIGNyZWF0ZURhdGVQYXJzZXIoREFURV9SRUdFWFAsIFsneXl5eScsICdNTScsICdkZCddKSxcbiAgICAgICAgICd5eXl5LU1NLWRkJyksXG5cbiAgIC8qKlxuICAgICogQG5nZG9jIGlucHV0XG4gICAgKiBAbmFtZSBpbnB1dFtkYXRlVGltZUxvY2FsXVxuICAgICpcbiAgICAqIEBkZXNjcmlwdGlvblxuICAgICogSW5wdXQgd2l0aCBkYXRldGltZSB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbi4gSW4gYnJvd3NlcnMgdGhhdCBkbyBub3QgeWV0IHN1cHBvcnRcbiAgICAqIHRoZSBIVE1MNSBkYXRlIGlucHV0LCBhIHRleHQgZWxlbWVudCB3aWxsIGJlIHVzZWQuIEluIHRoYXQgY2FzZSwgdGhlIHRleHQgbXVzdCBiZSBlbnRlcmVkIGluIGEgdmFsaWQgSVNPLTg2MDFcbiAgICAqIGxvY2FsIGRhdGV0aW1lIGZvcm1hdCAoeXl5eS1NTS1kZFRISDptbTpzcyksIGZvciBleGFtcGxlOiBgMjAxMC0xMi0yOFQxNDo1NzowMGAuXG4gICAgKlxuICAgICogVGhlIG1vZGVsIG11c3QgYWx3YXlzIGJlIGEgRGF0ZSBvYmplY3QsIG90aGVyd2lzZSBBbmd1bGFyIHdpbGwgdGhyb3cgYW4gZXJyb3IuXG4gICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgKlxuICAgICogVGhlIHRpbWV6b25lIHRvIGJlIHVzZWQgdG8gcmVhZC93cml0ZSB0aGUgYERhdGVgIGluc3RhbmNlIGluIHRoZSBtb2RlbCBjYW4gYmUgZGVmaW5lZCB1c2luZ1xuICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxuICAgICpcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC4gVGhpcyBtdXN0IGJlIGFcbiAgICAqIHZhbGlkIElTTyBkYXRldGltZSBmb3JtYXQgKHl5eXktTU0tZGRUSEg6bW06c3MpLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLiBUaGlzIG11c3QgYmVcbiAgICAqIGEgdmFsaWQgSVNPIGRhdGV0aW1lIGZvcm1hdCAoeXl5eS1NTS1kZFRISDptbTpzcykuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICAqXG4gICAgKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlIG5hbWU9XCJkYXRldGltZWxvY2FsLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cImRhdGVFeGFtcGxlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxzY3JpcHQ+XG4gICAgICAgIGFuZ3VsYXIubW9kdWxlKCdkYXRlRXhhbXBsZScsIFtdKVxuICAgICAgICAgIC5jb250cm9sbGVyKCdEYXRlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAkc2NvcGUudmFsdWUgPSBuZXcgRGF0ZSgyMDEwLCAxMSwgMjgsIDE0LCA1Nyk7XG4gICAgICAgICAgfV0pO1xuICAgICAgPC9zY3JpcHQ+XG4gICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XG4gICAgICAgIFBpY2sgYSBkYXRlIGJldHdlZW4gaW4gMjAxMzpcbiAgICAgICAgPGlucHV0IHR5cGU9XCJkYXRldGltZS1sb2NhbFwiIGlkPVwiZXhhbXBsZUlucHV0XCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJ2YWx1ZVwiXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cInl5eXktTU0tZGRUSEg6bW06c3NcIiBtaW49XCIyMDAxLTAxLTAxVDAwOjAwOjAwXCIgbWF4PVwiMjAxMy0xMi0zMVQwMDowMDowMFwiIHJlcXVpcmVkIC8+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IuZGF0ZXRpbWVsb2NhbFwiPlxuICAgICAgICAgICAgTm90IGEgdmFsaWQgZGF0ZSE8L3NwYW4+XG4gICAgICAgIDx0dD52YWx1ZSA9IHt7dmFsdWUgfCBkYXRlOiBcInl5eXktTU0tZGRUSEg6bW06c3NcIn19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XG4gICAgICA8L2Zvcm0+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQoYnkuYmluZGluZygndmFsdWUgfCBkYXRlOiBcInl5eXktTU0tZGRUSEg6bW06c3NcIicpKTtcbiAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpO1xuXG4gICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAgLy8gc2VuZGluZyBrZXlzIHRvIGFsbCBrbm93biBIVE1MNSBpbnB1dCBjb250cm9sc1xuICAgICAgLy8gZm9yIHZhcmlvdXMgYnJvd3NlcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzU2MikuXG4gICAgICBmdW5jdGlvbiBzZXRJbnB1dCh2YWwpIHtcbiAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhbmQgZm9yY2UgdmFsaWRhdGlvbi5cbiAgICAgICAgdmFyIHNjciA9IFwidmFyIGlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtcGxlSW5wdXQnKTsgXCIgK1xuICAgICAgICBcImlwdC52YWx1ZSA9ICdcIiArIHZhbCArIFwiJztcIiArXG4gICAgICAgIFwiYW5ndWxhci5lbGVtZW50KGlwdCkuc2NvcGUoKS4kYXBwbHkoZnVuY3Rpb24ocykgeyBzLm15Rm9ybVtpcHQubmFtZV0uJHNldFZpZXdWYWx1ZSgnXCIgKyB2YWwgKyBcIicpOyB9KTtcIjtcbiAgICAgICAgYnJvd3Nlci5leGVjdXRlU2NyaXB0KHNjcik7XG4gICAgICB9XG5cbiAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzIwMTAtMTItMjhUMTQ6NTc6MDAnKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gdHJ1ZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRJbnB1dCgnJyk7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0SW5wdXQoJzIwMTUtMDEtMDFUMjM6NTk6MDAnKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcnKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gICAgKi9cbiAgJ2RhdGV0aW1lLWxvY2FsJzogY3JlYXRlRGF0ZUlucHV0VHlwZSgnZGF0ZXRpbWVsb2NhbCcsIERBVEVUSU1FTE9DQUxfUkVHRVhQLFxuICAgICAgY3JlYXRlRGF0ZVBhcnNlcihEQVRFVElNRUxPQ0FMX1JFR0VYUCwgWyd5eXl5JywgJ01NJywgJ2RkJywgJ0hIJywgJ21tJywgJ3NzJywgJ3NzcyddKSxcbiAgICAgICd5eXl5LU1NLWRkVEhIOm1tOnNzLnNzcycpLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgaW5wdXRcbiAgICogQG5hbWUgaW5wdXRbdGltZV1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIElucHV0IHdpdGggdGltZSB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbi4gSW4gYnJvd3NlcnMgdGhhdCBkbyBub3QgeWV0IHN1cHBvcnRcbiAgICogdGhlIEhUTUw1IGRhdGUgaW5wdXQsIGEgdGV4dCBlbGVtZW50IHdpbGwgYmUgdXNlZC4gSW4gdGhhdCBjYXNlLCB0aGUgdGV4dCBtdXN0IGJlIGVudGVyZWQgaW4gYSB2YWxpZCBJU08tODYwMVxuICAgKiBsb2NhbCB0aW1lIGZvcm1hdCAoSEg6bW06c3MpLCBmb3IgZXhhbXBsZTogYDE0OjU3OjAwYC4gTW9kZWwgbXVzdCBiZSBhIERhdGUgb2JqZWN0LiBUaGlzIGJpbmRpbmcgd2lsbCBhbHdheXMgb3V0cHV0IGFcbiAgICogRGF0ZSBvYmplY3QgdG8gdGhlIG1vZGVsIG9mIEphbnVhcnkgMSwgMTk3MCwgb3IgbG9jYWwgZGF0ZSBgbmV3IERhdGUoMTk3MCwgMCwgMSwgSEgsIG1tLCBzcylgLlxuICAgKlxuICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBEYXRlIG9iamVjdCwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICogSW52YWxpZCBgRGF0ZWAgb2JqZWN0cyAoZGF0ZXMgd2hvc2UgYGdldFRpbWUoKWAgaXMgYE5hTmApIHdpbGwgYmUgcmVuZGVyZWQgYXMgYW4gZW1wdHkgc3RyaW5nLlxuICAgKlxuICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXG4gICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9LiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSB0aW1lem9uZSBvZiB0aGUgYnJvd3Nlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC4gVGhpcyBtdXN0IGJlIGFcbiAgICogdmFsaWQgSVNPIHRpbWUgZm9ybWF0IChISDptbTpzcykuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXIgdGhhbiBgbWF4YC4gVGhpcyBtdXN0IGJlIGFcbiAgICogdmFsaWQgSVNPIHRpbWUgZm9ybWF0IChISDptbTpzcykuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG5hbWU9XCJ0aW1lLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cInRpbWVFeGFtcGxlXCI+XG4gICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICA8c2NyaXB0PlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ3RpbWVFeGFtcGxlJywgW10pXG4gICAgICAgIC5jb250cm9sbGVyKCdEYXRlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgJHNjb3BlLnZhbHVlID0gbmV3IERhdGUoMTk3MCwgMCwgMSwgMTQsIDU3LCAwKTtcbiAgICAgICAgfV0pO1xuICAgICA8L3NjcmlwdD5cbiAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJEYXRlQ29udHJvbGxlciBhcyBkYXRlQ3RybFwiPlxuICAgICAgICBQaWNrIGEgYmV0d2VlbiA4YW0gYW5kIDVwbTpcbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0aW1lXCIgaWQ9XCJleGFtcGxlSW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cInZhbHVlXCJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiSEg6bW06c3NcIiBtaW49XCIwODowMDowMFwiIG1heD1cIjE3OjAwOjAwXCIgcmVxdWlyZWQgLz5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XG4gICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci50aW1lXCI+XG4gICAgICAgICAgICBOb3QgYSB2YWxpZCBkYXRlITwvc3Bhbj5cbiAgICAgICAgPHR0PnZhbHVlID0ge3t2YWx1ZSB8IGRhdGU6IFwiSEg6bW06c3NcIn19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XG4gICAgIDwvZm9ybT5cbiAgIDwvZmlsZT5cbiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQoYnkuYmluZGluZygndmFsdWUgfCBkYXRlOiBcIkhIOm1tOnNzXCInKSk7XG4gICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG4gICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKTtcblxuICAgICAgLy8gY3VycmVudGx5IHByb3RyYWN0b3Ivd2ViZHJpdmVyIGRvZXMgbm90IHN1cHBvcnRcbiAgICAgIC8vIHNlbmRpbmcga2V5cyB0byBhbGwga25vd24gSFRNTDUgaW5wdXQgY29udHJvbHNcbiAgICAgIC8vIGZvciB2YXJpb3VzIGJyb3dzZXJzIChodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy81NjIpLlxuICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XG4gICAgICAgIC8vIHNldCB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgYW5kIGZvcmNlIHZhbGlkYXRpb24uXG4gICAgICAgIHZhciBzY3IgPSBcInZhciBpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbXBsZUlucHV0Jyk7IFwiICtcbiAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xuICAgICAgICBcImFuZ3VsYXIuZWxlbWVudChpcHQpLnNjb3BlKCkuJGFwcGx5KGZ1bmN0aW9uKHMpIHsgcy5teUZvcm1baXB0Lm5hbWVdLiRzZXRWaWV3VmFsdWUoJ1wiICsgdmFsICsgXCInKTsgfSk7XCI7XG4gICAgICAgIGJyb3dzZXIuZXhlY3V0ZVNjcmlwdChzY3IpO1xuICAgICAgfVxuXG4gICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcxNDo1NzowMCcpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSB0cnVlJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldElucHV0KCcnKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBvdmVyIG1heCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRJbnB1dCgnMjM6NTk6MDAnKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcnKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgIH0pO1xuICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ3RpbWUnOiBjcmVhdGVEYXRlSW5wdXRUeXBlKCd0aW1lJywgVElNRV9SRUdFWFAsXG4gICAgICBjcmVhdGVEYXRlUGFyc2VyKFRJTUVfUkVHRVhQLCBbJ0hIJywgJ21tJywgJ3NzJywgJ3NzcyddKSxcbiAgICAgJ0hIOm1tOnNzLnNzcycpLFxuXG4gICAvKipcbiAgICAqIEBuZ2RvYyBpbnB1dFxuICAgICogQG5hbWUgaW5wdXRbd2Vla11cbiAgICAqXG4gICAgKiBAZGVzY3JpcHRpb25cbiAgICAqIElucHV0IHdpdGggd2Vlay1vZi10aGUteWVhciB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbiB0byBEYXRlLiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCB5ZXQgc3VwcG9ydFxuICAgICogdGhlIEhUTUw1IHdlZWsgaW5wdXQsIGEgdGV4dCBlbGVtZW50IHdpbGwgYmUgdXNlZC4gSW4gdGhhdCBjYXNlLCB0aGUgdGV4dCBtdXN0IGJlIGVudGVyZWQgaW4gYSB2YWxpZCBJU08tODYwMVxuICAgICogd2VlayBmb3JtYXQgKHl5eXktVyMjKSwgZm9yIGV4YW1wbGU6IGAyMDEzLVcwMmAuXG4gICAgKlxuICAgICogVGhlIG1vZGVsIG11c3QgYWx3YXlzIGJlIGEgRGF0ZSBvYmplY3QsIG90aGVyd2lzZSBBbmd1bGFyIHdpbGwgdGhyb3cgYW4gZXJyb3IuXG4gICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgKlxuICAgICogVGhlIHRpbWV6b25lIHRvIGJlIHVzZWQgdG8gcmVhZC93cml0ZSB0aGUgYERhdGVgIGluc3RhbmNlIGluIHRoZSBtb2RlbCBjYW4gYmUgZGVmaW5lZCB1c2luZ1xuICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxuICAgICpcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC4gVGhpcyBtdXN0IGJlIGFcbiAgICAqIHZhbGlkIElTTyB3ZWVrIGZvcm1hdCAoeXl5eS1XIyMpLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLiBUaGlzIG11c3QgYmVcbiAgICAqIGEgdmFsaWQgSVNPIHdlZWsgZm9ybWF0ICh5eXl5LVcjIykuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICAqXG4gICAgKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlIG5hbWU9XCJ3ZWVrLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cIndlZWtFeGFtcGxlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxzY3JpcHQ+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnd2Vla0V4YW1wbGUnLCBbXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0RhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAkc2NvcGUudmFsdWUgPSBuZXcgRGF0ZSgyMDEzLCAwLCAzKTtcbiAgICAgICAgfV0pO1xuICAgICAgPC9zY3JpcHQ+XG4gICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XG4gICAgICAgIFBpY2sgYSBkYXRlIGJldHdlZW4gaW4gMjAxMzpcbiAgICAgICAgPGlucHV0IGlkPVwiZXhhbXBsZUlucHV0XCIgdHlwZT1cIndlZWtcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cInZhbHVlXCJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiWVlZWS1XIyNcIiBtaW49XCIyMDEyLVczMlwiIG1heD1cIjIwMTMtVzUyXCIgcmVxdWlyZWQgLz5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XG4gICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci53ZWVrXCI+XG4gICAgICAgICAgICBOb3QgYSB2YWxpZCBkYXRlITwvc3Bhbj5cbiAgICAgICAgPHR0PnZhbHVlID0ge3t2YWx1ZSB8IGRhdGU6IFwieXl5eS1Xd3dcIn19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XG4gICAgICA8L2Zvcm0+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQoYnkuYmluZGluZygndmFsdWUgfCBkYXRlOiBcInl5eXktV3d3XCInKSk7XG4gICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG4gICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKTtcblxuICAgICAgLy8gY3VycmVudGx5IHByb3RyYWN0b3Ivd2ViZHJpdmVyIGRvZXMgbm90IHN1cHBvcnRcbiAgICAgIC8vIHNlbmRpbmcga2V5cyB0byBhbGwga25vd24gSFRNTDUgaW5wdXQgY29udHJvbHNcbiAgICAgIC8vIGZvciB2YXJpb3VzIGJyb3dzZXJzIChodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy81NjIpLlxuICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XG4gICAgICAgIC8vIHNldCB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgYW5kIGZvcmNlIHZhbGlkYXRpb24uXG4gICAgICAgIHZhciBzY3IgPSBcInZhciBpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbXBsZUlucHV0Jyk7IFwiICtcbiAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xuICAgICAgICBcImFuZ3VsYXIuZWxlbWVudChpcHQpLnNjb3BlKCkuJGFwcGx5KGZ1bmN0aW9uKHMpIHsgcy5teUZvcm1baXB0Lm5hbWVdLiRzZXRWaWV3VmFsdWUoJ1wiICsgdmFsICsgXCInKTsgfSk7XCI7XG4gICAgICAgIGJyb3dzZXIuZXhlY3V0ZVNjcmlwdChzY3IpO1xuICAgICAgfVxuXG4gICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcyMDEzLVcwMScpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSB0cnVlJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldElucHV0KCcnKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBvdmVyIG1heCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRJbnB1dCgnMjAxNS1XMDEnKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcnKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gICAgKi9cbiAgJ3dlZWsnOiBjcmVhdGVEYXRlSW5wdXRUeXBlKCd3ZWVrJywgV0VFS19SRUdFWFAsIHdlZWtQYXJzZXIsICd5eXl5LVd3dycpLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgaW5wdXRcbiAgICogQG5hbWUgaW5wdXRbbW9udGhdXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBJbnB1dCB3aXRoIG1vbnRoIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uLiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCB5ZXQgc3VwcG9ydFxuICAgKiB0aGUgSFRNTDUgbW9udGggaW5wdXQsIGEgdGV4dCBlbGVtZW50IHdpbGwgYmUgdXNlZC4gSW4gdGhhdCBjYXNlLCB0aGUgdGV4dCBtdXN0IGJlIGVudGVyZWQgaW4gYSB2YWxpZCBJU08tODYwMVxuICAgKiBtb250aCBmb3JtYXQgKHl5eXktTU0pLCBmb3IgZXhhbXBsZTogYDIwMDktMDFgLlxuICAgKlxuICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBEYXRlIG9iamVjdCwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICogSW52YWxpZCBgRGF0ZWAgb2JqZWN0cyAoZGF0ZXMgd2hvc2UgYGdldFRpbWUoKWAgaXMgYE5hTmApIHdpbGwgYmUgcmVuZGVyZWQgYXMgYW4gZW1wdHkgc3RyaW5nLlxuICAgKiBJZiB0aGUgbW9kZWwgaXMgbm90IHNldCB0byB0aGUgZmlyc3Qgb2YgdGhlIG1vbnRoLCB0aGUgbmV4dCB2aWV3IHRvIG1vZGVsIHVwZGF0ZSB3aWxsIHNldCBpdFxuICAgKiB0byB0aGUgZmlyc3Qgb2YgdGhlIG1vbnRoLlxuICAgKlxuICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXG4gICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9LiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSB0aW1lem9uZSBvZiB0aGUgYnJvd3Nlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC4gVGhpcyBtdXN0IGJlXG4gICAqIGEgdmFsaWQgSVNPIG1vbnRoIGZvcm1hdCAoeXl5eS1NTSkuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXIgdGhhbiBgbWF4YC4gVGhpcyBtdXN0XG4gICAqIGJlIGEgdmFsaWQgSVNPIG1vbnRoIGZvcm1hdCAoeXl5eS1NTSkuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG5hbWU9XCJtb250aC1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJtb250aEV4YW1wbGVcIj5cbiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgIDxzY3JpcHQ+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbW9udGhFeGFtcGxlJywgW10pXG4gICAgICAgIC5jb250cm9sbGVyKCdEYXRlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgJHNjb3BlLnZhbHVlID0gbmV3IERhdGUoMjAxMywgOSwgMSk7XG4gICAgICAgIH1dKTtcbiAgICAgPC9zY3JpcHQ+XG4gICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRGF0ZUNvbnRyb2xsZXIgYXMgZGF0ZUN0cmxcIj5cbiAgICAgICBQaWNrIGEgbW9udGggaW50IDIwMTM6XG4gICAgICAgPGlucHV0IGlkPVwiZXhhbXBsZUlucHV0XCIgdHlwZT1cIm1vbnRoXCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJ2YWx1ZVwiXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJ5eXl5LU1NXCIgbWluPVwiMjAxMy0wMVwiIG1heD1cIjIwMTMtMTJcIiByZXF1aXJlZCAvPlxuICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IubW9udGhcIj5cbiAgICAgICAgICBOb3QgYSB2YWxpZCBtb250aCE8L3NwYW4+XG4gICAgICAgPHR0PnZhbHVlID0ge3t2YWx1ZSB8IGRhdGU6IFwieXl5eS1NTVwifX08L3R0Pjxici8+XG4gICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxuICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICA8L2Zvcm0+XG4gICA8L2ZpbGU+XG4gICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3ZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NXCInKSk7XG4gICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG4gICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKTtcblxuICAgICAgLy8gY3VycmVudGx5IHByb3RyYWN0b3Ivd2ViZHJpdmVyIGRvZXMgbm90IHN1cHBvcnRcbiAgICAgIC8vIHNlbmRpbmcga2V5cyB0byBhbGwga25vd24gSFRNTDUgaW5wdXQgY29udHJvbHNcbiAgICAgIC8vIGZvciB2YXJpb3VzIGJyb3dzZXJzIChodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy81NjIpLlxuICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XG4gICAgICAgIC8vIHNldCB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgYW5kIGZvcmNlIHZhbGlkYXRpb24uXG4gICAgICAgIHZhciBzY3IgPSBcInZhciBpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbXBsZUlucHV0Jyk7IFwiICtcbiAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xuICAgICAgICBcImFuZ3VsYXIuZWxlbWVudChpcHQpLnNjb3BlKCkuJGFwcGx5KGZ1bmN0aW9uKHMpIHsgcy5teUZvcm1baXB0Lm5hbWVdLiRzZXRWaWV3VmFsdWUoJ1wiICsgdmFsICsgXCInKTsgfSk7XCI7XG4gICAgICAgIGJyb3dzZXIuZXhlY3V0ZVNjcmlwdChzY3IpO1xuICAgICAgfVxuXG4gICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcyMDEzLTEwJyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IHRydWUnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0SW5wdXQoJycpO1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG92ZXIgbWF4JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldElucHV0KCcyMDE1LTAxJyk7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XG4gICAgICB9KTtcbiAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAgICovXG4gICdtb250aCc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ21vbnRoJywgTU9OVEhfUkVHRVhQLFxuICAgICBjcmVhdGVEYXRlUGFyc2VyKE1PTlRIX1JFR0VYUCwgWyd5eXl5JywgJ01NJ10pLFxuICAgICAneXl5eS1NTScpLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgaW5wdXRcbiAgICogQG5hbWUgaW5wdXRbbnVtYmVyXVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGV4dCBpbnB1dCB3aXRoIG51bWJlciB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbi4gU2V0cyB0aGUgYG51bWJlcmAgdmFsaWRhdGlvblxuICAgKiBlcnJvciBpZiBub3QgYSB2YWxpZCBudW1iZXIuXG4gICAqXG4gICAqIFRoZSBtb2RlbCBtdXN0IGFsd2F5cyBiZSBhIG51bWJlciwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW5cbiAgICogICAgbWlubGVuZ3RoLlxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXG4gICAqICAgIG1heGxlbmd0aC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1BhdHRlcm4gU2V0cyBgcGF0dGVybmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGRvZXMgbm90IG1hdGNoIHRoZVxuICAgKiAgICBSZWdFeHAgcGF0dGVybiBleHByZXNzaW9uLiBFeHBlY3RlZCB2YWx1ZSBpcyBgL3JlZ2V4cC9gIGZvciBpbmxpbmUgcGF0dGVybnMgb3IgYHJlZ2V4cGAgZm9yXG4gICAqICAgIHBhdHRlcm5zIGRlZmluZWQgYXMgc2NvcGUgZXhwcmVzc2lvbnMuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgICAgPGV4YW1wbGUgbmFtZT1cIm51bWJlci1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJudW1iZXJFeGFtcGxlXCI+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnbnVtYmVyRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUudmFsdWUgPSAxMjtcbiAgICAgICAgICAgICB9XSk7XG4gICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICAgTnVtYmVyOiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwidmFsdWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBtaW49XCIwXCIgbWF4PVwiOTlcIiByZXF1aXJlZD5cbiAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XG4gICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IubnVtYmVyXCI+XG4gICAgICAgICAgICAgTm90IHZhbGlkIG51bWJlciE8L3NwYW4+XG4gICAgICAgICAgIDx0dD52YWx1ZSA9IHt7dmFsdWV9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9maWxlPlxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCd2YWx1ZScpKTtcbiAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG4gICAgICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignMTInKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJycpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG92ZXIgbWF4JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJzEyMycpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICAgIH0pO1xuICAgICAgICA8L2ZpbGU+XG4gICAgICA8L2V4YW1wbGU+XG4gICAqL1xuICAnbnVtYmVyJzogbnVtYmVySW5wdXRUeXBlLFxuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFt1cmxdXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZXh0IGlucHV0IHdpdGggVVJMIHZhbGlkYXRpb24uIFNldHMgdGhlIGB1cmxgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBjb250ZW50IGlzIG5vdCBhXG4gICAqIHZhbGlkIFVSTC5cbiAgICpcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAgICogKipOb3RlOioqIGBpbnB1dFt1cmxdYCB1c2VzIGEgcmVnZXggdG8gdmFsaWRhdGUgdXJscyB0aGF0IGlzIGRlcml2ZWQgZnJvbSB0aGUgcmVnZXhcbiAgICogdXNlZCBpbiBDaHJvbWl1bS4gSWYgeW91IG5lZWQgc3RyaWN0ZXIgdmFsaWRhdGlvbiwgeW91IGNhbiB1c2UgYG5nLXBhdHRlcm5gIG9yIG1vZGlmeVxuICAgKiB0aGUgYnVpbHQtaW4gdmFsaWRhdG9ycyAoc2VlIHRoZSB7QGxpbmsgZ3VpZGUvZm9ybXMgRm9ybXMgZ3VpZGV9KVxuICAgKiA8L2Rpdj5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWlubGVuZ3RoIFNldHMgYG1pbmxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIHNob3J0ZXIgdGhhblxuICAgKiAgICBtaW5sZW5ndGguXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNYXhsZW5ndGggU2V0cyBgbWF4bGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbG9uZ2VyIHRoYW5cbiAgICogICAgbWF4bGVuZ3RoLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZG9lcyBub3QgbWF0Y2ggdGhlXG4gICAqICAgIFJlZ0V4cCBwYXR0ZXJuIGV4cHJlc3Npb24uIEV4cGVjdGVkIHZhbHVlIGlzIGAvcmVnZXhwL2AgZm9yIGlubGluZSBwYXR0ZXJucyBvciBgcmVnZXhwYCBmb3JcbiAgICogICAgcGF0dGVybnMgZGVmaW5lZCBhcyBzY29wZSBleHByZXNzaW9ucy5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwidXJsLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cInVybEV4YW1wbGVcIj5cbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCd1cmxFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICRzY29wZS50ZXh0ID0gJ2h0dHA6Ly9nb29nbGUuY29tJztcbiAgICAgICAgICAgICB9XSk7XG4gICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICAgVVJMOiA8aW5wdXQgdHlwZT1cInVybFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwidGV4dFwiIHJlcXVpcmVkPlxuICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci51cmxcIj5cbiAgICAgICAgICAgICBOb3QgdmFsaWQgdXJsITwvc3Bhbj5cbiAgICAgICAgICAgPHR0PnRleHQgPSB7e3RleHR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci51cmwgPSB7eyEhbXlGb3JtLiRlcnJvci51cmx9fTwvdHQ+PGJyLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIHZhciB0ZXh0ID0gZWxlbWVudChieS5iaW5kaW5nKCd0ZXh0JykpO1xuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd0ZXh0JykpO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvQ29udGFpbignaHR0cDovL2dvb2dsZS5jb20nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJycpO1xuXG4gICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvRXF1YWwoJ3RleHQgPScpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG5vdCB1cmwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnYm94Jyk7XG5cbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ3VybCc6IHVybElucHV0VHlwZSxcblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgaW5wdXRcbiAgICogQG5hbWUgaW5wdXRbZW1haWxdXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZXh0IGlucHV0IHdpdGggZW1haWwgdmFsaWRhdGlvbi4gU2V0cyB0aGUgYGVtYWlsYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiBub3QgYSB2YWxpZCBlbWFpbFxuICAgKiBhZGRyZXNzLlxuICAgKlxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICAgKiAqKk5vdGU6KiogYGlucHV0W2VtYWlsXWAgdXNlcyBhIHJlZ2V4IHRvIHZhbGlkYXRlIGVtYWlsIGFkZHJlc3NlcyB0aGF0IGlzIGRlcml2ZWQgZnJvbSB0aGUgcmVnZXhcbiAgICogdXNlZCBpbiBDaHJvbWl1bS4gSWYgeW91IG5lZWQgc3RyaWN0ZXIgdmFsaWRhdGlvbiAoZS5nLiByZXF1aXJpbmcgYSB0b3AtbGV2ZWwgZG9tYWluKSwgeW91IGNhblxuICAgKiB1c2UgYG5nLXBhdHRlcm5gIG9yIG1vZGlmeSB0aGUgYnVpbHQtaW4gdmFsaWRhdG9ycyAoc2VlIHRoZSB7QGxpbmsgZ3VpZGUvZm9ybXMgRm9ybXMgZ3VpZGV9KVxuICAgKiA8L2Rpdj5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWlubGVuZ3RoIFNldHMgYG1pbmxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIHNob3J0ZXIgdGhhblxuICAgKiAgICBtaW5sZW5ndGguXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNYXhsZW5ndGggU2V0cyBgbWF4bGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbG9uZ2VyIHRoYW5cbiAgICogICAgbWF4bGVuZ3RoLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZG9lcyBub3QgbWF0Y2ggdGhlXG4gICAqICAgIFJlZ0V4cCBwYXR0ZXJuIGV4cHJlc3Npb24uIEV4cGVjdGVkIHZhbHVlIGlzIGAvcmVnZXhwL2AgZm9yIGlubGluZSBwYXR0ZXJucyBvciBgcmVnZXhwYCBmb3JcbiAgICogICAgcGF0dGVybnMgZGVmaW5lZCBhcyBzY29wZSBleHByZXNzaW9ucy5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwiZW1haWwtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwiZW1haWxFeGFtcGxlXCI+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnZW1haWxFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICRzY29wZS50ZXh0ID0gJ21lQGV4YW1wbGUuY29tJztcbiAgICAgICAgICAgICB9XSk7XG4gICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgICAgIEVtYWlsOiA8aW5wdXQgdHlwZT1cImVtYWlsXCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJ0ZXh0XCIgcmVxdWlyZWQ+XG4gICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XG4gICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLmVtYWlsXCI+XG4gICAgICAgICAgICAgICBOb3QgdmFsaWQgZW1haWwhPC9zcGFuPlxuICAgICAgICAgICAgIDx0dD50ZXh0ID0ge3t0ZXh0fX08L3R0Pjxici8+XG4gICAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxuICAgICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLmVtYWlsID0ge3shIW15Rm9ybS4kZXJyb3IuZW1haWx9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgPC9maWxlPlxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgICAgdmFyIHRleHQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3RleHQnKSk7XG4gICAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xuICAgICAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3RleHQnKSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGV4cGVjdCh0ZXh0LmdldFRleHQoKSkudG9Db250YWluKCdtZUBleGFtcGxlLmNvbScpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnJyk7XG4gICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvRXF1YWwoJ3RleHQgPScpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG5vdCBlbWFpbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCd4eHgnKTtcblxuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICAgIH0pO1xuICAgICAgICA8L2ZpbGU+XG4gICAgICA8L2V4YW1wbGU+XG4gICAqL1xuICAnZW1haWwnOiBlbWFpbElucHV0VHlwZSxcblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgaW5wdXRcbiAgICogQG5hbWUgaW5wdXRbcmFkaW9dXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBIVE1MIHJhZGlvIGJ1dHRvbi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVGhlIHZhbHVlIHRvIHdoaWNoIHRoZSBleHByZXNzaW9uIHNob3VsZCBiZSBzZXQgd2hlbiBzZWxlY3RlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nVmFsdWUgQW5ndWxhciBleHByZXNzaW9uIHdoaWNoIHNldHMgdGhlIHZhbHVlIHRvIHdoaWNoIHRoZSBleHByZXNzaW9uIHNob3VsZFxuICAgKiAgICBiZSBzZXQgd2hlbiBzZWxlY3RlZC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICAgIDxleGFtcGxlIG5hbWU9XCJyYWRpby1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJyYWRpb0V4YW1wbGVcIj5cbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdyYWRpb0V4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAgJHNjb3BlLmNvbG9yID0gJ2JsdWUnO1xuICAgICAgICAgICAgICAgJHNjb3BlLnNwZWNpYWxWYWx1ZSA9IHtcbiAgICAgICAgICAgICAgICAgXCJpZFwiOiBcIjEyMzQ1XCIsXG4gICAgICAgICAgICAgICAgIFwidmFsdWVcIjogXCJncmVlblwiXG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgIH1dKTtcbiAgICAgICAgIDwvc2NyaXB0PlxuICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJjb2xvclwiIHZhbHVlPVwicmVkXCI+ICBSZWQgPGJyLz5cbiAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5nLW1vZGVsPVwiY29sb3JcIiBuZy12YWx1ZT1cInNwZWNpYWxWYWx1ZVwiPiBHcmVlbiA8YnIvPlxuICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJjb2xvclwiIHZhbHVlPVwiYmx1ZVwiPiBCbHVlIDxici8+XG4gICAgICAgICAgIDx0dD5jb2xvciA9IHt7Y29sb3IgfCBqc29ufX08L3R0Pjxici8+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgIE5vdGUgdGhhdCBgbmctdmFsdWU9XCJzcGVjaWFsVmFsdWVcImAgc2V0cyByYWRpbyBpdGVtJ3MgdmFsdWUgdG8gYmUgdGhlIHZhbHVlIG9mIGAkc2NvcGUuc3BlY2lhbFZhbHVlYC5cbiAgICAgICAgPC9maWxlPlxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgICAgaXQoJ3Nob3VsZCBjaGFuZ2Ugc3RhdGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjb2xvciA9IGVsZW1lbnQoYnkuYmluZGluZygnY29sb3InKSk7XG5cbiAgICAgICAgICAgIGV4cGVjdChjb2xvci5nZXRUZXh0KCkpLnRvQ29udGFpbignYmx1ZScpO1xuXG4gICAgICAgICAgICBlbGVtZW50LmFsbChieS5tb2RlbCgnY29sb3InKSkuZ2V0KDApLmNsaWNrKCk7XG5cbiAgICAgICAgICAgIGV4cGVjdChjb2xvci5nZXRUZXh0KCkpLnRvQ29udGFpbigncmVkJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIDwvZmlsZT5cbiAgICAgIDwvZXhhbXBsZT5cbiAgICovXG4gICdyYWRpbyc6IHJhZGlvSW5wdXRUeXBlLFxuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFtjaGVja2JveF1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEhUTUwgY2hlY2tib3guXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb249fSBuZ1RydWVWYWx1ZSBUaGUgdmFsdWUgdG8gd2hpY2ggdGhlIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIHNlbGVjdGVkLlxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb249fSBuZ0ZhbHNlVmFsdWUgVGhlIHZhbHVlIHRvIHdoaWNoIHRoZSBleHByZXNzaW9uIHNob3VsZCBiZSBzZXQgd2hlbiBub3Qgc2VsZWN0ZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgICAgPGV4YW1wbGUgbmFtZT1cImNoZWNrYm94LWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cImNoZWNrYm94RXhhbXBsZVwiPlxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgPHNjcmlwdD5cbiAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2NoZWNrYm94RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUudmFsdWUxID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICRzY29wZS52YWx1ZTIgPSAnWUVTJ1xuICAgICAgICAgICAgIH1dKTtcbiAgICAgICAgIDwvc2NyaXB0PlxuICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgICBWYWx1ZTE6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cInZhbHVlMVwiPiA8YnIvPlxuICAgICAgICAgICBWYWx1ZTI6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cInZhbHVlMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5nLXRydWUtdmFsdWU9XCInWUVTJ1wiIG5nLWZhbHNlLXZhbHVlPVwiJ05PJ1wiPiA8YnIvPlxuICAgICAgICAgICA8dHQ+dmFsdWUxID0ge3t2YWx1ZTF9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0PnZhbHVlMiA9IHt7dmFsdWUyfX08L3R0Pjxici8+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2ZpbGU+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgICBpdCgnc2hvdWxkIGNoYW5nZSBzdGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlMSA9IGVsZW1lbnQoYnkuYmluZGluZygndmFsdWUxJykpO1xuICAgICAgICAgICAgdmFyIHZhbHVlMiA9IGVsZW1lbnQoYnkuYmluZGluZygndmFsdWUyJykpO1xuXG4gICAgICAgICAgICBleHBlY3QodmFsdWUxLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgICAgICBleHBlY3QodmFsdWUyLmdldFRleHQoKSkudG9Db250YWluKCdZRVMnKTtcblxuICAgICAgICAgICAgZWxlbWVudChieS5tb2RlbCgndmFsdWUxJykpLmNsaWNrKCk7XG4gICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZTInKSkuY2xpY2soKTtcblxuICAgICAgICAgICAgZXhwZWN0KHZhbHVlMS5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZTIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ05PJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIDwvZmlsZT5cbiAgICAgIDwvZXhhbXBsZT5cbiAgICovXG4gICdjaGVja2JveCc6IGNoZWNrYm94SW5wdXRUeXBlLFxuXG4gICdoaWRkZW4nOiBub29wLFxuICAnYnV0dG9uJzogbm9vcCxcbiAgJ3N1Ym1pdCc6IG5vb3AsXG4gICdyZXNldCc6IG5vb3AsXG4gICdmaWxlJzogbm9vcFxufTtcblxuZnVuY3Rpb24gc3RyaW5nQmFzZWRJbnB1dFR5cGUoY3RybCkge1xuICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSkgPyB2YWx1ZSA6IHZhbHVlLnRvU3RyaW5nKCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB0ZXh0SW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpIHtcbiAgYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKTtcbiAgc3RyaW5nQmFzZWRJbnB1dFR5cGUoY3RybCk7XG59XG5cbmZ1bmN0aW9uIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcikge1xuICB2YXIgcGxhY2Vob2xkZXIgPSBlbGVtZW50WzBdLnBsYWNlaG9sZGVyLCBub2V2ZW50ID0ge307XG4gIHZhciB0eXBlID0gbG93ZXJjYXNlKGVsZW1lbnRbMF0udHlwZSk7XG5cbiAgLy8gSW4gY29tcG9zaXRpb24gbW9kZSwgdXNlcnMgYXJlIHN0aWxsIGlucHV0aW5nIGludGVybWVkaWF0ZSB0ZXh0IGJ1ZmZlcixcbiAgLy8gaG9sZCB0aGUgbGlzdGVuZXIgdW50aWwgY29tcG9zaXRpb24gaXMgZG9uZS5cbiAgLy8gTW9yZSBhYm91dCBjb21wb3NpdGlvbiBldmVudHM6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Db21wb3NpdGlvbkV2ZW50XG4gIGlmICghJHNuaWZmZXIuYW5kcm9pZCkge1xuICAgIHZhciBjb21wb3NpbmcgPSBmYWxzZTtcblxuICAgIGVsZW1lbnQub24oJ2NvbXBvc2l0aW9uc3RhcnQnLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICBjb21wb3NpbmcgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgZWxlbWVudC5vbignY29tcG9zaXRpb25lbmQnLCBmdW5jdGlvbigpIHtcbiAgICAgIGNvbXBvc2luZyA9IGZhbHNlO1xuICAgICAgbGlzdGVuZXIoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uKGV2KSB7XG4gICAgaWYgKGNvbXBvc2luZykgcmV0dXJuO1xuICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQudmFsKCksXG4gICAgICAgIGV2ZW50ID0gZXYgJiYgZXYudHlwZTtcblxuICAgIC8vIElFICgxMSBhbmQgdW5kZXIpIHNlZW0gdG8gZW1pdCBhbiAnaW5wdXQnIGV2ZW50IGlmIHRoZSBwbGFjZWhvbGRlciB2YWx1ZSBjaGFuZ2VzLlxuICAgIC8vIFdlIGRvbid0IHdhbnQgdG8gZGlydHkgdGhlIHZhbHVlIHdoZW4gdGhpcyBoYXBwZW5zLCBzbyB3ZSBhYm9ydCBoZXJlLiBVbmZvcnR1bmF0ZWx5LFxuICAgIC8vIElFIGFsc28gc2VuZHMgaW5wdXQgZXZlbnRzIGZvciBvdGhlciBub24taW5wdXQtcmVsYXRlZCB0aGluZ3MsIChzdWNoIGFzIGZvY3VzaW5nIG9uIGFcbiAgICAvLyBmb3JtIGNvbnRyb2wpLCBzbyB0aGlzIGNoYW5nZSBpcyBub3QgZW50aXJlbHkgZW5vdWdoIHRvIHNvbHZlIHRoaXMuXG4gICAgaWYgKG1zaWUgJiYgKGV2IHx8IG5vZXZlbnQpLnR5cGUgPT09ICdpbnB1dCcgJiYgZWxlbWVudFswXS5wbGFjZWhvbGRlciAhPT0gcGxhY2Vob2xkZXIpIHtcbiAgICAgIHBsYWNlaG9sZGVyID0gZWxlbWVudFswXS5wbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBCeSBkZWZhdWx0IHdlIHdpbGwgdHJpbSB0aGUgdmFsdWVcbiAgICAvLyBJZiB0aGUgYXR0cmlidXRlIG5nLXRyaW0gZXhpc3RzIHdlIHdpbGwgYXZvaWQgdHJpbW1pbmdcbiAgICAvLyBJZiBpbnB1dCB0eXBlIGlzICdwYXNzd29yZCcsIHRoZSB2YWx1ZSBpcyBuZXZlciB0cmltbWVkXG4gICAgaWYgKHR5cGUgIT09ICdwYXNzd29yZCcgJiYgKCFhdHRyLm5nVHJpbSB8fCBhdHRyLm5nVHJpbSAhPT0gJ2ZhbHNlJykpIHtcbiAgICAgIHZhbHVlID0gdHJpbSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLy8gSWYgYSBjb250cm9sIGlzIHN1ZmZlcmluZyBmcm9tIGJhZCBpbnB1dCAoZHVlIHRvIG5hdGl2ZSB2YWxpZGF0b3JzKSwgYnJvd3NlcnMgZGlzY2FyZCBpdHNcbiAgICAvLyB2YWx1ZSwgc28gaXQgbWF5IGJlIG5lY2Vzc2FyeSB0byByZXZhbGlkYXRlIChieSBjYWxsaW5nICRzZXRWaWV3VmFsdWUgYWdhaW4pIGV2ZW4gaWYgdGhlXG4gICAgLy8gY29udHJvbCdzIHZhbHVlIGlzIHRoZSBzYW1lIGVtcHR5IHZhbHVlIHR3aWNlIGluIGEgcm93LlxuICAgIGlmIChjdHJsLiR2aWV3VmFsdWUgIT09IHZhbHVlIHx8ICh2YWx1ZSA9PT0gJycgJiYgY3RybC4kJGhhc05hdGl2ZVZhbGlkYXRvcnMpKSB7XG4gICAgICBjdHJsLiRzZXRWaWV3VmFsdWUodmFsdWUsIGV2ZW50KTtcbiAgICB9XG4gIH07XG5cbiAgLy8gaWYgdGhlIGJyb3dzZXIgZG9lcyBzdXBwb3J0IFwiaW5wdXRcIiBldmVudCwgd2UgYXJlIGZpbmUgLSBleGNlcHQgb24gSUU5IHdoaWNoIGRvZXNuJ3QgZmlyZSB0aGVcbiAgLy8gaW5wdXQgZXZlbnQgb24gYmFja3NwYWNlLCBkZWxldGUgb3IgY3V0XG4gIGlmICgkc25pZmZlci5oYXNFdmVudCgnaW5wdXQnKSkge1xuICAgIGVsZW1lbnQub24oJ2lucHV0JywgbGlzdGVuZXIpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0aW1lb3V0O1xuXG4gICAgdmFyIGRlZmVyTGlzdGVuZXIgPSBmdW5jdGlvbihldikge1xuICAgICAgaWYgKCF0aW1lb3V0KSB7XG4gICAgICAgIHRpbWVvdXQgPSAkYnJvd3Nlci5kZWZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICBsaXN0ZW5lcihldik7XG4gICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBlbGVtZW50Lm9uKCdrZXlkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHZhciBrZXkgPSBldmVudC5rZXlDb2RlO1xuXG4gICAgICAvLyBpZ25vcmVcbiAgICAgIC8vICAgIGNvbW1hbmQgICAgICAgICAgICBtb2RpZmllcnMgICAgICAgICAgICAgICAgICAgYXJyb3dzXG4gICAgICBpZiAoa2V5ID09PSA5MSB8fCAoMTUgPCBrZXkgJiYga2V5IDwgMTkpIHx8ICgzNyA8PSBrZXkgJiYga2V5IDw9IDQwKSkgcmV0dXJuO1xuXG4gICAgICBkZWZlckxpc3RlbmVyKGV2ZW50KTtcbiAgICB9KTtcblxuICAgIC8vIGlmIHVzZXIgbW9kaWZpZXMgaW5wdXQgdmFsdWUgdXNpbmcgY29udGV4dCBtZW51IGluIElFLCB3ZSBuZWVkIFwicGFzdGVcIiBhbmQgXCJjdXRcIiBldmVudHMgdG8gY2F0Y2ggaXRcbiAgICBpZiAoJHNuaWZmZXIuaGFzRXZlbnQoJ3Bhc3RlJykpIHtcbiAgICAgIGVsZW1lbnQub24oJ3Bhc3RlIGN1dCcsIGRlZmVyTGlzdGVuZXIpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHVzZXIgcGFzdGUgaW50byBpbnB1dCB1c2luZyBtb3VzZSBvbiBvbGRlciBicm93c2VyXG4gIC8vIG9yIGZvcm0gYXV0b2NvbXBsZXRlIG9uIG5ld2VyIGJyb3dzZXIsIHdlIG5lZWQgXCJjaGFuZ2VcIiBldmVudCB0byBjYXRjaCBpdFxuICBlbGVtZW50Lm9uKCdjaGFuZ2UnLCBsaXN0ZW5lcik7XG5cbiAgY3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgZWxlbWVudC52YWwoY3RybC4kaXNFbXB0eShjdHJsLiRtb2RlbFZhbHVlKSA/ICcnIDogY3RybC4kdmlld1ZhbHVlKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gd2Vla1BhcnNlcihpc29XZWVrLCBleGlzdGluZ0RhdGUpIHtcbiAgaWYgKGlzRGF0ZShpc29XZWVrKSkge1xuICAgIHJldHVybiBpc29XZWVrO1xuICB9XG5cbiAgaWYgKGlzU3RyaW5nKGlzb1dlZWspKSB7XG4gICAgV0VFS19SRUdFWFAubGFzdEluZGV4ID0gMDtcbiAgICB2YXIgcGFydHMgPSBXRUVLX1JFR0VYUC5leGVjKGlzb1dlZWspO1xuICAgIGlmIChwYXJ0cykge1xuICAgICAgdmFyIHllYXIgPSArcGFydHNbMV0sXG4gICAgICAgICAgd2VlayA9ICtwYXJ0c1syXSxcbiAgICAgICAgICBob3VycyA9IDAsXG4gICAgICAgICAgbWludXRlcyA9IDAsXG4gICAgICAgICAgc2Vjb25kcyA9IDAsXG4gICAgICAgICAgbWlsbGlzZWNvbmRzID0gMCxcbiAgICAgICAgICBmaXJzdFRodXJzID0gZ2V0Rmlyc3RUaHVyc2RheU9mWWVhcih5ZWFyKSxcbiAgICAgICAgICBhZGREYXlzID0gKHdlZWsgLSAxKSAqIDc7XG5cbiAgICAgIGlmIChleGlzdGluZ0RhdGUpIHtcbiAgICAgICAgaG91cnMgPSBleGlzdGluZ0RhdGUuZ2V0SG91cnMoKTtcbiAgICAgICAgbWludXRlcyA9IGV4aXN0aW5nRGF0ZS5nZXRNaW51dGVzKCk7XG4gICAgICAgIHNlY29uZHMgPSBleGlzdGluZ0RhdGUuZ2V0U2Vjb25kcygpO1xuICAgICAgICBtaWxsaXNlY29uZHMgPSBleGlzdGluZ0RhdGUuZ2V0TWlsbGlzZWNvbmRzKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgRGF0ZSh5ZWFyLCAwLCBmaXJzdFRodXJzLmdldERhdGUoKSArIGFkZERheXMsIGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCBtaWxsaXNlY29uZHMpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBOYU47XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURhdGVQYXJzZXIocmVnZXhwLCBtYXBwaW5nKSB7XG4gIHJldHVybiBmdW5jdGlvbihpc28sIGRhdGUpIHtcbiAgICB2YXIgcGFydHMsIG1hcDtcblxuICAgIGlmIChpc0RhdGUoaXNvKSkge1xuICAgICAgcmV0dXJuIGlzbztcbiAgICB9XG5cbiAgICBpZiAoaXNTdHJpbmcoaXNvKSkge1xuICAgICAgLy8gV2hlbiBhIGRhdGUgaXMgSlNPTidpZmllZCB0byB3cmFwcyBpdHNlbGYgaW5zaWRlIG9mIGFuIGV4dHJhXG4gICAgICAvLyBzZXQgb2YgZG91YmxlIHF1b3Rlcy4gVGhpcyBtYWtlcyB0aGUgZGF0ZSBwYXJzaW5nIGNvZGUgdW5hYmxlXG4gICAgICAvLyB0byBtYXRjaCB0aGUgZGF0ZSBzdHJpbmcgYW5kIHBhcnNlIGl0IGFzIGEgZGF0ZS5cbiAgICAgIGlmIChpc28uY2hhckF0KDApID09ICdcIicgJiYgaXNvLmNoYXJBdChpc28ubGVuZ3RoLTEpID09ICdcIicpIHtcbiAgICAgICAgaXNvID0gaXNvLnN1YnN0cmluZygxLCBpc28ubGVuZ3RoLTEpO1xuICAgICAgfVxuICAgICAgaWYgKElTT19EQVRFX1JFR0VYUC50ZXN0KGlzbykpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGlzbyk7XG4gICAgICB9XG4gICAgICByZWdleHAubGFzdEluZGV4ID0gMDtcbiAgICAgIHBhcnRzID0gcmVnZXhwLmV4ZWMoaXNvKTtcblxuICAgICAgaWYgKHBhcnRzKSB7XG4gICAgICAgIHBhcnRzLnNoaWZ0KCk7XG4gICAgICAgIGlmIChkYXRlKSB7XG4gICAgICAgICAgbWFwID0ge1xuICAgICAgICAgICAgeXl5eTogZGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgICAgTU06IGRhdGUuZ2V0TW9udGgoKSArIDEsXG4gICAgICAgICAgICBkZDogZGF0ZS5nZXREYXRlKCksXG4gICAgICAgICAgICBISDogZGF0ZS5nZXRIb3VycygpLFxuICAgICAgICAgICAgbW06IGRhdGUuZ2V0TWludXRlcygpLFxuICAgICAgICAgICAgc3M6IGRhdGUuZ2V0U2Vjb25kcygpLFxuICAgICAgICAgICAgc3NzOiBkYXRlLmdldE1pbGxpc2Vjb25kcygpIC8gMTAwMFxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWFwID0geyB5eXl5OiAxOTcwLCBNTTogMSwgZGQ6IDEsIEhIOiAwLCBtbTogMCwgc3M6IDAsIHNzczogMCB9O1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yRWFjaChwYXJ0cywgZnVuY3Rpb24ocGFydCwgaW5kZXgpIHtcbiAgICAgICAgICBpZiAoaW5kZXggPCBtYXBwaW5nLmxlbmd0aCkge1xuICAgICAgICAgICAgbWFwW21hcHBpbmdbaW5kZXhdXSA9ICtwYXJ0O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShtYXAueXl5eSwgbWFwLk1NIC0gMSwgbWFwLmRkLCBtYXAuSEgsIG1hcC5tbSwgbWFwLnNzIHx8IDAsIG1hcC5zc3MgKiAxMDAwIHx8IDApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBOYU47XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURhdGVJbnB1dFR5cGUodHlwZSwgcmVnZXhwLCBwYXJzZURhdGUsIGZvcm1hdCkge1xuICByZXR1cm4gZnVuY3Rpb24gZHluYW1pY0RhdGVJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3NlciwgJGZpbHRlcikge1xuICAgIGJhZElucHV0Q2hlY2tlcihzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCk7XG4gICAgYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKTtcbiAgICB2YXIgdGltZXpvbmUgPSBjdHJsICYmIGN0cmwuJG9wdGlvbnMgJiYgY3RybC4kb3B0aW9ucy50aW1lem9uZTtcbiAgICB2YXIgcHJldmlvdXNEYXRlO1xuXG4gICAgY3RybC4kJHBhcnNlck5hbWUgPSB0eXBlO1xuICAgIGN0cmwuJHBhcnNlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKGN0cmwuJGlzRW1wdHkodmFsdWUpKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChyZWdleHAudGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgLy8gTm90ZTogV2UgY2Fubm90IHJlYWQgY3RybC4kbW9kZWxWYWx1ZSwgYXMgdGhlcmUgbWlnaHQgYmUgYSBkaWZmZXJlbnRcbiAgICAgICAgLy8gcGFyc2VyL2Zvcm1hdHRlciBpbiB0aGUgcHJvY2Vzc2luZyBjaGFpbiBzbyB0aGF0IHRoZSBtb2RlbFxuICAgICAgICAvLyBjb250YWlucyBzb21lIGRpZmZlcmVudCBkYXRhIGZvcm1hdCFcbiAgICAgICAgdmFyIHBhcnNlZERhdGUgPSBwYXJzZURhdGUodmFsdWUsIHByZXZpb3VzRGF0ZSk7XG4gICAgICAgIGlmICh0aW1lem9uZSA9PT0gJ1VUQycpIHtcbiAgICAgICAgICBwYXJzZWREYXRlLnNldE1pbnV0ZXMocGFyc2VkRGF0ZS5nZXRNaW51dGVzKCkgLSBwYXJzZWREYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJzZWREYXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9KTtcblxuICAgIGN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKCFjdHJsLiRpc0VtcHR5KHZhbHVlKSkge1xuICAgICAgICBpZiAoIWlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgICAgICB0aHJvdyAkbmdNb2RlbE1pbkVycignZGF0ZWZtdCcsICdFeHBlY3RlZCBgezB9YCB0byBiZSBhIGRhdGUnLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXNEYXRlID0gdmFsdWU7XG4gICAgICAgIGlmIChwcmV2aW91c0RhdGUgJiYgdGltZXpvbmUgPT09ICdVVEMnKSB7XG4gICAgICAgICAgdmFyIHRpbWV6b25lT2Zmc2V0ID0gNjAwMDAgKiBwcmV2aW91c0RhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKTtcbiAgICAgICAgICBwcmV2aW91c0RhdGUgPSBuZXcgRGF0ZShwcmV2aW91c0RhdGUuZ2V0VGltZSgpICsgdGltZXpvbmVPZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAkZmlsdGVyKCdkYXRlJykodmFsdWUsIGZvcm1hdCwgdGltZXpvbmUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJldmlvdXNEYXRlID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAnJztcbiAgICB9KTtcblxuICAgIGlmIChpc0RlZmluZWQoYXR0ci5taW4pIHx8IGF0dHIubmdNaW4pIHtcbiAgICAgIHZhciBtaW5WYWw7XG4gICAgICBjdHJsLiR2YWxpZGF0b3JzLm1pbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCBpc1VuZGVmaW5lZChtaW5WYWwpIHx8IHBhcnNlRGF0ZSh2YWx1ZSkgPj0gbWluVmFsO1xuICAgICAgfTtcbiAgICAgIGF0dHIuJG9ic2VydmUoJ21pbicsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICBtaW5WYWwgPSBwYXJzZU9ic2VydmVkRGF0ZVZhbHVlKHZhbCk7XG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoaXNEZWZpbmVkKGF0dHIubWF4KSB8fCBhdHRyLm5nTWF4KSB7XG4gICAgICB2YXIgbWF4VmFsO1xuICAgICAgY3RybC4kdmFsaWRhdG9ycy5tYXggPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSkgfHwgaXNVbmRlZmluZWQobWF4VmFsKSB8fCBwYXJzZURhdGUodmFsdWUpIDw9IG1heFZhbDtcbiAgICAgIH07XG4gICAgICBhdHRyLiRvYnNlcnZlKCdtYXgnLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgbWF4VmFsID0gcGFyc2VPYnNlcnZlZERhdGVWYWx1ZSh2YWwpO1xuICAgICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIE92ZXJyaWRlIHRoZSBzdGFuZGFyZCAkaXNFbXB0eSB0byBkZXRlY3QgaW52YWxpZCBkYXRlcyBhcyB3ZWxsXG4gICAgY3RybC4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAvLyBJbnZhbGlkIERhdGU6IGdldFRpbWUoKSByZXR1cm5zIE5hTlxuICAgICAgcmV0dXJuICF2YWx1ZSB8fCAodmFsdWUuZ2V0VGltZSAmJiB2YWx1ZS5nZXRUaW1lKCkgIT09IHZhbHVlLmdldFRpbWUoKSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHBhcnNlT2JzZXJ2ZWREYXRlVmFsdWUodmFsKSB7XG4gICAgICByZXR1cm4gaXNEZWZpbmVkKHZhbCkgPyAoaXNEYXRlKHZhbCkgPyB2YWwgOiBwYXJzZURhdGUodmFsKSkgOiB1bmRlZmluZWQ7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBiYWRJbnB1dENoZWNrZXIoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50WzBdO1xuICB2YXIgbmF0aXZlVmFsaWRhdGlvbiA9IGN0cmwuJCRoYXNOYXRpdmVWYWxpZGF0b3JzID0gaXNPYmplY3Qobm9kZS52YWxpZGl0eSk7XG4gIGlmIChuYXRpdmVWYWxpZGF0aW9uKSB7XG4gICAgY3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgdmFsaWRpdHkgPSBlbGVtZW50LnByb3AoVkFMSURJVFlfU1RBVEVfUFJPUEVSVFkpIHx8IHt9O1xuICAgICAgLy8gRGV0ZWN0IGJ1ZyBpbiBGRjM1IGZvciBpbnB1dFtlbWFpbF0gKGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTEwNjQ0MzApOlxuICAgICAgLy8gLSBhbHNvIHNldHMgdmFsaWRpdHkuYmFkSW5wdXQgKHNob3VsZCBvbmx5IGJlIHZhbGlkaXR5LnR5cGVNaXNtYXRjaCkuXG4gICAgICAvLyAtIHNlZSBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS9mb3Jtcy5odG1sI2UtbWFpbC1zdGF0ZS0odHlwZT1lbWFpbClcbiAgICAgIC8vIC0gY2FuIGlnbm9yZSB0aGlzIGNhc2UgYXMgd2UgY2FuIHN0aWxsIHJlYWQgb3V0IHRoZSBlcnJvbmVvdXMgZW1haWwuLi5cbiAgICAgIHJldHVybiB2YWxpZGl0eS5iYWRJbnB1dCAmJiAhdmFsaWRpdHkudHlwZU1pc21hdGNoID8gdW5kZWZpbmVkIDogdmFsdWU7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbnVtYmVySW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpIHtcbiAgYmFkSW5wdXRDaGVja2VyKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKTtcbiAgYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKTtcblxuICBjdHJsLiQkcGFyc2VyTmFtZSA9ICdudW1iZXInO1xuICBjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoY3RybC4kaXNFbXB0eSh2YWx1ZSkpICAgICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKE5VTUJFUl9SRUdFWFAudGVzdCh2YWx1ZSkpIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9KTtcblxuICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoIWN0cmwuJGlzRW1wdHkodmFsdWUpKSB7XG4gICAgICBpZiAoIWlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICB0aHJvdyAkbmdNb2RlbE1pbkVycignbnVtZm10JywgJ0V4cGVjdGVkIGB7MH1gIHRvIGJlIGEgbnVtYmVyJywgdmFsdWUpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0pO1xuXG4gIGlmIChhdHRyLm1pbiB8fCBhdHRyLm5nTWluKSB7XG4gICAgdmFyIG1pblZhbDtcbiAgICBjdHJsLiR2YWxpZGF0b3JzLm1pbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSkgfHwgaXNVbmRlZmluZWQobWluVmFsKSB8fCB2YWx1ZSA+PSBtaW5WYWw7XG4gICAgfTtcblxuICAgIGF0dHIuJG9ic2VydmUoJ21pbicsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgaWYgKGlzRGVmaW5lZCh2YWwpICYmICFpc051bWJlcih2YWwpKSB7XG4gICAgICAgIHZhbCA9IHBhcnNlRmxvYXQodmFsLCAxMCk7XG4gICAgICB9XG4gICAgICBtaW5WYWwgPSBpc051bWJlcih2YWwpICYmICFpc05hTih2YWwpID8gdmFsIDogdW5kZWZpbmVkO1xuICAgICAgLy8gVE9ETyhtYXRza28pOiBpbXBsZW1lbnQgdmFsaWRhdGVMYXRlciB0byByZWR1Y2UgbnVtYmVyIG9mIHZhbGlkYXRpb25zXG4gICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGF0dHIubWF4IHx8IGF0dHIubmdNYXgpIHtcbiAgICB2YXIgbWF4VmFsO1xuICAgIGN0cmwuJHZhbGlkYXRvcnMubWF4ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCBpc1VuZGVmaW5lZChtYXhWYWwpIHx8IHZhbHVlIDw9IG1heFZhbDtcbiAgICB9O1xuXG4gICAgYXR0ci4kb2JzZXJ2ZSgnbWF4JywgZnVuY3Rpb24odmFsKSB7XG4gICAgICBpZiAoaXNEZWZpbmVkKHZhbCkgJiYgIWlzTnVtYmVyKHZhbCkpIHtcbiAgICAgICAgdmFsID0gcGFyc2VGbG9hdCh2YWwsIDEwKTtcbiAgICAgIH1cbiAgICAgIG1heFZhbCA9IGlzTnVtYmVyKHZhbCkgJiYgIWlzTmFOKHZhbCkgPyB2YWwgOiB1bmRlZmluZWQ7XG4gICAgICAvLyBUT0RPKG1hdHNrbyk6IGltcGxlbWVudCB2YWxpZGF0ZUxhdGVyIHRvIHJlZHVjZSBudW1iZXIgb2YgdmFsaWRhdGlvbnNcbiAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXJsSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpIHtcbiAgLy8gTm90ZTogbm8gYmFkSW5wdXRDaGVja2VyIGhlcmUgYnkgcHVycG9zZSBhcyBgdXJsYCBpcyBvbmx5IGEgdmFsaWRhdGlvblxuICAvLyBpbiBicm93c2VycywgaS5lLiB3ZSBjYW4gYWx3YXlzIHJlYWQgb3V0IGlucHV0LnZhbHVlIGV2ZW4gaWYgaXQgaXMgbm90IHZhbGlkIVxuICBiYXNlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpO1xuICBzdHJpbmdCYXNlZElucHV0VHlwZShjdHJsKTtcblxuICBjdHJsLiQkcGFyc2VyTmFtZSA9ICd1cmwnO1xuICBjdHJsLiR2YWxpZGF0b3JzLnVybCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmFsdWUpIHx8IFVSTF9SRUdFWFAudGVzdCh2YWx1ZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGVtYWlsSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpIHtcbiAgLy8gTm90ZTogbm8gYmFkSW5wdXRDaGVja2VyIGhlcmUgYnkgcHVycG9zZSBhcyBgdXJsYCBpcyBvbmx5IGEgdmFsaWRhdGlvblxuICAvLyBpbiBicm93c2VycywgaS5lLiB3ZSBjYW4gYWx3YXlzIHJlYWQgb3V0IGlucHV0LnZhbHVlIGV2ZW4gaWYgaXQgaXMgbm90IHZhbGlkIVxuICBiYXNlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpO1xuICBzdHJpbmdCYXNlZElucHV0VHlwZShjdHJsKTtcblxuICBjdHJsLiQkcGFyc2VyTmFtZSA9ICdlbWFpbCc7XG4gIGN0cmwuJHZhbGlkYXRvcnMuZW1haWwgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCBFTUFJTF9SRUdFWFAudGVzdCh2YWx1ZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHJhZGlvSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XG4gIC8vIG1ha2UgdGhlIG5hbWUgdW5pcXVlLCBpZiBub3QgZGVmaW5lZFxuICBpZiAoaXNVbmRlZmluZWQoYXR0ci5uYW1lKSkge1xuICAgIGVsZW1lbnQuYXR0cignbmFtZScsIG5leHRVaWQoKSk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbihldikge1xuICAgIGlmIChlbGVtZW50WzBdLmNoZWNrZWQpIHtcbiAgICAgIGN0cmwuJHNldFZpZXdWYWx1ZShhdHRyLnZhbHVlLCBldiAmJiBldi50eXBlKTtcbiAgICB9XG4gIH07XG5cbiAgZWxlbWVudC5vbignY2xpY2snLCBsaXN0ZW5lcik7XG5cbiAgY3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHZhbHVlID0gYXR0ci52YWx1ZTtcbiAgICBlbGVtZW50WzBdLmNoZWNrZWQgPSAodmFsdWUgPT0gY3RybC4kdmlld1ZhbHVlKTtcbiAgfTtcblxuICBhdHRyLiRvYnNlcnZlKCd2YWx1ZScsIGN0cmwuJHJlbmRlcik7XG59XG5cbmZ1bmN0aW9uIHBhcnNlQ29uc3RhbnRFeHByKCRwYXJzZSwgY29udGV4dCwgbmFtZSwgZXhwcmVzc2lvbiwgZmFsbGJhY2spIHtcbiAgdmFyIHBhcnNlRm47XG4gIGlmIChpc0RlZmluZWQoZXhwcmVzc2lvbikpIHtcbiAgICBwYXJzZUZuID0gJHBhcnNlKGV4cHJlc3Npb24pO1xuICAgIGlmICghcGFyc2VGbi5jb25zdGFudCkge1xuICAgICAgdGhyb3cgbWluRXJyKCduZ01vZGVsJykoJ2NvbnN0ZXhwcicsICdFeHBlY3RlZCBjb25zdGFudCBleHByZXNzaW9uIGZvciBgezB9YCwgYnV0IHNhdyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2B7MX1gLicsIG5hbWUsIGV4cHJlc3Npb24pO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VGbihjb250ZXh0KTtcbiAgfVxuICByZXR1cm4gZmFsbGJhY2s7XG59XG5cbmZ1bmN0aW9uIGNoZWNrYm94SW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIsICRmaWx0ZXIsICRwYXJzZSkge1xuICB2YXIgdHJ1ZVZhbHVlID0gcGFyc2VDb25zdGFudEV4cHIoJHBhcnNlLCBzY29wZSwgJ25nVHJ1ZVZhbHVlJywgYXR0ci5uZ1RydWVWYWx1ZSwgdHJ1ZSk7XG4gIHZhciBmYWxzZVZhbHVlID0gcGFyc2VDb25zdGFudEV4cHIoJHBhcnNlLCBzY29wZSwgJ25nRmFsc2VWYWx1ZScsIGF0dHIubmdGYWxzZVZhbHVlLCBmYWxzZSk7XG5cbiAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24oZXYpIHtcbiAgICBjdHJsLiRzZXRWaWV3VmFsdWUoZWxlbWVudFswXS5jaGVja2VkLCBldiAmJiBldi50eXBlKTtcbiAgfTtcblxuICBlbGVtZW50Lm9uKCdjbGljaycsIGxpc3RlbmVyKTtcblxuICBjdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICBlbGVtZW50WzBdLmNoZWNrZWQgPSBjdHJsLiR2aWV3VmFsdWU7XG4gIH07XG5cbiAgLy8gT3ZlcnJpZGUgdGhlIHN0YW5kYXJkIGAkaXNFbXB0eWAgYmVjYXVzZSBhbiBlbXB0eSBjaGVja2JveCBpcyBuZXZlciBlcXVhbCB0byB0aGUgdHJ1ZVZhbHVlXG4gIGN0cmwuJGlzRW1wdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdHJ1ZVZhbHVlO1xuICB9O1xuXG4gIGN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBlcXVhbHModmFsdWUsIHRydWVWYWx1ZSk7XG4gIH0pO1xuXG4gIGN0cmwuJHBhcnNlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA/IHRydWVWYWx1ZSA6IGZhbHNlVmFsdWU7XG4gIH0pO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgdGV4dGFyZWFcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIVE1MIHRleHRhcmVhIGVsZW1lbnQgY29udHJvbCB3aXRoIGFuZ3VsYXIgZGF0YS1iaW5kaW5nLiBUaGUgZGF0YS1iaW5kaW5nIGFuZCB2YWxpZGF0aW9uXG4gKiBwcm9wZXJ0aWVzIG9mIHRoaXMgZWxlbWVudCBhcmUgZXhhY3RseSB0aGUgc2FtZSBhcyB0aG9zZSBvZiB0aGVcbiAqIHtAbGluayBuZy5kaXJlY3RpdmU6aW5wdXQgaW5wdXQgZWxlbWVudH0uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gKiBAcGFyYW0ge251bWJlcj19IG5nTWlubGVuZ3RoIFNldHMgYG1pbmxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIHNob3J0ZXIgdGhhblxuICogICAgbWlubGVuZ3RoLlxuICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxuICogICAgbWF4bGVuZ3RoLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ1BhdHRlcm4gU2V0cyBgcGF0dGVybmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGRvZXMgbm90IG1hdGNoIHRoZVxuICogICAgUmVnRXhwIHBhdHRlcm4gZXhwcmVzc2lvbi4gRXhwZWN0ZWQgdmFsdWUgaXMgYC9yZWdleHAvYCBmb3IgaW5saW5lIHBhdHRlcm5zIG9yIGByZWdleHBgIGZvclxuICogICAgcGF0dGVybnMgZGVmaW5lZCBhcyBzY29wZSBleHByZXNzaW9ucy5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IFtuZ1RyaW09dHJ1ZV0gSWYgc2V0IHRvIGZhbHNlIEFuZ3VsYXIgd2lsbCBub3QgYXV0b21hdGljYWxseSB0cmltIHRoZSBpbnB1dC5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgaW5wdXRcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIVE1MIGlucHV0IGVsZW1lbnQgY29udHJvbC4gV2hlbiB1c2VkIHRvZ2V0aGVyIHdpdGgge0BsaW5rIG5nTW9kZWwgYG5nTW9kZWxgfSwgaXQgcHJvdmlkZXMgZGF0YS1iaW5kaW5nLFxuICogaW5wdXQgc3RhdGUgY29udHJvbCwgYW5kIHZhbGlkYXRpb24uXG4gKiBJbnB1dCBjb250cm9sIGZvbGxvd3MgSFRNTDUgaW5wdXQgdHlwZXMgYW5kIHBvbHlmaWxscyB0aGUgSFRNTDUgdmFsaWRhdGlvbiBiZWhhdmlvciBmb3Igb2xkZXIgYnJvd3NlcnMuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqTm90ZToqKiBOb3QgZXZlcnkgZmVhdHVyZSBvZmZlcmVkIGlzIGF2YWlsYWJsZSBmb3IgYWxsIGlucHV0IHR5cGVzLlxuICogU3BlY2lmaWNhbGx5LCBkYXRhIGJpbmRpbmcgYW5kIGV2ZW50IGhhbmRsaW5nIHZpYSBgbmctbW9kZWxgIGlzIHVuc3VwcG9ydGVkIGZvciBgaW5wdXRbZmlsZV1gLlxuICogPC9kaXY+XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICogQHBhcmFtIHtib29sZWFuPX0gbmdSZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGlmIHNldCB0byB0cnVlXG4gKiBAcGFyYW0ge251bWJlcj19IG5nTWlubGVuZ3RoIFNldHMgYG1pbmxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIHNob3J0ZXIgdGhhblxuICogICAgbWlubGVuZ3RoLlxuICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxuICogICAgbWF4bGVuZ3RoLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ1BhdHRlcm4gU2V0cyBgcGF0dGVybmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGRvZXMgbm90IG1hdGNoIHRoZVxuICogICAgUmVnRXhwIHBhdHRlcm4gZXhwcmVzc2lvbi4gRXhwZWN0ZWQgdmFsdWUgaXMgYC9yZWdleHAvYCBmb3IgaW5saW5lIHBhdHRlcm5zIG9yIGByZWdleHBgIGZvclxuICogICAgcGF0dGVybnMgZGVmaW5lZCBhcyBzY29wZSBleHByZXNzaW9ucy5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IFtuZ1RyaW09dHJ1ZV0gSWYgc2V0IHRvIGZhbHNlIEFuZ3VsYXIgd2lsbCBub3QgYXV0b21hdGljYWxseSB0cmltIHRoZSBpbnB1dC5cbiAqICAgIFRoaXMgcGFyYW1ldGVyIGlzIGlnbm9yZWQgZm9yIGlucHV0W3R5cGU9cGFzc3dvcmRdIGNvbnRyb2xzLCB3aGljaCB3aWxsIG5ldmVyIHRyaW0gdGhlXG4gKiAgICBpbnB1dC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlIG5hbWU9XCJpbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJpbnB1dEV4YW1wbGVcIj5cbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnaW5wdXRFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAkc2NvcGUudXNlciA9IHtuYW1lOiAnZ3Vlc3QnLCBsYXN0OiAndmlzaXRvcid9O1xuICAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCI+XG4gICAgICAgICAgIFVzZXIgbmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJOYW1lXCIgbmctbW9kZWw9XCJ1c2VyLm5hbWVcIiByZXF1aXJlZD5cbiAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0udXNlck5hbWUuJGVycm9yLnJlcXVpcmVkXCI+XG4gICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPjxicj5cbiAgICAgICAgICAgTGFzdCBuYW1lOiA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwibGFzdE5hbWVcIiBuZy1tb2RlbD1cInVzZXIubGFzdFwiXG4gICAgICAgICAgICAgbmctbWlubGVuZ3RoPVwiM1wiIG5nLW1heGxlbmd0aD1cIjEwXCI+XG4gICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmxhc3ROYW1lLiRlcnJvci5taW5sZW5ndGhcIj5cbiAgICAgICAgICAgICBUb28gc2hvcnQhPC9zcGFuPlxuICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5sYXN0TmFtZS4kZXJyb3IubWF4bGVuZ3RoXCI+XG4gICAgICAgICAgICAgVG9vIGxvbmchPC9zcGFuPjxicj5cbiAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgIDxocj5cbiAgICAgICAgIDx0dD51c2VyID0ge3t1c2VyfX08L3R0Pjxici8+XG4gICAgICAgICA8dHQ+bXlGb3JtLnVzZXJOYW1lLiR2YWxpZCA9IHt7bXlGb3JtLnVzZXJOYW1lLiR2YWxpZH19PC90dD48YnI+XG4gICAgICAgICA8dHQ+bXlGb3JtLnVzZXJOYW1lLiRlcnJvciA9IHt7bXlGb3JtLnVzZXJOYW1lLiRlcnJvcn19PC90dD48YnI+XG4gICAgICAgICA8dHQ+bXlGb3JtLmxhc3ROYW1lLiR2YWxpZCA9IHt7bXlGb3JtLmxhc3ROYW1lLiR2YWxpZH19PC90dD48YnI+XG4gICAgICAgICA8dHQ+bXlGb3JtLmxhc3ROYW1lLiRlcnJvciA9IHt7bXlGb3JtLmxhc3ROYW1lLiRlcnJvcn19PC90dD48YnI+XG4gICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnI+XG4gICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxicj5cbiAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLm1pbmxlbmd0aCA9IHt7ISFteUZvcm0uJGVycm9yLm1pbmxlbmd0aH19PC90dD48YnI+XG4gICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5tYXhsZW5ndGggPSB7eyEhbXlGb3JtLiRlcnJvci5tYXhsZW5ndGh9fTwvdHQ+PGJyPlxuICAgICAgIDwvZGl2PlxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICB2YXIgdXNlciA9IGVsZW1lbnQoYnkuZXhhY3RCaW5kaW5nKCd1c2VyJykpO1xuICAgICAgICB2YXIgdXNlck5hbWVWYWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLnVzZXJOYW1lLiR2YWxpZCcpKTtcbiAgICAgICAgdmFyIGxhc3ROYW1lVmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5sYXN0TmFtZS4kdmFsaWQnKSk7XG4gICAgICAgIHZhciBsYXN0TmFtZUVycm9yID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0ubGFzdE5hbWUuJGVycm9yJykpO1xuICAgICAgICB2YXIgZm9ybVZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uJHZhbGlkJykpO1xuICAgICAgICB2YXIgdXNlck5hbWVJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3VzZXIubmFtZScpKTtcbiAgICAgICAgdmFyIHVzZXJMYXN0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1c2VyLmxhc3QnKSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZXhwZWN0KHVzZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3tcIm5hbWVcIjpcImd1ZXN0XCIsXCJsYXN0XCI6XCJ2aXNpdG9yXCJ9Jyk7XG4gICAgICAgICAgZXhwZWN0KHVzZXJOYW1lVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgICBleHBlY3QoZm9ybVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eSB3aGVuIHJlcXVpcmVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdXNlck5hbWVJbnB1dC5jbGVhcigpO1xuICAgICAgICAgIHVzZXJOYW1lSW5wdXQuc2VuZEtleXMoJycpO1xuXG4gICAgICAgICAgZXhwZWN0KHVzZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3tcImxhc3RcIjpcInZpc2l0b3JcIn0nKTtcbiAgICAgICAgICBleHBlY3QodXNlck5hbWVWYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICBleHBlY3QoZm9ybVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGJlIHZhbGlkIGlmIGVtcHR5IHdoZW4gbWluIGxlbmd0aCBpcyBzZXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB1c2VyTGFzdElucHV0LmNsZWFyKCk7XG4gICAgICAgICAgdXNlckxhc3RJbnB1dC5zZW5kS2V5cygnJyk7XG5cbiAgICAgICAgICBleHBlY3QodXNlci5nZXRUZXh0KCkpLnRvQ29udGFpbigne1wibmFtZVwiOlwiZ3Vlc3RcIixcImxhc3RcIjpcIlwifScpO1xuICAgICAgICAgIGV4cGVjdChsYXN0TmFtZVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgICAgZXhwZWN0KGZvcm1WYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgbGVzcyB0aGFuIHJlcXVpcmVkIG1pbiBsZW5ndGgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB1c2VyTGFzdElucHV0LmNsZWFyKCk7XG4gICAgICAgICAgdXNlckxhc3RJbnB1dC5zZW5kS2V5cygneHgnKTtcblxuICAgICAgICAgIGV4cGVjdCh1c2VyLmdldFRleHQoKSkudG9Db250YWluKCd7XCJuYW1lXCI6XCJndWVzdFwifScpO1xuICAgICAgICAgIGV4cGVjdChsYXN0TmFtZVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICAgIGV4cGVjdChsYXN0TmFtZUVycm9yLmdldFRleHQoKSkudG9Db250YWluKCdtaW5sZW5ndGgnKTtcbiAgICAgICAgICBleHBlY3QoZm9ybVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgbG9uZ2VyIHRoYW4gbWF4IGxlbmd0aCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHVzZXJMYXN0SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICB1c2VyTGFzdElucHV0LnNlbmRLZXlzKCdzb21lIHJpZGljdWxvdXNseSBsb25nIG5hbWUnKTtcblxuICAgICAgICAgIGV4cGVjdCh1c2VyLmdldFRleHQoKSkudG9Db250YWluKCd7XCJuYW1lXCI6XCJndWVzdFwifScpO1xuICAgICAgICAgIGV4cGVjdChsYXN0TmFtZVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICAgIGV4cGVjdChsYXN0TmFtZUVycm9yLmdldFRleHQoKSkudG9Db250YWluKCdtYXhsZW5ndGgnKTtcbiAgICAgICAgICBleHBlY3QoZm9ybVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKi9cbnZhciBpbnB1dERpcmVjdGl2ZSA9IFsnJGJyb3dzZXInLCAnJHNuaWZmZXInLCAnJGZpbHRlcicsICckcGFyc2UnLFxuICAgIGZ1bmN0aW9uKCRicm93c2VyLCAkc25pZmZlciwgJGZpbHRlciwgJHBhcnNlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXF1aXJlOiBbJz9uZ01vZGVsJ10sXG4gICAgbGluazoge1xuICAgICAgcHJlOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHMpIHtcbiAgICAgICAgaWYgKGN0cmxzWzBdKSB7XG4gICAgICAgICAgKGlucHV0VHlwZVtsb3dlcmNhc2UoYXR0ci50eXBlKV0gfHwgaW5wdXRUeXBlLnRleHQpKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsc1swXSwgJHNuaWZmZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRicm93c2VyLCAkZmlsdGVyLCAkcGFyc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xufV07XG5cbnZhciBWQUxJRF9DTEFTUyA9ICduZy12YWxpZCcsXG4gICAgSU5WQUxJRF9DTEFTUyA9ICduZy1pbnZhbGlkJyxcbiAgICBQUklTVElORV9DTEFTUyA9ICduZy1wcmlzdGluZScsXG4gICAgRElSVFlfQ0xBU1MgPSAnbmctZGlydHknLFxuICAgIFVOVE9VQ0hFRF9DTEFTUyA9ICduZy11bnRvdWNoZWQnLFxuICAgIFRPVUNIRURfQ0xBU1MgPSAnbmctdG91Y2hlZCcsXG4gICAgUEVORElOR19DTEFTUyA9ICduZy1wZW5kaW5nJztcblxuLyoqXG4gKiBAbmdkb2MgdHlwZVxuICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlclxuICpcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSAkdmlld1ZhbHVlIEFjdHVhbCBzdHJpbmcgdmFsdWUgaW4gdGhlIHZpZXcuXG4gKiBAcHJvcGVydHkgeyp9ICRtb2RlbFZhbHVlIFRoZSB2YWx1ZSBpbiB0aGUgbW9kZWwgdGhhdCB0aGUgY29udHJvbCBpcyBib3VuZCB0by5cbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEZ1bmN0aW9uPn0gJHBhcnNlcnMgQXJyYXkgb2YgZnVuY3Rpb25zIHRvIGV4ZWN1dGUsIGFzIGEgcGlwZWxpbmUsIHdoZW5ldmVyXG4gICAgICAgdGhlIGNvbnRyb2wgcmVhZHMgdmFsdWUgZnJvbSB0aGUgRE9NLiBUaGUgZnVuY3Rpb25zIGFyZSBjYWxsZWQgaW4gYXJyYXkgb3JkZXIsIGVhY2ggcGFzc2luZyB0aGUgdmFsdWVcbiAgICAgICB0aHJvdWdoIHRvIHRoZSBuZXh0LiBUaGUgbGFzdCByZXR1cm4gdmFsdWUgaXMgZm9yd2FyZGVkIHRvIHRoZSAkdmFsaWRhdG9ycyBjb2xsZWN0aW9uLlxuICAgICAgIFVzZWQgdG8gc2FuaXRpemUgLyBjb252ZXJ0IHRoZSB2YWx1ZS5cbiAgICAgICBSZXR1cm5pbmcgdW5kZWZpbmVkIGZyb20gYSBwYXJzZXIgbWVhbnMgYSBwYXJzZSBlcnJvciBvY2N1cnJlZC4gTm8gJHZhbGlkYXRvcnMgd2lsbFxuICAgICAgIHJ1biBhbmQgdGhlICduZ01vZGVsJyB3aWxsIG5vdCBiZSB1cGRhdGVkIHVudGlsIHRoZSBwYXJzZSBlcnJvciBpcyByZXNvbHZlZC4gVGhlIHBhcnNlIGVycm9yIGlzIHN0b3JlZFxuICAgICAgIGluICduZ01vZGVsLiRlcnJvci5wYXJzZScuXG5cbiAqXG4gKiBAcHJvcGVydHkge0FycmF5LjxGdW5jdGlvbj59ICRmb3JtYXR0ZXJzIEFycmF5IG9mIGZ1bmN0aW9ucyB0byBleGVjdXRlLCBhcyBhIHBpcGVsaW5lLCB3aGVuZXZlclxuICAgICAgIHRoZSBtb2RlbCB2YWx1ZSBjaGFuZ2VzLiBUaGUgZnVuY3Rpb25zIGFyZSBjYWxsZWQgaW4gcmV2ZXJzZSBhcnJheSBvcmRlciwgZWFjaCBwYXNzaW5nIHRoZSB2YWx1ZSB0aHJvdWdoIHRvIHRoZVxuICAgICAgIG5leHQuIFRoZSBsYXN0IHJldHVybiB2YWx1ZSBpcyB1c2VkIGFzIHRoZSBhY3R1YWwgRE9NIHZhbHVlLlxuICAgICAgIFVzZWQgdG8gZm9ybWF0IC8gY29udmVydCB2YWx1ZXMgZm9yIGRpc3BsYXkgaW4gdGhlIGNvbnRyb2wuXG4gKiBgYGBqc1xuICogZnVuY3Rpb24gZm9ybWF0dGVyKHZhbHVlKSB7XG4gKiAgIGlmICh2YWx1ZSkge1xuICogICAgIHJldHVybiB2YWx1ZS50b1VwcGVyQ2FzZSgpO1xuICogICB9XG4gKiB9XG4gKiBuZ01vZGVsLiRmb3JtYXR0ZXJzLnB1c2goZm9ybWF0dGVyKTtcbiAqIGBgYFxuICpcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uPn0gJHZhbGlkYXRvcnMgQSBjb2xsZWN0aW9uIG9mIHZhbGlkYXRvcnMgdGhhdCBhcmUgYXBwbGllZFxuICogICAgICB3aGVuZXZlciB0aGUgbW9kZWwgdmFsdWUgY2hhbmdlcy4gVGhlIGtleSB2YWx1ZSB3aXRoaW4gdGhlIG9iamVjdCByZWZlcnMgdG8gdGhlIG5hbWUgb2YgdGhlXG4gKiAgICAgIHZhbGlkYXRvciB3aGlsZSB0aGUgZnVuY3Rpb24gcmVmZXJzIHRvIHRoZSB2YWxpZGF0aW9uIG9wZXJhdGlvbi4gVGhlIHZhbGlkYXRpb24gb3BlcmF0aW9uIGlzXG4gKiAgICAgIHByb3ZpZGVkIHdpdGggdGhlIG1vZGVsIHZhbHVlIGFzIGFuIGFyZ3VtZW50IGFuZCBtdXN0IHJldHVybiBhIHRydWUgb3IgZmFsc2UgdmFsdWUgZGVwZW5kaW5nXG4gKiAgICAgIG9uIHRoZSByZXNwb25zZSBvZiB0aGF0IHZhbGlkYXRpb24uXG4gKlxuICogYGBganNcbiAqIG5nTW9kZWwuJHZhbGlkYXRvcnMudmFsaWRDaGFyYWN0ZXJzID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gKiAgIHZhciB2YWx1ZSA9IG1vZGVsVmFsdWUgfHwgdmlld1ZhbHVlO1xuICogICByZXR1cm4gL1swLTldKy8udGVzdCh2YWx1ZSkgJiZcbiAqICAgICAgICAgIC9bYS16XSsvLnRlc3QodmFsdWUpICYmXG4gKiAgICAgICAgICAvW0EtWl0rLy50ZXN0KHZhbHVlKSAmJlxuICogICAgICAgICAgL1xcVysvLnRlc3QodmFsdWUpO1xuICogfTtcbiAqIGBgYFxuICpcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uPn0gJGFzeW5jVmFsaWRhdG9ycyBBIGNvbGxlY3Rpb24gb2YgdmFsaWRhdGlvbnMgdGhhdCBhcmUgZXhwZWN0ZWQgdG9cbiAqICAgICAgcGVyZm9ybSBhbiBhc3luY2hyb25vdXMgdmFsaWRhdGlvbiAoZS5nLiBhIEhUVFAgcmVxdWVzdCkuIFRoZSB2YWxpZGF0aW9uIGZ1bmN0aW9uIHRoYXQgaXMgcHJvdmlkZWRcbiAqICAgICAgaXMgZXhwZWN0ZWQgdG8gcmV0dXJuIGEgcHJvbWlzZSB3aGVuIGl0IGlzIHJ1biBkdXJpbmcgdGhlIG1vZGVsIHZhbGlkYXRpb24gcHJvY2Vzcy4gT25jZSB0aGUgcHJvbWlzZVxuICogICAgICBpcyBkZWxpdmVyZWQgdGhlbiB0aGUgdmFsaWRhdGlvbiBzdGF0dXMgd2lsbCBiZSBzZXQgdG8gdHJ1ZSB3aGVuIGZ1bGZpbGxlZCBhbmQgZmFsc2Ugd2hlbiByZWplY3RlZC5cbiAqICAgICAgV2hlbiB0aGUgYXN5bmNocm9ub3VzIHZhbGlkYXRvcnMgYXJlIHRyaWdnZXJlZCwgZWFjaCBvZiB0aGUgdmFsaWRhdG9ycyB3aWxsIHJ1biBpbiBwYXJhbGxlbCBhbmQgdGhlIG1vZGVsXG4gKiAgICAgIHZhbHVlIHdpbGwgb25seSBiZSB1cGRhdGVkIG9uY2UgYWxsIHZhbGlkYXRvcnMgaGF2ZSBiZWVuIGZ1bGZpbGxlZC4gQXMgbG9uZyBhcyBhbiBhc3luY2hyb25vdXMgdmFsaWRhdG9yXG4gKiAgICAgIGlzIHVuZnVsZmlsbGVkLCBpdHMga2V5IHdpbGwgYmUgYWRkZWQgdG8gdGhlIGNvbnRyb2xsZXJzIGAkcGVuZGluZ2AgcHJvcGVydHkuIEFsc28sIGFsbCBhc3luY2hyb25vdXMgdmFsaWRhdG9yc1xuICogICAgICB3aWxsIG9ubHkgcnVuIG9uY2UgYWxsIHN5bmNocm9ub3VzIHZhbGlkYXRvcnMgaGF2ZSBwYXNzZWQuXG4gKlxuICogUGxlYXNlIG5vdGUgdGhhdCBpZiAkaHR0cCBpcyB1c2VkIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRoYXQgdGhlIHNlcnZlciByZXR1cm5zIGEgc3VjY2VzcyBIVFRQIHJlc3BvbnNlIGNvZGVcbiAqIGluIG9yZGVyIHRvIGZ1bGZpbGwgdGhlIHZhbGlkYXRpb24gYW5kIGEgc3RhdHVzIGxldmVsIG9mIGA0eHhgIGluIG9yZGVyIHRvIHJlamVjdCB0aGUgdmFsaWRhdGlvbi5cbiAqXG4gKiBgYGBqc1xuICogbmdNb2RlbC4kYXN5bmNWYWxpZGF0b3JzLnVuaXF1ZVVzZXJuYW1lID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gKiAgIHZhciB2YWx1ZSA9IG1vZGVsVmFsdWUgfHwgdmlld1ZhbHVlO1xuICpcbiAqICAgLy8gTG9va3VwIHVzZXIgYnkgdXNlcm5hbWVcbiAqICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2Vycy8nICsgdmFsdWUpLlxuICogICAgICB0aGVuKGZ1bmN0aW9uIHJlc29sdmVkKCkge1xuICogICAgICAgIC8vdXNlcm5hbWUgZXhpc3RzLCB0aGlzIG1lYW5zIHZhbGlkYXRpb24gZmFpbHNcbiAqICAgICAgICByZXR1cm4gJHEucmVqZWN0KCdleGlzdHMnKTtcbiAqICAgICAgfSwgZnVuY3Rpb24gcmVqZWN0ZWQoKSB7XG4gKiAgICAgICAgLy91c2VybmFtZSBkb2VzIG5vdCBleGlzdCwgdGhlcmVmb3JlIHRoaXMgdmFsaWRhdGlvbiBwYXNzZXNcbiAqICAgICAgICByZXR1cm4gdHJ1ZTtcbiAqICAgICAgfSk7XG4gKiB9O1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIHZhbGlkYXRvci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHZhbGlkYXRpb25GbiBUaGUgdmFsaWRhdGlvbiBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgcnVuLlxuICpcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEZ1bmN0aW9uPn0gJHZpZXdDaGFuZ2VMaXN0ZW5lcnMgQXJyYXkgb2YgZnVuY3Rpb25zIHRvIGV4ZWN1dGUgd2hlbmV2ZXIgdGhlXG4gKiAgICAgdmlldyB2YWx1ZSBoYXMgY2hhbmdlZC4gSXQgaXMgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzLCBhbmQgaXRzIHJldHVybiB2YWx1ZSBpcyBpZ25vcmVkLlxuICogICAgIFRoaXMgY2FuIGJlIHVzZWQgaW4gcGxhY2Ugb2YgYWRkaXRpb25hbCAkd2F0Y2hlcyBhZ2FpbnN0IHRoZSBtb2RlbCB2YWx1ZS5cbiAqXG4gKiBAcHJvcGVydHkge09iamVjdH0gJGVycm9yIEFuIG9iamVjdCBoYXNoIHdpdGggYWxsIGZhaWxpbmcgdmFsaWRhdG9yIGlkcyBhcyBrZXlzLlxuICogQHByb3BlcnR5IHtPYmplY3R9ICRwZW5kaW5nIEFuIG9iamVjdCBoYXNoIHdpdGggYWxsIHBlbmRpbmcgdmFsaWRhdG9yIGlkcyBhcyBrZXlzLlxuICpcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHVudG91Y2hlZCBUcnVlIGlmIGNvbnRyb2wgaGFzIG5vdCBsb3N0IGZvY3VzIHlldC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHRvdWNoZWQgVHJ1ZSBpZiBjb250cm9sIGhhcyBsb3N0IGZvY3VzLlxuICogQHByb3BlcnR5IHtib29sZWFufSAkcHJpc3RpbmUgVHJ1ZSBpZiB1c2VyIGhhcyBub3QgaW50ZXJhY3RlZCB3aXRoIHRoZSBjb250cm9sIHlldC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJGRpcnR5IFRydWUgaWYgdXNlciBoYXMgYWxyZWFkeSBpbnRlcmFjdGVkIHdpdGggdGhlIGNvbnRyb2wuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICR2YWxpZCBUcnVlIGlmIHRoZXJlIGlzIG5vIGVycm9yLlxuICogQHByb3BlcnR5IHtib29sZWFufSAkaW52YWxpZCBUcnVlIGlmIGF0IGxlYXN0IG9uZSBlcnJvciBvbiB0aGUgY29udHJvbC5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBgTmdNb2RlbENvbnRyb2xsZXJgIHByb3ZpZGVzIEFQSSBmb3IgdGhlIGBuZy1tb2RlbGAgZGlyZWN0aXZlLiBUaGUgY29udHJvbGxlciBjb250YWluc1xuICogc2VydmljZXMgZm9yIGRhdGEtYmluZGluZywgdmFsaWRhdGlvbiwgQ1NTIHVwZGF0ZXMsIGFuZCB2YWx1ZSBmb3JtYXR0aW5nIGFuZCBwYXJzaW5nLiBJdFxuICogcHVycG9zZWZ1bGx5IGRvZXMgbm90IGNvbnRhaW4gYW55IGxvZ2ljIHdoaWNoIGRlYWxzIHdpdGggRE9NIHJlbmRlcmluZyBvciBsaXN0ZW5pbmcgdG9cbiAqIERPTSBldmVudHMuIFN1Y2ggRE9NIHJlbGF0ZWQgbG9naWMgc2hvdWxkIGJlIHByb3ZpZGVkIGJ5IG90aGVyIGRpcmVjdGl2ZXMgd2hpY2ggbWFrZSB1c2Ugb2ZcbiAqIGBOZ01vZGVsQ29udHJvbGxlcmAgZm9yIGRhdGEtYmluZGluZy5cbiAqXG4gKiAjIyBDdXN0b20gQ29udHJvbCBFeGFtcGxlXG4gKiBUaGlzIGV4YW1wbGUgc2hvd3MgaG93IHRvIHVzZSBgTmdNb2RlbENvbnRyb2xsZXJgIHdpdGggYSBjdXN0b20gY29udHJvbCB0byBhY2hpZXZlXG4gKiBkYXRhLWJpbmRpbmcuIE5vdGljZSBob3cgZGlmZmVyZW50IGRpcmVjdGl2ZXMgKGBjb250ZW50ZWRpdGFibGVgLCBgbmctbW9kZWxgLCBhbmQgYHJlcXVpcmVkYClcbiAqIGNvbGxhYm9yYXRlIHRvZ2V0aGVyIHRvIGFjaGlldmUgdGhlIGRlc2lyZWQgcmVzdWx0LlxuICpcbiAqIE5vdGUgdGhhdCBgY29udGVudGVkaXRhYmxlYCBpcyBhbiBIVE1MNSBhdHRyaWJ1dGUsIHdoaWNoIHRlbGxzIHRoZSBicm93c2VyIHRvIGxldCB0aGUgZWxlbWVudFxuICogY29udGVudHMgYmUgZWRpdGVkIGluIHBsYWNlIGJ5IHRoZSB1c2VyLiAgVGhpcyB3aWxsIG5vdCB3b3JrIG9uIG9sZGVyIGJyb3dzZXJzLlxuICpcbiAqIFdlIGFyZSB1c2luZyB0aGUge0BsaW5rIG5nLnNlcnZpY2U6JHNjZSAkc2NlfSBzZXJ2aWNlIGhlcmUgYW5kIGluY2x1ZGUgdGhlIHtAbGluayBuZ1Nhbml0aXplICRzYW5pdGl6ZX1cbiAqIG1vZHVsZSB0byBhdXRvbWF0aWNhbGx5IHJlbW92ZSBcImJhZFwiIGNvbnRlbnQgbGlrZSBpbmxpbmUgZXZlbnQgbGlzdGVuZXIgKGUuZy4gYDxzcGFuIG9uY2xpY2s9XCIuLi5cIj5gKS5cbiAqIEhvd2V2ZXIsIGFzIHdlIGFyZSB1c2luZyBgJHNjZWAgdGhlIG1vZGVsIGNhbiBzdGlsbCBkZWNpZGUgdG8gcHJvdmlkZSB1bnNhZmUgY29udGVudCBpZiBpdCBtYXJrc1xuICogdGhhdCBjb250ZW50IHVzaW5nIHRoZSBgJHNjZWAgc2VydmljZS5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwiTmdNb2RlbENvbnRyb2xsZXJcIiBtb2R1bGU9XCJjdXN0b21Db250cm9sXCIgZGVwcz1cImFuZ3VsYXItc2FuaXRpemUuanNcIj5cbiAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICBbY29udGVudGVkaXRhYmxlXSB7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICAgICAgbWluLWhlaWdodDogMjBweDtcbiAgICAgIH1cblxuICAgICAgLm5nLWludmFsaWQge1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZWQ7XG4gICAgICB9XG5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ2N1c3RvbUNvbnRyb2wnLCBbJ25nU2FuaXRpemUnXSkuXG4gICAgICAgIGRpcmVjdGl2ZSgnY29udGVudGVkaXRhYmxlJywgWyckc2NlJywgZnVuY3Rpb24oJHNjZSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0EnLCAvLyBvbmx5IGFjdGl2YXRlIG9uIGVsZW1lbnQgYXR0cmlidXRlXG4gICAgICAgICAgICByZXF1aXJlOiAnP25nTW9kZWwnLCAvLyBnZXQgYSBob2xkIG9mIE5nTW9kZWxDb250cm9sbGVyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIG5nTW9kZWwpIHtcbiAgICAgICAgICAgICAgaWYgKCFuZ01vZGVsKSByZXR1cm47IC8vIGRvIG5vdGhpbmcgaWYgbm8gbmctbW9kZWxcblxuICAgICAgICAgICAgICAvLyBTcGVjaWZ5IGhvdyBVSSBzaG91bGQgYmUgdXBkYXRlZFxuICAgICAgICAgICAgICBuZ01vZGVsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50Lmh0bWwoJHNjZS5nZXRUcnVzdGVkSHRtbChuZ01vZGVsLiR2aWV3VmFsdWUgfHwgJycpKTtcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAvLyBMaXN0ZW4gZm9yIGNoYW5nZSBldmVudHMgdG8gZW5hYmxlIGJpbmRpbmdcbiAgICAgICAgICAgICAgZWxlbWVudC5vbignYmx1ciBrZXl1cCBjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkocmVhZCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICByZWFkKCk7IC8vIGluaXRpYWxpemVcblxuICAgICAgICAgICAgICAvLyBXcml0ZSBkYXRhIHRvIHRoZSBtb2RlbFxuICAgICAgICAgICAgICBmdW5jdGlvbiByZWFkKCkge1xuICAgICAgICAgICAgICAgIHZhciBodG1sID0gZWxlbWVudC5odG1sKCk7XG4gICAgICAgICAgICAgICAgLy8gV2hlbiB3ZSBjbGVhciB0aGUgY29udGVudCBlZGl0YWJsZSB0aGUgYnJvd3NlciBsZWF2ZXMgYSA8YnI+IGJlaGluZFxuICAgICAgICAgICAgICAgIC8vIElmIHN0cmlwLWJyIGF0dHJpYnV0ZSBpcyBwcm92aWRlZCB0aGVuIHdlIHN0cmlwIHRoaXMgb3V0XG4gICAgICAgICAgICAgICAgaWYgKCBhdHRycy5zdHJpcEJyICYmIGh0bWwgPT0gJzxicj4nICkge1xuICAgICAgICAgICAgICAgICAgaHRtbCA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZ01vZGVsLiRzZXRWaWV3VmFsdWUoaHRtbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XSk7XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCI+XG4gICAgICAgPGRpdiBjb250ZW50ZWRpdGFibGVcbiAgICAgICAgICAgIG5hbWU9XCJteVdpZGdldFwiIG5nLW1vZGVsPVwidXNlckNvbnRlbnRcIlxuICAgICAgICAgICAgc3RyaXAtYnI9XCJ0cnVlXCJcbiAgICAgICAgICAgIHJlcXVpcmVkPkNoYW5nZSBtZSE8L2Rpdj5cbiAgICAgICAgPHNwYW4gbmctc2hvdz1cIm15Rm9ybS5teVdpZGdldC4kZXJyb3IucmVxdWlyZWRcIj5SZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgPGhyPlxuICAgICAgIDx0ZXh0YXJlYSBuZy1tb2RlbD1cInVzZXJDb250ZW50XCI+PC90ZXh0YXJlYT5cbiAgICAgIDwvZm9ybT5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgIGl0KCdzaG91bGQgZGF0YS1iaW5kIGFuZCBiZWNvbWUgaW52YWxpZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgPT0gJ3NhZmFyaScgfHwgYnJvd3Nlci5wYXJhbXMuYnJvd3NlciA9PSAnZmlyZWZveCcpIHtcbiAgICAgICAgLy8gU2FmYXJpRHJpdmVyIGNhbid0IGhhbmRsZSBjb250ZW50ZWRpdGFibGVcbiAgICAgICAgLy8gYW5kIEZpcmVmb3ggZHJpdmVyIGNhbid0IGNsZWFyIGNvbnRlbnRlZGl0YWJsZXMgdmVyeSB3ZWxsXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBjb250ZW50RWRpdGFibGUgPSBlbGVtZW50KGJ5LmNzcygnW2NvbnRlbnRlZGl0YWJsZV0nKSk7XG4gICAgICB2YXIgY29udGVudCA9ICdDaGFuZ2UgbWUhJztcblxuICAgICAgZXhwZWN0KGNvbnRlbnRFZGl0YWJsZS5nZXRUZXh0KCkpLnRvRXF1YWwoY29udGVudCk7XG5cbiAgICAgIGNvbnRlbnRFZGl0YWJsZS5jbGVhcigpO1xuICAgICAgY29udGVudEVkaXRhYmxlLnNlbmRLZXlzKHByb3RyYWN0b3IuS2V5LkJBQ0tfU1BBQ0UpO1xuICAgICAgZXhwZWN0KGNvbnRlbnRFZGl0YWJsZS5nZXRUZXh0KCkpLnRvRXF1YWwoJycpO1xuICAgICAgZXhwZWN0KGNvbnRlbnRFZGl0YWJsZS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvTWF0Y2goL25nLWludmFsaWQtcmVxdWlyZWQvKTtcbiAgICB9KTtcbiAgICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICpcbiAqL1xudmFyIE5nTW9kZWxDb250cm9sbGVyID0gWyckc2NvcGUnLCAnJGV4Y2VwdGlvbkhhbmRsZXInLCAnJGF0dHJzJywgJyRlbGVtZW50JywgJyRwYXJzZScsICckYW5pbWF0ZScsICckdGltZW91dCcsICckcm9vdFNjb3BlJywgJyRxJywgJyRpbnRlcnBvbGF0ZScsXG4gICAgZnVuY3Rpb24oJHNjb3BlLCAkZXhjZXB0aW9uSGFuZGxlciwgJGF0dHIsICRlbGVtZW50LCAkcGFyc2UsICRhbmltYXRlLCAkdGltZW91dCwgJHJvb3RTY29wZSwgJHEsICRpbnRlcnBvbGF0ZSkge1xuICB0aGlzLiR2aWV3VmFsdWUgPSBOdW1iZXIuTmFOO1xuICB0aGlzLiRtb2RlbFZhbHVlID0gTnVtYmVyLk5hTjtcbiAgdGhpcy4kdmFsaWRhdG9ycyA9IHt9O1xuICB0aGlzLiRhc3luY1ZhbGlkYXRvcnMgPSB7fTtcbiAgdGhpcy4kcGFyc2VycyA9IFtdO1xuICB0aGlzLiRmb3JtYXR0ZXJzID0gW107XG4gIHRoaXMuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMgPSBbXTtcbiAgdGhpcy4kdW50b3VjaGVkID0gdHJ1ZTtcbiAgdGhpcy4kdG91Y2hlZCA9IGZhbHNlO1xuICB0aGlzLiRwcmlzdGluZSA9IHRydWU7XG4gIHRoaXMuJGRpcnR5ID0gZmFsc2U7XG4gIHRoaXMuJHZhbGlkID0gdHJ1ZTtcbiAgdGhpcy4kaW52YWxpZCA9IGZhbHNlO1xuICB0aGlzLiRlcnJvciA9IHt9OyAvLyBrZWVwIGludmFsaWQga2V5cyBoZXJlXG4gIHRoaXMuJCRzdWNjZXNzID0ge307IC8vIGtlZXAgdmFsaWQga2V5cyBoZXJlXG4gIHRoaXMuJHBlbmRpbmcgPSB1bmRlZmluZWQ7IC8vIGtlZXAgcGVuZGluZyBrZXlzIGhlcmVcbiAgdGhpcy4kbmFtZSA9ICRpbnRlcnBvbGF0ZSgkYXR0ci5uYW1lIHx8ICcnLCBmYWxzZSkoJHNjb3BlKTtcblxuXG4gIHZhciBwYXJzZWROZ01vZGVsID0gJHBhcnNlKCRhdHRyLm5nTW9kZWwpLFxuICAgICAgcGVuZGluZ0RlYm91bmNlID0gbnVsbCxcbiAgICAgIGN0cmwgPSB0aGlzO1xuXG4gIHZhciBuZ01vZGVsR2V0ID0gZnVuY3Rpb24gbmdNb2RlbEdldCgpIHtcbiAgICB2YXIgbW9kZWxWYWx1ZSA9IHBhcnNlZE5nTW9kZWwoJHNjb3BlKTtcbiAgICBpZiAoY3RybC4kb3B0aW9ucyAmJiBjdHJsLiRvcHRpb25zLmdldHRlclNldHRlciAmJiBpc0Z1bmN0aW9uKG1vZGVsVmFsdWUpKSB7XG4gICAgICBtb2RlbFZhbHVlID0gbW9kZWxWYWx1ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gbW9kZWxWYWx1ZTtcbiAgfTtcblxuICB2YXIgbmdNb2RlbFNldCA9IGZ1bmN0aW9uIG5nTW9kZWxTZXQobmV3VmFsdWUpIHtcbiAgICB2YXIgZ2V0dGVyU2V0dGVyO1xuICAgIGlmIChjdHJsLiRvcHRpb25zICYmIGN0cmwuJG9wdGlvbnMuZ2V0dGVyU2V0dGVyICYmXG4gICAgICAgIGlzRnVuY3Rpb24oZ2V0dGVyU2V0dGVyID0gcGFyc2VkTmdNb2RlbCgkc2NvcGUpKSkge1xuXG4gICAgICBnZXR0ZXJTZXR0ZXIoY3RybC4kbW9kZWxWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcnNlZE5nTW9kZWwuYXNzaWduKCRzY29wZSwgY3RybC4kbW9kZWxWYWx1ZSk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuJCRzZXRPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGN0cmwuJG9wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgaWYgKCFwYXJzZWROZ01vZGVsLmFzc2lnbiAmJiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMuZ2V0dGVyU2V0dGVyKSkge1xuICAgICAgdGhyb3cgJG5nTW9kZWxNaW5FcnIoJ25vbmFzc2lnbicsIFwiRXhwcmVzc2lvbiAnezB9JyBpcyBub24tYXNzaWduYWJsZS4gRWxlbWVudDogezF9XCIsXG4gICAgICAgICAgJGF0dHIubmdNb2RlbCwgc3RhcnRpbmdUYWcoJGVsZW1lbnQpKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkcmVuZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdmlldyBuZWVkcyB0byBiZSB1cGRhdGVkLiBJdCBpcyBleHBlY3RlZCB0aGF0IHRoZSB1c2VyIG9mIHRoZSBuZy1tb2RlbFxuICAgKiBkaXJlY3RpdmUgd2lsbCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAqXG4gICAqIFRoZSBgJHJlbmRlcigpYCBtZXRob2QgaXMgaW52b2tlZCBpbiB0aGUgZm9sbG93aW5nIHNpdHVhdGlvbnM6XG4gICAqXG4gICAqICogYCRyb2xsYmFja1ZpZXdWYWx1ZSgpYCBpcyBjYWxsZWQuICBJZiB3ZSBhcmUgcm9sbGluZyBiYWNrIHRoZSB2aWV3IHZhbHVlIHRvIHRoZSBsYXN0XG4gICAqICAgY29tbWl0dGVkIHZhbHVlIHRoZW4gYCRyZW5kZXIoKWAgaXMgY2FsbGVkIHRvIHVwZGF0ZSB0aGUgaW5wdXQgY29udHJvbC5cbiAgICogKiBUaGUgdmFsdWUgcmVmZXJlbmNlZCBieSBgbmctbW9kZWxgIGlzIGNoYW5nZWQgcHJvZ3JhbW1hdGljYWxseSBhbmQgYm90aCB0aGUgYCRtb2RlbFZhbHVlYCBhbmRcbiAgICogICB0aGUgYCR2aWV3VmFsdWVgIGFyZSBkaWZmZXJlbnQgdG8gbGFzdCB0aW1lLlxuICAgKlxuICAgKiBTaW5jZSBgbmctbW9kZWxgIGRvZXMgbm90IGRvIGEgZGVlcCB3YXRjaCwgYCRyZW5kZXIoKWAgaXMgb25seSBpbnZva2VkIGlmIHRoZSB2YWx1ZXMgb2ZcbiAgICogYCRtb2RlbFZhbHVlYCBhbmQgYCR2aWV3VmFsdWVgIGFyZSBhY3R1YWxseSBkaWZmZXJlbnQgdG8gdGhlaXIgcHJldmlvdXMgdmFsdWUuIElmIGAkbW9kZWxWYWx1ZWBcbiAgICogb3IgYCR2aWV3VmFsdWVgIGFyZSBvYmplY3RzIChyYXRoZXIgdGhhbiBhIHN0cmluZyBvciBudW1iZXIpIHRoZW4gYCRyZW5kZXIoKWAgd2lsbCBub3QgYmVcbiAgICogaW52b2tlZCBpZiB5b3Ugb25seSBjaGFuZ2UgYSBwcm9wZXJ0eSBvbiB0aGUgb2JqZWN0cy5cbiAgICovXG4gIHRoaXMuJHJlbmRlciA9IG5vb3A7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkaXNFbXB0eVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBpcyBjYWxsZWQgd2hlbiB3ZSBuZWVkIHRvIGRldGVybWluZSBpZiB0aGUgdmFsdWUgb2YgdGhlIGlucHV0IGlzIGVtcHR5LlxuICAgKlxuICAgKiBGb3IgaW5zdGFuY2UsIHRoZSByZXF1aXJlZCBkaXJlY3RpdmUgZG9lcyB0aGlzIHRvIHdvcmsgb3V0IGlmIHRoZSBpbnB1dCBoYXMgZGF0YSBvciBub3QuXG4gICAqIFRoZSBkZWZhdWx0IGAkaXNFbXB0eWAgZnVuY3Rpb24gY2hlY2tzIHdoZXRoZXIgdGhlIHZhbHVlIGlzIGB1bmRlZmluZWRgLCBgJydgLCBgbnVsbGAgb3IgYE5hTmAuXG4gICAqXG4gICAqIFlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBmb3IgaW5wdXQgZGlyZWN0aXZlcyB3aG9zZSBjb25jZXB0IG9mIGJlaW5nIGVtcHR5IGlzIGRpZmZlcmVudCB0byB0aGVcbiAgICogZGVmYXVsdC4gVGhlIGBjaGVja2JveElucHV0VHlwZWAgZGlyZWN0aXZlIGRvZXMgdGhpcyBiZWNhdXNlIGluIGl0cyBjYXNlIGEgdmFsdWUgb2YgYGZhbHNlYFxuICAgKiBpbXBsaWVzIGVtcHR5LlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIE1vZGVsIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGVtcHR5LlxuICAgKi9cbiAgdGhpcy4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzVW5kZWZpbmVkKHZhbHVlKSB8fCB2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlO1xuICB9O1xuXG4gIHZhciBwYXJlbnRGb3JtID0gJGVsZW1lbnQuaW5oZXJpdGVkRGF0YSgnJGZvcm1Db250cm9sbGVyJykgfHwgbnVsbEZvcm1DdHJsLFxuICAgICAgY3VycmVudFZhbGlkYXRpb25SdW5JZCA9IDA7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0VmFsaWRpdHlcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENoYW5nZSB0aGUgdmFsaWRpdHkgc3RhdGUsIGFuZCBub3RpZnkgdGhlIGZvcm0uXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgd2l0aGluICRwYXJzZXJzLyRmb3JtYXR0ZXJzIG9yIGEgY3VzdG9tIHZhbGlkYXRpb24gaW1wbGVtZW50YXRpb24uXG4gICAqIEhvd2V2ZXIsIGluIG1vc3QgY2FzZXMgaXQgc2hvdWxkIGJlIHN1ZmZpY2llbnQgdG8gdXNlIHRoZSBgbmdNb2RlbC4kdmFsaWRhdG9yc2AgYW5kXG4gICAqIGBuZ01vZGVsLiRhc3luY1ZhbGlkYXRvcnNgIGNvbGxlY3Rpb25zIHdoaWNoIHdpbGwgY2FsbCBgJHNldFZhbGlkaXR5YCBhdXRvbWF0aWNhbGx5LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsaWRhdGlvbkVycm9yS2V5IE5hbWUgb2YgdGhlIHZhbGlkYXRvci4gVGhlIGB2YWxpZGF0aW9uRXJyb3JLZXlgIHdpbGwgYmUgYXNzaWduZWRcbiAgICogICAgICAgIHRvIGVpdGhlciBgJGVycm9yW3ZhbGlkYXRpb25FcnJvcktleV1gIG9yIGAkcGVuZGluZ1t2YWxpZGF0aW9uRXJyb3JLZXldYFxuICAgKiAgICAgICAgKGZvciB1bmZ1bGZpbGxlZCBgJGFzeW5jVmFsaWRhdG9yc2ApLCBzbyB0aGF0IGl0IGlzIGF2YWlsYWJsZSBmb3IgZGF0YS1iaW5kaW5nLlxuICAgKiAgICAgICAgVGhlIGB2YWxpZGF0aW9uRXJyb3JLZXlgIHNob3VsZCBiZSBpbiBjYW1lbENhc2UgYW5kIHdpbGwgZ2V0IGNvbnZlcnRlZCBpbnRvIGRhc2gtY2FzZVxuICAgKiAgICAgICAgZm9yIGNsYXNzIG5hbWUuIEV4YW1wbGU6IGBteUVycm9yYCB3aWxsIHJlc3VsdCBpbiBgbmctdmFsaWQtbXktZXJyb3JgIGFuZCBgbmctaW52YWxpZC1teS1lcnJvcmBcbiAgICogICAgICAgIGNsYXNzIGFuZCBjYW4gYmUgYm91bmQgdG8gYXMgIGB7e3NvbWVGb3JtLnNvbWVDb250cm9sLiRlcnJvci5teUVycm9yfX1gIC5cbiAgICogQHBhcmFtIHtib29sZWFufSBpc1ZhbGlkIFdoZXRoZXIgdGhlIGN1cnJlbnQgc3RhdGUgaXMgdmFsaWQgKHRydWUpLCBpbnZhbGlkIChmYWxzZSksIHBlbmRpbmcgKHVuZGVmaW5lZCksXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBvciBza2lwcGVkIChudWxsKS4gUGVuZGluZyBpcyB1c2VkIGZvciB1bmZ1bGZpbGxlZCBgJGFzeW5jVmFsaWRhdG9yc2AuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBTa2lwcGVkIGlzIHVzZWQgYnkgQW5ndWxhciB3aGVuIHZhbGlkYXRvcnMgZG8gbm90IHJ1biBiZWNhdXNlIG9mIHBhcnNlIGVycm9ycyBhbmRcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW4gYCRhc3luY1ZhbGlkYXRvcnNgIGRvIG5vdCBydW4gYmVjYXVzZSBhbnkgb2YgdGhlIGAkdmFsaWRhdG9yc2AgZmFpbGVkLlxuICAgKi9cbiAgYWRkU2V0VmFsaWRpdHlNZXRob2Qoe1xuICAgIGN0cmw6IHRoaXMsXG4gICAgJGVsZW1lbnQ6ICRlbGVtZW50LFxuICAgIHNldDogZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkge1xuICAgICAgb2JqZWN0W3Byb3BlcnR5XSA9IHRydWU7XG4gICAgfSxcbiAgICB1bnNldDogZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkge1xuICAgICAgZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV07XG4gICAgfSxcbiAgICBwYXJlbnRGb3JtOiBwYXJlbnRGb3JtLFxuICAgICRhbmltYXRlOiAkYW5pbWF0ZVxuICB9KTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRQcmlzdGluZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgY29udHJvbCB0byBpdHMgcHJpc3RpbmUgc3RhdGUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSAnbmctZGlydHknIGNsYXNzIGFuZCBzZXQgdGhlIGNvbnRyb2wgdG8gaXRzIHByaXN0aW5lXG4gICAqIHN0YXRlIChuZy1wcmlzdGluZSBjbGFzcykuIEEgbW9kZWwgaXMgY29uc2lkZXJlZCB0byBiZSBwcmlzdGluZSB3aGVuIHRoZSBtb2RlbCBoYXMgbm90IGJlZW4gY2hhbmdlZFxuICAgKiBmcm9tIHdoZW4gZmlyc3QgY29tcGlsZWQgd2l0aGluIHRoZW4gZm9ybS5cbiAgICovXG4gIHRoaXMuJHNldFByaXN0aW5lID0gZnVuY3Rpb24oKSB7XG4gICAgY3RybC4kZGlydHkgPSBmYWxzZTtcbiAgICBjdHJsLiRwcmlzdGluZSA9IHRydWU7XG4gICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoJGVsZW1lbnQsIERJUlRZX0NMQVNTKTtcbiAgICAkYW5pbWF0ZS5hZGRDbGFzcygkZWxlbWVudCwgUFJJU1RJTkVfQ0xBU1MpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldFVudG91Y2hlZFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgY29udHJvbCB0byBpdHMgdW50b3VjaGVkIHN0YXRlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgJ25nLXRvdWNoZWQnIGNsYXNzIGFuZCBzZXQgdGhlIGNvbnRyb2wgdG8gaXRzXG4gICAqIHVudG91Y2hlZCBzdGF0ZSAobmctdW50b3VjaGVkIGNsYXNzKS4gVXBvbiBjb21waWxhdGlvbiwgYSBtb2RlbCBpcyBzZXQgYXMgdW50b3VjaGVkXG4gICAqIGJ5IGRlZmF1bHQsIGhvd2V2ZXIgdGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byByZXN0b3JlIHRoYXQgc3RhdGUgaWYgdGhlIG1vZGVsIGhhc1xuICAgKiBhbHJlYWR5IGJlZW4gdG91Y2hlZCBieSB0aGUgdXNlci5cbiAgICovXG4gIHRoaXMuJHNldFVudG91Y2hlZCA9IGZ1bmN0aW9uKCkge1xuICAgIGN0cmwuJHRvdWNoZWQgPSBmYWxzZTtcbiAgICBjdHJsLiR1bnRvdWNoZWQgPSB0cnVlO1xuICAgICRhbmltYXRlLnNldENsYXNzKCRlbGVtZW50LCBVTlRPVUNIRURfQ0xBU1MsIFRPVUNIRURfQ0xBU1MpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldFRvdWNoZWRcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIGNvbnRyb2wgdG8gaXRzIHRvdWNoZWQgc3RhdGUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSAnbmctdW50b3VjaGVkJyBjbGFzcyBhbmQgc2V0IHRoZSBjb250cm9sIHRvIGl0c1xuICAgKiB0b3VjaGVkIHN0YXRlIChuZy10b3VjaGVkIGNsYXNzKS4gQSBtb2RlbCBpcyBjb25zaWRlcmVkIHRvIGJlIHRvdWNoZWQgd2hlbiB0aGUgdXNlciBoYXNcbiAgICogZmlyc3QgaW50ZXJhY3RlZCAoZm9jdXNzZWQpIG9uIHRoZSBtb2RlbCBpbnB1dCBlbGVtZW50IGFuZCB0aGVuIHNoaWZ0ZWQgZm9jdXMgYXdheSAoYmx1cnJlZClcbiAgICogZnJvbSB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICovXG4gIHRoaXMuJHNldFRvdWNoZWQgPSBmdW5jdGlvbigpIHtcbiAgICBjdHJsLiR0b3VjaGVkID0gdHJ1ZTtcbiAgICBjdHJsLiR1bnRvdWNoZWQgPSBmYWxzZTtcbiAgICAkYW5pbWF0ZS5zZXRDbGFzcygkZWxlbWVudCwgVE9VQ0hFRF9DTEFTUywgVU5UT1VDSEVEX0NMQVNTKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRyb2xsYmFja1ZpZXdWYWx1ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ2FuY2VsIGFuIHVwZGF0ZSBhbmQgcmVzZXQgdGhlIGlucHV0IGVsZW1lbnQncyB2YWx1ZSB0byBwcmV2ZW50IGFuIHVwZGF0ZSB0byB0aGUgYCRtb2RlbFZhbHVlYCxcbiAgICogd2hpY2ggbWF5IGJlIGNhdXNlZCBieSBhIHBlbmRpbmcgZGVib3VuY2VkIGV2ZW50IG9yIGJlY2F1c2UgdGhlIGlucHV0IGlzIHdhaXRpbmcgZm9yIGEgc29tZVxuICAgKiBmdXR1cmUgZXZlbnQuXG4gICAqXG4gICAqIElmIHlvdSBoYXZlIGFuIGlucHV0IHRoYXQgdXNlcyBgbmctbW9kZWwtb3B0aW9uc2AgdG8gc2V0IHVwIGRlYm91bmNlZCBldmVudHMgb3IgZXZlbnRzIHN1Y2hcbiAgICogYXMgYmx1ciB5b3UgY2FuIGhhdmUgYSBzaXR1YXRpb24gd2hlcmUgdGhlcmUgaXMgYSBwZXJpb2Qgd2hlbiB0aGUgYCR2aWV3VmFsdWVgXG4gICAqIGlzIG91dCBvZiBzeW5jaCB3aXRoIHRoZSBuZ01vZGVsJ3MgYCRtb2RlbFZhbHVlYC5cbiAgICpcbiAgICogSW4gdGhpcyBjYXNlLCB5b3UgY2FuIHJ1biBpbnRvIGRpZmZpY3VsdGllcyBpZiB5b3UgdHJ5IHRvIHVwZGF0ZSB0aGUgbmdNb2RlbCdzIGAkbW9kZWxWYWx1ZWBcbiAgICogcHJvZ3JhbW1hdGljYWxseSBiZWZvcmUgdGhlc2UgZGVib3VuY2VkL2Z1dHVyZSBldmVudHMgaGF2ZSByZXNvbHZlZC9vY2N1cnJlZCwgYmVjYXVzZSBBbmd1bGFyJ3NcbiAgICogZGlydHkgY2hlY2tpbmcgbWVjaGFuaXNtIGlzIG5vdCBhYmxlIHRvIHRlbGwgd2hldGhlciB0aGUgbW9kZWwgaGFzIGFjdHVhbGx5IGNoYW5nZWQgb3Igbm90LlxuICAgKlxuICAgKiBUaGUgYCRyb2xsYmFja1ZpZXdWYWx1ZSgpYCBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCBiZWZvcmUgcHJvZ3JhbW1hdGljYWxseSBjaGFuZ2luZyB0aGUgbW9kZWwgb2YgYW5cbiAgICogaW5wdXQgd2hpY2ggbWF5IGhhdmUgc3VjaCBldmVudHMgcGVuZGluZy4gVGhpcyBpcyBpbXBvcnRhbnQgaW4gb3JkZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlXG4gICAqIGlucHV0IGZpZWxkIHdpbGwgYmUgdXBkYXRlZCB3aXRoIHRoZSBuZXcgbW9kZWwgdmFsdWUgYW5kIGFueSBwZW5kaW5nIG9wZXJhdGlvbnMgYXJlIGNhbmNlbGxlZC5cbiAgICpcbiAgICogPGV4YW1wbGUgbmFtZT1cIm5nLW1vZGVsLWNhbmNlbC11cGRhdGVcIiBtb2R1bGU9XCJjYW5jZWwtdXBkYXRlLWV4YW1wbGVcIj5cbiAgICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gICAqICAgICBhbmd1bGFyLm1vZHVsZSgnY2FuY2VsLXVwZGF0ZS1leGFtcGxlJywgW10pXG4gICAqXG4gICAqICAgICAuY29udHJvbGxlcignQ2FuY2VsVXBkYXRlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAqICAgICAgICRzY29wZS5yZXNldFdpdGhDYW5jZWwgPSBmdW5jdGlvbihlKSB7XG4gICAqICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAyNykge1xuICAgKiAgICAgICAgICAgJHNjb3BlLm15Rm9ybS5teUlucHV0MS4kcm9sbGJhY2tWaWV3VmFsdWUoKTtcbiAgICogICAgICAgICAgICRzY29wZS5teVZhbHVlID0gJyc7XG4gICAqICAgICAgICAgfVxuICAgKiAgICAgICB9O1xuICAgKiAgICAgICAkc2NvcGUucmVzZXRXaXRob3V0Q2FuY2VsID0gZnVuY3Rpb24oZSkge1xuICAgKiAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gMjcpIHtcbiAgICogICAgICAgICAgICRzY29wZS5teVZhbHVlID0gJyc7XG4gICAqICAgICAgICAgfVxuICAgKiAgICAgICB9O1xuICAgKiAgICAgfV0pO1xuICAgKiAgIDwvZmlsZT5cbiAgICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiQ2FuY2VsVXBkYXRlQ29udHJvbGxlclwiPlxuICAgKiAgICAgICA8cD5UcnkgdHlwaW5nIHNvbWV0aGluZyBpbiBlYWNoIGlucHV0LiAgU2VlIHRoYXQgdGhlIG1vZGVsIG9ubHkgdXBkYXRlcyB3aGVuIHlvdVxuICAgKiAgICAgICAgICBibHVyIG9mZiB0aGUgaW5wdXQuXG4gICAqICAgICAgICA8L3A+XG4gICAqICAgICAgICA8cD5Ob3cgc2VlIHdoYXQgaGFwcGVucyBpZiB5b3Ugc3RhcnQgdHlwaW5nIHRoZW4gcHJlc3MgdGhlIEVzY2FwZSBrZXk8L3A+XG4gICAqXG4gICAqICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1tb2RlbC1vcHRpb25zPVwieyB1cGRhdGVPbjogJ2JsdXInIH1cIj5cbiAgICogICAgICAgICA8cD5XaXRoICRyb2xsYmFja1ZpZXdWYWx1ZSgpPC9wPlxuICAgKiAgICAgICAgIDxpbnB1dCBuYW1lPVwibXlJbnB1dDFcIiBuZy1tb2RlbD1cIm15VmFsdWVcIiBuZy1rZXlkb3duPVwicmVzZXRXaXRoQ2FuY2VsKCRldmVudClcIj48YnIvPlxuICAgKiAgICAgICAgIG15VmFsdWU6IFwie3sgbXlWYWx1ZSB9fVwiXG4gICAqXG4gICAqICAgICAgICAgPHA+V2l0aG91dCAkcm9sbGJhY2tWaWV3VmFsdWUoKTwvcD5cbiAgICogICAgICAgICA8aW5wdXQgbmFtZT1cIm15SW5wdXQyXCIgbmctbW9kZWw9XCJteVZhbHVlXCIgbmcta2V5ZG93bj1cInJlc2V0V2l0aG91dENhbmNlbCgkZXZlbnQpXCI+PGJyLz5cbiAgICogICAgICAgICBteVZhbHVlOiBcInt7IG15VmFsdWUgfX1cIlxuICAgKiAgICAgICA8L2Zvcm0+XG4gICAqICAgICA8L2Rpdj5cbiAgICogICA8L2ZpbGU+XG4gICAqIDwvZXhhbXBsZT5cbiAgICovXG4gIHRoaXMuJHJvbGxiYWNrVmlld1ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgJHRpbWVvdXQuY2FuY2VsKHBlbmRpbmdEZWJvdW5jZSk7XG4gICAgY3RybC4kdmlld1ZhbHVlID0gY3RybC4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU7XG4gICAgY3RybC4kcmVuZGVyKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmFsaWRhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJ1bnMgZWFjaCBvZiB0aGUgcmVnaXN0ZXJlZCB2YWxpZGF0b3JzIChmaXJzdCBzeW5jaHJvbm91cyB2YWxpZGF0b3JzIGFuZCB0aGVuIGFzeW5jaHJvbm91cyB2YWxpZGF0b3JzKS5cbiAgICovXG4gIHRoaXMuJHZhbGlkYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gaWdub3JlICR2YWxpZGF0ZSBiZWZvcmUgbW9kZWwgaXMgaW5pdGlhbGl6ZWRcbiAgICBpZiAoaXNOdW1iZXIoY3RybC4kbW9kZWxWYWx1ZSkgJiYgaXNOYU4oY3RybC4kbW9kZWxWYWx1ZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy4kJHBhcnNlQW5kVmFsaWRhdGUoKTtcbiAgfTtcblxuICB0aGlzLiQkcnVuVmFsaWRhdG9ycyA9IGZ1bmN0aW9uKHBhcnNlVmFsaWQsIG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSwgZG9uZUNhbGxiYWNrKSB7XG4gICAgY3VycmVudFZhbGlkYXRpb25SdW5JZCsrO1xuICAgIHZhciBsb2NhbFZhbGlkYXRpb25SdW5JZCA9IGN1cnJlbnRWYWxpZGF0aW9uUnVuSWQ7XG5cbiAgICAvLyBjaGVjayBwYXJzZXIgZXJyb3JcbiAgICBpZiAoIXByb2Nlc3NQYXJzZUVycm9ycyhwYXJzZVZhbGlkKSkge1xuICAgICAgdmFsaWRhdGlvbkRvbmUoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXByb2Nlc3NTeW5jVmFsaWRhdG9ycygpKSB7XG4gICAgICB2YWxpZGF0aW9uRG9uZShmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHByb2Nlc3NBc3luY1ZhbGlkYXRvcnMoKTtcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NQYXJzZUVycm9ycyhwYXJzZVZhbGlkKSB7XG4gICAgICB2YXIgZXJyb3JLZXkgPSBjdHJsLiQkcGFyc2VyTmFtZSB8fCAncGFyc2UnO1xuICAgICAgaWYgKHBhcnNlVmFsaWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzZXRWYWxpZGl0eShlcnJvcktleSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRWYWxpZGl0eShlcnJvcktleSwgcGFyc2VWYWxpZCk7XG4gICAgICAgIGlmICghcGFyc2VWYWxpZCkge1xuICAgICAgICAgIGZvckVhY2goY3RybC4kdmFsaWRhdG9ycywgZnVuY3Rpb24odiwgbmFtZSkge1xuICAgICAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgbnVsbCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZm9yRWFjaChjdHJsLiRhc3luY1ZhbGlkYXRvcnMsIGZ1bmN0aW9uKHYsIG5hbWUpIHtcbiAgICAgICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIG51bGwpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc1N5bmNWYWxpZGF0b3JzKCkge1xuICAgICAgdmFyIHN5bmNWYWxpZGF0b3JzVmFsaWQgPSB0cnVlO1xuICAgICAgZm9yRWFjaChjdHJsLiR2YWxpZGF0b3JzLCBmdW5jdGlvbih2YWxpZGF0b3IsIG5hbWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHZhbGlkYXRvcihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpO1xuICAgICAgICBzeW5jVmFsaWRhdG9yc1ZhbGlkID0gc3luY1ZhbGlkYXRvcnNWYWxpZCAmJiByZXN1bHQ7XG4gICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIHJlc3VsdCk7XG4gICAgICB9KTtcbiAgICAgIGlmICghc3luY1ZhbGlkYXRvcnNWYWxpZCkge1xuICAgICAgICBmb3JFYWNoKGN0cmwuJGFzeW5jVmFsaWRhdG9ycywgZnVuY3Rpb24odiwgbmFtZSkge1xuICAgICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIG51bGwpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0FzeW5jVmFsaWRhdG9ycygpIHtcbiAgICAgIHZhciB2YWxpZGF0b3JQcm9taXNlcyA9IFtdO1xuICAgICAgdmFyIGFsbFZhbGlkID0gdHJ1ZTtcbiAgICAgIGZvckVhY2goY3RybC4kYXN5bmNWYWxpZGF0b3JzLCBmdW5jdGlvbih2YWxpZGF0b3IsIG5hbWUpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSB2YWxpZGF0b3IobW9kZWxWYWx1ZSwgdmlld1ZhbHVlKTtcbiAgICAgICAgaWYgKCFpc1Byb21pc2VMaWtlKHByb21pc2UpKSB7XG4gICAgICAgICAgdGhyb3cgJG5nTW9kZWxNaW5FcnIoXCIkYXN5bmNWYWxpZGF0b3JzXCIsXG4gICAgICAgICAgICBcIkV4cGVjdGVkIGFzeW5jaHJvbm91cyB2YWxpZGF0b3IgdG8gcmV0dXJuIGEgcHJvbWlzZSBidXQgZ290ICd7MH0nIGluc3RlYWQuXCIsIHByb21pc2UpO1xuICAgICAgICB9XG4gICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIHVuZGVmaW5lZCk7XG4gICAgICAgIHZhbGlkYXRvclByb21pc2VzLnB1c2gocHJvbWlzZS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIHRydWUpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIGFsbFZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgZmFsc2UpO1xuICAgICAgICB9KSk7XG4gICAgICB9KTtcbiAgICAgIGlmICghdmFsaWRhdG9yUHJvbWlzZXMubGVuZ3RoKSB7XG4gICAgICAgIHZhbGlkYXRpb25Eb25lKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJHEuYWxsKHZhbGlkYXRvclByb21pc2VzKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhbGlkYXRpb25Eb25lKGFsbFZhbGlkKTtcbiAgICAgICAgfSwgbm9vcCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0VmFsaWRpdHkobmFtZSwgaXNWYWxpZCkge1xuICAgICAgaWYgKGxvY2FsVmFsaWRhdGlvblJ1bklkID09PSBjdXJyZW50VmFsaWRhdGlvblJ1bklkKSB7XG4gICAgICAgIGN0cmwuJHNldFZhbGlkaXR5KG5hbWUsIGlzVmFsaWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbGlkYXRpb25Eb25lKGFsbFZhbGlkKSB7XG4gICAgICBpZiAobG9jYWxWYWxpZGF0aW9uUnVuSWQgPT09IGN1cnJlbnRWYWxpZGF0aW9uUnVuSWQpIHtcblxuICAgICAgICBkb25lQ2FsbGJhY2soYWxsVmFsaWQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRjb21taXRWaWV3VmFsdWVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENvbW1pdCBhIHBlbmRpbmcgdXBkYXRlIHRvIHRoZSBgJG1vZGVsVmFsdWVgLlxuICAgKlxuICAgKiBVcGRhdGVzIG1heSBiZSBwZW5kaW5nIGJ5IGEgZGVib3VuY2VkIGV2ZW50IG9yIGJlY2F1c2UgdGhlIGlucHV0IGlzIHdhaXRpbmcgZm9yIGEgc29tZSBmdXR1cmVcbiAgICogZXZlbnQgZGVmaW5lZCBpbiBgbmctbW9kZWwtb3B0aW9uc2AuIHRoaXMgbWV0aG9kIGlzIHJhcmVseSBuZWVkZWQgYXMgYE5nTW9kZWxDb250cm9sbGVyYFxuICAgKiB1c3VhbGx5IGhhbmRsZXMgY2FsbGluZyB0aGlzIGluIHJlc3BvbnNlIHRvIGlucHV0IGV2ZW50cy5cbiAgICovXG4gIHRoaXMuJGNvbW1pdFZpZXdWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2aWV3VmFsdWUgPSBjdHJsLiR2aWV3VmFsdWU7XG5cbiAgICAkdGltZW91dC5jYW5jZWwocGVuZGluZ0RlYm91bmNlKTtcblxuICAgIC8vIElmIHRoZSB2aWV3IHZhbHVlIGhhcyBub3QgY2hhbmdlZCB0aGVuIHdlIHNob3VsZCBqdXN0IGV4aXQsIGV4Y2VwdCBpbiB0aGUgY2FzZSB3aGVyZSB0aGVyZSBpc1xuICAgIC8vIGEgbmF0aXZlIHZhbGlkYXRvciBvbiB0aGUgZWxlbWVudC4gSW4gdGhpcyBjYXNlIHRoZSB2YWxpZGF0aW9uIHN0YXRlIG1heSBoYXZlIGNoYW5nZWQgZXZlbiB0aG91Z2hcbiAgICAvLyB0aGUgdmlld1ZhbHVlIGhhcyBzdGF5ZWQgZW1wdHkuXG4gICAgaWYgKGN0cmwuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlID09PSB2aWV3VmFsdWUgJiYgKHZpZXdWYWx1ZSAhPT0gJycgfHwgIWN0cmwuJCRoYXNOYXRpdmVWYWxpZGF0b3JzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdHJsLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSA9IHZpZXdWYWx1ZTtcblxuICAgIC8vIGNoYW5nZSB0byBkaXJ0eVxuICAgIGlmIChjdHJsLiRwcmlzdGluZSkge1xuICAgICAgY3RybC4kZGlydHkgPSB0cnVlO1xuICAgICAgY3RybC4kcHJpc3RpbmUgPSBmYWxzZTtcbiAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKCRlbGVtZW50LCBQUklTVElORV9DTEFTUyk7XG4gICAgICAkYW5pbWF0ZS5hZGRDbGFzcygkZWxlbWVudCwgRElSVFlfQ0xBU1MpO1xuICAgICAgcGFyZW50Rm9ybS4kc2V0RGlydHkoKTtcbiAgICB9XG4gICAgdGhpcy4kJHBhcnNlQW5kVmFsaWRhdGUoKTtcbiAgfTtcblxuICB0aGlzLiQkcGFyc2VBbmRWYWxpZGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2aWV3VmFsdWUgPSBjdHJsLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZTtcbiAgICB2YXIgbW9kZWxWYWx1ZSA9IHZpZXdWYWx1ZTtcbiAgICB2YXIgcGFyc2VyVmFsaWQgPSBpc1VuZGVmaW5lZChtb2RlbFZhbHVlKSA/IHVuZGVmaW5lZCA6IHRydWU7XG5cbiAgICBpZiAocGFyc2VyVmFsaWQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3RybC4kcGFyc2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBtb2RlbFZhbHVlID0gY3RybC4kcGFyc2Vyc1tpXShtb2RlbFZhbHVlKTtcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKG1vZGVsVmFsdWUpKSB7XG4gICAgICAgICAgcGFyc2VyVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNOdW1iZXIoY3RybC4kbW9kZWxWYWx1ZSkgJiYgaXNOYU4oY3RybC4kbW9kZWxWYWx1ZSkpIHtcbiAgICAgIC8vIGN0cmwuJG1vZGVsVmFsdWUgaGFzIG5vdCBiZWVuIHRvdWNoZWQgeWV0Li4uXG4gICAgICBjdHJsLiRtb2RlbFZhbHVlID0gbmdNb2RlbEdldCgpO1xuICAgIH1cbiAgICB2YXIgcHJldk1vZGVsVmFsdWUgPSBjdHJsLiRtb2RlbFZhbHVlO1xuICAgIHZhciBhbGxvd0ludmFsaWQgPSBjdHJsLiRvcHRpb25zICYmIGN0cmwuJG9wdGlvbnMuYWxsb3dJbnZhbGlkO1xuICAgIGlmIChhbGxvd0ludmFsaWQpIHtcbiAgICAgIGN0cmwuJG1vZGVsVmFsdWUgPSBtb2RlbFZhbHVlO1xuICAgICAgd3JpdGVUb01vZGVsSWZOZWVkZWQoKTtcbiAgICB9XG4gICAgY3RybC4kJHJ1blZhbGlkYXRvcnMocGFyc2VyVmFsaWQsIG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSwgZnVuY3Rpb24oYWxsVmFsaWQpIHtcbiAgICAgIGlmICghYWxsb3dJbnZhbGlkKSB7XG4gICAgICAgIC8vIE5vdGU6IERvbid0IGNoZWNrIGN0cmwuJHZhbGlkIGhlcmUsIGFzIHdlIGNvdWxkIGhhdmVcbiAgICAgICAgLy8gZXh0ZXJuYWwgdmFsaWRhdG9ycyAoZS5nLiBjYWxjdWxhdGVkIG9uIHRoZSBzZXJ2ZXIpLFxuICAgICAgICAvLyB0aGF0IGp1c3QgY2FsbCAkc2V0VmFsaWRpdHkgYW5kIG5lZWQgdGhlIG1vZGVsIHZhbHVlXG4gICAgICAgIC8vIHRvIGNhbGN1bGF0ZSB0aGVpciB2YWxpZGl0eS5cbiAgICAgICAgY3RybC4kbW9kZWxWYWx1ZSA9IGFsbFZhbGlkID8gbW9kZWxWYWx1ZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgd3JpdGVUb01vZGVsSWZOZWVkZWQoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHdyaXRlVG9Nb2RlbElmTmVlZGVkKCkge1xuICAgICAgaWYgKGN0cmwuJG1vZGVsVmFsdWUgIT09IHByZXZNb2RlbFZhbHVlKSB7XG4gICAgICAgIGN0cmwuJCR3cml0ZU1vZGVsVG9TY29wZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB0aGlzLiQkd3JpdGVNb2RlbFRvU2NvcGUgPSBmdW5jdGlvbigpIHtcbiAgICBuZ01vZGVsU2V0KGN0cmwuJG1vZGVsVmFsdWUpO1xuICAgIGZvckVhY2goY3RybC4kdmlld0NoYW5nZUxpc3RlbmVycywgZnVuY3Rpb24obGlzdGVuZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxpc3RlbmVyKCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldFZpZXdWYWx1ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVXBkYXRlIHRoZSB2aWV3IHZhbHVlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIHdoZW4gYW4gaW5wdXQgZGlyZWN0aXZlIHdhbnQgdG8gY2hhbmdlIHRoZSB2aWV3IHZhbHVlOyB0eXBpY2FsbHksXG4gICAqIHRoaXMgaXMgZG9uZSBmcm9tIHdpdGhpbiBhIERPTSBldmVudCBoYW5kbGVyLlxuICAgKlxuICAgKiBGb3IgZXhhbXBsZSB7QGxpbmsgbmcuZGlyZWN0aXZlOmlucHV0IGlucHV0fSBjYWxscyBpdCB3aGVuIHRoZSB2YWx1ZSBvZiB0aGUgaW5wdXQgY2hhbmdlcyBhbmRcbiAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpzZWxlY3Qgc2VsZWN0fSBjYWxscyBpdCB3aGVuIGFuIG9wdGlvbiBpcyBzZWxlY3RlZC5cbiAgICpcbiAgICogSWYgdGhlIG5ldyBgdmFsdWVgIGlzIGFuIG9iamVjdCAocmF0aGVyIHRoYW4gYSBzdHJpbmcgb3IgYSBudW1iZXIpLCB3ZSBzaG91bGQgbWFrZSBhIGNvcHkgb2YgdGhlXG4gICAqIG9iamVjdCBiZWZvcmUgcGFzc2luZyBpdCB0byBgJHNldFZpZXdWYWx1ZWAuICBUaGlzIGlzIGJlY2F1c2UgYG5nTW9kZWxgIGRvZXMgbm90IHBlcmZvcm0gYSBkZWVwXG4gICAqIHdhdGNoIG9mIG9iamVjdHMsIGl0IG9ubHkgbG9va3MgZm9yIGEgY2hhbmdlIG9mIGlkZW50aXR5LiBJZiB5b3Ugb25seSBjaGFuZ2UgdGhlIHByb3BlcnR5IG9mXG4gICAqIHRoZSBvYmplY3QgdGhlbiBuZ01vZGVsIHdpbGwgbm90IHJlYWxpc2UgdGhhdCB0aGUgb2JqZWN0IGhhcyBjaGFuZ2VkIGFuZCB3aWxsIG5vdCBpbnZva2UgdGhlXG4gICAqIGAkcGFyc2Vyc2AgYW5kIGAkdmFsaWRhdG9yc2AgcGlwZWxpbmVzLlxuICAgKlxuICAgKiBGb3IgdGhpcyByZWFzb24sIHlvdSBzaG91bGQgbm90IGNoYW5nZSBwcm9wZXJ0aWVzIG9mIHRoZSBjb3B5IG9uY2UgaXQgaGFzIGJlZW4gcGFzc2VkIHRvXG4gICAqIGAkc2V0Vmlld1ZhbHVlYC4gT3RoZXJ3aXNlIHlvdSBtYXkgY2F1c2UgdGhlIG1vZGVsIHZhbHVlIG9uIHRoZSBzY29wZSB0byBjaGFuZ2UgaW5jb3JyZWN0bHkuXG4gICAqXG4gICAqIFdoZW4gdGhpcyBtZXRob2QgaXMgY2FsbGVkLCB0aGUgbmV3IGB2YWx1ZWAgd2lsbCBiZSBzdGFnZWQgZm9yIGNvbW1pdHRpbmcgdGhyb3VnaCB0aGUgYCRwYXJzZXJzYFxuICAgKiBhbmQgYCR2YWxpZGF0b3JzYCBwaXBlbGluZXMuIElmIHRoZXJlIGFyZSBubyBzcGVjaWFsIHtAbGluayBuZ01vZGVsT3B0aW9uc30gc3BlY2lmaWVkIHRoZW4gdGhlIHN0YWdlZFxuICAgKiB2YWx1ZSBzZW50IGRpcmVjdGx5IGZvciBwcm9jZXNzaW5nLCBmaW5hbGx5IHRvIGJlIGFwcGxpZWQgdG8gYCRtb2RlbFZhbHVlYCBhbmQgdGhlbiB0aGVcbiAgICogKipleHByZXNzaW9uKiogc3BlY2lmaWVkIGluIHRoZSBgbmctbW9kZWxgIGF0dHJpYnV0ZS5cbiAgICpcbiAgICogTGFzdGx5LCBhbGwgdGhlIHJlZ2lzdGVyZWQgY2hhbmdlIGxpc3RlbmVycywgaW4gdGhlIGAkdmlld0NoYW5nZUxpc3RlbmVyc2AgbGlzdCwgYXJlIGNhbGxlZC5cbiAgICpcbiAgICogSW4gY2FzZSB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30gZGlyZWN0aXZlIGlzIHVzZWQgd2l0aCBgdXBkYXRlT25gXG4gICAqIGFuZCB0aGUgYGRlZmF1bHRgIHRyaWdnZXIgaXMgbm90IGxpc3RlZCwgYWxsIHRob3NlIGFjdGlvbnMgd2lsbCByZW1haW4gcGVuZGluZyB1bnRpbCBvbmUgb2YgdGhlXG4gICAqIGB1cGRhdGVPbmAgZXZlbnRzIGlzIHRyaWdnZXJlZCBvbiB0aGUgRE9NIGVsZW1lbnQuXG4gICAqIEFsbCB0aGVzZSBhY3Rpb25zIHdpbGwgYmUgZGVib3VuY2VkIGlmIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIG5nTW9kZWxPcHRpb25zfVxuICAgKiBkaXJlY3RpdmUgaXMgdXNlZCB3aXRoIGEgY3VzdG9tIGRlYm91bmNlIGZvciB0aGlzIHBhcnRpY3VsYXIgZXZlbnQuXG4gICAqXG4gICAqIE5vdGUgdGhhdCBjYWxsaW5nIHRoaXMgZnVuY3Rpb24gZG9lcyBub3QgdHJpZ2dlciBhIGAkZGlnZXN0YC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFZhbHVlIGZyb20gdGhlIHZpZXcuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0cmlnZ2VyIEV2ZW50IHRoYXQgdHJpZ2dlcmVkIHRoZSB1cGRhdGUuXG4gICAqL1xuICB0aGlzLiRzZXRWaWV3VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSwgdHJpZ2dlcikge1xuICAgIGN0cmwuJHZpZXdWYWx1ZSA9IHZhbHVlO1xuICAgIGlmICghY3RybC4kb3B0aW9ucyB8fCBjdHJsLiRvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdCkge1xuICAgICAgY3RybC4kJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0KHRyaWdnZXIpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQgPSBmdW5jdGlvbih0cmlnZ2VyKSB7XG4gICAgdmFyIGRlYm91bmNlRGVsYXkgPSAwLFxuICAgICAgICBvcHRpb25zID0gY3RybC4kb3B0aW9ucyxcbiAgICAgICAgZGVib3VuY2U7XG5cbiAgICBpZiAob3B0aW9ucyAmJiBpc0RlZmluZWQob3B0aW9ucy5kZWJvdW5jZSkpIHtcbiAgICAgIGRlYm91bmNlID0gb3B0aW9ucy5kZWJvdW5jZTtcbiAgICAgIGlmIChpc051bWJlcihkZWJvdW5jZSkpIHtcbiAgICAgICAgZGVib3VuY2VEZWxheSA9IGRlYm91bmNlO1xuICAgICAgfSBlbHNlIGlmIChpc051bWJlcihkZWJvdW5jZVt0cmlnZ2VyXSkpIHtcbiAgICAgICAgZGVib3VuY2VEZWxheSA9IGRlYm91bmNlW3RyaWdnZXJdO1xuICAgICAgfSBlbHNlIGlmIChpc051bWJlcihkZWJvdW5jZVsnZGVmYXVsdCddKSkge1xuICAgICAgICBkZWJvdW5jZURlbGF5ID0gZGVib3VuY2VbJ2RlZmF1bHQnXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkdGltZW91dC5jYW5jZWwocGVuZGluZ0RlYm91bmNlKTtcbiAgICBpZiAoZGVib3VuY2VEZWxheSkge1xuICAgICAgcGVuZGluZ0RlYm91bmNlID0gJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGN0cmwuJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgICAgfSwgZGVib3VuY2VEZWxheSk7XG4gICAgfSBlbHNlIGlmICgkcm9vdFNjb3BlLiQkcGhhc2UpIHtcbiAgICAgIGN0cmwuJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICBjdHJsLiRjb21taXRWaWV3VmFsdWUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvLyBtb2RlbCAtPiB2YWx1ZVxuICAvLyBOb3RlOiB3ZSBjYW5ub3QgdXNlIGEgbm9ybWFsIHNjb3BlLiR3YXRjaCBhcyB3ZSB3YW50IHRvIGRldGVjdCB0aGUgZm9sbG93aW5nOlxuICAvLyAxLiBzY29wZSB2YWx1ZSBpcyAnYSdcbiAgLy8gMi4gdXNlciBlbnRlcnMgJ2InXG4gIC8vIDMuIG5nLWNoYW5nZSBraWNrcyBpbiBhbmQgcmV2ZXJ0cyBzY29wZSB2YWx1ZSB0byAnYSdcbiAgLy8gICAgLT4gc2NvcGUgdmFsdWUgZGlkIG5vdCBjaGFuZ2Ugc2luY2UgdGhlIGxhc3QgZGlnZXN0IGFzXG4gIC8vICAgICAgIG5nLWNoYW5nZSBleGVjdXRlcyBpbiBhcHBseSBwaGFzZVxuICAvLyA0LiB2aWV3IHNob3VsZCBiZSBjaGFuZ2VkIGJhY2sgdG8gJ2EnXG4gICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gbmdNb2RlbFdhdGNoKCkge1xuICAgIHZhciBtb2RlbFZhbHVlID0gbmdNb2RlbEdldCgpO1xuXG4gICAgLy8gaWYgc2NvcGUgbW9kZWwgdmFsdWUgYW5kIG5nTW9kZWwgdmFsdWUgYXJlIG91dCBvZiBzeW5jXG4gICAgLy8gVE9ETyhwZXJmKTogd2h5IG5vdCBtb3ZlIHRoaXMgdG8gdGhlIGFjdGlvbiBmbj9cbiAgICBpZiAobW9kZWxWYWx1ZSAhPT0gY3RybC4kbW9kZWxWYWx1ZSkge1xuICAgICAgY3RybC4kbW9kZWxWYWx1ZSA9IG1vZGVsVmFsdWU7XG5cbiAgICAgIHZhciBmb3JtYXR0ZXJzID0gY3RybC4kZm9ybWF0dGVycyxcbiAgICAgICAgICBpZHggPSBmb3JtYXR0ZXJzLmxlbmd0aDtcblxuICAgICAgdmFyIHZpZXdWYWx1ZSA9IG1vZGVsVmFsdWU7XG4gICAgICB3aGlsZSAoaWR4LS0pIHtcbiAgICAgICAgdmlld1ZhbHVlID0gZm9ybWF0dGVyc1tpZHhdKHZpZXdWYWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoY3RybC4kdmlld1ZhbHVlICE9PSB2aWV3VmFsdWUpIHtcbiAgICAgICAgY3RybC4kdmlld1ZhbHVlID0gY3RybC4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUgPSB2aWV3VmFsdWU7XG4gICAgICAgIGN0cmwuJHJlbmRlcigpO1xuXG4gICAgICAgIGN0cmwuJCRydW5WYWxpZGF0b3JzKHVuZGVmaW5lZCwgbW9kZWxWYWx1ZSwgdmlld1ZhbHVlLCBub29wKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbW9kZWxWYWx1ZTtcbiAgfSk7XG59XTtcblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTW9kZWxcbiAqXG4gKiBAZWxlbWVudCBpbnB1dFxuICogQHByaW9yaXR5IDFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdNb2RlbGAgZGlyZWN0aXZlIGJpbmRzIGFuIGBpbnB1dGAsYHNlbGVjdGAsIGB0ZXh0YXJlYWAgKG9yIGN1c3RvbSBmb3JtIGNvbnRyb2wpIHRvIGFcbiAqIHByb3BlcnR5IG9uIHRoZSBzY29wZSB1c2luZyB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciBOZ01vZGVsQ29udHJvbGxlcn0sXG4gKiB3aGljaCBpcyBjcmVhdGVkIGFuZCBleHBvc2VkIGJ5IHRoaXMgZGlyZWN0aXZlLlxuICpcbiAqIGBuZ01vZGVsYCBpcyByZXNwb25zaWJsZSBmb3I6XG4gKlxuICogLSBCaW5kaW5nIHRoZSB2aWV3IGludG8gdGhlIG1vZGVsLCB3aGljaCBvdGhlciBkaXJlY3RpdmVzIHN1Y2ggYXMgYGlucHV0YCwgYHRleHRhcmVhYCBvciBgc2VsZWN0YFxuICogICByZXF1aXJlLlxuICogLSBQcm92aWRpbmcgdmFsaWRhdGlvbiBiZWhhdmlvciAoaS5lLiByZXF1aXJlZCwgbnVtYmVyLCBlbWFpbCwgdXJsKS5cbiAqIC0gS2VlcGluZyB0aGUgc3RhdGUgb2YgdGhlIGNvbnRyb2wgKHZhbGlkL2ludmFsaWQsIGRpcnR5L3ByaXN0aW5lLCB0b3VjaGVkL3VudG91Y2hlZCwgdmFsaWRhdGlvbiBlcnJvcnMpLlxuICogLSBTZXR0aW5nIHJlbGF0ZWQgY3NzIGNsYXNzZXMgb24gdGhlIGVsZW1lbnQgKGBuZy12YWxpZGAsIGBuZy1pbnZhbGlkYCwgYG5nLWRpcnR5YCwgYG5nLXByaXN0aW5lYCwgYG5nLXRvdWNoZWRgLCBgbmctdW50b3VjaGVkYCkgaW5jbHVkaW5nIGFuaW1hdGlvbnMuXG4gKiAtIFJlZ2lzdGVyaW5nIHRoZSBjb250cm9sIHdpdGggaXRzIHBhcmVudCB7QGxpbmsgbmcuZGlyZWN0aXZlOmZvcm0gZm9ybX0uXG4gKlxuICogTm90ZTogYG5nTW9kZWxgIHdpbGwgdHJ5IHRvIGJpbmQgdG8gdGhlIHByb3BlcnR5IGdpdmVuIGJ5IGV2YWx1YXRpbmcgdGhlIGV4cHJlc3Npb24gb24gdGhlXG4gKiBjdXJyZW50IHNjb3BlLiBJZiB0aGUgcHJvcGVydHkgZG9lc24ndCBhbHJlYWR5IGV4aXN0IG9uIHRoaXMgc2NvcGUsIGl0IHdpbGwgYmUgY3JlYXRlZFxuICogaW1wbGljaXRseSBhbmQgYWRkZWQgdG8gdGhlIHNjb3BlLlxuICpcbiAqIEZvciBiZXN0IHByYWN0aWNlcyBvbiB1c2luZyBgbmdNb2RlbGAsIHNlZTpcbiAqXG4gKiAgLSBbVW5kZXJzdGFuZGluZyBTY29wZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvd2lraS9VbmRlcnN0YW5kaW5nLVNjb3BlcylcbiAqXG4gKiBGb3IgYmFzaWMgZXhhbXBsZXMsIGhvdyB0byB1c2UgYG5nTW9kZWxgLCBzZWU6XG4gKlxuICogIC0ge0BsaW5rIG5nLmRpcmVjdGl2ZTppbnB1dCBpbnB1dH1cbiAqICAgIC0ge0BsaW5rIGlucHV0W3RleHRdIHRleHR9XG4gKiAgICAtIHtAbGluayBpbnB1dFtjaGVja2JveF0gY2hlY2tib3h9XG4gKiAgICAtIHtAbGluayBpbnB1dFtyYWRpb10gcmFkaW99XG4gKiAgICAtIHtAbGluayBpbnB1dFtudW1iZXJdIG51bWJlcn1cbiAqICAgIC0ge0BsaW5rIGlucHV0W2VtYWlsXSBlbWFpbH1cbiAqICAgIC0ge0BsaW5rIGlucHV0W3VybF0gdXJsfVxuICogICAgLSB7QGxpbmsgaW5wdXRbZGF0ZV0gZGF0ZX1cbiAqICAgIC0ge0BsaW5rIGlucHV0W2RhdGVUaW1lTG9jYWxdIGRhdGVUaW1lTG9jYWx9XG4gKiAgICAtIHtAbGluayBpbnB1dFt0aW1lXSB0aW1lfVxuICogICAgLSB7QGxpbmsgaW5wdXRbbW9udGhdIG1vbnRofVxuICogICAgLSB7QGxpbmsgaW5wdXRbd2Vla10gd2Vla31cbiAqICAtIHtAbGluayBuZy5kaXJlY3RpdmU6c2VsZWN0IHNlbGVjdH1cbiAqICAtIHtAbGluayBuZy5kaXJlY3RpdmU6dGV4dGFyZWEgdGV4dGFyZWF9XG4gKlxuICogIyBDU1MgY2xhc3Nlc1xuICogVGhlIGZvbGxvd2luZyBDU1MgY2xhc3NlcyBhcmUgYWRkZWQgYW5kIHJlbW92ZWQgb24gdGhlIGFzc29jaWF0ZWQgaW5wdXQvc2VsZWN0L3RleHRhcmVhIGVsZW1lbnRcbiAqIGRlcGVuZGluZyBvbiB0aGUgdmFsaWRpdHkgb2YgdGhlIG1vZGVsLlxuICpcbiAqICAtIGBuZy12YWxpZGA6IHRoZSBtb2RlbCBpcyB2YWxpZFxuICogIC0gYG5nLWludmFsaWRgOiB0aGUgbW9kZWwgaXMgaW52YWxpZFxuICogIC0gYG5nLXZhbGlkLVtrZXldYDogZm9yIGVhY2ggdmFsaWQga2V5IGFkZGVkIGJ5IGAkc2V0VmFsaWRpdHlgXG4gKiAgLSBgbmctaW52YWxpZC1ba2V5XWA6IGZvciBlYWNoIGludmFsaWQga2V5IGFkZGVkIGJ5IGAkc2V0VmFsaWRpdHlgXG4gKiAgLSBgbmctcHJpc3RpbmVgOiB0aGUgY29udHJvbCBoYXNuJ3QgYmVlbiBpbnRlcmFjdGVkIHdpdGggeWV0XG4gKiAgLSBgbmctZGlydHlgOiB0aGUgY29udHJvbCBoYXMgYmVlbiBpbnRlcmFjdGVkIHdpdGhcbiAqICAtIGBuZy10b3VjaGVkYDogdGhlIGNvbnRyb2wgaGFzIGJlZW4gYmx1cnJlZFxuICogIC0gYG5nLXVudG91Y2hlZGA6IHRoZSBjb250cm9sIGhhc24ndCBiZWVuIGJsdXJyZWRcbiAqICAtIGBuZy1wZW5kaW5nYDogYW55IGAkYXN5bmNWYWxpZGF0b3JzYCBhcmUgdW5mdWxmaWxsZWRcbiAqXG4gKiBLZWVwIGluIG1pbmQgdGhhdCBuZ0FuaW1hdGUgY2FuIGRldGVjdCBlYWNoIG9mIHRoZXNlIGNsYXNzZXMgd2hlbiBhZGRlZCBhbmQgcmVtb3ZlZC5cbiAqXG4gKiAjIyBBbmltYXRpb24gSG9va3NcbiAqXG4gKiBBbmltYXRpb25zIHdpdGhpbiBtb2RlbHMgYXJlIHRyaWdnZXJlZCB3aGVuIGFueSBvZiB0aGUgYXNzb2NpYXRlZCBDU1MgY2xhc3NlcyBhcmUgYWRkZWQgYW5kIHJlbW92ZWRcbiAqIG9uIHRoZSBpbnB1dCBlbGVtZW50IHdoaWNoIGlzIGF0dGFjaGVkIHRvIHRoZSBtb2RlbC4gVGhlc2UgY2xhc3NlcyBhcmU6IGAubmctcHJpc3RpbmVgLCBgLm5nLWRpcnR5YCxcbiAqIGAubmctaW52YWxpZGAgYW5kIGAubmctdmFsaWRgIGFzIHdlbGwgYXMgYW55IG90aGVyIHZhbGlkYXRpb25zIHRoYXQgYXJlIHBlcmZvcm1lZCBvbiB0aGUgbW9kZWwgaXRzZWxmLlxuICogVGhlIGFuaW1hdGlvbnMgdGhhdCBhcmUgdHJpZ2dlcmVkIHdpdGhpbiBuZ01vZGVsIGFyZSBzaW1pbGFyIHRvIGhvdyB0aGV5IHdvcmsgaW4gbmdDbGFzcyBhbmRcbiAqIGFuaW1hdGlvbnMgY2FuIGJlIGhvb2tlZCBpbnRvIHVzaW5nIENTUyB0cmFuc2l0aW9ucywga2V5ZnJhbWVzIGFzIHdlbGwgYXMgSlMgYW5pbWF0aW9ucy5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgYSBzaW1wbGUgd2F5IHRvIHV0aWxpemUgQ1NTIHRyYW5zaXRpb25zIHRvIHN0eWxlIGFuIGlucHV0IGVsZW1lbnRcbiAqIHRoYXQgaGFzIGJlZW4gcmVuZGVyZWQgYXMgaW52YWxpZCBhZnRlciBpdCBoYXMgYmVlbiB2YWxpZGF0ZWQ6XG4gKlxuICogPHByZT5cbiAqIC8vYmUgc3VyZSB0byBpbmNsdWRlIG5nQW5pbWF0ZSBhcyBhIG1vZHVsZSB0byBob29rIGludG8gbW9yZVxuICogLy9hZHZhbmNlZCBhbmltYXRpb25zXG4gKiAubXktaW5wdXQge1xuICogICB0cmFuc2l0aW9uOjAuNXMgbGluZWFyIGFsbDtcbiAqICAgYmFja2dyb3VuZDogd2hpdGU7XG4gKiB9XG4gKiAubXktaW5wdXQubmctaW52YWxpZCB7XG4gKiAgIGJhY2tncm91bmQ6IHJlZDtcbiAqICAgY29sb3I6d2hpdGU7XG4gKiB9XG4gKiA8L3ByZT5cbiAqXG4gKiBAZXhhbXBsZVxuICogPGV4YW1wbGUgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgZml4QmFzZT1cInRydWVcIiBtb2R1bGU9XCJpbnB1dEV4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICBhbmd1bGFyLm1vZHVsZSgnaW5wdXRFeGFtcGxlJywgW10pXG4gICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICRzY29wZS52YWwgPSAnMSc7XG4gICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxzdHlsZT5cbiAgICAgICAgIC5teS1pbnB1dCB7XG4gICAgICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjphbGwgbGluZWFyIDAuNXM7XG4gICAgICAgICAgIHRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzO1xuICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgIH1cbiAgICAgICAgIC5teS1pbnB1dC5uZy1pbnZhbGlkIHtcbiAgICAgICAgICAgY29sb3I6d2hpdGU7XG4gICAgICAgICAgIGJhY2tncm91bmQ6IHJlZDtcbiAgICAgICAgIH1cbiAgICAgICA8L3N0eWxlPlxuICAgICAgIFVwZGF0ZSBpbnB1dCB0byBzZWUgdHJhbnNpdGlvbnMgd2hlbiB2YWxpZC9pbnZhbGlkLlxuICAgICAgIEludGVnZXIgaXMgYSB2YWxpZCB2YWx1ZS5cbiAgICAgICA8Zm9ybSBuYW1lPVwidGVzdEZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInZhbFwiIG5nLXBhdHRlcm49XCIvXlxcZCskL1wiIG5hbWU9XCJhbmltXCIgY2xhc3M9XCJteS1pbnB1dFwiIC8+XG4gICAgICAgPC9mb3JtPlxuICAgICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICogIyMgQmluZGluZyB0byBhIGdldHRlci9zZXR0ZXJcbiAqXG4gKiBTb21ldGltZXMgaXQncyBoZWxwZnVsIHRvIGJpbmQgYG5nTW9kZWxgIHRvIGEgZ2V0dGVyL3NldHRlciBmdW5jdGlvbi4gIEEgZ2V0dGVyL3NldHRlciBpcyBhXG4gKiBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSByZXByZXNlbnRhdGlvbiBvZiB0aGUgbW9kZWwgd2hlbiBjYWxsZWQgd2l0aCB6ZXJvIGFyZ3VtZW50cywgYW5kIHNldHNcbiAqIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiBhIG1vZGVsIHdoZW4gY2FsbGVkIHdpdGggYW4gYXJndW1lbnQuIEl0J3Mgc29tZXRpbWVzIHVzZWZ1bCB0byB1c2UgdGhpc1xuICogZm9yIG1vZGVscyB0aGF0IGhhdmUgYW4gaW50ZXJuYWwgcmVwcmVzZW50YXRpb24gdGhhdCdzIGRpZmZlcmVudCB0aGFuIHdoYXQgdGhlIG1vZGVsIGV4cG9zZXNcbiAqIHRvIHRoZSB2aWV3LlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1zdWNjZXNzXCI+XG4gKiAqKkJlc3QgUHJhY3RpY2U6KiogSXQncyBiZXN0IHRvIGtlZXAgZ2V0dGVycyBmYXN0IGJlY2F1c2UgQW5ndWxhciBpcyBsaWtlbHkgdG8gY2FsbCB0aGVtIG1vcmVcbiAqIGZyZXF1ZW50bHkgdGhhbiBvdGhlciBwYXJ0cyBvZiB5b3VyIGNvZGUuXG4gKiA8L2Rpdj5cbiAqXG4gKiBZb3UgdXNlIHRoaXMgYmVoYXZpb3IgYnkgYWRkaW5nIGBuZy1tb2RlbC1vcHRpb25zPVwieyBnZXR0ZXJTZXR0ZXI6IHRydWUgfVwiYCB0byBhbiBlbGVtZW50IHRoYXRcbiAqIGhhcyBgbmctbW9kZWxgIGF0dGFjaGVkIHRvIGl0LiBZb3UgY2FuIGFsc28gYWRkIGBuZy1tb2RlbC1vcHRpb25zPVwieyBnZXR0ZXJTZXR0ZXI6IHRydWUgfVwiYCB0b1xuICogYSBgPGZvcm0+YCwgd2hpY2ggd2lsbCBlbmFibGUgdGhpcyBiZWhhdmlvciBmb3IgYWxsIGA8aW5wdXQ+YHMgd2l0aGluIGl0LiBTZWVcbiAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgYG5nTW9kZWxPcHRpb25zYH0gZm9yIG1vcmUuXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byB1c2UgYG5nTW9kZWxgIHdpdGggYSBnZXR0ZXIvc2V0dGVyOlxuICpcbiAqIEBleGFtcGxlXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdNb2RlbC1nZXR0ZXItc2V0dGVyXCIgbW9kdWxlPVwiZ2V0dGVyU2V0dGVyRXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8Zm9ybSBuYW1lPVwidXNlckZvcm1cIj5cbiAgICAgICAgICAgTmFtZTpcbiAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJOYW1lXCJcbiAgICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwidXNlci5uYW1lXCJcbiAgICAgICAgICAgICAgICAgIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGdldHRlclNldHRlcjogdHJ1ZSB9XCIgLz5cbiAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgIDxwcmU+dXNlci5uYW1lID0gPHNwYW4gbmctYmluZD1cInVzZXIubmFtZSgpXCI+PC9zcGFuPjwvcHJlPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnZ2V0dGVyU2V0dGVyRXhhbXBsZScsIFtdKVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgdmFyIF9uYW1lID0gJ0JyaWFuJztcbiAgICAgICAgICAgJHNjb3BlLnVzZXIgPSB7XG4gICAgICAgICAgICAgbmFtZTogZnVuY3Rpb24obmV3TmFtZSkge1xuICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKG5ld05hbWUpKSB7XG4gICAgICAgICAgICAgICAgIF9uYW1lID0gbmV3TmFtZTtcbiAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgIHJldHVybiBfbmFtZTtcbiAgICAgICAgICAgICB9XG4gICAgICAgICAgIH07XG4gICAgICAgICB9XSk7XG4gICAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nTW9kZWxEaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6IFsnbmdNb2RlbCcsICdeP2Zvcm0nLCAnXj9uZ01vZGVsT3B0aW9ucyddLFxuICAgIGNvbnRyb2xsZXI6IE5nTW9kZWxDb250cm9sbGVyLFxuICAgIC8vIFByZWxpbmsgbmVlZHMgdG8gcnVuIGJlZm9yZSBhbnkgaW5wdXQgZGlyZWN0aXZlXG4gICAgLy8gc28gdGhhdCB3ZSBjYW4gc2V0IHRoZSBOZ01vZGVsT3B0aW9ucyBpbiBOZ01vZGVsQ29udHJvbGxlclxuICAgIC8vIGJlZm9yZSBhbnlvbmUgZWxzZSB1c2VzIGl0LlxuICAgIHByaW9yaXR5OiAxLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nTW9kZWxDb21waWxlKGVsZW1lbnQpIHtcbiAgICAgIC8vIFNldHVwIGluaXRpYWwgc3RhdGUgb2YgdGhlIGNvbnRyb2xcbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoUFJJU1RJTkVfQ0xBU1MpLmFkZENsYXNzKFVOVE9VQ0hFRF9DTEFTUykuYWRkQ2xhc3MoVkFMSURfQ0xBU1MpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBwcmU6IGZ1bmN0aW9uIG5nTW9kZWxQcmVMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xuICAgICAgICAgIHZhciBtb2RlbEN0cmwgPSBjdHJsc1swXSxcbiAgICAgICAgICAgICAgZm9ybUN0cmwgPSBjdHJsc1sxXSB8fCBudWxsRm9ybUN0cmw7XG5cbiAgICAgICAgICBtb2RlbEN0cmwuJCRzZXRPcHRpb25zKGN0cmxzWzJdICYmIGN0cmxzWzJdLiRvcHRpb25zKTtcblxuICAgICAgICAgIC8vIG5vdGlmeSBvdGhlcnMsIGVzcGVjaWFsbHkgcGFyZW50IGZvcm1zXG4gICAgICAgICAgZm9ybUN0cmwuJGFkZENvbnRyb2wobW9kZWxDdHJsKTtcblxuICAgICAgICAgIGF0dHIuJG9ic2VydmUoJ25hbWUnLCBmdW5jdGlvbihuZXdWYWx1ZSkge1xuICAgICAgICAgICAgaWYgKG1vZGVsQ3RybC4kbmFtZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgZm9ybUN0cmwuJCRyZW5hbWVDb250cm9sKG1vZGVsQ3RybCwgbmV3VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZm9ybUN0cmwuJHJlbW92ZUNvbnRyb2wobW9kZWxDdHJsKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgcG9zdDogZnVuY3Rpb24gbmdNb2RlbFBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xuICAgICAgICAgIHZhciBtb2RlbEN0cmwgPSBjdHJsc1swXTtcbiAgICAgICAgICBpZiAobW9kZWxDdHJsLiRvcHRpb25zICYmIG1vZGVsQ3RybC4kb3B0aW9ucy51cGRhdGVPbikge1xuICAgICAgICAgICAgZWxlbWVudC5vbihtb2RlbEN0cmwuJG9wdGlvbnMudXBkYXRlT24sIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgICAgICAgIG1vZGVsQ3RybC4kJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0KGV2ICYmIGV2LnR5cGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZWxlbWVudC5vbignYmx1cicsIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgICAgICBpZiAobW9kZWxDdHJsLiR0b3VjaGVkKSByZXR1cm47XG5cbiAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgbW9kZWxDdHJsLiRzZXRUb3VjaGVkKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDaGFuZ2VcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEV2YWx1YXRlIHRoZSBnaXZlbiBleHByZXNzaW9uIHdoZW4gdGhlIHVzZXIgY2hhbmdlcyB0aGUgaW5wdXQuXG4gKiBUaGUgZXhwcmVzc2lvbiBpcyBldmFsdWF0ZWQgaW1tZWRpYXRlbHksIHVubGlrZSB0aGUgSmF2YVNjcmlwdCBvbmNoYW5nZSBldmVudFxuICogd2hpY2ggb25seSB0cmlnZ2VycyBhdCB0aGUgZW5kIG9mIGEgY2hhbmdlICh1c3VhbGx5LCB3aGVuIHRoZSB1c2VyIGxlYXZlcyB0aGVcbiAqIGZvcm0gZWxlbWVudCBvciBwcmVzc2VzIHRoZSByZXR1cm4ga2V5KS5cbiAqXG4gKiBUaGUgYG5nQ2hhbmdlYCBleHByZXNzaW9uIGlzIG9ubHkgZXZhbHVhdGVkIHdoZW4gYSBjaGFuZ2UgaW4gdGhlIGlucHV0IHZhbHVlIGNhdXNlc1xuICogYSBuZXcgdmFsdWUgdG8gYmUgY29tbWl0dGVkIHRvIHRoZSBtb2RlbC5cbiAqXG4gKiBJdCB3aWxsIG5vdCBiZSBldmFsdWF0ZWQ6XG4gKiAqIGlmIHRoZSB2YWx1ZSByZXR1cm5lZCBmcm9tIHRoZSBgJHBhcnNlcnNgIHRyYW5zZm9ybWF0aW9uIHBpcGVsaW5lIGhhcyBub3QgY2hhbmdlZFxuICogKiBpZiB0aGUgaW5wdXQgaGFzIGNvbnRpbnVlZCB0byBiZSBpbnZhbGlkIHNpbmNlIHRoZSBtb2RlbCB3aWxsIHN0YXkgYG51bGxgXG4gKiAqIGlmIHRoZSBtb2RlbCBpcyBjaGFuZ2VkIHByb2dyYW1tYXRpY2FsbHkgYW5kIG5vdCBieSBhIGNoYW5nZSB0byB0aGUgaW5wdXQgdmFsdWVcbiAqXG4gKlxuICogTm90ZSwgdGhpcyBkaXJlY3RpdmUgcmVxdWlyZXMgYG5nTW9kZWxgIHRvIGJlIHByZXNlbnQuXG4gKlxuICogQGVsZW1lbnQgaW5wdXRcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDaGFuZ2Uge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvbiBjaGFuZ2VcbiAqIGluIGlucHV0IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdDaGFuZ2UtZGlyZWN0aXZlXCIgbW9kdWxlPVwiY2hhbmdlRXhhbXBsZVwiPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgIDxzY3JpcHQ+XG4gKiAgICAgICBhbmd1bGFyLm1vZHVsZSgnY2hhbmdlRXhhbXBsZScsIFtdKVxuICogICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAgICAgICRzY29wZS5jb3VudGVyID0gMDtcbiAqICAgICAgICAgICAkc2NvcGUuY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICAkc2NvcGUuY291bnRlcisrO1xuICogICAgICAgICAgIH07XG4gKiAgICAgICAgIH1dKTtcbiAqICAgICA8L3NjcmlwdD5cbiAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY29uZmlybWVkXCIgbmctY2hhbmdlPVwiY2hhbmdlKClcIiBpZD1cIm5nLWNoYW5nZS1leGFtcGxlMVwiIC8+XG4gKiAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjb25maXJtZWRcIiBpZD1cIm5nLWNoYW5nZS1leGFtcGxlMlwiIC8+XG4gKiAgICAgICA8bGFiZWwgZm9yPVwibmctY2hhbmdlLWV4YW1wbGUyXCI+Q29uZmlybWVkPC9sYWJlbD48YnIgLz5cbiAqICAgICAgIDx0dD5kZWJ1ZyA9IHt7Y29uZmlybWVkfX08L3R0Pjxici8+XG4gKiAgICAgICA8dHQ+Y291bnRlciA9IHt7Y291bnRlcn19PC90dD48YnIvPlxuICogICAgIDwvZGl2PlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgICB2YXIgY291bnRlciA9IGVsZW1lbnQoYnkuYmluZGluZygnY291bnRlcicpKTtcbiAqICAgICB2YXIgZGVidWcgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2NvbmZpcm1lZCcpKTtcbiAqXG4gKiAgICAgaXQoJ3Nob3VsZCBldmFsdWF0ZSB0aGUgZXhwcmVzc2lvbiBpZiBjaGFuZ2luZyBmcm9tIHZpZXcnLCBmdW5jdGlvbigpIHtcbiAqICAgICAgIGV4cGVjdChjb3VudGVyLmdldFRleHQoKSkudG9Db250YWluKCcwJyk7XG4gKlxuICogICAgICAgZWxlbWVudChieS5pZCgnbmctY2hhbmdlLWV4YW1wbGUxJykpLmNsaWNrKCk7XG4gKlxuICogICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzEnKTtcbiAqICAgICAgIGV4cGVjdChkZWJ1Zy5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICogICAgIH0pO1xuICpcbiAqICAgICBpdCgnc2hvdWxkIG5vdCBldmFsdWF0ZSB0aGUgZXhwcmVzc2lvbiBpZiBjaGFuZ2luZyBmcm9tIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICBlbGVtZW50KGJ5LmlkKCduZy1jaGFuZ2UtZXhhbXBsZTInKSkuY2xpY2soKTtcblxuICogICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzAnKTtcbiAqICAgICAgIGV4cGVjdChkZWJ1Zy5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICogICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0NoYW5nZURpcmVjdGl2ZSA9IHZhbHVlRm4oe1xuICByZXN0cmljdDogJ0EnLFxuICByZXF1aXJlOiAnbmdNb2RlbCcsXG4gIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XG4gICAgY3RybC4kdmlld0NoYW5nZUxpc3RlbmVycy5wdXNoKGZ1bmN0aW9uKCkge1xuICAgICAgc2NvcGUuJGV2YWwoYXR0ci5uZ0NoYW5nZSk7XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5cbnZhciByZXF1aXJlZERpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJz9uZ01vZGVsJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRyLCBjdHJsKSB7XG4gICAgICBpZiAoIWN0cmwpIHJldHVybjtcbiAgICAgIGF0dHIucmVxdWlyZWQgPSB0cnVlOyAvLyBmb3JjZSB0cnV0aHkgaW4gY2FzZSB3ZSBhcmUgb24gbm9uIGlucHV0IGVsZW1lbnRcblxuICAgICAgY3RybC4kdmFsaWRhdG9ycy5yZXF1aXJlZCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAhYXR0ci5yZXF1aXJlZCB8fCAhY3RybC4kaXNFbXB0eSh2YWx1ZSk7XG4gICAgICB9O1xuXG4gICAgICBhdHRyLiRvYnNlcnZlKCdyZXF1aXJlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufTtcblxuXG52YXIgcGF0dGVybkRpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJz9uZ01vZGVsJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRyLCBjdHJsKSB7XG4gICAgICBpZiAoIWN0cmwpIHJldHVybjtcblxuICAgICAgdmFyIHJlZ2V4cCwgcGF0dGVybkV4cCA9IGF0dHIubmdQYXR0ZXJuIHx8IGF0dHIucGF0dGVybjtcbiAgICAgIGF0dHIuJG9ic2VydmUoJ3BhdHRlcm4nLCBmdW5jdGlvbihyZWdleCkge1xuICAgICAgICBpZiAoaXNTdHJpbmcocmVnZXgpICYmIHJlZ2V4Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZWdleCA9IG5ldyBSZWdFeHAocmVnZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlZ2V4ICYmICFyZWdleC50ZXN0KSB7XG4gICAgICAgICAgdGhyb3cgbWluRXJyKCduZ1BhdHRlcm4nKSgnbm9yZWdleHAnLFxuICAgICAgICAgICAgJ0V4cGVjdGVkIHswfSB0byBiZSBhIFJlZ0V4cCBidXQgd2FzIHsxfS4gRWxlbWVudDogezJ9JywgcGF0dGVybkV4cCxcbiAgICAgICAgICAgIHJlZ2V4LCBzdGFydGluZ1RhZyhlbG0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlZ2V4cCA9IHJlZ2V4IHx8IHVuZGVmaW5lZDtcbiAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjdHJsLiR2YWxpZGF0b3JzLnBhdHRlcm4gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSkgfHwgaXNVbmRlZmluZWQocmVnZXhwKSB8fCByZWdleHAudGVzdCh2YWx1ZSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn07XG5cblxudmFyIG1heGxlbmd0aERpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJz9uZ01vZGVsJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRyLCBjdHJsKSB7XG4gICAgICBpZiAoIWN0cmwpIHJldHVybjtcblxuICAgICAgdmFyIG1heGxlbmd0aCA9IDA7XG4gICAgICBhdHRyLiRvYnNlcnZlKCdtYXhsZW5ndGgnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBtYXhsZW5ndGggPSBpbnQodmFsdWUpIHx8IDA7XG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgICB9KTtcbiAgICAgIGN0cmwuJHZhbGlkYXRvcnMubWF4bGVuZ3RoID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KG1vZGVsVmFsdWUpIHx8IHZpZXdWYWx1ZS5sZW5ndGggPD0gbWF4bGVuZ3RoO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuXG52YXIgbWlubGVuZ3RoRGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnP25nTW9kZWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbG0sIGF0dHIsIGN0cmwpIHtcbiAgICAgIGlmICghY3RybCkgcmV0dXJuO1xuXG4gICAgICB2YXIgbWlubGVuZ3RoID0gMDtcbiAgICAgIGF0dHIuJG9ic2VydmUoJ21pbmxlbmd0aCcsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIG1pbmxlbmd0aCA9IGludCh2YWx1ZSkgfHwgMDtcbiAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcbiAgICAgIH0pO1xuICAgICAgY3RybC4kdmFsaWRhdG9ycy5taW5sZW5ndGggPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkobW9kZWxWYWx1ZSkgfHwgdmlld1ZhbHVlLmxlbmd0aCA+PSBtaW5sZW5ndGg7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn07XG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0xpc3RcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRleHQgaW5wdXQgdGhhdCBjb252ZXJ0cyBiZXR3ZWVuIGEgZGVsaW1pdGVkIHN0cmluZyBhbmQgYW4gYXJyYXkgb2Ygc3RyaW5ncy4gVGhlIGRlZmF1bHRcbiAqIGRlbGltaXRlciBpcyBhIGNvbW1hIGZvbGxvd2VkIGJ5IGEgc3BhY2UgLSBlcXVpdmFsZW50IHRvIGBuZy1saXN0PVwiLCBcImAuIFlvdSBjYW4gc3BlY2lmeSBhIGN1c3RvbVxuICogZGVsaW1pdGVyIGFzIHRoZSB2YWx1ZSBvZiB0aGUgYG5nTGlzdGAgYXR0cmlidXRlIC0gZm9yIGV4YW1wbGUsIGBuZy1saXN0PVwiIHwgXCJgLlxuICpcbiAqIFRoZSBiZWhhdmlvdXIgb2YgdGhlIGRpcmVjdGl2ZSBpcyBhZmZlY3RlZCBieSB0aGUgdXNlIG9mIHRoZSBgbmdUcmltYCBhdHRyaWJ1dGUuXG4gKiAqIElmIGBuZ1RyaW1gIGlzIHNldCB0byBgXCJmYWxzZVwiYCB0aGVuIHdoaXRlc3BhY2UgYXJvdW5kIGJvdGggdGhlIHNlcGFyYXRvciBhbmQgZWFjaFxuICogICBsaXN0IGl0ZW0gaXMgcmVzcGVjdGVkLiBUaGlzIGltcGxpZXMgdGhhdCB0aGUgdXNlciBvZiB0aGUgZGlyZWN0aXZlIGlzIHJlc3BvbnNpYmxlIGZvclxuICogICBkZWFsaW5nIHdpdGggd2hpdGVzcGFjZSBidXQgYWxzbyBhbGxvd3MgeW91IHRvIHVzZSB3aGl0ZXNwYWNlIGFzIGEgZGVsaW1pdGVyLCBzdWNoIGFzIGFcbiAqICAgdGFiIG9yIG5ld2xpbmUgY2hhcmFjdGVyLlxuICogKiBPdGhlcndpc2Ugd2hpdGVzcGFjZSBhcm91bmQgdGhlIGRlbGltaXRlciBpcyBpZ25vcmVkIHdoZW4gc3BsaXR0aW5nIChhbHRob3VnaCBpdCBpcyByZXNwZWN0ZWRcbiAqICAgd2hlbiBqb2luaW5nIHRoZSBsaXN0IGl0ZW1zIGJhY2sgdG9nZXRoZXIpIGFuZCB3aGl0ZXNwYWNlIGFyb3VuZCBlYWNoIGxpc3QgaXRlbSBpcyBzdHJpcHBlZFxuICogICBiZWZvcmUgaXQgaXMgYWRkZWQgdG8gdGhlIG1vZGVsLlxuICpcbiAqICMjIyBFeGFtcGxlIHdpdGggVmFsaWRhdGlvblxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ0xpc3QtZGlyZWN0aXZlXCIgbW9kdWxlPVwibGlzdEV4YW1wbGVcIj5cbiAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICogICAgICBhbmd1bGFyLm1vZHVsZSgnbGlzdEV4YW1wbGUnLCBbXSlcbiAqICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAgICAgJHNjb3BlLm5hbWVzID0gWydtb3JwaGV1cycsICduZW8nLCAndHJpbml0eSddO1xuICogICAgICAgIH1dKTtcbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICAgICBMaXN0OiA8aW5wdXQgbmFtZT1cIm5hbWVzSW5wdXRcIiBuZy1tb2RlbD1cIm5hbWVzXCIgbmctbGlzdCByZXF1aXJlZD5cbiAqICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0ubmFtZXNJbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAqICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gKiAgICAgIDxicj5cbiAqICAgICAgPHR0Pm5hbWVzID0ge3tuYW1lc319PC90dD48YnIvPlxuICogICAgICA8dHQ+bXlGb3JtLm5hbWVzSW5wdXQuJHZhbGlkID0ge3tteUZvcm0ubmFtZXNJbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAqICAgICAgPHR0Pm15Rm9ybS5uYW1lc0lucHV0LiRlcnJvciA9IHt7bXlGb3JtLm5hbWVzSW5wdXQuJGVycm9yfX08L3R0Pjxici8+XG4gKiAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gKiAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAqICAgICA8L2Zvcm0+XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICogICAgIHZhciBsaXN0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCduYW1lcycpKTtcbiAqICAgICB2YXIgbmFtZXMgPSBlbGVtZW50KGJ5LmV4YWN0QmluZGluZygnbmFtZXMnKSk7XG4gKiAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0ubmFtZXNJbnB1dC4kdmFsaWQnKSk7XG4gKiAgICAgdmFyIGVycm9yID0gZWxlbWVudChieS5jc3MoJ3NwYW4uZXJyb3InKSk7XG4gKlxuICogICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICogICAgICAgZXhwZWN0KG5hbWVzLmdldFRleHQoKSkudG9Db250YWluKCdbXCJtb3JwaGV1c1wiLFwibmVvXCIsXCJ0cmluaXR5XCJdJyk7XG4gKiAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAqICAgICAgIGV4cGVjdChlcnJvci5nZXRDc3NWYWx1ZSgnZGlzcGxheScpKS50b0JlKCdub25lJyk7XG4gKiAgICAgfSk7XG4gKlxuICogICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICogICAgICAgbGlzdElucHV0LmNsZWFyKCk7XG4gKiAgICAgICBsaXN0SW5wdXQuc2VuZEtleXMoJycpO1xuICpcbiAqICAgICAgIGV4cGVjdChuYW1lcy5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XG4gKiAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gKiAgICAgICBleHBlY3QoZXJyb3IuZ2V0Q3NzVmFsdWUoJ2Rpc3BsYXknKSkubm90LnRvQmUoJ25vbmUnKTtcbiAqICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqICMjIyBFeGFtcGxlIC0gc3BsaXR0aW5nIG9uIHdoaXRlc3BhY2VcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ0xpc3QtZGlyZWN0aXZlLW5ld2xpbmVzXCI+XG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgICA8dGV4dGFyZWEgbmctbW9kZWw9XCJsaXN0XCIgbmctbGlzdD1cIiYjMTA7XCIgbmctdHJpbT1cImZhbHNlXCI+PC90ZXh0YXJlYT5cbiAqICAgIDxwcmU+e3sgbGlzdCB8IGpzb24gfX08L3ByZT5cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gKiAgICAgaXQoXCJzaG91bGQgc3BsaXQgdGhlIHRleHQgYnkgbmV3bGluZXNcIiwgZnVuY3Rpb24oKSB7XG4gKiAgICAgICB2YXIgbGlzdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbGlzdCcpKTtcbiAqICAgICAgIHZhciBvdXRwdXQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2xpc3QgfCBqc29uJykpO1xuICogICAgICAgbGlzdElucHV0LnNlbmRLZXlzKCdhYmNcXG5kZWZcXG5naGknKTtcbiAqICAgICAgIGV4cGVjdChvdXRwdXQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ1tcXG4gIFwiYWJjXCIsXFxuICBcImRlZlwiLFxcbiAgXCJnaGlcIlxcbl0nKTtcbiAqICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIEBlbGVtZW50IGlucHV0XG4gKiBAcGFyYW0ge3N0cmluZz19IG5nTGlzdCBvcHRpb25hbCBkZWxpbWl0ZXIgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBzcGxpdCB0aGUgdmFsdWUuXG4gKi9cbnZhciBuZ0xpc3REaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHByaW9yaXR5OiAxMDAsXG4gICAgcmVxdWlyZTogJ25nTW9kZWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XG4gICAgICAvLyBXZSB3YW50IHRvIGNvbnRyb2wgd2hpdGVzcGFjZSB0cmltbWluZyBzbyB3ZSB1c2UgdGhpcyBjb252b2x1dGVkIGFwcHJvYWNoXG4gICAgICAvLyB0byBhY2Nlc3MgdGhlIG5nTGlzdCBhdHRyaWJ1dGUsIHdoaWNoIGRvZXNuJ3QgcHJlLXRyaW0gdGhlIGF0dHJpYnV0ZVxuICAgICAgdmFyIG5nTGlzdCA9IGVsZW1lbnQuYXR0cihhdHRyLiRhdHRyLm5nTGlzdCkgfHwgJywgJztcbiAgICAgIHZhciB0cmltVmFsdWVzID0gYXR0ci5uZ1RyaW0gIT09ICdmYWxzZSc7XG4gICAgICB2YXIgc2VwYXJhdG9yID0gdHJpbVZhbHVlcyA/IHRyaW0obmdMaXN0KSA6IG5nTGlzdDtcblxuICAgICAgdmFyIHBhcnNlID0gZnVuY3Rpb24odmlld1ZhbHVlKSB7XG4gICAgICAgIC8vIElmIHRoZSB2aWV3VmFsdWUgaXMgaW52YWxpZCAoc2F5IHJlcXVpcmVkIGJ1dCBlbXB0eSkgaXQgd2lsbCBiZSBgdW5kZWZpbmVkYFxuICAgICAgICBpZiAoaXNVbmRlZmluZWQodmlld1ZhbHVlKSkgcmV0dXJuO1xuXG4gICAgICAgIHZhciBsaXN0ID0gW107XG5cbiAgICAgICAgaWYgKHZpZXdWYWx1ZSkge1xuICAgICAgICAgIGZvckVhY2godmlld1ZhbHVlLnNwbGl0KHNlcGFyYXRvciksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUpIGxpc3QucHVzaCh0cmltVmFsdWVzID8gdHJpbSh2YWx1ZSkgOiB2YWx1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwuJHBhcnNlcnMucHVzaChwYXJzZSk7XG4gICAgICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlLmpvaW4obmdMaXN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9KTtcblxuICAgICAgLy8gT3ZlcnJpZGUgdGhlIHN0YW5kYXJkICRpc0VtcHR5IGJlY2F1c2UgYW4gZW1wdHkgYXJyYXkgbWVhbnMgdGhlIGlucHV0IGlzIGVtcHR5LlxuICAgICAgY3RybC4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUgfHwgIXZhbHVlLmxlbmd0aDtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufTtcblxuXG52YXIgQ09OU1RBTlRfVkFMVUVfUkVHRVhQID0gL14odHJ1ZXxmYWxzZXxcXGQrKSQvO1xuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1ZhbHVlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBCaW5kcyB0aGUgZ2l2ZW4gZXhwcmVzc2lvbiB0byB0aGUgdmFsdWUgb2YgYG9wdGlvbmAgb3IgYGlucHV0W3JhZGlvXWAsIHNvXG4gKiB0aGF0IHdoZW4gdGhlIGVsZW1lbnQgaXMgc2VsZWN0ZWQsIHRoZSBgbmdNb2RlbGAgb2YgdGhhdCBlbGVtZW50IGlzIHNldCB0b1xuICogdGhlIGJvdW5kIHZhbHVlLlxuICpcbiAqIGBuZ1ZhbHVlYCBpcyB1c2VmdWwgd2hlbiBkeW5hbWljYWxseSBnZW5lcmF0aW5nIGxpc3RzIG9mIHJhZGlvIGJ1dHRvbnMgdXNpbmcgYG5nLXJlcGVhdGAsIGFzXG4gKiBzaG93biBiZWxvdy5cbiAqXG4gKiBAZWxlbWVudCBpbnB1dFxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ1ZhbHVlIGFuZ3VsYXIgZXhwcmVzc2lvbiwgd2hvc2UgdmFsdWUgd2lsbCBiZSBib3VuZCB0byB0aGUgYHZhbHVlYCBhdHRyaWJ1dGVcbiAqICAgb2YgdGhlIGBpbnB1dGAgZWxlbWVudFxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgbmFtZT1cIm5nVmFsdWUtZGlyZWN0aXZlXCIgbW9kdWxlPVwidmFsdWVFeGFtcGxlXCI+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3ZhbHVlRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLm5hbWVzID0gWydwaXp6YScsICd1bmljb3JucycsICdyb2JvdHMnXTtcbiAgICAgICAgICAgICAgJHNjb3BlLm15ID0geyBmYXZvcml0ZTogJ3VuaWNvcm5zJyB9O1xuICAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgICA8Zm9ybSBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICA8aDI+V2hpY2ggaXMgeW91ciBmYXZvcml0ZT88L2gyPlxuICAgICAgICAgICAgPGxhYmVsIG5nLXJlcGVhdD1cIm5hbWUgaW4gbmFtZXNcIiBmb3I9XCJ7e25hbWV9fVwiPlxuICAgICAgICAgICAgICB7e25hbWV9fVxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwibXkuZmF2b3JpdGVcIlxuICAgICAgICAgICAgICAgICAgICAgbmctdmFsdWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgIGlkPVwie3tuYW1lfX1cIlxuICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImZhdm9yaXRlXCI+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDxkaXY+WW91IGNob3NlIHt7bXkuZmF2b3JpdGV9fTwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIHZhciBmYXZvcml0ZSA9IGVsZW1lbnQoYnkuYmluZGluZygnbXkuZmF2b3JpdGUnKSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZXhwZWN0KGZhdm9yaXRlLmdldFRleHQoKSkudG9Db250YWluKCd1bmljb3JucycpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3Nob3VsZCBiaW5kIHRoZSB2YWx1ZXMgdG8gdGhlIGlucHV0cycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQuYWxsKGJ5Lm1vZGVsKCdteS5mYXZvcml0ZScpKS5nZXQoMCkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZmF2b3JpdGUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3BpenphJyk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nVmFsdWVEaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHByaW9yaXR5OiAxMDAsXG4gICAgY29tcGlsZTogZnVuY3Rpb24odHBsLCB0cGxBdHRyKSB7XG4gICAgICBpZiAoQ09OU1RBTlRfVkFMVUVfUkVHRVhQLnRlc3QodHBsQXR0ci5uZ1ZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmdWYWx1ZUNvbnN0YW50TGluayhzY29wZSwgZWxtLCBhdHRyKSB7XG4gICAgICAgICAgYXR0ci4kc2V0KCd2YWx1ZScsIHNjb3BlLiRldmFsKGF0dHIubmdWYWx1ZSkpO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nVmFsdWVMaW5rKHNjb3BlLCBlbG0sIGF0dHIpIHtcbiAgICAgICAgICBzY29wZS4kd2F0Y2goYXR0ci5uZ1ZhbHVlLCBmdW5jdGlvbiB2YWx1ZVdhdGNoQWN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBhdHRyLiRzZXQoJ3ZhbHVlJywgdmFsdWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdNb2RlbE9wdGlvbnNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFsbG93cyB0dW5pbmcgaG93IG1vZGVsIHVwZGF0ZXMgYXJlIGRvbmUuIFVzaW5nIGBuZ01vZGVsT3B0aW9uc2AgeW91IGNhbiBzcGVjaWZ5IGEgY3VzdG9tIGxpc3Qgb2ZcbiAqIGV2ZW50cyB0aGF0IHdpbGwgdHJpZ2dlciBhIG1vZGVsIHVwZGF0ZSBhbmQvb3IgYSBkZWJvdW5jaW5nIGRlbGF5IHNvIHRoYXQgdGhlIGFjdHVhbCB1cGRhdGUgb25seVxuICogdGFrZXMgcGxhY2Ugd2hlbiBhIHRpbWVyIGV4cGlyZXM7IHRoaXMgdGltZXIgd2lsbCBiZSByZXNldCBhZnRlciBhbm90aGVyIGNoYW5nZSB0YWtlcyBwbGFjZS5cbiAqXG4gKiBHaXZlbiB0aGUgbmF0dXJlIG9mIGBuZ01vZGVsT3B0aW9uc2AsIHRoZSB2YWx1ZSBkaXNwbGF5ZWQgaW5zaWRlIGlucHV0IGZpZWxkcyBpbiB0aGUgdmlldyBtaWdodFxuICogYmUgZGlmZmVyZW50IHRoYW4gdGhlIHZhbHVlIGluIHRoZSBhY3R1YWwgbW9kZWwuIFRoaXMgbWVhbnMgdGhhdCBpZiB5b3UgdXBkYXRlIHRoZSBtb2RlbCB5b3VcbiAqIHNob3VsZCBhbHNvIGludm9rZSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciBgJHJvbGxiYWNrVmlld1ZhbHVlYH0gb24gdGhlIHJlbGV2YW50IGlucHV0IGZpZWxkIGluXG4gKiBvcmRlciB0byBtYWtlIHN1cmUgaXQgaXMgc3luY2hyb25pemVkIHdpdGggdGhlIG1vZGVsIGFuZCB0aGF0IGFueSBkZWJvdW5jZWQgYWN0aW9uIGlzIGNhbmNlbGVkLlxuICpcbiAqIFRoZSBlYXNpZXN0IHdheSB0byByZWZlcmVuY2UgdGhlIGNvbnRyb2wncyB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciBgJHJvbGxiYWNrVmlld1ZhbHVlYH1cbiAqIG1ldGhvZCBpcyBieSBtYWtpbmcgc3VyZSB0aGUgaW5wdXQgaXMgcGxhY2VkIGluc2lkZSBhIGZvcm0gdGhhdCBoYXMgYSBgbmFtZWAgYXR0cmlidXRlLiBUaGlzIGlzXG4gKiBpbXBvcnRhbnQgYmVjYXVzZSBgZm9ybWAgY29udHJvbGxlcnMgYXJlIHB1Ymxpc2hlZCB0byB0aGUgcmVsYXRlZCBzY29wZSB1bmRlciB0aGUgbmFtZSBpbiB0aGVpclxuICogYG5hbWVgIGF0dHJpYnV0ZS5cbiAqXG4gKiBBbnkgcGVuZGluZyBjaGFuZ2VzIHdpbGwgdGFrZSBwbGFjZSBpbW1lZGlhdGVseSB3aGVuIGFuIGVuY2xvc2luZyBmb3JtIGlzIHN1Ym1pdHRlZCB2aWEgdGhlXG4gKiBgc3VibWl0YCBldmVudC4gTm90ZSB0aGF0IGBuZ0NsaWNrYCBldmVudHMgd2lsbCBvY2N1ciBiZWZvcmUgdGhlIG1vZGVsIGlzIHVwZGF0ZWQuIFVzZSBgbmdTdWJtaXRgXG4gKiB0byBoYXZlIGFjY2VzcyB0byB0aGUgdXBkYXRlZCBtb2RlbC5cbiAqXG4gKiBgbmdNb2RlbE9wdGlvbnNgIGhhcyBhbiBlZmZlY3Qgb24gdGhlIGVsZW1lbnQgaXQncyBkZWNsYXJlZCBvbiBhbmQgaXRzIGRlc2NlbmRhbnRzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBuZ01vZGVsT3B0aW9ucyBvcHRpb25zIHRvIGFwcGx5IHRvIHRoZSBjdXJyZW50IG1vZGVsLiBWYWxpZCBrZXlzIGFyZTpcbiAqICAgLSBgdXBkYXRlT25gOiBzdHJpbmcgc3BlY2lmeWluZyB3aGljaCBldmVudCBzaG91bGQgYmUgdGhlIGlucHV0IGJvdW5kIHRvLiBZb3UgY2FuIHNldCBzZXZlcmFsXG4gKiAgICAgZXZlbnRzIHVzaW5nIGFuIHNwYWNlIGRlbGltaXRlZCBsaXN0LiBUaGVyZSBpcyBhIHNwZWNpYWwgZXZlbnQgY2FsbGVkIGBkZWZhdWx0YCB0aGF0XG4gKiAgICAgbWF0Y2hlcyB0aGUgZGVmYXVsdCBldmVudHMgYmVsb25naW5nIG9mIHRoZSBjb250cm9sLlxuICogICAtIGBkZWJvdW5jZWA6IGludGVnZXIgdmFsdWUgd2hpY2ggY29udGFpbnMgdGhlIGRlYm91bmNlIG1vZGVsIHVwZGF0ZSB2YWx1ZSBpbiBtaWxsaXNlY29uZHMuIEFcbiAqICAgICB2YWx1ZSBvZiAwIHRyaWdnZXJzIGFuIGltbWVkaWF0ZSB1cGRhdGUuIElmIGFuIG9iamVjdCBpcyBzdXBwbGllZCBpbnN0ZWFkLCB5b3UgY2FuIHNwZWNpZnkgYVxuICogICAgIGN1c3RvbSB2YWx1ZSBmb3IgZWFjaCBldmVudC4gRm9yIGV4YW1wbGU6XG4gKiAgICAgYG5nLW1vZGVsLW9wdGlvbnM9XCJ7IHVwZGF0ZU9uOiAnZGVmYXVsdCBibHVyJywgZGVib3VuY2U6IHsnZGVmYXVsdCc6IDUwMCwgJ2JsdXInOiAwfSB9XCJgXG4gKiAgIC0gYGFsbG93SW52YWxpZGA6IGJvb2xlYW4gdmFsdWUgd2hpY2ggaW5kaWNhdGVzIHRoYXQgdGhlIG1vZGVsIGNhbiBiZSBzZXQgd2l0aCB2YWx1ZXMgdGhhdCBkaWRcbiAqICAgICBub3QgdmFsaWRhdGUgY29ycmVjdGx5IGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgYmVoYXZpb3Igb2Ygc2V0dGluZyB0aGUgbW9kZWwgdG8gdW5kZWZpbmVkLlxuICogICAtIGBnZXR0ZXJTZXR0ZXJgOiBib29sZWFuIHZhbHVlIHdoaWNoIGRldGVybWluZXMgd2hldGhlciBvciBub3QgdG8gdHJlYXQgZnVuY3Rpb25zIGJvdW5kIHRvXG4gICAgICAgYG5nTW9kZWxgIGFzIGdldHRlcnMvc2V0dGVycy5cbiAqICAgLSBgdGltZXpvbmVgOiBEZWZpbmVzIHRoZSB0aW1lem9uZSB0byBiZSB1c2VkIHRvIHJlYWQvd3JpdGUgdGhlIGBEYXRlYCBpbnN0YW5jZSBpbiB0aGUgbW9kZWwgZm9yXG4gKiAgICAgYDxpbnB1dCB0eXBlPVwiZGF0ZVwiPmAsIGA8aW5wdXQgdHlwZT1cInRpbWVcIj5gLCAuLi4gLiBSaWdodCBub3csIHRoZSBvbmx5IHN1cHBvcnRlZCB2YWx1ZSBpcyBgJ1VUQydgLFxuICogICAgIG90aGVyd2lzZSB0aGUgZGVmYXVsdCB0aW1lem9uZSBvZiB0aGUgYnJvd3NlciB3aWxsIGJlIHVzZWQuXG4gKlxuICogQGV4YW1wbGVcblxuICBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRvIG92ZXJyaWRlIGltbWVkaWF0ZSB1cGRhdGVzLiBDaGFuZ2VzIG9uIHRoZSBpbnB1dHMgd2l0aGluIHRoZVxuICBmb3JtIHdpbGwgdXBkYXRlIHRoZSBtb2RlbCBvbmx5IHdoZW4gdGhlIGNvbnRyb2wgbG9zZXMgZm9jdXMgKGJsdXIgZXZlbnQpLiBJZiBgZXNjYXBlYCBrZXkgaXNcbiAgcHJlc3NlZCB3aGlsZSB0aGUgaW5wdXQgZmllbGQgaXMgZm9jdXNlZCwgdGhlIHZhbHVlIGlzIHJlc2V0IHRvIHRoZSB2YWx1ZSBpbiB0aGUgY3VycmVudCBtb2RlbC5cblxuICA8ZXhhbXBsZSBuYW1lPVwibmdNb2RlbE9wdGlvbnMtZGlyZWN0aXZlLWJsdXJcIiBtb2R1bGU9XCJvcHRpb25zRXhhbXBsZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICA8Zm9ybSBuYW1lPVwidXNlckZvcm1cIj5cbiAgICAgICAgICBOYW1lOlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VyTmFtZVwiXG4gICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwidXNlci5uYW1lXCJcbiAgICAgICAgICAgICAgICAgbmctbW9kZWwtb3B0aW9ucz1cInsgdXBkYXRlT246ICdibHVyJyB9XCJcbiAgICAgICAgICAgICAgICAgbmcta2V5dXA9XCJjYW5jZWwoJGV2ZW50KVwiIC8+PGJyIC8+XG5cbiAgICAgICAgICBPdGhlciBkYXRhOlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwidXNlci5kYXRhXCIgLz48YnIgLz5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgICA8cHJlPnVzZXIubmFtZSA9IDxzcGFuIG5nLWJpbmQ9XCJ1c2VyLm5hbWVcIj48L3NwYW4+PC9wcmU+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ29wdGlvbnNFeGFtcGxlJywgW10pXG4gICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgJHNjb3BlLnVzZXIgPSB7IG5hbWU6ICdzYXknLCBkYXRhOiAnJyB9O1xuXG4gICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gMjcpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLnVzZXJGb3JtLnVzZXJOYW1lLiRyb2xsYmFja1ZpZXdWYWx1ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1dKTtcbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgdmFyIG1vZGVsID0gZWxlbWVudChieS5iaW5kaW5nKCd1c2VyLm5hbWUnKSk7XG4gICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1c2VyLm5hbWUnKSk7XG4gICAgICB2YXIgb3RoZXIgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1c2VyLmRhdGEnKSk7XG5cbiAgICAgIGl0KCdzaG91bGQgYWxsb3cgY3VzdG9tIGV2ZW50cycsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpbnB1dC5zZW5kS2V5cygnIGhlbGxvJyk7XG4gICAgICAgIGlucHV0LmNsaWNrKCk7XG4gICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLnRvRXF1YWwoJ3NheScpO1xuICAgICAgICBvdGhlci5jbGljaygpO1xuICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS50b0VxdWFsKCdzYXkgaGVsbG8nKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkICRyb2xsYmFja1ZpZXdWYWx1ZSB3aGVuIG1vZGVsIGNoYW5nZXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaW5wdXQuc2VuZEtleXMoJyBoZWxsbycpO1xuICAgICAgICBleHBlY3QoaW5wdXQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCdzYXkgaGVsbG8nKTtcbiAgICAgICAgaW5wdXQuc2VuZEtleXMocHJvdHJhY3Rvci5LZXkuRVNDQVBFKTtcbiAgICAgICAgZXhwZWN0KGlucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9FcXVhbCgnc2F5Jyk7XG4gICAgICAgIG90aGVyLmNsaWNrKCk7XG4gICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLnRvRXF1YWwoJ3NheScpO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG5cbiAgVGhpcyBvbmUgc2hvd3MgaG93IHRvIGRlYm91bmNlIG1vZGVsIGNoYW5nZXMuIE1vZGVsIHdpbGwgYmUgdXBkYXRlZCBvbmx5IDEgc2VjIGFmdGVyIGxhc3QgY2hhbmdlLlxuICBJZiB0aGUgYENsZWFyYCBidXR0b24gaXMgcHJlc3NlZCwgYW55IGRlYm91bmNlZCBhY3Rpb24gaXMgY2FuY2VsZWQgYW5kIHRoZSB2YWx1ZSBiZWNvbWVzIGVtcHR5LlxuXG4gIDxleGFtcGxlIG5hbWU9XCJuZ01vZGVsT3B0aW9ucy1kaXJlY3RpdmUtZGVib3VuY2VcIiBtb2R1bGU9XCJvcHRpb25zRXhhbXBsZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICA8Zm9ybSBuYW1lPVwidXNlckZvcm1cIj5cbiAgICAgICAgICBOYW1lOlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VyTmFtZVwiXG4gICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwidXNlci5uYW1lXCJcbiAgICAgICAgICAgICAgICAgbmctbW9kZWwtb3B0aW9ucz1cInsgZGVib3VuY2U6IDEwMDAgfVwiIC8+XG4gICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInVzZXJGb3JtLnVzZXJOYW1lLiRyb2xsYmFja1ZpZXdWYWx1ZSgpOyB1c2VyLm5hbWU9JydcIj5DbGVhcjwvYnV0dG9uPjxiciAvPlxuICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDxwcmU+dXNlci5uYW1lID0gPHNwYW4gbmctYmluZD1cInVzZXIubmFtZVwiPjwvc3Bhbj48L3ByZT5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnb3B0aW9uc0V4YW1wbGUnLCBbXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAkc2NvcGUudXNlciA9IHsgbmFtZTogJ3NheScgfTtcbiAgICAgICAgfV0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuXG4gIFRoaXMgb25lIHNob3dzIGhvdyB0byBiaW5kIHRvIGdldHRlci9zZXR0ZXJzOlxuXG4gIDxleGFtcGxlIG5hbWU9XCJuZ01vZGVsT3B0aW9ucy1kaXJlY3RpdmUtZ2V0dGVyLXNldHRlclwiIG1vZHVsZT1cImdldHRlclNldHRlckV4YW1wbGVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgPGZvcm0gbmFtZT1cInVzZXJGb3JtXCI+XG4gICAgICAgICAgTmFtZTpcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlck5hbWVcIlxuICAgICAgICAgICAgICAgICBuZy1tb2RlbD1cInVzZXIubmFtZVwiXG4gICAgICAgICAgICAgICAgIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGdldHRlclNldHRlcjogdHJ1ZSB9XCIgLz5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgICA8cHJlPnVzZXIubmFtZSA9IDxzcGFuIG5nLWJpbmQ9XCJ1c2VyLm5hbWUoKVwiPjwvc3Bhbj48L3ByZT5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnZ2V0dGVyU2V0dGVyRXhhbXBsZScsIFtdKVxuICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgIHZhciBfbmFtZSA9ICdCcmlhbic7XG4gICAgICAgICAgJHNjb3BlLnVzZXIgPSB7XG4gICAgICAgICAgICBuYW1lOiBmdW5jdGlvbihuZXdOYW1lKSB7XG4gICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLmlzRGVmaW5lZChuZXdOYW1lKSA/IChfbmFtZSA9IG5ld05hbWUpIDogX25hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfV0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICovXG52YXIgbmdNb2RlbE9wdGlvbnNEaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyRhdHRycycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzKSB7XG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICB0aGlzLiRvcHRpb25zID0gJHNjb3BlLiRldmFsKCRhdHRycy5uZ01vZGVsT3B0aW9ucyk7XG4gICAgICAvLyBBbGxvdyBhZGRpbmcvb3ZlcnJpZGluZyBib3VuZCBldmVudHNcbiAgICAgIGlmICh0aGlzLiRvcHRpb25zLnVwZGF0ZU9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQgPSBmYWxzZTtcbiAgICAgICAgLy8gZXh0cmFjdCBcImRlZmF1bHRcIiBwc2V1ZG8tZXZlbnQgZnJvbSBsaXN0IG9mIGV2ZW50cyB0aGF0IGNhbiB0cmlnZ2VyIGEgbW9kZWwgdXBkYXRlXG4gICAgICAgIHRoaXMuJG9wdGlvbnMudXBkYXRlT24gPSB0cmltKHRoaXMuJG9wdGlvbnMudXBkYXRlT24ucmVwbGFjZShERUZBVUxUX1JFR0VYUCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdGhhdC4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQgPSB0cnVlO1xuICAgICAgICAgIHJldHVybiAnICc7XG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XVxuICB9O1xufTtcblxuLy8gaGVscGVyIG1ldGhvZHNcbmZ1bmN0aW9uIGFkZFNldFZhbGlkaXR5TWV0aG9kKGNvbnRleHQpIHtcbiAgdmFyIGN0cmwgPSBjb250ZXh0LmN0cmwsXG4gICAgICAkZWxlbWVudCA9IGNvbnRleHQuJGVsZW1lbnQsXG4gICAgICBjbGFzc0NhY2hlID0ge30sXG4gICAgICBzZXQgPSBjb250ZXh0LnNldCxcbiAgICAgIHVuc2V0ID0gY29udGV4dC51bnNldCxcbiAgICAgIHBhcmVudEZvcm0gPSBjb250ZXh0LnBhcmVudEZvcm0sXG4gICAgICAkYW5pbWF0ZSA9IGNvbnRleHQuJGFuaW1hdGU7XG5cbiAgY2xhc3NDYWNoZVtJTlZBTElEX0NMQVNTXSA9ICEoY2xhc3NDYWNoZVtWQUxJRF9DTEFTU10gPSAkZWxlbWVudC5oYXNDbGFzcyhWQUxJRF9DTEFTUykpO1xuXG4gIGN0cmwuJHNldFZhbGlkaXR5ID0gc2V0VmFsaWRpdHk7XG5cbiAgZnVuY3Rpb24gc2V0VmFsaWRpdHkodmFsaWRhdGlvbkVycm9yS2V5LCBzdGF0ZSwgb3B0aW9ucykge1xuICAgIGlmIChzdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjcmVhdGVBbmRTZXQoJyRwZW5kaW5nJywgdmFsaWRhdGlvbkVycm9yS2V5LCBvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdW5zZXRBbmRDbGVhbnVwKCckcGVuZGluZycsIHZhbGlkYXRpb25FcnJvcktleSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGlmICghaXNCb29sZWFuKHN0YXRlKSkge1xuICAgICAgdW5zZXQoY3RybC4kZXJyb3IsIHZhbGlkYXRpb25FcnJvcktleSwgb3B0aW9ucyk7XG4gICAgICB1bnNldChjdHJsLiQkc3VjY2VzcywgdmFsaWRhdGlvbkVycm9yS2V5LCBvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgIHVuc2V0KGN0cmwuJGVycm9yLCB2YWxpZGF0aW9uRXJyb3JLZXksIG9wdGlvbnMpO1xuICAgICAgICBzZXQoY3RybC4kJHN1Y2Nlc3MsIHZhbGlkYXRpb25FcnJvcktleSwgb3B0aW9ucyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXQoY3RybC4kZXJyb3IsIHZhbGlkYXRpb25FcnJvcktleSwgb3B0aW9ucyk7XG4gICAgICAgIHVuc2V0KGN0cmwuJCRzdWNjZXNzLCB2YWxpZGF0aW9uRXJyb3JLZXksIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY3RybC4kcGVuZGluZykge1xuICAgICAgY2FjaGVkVG9nZ2xlQ2xhc3MoUEVORElOR19DTEFTUywgdHJ1ZSk7XG4gICAgICBjdHJsLiR2YWxpZCA9IGN0cmwuJGludmFsaWQgPSB1bmRlZmluZWQ7XG4gICAgICB0b2dnbGVWYWxpZGF0aW9uQ3NzKCcnLCBudWxsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FjaGVkVG9nZ2xlQ2xhc3MoUEVORElOR19DTEFTUywgZmFsc2UpO1xuICAgICAgY3RybC4kdmFsaWQgPSBpc09iamVjdEVtcHR5KGN0cmwuJGVycm9yKTtcbiAgICAgIGN0cmwuJGludmFsaWQgPSAhY3RybC4kdmFsaWQ7XG4gICAgICB0b2dnbGVWYWxpZGF0aW9uQ3NzKCcnLCBjdHJsLiR2YWxpZCk7XG4gICAgfVxuXG4gICAgLy8gcmUtcmVhZCB0aGUgc3RhdGUgYXMgdGhlIHNldC91bnNldCBtZXRob2RzIGNvdWxkIGhhdmVcbiAgICAvLyBjb21iaW5lZCBzdGF0ZSBpbiBjdHJsLiRlcnJvclt2YWxpZGF0aW9uRXJyb3JdICh1c2VkIGZvciBmb3JtcyksXG4gICAgLy8gd2hlcmUgc2V0dGluZy91bnNldHRpbmcgb25seSBpbmNyZW1lbnRzL2RlY3JlbWVudHMgdGhlIHZhbHVlLFxuICAgIC8vIGFuZCBkb2VzIG5vdCByZXBsYWNlIGl0LlxuICAgIHZhciBjb21iaW5lZFN0YXRlO1xuICAgIGlmIChjdHJsLiRwZW5kaW5nICYmIGN0cmwuJHBlbmRpbmdbdmFsaWRhdGlvbkVycm9yS2V5XSkge1xuICAgICAgY29tYmluZWRTdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICB9IGVsc2UgaWYgKGN0cmwuJGVycm9yW3ZhbGlkYXRpb25FcnJvcktleV0pIHtcbiAgICAgIGNvbWJpbmVkU3RhdGUgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKGN0cmwuJCRzdWNjZXNzW3ZhbGlkYXRpb25FcnJvcktleV0pIHtcbiAgICAgIGNvbWJpbmVkU3RhdGUgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21iaW5lZFN0YXRlID0gbnVsbDtcbiAgICB9XG4gICAgdG9nZ2xlVmFsaWRhdGlvbkNzcyh2YWxpZGF0aW9uRXJyb3JLZXksIGNvbWJpbmVkU3RhdGUpO1xuICAgIHBhcmVudEZvcm0uJHNldFZhbGlkaXR5KHZhbGlkYXRpb25FcnJvcktleSwgY29tYmluZWRTdGF0ZSwgY3RybCk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVBbmRTZXQobmFtZSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIWN0cmxbbmFtZV0pIHtcbiAgICAgIGN0cmxbbmFtZV0gPSB7fTtcbiAgICB9XG4gICAgc2V0KGN0cmxbbmFtZV0sIHZhbHVlLCBvcHRpb25zKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVuc2V0QW5kQ2xlYW51cChuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICAgIGlmIChjdHJsW25hbWVdKSB7XG4gICAgICB1bnNldChjdHJsW25hbWVdLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGlmIChpc09iamVjdEVtcHR5KGN0cmxbbmFtZV0pKSB7XG4gICAgICBjdHJsW25hbWVdID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNhY2hlZFRvZ2dsZUNsYXNzKGNsYXNzTmFtZSwgc3dpdGNoVmFsdWUpIHtcbiAgICBpZiAoc3dpdGNoVmFsdWUgJiYgIWNsYXNzQ2FjaGVbY2xhc3NOYW1lXSkge1xuICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoJGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICBjbGFzc0NhY2hlW2NsYXNzTmFtZV0gPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoIXN3aXRjaFZhbHVlICYmIGNsYXNzQ2FjaGVbY2xhc3NOYW1lXSkge1xuICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoJGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICBjbGFzc0NhY2hlW2NsYXNzTmFtZV0gPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0b2dnbGVWYWxpZGF0aW9uQ3NzKHZhbGlkYXRpb25FcnJvcktleSwgaXNWYWxpZCkge1xuICAgIHZhbGlkYXRpb25FcnJvcktleSA9IHZhbGlkYXRpb25FcnJvcktleSA/ICctJyArIHNuYWtlX2Nhc2UodmFsaWRhdGlvbkVycm9yS2V5LCAnLScpIDogJyc7XG5cbiAgICBjYWNoZWRUb2dnbGVDbGFzcyhWQUxJRF9DTEFTUyArIHZhbGlkYXRpb25FcnJvcktleSwgaXNWYWxpZCA9PT0gdHJ1ZSk7XG4gICAgY2FjaGVkVG9nZ2xlQ2xhc3MoSU5WQUxJRF9DTEFTUyArIHZhbGlkYXRpb25FcnJvcktleSwgaXNWYWxpZCA9PT0gZmFsc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0RW1wdHkob2JqKSB7XG4gIGlmIChvYmopIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0JpbmRcbiAqIEByZXN0cmljdCBBQ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ0JpbmRgIGF0dHJpYnV0ZSB0ZWxscyBBbmd1bGFyIHRvIHJlcGxhY2UgdGhlIHRleHQgY29udGVudCBvZiB0aGUgc3BlY2lmaWVkIEhUTUwgZWxlbWVudFxuICogd2l0aCB0aGUgdmFsdWUgb2YgYSBnaXZlbiBleHByZXNzaW9uLCBhbmQgdG8gdXBkYXRlIHRoZSB0ZXh0IGNvbnRlbnQgd2hlbiB0aGUgdmFsdWUgb2YgdGhhdFxuICogZXhwcmVzc2lvbiBjaGFuZ2VzLlxuICpcbiAqIFR5cGljYWxseSwgeW91IGRvbid0IHVzZSBgbmdCaW5kYCBkaXJlY3RseSwgYnV0IGluc3RlYWQgeW91IHVzZSB0aGUgZG91YmxlIGN1cmx5IG1hcmt1cCBsaWtlXG4gKiBge3sgZXhwcmVzc2lvbiB9fWAgd2hpY2ggaXMgc2ltaWxhciBidXQgbGVzcyB2ZXJib3NlLlxuICpcbiAqIEl0IGlzIHByZWZlcmFibGUgdG8gdXNlIGBuZ0JpbmRgIGluc3RlYWQgb2YgYHt7IGV4cHJlc3Npb24gfX1gIGlmIGEgdGVtcGxhdGUgaXMgbW9tZW50YXJpbHlcbiAqIGRpc3BsYXllZCBieSB0aGUgYnJvd3NlciBpbiBpdHMgcmF3IHN0YXRlIGJlZm9yZSBBbmd1bGFyIGNvbXBpbGVzIGl0LiBTaW5jZSBgbmdCaW5kYCBpcyBhblxuICogZWxlbWVudCBhdHRyaWJ1dGUsIGl0IG1ha2VzIHRoZSBiaW5kaW5ncyBpbnZpc2libGUgdG8gdGhlIHVzZXIgd2hpbGUgdGhlIHBhZ2UgaXMgbG9hZGluZy5cbiAqXG4gKiBBbiBhbHRlcm5hdGl2ZSBzb2x1dGlvbiB0byB0aGlzIHByb2JsZW0gd291bGQgYmUgdXNpbmcgdGhlXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xvYWsgbmdDbG9ha30gZGlyZWN0aXZlLlxuICpcbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdCaW5kIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlLlxuICpcbiAqIEBleGFtcGxlXG4gKiBFbnRlciBhIG5hbWUgaW4gdGhlIExpdmUgUHJldmlldyB0ZXh0IGJveDsgdGhlIGdyZWV0aW5nIGJlbG93IHRoZSB0ZXh0IGJveCBjaGFuZ2VzIGluc3RhbnRseS5cbiAgIDxleGFtcGxlIG1vZHVsZT1cImJpbmRFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdiaW5kRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS5uYW1lID0gJ1doaXJsZWQnO1xuICAgICAgICAgICB9XSk7XG4gICAgICAgPC9zY3JpcHQ+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIEVudGVyIG5hbWU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwibmFtZVwiPjxicj5cbiAgICAgICAgIEhlbGxvIDxzcGFuIG5nLWJpbmQ9XCJuYW1lXCI+PC9zcGFuPiFcbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1iaW5kJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICB2YXIgbmFtZUlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbmFtZScpKTtcblxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbmFtZScpKS5nZXRUZXh0KCkpLnRvQmUoJ1doaXJsZWQnKTtcbiAgICAgICAgIG5hbWVJbnB1dC5jbGVhcigpO1xuICAgICAgICAgbmFtZUlucHV0LnNlbmRLZXlzKCd3b3JsZCcpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbmFtZScpKS5nZXRUZXh0KCkpLnRvQmUoJ3dvcmxkJyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nQmluZERpcmVjdGl2ZSA9IFsnJGNvbXBpbGUnLCBmdW5jdGlvbigkY29tcGlsZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQUMnLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nQmluZENvbXBpbGUodGVtcGxhdGVFbGVtZW50KSB7XG4gICAgICAkY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyh0ZW1wbGF0ZUVsZW1lbnQpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nQmluZExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgJGNvbXBpbGUuJCRhZGRCaW5kaW5nSW5mbyhlbGVtZW50LCBhdHRyLm5nQmluZCk7XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50WzBdO1xuICAgICAgICBzY29wZS4kd2F0Y2goYXR0ci5uZ0JpbmQsIGZ1bmN0aW9uIG5nQmluZFdhdGNoQWN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IHZhbHVlID09PSB1bmRlZmluZWQgPyAnJyA6IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufV07XG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0JpbmRUZW1wbGF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ0JpbmRUZW1wbGF0ZWAgZGlyZWN0aXZlIHNwZWNpZmllcyB0aGF0IHRoZSBlbGVtZW50XG4gKiB0ZXh0IGNvbnRlbnQgc2hvdWxkIGJlIHJlcGxhY2VkIHdpdGggdGhlIGludGVycG9sYXRpb24gb2YgdGhlIHRlbXBsYXRlXG4gKiBpbiB0aGUgYG5nQmluZFRlbXBsYXRlYCBhdHRyaWJ1dGUuXG4gKiBVbmxpa2UgYG5nQmluZGAsIHRoZSBgbmdCaW5kVGVtcGxhdGVgIGNhbiBjb250YWluIG11bHRpcGxlIGB7e2AgYH19YFxuICogZXhwcmVzc2lvbnMuIFRoaXMgZGlyZWN0aXZlIGlzIG5lZWRlZCBzaW5jZSBzb21lIEhUTUwgZWxlbWVudHNcbiAqIChzdWNoIGFzIFRJVExFIGFuZCBPUFRJT04pIGNhbm5vdCBjb250YWluIFNQQU4gZWxlbWVudHMuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge3N0cmluZ30gbmdCaW5kVGVtcGxhdGUgdGVtcGxhdGUgb2YgZm9ybVxuICogICA8dHQ+e3s8L3R0PiA8dHQ+ZXhwcmVzc2lvbjwvdHQ+IDx0dD59fTwvdHQ+IHRvIGV2YWwuXG4gKlxuICogQGV4YW1wbGVcbiAqIFRyeSBpdCBoZXJlOiBlbnRlciB0ZXh0IGluIHRleHQgYm94IGFuZCB3YXRjaCB0aGUgZ3JlZXRpbmcgY2hhbmdlLlxuICAgPGV4YW1wbGUgbW9kdWxlPVwiYmluZEV4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2JpbmRFeGFtcGxlJywgW10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgJHNjb3BlLnNhbHV0YXRpb24gPSAnSGVsbG8nO1xuICAgICAgICAgICAgICRzY29wZS5uYW1lID0gJ1dvcmxkJztcbiAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgIFNhbHV0YXRpb246IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwic2FsdXRhdGlvblwiPjxicj5cbiAgICAgICAgTmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJuYW1lXCI+PGJyPlxuICAgICAgICA8cHJlIG5nLWJpbmQtdGVtcGxhdGU9XCJ7e3NhbHV0YXRpb259fSB7e25hbWV9fSFcIj48L3ByZT5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1iaW5kJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICB2YXIgc2FsdXRhdGlvbkVsZW0gPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3NhbHV0YXRpb24nKSk7XG4gICAgICAgICB2YXIgc2FsdXRhdGlvbklucHV0ID0gZWxlbWVudChieS5tb2RlbCgnc2FsdXRhdGlvbicpKTtcbiAgICAgICAgIHZhciBuYW1lSW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCduYW1lJykpO1xuXG4gICAgICAgICBleHBlY3Qoc2FsdXRhdGlvbkVsZW0uZ2V0VGV4dCgpKS50b0JlKCdIZWxsbyBXb3JsZCEnKTtcblxuICAgICAgICAgc2FsdXRhdGlvbklucHV0LmNsZWFyKCk7XG4gICAgICAgICBzYWx1dGF0aW9uSW5wdXQuc2VuZEtleXMoJ0dyZWV0aW5ncycpO1xuICAgICAgICAgbmFtZUlucHV0LmNsZWFyKCk7XG4gICAgICAgICBuYW1lSW5wdXQuc2VuZEtleXMoJ3VzZXInKTtcblxuICAgICAgICAgZXhwZWN0KHNhbHV0YXRpb25FbGVtLmdldFRleHQoKSkudG9CZSgnR3JlZXRpbmdzIHVzZXIhJyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nQmluZFRlbXBsYXRlRGlyZWN0aXZlID0gWyckaW50ZXJwb2xhdGUnLCAnJGNvbXBpbGUnLCBmdW5jdGlvbigkaW50ZXJwb2xhdGUsICRjb21waWxlKSB7XG4gIHJldHVybiB7XG4gICAgY29tcGlsZTogZnVuY3Rpb24gbmdCaW5kVGVtcGxhdGVDb21waWxlKHRlbXBsYXRlRWxlbWVudCkge1xuICAgICAgJGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3ModGVtcGxhdGVFbGVtZW50KTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBuZ0JpbmRUZW1wbGF0ZUxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgdmFyIGludGVycG9sYXRlRm4gPSAkaW50ZXJwb2xhdGUoZWxlbWVudC5hdHRyKGF0dHIuJGF0dHIubmdCaW5kVGVtcGxhdGUpKTtcbiAgICAgICAgJGNvbXBpbGUuJCRhZGRCaW5kaW5nSW5mbyhlbGVtZW50LCBpbnRlcnBvbGF0ZUZuLmV4cHJlc3Npb25zKTtcbiAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRbMF07XG4gICAgICAgIGF0dHIuJG9ic2VydmUoJ25nQmluZFRlbXBsYXRlJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gdmFsdWUgPT09IHVuZGVmaW5lZCA/ICcnIDogdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XTtcblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQmluZEh0bWxcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYSBiaW5kaW5nIHRoYXQgd2lsbCBpbm5lckhUTUwgdGhlIHJlc3VsdCBvZiBldmFsdWF0aW5nIHRoZSBgZXhwcmVzc2lvbmAgaW50byB0aGUgY3VycmVudFxuICogZWxlbWVudCBpbiBhIHNlY3VyZSB3YXkuICBCeSBkZWZhdWx0LCB0aGUgaW5uZXJIVE1MLWVkIGNvbnRlbnQgd2lsbCBiZSBzYW5pdGl6ZWQgdXNpbmcgdGhlIHtAbGlua1xuICogbmdTYW5pdGl6ZS4kc2FuaXRpemUgJHNhbml0aXplfSBzZXJ2aWNlLiAgVG8gdXRpbGl6ZSB0aGlzIGZ1bmN0aW9uYWxpdHksIGVuc3VyZSB0aGF0IGAkc2FuaXRpemVgXG4gKiBpcyBhdmFpbGFibGUsIGZvciBleGFtcGxlLCBieSBpbmNsdWRpbmcge0BsaW5rIG5nU2FuaXRpemV9IGluIHlvdXIgbW9kdWxlJ3MgZGVwZW5kZW5jaWVzIChub3QgaW5cbiAqIGNvcmUgQW5ndWxhcikuIEluIG9yZGVyIHRvIHVzZSB7QGxpbmsgbmdTYW5pdGl6ZX0gaW4geW91ciBtb2R1bGUncyBkZXBlbmRlbmNpZXMsIHlvdSBuZWVkIHRvXG4gKiBpbmNsdWRlIFwiYW5ndWxhci1zYW5pdGl6ZS5qc1wiIGluIHlvdXIgYXBwbGljYXRpb24uXG4gKlxuICogWW91IG1heSBhbHNvIGJ5cGFzcyBzYW5pdGl6YXRpb24gZm9yIHZhbHVlcyB5b3Uga25vdyBhcmUgc2FmZS4gVG8gZG8gc28sIGJpbmQgdG9cbiAqIGFuIGV4cGxpY2l0bHkgdHJ1c3RlZCB2YWx1ZSB2aWEge0BsaW5rIG5nLiRzY2UjdHJ1c3RBc0h0bWwgJHNjZS50cnVzdEFzSHRtbH0uICBTZWUgdGhlIGV4YW1wbGVcbiAqIHVuZGVyIHtAbGluayBuZy4kc2NlI3Nob3ctbWUtYW4tZXhhbXBsZS11c2luZy1zY2UtIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfS5cbiAqXG4gKiBOb3RlOiBJZiBhIGAkc2FuaXRpemVgIHNlcnZpY2UgaXMgdW5hdmFpbGFibGUgYW5kIHRoZSBib3VuZCB2YWx1ZSBpc24ndCBleHBsaWNpdGx5IHRydXN0ZWQsIHlvdVxuICogd2lsbCBoYXZlIGFuIGV4Y2VwdGlvbiAoaW5zdGVhZCBvZiBhbiBleHBsb2l0LilcbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdCaW5kSHRtbCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZS5cbiAqXG4gKiBAZXhhbXBsZVxuXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJiaW5kSHRtbEV4YW1wbGVcIiBkZXBzPVwiYW5ndWxhci1zYW5pdGl6ZS5qc1wiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgIDxwIG5nLWJpbmQtaHRtbD1cIm15SFRNTFwiPjwvcD5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuXG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnYmluZEh0bWxFeGFtcGxlJywgWyduZ1Nhbml0aXplJ10pXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAkc2NvcGUubXlIVE1MID1cbiAgICAgICAgICAgICAgJ0kgYW0gYW4gPGNvZGU+SFRNTDwvY29kZT5zdHJpbmcgd2l0aCAnICtcbiAgICAgICAgICAgICAgJzxhIGhyZWY9XCIjXCI+bGlua3MhPC9hPiBhbmQgb3RoZXIgPGVtPnN0dWZmPC9lbT4nO1xuICAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctYmluZC1odG1sJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdteUhUTUwnKSkuZ2V0VGV4dCgpKS50b0JlKFxuICAgICAgICAgICAgICdJIGFtIGFuIEhUTUxzdHJpbmcgd2l0aCBsaW5rcyEgYW5kIG90aGVyIHN0dWZmJyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nQmluZEh0bWxEaXJlY3RpdmUgPSBbJyRzY2UnLCAnJHBhcnNlJywgJyRjb21waWxlJywgZnVuY3Rpb24oJHNjZSwgJHBhcnNlLCAkY29tcGlsZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgY29tcGlsZTogZnVuY3Rpb24gbmdCaW5kSHRtbENvbXBpbGUodEVsZW1lbnQsIHRBdHRycykge1xuICAgICAgdmFyIG5nQmluZEh0bWxHZXR0ZXIgPSAkcGFyc2UodEF0dHJzLm5nQmluZEh0bWwpO1xuICAgICAgdmFyIG5nQmluZEh0bWxXYXRjaCA9ICRwYXJzZSh0QXR0cnMubmdCaW5kSHRtbCwgZnVuY3Rpb24gZ2V0U3RyaW5nVmFsdWUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICh2YWx1ZSB8fCAnJykudG9TdHJpbmcoKTtcbiAgICAgIH0pO1xuICAgICAgJGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3ModEVsZW1lbnQpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gbmdCaW5kSHRtbExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgJGNvbXBpbGUuJCRhZGRCaW5kaW5nSW5mbyhlbGVtZW50LCBhdHRyLm5nQmluZEh0bWwpO1xuXG4gICAgICAgIHNjb3BlLiR3YXRjaChuZ0JpbmRIdG1sV2F0Y2gsIGZ1bmN0aW9uIG5nQmluZEh0bWxXYXRjaEFjdGlvbigpIHtcbiAgICAgICAgICAvLyB3ZSByZS1ldmFsdWF0ZSB0aGUgZXhwciBiZWNhdXNlIHdlIHdhbnQgYSBUcnVzdGVkVmFsdWVIb2xkZXJUeXBlXG4gICAgICAgICAgLy8gZm9yICRzY2UsIG5vdCBhIHN0cmluZ1xuICAgICAgICAgIGVsZW1lbnQuaHRtbCgkc2NlLmdldFRydXN0ZWRIdG1sKG5nQmluZEh0bWxHZXR0ZXIoc2NvcGUpKSB8fCAnJyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XTtcblxuZnVuY3Rpb24gY2xhc3NEaXJlY3RpdmUobmFtZSwgc2VsZWN0b3IpIHtcbiAgbmFtZSA9ICduZ0NsYXNzJyArIG5hbWU7XG4gIHJldHVybiBbJyRhbmltYXRlJywgZnVuY3Rpb24oJGFuaW1hdGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdBQycsXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICB2YXIgb2xkVmFsO1xuXG4gICAgICAgIHNjb3BlLiR3YXRjaChhdHRyW25hbWVdLCBuZ0NsYXNzV2F0Y2hBY3Rpb24sIHRydWUpO1xuXG4gICAgICAgIGF0dHIuJG9ic2VydmUoJ2NsYXNzJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBuZ0NsYXNzV2F0Y2hBY3Rpb24oc2NvcGUuJGV2YWwoYXR0cltuYW1lXSkpO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgIGlmIChuYW1lICE9PSAnbmdDbGFzcycpIHtcbiAgICAgICAgICBzY29wZS4kd2F0Y2goJyRpbmRleCcsIGZ1bmN0aW9uKCRpbmRleCwgb2xkJGluZGV4KSB7XG4gICAgICAgICAgICAvLyBqc2hpbnQgYml0d2lzZTogZmFsc2VcbiAgICAgICAgICAgIHZhciBtb2QgPSAkaW5kZXggJiAxO1xuICAgICAgICAgICAgaWYgKG1vZCAhPT0gKG9sZCRpbmRleCAmIDEpKSB7XG4gICAgICAgICAgICAgIHZhciBjbGFzc2VzID0gYXJyYXlDbGFzc2VzKHNjb3BlLiRldmFsKGF0dHJbbmFtZV0pKTtcbiAgICAgICAgICAgICAgbW9kID09PSBzZWxlY3RvciA/XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3NlcyhjbGFzc2VzKSA6XG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3NlcyhjbGFzc2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGFkZENsYXNzZXMoY2xhc3Nlcykge1xuICAgICAgICAgIHZhciBuZXdDbGFzc2VzID0gZGlnZXN0Q2xhc3NDb3VudHMoY2xhc3NlcywgMSk7XG4gICAgICAgICAgYXR0ci4kYWRkQ2xhc3MobmV3Q2xhc3Nlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZW1vdmVDbGFzc2VzKGNsYXNzZXMpIHtcbiAgICAgICAgICB2YXIgbmV3Q2xhc3NlcyA9IGRpZ2VzdENsYXNzQ291bnRzKGNsYXNzZXMsIC0xKTtcbiAgICAgICAgICBhdHRyLiRyZW1vdmVDbGFzcyhuZXdDbGFzc2VzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGRpZ2VzdENsYXNzQ291bnRzKGNsYXNzZXMsIGNvdW50KSB7XG4gICAgICAgICAgdmFyIGNsYXNzQ291bnRzID0gZWxlbWVudC5kYXRhKCckY2xhc3NDb3VudHMnKSB8fCB7fTtcbiAgICAgICAgICB2YXIgY2xhc3Nlc1RvVXBkYXRlID0gW107XG4gICAgICAgICAgZm9yRWFjaChjbGFzc2VzLCBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIGlmIChjb3VudCA+IDAgfHwgY2xhc3NDb3VudHNbY2xhc3NOYW1lXSkge1xuICAgICAgICAgICAgICBjbGFzc0NvdW50c1tjbGFzc05hbWVdID0gKGNsYXNzQ291bnRzW2NsYXNzTmFtZV0gfHwgMCkgKyBjb3VudDtcbiAgICAgICAgICAgICAgaWYgKGNsYXNzQ291bnRzW2NsYXNzTmFtZV0gPT09ICsoY291bnQgPiAwKSkge1xuICAgICAgICAgICAgICAgIGNsYXNzZXNUb1VwZGF0ZS5wdXNoKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBlbGVtZW50LmRhdGEoJyRjbGFzc0NvdW50cycsIGNsYXNzQ291bnRzKTtcbiAgICAgICAgICByZXR1cm4gY2xhc3Nlc1RvVXBkYXRlLmpvaW4oJyAnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUNsYXNzZXMob2xkQ2xhc3NlcywgbmV3Q2xhc3Nlcykge1xuICAgICAgICAgIHZhciB0b0FkZCA9IGFycmF5RGlmZmVyZW5jZShuZXdDbGFzc2VzLCBvbGRDbGFzc2VzKTtcbiAgICAgICAgICB2YXIgdG9SZW1vdmUgPSBhcnJheURpZmZlcmVuY2Uob2xkQ2xhc3NlcywgbmV3Q2xhc3Nlcyk7XG4gICAgICAgICAgdG9BZGQgPSBkaWdlc3RDbGFzc0NvdW50cyh0b0FkZCwgMSk7XG4gICAgICAgICAgdG9SZW1vdmUgPSBkaWdlc3RDbGFzc0NvdW50cyh0b1JlbW92ZSwgLTEpO1xuICAgICAgICAgIGlmICh0b0FkZCAmJiB0b0FkZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsIHRvQWRkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRvUmVtb3ZlICYmIHRvUmVtb3ZlLmxlbmd0aCkge1xuICAgICAgICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgdG9SZW1vdmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG5nQ2xhc3NXYXRjaEFjdGlvbihuZXdWYWwpIHtcbiAgICAgICAgICBpZiAoc2VsZWN0b3IgPT09IHRydWUgfHwgc2NvcGUuJGluZGV4ICUgMiA9PT0gc2VsZWN0b3IpIHtcbiAgICAgICAgICAgIHZhciBuZXdDbGFzc2VzID0gYXJyYXlDbGFzc2VzKG5ld1ZhbCB8fCBbXSk7XG4gICAgICAgICAgICBpZiAoIW9sZFZhbCkge1xuICAgICAgICAgICAgICBhZGRDbGFzc2VzKG5ld0NsYXNzZXMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghZXF1YWxzKG5ld1ZhbCxvbGRWYWwpKSB7XG4gICAgICAgICAgICAgIHZhciBvbGRDbGFzc2VzID0gYXJyYXlDbGFzc2VzKG9sZFZhbCk7XG4gICAgICAgICAgICAgIHVwZGF0ZUNsYXNzZXMob2xkQ2xhc3NlcywgbmV3Q2xhc3Nlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIG9sZFZhbCA9IHNoYWxsb3dDb3B5KG5ld1ZhbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gYXJyYXlEaWZmZXJlbmNlKHRva2VuczEsIHRva2VuczIpIHtcbiAgICAgIHZhciB2YWx1ZXMgPSBbXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2VuczEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRva2VuID0gdG9rZW5zMVtpXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0b2tlbnMyLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgaWYgKHRva2VuID09IHRva2VuczJbal0pIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlcy5wdXNoKHRva2VuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXJyYXlDbGFzc2VzKGNsYXNzVmFsKSB7XG4gICAgICBpZiAoaXNBcnJheShjbGFzc1ZhbCkpIHtcbiAgICAgICAgcmV0dXJuIGNsYXNzVmFsO1xuICAgICAgfSBlbHNlIGlmIChpc1N0cmluZyhjbGFzc1ZhbCkpIHtcbiAgICAgICAgcmV0dXJuIGNsYXNzVmFsLnNwbGl0KCcgJyk7XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGNsYXNzVmFsKSkge1xuICAgICAgICB2YXIgY2xhc3NlcyA9IFtdO1xuICAgICAgICBmb3JFYWNoKGNsYXNzVmFsLCBmdW5jdGlvbih2LCBrKSB7XG4gICAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgIGNsYXNzZXMgPSBjbGFzc2VzLmNvbmNhdChrLnNwbGl0KCcgJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjbGFzc2VzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNsYXNzVmFsO1xuICAgIH1cbiAgfV07XG59XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDbGFzc1xuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nQ2xhc3NgIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIGR5bmFtaWNhbGx5IHNldCBDU1MgY2xhc3NlcyBvbiBhbiBIVE1MIGVsZW1lbnQgYnkgZGF0YWJpbmRpbmdcbiAqIGFuIGV4cHJlc3Npb24gdGhhdCByZXByZXNlbnRzIGFsbCBjbGFzc2VzIHRvIGJlIGFkZGVkLlxuICpcbiAqIFRoZSBkaXJlY3RpdmUgb3BlcmF0ZXMgaW4gdGhyZWUgZGlmZmVyZW50IHdheXMsIGRlcGVuZGluZyBvbiB3aGljaCBvZiB0aHJlZSB0eXBlcyB0aGUgZXhwcmVzc2lvblxuICogZXZhbHVhdGVzIHRvOlxuICpcbiAqIDEuIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHN0cmluZywgdGhlIHN0cmluZyBzaG91bGQgYmUgb25lIG9yIG1vcmUgc3BhY2UtZGVsaW1pdGVkIGNsYXNzXG4gKiBuYW1lcy5cbiAqXG4gKiAyLiBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYW4gYXJyYXksIGVhY2ggZWxlbWVudCBvZiB0aGUgYXJyYXkgc2hvdWxkIGJlIGEgc3RyaW5nIHRoYXQgaXNcbiAqIG9uZSBvciBtb3JlIHNwYWNlLWRlbGltaXRlZCBjbGFzcyBuYW1lcy5cbiAqXG4gKiAzLiBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYW4gb2JqZWN0LCB0aGVuIGZvciBlYWNoIGtleS12YWx1ZSBwYWlyIG9mIHRoZVxuICogb2JqZWN0IHdpdGggYSB0cnV0aHkgdmFsdWUgdGhlIGNvcnJlc3BvbmRpbmcga2V5IGlzIHVzZWQgYXMgYSBjbGFzcyBuYW1lLlxuICpcbiAqIFRoZSBkaXJlY3RpdmUgd29uJ3QgYWRkIGR1cGxpY2F0ZSBjbGFzc2VzIGlmIGEgcGFydGljdWxhciBjbGFzcyB3YXMgYWxyZWFkeSBzZXQuXG4gKlxuICogV2hlbiB0aGUgZXhwcmVzc2lvbiBjaGFuZ2VzLCB0aGUgcHJldmlvdXNseSBhZGRlZCBjbGFzc2VzIGFyZSByZW1vdmVkIGFuZCBvbmx5IHRoZW4gdGhlXG4gKiBuZXcgY2xhc3NlcyBhcmUgYWRkZWQuXG4gKlxuICogQGFuaW1hdGlvbnNcbiAqIGFkZCAtIGhhcHBlbnMganVzdCBiZWZvcmUgdGhlIGNsYXNzIGlzIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnRcbiAqIHJlbW92ZSAtIGhhcHBlbnMganVzdCBiZWZvcmUgdGhlIGNsYXNzIGlzIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudFxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NsYXNzIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWwuIFRoZSByZXN1bHRcbiAqICAgb2YgdGhlIGV2YWx1YXRpb24gY2FuIGJlIGEgc3RyaW5nIHJlcHJlc2VudGluZyBzcGFjZSBkZWxpbWl0ZWQgY2xhc3NcbiAqICAgbmFtZXMsIGFuIGFycmF5LCBvciBhIG1hcCBvZiBjbGFzcyBuYW1lcyB0byBib29sZWFuIHZhbHVlcy4gSW4gdGhlIGNhc2Ugb2YgYSBtYXAsIHRoZVxuICogICBuYW1lcyBvZiB0aGUgcHJvcGVydGllcyB3aG9zZSB2YWx1ZXMgYXJlIHRydXRoeSB3aWxsIGJlIGFkZGVkIGFzIGNzcyBjbGFzc2VzIHRvIHRoZVxuICogICBlbGVtZW50LlxuICpcbiAqIEBleGFtcGxlIEV4YW1wbGUgdGhhdCBkZW1vbnN0cmF0ZXMgYmFzaWMgYmluZGluZ3MgdmlhIG5nQ2xhc3MgZGlyZWN0aXZlLlxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHAgbmctY2xhc3M9XCJ7c3RyaWtlOiBkZWxldGVkLCBib2xkOiBpbXBvcnRhbnQsIHJlZDogZXJyb3J9XCI+TWFwIFN5bnRheCBFeGFtcGxlPC9wPlxuICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImRlbGV0ZWRcIj4gZGVsZXRlZCAoYXBwbHkgXCJzdHJpa2VcIiBjbGFzcyk8YnI+XG4gICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiaW1wb3J0YW50XCI+IGltcG9ydGFudCAoYXBwbHkgXCJib2xkXCIgY2xhc3MpPGJyPlxuICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImVycm9yXCI+IGVycm9yIChhcHBseSBcInJlZFwiIGNsYXNzKVxuICAgICAgIDxocj5cbiAgICAgICA8cCBuZy1jbGFzcz1cInN0eWxlXCI+VXNpbmcgU3RyaW5nIFN5bnRheDwvcD5cbiAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInN0eWxlXCIgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkIHN0cmlrZSByZWRcIj5cbiAgICAgICA8aHI+XG4gICAgICAgPHAgbmctY2xhc3M9XCJbc3R5bGUxLCBzdHlsZTIsIHN0eWxlM11cIj5Vc2luZyBBcnJheSBTeW50YXg8L3A+XG4gICAgICAgPGlucHV0IG5nLW1vZGVsPVwic3R5bGUxXCIgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkLCBzdHJpa2Ugb3IgcmVkXCI+PGJyPlxuICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInN0eWxlMlwiIHBsYWNlaG9sZGVyPVwiVHlwZTogYm9sZCwgc3RyaWtlIG9yIHJlZFwiPjxicj5cbiAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJzdHlsZTNcIiBwbGFjZWhvbGRlcj1cIlR5cGU6IGJvbGQsIHN0cmlrZSBvciByZWRcIj48YnI+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIC5zdHJpa2Uge1xuICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7XG4gICAgICAgfVxuICAgICAgIC5ib2xkIHtcbiAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgfVxuICAgICAgIC5yZWQge1xuICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgIH1cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgdmFyIHBzID0gZWxlbWVudC5hbGwoYnkuY3NzKCdwJykpO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBsZXQgeW91IHRvZ2dsZSB0aGUgY2xhc3MnLCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QudG9NYXRjaCgvYm9sZC8pO1xuICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QudG9NYXRjaCgvcmVkLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2ltcG9ydGFudCcpKS5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b01hdGNoKC9ib2xkLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2Vycm9yJykpLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QocHMuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvTWF0Y2goL3JlZC8pO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBsZXQgeW91IHRvZ2dsZSBzdHJpbmcgZXhhbXBsZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KHBzLmdldCgxKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUnKSkuY2xlYXIoKTtcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3N0eWxlJykpLnNlbmRLZXlzKCdyZWQnKTtcbiAgICAgICAgIGV4cGVjdChwcy5nZXQoMSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b0JlKCdyZWQnKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdhcnJheSBleGFtcGxlIHNob3VsZCBoYXZlIDMgY2xhc3NlcycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KHBzLmxhc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUxJykpLnNlbmRLZXlzKCdib2xkJyk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzdHlsZTInKSkuc2VuZEtleXMoJ3N0cmlrZScpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUzJykpLnNlbmRLZXlzKCdyZWQnKTtcbiAgICAgICAgIGV4cGVjdChwcy5sYXN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b0JlKCdib2xkIHN0cmlrZSByZWQnKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuXG4gICAjIyBBbmltYXRpb25zXG5cbiAgIFRoZSBleGFtcGxlIGJlbG93IGRlbW9uc3RyYXRlcyBob3cgdG8gcGVyZm9ybSBhbmltYXRpb25zIHVzaW5nIG5nQ2xhc3MuXG5cbiAgIDxleGFtcGxlIG1vZHVsZT1cIm5nQW5pbWF0ZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGlucHV0IGlkPVwic2V0YnRuXCIgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwic2V0XCIgbmctY2xpY2s9XCJteVZhcj0nbXktY2xhc3MnXCI+XG4gICAgICA8aW5wdXQgaWQ9XCJjbGVhcmJ0blwiIHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cImNsZWFyXCIgbmctY2xpY2s9XCJteVZhcj0nJ1wiPlxuICAgICAgPGJyPlxuICAgICAgPHNwYW4gY2xhc3M9XCJiYXNlLWNsYXNzXCIgbmctY2xhc3M9XCJteVZhclwiPlNhbXBsZSBUZXh0PC9zcGFuPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICAuYmFzZS1jbGFzcyB7XG4gICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41cztcbiAgICAgICAgIHRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41cztcbiAgICAgICB9XG5cbiAgICAgICAuYmFzZS1jbGFzcy5teS1jbGFzcyB7XG4gICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgZm9udC1zaXplOjNlbTtcbiAgICAgICB9XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctY2xhc3MnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnLmJhc2UtY2xhc3MnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QuXG4gICAgICAgICAgIHRvTWF0Y2goL215LWNsYXNzLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ3NldGJ0bicpKS5jbGljaygpO1xuXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJy5iYXNlLWNsYXNzJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuXG4gICAgICAgICAgIHRvTWF0Y2goL215LWNsYXNzLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2NsZWFyYnRuJykpLmNsaWNrKCk7XG5cbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnLmJhc2UtY2xhc3MnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QuXG4gICAgICAgICAgIHRvTWF0Y2goL215LWNsYXNzLyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cblxuXG4gICAjIyBuZ0NsYXNzIGFuZCBwcmUtZXhpc3RpbmcgQ1NTMyBUcmFuc2l0aW9ucy9BbmltYXRpb25zXG4gICBUaGUgbmdDbGFzcyBkaXJlY3RpdmUgc3RpbGwgc3VwcG9ydHMgQ1NTMyBUcmFuc2l0aW9ucy9BbmltYXRpb25zIGV2ZW4gaWYgdGhleSBkbyBub3QgZm9sbG93IHRoZSBuZ0FuaW1hdGUgQ1NTIG5hbWluZyBzdHJ1Y3R1cmUuXG4gICBVcG9uIGFuaW1hdGlvbiBuZ0FuaW1hdGUgd2lsbCBhcHBseSBzdXBwbGVtZW50YXJ5IENTUyBjbGFzc2VzIHRvIHRyYWNrIHRoZSBzdGFydCBhbmQgZW5kIG9mIGFuIGFuaW1hdGlvbiwgYnV0IHRoaXMgd2lsbCBub3QgaGluZGVyXG4gICBhbnkgcHJlLWV4aXN0aW5nIENTUyB0cmFuc2l0aW9ucyBhbHJlYWR5IG9uIHRoZSBlbGVtZW50LiBUbyBnZXQgYW4gaWRlYSBvZiB3aGF0IGhhcHBlbnMgZHVyaW5nIGEgY2xhc3MtYmFzZWQgYW5pbWF0aW9uLCBiZSBzdXJlXG4gICB0byB2aWV3IHRoZSBzdGVwIGJ5IHN0ZXAgZGV0YWlscyBvZiB7QGxpbmsgbmcuJGFuaW1hdGUjYWRkQ2xhc3MgJGFuaW1hdGUuYWRkQ2xhc3N9IGFuZFxuICAge0BsaW5rIG5nLiRhbmltYXRlI3JlbW92ZUNsYXNzICRhbmltYXRlLnJlbW92ZUNsYXNzfS5cbiAqL1xudmFyIG5nQ2xhc3NEaXJlY3RpdmUgPSBjbGFzc0RpcmVjdGl2ZSgnJywgdHJ1ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDbGFzc09kZFxuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nQ2xhc3NPZGRgIGFuZCBgbmdDbGFzc0V2ZW5gIGRpcmVjdGl2ZXMgd29yayBleGFjdGx5IGFzXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xhc3MgbmdDbGFzc30sIGV4Y2VwdCB0aGV5IHdvcmsgaW5cbiAqIGNvbmp1bmN0aW9uIHdpdGggYG5nUmVwZWF0YCBhbmQgdGFrZSBlZmZlY3Qgb25seSBvbiBvZGQgKGV2ZW4pIHJvd3MuXG4gKlxuICogVGhpcyBkaXJlY3RpdmUgY2FuIGJlIGFwcGxpZWQgb25seSB3aXRoaW4gdGhlIHNjb3BlIG9mIGFuXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fS5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDbGFzc09kZCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsLiBUaGUgcmVzdWx0XG4gKiAgIG9mIHRoZSBldmFsdWF0aW9uIGNhbiBiZSBhIHN0cmluZyByZXByZXNlbnRpbmcgc3BhY2UgZGVsaW1pdGVkIGNsYXNzIG5hbWVzIG9yIGFuIGFycmF5LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgPG9sIG5nLWluaXQ9XCJuYW1lcz1bJ0pvaG4nLCAnTWFyeScsICdDYXRlJywgJ1N1eiddXCI+XG4gICAgICAgICAgPGxpIG5nLXJlcGVhdD1cIm5hbWUgaW4gbmFtZXNcIj5cbiAgICAgICAgICAgPHNwYW4gbmctY2xhc3Mtb2RkPVwiJ29kZCdcIiBuZy1jbGFzcy1ldmVuPVwiJ2V2ZW4nXCI+XG4gICAgICAgICAgICAge3tuYW1lfX1cbiAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIDwvb2w+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIC5vZGQge1xuICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICB9XG4gICAgICAgLmV2ZW4ge1xuICAgICAgICAgY29sb3I6IGJsdWU7XG4gICAgICAgfVxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWNsYXNzLW9kZCBhbmQgbmctY2xhc3MtZXZlbicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkucmVwZWF0ZXIoJ25hbWUgaW4gbmFtZXMnKS5yb3coMCkuY29sdW1uKCduYW1lJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuXG4gICAgICAgICAgIHRvTWF0Y2goL29kZC8pO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkucmVwZWF0ZXIoJ25hbWUgaW4gbmFtZXMnKS5yb3coMSkuY29sdW1uKCduYW1lJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuXG4gICAgICAgICAgIHRvTWF0Y2goL2V2ZW4vKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdDbGFzc09kZERpcmVjdGl2ZSA9IGNsYXNzRGlyZWN0aXZlKCdPZGQnLCAwKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NsYXNzRXZlblxuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nQ2xhc3NPZGRgIGFuZCBgbmdDbGFzc0V2ZW5gIGRpcmVjdGl2ZXMgd29yayBleGFjdGx5IGFzXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xhc3MgbmdDbGFzc30sIGV4Y2VwdCB0aGV5IHdvcmsgaW5cbiAqIGNvbmp1bmN0aW9uIHdpdGggYG5nUmVwZWF0YCBhbmQgdGFrZSBlZmZlY3Qgb25seSBvbiBvZGQgKGV2ZW4pIHJvd3MuXG4gKlxuICogVGhpcyBkaXJlY3RpdmUgY2FuIGJlIGFwcGxpZWQgb25seSB3aXRoaW4gdGhlIHNjb3BlIG9mIGFuXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fS5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDbGFzc0V2ZW4ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbC4gVGhlXG4gKiAgIHJlc3VsdCBvZiB0aGUgZXZhbHVhdGlvbiBjYW4gYmUgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHNwYWNlIGRlbGltaXRlZCBjbGFzcyBuYW1lcyBvciBhbiBhcnJheS5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxvbCBuZy1pbml0PVwibmFtZXM9WydKb2huJywgJ01hcnknLCAnQ2F0ZScsICdTdXonXVwiPlxuICAgICAgICAgIDxsaSBuZy1yZXBlYXQ9XCJuYW1lIGluIG5hbWVzXCI+XG4gICAgICAgICAgIDxzcGFuIG5nLWNsYXNzLW9kZD1cIidvZGQnXCIgbmctY2xhc3MtZXZlbj1cIidldmVuJ1wiPlxuICAgICAgICAgICAgIHt7bmFtZX19ICZuYnNwOyAmbmJzcDsgJm5ic3A7XG4gICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICA8L29sPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICAub2RkIHtcbiAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgfVxuICAgICAgIC5ldmVuIHtcbiAgICAgICAgIGNvbG9yOiBibHVlO1xuICAgICAgIH1cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1jbGFzcy1vZGQgYW5kIG5nLWNsYXNzLWV2ZW4nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LnJlcGVhdGVyKCduYW1lIGluIG5hbWVzJykucm93KDApLmNvbHVtbignbmFtZScpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLlxuICAgICAgICAgICB0b01hdGNoKC9vZGQvKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LnJlcGVhdGVyKCduYW1lIGluIG5hbWVzJykucm93KDEpLmNvbHVtbignbmFtZScpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLlxuICAgICAgICAgICB0b01hdGNoKC9ldmVuLyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nQ2xhc3NFdmVuRGlyZWN0aXZlID0gY2xhc3NEaXJlY3RpdmUoJ0V2ZW4nLCAxKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0Nsb2FrXG4gKiBAcmVzdHJpY3QgQUNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdDbG9ha2AgZGlyZWN0aXZlIGlzIHVzZWQgdG8gcHJldmVudCB0aGUgQW5ndWxhciBodG1sIHRlbXBsYXRlIGZyb20gYmVpbmcgYnJpZWZseVxuICogZGlzcGxheWVkIGJ5IHRoZSBicm93c2VyIGluIGl0cyByYXcgKHVuY29tcGlsZWQpIGZvcm0gd2hpbGUgeW91ciBhcHBsaWNhdGlvbiBpcyBsb2FkaW5nLiBVc2UgdGhpc1xuICogZGlyZWN0aXZlIHRvIGF2b2lkIHRoZSB1bmRlc2lyYWJsZSBmbGlja2VyIGVmZmVjdCBjYXVzZWQgYnkgdGhlIGh0bWwgdGVtcGxhdGUgZGlzcGxheS5cbiAqXG4gKiBUaGUgZGlyZWN0aXZlIGNhbiBiZSBhcHBsaWVkIHRvIHRoZSBgPGJvZHk+YCBlbGVtZW50LCBidXQgdGhlIHByZWZlcnJlZCB1c2FnZSBpcyB0byBhcHBseVxuICogbXVsdGlwbGUgYG5nQ2xvYWtgIGRpcmVjdGl2ZXMgdG8gc21hbGwgcG9ydGlvbnMgb2YgdGhlIHBhZ2UgdG8gcGVybWl0IHByb2dyZXNzaXZlIHJlbmRlcmluZ1xuICogb2YgdGhlIGJyb3dzZXIgdmlldy5cbiAqXG4gKiBgbmdDbG9ha2Agd29ya3MgaW4gY29vcGVyYXRpb24gd2l0aCB0aGUgZm9sbG93aW5nIGNzcyBydWxlIGVtYmVkZGVkIHdpdGhpbiBgYW5ndWxhci5qc2AgYW5kXG4gKiBgYW5ndWxhci5taW4uanNgLlxuICogRm9yIENTUCBtb2RlIHBsZWFzZSBhZGQgYGFuZ3VsYXItY3NwLmNzc2AgdG8geW91ciBodG1sIGZpbGUgKHNlZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ3NwIG5nQ3NwfSkuXG4gKlxuICogYGBgY3NzXG4gKiBbbmdcXDpjbG9ha10sIFtuZy1jbG9ha10sIFtkYXRhLW5nLWNsb2FrXSwgW3gtbmctY2xvYWtdLCAubmctY2xvYWssIC54LW5nLWNsb2FrIHtcbiAqICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuICogfVxuICogYGBgXG4gKlxuICogV2hlbiB0aGlzIGNzcyBydWxlIGlzIGxvYWRlZCBieSB0aGUgYnJvd3NlciwgYWxsIGh0bWwgZWxlbWVudHMgKGluY2x1ZGluZyB0aGVpciBjaGlsZHJlbikgdGhhdFxuICogYXJlIHRhZ2dlZCB3aXRoIHRoZSBgbmdDbG9ha2AgZGlyZWN0aXZlIGFyZSBoaWRkZW4uIFdoZW4gQW5ndWxhciBlbmNvdW50ZXJzIHRoaXMgZGlyZWN0aXZlXG4gKiBkdXJpbmcgdGhlIGNvbXBpbGF0aW9uIG9mIHRoZSB0ZW1wbGF0ZSBpdCBkZWxldGVzIHRoZSBgbmdDbG9ha2AgZWxlbWVudCBhdHRyaWJ1dGUsIG1ha2luZ1xuICogdGhlIGNvbXBpbGVkIGVsZW1lbnQgdmlzaWJsZS5cbiAqXG4gKiBGb3IgdGhlIGJlc3QgcmVzdWx0LCB0aGUgYGFuZ3VsYXIuanNgIHNjcmlwdCBtdXN0IGJlIGxvYWRlZCBpbiB0aGUgaGVhZCBzZWN0aW9uIG9mIHRoZSBodG1sXG4gKiBkb2N1bWVudDsgYWx0ZXJuYXRpdmVseSwgdGhlIGNzcyBydWxlIGFib3ZlIG11c3QgYmUgaW5jbHVkZWQgaW4gdGhlIGV4dGVybmFsIHN0eWxlc2hlZXQgb2YgdGhlXG4gKiBhcHBsaWNhdGlvbi5cbiAqXG4gKiBMZWdhY3kgYnJvd3NlcnMsIGxpa2UgSUU3LCBkbyBub3QgcHJvdmlkZSBhdHRyaWJ1dGUgc2VsZWN0b3Igc3VwcG9ydCAoYWRkZWQgaW4gQ1NTIDIuMSkgc28gdGhleVxuICogY2Fubm90IG1hdGNoIHRoZSBgW25nXFw6Y2xvYWtdYCBzZWxlY3Rvci4gVG8gd29yayBhcm91bmQgdGhpcyBsaW1pdGF0aW9uLCB5b3UgbXVzdCBhZGQgdGhlIGNzc1xuICogY2xhc3MgYG5nLWNsb2FrYCBpbiBhZGRpdGlvbiB0byB0aGUgYG5nQ2xvYWtgIGRpcmVjdGl2ZSBhcyBzaG93biBpbiB0aGUgZXhhbXBsZSBiZWxvdy5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxkaXYgaWQ9XCJ0ZW1wbGF0ZTFcIiBuZy1jbG9haz57eyAnaGVsbG8nIH19PC9kaXY+XG4gICAgICAgIDxkaXYgaWQ9XCJ0ZW1wbGF0ZTJcIiBuZy1jbG9hayBjbGFzcz1cIm5nLWNsb2FrXCI+e3sgJ2hlbGxvIElFNycgfX08L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCByZW1vdmUgdGhlIHRlbXBsYXRlIGRpcmVjdGl2ZSBhbmQgY3NzIGNsYXNzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoJCgnI3RlbXBsYXRlMScpLmdldEF0dHJpYnV0ZSgnbmctY2xvYWsnKSkuXG4gICAgICAgICAgIHRvQmVOdWxsKCk7XG4gICAgICAgICBleHBlY3QoJCgnI3RlbXBsYXRlMicpLmdldEF0dHJpYnV0ZSgnbmctY2xvYWsnKSkuXG4gICAgICAgICAgIHRvQmVOdWxsKCk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqXG4gKi9cbnZhciBuZ0Nsb2FrRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoe1xuICBjb21waWxlOiBmdW5jdGlvbihlbGVtZW50LCBhdHRyKSB7XG4gICAgYXR0ci4kc2V0KCduZ0Nsb2FrJywgdW5kZWZpbmVkKTtcbiAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCduZy1jbG9haycpO1xuICB9XG59KTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NvbnRyb2xsZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdDb250cm9sbGVyYCBkaXJlY3RpdmUgYXR0YWNoZXMgYSBjb250cm9sbGVyIGNsYXNzIHRvIHRoZSB2aWV3LiBUaGlzIGlzIGEga2V5IGFzcGVjdCBvZiBob3cgYW5ndWxhclxuICogc3VwcG9ydHMgdGhlIHByaW5jaXBsZXMgYmVoaW5kIHRoZSBNb2RlbC1WaWV3LUNvbnRyb2xsZXIgZGVzaWduIHBhdHRlcm4uXG4gKlxuICogTVZDIGNvbXBvbmVudHMgaW4gYW5ndWxhcjpcbiAqXG4gKiAqIE1vZGVsIOKAlCBNb2RlbHMgYXJlIHRoZSBwcm9wZXJ0aWVzIG9mIGEgc2NvcGU7IHNjb3BlcyBhcmUgYXR0YWNoZWQgdG8gdGhlIERPTSB3aGVyZSBzY29wZSBwcm9wZXJ0aWVzXG4gKiAgIGFyZSBhY2Nlc3NlZCB0aHJvdWdoIGJpbmRpbmdzLlxuICogKiBWaWV3IOKAlCBUaGUgdGVtcGxhdGUgKEhUTUwgd2l0aCBkYXRhIGJpbmRpbmdzKSB0aGF0IGlzIHJlbmRlcmVkIGludG8gdGhlIFZpZXcuXG4gKiAqIENvbnRyb2xsZXIg4oCUIFRoZSBgbmdDb250cm9sbGVyYCBkaXJlY3RpdmUgc3BlY2lmaWVzIGEgQ29udHJvbGxlciBjbGFzczsgdGhlIGNsYXNzIGNvbnRhaW5zIGJ1c2luZXNzXG4gKiAgIGxvZ2ljIGJlaGluZCB0aGUgYXBwbGljYXRpb24gdG8gZGVjb3JhdGUgdGhlIHNjb3BlIHdpdGggZnVuY3Rpb25zIGFuZCB2YWx1ZXNcbiAqXG4gKiBOb3RlIHRoYXQgeW91IGNhbiBhbHNvIGF0dGFjaCBjb250cm9sbGVycyB0byB0aGUgRE9NIGJ5IGRlY2xhcmluZyBpdCBpbiBhIHJvdXRlIGRlZmluaXRpb25cbiAqIHZpYSB0aGUge0BsaW5rIG5nUm91dGUuJHJvdXRlICRyb3V0ZX0gc2VydmljZS4gQSBjb21tb24gbWlzdGFrZSBpcyB0byBkZWNsYXJlIHRoZSBjb250cm9sbGVyXG4gKiBhZ2FpbiB1c2luZyBgbmctY29udHJvbGxlcmAgaW4gdGhlIHRlbXBsYXRlIGl0c2VsZi4gIFRoaXMgd2lsbCBjYXVzZSB0aGUgY29udHJvbGxlciB0byBiZSBhdHRhY2hlZFxuICogYW5kIGV4ZWN1dGVkIHR3aWNlLlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHNjb3BlXG4gKiBAcHJpb3JpdHkgNTAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ29udHJvbGxlciBOYW1lIG9mIGEgY29uc3RydWN0b3IgZnVuY3Rpb24gcmVnaXN0ZXJlZCB3aXRoIHRoZSBjdXJyZW50XG4gKiB7QGxpbmsgbmcuJGNvbnRyb2xsZXJQcm92aWRlciAkY29udHJvbGxlclByb3ZpZGVyfSBvciBhbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufVxuICogdGhhdCBvbiB0aGUgY3VycmVudCBzY29wZSBldmFsdWF0ZXMgdG8gYSBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAqXG4gKiBUaGUgY29udHJvbGxlciBpbnN0YW5jZSBjYW4gYmUgcHVibGlzaGVkIGludG8gYSBzY29wZSBwcm9wZXJ0eSBieSBzcGVjaWZ5aW5nXG4gKiBgbmctY29udHJvbGxlcj1cImFzIHByb3BlcnR5TmFtZVwiYC5cbiAqXG4gKiBJZiB0aGUgY3VycmVudCBgJGNvbnRyb2xsZXJQcm92aWRlcmAgaXMgY29uZmlndXJlZCB0byB1c2UgZ2xvYmFscyAodmlhXG4gKiB7QGxpbmsgbmcuJGNvbnRyb2xsZXJQcm92aWRlciNhbGxvd0dsb2JhbHMgYCRjb250cm9sbGVyUHJvdmlkZXIuYWxsb3dHbG9iYWxzKClgIH0pLCB0aGlzIG1heVxuICogYWxzbyBiZSB0aGUgbmFtZSBvZiBhIGdsb2JhbGx5IGFjY2Vzc2libGUgY29uc3RydWN0b3IgZnVuY3Rpb24gKG5vdCByZWNvbW1lbmRlZCkuXG4gKlxuICogQGV4YW1wbGVcbiAqIEhlcmUgaXMgYSBzaW1wbGUgZm9ybSBmb3IgZWRpdGluZyB1c2VyIGNvbnRhY3QgaW5mb3JtYXRpb24uIEFkZGluZywgcmVtb3ZpbmcsIGNsZWFyaW5nLCBhbmRcbiAqIGdyZWV0aW5nIGFyZSBtZXRob2RzIGRlY2xhcmVkIG9uIHRoZSBjb250cm9sbGVyIChzZWUgc291cmNlIHRhYikuIFRoZXNlIG1ldGhvZHMgY2FuXG4gKiBlYXNpbHkgYmUgY2FsbGVkIGZyb20gdGhlIGFuZ3VsYXIgbWFya3VwLiBBbnkgY2hhbmdlcyB0byB0aGUgZGF0YSBhcmUgYXV0b21hdGljYWxseSByZWZsZWN0ZWRcbiAqIGluIHRoZSBWaWV3IHdpdGhvdXQgdGhlIG5lZWQgZm9yIGEgbWFudWFsIHVwZGF0ZS5cbiAqXG4gKiBUd28gZGlmZmVyZW50IGRlY2xhcmF0aW9uIHN0eWxlcyBhcmUgaW5jbHVkZWQgYmVsb3c6XG4gKlxuICogKiBvbmUgYmluZHMgbWV0aG9kcyBhbmQgcHJvcGVydGllcyBkaXJlY3RseSBvbnRvIHRoZSBjb250cm9sbGVyIHVzaW5nIGB0aGlzYDpcbiAqIGBuZy1jb250cm9sbGVyPVwiU2V0dGluZ3NDb250cm9sbGVyMSBhcyBzZXR0aW5nc1wiYFxuICogKiBvbmUgaW5qZWN0cyBgJHNjb3BlYCBpbnRvIHRoZSBjb250cm9sbGVyOlxuICogYG5nLWNvbnRyb2xsZXI9XCJTZXR0aW5nc0NvbnRyb2xsZXIyXCJgXG4gKlxuICogVGhlIHNlY29uZCBvcHRpb24gaXMgbW9yZSBjb21tb24gaW4gdGhlIEFuZ3VsYXIgY29tbXVuaXR5LCBhbmQgaXMgZ2VuZXJhbGx5IHVzZWQgaW4gYm9pbGVycGxhdGVzXG4gKiBhbmQgaW4gdGhpcyBndWlkZS4gSG93ZXZlciwgdGhlcmUgYXJlIGFkdmFudGFnZXMgdG8gYmluZGluZyBwcm9wZXJ0aWVzIGRpcmVjdGx5IHRvIHRoZSBjb250cm9sbGVyXG4gKiBhbmQgYXZvaWRpbmcgc2NvcGUuXG4gKlxuICogKiBVc2luZyBgY29udHJvbGxlciBhc2AgbWFrZXMgaXQgb2J2aW91cyB3aGljaCBjb250cm9sbGVyIHlvdSBhcmUgYWNjZXNzaW5nIGluIHRoZSB0ZW1wbGF0ZSB3aGVuXG4gKiBtdWx0aXBsZSBjb250cm9sbGVycyBhcHBseSB0byBhbiBlbGVtZW50LlxuICogKiBJZiB5b3UgYXJlIHdyaXRpbmcgeW91ciBjb250cm9sbGVycyBhcyBjbGFzc2VzIHlvdSBoYXZlIGVhc2llciBhY2Nlc3MgdG8gdGhlIHByb3BlcnRpZXMgYW5kXG4gKiBtZXRob2RzLCB3aGljaCB3aWxsIGFwcGVhciBvbiB0aGUgc2NvcGUsIGZyb20gaW5zaWRlIHRoZSBjb250cm9sbGVyIGNvZGUuXG4gKiAqIFNpbmNlIHRoZXJlIGlzIGFsd2F5cyBhIGAuYCBpbiB0aGUgYmluZGluZ3MsIHlvdSBkb24ndCBoYXZlIHRvIHdvcnJ5IGFib3V0IHByb3RvdHlwYWxcbiAqIGluaGVyaXRhbmNlIG1hc2tpbmcgcHJpbWl0aXZlcy5cbiAqXG4gKiBUaGlzIGV4YW1wbGUgZGVtb25zdHJhdGVzIHRoZSBgY29udHJvbGxlciBhc2Agc3ludGF4LlxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ0NvbnRyb2xsZXJBc1wiIG1vZHVsZT1cImNvbnRyb2xsZXJBc0V4YW1wbGVcIj5cbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqICAgIDxkaXYgaWQ9XCJjdHJsLWFzLWV4bXBsXCIgbmctY29udHJvbGxlcj1cIlNldHRpbmdzQ29udHJvbGxlcjEgYXMgc2V0dGluZ3NcIj5cbiAqICAgICAgTmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJzZXR0aW5ncy5uYW1lXCIvPlxuICogICAgICBbIDxhIGhyZWY9XCJcIiBuZy1jbGljaz1cInNldHRpbmdzLmdyZWV0KClcIj5ncmVldDwvYT4gXTxici8+XG4gKiAgICAgIENvbnRhY3Q6XG4gKiAgICAgIDx1bD5cbiAqICAgICAgICA8bGkgbmctcmVwZWF0PVwiY29udGFjdCBpbiBzZXR0aW5ncy5jb250YWN0c1wiPlxuICogICAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cImNvbnRhY3QudHlwZVwiPlxuICogICAgICAgICAgICAgPG9wdGlvbj5waG9uZTwvb3B0aW9uPlxuICogICAgICAgICAgICAgPG9wdGlvbj5lbWFpbDwvb3B0aW9uPlxuICogICAgICAgICAgPC9zZWxlY3Q+XG4gKiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImNvbnRhY3QudmFsdWVcIi8+XG4gKiAgICAgICAgICBbIDxhIGhyZWY9XCJcIiBuZy1jbGljaz1cInNldHRpbmdzLmNsZWFyQ29udGFjdChjb250YWN0KVwiPmNsZWFyPC9hPlxuICogICAgICAgICAgfCA8YSBocmVmPVwiXCIgbmctY2xpY2s9XCJzZXR0aW5ncy5yZW1vdmVDb250YWN0KGNvbnRhY3QpXCI+WDwvYT4gXVxuICogICAgICAgIDwvbGk+XG4gKiAgICAgICAgPGxpPlsgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwic2V0dGluZ3MuYWRkQ29udGFjdCgpXCI+YWRkPC9hPiBdPC9saT5cbiAqICAgICA8L3VsPlxuICogICAgPC9kaXY+XG4gKiAgIDwvZmlsZT5cbiAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICogICAgYW5ndWxhci5tb2R1bGUoJ2NvbnRyb2xsZXJBc0V4YW1wbGUnLCBbXSlcbiAqICAgICAgLmNvbnRyb2xsZXIoJ1NldHRpbmdzQ29udHJvbGxlcjEnLCBTZXR0aW5nc0NvbnRyb2xsZXIxKTtcbiAqXG4gKiAgICBmdW5jdGlvbiBTZXR0aW5nc0NvbnRyb2xsZXIxKCkge1xuICogICAgICB0aGlzLm5hbWUgPSBcIkpvaG4gU21pdGhcIjtcbiAqICAgICAgdGhpcy5jb250YWN0cyA9IFtcbiAqICAgICAgICB7dHlwZTogJ3Bob25lJywgdmFsdWU6ICc0MDggNTU1IDEyMTInfSxcbiAqICAgICAgICB7dHlwZTogJ2VtYWlsJywgdmFsdWU6ICdqb2huLnNtaXRoQGV4YW1wbGUub3JnJ30gXTtcbiAqICAgIH1cbiAqXG4gKiAgICBTZXR0aW5nc0NvbnRyb2xsZXIxLnByb3RvdHlwZS5ncmVldCA9IGZ1bmN0aW9uKCkge1xuICogICAgICBhbGVydCh0aGlzLm5hbWUpO1xuICogICAgfTtcbiAqXG4gKiAgICBTZXR0aW5nc0NvbnRyb2xsZXIxLnByb3RvdHlwZS5hZGRDb250YWN0ID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgIHRoaXMuY29udGFjdHMucHVzaCh7dHlwZTogJ2VtYWlsJywgdmFsdWU6ICd5b3VybmFtZUBleGFtcGxlLm9yZyd9KTtcbiAqICAgIH07XG4gKlxuICogICAgU2V0dGluZ3NDb250cm9sbGVyMS5wcm90b3R5cGUucmVtb3ZlQ29udGFjdCA9IGZ1bmN0aW9uKGNvbnRhY3RUb1JlbW92ZSkge1xuICogICAgIHZhciBpbmRleCA9IHRoaXMuY29udGFjdHMuaW5kZXhPZihjb250YWN0VG9SZW1vdmUpO1xuICogICAgICB0aGlzLmNvbnRhY3RzLnNwbGljZShpbmRleCwgMSk7XG4gKiAgICB9O1xuICpcbiAqICAgIFNldHRpbmdzQ29udHJvbGxlcjEucHJvdG90eXBlLmNsZWFyQ29udGFjdCA9IGZ1bmN0aW9uKGNvbnRhY3QpIHtcbiAqICAgICAgY29udGFjdC50eXBlID0gJ3Bob25lJztcbiAqICAgICAgY29udGFjdC52YWx1ZSA9ICcnO1xuICogICAgfTtcbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gKiAgICAgaXQoJ3Nob3VsZCBjaGVjayBjb250cm9sbGVyIGFzJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICB2YXIgY29udGFpbmVyID0gZWxlbWVudChieS5pZCgnY3RybC1hcy1leG1wbCcpKTtcbiAqICAgICAgICAgZXhwZWN0KGNvbnRhaW5lci5lbGVtZW50KGJ5Lm1vZGVsKCdzZXR0aW5ncy5uYW1lJykpXG4gKiAgICAgICAgICAgLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnSm9obiBTbWl0aCcpO1xuICpcbiAqICAgICAgIHZhciBmaXJzdFJlcGVhdCA9XG4gKiAgICAgICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkucmVwZWF0ZXIoJ2NvbnRhY3QgaW4gc2V0dGluZ3MuY29udGFjdHMnKS5yb3coMCkpO1xuICogICAgICAgdmFyIHNlY29uZFJlcGVhdCA9XG4gKiAgICAgICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkucmVwZWF0ZXIoJ2NvbnRhY3QgaW4gc2V0dGluZ3MuY29udGFjdHMnKS5yb3coMSkpO1xuICpcbiAqICAgICAgIGV4cGVjdChmaXJzdFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgICAudG9CZSgnNDA4IDU1NSAxMjEyJyk7XG4gKlxuICogICAgICAgZXhwZWN0KHNlY29uZFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgICAudG9CZSgnam9obi5zbWl0aEBleGFtcGxlLm9yZycpO1xuICpcbiAqICAgICAgIGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkubGlua1RleHQoJ2NsZWFyJykpLmNsaWNrKCk7XG4gKlxuICogICAgICAgZXhwZWN0KGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxuICogICAgICAgICAgIC50b0JlKCcnKTtcbiAqXG4gKiAgICAgICBjb250YWluZXIuZWxlbWVudChieS5saW5rVGV4dCgnYWRkJykpLmNsaWNrKCk7XG4gKlxuICogICAgICAgZXhwZWN0KGNvbnRhaW5lci5lbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIHNldHRpbmdzLmNvbnRhY3RzJykucm93KDIpKVxuICogICAgICAgICAgIC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpXG4gKiAgICAgICAgICAgLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgICAudG9CZSgneW91cm5hbWVAZXhhbXBsZS5vcmcnKTtcbiAqICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIFRoaXMgZXhhbXBsZSBkZW1vbnN0cmF0ZXMgdGhlIFwiYXR0YWNoIHRvIGAkc2NvcGVgXCIgc3R5bGUgb2YgY29udHJvbGxlci5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdDb250cm9sbGVyXCIgbW9kdWxlPVwiY29udHJvbGxlckV4YW1wbGVcIj5cbiAqICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICA8ZGl2IGlkPVwiY3RybC1leG1wbFwiIG5nLWNvbnRyb2xsZXI9XCJTZXR0aW5nc0NvbnRyb2xsZXIyXCI+XG4gKiAgICAgTmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJuYW1lXCIvPlxuICogICAgIFsgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwiZ3JlZXQoKVwiPmdyZWV0PC9hPiBdPGJyLz5cbiAqICAgICBDb250YWN0OlxuICogICAgIDx1bD5cbiAqICAgICAgIDxsaSBuZy1yZXBlYXQ9XCJjb250YWN0IGluIGNvbnRhY3RzXCI+XG4gKiAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJjb250YWN0LnR5cGVcIj5cbiAqICAgICAgICAgICAgPG9wdGlvbj5waG9uZTwvb3B0aW9uPlxuICogICAgICAgICAgICA8b3B0aW9uPmVtYWlsPC9vcHRpb24+XG4gKiAgICAgICAgIDwvc2VsZWN0PlxuICogICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImNvbnRhY3QudmFsdWVcIi8+XG4gKiAgICAgICAgIFsgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwiY2xlYXJDb250YWN0KGNvbnRhY3QpXCI+Y2xlYXI8L2E+XG4gKiAgICAgICAgIHwgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwicmVtb3ZlQ29udGFjdChjb250YWN0KVwiPlg8L2E+IF1cbiAqICAgICAgIDwvbGk+XG4gKiAgICAgICA8bGk+WyA8YSBocmVmPVwiXCIgbmctY2xpY2s9XCJhZGRDb250YWN0KClcIj5hZGQ8L2E+IF08L2xpPlxuICogICAgPC91bD5cbiAqICAgPC9kaXY+XG4gKiAgPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAqICAgYW5ndWxhci5tb2R1bGUoJ2NvbnRyb2xsZXJFeGFtcGxlJywgW10pXG4gKiAgICAgLmNvbnRyb2xsZXIoJ1NldHRpbmdzQ29udHJvbGxlcjInLCBbJyRzY29wZScsIFNldHRpbmdzQ29udHJvbGxlcjJdKTtcbiAqXG4gKiAgIGZ1bmN0aW9uIFNldHRpbmdzQ29udHJvbGxlcjIoJHNjb3BlKSB7XG4gKiAgICAgJHNjb3BlLm5hbWUgPSBcIkpvaG4gU21pdGhcIjtcbiAqICAgICAkc2NvcGUuY29udGFjdHMgPSBbXG4gKiAgICAgICB7dHlwZToncGhvbmUnLCB2YWx1ZTonNDA4IDU1NSAxMjEyJ30sXG4gKiAgICAgICB7dHlwZTonZW1haWwnLCB2YWx1ZTonam9obi5zbWl0aEBleGFtcGxlLm9yZyd9IF07XG4gKlxuICogICAgICRzY29wZS5ncmVldCA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgYWxlcnQoJHNjb3BlLm5hbWUpO1xuICogICAgIH07XG4gKlxuICogICAgICRzY29wZS5hZGRDb250YWN0ID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgICAkc2NvcGUuY29udGFjdHMucHVzaCh7dHlwZTonZW1haWwnLCB2YWx1ZToneW91cm5hbWVAZXhhbXBsZS5vcmcnfSk7XG4gKiAgICAgfTtcbiAqXG4gKiAgICAgJHNjb3BlLnJlbW92ZUNvbnRhY3QgPSBmdW5jdGlvbihjb250YWN0VG9SZW1vdmUpIHtcbiAqICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5jb250YWN0cy5pbmRleE9mKGNvbnRhY3RUb1JlbW92ZSk7XG4gKiAgICAgICAkc2NvcGUuY29udGFjdHMuc3BsaWNlKGluZGV4LCAxKTtcbiAqICAgICB9O1xuICpcbiAqICAgICAkc2NvcGUuY2xlYXJDb250YWN0ID0gZnVuY3Rpb24oY29udGFjdCkge1xuICogICAgICAgY29udGFjdC50eXBlID0gJ3Bob25lJztcbiAqICAgICAgIGNvbnRhY3QudmFsdWUgPSAnJztcbiAqICAgICB9O1xuICogICB9XG4gKiAgPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgIGl0KCdzaG91bGQgY2hlY2sgY29udHJvbGxlcicsIGZ1bmN0aW9uKCkge1xuICogICAgICB2YXIgY29udGFpbmVyID0gZWxlbWVudChieS5pZCgnY3RybC1leG1wbCcpKTtcbiAqXG4gKiAgICAgIGV4cGVjdChjb250YWluZXIuZWxlbWVudChieS5tb2RlbCgnbmFtZScpKVxuICogICAgICAgICAgLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnSm9obiBTbWl0aCcpO1xuICpcbiAqICAgICAgdmFyIGZpcnN0UmVwZWF0ID1cbiAqICAgICAgICAgIGNvbnRhaW5lci5lbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIGNvbnRhY3RzJykucm93KDApKTtcbiAqICAgICAgdmFyIHNlY29uZFJlcGVhdCA9XG4gKiAgICAgICAgICBjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBjb250YWN0cycpLnJvdygxKSk7XG4gKlxuICogICAgICBleHBlY3QoZmlyc3RSZXBlYXQuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXG4gKiAgICAgICAgICAudG9CZSgnNDA4IDU1NSAxMjEyJyk7XG4gKiAgICAgIGV4cGVjdChzZWNvbmRSZXBlYXQuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXG4gKiAgICAgICAgICAudG9CZSgnam9obi5zbWl0aEBleGFtcGxlLm9yZycpO1xuICpcbiAqICAgICAgZmlyc3RSZXBlYXQuZWxlbWVudChieS5saW5rVGV4dCgnY2xlYXInKSkuY2xpY2soKTtcbiAqXG4gKiAgICAgIGV4cGVjdChmaXJzdFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgIC50b0JlKCcnKTtcbiAqXG4gKiAgICAgIGNvbnRhaW5lci5lbGVtZW50KGJ5LmxpbmtUZXh0KCdhZGQnKSkuY2xpY2soKTtcbiAqXG4gKiAgICAgIGV4cGVjdChjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBjb250YWN0cycpLnJvdygyKSlcbiAqICAgICAgICAgIC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpXG4gKiAgICAgICAgICAuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxuICogICAgICAgICAgLnRvQmUoJ3lvdXJuYW1lQGV4YW1wbGUub3JnJyk7XG4gKiAgICB9KTtcbiAqICA8L2ZpbGU+XG4gKjwvZXhhbXBsZT5cblxuICovXG52YXIgbmdDb250cm9sbGVyRGlyZWN0aXZlID0gW2Z1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgc2NvcGU6IHRydWUsXG4gICAgY29udHJvbGxlcjogJ0AnLFxuICAgIHByaW9yaXR5OiA1MDBcbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ3NwXG4gKlxuICogQGVsZW1lbnQgaHRtbFxuICogQGRlc2NyaXB0aW9uXG4gKiBFbmFibGVzIFtDU1AgKENvbnRlbnQgU2VjdXJpdHkgUG9saWN5KV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vU2VjdXJpdHkvQ1NQKSBzdXBwb3J0LlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IHdoZW4gZGV2ZWxvcGluZyB0aGluZ3MgbGlrZSBHb29nbGUgQ2hyb21lIEV4dGVuc2lvbnMgb3IgVW5pdmVyc2FsIFdpbmRvd3MgQXBwcy5cbiAqXG4gKiBDU1AgZm9yYmlkcyBhcHBzIHRvIHVzZSBgZXZhbGAgb3IgYEZ1bmN0aW9uKHN0cmluZylgIGdlbmVyYXRlZCBmdW5jdGlvbnMgKGFtb25nIG90aGVyIHRoaW5ncykuXG4gKiBGb3IgQW5ndWxhciB0byBiZSBDU1AgY29tcGF0aWJsZSB0aGVyZSBhcmUgb25seSB0d28gdGhpbmdzIHRoYXQgd2UgbmVlZCB0byBkbyBkaWZmZXJlbnRseTpcbiAqXG4gKiAtIGRvbid0IHVzZSBgRnVuY3Rpb25gIGNvbnN0cnVjdG9yIHRvIGdlbmVyYXRlIG9wdGltaXplZCB2YWx1ZSBnZXR0ZXJzXG4gKiAtIGRvbid0IGluamVjdCBjdXN0b20gc3R5bGVzaGVldCBpbnRvIHRoZSBkb2N1bWVudFxuICpcbiAqIEFuZ3VsYXJKUyB1c2VzIGBGdW5jdGlvbihzdHJpbmcpYCBnZW5lcmF0ZWQgZnVuY3Rpb25zIGFzIGEgc3BlZWQgb3B0aW1pemF0aW9uLiBBcHBseWluZyB0aGUgYG5nQ3NwYFxuICogZGlyZWN0aXZlIHdpbGwgY2F1c2UgQW5ndWxhciB0byB1c2UgQ1NQIGNvbXBhdGliaWxpdHkgbW9kZS4gV2hlbiB0aGlzIG1vZGUgaXMgb24gQW5ndWxhckpTIHdpbGxcbiAqIGV2YWx1YXRlIGFsbCBleHByZXNzaW9ucyB1cCB0byAzMCUgc2xvd2VyIHRoYW4gaW4gbm9uLUNTUCBtb2RlLCBidXQgbm8gc2VjdXJpdHkgdmlvbGF0aW9ucyB3aWxsXG4gKiBiZSByYWlzZWQuXG4gKlxuICogQ1NQIGZvcmJpZHMgSmF2YVNjcmlwdCB0byBpbmxpbmUgc3R5bGVzaGVldCBydWxlcy4gSW4gbm9uIENTUCBtb2RlIEFuZ3VsYXIgYXV0b21hdGljYWxseVxuICogaW5jbHVkZXMgc29tZSBDU1MgcnVsZXMgKGUuZy4ge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0Nsb2FrIG5nQ2xvYWt9KS5cbiAqIFRvIG1ha2UgdGhvc2UgZGlyZWN0aXZlcyB3b3JrIGluIENTUCBtb2RlLCBpbmNsdWRlIHRoZSBgYW5ndWxhci1jc3AuY3NzYCBtYW51YWxseS5cbiAqXG4gKiBBbmd1bGFyIHRyaWVzIHRvIGF1dG9kZXRlY3QgaWYgQ1NQIGlzIGFjdGl2ZSBhbmQgYXV0b21hdGljYWxseSB0dXJuIG9uIHRoZSBDU1Atc2FmZSBtb2RlLiBUaGlzXG4gKiBhdXRvZGV0ZWN0aW9uIGhvd2V2ZXIgdHJpZ2dlcnMgYSBDU1AgZXJyb3IgdG8gYmUgbG9nZ2VkIGluIHRoZSBjb25zb2xlOlxuICpcbiAqIGBgYFxuICogUmVmdXNlZCB0byBldmFsdWF0ZSBhIHN0cmluZyBhcyBKYXZhU2NyaXB0IGJlY2F1c2UgJ3Vuc2FmZS1ldmFsJyBpcyBub3QgYW4gYWxsb3dlZCBzb3VyY2Ugb2ZcbiAqIHNjcmlwdCBpbiB0aGUgZm9sbG93aW5nIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGRpcmVjdGl2ZTogXCJkZWZhdWx0LXNyYyAnc2VsZidcIi4gTm90ZSB0aGF0XG4gKiAnc2NyaXB0LXNyYycgd2FzIG5vdCBleHBsaWNpdGx5IHNldCwgc28gJ2RlZmF1bHQtc3JjJyBpcyB1c2VkIGFzIGEgZmFsbGJhY2suXG4gKiBgYGBcbiAqXG4gKiBUaGlzIGVycm9yIGlzIGhhcm1sZXNzIGJ1dCBhbm5veWluZy4gVG8gcHJldmVudCB0aGUgZXJyb3IgZnJvbSBzaG93aW5nIHVwLCBwdXQgdGhlIGBuZ0NzcGBcbiAqIGRpcmVjdGl2ZSBvbiB0aGUgcm9vdCBlbGVtZW50IG9mIHRoZSBhcHBsaWNhdGlvbiBvciBvbiB0aGUgYGFuZ3VsYXIuanNgIHNjcmlwdCB0YWcsIHdoaWNoZXZlclxuICogYXBwZWFycyBmaXJzdCBpbiB0aGUgaHRtbCBkb2N1bWVudC5cbiAqXG4gKiAqTm90ZTogVGhpcyBkaXJlY3RpdmUgaXMgb25seSBhdmFpbGFibGUgaW4gdGhlIGBuZy1jc3BgIGFuZCBgZGF0YS1uZy1jc3BgIGF0dHJpYnV0ZSBmb3JtLipcbiAqXG4gKiBAZXhhbXBsZVxuICogVGhpcyBleGFtcGxlIHNob3dzIGhvdyB0byBhcHBseSB0aGUgYG5nQ3NwYCBkaXJlY3RpdmUgdG8gdGhlIGBodG1sYCB0YWcuXG4gICBgYGBodG1sXG4gICAgIDwhZG9jdHlwZSBodG1sPlxuICAgICA8aHRtbCBuZy1hcHAgbmctY3NwPlxuICAgICAuLi5cbiAgICAgLi4uXG4gICAgIDwvaHRtbD5cbiAgIGBgYFxuICAqIEBleGFtcGxlXG4gICAgICAvLyBOb3RlOiB0aGUgc3VmZml4IGAuY3NwYCBpbiB0aGUgZXhhbXBsZSBuYW1lIHRyaWdnZXJzXG4gICAgICAvLyBjc3AgbW9kZSBpbiBvdXIgaHR0cCBzZXJ2ZXIhXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwiZXhhbXBsZS5jc3BcIiBtb2R1bGU9XCJjc3BFeGFtcGxlXCIgbmctY3NwPVwidHJ1ZVwiPlxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIk1haW5Db250cm9sbGVyIGFzIGN0cmxcIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjdHJsLmluYygpXCIgaWQ9XCJpbmNcIj5JbmNyZW1lbnQ8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJjb3VudGVyXCI+XG4gICAgICAgICAgICAgICAge3tjdHJsLmNvdW50ZXJ9fVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImN0cmwuZXZpbCgpXCIgaWQ9XCJldmlsXCI+RXZpbDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8c3BhbiBpZD1cImV2aWxFcnJvclwiPlxuICAgICAgICAgICAgICAgIHt7Y3RybC5ldmlsRXJyb3J9fVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9maWxlPlxuICAgICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdjc3BFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ01haW5Db250cm9sbGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudGVyID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLmluYyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5jb3VudGVyKys7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2aWwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIC8vIGpzaGludCBldmlsOnRydWVcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGV2YWwoJzErMicpO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2aWxFcnJvciA9IGUubWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgICAgdmFyIHV0aWwsIHdlYmRyaXZlcjtcblxuICAgICAgICAgIHZhciBpbmNCdG4gPSBlbGVtZW50KGJ5LmlkKCdpbmMnKSk7XG4gICAgICAgICAgdmFyIGNvdW50ZXIgPSBlbGVtZW50KGJ5LmlkKCdjb3VudGVyJykpO1xuICAgICAgICAgIHZhciBldmlsQnRuID0gZWxlbWVudChieS5pZCgnZXZpbCcpKTtcbiAgICAgICAgICB2YXIgZXZpbEVycm9yID0gZWxlbWVudChieS5pZCgnZXZpbEVycm9yJykpO1xuXG4gICAgICAgICAgZnVuY3Rpb24gZ2V0QW5kQ2xlYXJTZXZlcmVFcnJvcnMoKSB7XG4gICAgICAgICAgICByZXR1cm4gYnJvd3Nlci5tYW5hZ2UoKS5sb2dzKCkuZ2V0KCdicm93c2VyJykudGhlbihmdW5jdGlvbihicm93c2VyTG9nKSB7XG4gICAgICAgICAgICAgIHJldHVybiBicm93c2VyTG9nLmZpbHRlcihmdW5jdGlvbihsb2dFbnRyeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2dFbnRyeS5sZXZlbC52YWx1ZSA+IHdlYmRyaXZlci5sb2dnaW5nLkxldmVsLldBUk5JTkcudmFsdWU7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gY2xlYXJFcnJvcnMoKSB7XG4gICAgICAgICAgICBnZXRBbmRDbGVhclNldmVyZUVycm9ycygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIGV4cGVjdE5vRXJyb3JzKCkge1xuICAgICAgICAgICAgZ2V0QW5kQ2xlYXJTZXZlcmVFcnJvcnMoKS50aGVuKGZ1bmN0aW9uKGZpbHRlcmVkTG9nKSB7XG4gICAgICAgICAgICAgIGV4cGVjdChmaWx0ZXJlZExvZy5sZW5ndGgpLnRvRXF1YWwoMCk7XG4gICAgICAgICAgICAgIGlmIChmaWx0ZXJlZExvZy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYnJvd3NlciBjb25zb2xlIGVycm9yczogJyArIHV0aWwuaW5zcGVjdChmaWx0ZXJlZExvZykpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiBleHBlY3RFcnJvcihyZWdleCkge1xuICAgICAgICAgICAgZ2V0QW5kQ2xlYXJTZXZlcmVFcnJvcnMoKS50aGVuKGZ1bmN0aW9uKGZpbHRlcmVkTG9nKSB7XG4gICAgICAgICAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICBmaWx0ZXJlZExvZy5mb3JFYWNoKGZ1bmN0aW9uKGxvZykge1xuICAgICAgICAgICAgICAgIGlmIChsb2cubWVzc2FnZS5tYXRjaChyZWdleCkpIHtcbiAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdleHBlY3RlZCBhbiBlcnJvciB0aGF0IG1hdGNoZXMgJyArIHJlZ2V4KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYmVmb3JlRWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHV0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG4gICAgICAgICAgICB3ZWJkcml2ZXIgPSByZXF1aXJlKCdwcm90cmFjdG9yL25vZGVfbW9kdWxlcy9zZWxlbml1bS13ZWJkcml2ZXInKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIEZvciBub3csIHdlIG9ubHkgdGVzdCBvbiBDaHJvbWUsXG4gICAgICAgICAgLy8gYXMgU2FmYXJpIGRvZXMgbm90IGxvYWQgdGhlIHBhZ2Ugd2l0aCBQcm90cmFjdG9yJ3MgaW5qZWN0ZWQgc2NyaXB0cyxcbiAgICAgICAgICAvLyBhbmQgRmlyZWZveCB3ZWJkcml2ZXIgYWx3YXlzIGRpc2FibGVzIGNvbnRlbnQgc2VjdXJpdHkgcG9saWN5ICgjNjM1OClcbiAgICAgICAgICBpZiAoYnJvd3Nlci5wYXJhbXMuYnJvd3NlciAhPT0gJ2Nocm9tZScpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIG5vdCByZXBvcnQgZXJyb3JzIHdoZW4gdGhlIHBhZ2UgaXMgbG9hZGVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBjbGVhciBlcnJvcnMgc28gd2UgYXJlIG5vdCBkZXBlbmRlbnQgb24gcHJldmlvdXMgdGVzdHNcbiAgICAgICAgICAgIGNsZWFyRXJyb3JzKCk7XG4gICAgICAgICAgICAvLyBOZWVkIHRvIHJlbG9hZCB0aGUgcGFnZSBhcyB0aGUgcGFnZSBpcyBhbHJlYWR5IGxvYWRlZCB3aGVuXG4gICAgICAgICAgICAvLyB3ZSBjb21lIGhlcmVcbiAgICAgICAgICAgIGJyb3dzZXIuZHJpdmVyLmdldEN1cnJlbnRVcmwoKS50aGVuKGZ1bmN0aW9uKHVybCkge1xuICAgICAgICAgICAgICBicm93c2VyLmdldCh1cmwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBleHBlY3ROb0Vycm9ycygpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBldmFsdWF0ZSBleHByZXNzaW9ucycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0VxdWFsKCcwJyk7XG4gICAgICAgICAgICBpbmNCdG4uY2xpY2soKTtcbiAgICAgICAgICAgIGV4cGVjdChjb3VudGVyLmdldFRleHQoKSkudG9FcXVhbCgnMScpO1xuICAgICAgICAgICAgZXhwZWN0Tm9FcnJvcnMoKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgdGhyb3cgYW5kIHJlcG9ydCBhbiBlcnJvciB3aGVuIHVzaW5nIFwiZXZhbFwiJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBldmlsQnRuLmNsaWNrKCk7XG4gICAgICAgICAgICBleHBlY3QoZXZpbEVycm9yLmdldFRleHQoKSkudG9NYXRjaCgvQ29udGVudCBTZWN1cml0eSBQb2xpY3kvKTtcbiAgICAgICAgICAgIGV4cGVjdEVycm9yKC9Db250ZW50IFNlY3VyaXR5IFBvbGljeS8pO1xuICAgICAgICAgIH0pO1xuICAgICAgICA8L2ZpbGU+XG4gICAgICA8L2V4YW1wbGU+XG4gICovXG5cbi8vIG5nQ3NwIGlzIG5vdCBpbXBsZW1lbnRlZCBhcyBhIHByb3BlciBkaXJlY3RpdmUgYW55IG1vcmUsIGJlY2F1c2Ugd2UgbmVlZCBpdCBiZSBwcm9jZXNzZWQgd2hpbGUgd2Vcbi8vIGJvb3RzdHJhcCB0aGUgc3lzdGVtIChiZWZvcmUgJHBhcnNlIGlzIGluc3RhbnRpYXRlZCksIGZvciB0aGlzIHJlYXNvbiB3ZSBqdXN0IGhhdmVcbi8vIHRoZSBjc3AuaXNBY3RpdmUoKSBmbiB0aGF0IGxvb2tzIGZvciBuZy1jc3AgYXR0cmlidXRlIGFueXdoZXJlIGluIHRoZSBjdXJyZW50IGRvY1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ2xpY2tcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBuZ0NsaWNrIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIHNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIHdoZW5cbiAqIGFuIGVsZW1lbnQgaXMgY2xpY2tlZC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2xpY2sge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogY2xpY2suICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudFxuICAgICAgPC9idXR0b24+XG4gICAgICA8c3Bhbj5cbiAgICAgICAgY291bnQ6IHt7Y291bnR9fVxuICAgICAgPC9zcGFuPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWNsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdjb3VudCcpKS5nZXRUZXh0KCkpLnRvTWF0Y2goJzAnKTtcbiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCdidXR0b24nKSkuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2NvdW50JykpLmdldFRleHQoKSkudG9NYXRjaCgnMScpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbi8qXG4gKiBBIGNvbGxlY3Rpb24gb2YgZGlyZWN0aXZlcyB0aGF0IGFsbG93cyBjcmVhdGlvbiBvZiBjdXN0b20gZXZlbnQgaGFuZGxlcnMgdGhhdCBhcmUgZGVmaW5lZCBhc1xuICogYW5ndWxhciBleHByZXNzaW9ucyBhbmQgYXJlIGNvbXBpbGVkIGFuZCBleGVjdXRlZCB3aXRoaW4gdGhlIGN1cnJlbnQgc2NvcGUuXG4gKi9cbnZhciBuZ0V2ZW50RGlyZWN0aXZlcyA9IHt9O1xuXG4vLyBGb3IgZXZlbnRzIHRoYXQgbWlnaHQgZmlyZSBzeW5jaHJvbm91c2x5IGR1cmluZyBET00gbWFuaXB1bGF0aW9uXG4vLyB3ZSBuZWVkIHRvIGV4ZWN1dGUgdGhlaXIgZXZlbnQgaGFuZGxlcnMgYXN5bmNocm9ub3VzbHkgdXNpbmcgJGV2YWxBc3luYyxcbi8vIHNvIHRoYXQgdGhleSBhcmUgbm90IGV4ZWN1dGVkIGluIGFuIGluY29uc2lzdGVudCBzdGF0ZS5cbnZhciBmb3JjZUFzeW5jRXZlbnRzID0ge1xuICAnYmx1cic6IHRydWUsXG4gICdmb2N1cyc6IHRydWVcbn07XG5mb3JFYWNoKFxuICAnY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlbW92ZSBtb3VzZWVudGVyIG1vdXNlbGVhdmUga2V5ZG93biBrZXl1cCBrZXlwcmVzcyBzdWJtaXQgZm9jdXMgYmx1ciBjb3B5IGN1dCBwYXN0ZScuc3BsaXQoJyAnKSxcbiAgZnVuY3Rpb24oZXZlbnROYW1lKSB7XG4gICAgdmFyIGRpcmVjdGl2ZU5hbWUgPSBkaXJlY3RpdmVOb3JtYWxpemUoJ25nLScgKyBldmVudE5hbWUpO1xuICAgIG5nRXZlbnREaXJlY3RpdmVzW2RpcmVjdGl2ZU5hbWVdID0gWyckcGFyc2UnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uKCRwYXJzZSwgJHJvb3RTY29wZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgY29tcGlsZTogZnVuY3Rpb24oJGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgICB2YXIgZm4gPSAkcGFyc2UoYXR0cltkaXJlY3RpdmVOYW1lXSk7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nRXZlbnRIYW5kbGVyKHNjb3BlLCBlbGVtZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50Lm9uKGV2ZW50TmFtZSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZm4oc2NvcGUsIHskZXZlbnQ6ZXZlbnR9KTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgaWYgKGZvcmNlQXN5bmNFdmVudHNbZXZlbnROYW1lXSAmJiAkcm9vdFNjb3BlLiQkcGhhc2UpIHtcbiAgICAgICAgICAgICAgICBzY29wZS4kZXZhbEFzeW5jKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoY2FsbGJhY2spO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1dO1xuICB9XG4pO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nRGJsY2xpY2tcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdEYmxjbGlja2AgZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gc3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gYSBkYmxjbGljayBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nRGJsY2xpY2sge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogYSBkYmxjbGljay4gKFRoZSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgKVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctZGJsY2xpY2s9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudCAob24gZG91YmxlIGNsaWNrKVxuICAgICAgPC9idXR0b24+XG4gICAgICBjb3VudDoge3tjb3VudH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdNb3VzZWRvd25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBuZ01vdXNlZG93biBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBzcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBtb3VzZWRvd24gZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNlZG93biB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBtb3VzZWRvd24uICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctbW91c2Vkb3duPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAgICBJbmNyZW1lbnQgKG9uIG1vdXNlIGRvd24pXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ01vdXNldXBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNldXAgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNldXAge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogbW91c2V1cC4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGJ1dHRvbiBuZy1tb3VzZXVwPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAgICBJbmNyZW1lbnQgKG9uIG1vdXNlIHVwKVxuICAgICAgPC9idXR0b24+XG4gICAgICBjb3VudDoge3tjb3VudH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTW91c2VvdmVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBtb3VzZW92ZXIgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNlb3ZlciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBtb3VzZW92ZXIuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctbW91c2VvdmVyPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAgICBJbmNyZW1lbnQgKHdoZW4gbW91c2UgaXMgb3ZlcilcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgY291bnQ6IHt7Y291bnR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTW91c2VlbnRlclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2VlbnRlciBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2VlbnRlciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBtb3VzZWVudGVyLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8YnV0dG9uIG5nLW1vdXNlZW50ZXI9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudCAod2hlbiBtb3VzZSBlbnRlcnMpXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ01vdXNlbGVhdmVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNlbGVhdmUgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNlbGVhdmUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogbW91c2VsZWF2ZS4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGJ1dHRvbiBuZy1tb3VzZWxlYXZlPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAgICBJbmNyZW1lbnQgKHdoZW4gbW91c2UgbGVhdmVzKVxuICAgICAgPC9idXR0b24+XG4gICAgICBjb3VudDoge3tjb3VudH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdNb3VzZW1vdmVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNlbW92ZSBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2Vtb3ZlIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIG1vdXNlbW92ZS4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGJ1dHRvbiBuZy1tb3VzZW1vdmU9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudCAod2hlbiBtb3VzZSBtb3ZlcylcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgY291bnQ6IHt7Y291bnR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nS2V5ZG93blxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24ga2V5ZG93biBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nS2V5ZG93biB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBrZXlkb3duLiAoRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YCBhbmQgY2FuIGJlIGludGVycm9nYXRlZCBmb3Iga2V5Q29kZSwgYWx0S2V5LCBldGMuKVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxpbnB1dCBuZy1rZXlkb3duPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAga2V5IGRvd24gY291bnQ6IHt7Y291bnR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nS2V5dXBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGtleXVwIGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdLZXl1cCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBrZXl1cC4gKEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGAgYW5kIGNhbiBiZSBpbnRlcnJvZ2F0ZWQgZm9yIGtleUNvZGUsIGFsdEtleSwgZXRjLilcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHA+VHlwaW5nIGluIHRoZSBpbnB1dCBib3ggYmVsb3cgdXBkYXRlcyB0aGUga2V5IGNvdW50PC9wPlxuICAgICAgIDxpbnB1dCBuZy1rZXl1cD1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj4ga2V5IHVwIGNvdW50OiB7e2NvdW50fX1cblxuICAgICAgIDxwPlR5cGluZyBpbiB0aGUgaW5wdXQgYm94IGJlbG93IHVwZGF0ZXMgdGhlIGtleWNvZGU8L3A+XG4gICAgICAgPGlucHV0IG5nLWtleXVwPVwiZXZlbnQ9JGV2ZW50XCI+XG4gICAgICAgPHA+ZXZlbnQga2V5Q29kZToge3sgZXZlbnQua2V5Q29kZSB9fTwvcD5cbiAgICAgICA8cD5ldmVudCBhbHRLZXk6IHt7IGV2ZW50LmFsdEtleSB9fTwvcD5cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0tleXByZXNzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBrZXlwcmVzcyBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdLZXlwcmVzcyB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBrZXlwcmVzcy4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH1cbiAqIGFuZCBjYW4gYmUgaW50ZXJyb2dhdGVkIGZvciBrZXlDb2RlLCBhbHRLZXksIGV0Yy4pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGlucHV0IG5nLWtleXByZXNzPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAga2V5IHByZXNzIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1N1Ym1pdFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRW5hYmxlcyBiaW5kaW5nIGFuZ3VsYXIgZXhwcmVzc2lvbnMgdG8gb25zdWJtaXQgZXZlbnRzLlxuICpcbiAqIEFkZGl0aW9uYWxseSBpdCBwcmV2ZW50cyB0aGUgZGVmYXVsdCBhY3Rpb24gKHdoaWNoIGZvciBmb3JtIG1lYW5zIHNlbmRpbmcgdGhlIHJlcXVlc3QgdG8gdGhlXG4gKiBzZXJ2ZXIgYW5kIHJlbG9hZGluZyB0aGUgY3VycmVudCBwYWdlKSwgYnV0IG9ubHkgaWYgdGhlIGZvcm0gZG9lcyBub3QgY29udGFpbiBgYWN0aW9uYCxcbiAqIGBkYXRhLWFjdGlvbmAsIG9yIGB4LWFjdGlvbmAgYXR0cmlidXRlcy5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipXYXJuaW5nOioqIEJlIGNhcmVmdWwgbm90IHRvIGNhdXNlIFwiZG91YmxlLXN1Ym1pc3Npb25cIiBieSB1c2luZyBib3RoIHRoZSBgbmdDbGlja2AgYW5kXG4gKiBgbmdTdWJtaXRgIGhhbmRsZXJzIHRvZ2V0aGVyLiBTZWUgdGhlXG4gKiB7QGxpbmsgZm9ybSNzdWJtaXR0aW5nLWEtZm9ybS1hbmQtcHJldmVudGluZy10aGUtZGVmYXVsdC1hY3Rpb24gYGZvcm1gIGRpcmVjdGl2ZSBkb2N1bWVudGF0aW9ufVxuICogZm9yIGEgZGV0YWlsZWQgZGlzY3Vzc2lvbiBvZiB3aGVuIGBuZ1N1Ym1pdGAgbWF5IGJlIHRyaWdnZXJlZC5cbiAqIDwvZGl2PlxuICpcbiAqIEBlbGVtZW50IGZvcm1cbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nU3VibWl0IHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWwuXG4gKiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwic3VibWl0RXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPHNjcmlwdD5cbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3N1Ym1pdEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgJHNjb3BlLmxpc3QgPSBbXTtcbiAgICAgICAgICAgICRzY29wZS50ZXh0ID0gJ2hlbGxvJztcbiAgICAgICAgICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKCRzY29wZS50ZXh0KSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmxpc3QucHVzaCh0aGlzLnRleHQpO1xuICAgICAgICAgICAgICAgICRzY29wZS50ZXh0ID0gJyc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfV0pO1xuICAgICAgPC9zY3JpcHQ+XG4gICAgICA8Zm9ybSBuZy1zdWJtaXQ9XCJzdWJtaXQoKVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICBFbnRlciB0ZXh0IGFuZCBoaXQgZW50ZXI6XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwidGV4dFwiIG5hbWU9XCJ0ZXh0XCIgLz5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJzdWJtaXRcIiBpZD1cInN1Ym1pdFwiIHZhbHVlPVwiU3VibWl0XCIgLz5cbiAgICAgICAgPHByZT5saXN0PXt7bGlzdH19PC9wcmU+XG4gICAgICA8L2Zvcm0+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctc3VibWl0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdsaXN0JykpLmdldFRleHQoKSkudG9CZSgnbGlzdD1bXScpO1xuICAgICAgICAgZWxlbWVudChieS5jc3MoJyNzdWJtaXQnKSkuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2xpc3QnKSkuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2hlbGxvJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgndGV4dCcpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvQmUoJycpO1xuICAgICAgIH0pO1xuICAgICAgIGl0KCdzaG91bGQgaWdub3JlIGVtcHR5IHN0cmluZ3MnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2xpc3QnKSkuZ2V0VGV4dCgpKS50b0JlKCdsaXN0PVtdJyk7XG4gICAgICAgICBlbGVtZW50KGJ5LmNzcygnI3N1Ym1pdCcpKS5jbGljaygpO1xuICAgICAgICAgZWxlbWVudChieS5jc3MoJyNzdWJtaXQnKSkuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2xpc3QnKSkuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2hlbGxvJyk7XG4gICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0ZvY3VzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBmb2N1cyBldmVudC5cbiAqXG4gKiBOb3RlOiBBcyB0aGUgYGZvY3VzYCBldmVudCBpcyBleGVjdXRlZCBzeW5jaHJvbm91c2x5IHdoZW4gY2FsbGluZyBgaW5wdXQuZm9jdXMoKWBcbiAqIEFuZ3VsYXJKUyBleGVjdXRlcyB0aGUgZXhwcmVzc2lvbiB1c2luZyBgc2NvcGUuJGV2YWxBc3luY2AgaWYgdGhlIGV2ZW50IGlzIGZpcmVkXG4gKiBkdXJpbmcgYW4gYCRhcHBseWAgdG8gZW5zdXJlIGEgY29uc2lzdGVudCBzdGF0ZS5cbiAqXG4gKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0ZvY3VzIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGZvY3VzLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICogU2VlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDbGljayBuZ0NsaWNrfVxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdCbHVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBibHVyIGV2ZW50LlxuICpcbiAqIEEgW2JsdXIgZXZlbnRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0V2ZW50cy9ibHVyKSBmaXJlcyB3aGVuXG4gKiBhbiBlbGVtZW50IGhhcyBsb3N0IGZvY3VzLlxuICpcbiAqIE5vdGU6IEFzIHRoZSBgYmx1cmAgZXZlbnQgaXMgZXhlY3V0ZWQgc3luY2hyb25vdXNseSBhbHNvIGR1cmluZyBET00gbWFuaXB1bGF0aW9uc1xuICogKGUuZy4gcmVtb3ZpbmcgYSBmb2N1c3NlZCBpbnB1dCksXG4gKiBBbmd1bGFySlMgZXhlY3V0ZXMgdGhlIGV4cHJlc3Npb24gdXNpbmcgYHNjb3BlLiRldmFsQXN5bmNgIGlmIHRoZSBldmVudCBpcyBmaXJlZFxuICogZHVyaW5nIGFuIGAkYXBwbHlgIHRvIGVuc3VyZSBhIGNvbnNpc3RlbnQgc3RhdGUuXG4gKlxuICogQGVsZW1lbnQgd2luZG93LCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdCbHVyIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGJsdXIuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gKiBTZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsaWNrIG5nQ2xpY2t9XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NvcHlcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGNvcHkgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgd2luZG93LCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDb3B5IHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGNvcHkuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxpbnB1dCBuZy1jb3B5PVwiY29waWVkPXRydWVcIiBuZy1pbml0PVwiY29waWVkPWZhbHNlOyB2YWx1ZT0nY29weSBtZSdcIiBuZy1tb2RlbD1cInZhbHVlXCI+XG4gICAgICBjb3BpZWQ6IHt7Y29waWVkfX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDdXRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGN1dCBldmVudC5cbiAqXG4gKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0N1dCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBjdXQuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxpbnB1dCBuZy1jdXQ9XCJjdXQ9dHJ1ZVwiIG5nLWluaXQ9XCJjdXQ9ZmFsc2U7IHZhbHVlPSdjdXQgbWUnXCIgbmctbW9kZWw9XCJ2YWx1ZVwiPlxuICAgICAgY3V0OiB7e2N1dH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nUGFzdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIHBhc3RlIGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IHdpbmRvdywgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGFcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nUGFzdGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogcGFzdGUuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxpbnB1dCBuZy1wYXN0ZT1cInBhc3RlPXRydWVcIiBuZy1pbml0PVwicGFzdGU9ZmFsc2VcIiBwbGFjZWhvbGRlcj0ncGFzdGUgaGVyZSc+XG4gICAgICBwYXN0ZWQ6IHt7cGFzdGV9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0lmXG4gKiBAcmVzdHJpY3QgQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ0lmYCBkaXJlY3RpdmUgcmVtb3ZlcyBvciByZWNyZWF0ZXMgYSBwb3J0aW9uIG9mIHRoZSBET00gdHJlZSBiYXNlZCBvbiBhblxuICoge2V4cHJlc3Npb259LiBJZiB0aGUgZXhwcmVzc2lvbiBhc3NpZ25lZCB0byBgbmdJZmAgZXZhbHVhdGVzIHRvIGEgZmFsc2VcbiAqIHZhbHVlIHRoZW4gdGhlIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00sIG90aGVyd2lzZSBhIGNsb25lIG9mIHRoZVxuICogZWxlbWVudCBpcyByZWluc2VydGVkIGludG8gdGhlIERPTS5cbiAqXG4gKiBgbmdJZmAgZGlmZmVycyBmcm9tIGBuZ1Nob3dgIGFuZCBgbmdIaWRlYCBpbiB0aGF0IGBuZ0lmYCBjb21wbGV0ZWx5IHJlbW92ZXMgYW5kIHJlY3JlYXRlcyB0aGVcbiAqIGVsZW1lbnQgaW4gdGhlIERPTSByYXRoZXIgdGhhbiBjaGFuZ2luZyBpdHMgdmlzaWJpbGl0eSB2aWEgdGhlIGBkaXNwbGF5YCBjc3MgcHJvcGVydHkuICBBIGNvbW1vblxuICogY2FzZSB3aGVuIHRoaXMgZGlmZmVyZW5jZSBpcyBzaWduaWZpY2FudCBpcyB3aGVuIHVzaW5nIGNzcyBzZWxlY3RvcnMgdGhhdCByZWx5IG9uIGFuIGVsZW1lbnQnc1xuICogcG9zaXRpb24gd2l0aGluIHRoZSBET00sIHN1Y2ggYXMgdGhlIGA6Zmlyc3QtY2hpbGRgIG9yIGA6bGFzdC1jaGlsZGAgcHNldWRvLWNsYXNzZXMuXG4gKlxuICogTm90ZSB0aGF0IHdoZW4gYW4gZWxlbWVudCBpcyByZW1vdmVkIHVzaW5nIGBuZ0lmYCBpdHMgc2NvcGUgaXMgZGVzdHJveWVkIGFuZCBhIG5ldyBzY29wZVxuICogaXMgY3JlYXRlZCB3aGVuIHRoZSBlbGVtZW50IGlzIHJlc3RvcmVkLiAgVGhlIHNjb3BlIGNyZWF0ZWQgd2l0aGluIGBuZ0lmYCBpbmhlcml0cyBmcm9tXG4gKiBpdHMgcGFyZW50IHNjb3BlIHVzaW5nXG4gKiBbcHJvdG90eXBhbCBpbmhlcml0YW5jZV0oaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy93aWtpL1VuZGVyc3RhbmRpbmctU2NvcGVzI2phdmFzY3JpcHQtcHJvdG90eXBhbC1pbmhlcml0YW5jZSkuXG4gKiBBbiBpbXBvcnRhbnQgaW1wbGljYXRpb24gb2YgdGhpcyBpcyBpZiBgbmdNb2RlbGAgaXMgdXNlZCB3aXRoaW4gYG5nSWZgIHRvIGJpbmQgdG9cbiAqIGEgamF2YXNjcmlwdCBwcmltaXRpdmUgZGVmaW5lZCBpbiB0aGUgcGFyZW50IHNjb3BlLiBJbiB0aGlzIGNhc2UgYW55IG1vZGlmaWNhdGlvbnMgbWFkZSB0byB0aGVcbiAqIHZhcmlhYmxlIHdpdGhpbiB0aGUgY2hpbGQgc2NvcGUgd2lsbCBvdmVycmlkZSAoaGlkZSkgdGhlIHZhbHVlIGluIHRoZSBwYXJlbnQgc2NvcGUuXG4gKlxuICogQWxzbywgYG5nSWZgIHJlY3JlYXRlcyBlbGVtZW50cyB1c2luZyB0aGVpciBjb21waWxlZCBzdGF0ZS4gQW4gZXhhbXBsZSBvZiB0aGlzIGJlaGF2aW9yXG4gKiBpcyBpZiBhbiBlbGVtZW50J3MgY2xhc3MgYXR0cmlidXRlIGlzIGRpcmVjdGx5IG1vZGlmaWVkIGFmdGVyIGl0J3MgY29tcGlsZWQsIHVzaW5nIHNvbWV0aGluZyBsaWtlXG4gKiBqUXVlcnkncyBgLmFkZENsYXNzKClgIG1ldGhvZCwgYW5kIHRoZSBlbGVtZW50IGlzIGxhdGVyIHJlbW92ZWQuIFdoZW4gYG5nSWZgIHJlY3JlYXRlcyB0aGUgZWxlbWVudFxuICogdGhlIGFkZGVkIGNsYXNzIHdpbGwgYmUgbG9zdCBiZWNhdXNlIHRoZSBvcmlnaW5hbCBjb21waWxlZCBzdGF0ZSBpcyB1c2VkIHRvIHJlZ2VuZXJhdGUgdGhlIGVsZW1lbnQuXG4gKlxuICogQWRkaXRpb25hbGx5LCB5b3UgY2FuIHByb3ZpZGUgYW5pbWF0aW9ucyB2aWEgdGhlIGBuZ0FuaW1hdGVgIG1vZHVsZSB0byBhbmltYXRlIHRoZSBgZW50ZXJgXG4gKiBhbmQgYGxlYXZlYCBlZmZlY3RzLlxuICpcbiAqIEBhbmltYXRpb25zXG4gKiBlbnRlciAtIGhhcHBlbnMganVzdCBhZnRlciB0aGUgYG5nSWZgIGNvbnRlbnRzIGNoYW5nZSBhbmQgYSBuZXcgRE9NIGVsZW1lbnQgaXMgY3JlYXRlZCBhbmQgaW5qZWN0ZWQgaW50byB0aGUgYG5nSWZgIGNvbnRhaW5lclxuICogbGVhdmUgLSBoYXBwZW5zIGp1c3QgYmVmb3JlIHRoZSBgbmdJZmAgY29udGVudHMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAc2NvcGVcbiAqIEBwcmlvcml0eSA2MDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdJZiBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgZmFsc3kgdGhlblxuICogICAgIHRoZSBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NIHRyZWUuIElmIGl0IGlzIHRydXRoeSBhIGNvcHkgb2YgdGhlIGNvbXBpbGVkXG4gKiAgICAgZWxlbWVudCBpcyBhZGRlZCB0byB0aGUgRE9NIHRyZWUuXG4gKlxuICogQGV4YW1wbGVcbiAgPGV4YW1wbGUgbW9kdWxlPVwibmdBbmltYXRlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIENsaWNrIG1lOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2VkXCIgbmctaW5pdD1cImNoZWNrZWQ9dHJ1ZVwiIC8+PGJyLz5cbiAgICAgIFNob3cgd2hlbiBjaGVja2VkOlxuICAgICAgPHNwYW4gbmctaWY9XCJjaGVja2VkXCIgY2xhc3M9XCJhbmltYXRlLWlmXCI+XG4gICAgICAgIFRoaXMgaXMgcmVtb3ZlZCB3aGVuIHRoZSBjaGVja2JveCBpcyB1bmNoZWNrZWQuXG4gICAgICA8L3NwYW4+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxuICAgICAgLmFuaW1hdGUtaWYge1xuICAgICAgICBiYWNrZ3JvdW5kOndoaXRlO1xuICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBwYWRkaW5nOjEwcHg7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLWlmLm5nLWVudGVyLCAuYW5pbWF0ZS1pZi5uZy1sZWF2ZSB7XG4gICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjphbGwgY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSAwLjVzO1xuICAgICAgICB0cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLWlmLm5nLWVudGVyLFxuICAgICAgLmFuaW1hdGUtaWYubmctbGVhdmUubmctbGVhdmUtYWN0aXZlIHtcbiAgICAgICAgb3BhY2l0eTowO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1pZi5uZy1sZWF2ZSxcbiAgICAgIC5hbmltYXRlLWlmLm5nLWVudGVyLm5nLWVudGVyLWFjdGl2ZSB7XG4gICAgICAgIG9wYWNpdHk6MTtcbiAgICAgIH1cbiAgICA8L2ZpbGU+XG4gIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nSWZEaXJlY3RpdmUgPSBbJyRhbmltYXRlJywgZnVuY3Rpb24oJGFuaW1hdGUpIHtcbiAgcmV0dXJuIHtcbiAgICBtdWx0aUVsZW1lbnQ6IHRydWUsXG4gICAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxuICAgIHByaW9yaXR5OiA2MDAsXG4gICAgdGVybWluYWw6IHRydWUsXG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAkJHRsYjogdHJ1ZSxcbiAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0ciwgY3RybCwgJHRyYW5zY2x1ZGUpIHtcbiAgICAgICAgdmFyIGJsb2NrLCBjaGlsZFNjb3BlLCBwcmV2aW91c0VsZW1lbnRzO1xuICAgICAgICAkc2NvcGUuJHdhdGNoKCRhdHRyLm5nSWYsIGZ1bmN0aW9uIG5nSWZXYXRjaEFjdGlvbih2YWx1ZSkge1xuXG4gICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIWNoaWxkU2NvcGUpIHtcbiAgICAgICAgICAgICAgJHRyYW5zY2x1ZGUoZnVuY3Rpb24oY2xvbmUsIG5ld1Njb3BlKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRTY29wZSA9IG5ld1Njb3BlO1xuICAgICAgICAgICAgICAgIGNsb25lW2Nsb25lLmxlbmd0aCsrXSA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJyBlbmQgbmdJZjogJyArICRhdHRyLm5nSWYgKyAnICcpO1xuICAgICAgICAgICAgICAgIC8vIE5vdGU6IFdlIG9ubHkgbmVlZCB0aGUgZmlyc3QvbGFzdCBub2RlIG9mIHRoZSBjbG9uZWQgbm9kZXMuXG4gICAgICAgICAgICAgICAgLy8gSG93ZXZlciwgd2UgbmVlZCB0byBrZWVwIHRoZSByZWZlcmVuY2UgdG8gdGhlIGpxbGl0ZSB3cmFwcGVyIGFzIGl0IG1pZ2h0IGJlIGNoYW5nZWQgbGF0ZXJcbiAgICAgICAgICAgICAgICAvLyBieSBhIGRpcmVjdGl2ZSB3aXRoIHRlbXBsYXRlVXJsIHdoZW4gaXRzIHRlbXBsYXRlIGFycml2ZXMuXG4gICAgICAgICAgICAgICAgYmxvY2sgPSB7XG4gICAgICAgICAgICAgICAgICBjbG9uZTogY2xvbmVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNsb25lLCAkZWxlbWVudC5wYXJlbnQoKSwgJGVsZW1lbnQpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHByZXZpb3VzRWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50cy5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50cyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hpbGRTY29wZSkge1xuICAgICAgICAgICAgICBjaGlsZFNjb3BlLiRkZXN0cm95KCk7XG4gICAgICAgICAgICAgIGNoaWxkU2NvcGUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJsb2NrKSB7XG4gICAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudHMgPSBnZXRCbG9ja05vZGVzKGJsb2NrLmNsb25lKTtcbiAgICAgICAgICAgICAgJGFuaW1hdGUubGVhdmUocHJldmlvdXNFbGVtZW50cykudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnRzID0gbnVsbDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJsb2NrID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nSW5jbHVkZVxuICogQHJlc3RyaWN0IEVDQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRmV0Y2hlcywgY29tcGlsZXMgYW5kIGluY2x1ZGVzIGFuIGV4dGVybmFsIEhUTUwgZnJhZ21lbnQuXG4gKlxuICogQnkgZGVmYXVsdCwgdGhlIHRlbXBsYXRlIFVSTCBpcyByZXN0cmljdGVkIHRvIHRoZSBzYW1lIGRvbWFpbiBhbmQgcHJvdG9jb2wgYXMgdGhlXG4gKiBhcHBsaWNhdGlvbiBkb2N1bWVudC4gVGhpcyBpcyBkb25lIGJ5IGNhbGxpbmcge0BsaW5rICRzY2UjZ2V0VHJ1c3RlZFJlc291cmNlVXJsXG4gKiAkc2NlLmdldFRydXN0ZWRSZXNvdXJjZVVybH0gb24gaXQuIFRvIGxvYWQgdGVtcGxhdGVzIGZyb20gb3RoZXIgZG9tYWlucyBvciBwcm90b2NvbHNcbiAqIHlvdSBtYXkgZWl0aGVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdCB3aGl0ZWxpc3QgdGhlbX0gb3JcbiAqIHtAbGluayAkc2NlI3RydXN0QXNSZXNvdXJjZVVybCB3cmFwIHRoZW19IGFzIHRydXN0ZWQgdmFsdWVzLiBSZWZlciB0byBBbmd1bGFyJ3Mge0BsaW5rXG4gKiBuZy4kc2NlIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nfS5cbiAqXG4gKiBJbiBhZGRpdGlvbiwgdGhlIGJyb3dzZXInc1xuICogW1NhbWUgT3JpZ2luIFBvbGljeV0oaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9icm93c2Vyc2VjL3dpa2kvUGFydDIjU2FtZS1vcmlnaW5fcG9saWN5X2Zvcl9YTUxIdHRwUmVxdWVzdClcbiAqIGFuZCBbQ3Jvc3MtT3JpZ2luIFJlc291cmNlIFNoYXJpbmcgKENPUlMpXShodHRwOi8vd3d3LnczLm9yZy9UUi9jb3JzLylcbiAqIHBvbGljeSBtYXkgZnVydGhlciByZXN0cmljdCB3aGV0aGVyIHRoZSB0ZW1wbGF0ZSBpcyBzdWNjZXNzZnVsbHkgbG9hZGVkLlxuICogRm9yIGV4YW1wbGUsIGBuZ0luY2x1ZGVgIHdvbid0IHdvcmsgZm9yIGNyb3NzLWRvbWFpbiByZXF1ZXN0cyBvbiBhbGwgYnJvd3NlcnMgYW5kIGZvciBgZmlsZTovL2BcbiAqIGFjY2VzcyBvbiBzb21lIGJyb3dzZXJzLlxuICpcbiAqIEBhbmltYXRpb25zXG4gKiBlbnRlciAtIGFuaW1hdGlvbiBpcyB1c2VkIHRvIGJyaW5nIG5ldyBjb250ZW50IGludG8gdGhlIGJyb3dzZXIuXG4gKiBsZWF2ZSAtIGFuaW1hdGlvbiBpcyB1c2VkIHRvIGFuaW1hdGUgZXhpc3RpbmcgY29udGVudCBhd2F5LlxuICpcbiAqIFRoZSBlbnRlciBhbmQgbGVhdmUgYW5pbWF0aW9uIG9jY3VyIGNvbmN1cnJlbnRseS5cbiAqXG4gKiBAc2NvcGVcbiAqIEBwcmlvcml0eSA0MDBcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmdJbmNsdWRlfHNyYyBhbmd1bGFyIGV4cHJlc3Npb24gZXZhbHVhdGluZyB0byBVUkwuIElmIHRoZSBzb3VyY2UgaXMgYSBzdHJpbmcgY29uc3RhbnQsXG4gKiAgICAgICAgICAgICAgICAgbWFrZSBzdXJlIHlvdSB3cmFwIGl0IGluICoqc2luZ2xlKiogcXVvdGVzLCBlLmcuIGBzcmM9XCInbXlQYXJ0aWFsVGVtcGxhdGUuaHRtbCdcImAuXG4gKiBAcGFyYW0ge3N0cmluZz19IG9ubG9hZCBFeHByZXNzaW9uIHRvIGV2YWx1YXRlIHdoZW4gYSBuZXcgcGFydGlhbCBpcyBsb2FkZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSBhdXRvc2Nyb2xsIFdoZXRoZXIgYG5nSW5jbHVkZWAgc2hvdWxkIGNhbGwge0BsaW5rIG5nLiRhbmNob3JTY3JvbGxcbiAqICAgICAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbH0gdG8gc2Nyb2xsIHRoZSB2aWV3cG9ydCBhZnRlciB0aGUgY29udGVudCBpcyBsb2FkZWQuXG4gKlxuICogICAgICAgICAgICAgICAgICAtIElmIHRoZSBhdHRyaWJ1dGUgaXMgbm90IHNldCwgZGlzYWJsZSBzY3JvbGxpbmcuXG4gKiAgICAgICAgICAgICAgICAgIC0gSWYgdGhlIGF0dHJpYnV0ZSBpcyBzZXQgd2l0aG91dCB2YWx1ZSwgZW5hYmxlIHNjcm9sbGluZy5cbiAqICAgICAgICAgICAgICAgICAgLSBPdGhlcndpc2UgZW5hYmxlIHNjcm9sbGluZyBvbmx5IGlmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnV0aHkgdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAgPGV4YW1wbGUgbW9kdWxlPVwiaW5jbHVkZUV4YW1wbGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJ0ZW1wbGF0ZVwiIG5nLW9wdGlvbnM9XCJ0Lm5hbWUgZm9yIHQgaW4gdGVtcGxhdGVzXCI+XG4gICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj4oYmxhbmspPC9vcHRpb24+XG4gICAgICAgPC9zZWxlY3Q+XG4gICAgICAgdXJsIG9mIHRoZSB0ZW1wbGF0ZTogPHR0Pnt7dGVtcGxhdGUudXJsfX08L3R0PlxuICAgICAgIDxoci8+XG4gICAgICAgPGRpdiBjbGFzcz1cInNsaWRlLWFuaW1hdGUtY29udGFpbmVyXCI+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGUtYW5pbWF0ZVwiIG5nLWluY2x1ZGU9XCJ0ZW1wbGF0ZS51cmxcIj48L2Rpdj5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdpbmNsdWRlRXhhbXBsZScsIFsnbmdBbmltYXRlJ10pXG4gICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgJHNjb3BlLnRlbXBsYXRlcyA9XG4gICAgICAgICAgICBbIHsgbmFtZTogJ3RlbXBsYXRlMS5odG1sJywgdXJsOiAndGVtcGxhdGUxLmh0bWwnfSxcbiAgICAgICAgICAgICAgeyBuYW1lOiAndGVtcGxhdGUyLmh0bWwnLCB1cmw6ICd0ZW1wbGF0ZTIuaHRtbCd9IF07XG4gICAgICAgICAgJHNjb3BlLnRlbXBsYXRlID0gJHNjb3BlLnRlbXBsYXRlc1swXTtcbiAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInRlbXBsYXRlMS5odG1sXCI+XG4gICAgICBDb250ZW50IG9mIHRlbXBsYXRlMS5odG1sXG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJ0ZW1wbGF0ZTIuaHRtbFwiPlxuICAgICAgQ29udGVudCBvZiB0ZW1wbGF0ZTIuaHRtbFxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cbiAgICAgIC5zbGlkZS1hbmltYXRlLWNvbnRhaW5lciB7XG4gICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xuICAgICAgICBiYWNrZ3JvdW5kOndoaXRlO1xuICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBoZWlnaHQ6NDBweDtcbiAgICAgICAgb3ZlcmZsb3c6aGlkZGVuO1xuICAgICAgfVxuXG4gICAgICAuc2xpZGUtYW5pbWF0ZSB7XG4gICAgICAgIHBhZGRpbmc6MTBweDtcbiAgICAgIH1cblxuICAgICAgLnNsaWRlLWFuaW1hdGUubmctZW50ZXIsIC5zbGlkZS1hbmltYXRlLm5nLWxlYXZlIHtcbiAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7XG4gICAgICAgIHRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41cztcblxuICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgICAgICAgdG9wOjA7XG4gICAgICAgIGxlZnQ6MDtcbiAgICAgICAgcmlnaHQ6MDtcbiAgICAgICAgYm90dG9tOjA7XG4gICAgICAgIGRpc3BsYXk6YmxvY2s7XG4gICAgICAgIHBhZGRpbmc6MTBweDtcbiAgICAgIH1cblxuICAgICAgLnNsaWRlLWFuaW1hdGUubmctZW50ZXIge1xuICAgICAgICB0b3A6LTUwcHg7XG4gICAgICB9XG4gICAgICAuc2xpZGUtYW5pbWF0ZS5uZy1lbnRlci5uZy1lbnRlci1hY3RpdmUge1xuICAgICAgICB0b3A6MDtcbiAgICAgIH1cblxuICAgICAgLnNsaWRlLWFuaW1hdGUubmctbGVhdmUge1xuICAgICAgICB0b3A6MDtcbiAgICAgIH1cbiAgICAgIC5zbGlkZS1hbmltYXRlLm5nLWxlYXZlLm5nLWxlYXZlLWFjdGl2ZSB7XG4gICAgICAgIHRvcDo1MHB4O1xuICAgICAgfVxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdGVtcGxhdGVTZWxlY3QgPSBlbGVtZW50KGJ5Lm1vZGVsKCd0ZW1wbGF0ZScpKTtcbiAgICAgIHZhciBpbmNsdWRlRWxlbSA9IGVsZW1lbnQoYnkuY3NzKCdbbmctaW5jbHVkZV0nKSk7XG5cbiAgICAgIGl0KCdzaG91bGQgbG9hZCB0ZW1wbGF0ZTEuaHRtbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QoaW5jbHVkZUVsZW0uZ2V0VGV4dCgpKS50b01hdGNoKC9Db250ZW50IG9mIHRlbXBsYXRlMS5odG1sLyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBsb2FkIHRlbXBsYXRlMi5odG1sJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChicm93c2VyLnBhcmFtcy5icm93c2VyID09ICdmaXJlZm94Jykge1xuICAgICAgICAgIC8vIEZpcmVmb3ggY2FuJ3QgaGFuZGxlIHVzaW5nIHNlbGVjdHNcbiAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNDgwXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRlbXBsYXRlU2VsZWN0LmNsaWNrKCk7XG4gICAgICAgIHRlbXBsYXRlU2VsZWN0LmFsbChieS5jc3MoJ29wdGlvbicpKS5nZXQoMikuY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KGluY2x1ZGVFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvQ29udGVudCBvZiB0ZW1wbGF0ZTIuaHRtbC8pO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgY2hhbmdlIHRvIGJsYW5rJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChicm93c2VyLnBhcmFtcy5icm93c2VyID09ICdmaXJlZm94Jykge1xuICAgICAgICAgIC8vIEZpcmVmb3ggY2FuJ3QgaGFuZGxlIHVzaW5nIHNlbGVjdHNcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGVtcGxhdGVTZWxlY3QuY2xpY2soKTtcbiAgICAgICAgdGVtcGxhdGVTZWxlY3QuYWxsKGJ5LmNzcygnb3B0aW9uJykpLmdldCgwKS5jbGljaygpO1xuICAgICAgICBleHBlY3QoaW5jbHVkZUVsZW0uaXNQcmVzZW50KCkpLnRvQmUoZmFsc2UpO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBldmVudFxuICogQG5hbWUgbmdJbmNsdWRlIyRpbmNsdWRlQ29udGVudFJlcXVlc3RlZFxuICogQGV2ZW50VHlwZSBlbWl0IG9uIHRoZSBzY29wZSBuZ0luY2x1ZGUgd2FzIGRlY2xhcmVkIGluXG4gKiBAZGVzY3JpcHRpb25cbiAqIEVtaXR0ZWQgZXZlcnkgdGltZSB0aGUgbmdJbmNsdWRlIGNvbnRlbnQgaXMgcmVxdWVzdGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgVVJMIG9mIGNvbnRlbnQgdG8gbG9hZC5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGV2ZW50XG4gKiBAbmFtZSBuZ0luY2x1ZGUjJGluY2x1ZGVDb250ZW50TG9hZGVkXG4gKiBAZXZlbnRUeXBlIGVtaXQgb24gdGhlIGN1cnJlbnQgbmdJbmNsdWRlIHNjb3BlXG4gKiBAZGVzY3JpcHRpb25cbiAqIEVtaXR0ZWQgZXZlcnkgdGltZSB0aGUgbmdJbmNsdWRlIGNvbnRlbnQgaXMgcmVsb2FkZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGFuZ3VsYXJFdmVudCBTeW50aGV0aWMgZXZlbnQgb2JqZWN0LlxuICogQHBhcmFtIHtTdHJpbmd9IHNyYyBVUkwgb2YgY29udGVudCB0byBsb2FkLlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZXZlbnRcbiAqIEBuYW1lIG5nSW5jbHVkZSMkaW5jbHVkZUNvbnRlbnRFcnJvclxuICogQGV2ZW50VHlwZSBlbWl0IG9uIHRoZSBzY29wZSBuZ0luY2x1ZGUgd2FzIGRlY2xhcmVkIGluXG4gKiBAZGVzY3JpcHRpb25cbiAqIEVtaXR0ZWQgd2hlbiBhIHRlbXBsYXRlIEhUVFAgcmVxdWVzdCB5aWVsZHMgYW4gZXJyb25vdXMgcmVzcG9uc2UgKHN0YXR1cyA8IDIwMCB8fCBzdGF0dXMgPiAyOTkpXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGFuZ3VsYXJFdmVudCBTeW50aGV0aWMgZXZlbnQgb2JqZWN0LlxuICogQHBhcmFtIHtTdHJpbmd9IHNyYyBVUkwgb2YgY29udGVudCB0byBsb2FkLlxuICovXG52YXIgbmdJbmNsdWRlRGlyZWN0aXZlID0gWyckdGVtcGxhdGVSZXF1ZXN0JywgJyRhbmNob3JTY3JvbGwnLCAnJGFuaW1hdGUnLCAnJHNjZScsXG4gICAgICAgICAgICAgICAgICBmdW5jdGlvbigkdGVtcGxhdGVSZXF1ZXN0LCAgICRhbmNob3JTY3JvbGwsICAgJGFuaW1hdGUsICAgJHNjZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUNBJyxcbiAgICBwcmlvcml0eTogNDAwLFxuICAgIHRlcm1pbmFsOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6ICdlbGVtZW50JyxcbiAgICBjb250cm9sbGVyOiBhbmd1bGFyLm5vb3AsXG4gICAgY29tcGlsZTogZnVuY3Rpb24oZWxlbWVudCwgYXR0cikge1xuICAgICAgdmFyIHNyY0V4cCA9IGF0dHIubmdJbmNsdWRlIHx8IGF0dHIuc3JjLFxuICAgICAgICAgIG9ubG9hZEV4cCA9IGF0dHIub25sb2FkIHx8ICcnLFxuICAgICAgICAgIGF1dG9TY3JvbGxFeHAgPSBhdHRyLmF1dG9zY3JvbGw7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgJGVsZW1lbnQsICRhdHRyLCBjdHJsLCAkdHJhbnNjbHVkZSkge1xuICAgICAgICB2YXIgY2hhbmdlQ291bnRlciA9IDAsXG4gICAgICAgICAgICBjdXJyZW50U2NvcGUsXG4gICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQsXG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudDtcblxuICAgICAgICB2YXIgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChwcmV2aW91c0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjdXJyZW50U2NvcGUpIHtcbiAgICAgICAgICAgIGN1cnJlbnRTY29wZS4kZGVzdHJveSgpO1xuICAgICAgICAgICAgY3VycmVudFNjb3BlID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGN1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShjdXJyZW50RWxlbWVudCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50ID0gY3VycmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHNjb3BlLiR3YXRjaCgkc2NlLnBhcnNlQXNSZXNvdXJjZVVybChzcmNFeHApLCBmdW5jdGlvbiBuZ0luY2x1ZGVXYXRjaEFjdGlvbihzcmMpIHtcbiAgICAgICAgICB2YXIgYWZ0ZXJBbmltYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChpc0RlZmluZWQoYXV0b1Njcm9sbEV4cCkgJiYgKCFhdXRvU2Nyb2xsRXhwIHx8IHNjb3BlLiRldmFsKGF1dG9TY3JvbGxFeHApKSkge1xuICAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICB2YXIgdGhpc0NoYW5nZUlkID0gKytjaGFuZ2VDb3VudGVyO1xuXG4gICAgICAgICAgaWYgKHNyYykge1xuICAgICAgICAgICAgLy9zZXQgdGhlIDJuZCBwYXJhbSB0byB0cnVlIHRvIGlnbm9yZSB0aGUgdGVtcGxhdGUgcmVxdWVzdCBlcnJvciBzbyB0aGF0IHRoZSBpbm5lclxuICAgICAgICAgICAgLy9jb250ZW50cyBhbmQgc2NvcGUgY2FuIGJlIGNsZWFuZWQgdXAuXG4gICAgICAgICAgICAkdGVtcGxhdGVSZXF1ZXN0KHNyYywgdHJ1ZSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICBpZiAodGhpc0NoYW5nZUlkICE9PSBjaGFuZ2VDb3VudGVyKSByZXR1cm47XG4gICAgICAgICAgICAgIHZhciBuZXdTY29wZSA9IHNjb3BlLiRuZXcoKTtcbiAgICAgICAgICAgICAgY3RybC50ZW1wbGF0ZSA9IHJlc3BvbnNlO1xuXG4gICAgICAgICAgICAgIC8vIE5vdGU6IFRoaXMgd2lsbCBhbHNvIGxpbmsgYWxsIGNoaWxkcmVuIG9mIG5nLWluY2x1ZGUgdGhhdCB3ZXJlIGNvbnRhaW5lZCBpbiB0aGUgb3JpZ2luYWxcbiAgICAgICAgICAgICAgLy8gaHRtbC4gSWYgdGhhdCBjb250ZW50IGNvbnRhaW5zIGNvbnRyb2xsZXJzLCAuLi4gdGhleSBjb3VsZCBwb2xsdXRlL2NoYW5nZSB0aGUgc2NvcGUuXG4gICAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHVzaW5nIG5nLWluY2x1ZGUgb24gYW4gZWxlbWVudCB3aXRoIGFkZGl0aW9uYWwgY29udGVudCBkb2VzIG5vdCBtYWtlIHNlbnNlLi4uXG4gICAgICAgICAgICAgIC8vIE5vdGU6IFdlIGNhbid0IHJlbW92ZSB0aGVtIGluIHRoZSBjbG9uZUF0dGNoRm4gb2YgJHRyYW5zY2x1ZGUgYXMgdGhhdFxuICAgICAgICAgICAgICAvLyBmdW5jdGlvbiBpcyBjYWxsZWQgYmVmb3JlIGxpbmtpbmcgdGhlIGNvbnRlbnQsIHdoaWNoIHdvdWxkIGFwcGx5IGNoaWxkXG4gICAgICAgICAgICAgIC8vIGRpcmVjdGl2ZXMgdG8gbm9uIGV4aXN0aW5nIGVsZW1lbnRzLlxuICAgICAgICAgICAgICB2YXIgY2xvbmUgPSAkdHJhbnNjbHVkZShuZXdTY29wZSwgZnVuY3Rpb24oY2xvbmUpIHtcbiAgICAgICAgICAgICAgICBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KCk7XG4gICAgICAgICAgICAgICAgJGFuaW1hdGUuZW50ZXIoY2xvbmUsIG51bGwsICRlbGVtZW50KS50aGVuKGFmdGVyQW5pbWF0aW9uKTtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY3VycmVudFNjb3BlID0gbmV3U2NvcGU7XG4gICAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gY2xvbmU7XG5cbiAgICAgICAgICAgICAgY3VycmVudFNjb3BlLiRlbWl0KCckaW5jbHVkZUNvbnRlbnRMb2FkZWQnLCBzcmMpO1xuICAgICAgICAgICAgICBzY29wZS4kZXZhbChvbmxvYWRFeHApO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmICh0aGlzQ2hhbmdlSWQgPT09IGNoYW5nZUNvdW50ZXIpIHtcbiAgICAgICAgICAgICAgICBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KCk7XG4gICAgICAgICAgICAgICAgc2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudEVycm9yJywgc3JjKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzY29wZS4kZW1pdCgnJGluY2x1ZGVDb250ZW50UmVxdWVzdGVkJywgc3JjKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xuICAgICAgICAgICAgY3RybC50ZW1wbGF0ZSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufV07XG5cbi8vIFRoaXMgZGlyZWN0aXZlIGlzIGNhbGxlZCBkdXJpbmcgdGhlICR0cmFuc2NsdWRlIGNhbGwgb2YgdGhlIGZpcnN0IGBuZ0luY2x1ZGVgIGRpcmVjdGl2ZS5cbi8vIEl0IHdpbGwgcmVwbGFjZSBhbmQgY29tcGlsZSB0aGUgY29udGVudCBvZiB0aGUgZWxlbWVudCB3aXRoIHRoZSBsb2FkZWQgdGVtcGxhdGUuXG4vLyBXZSBuZWVkIHRoaXMgZGlyZWN0aXZlIHNvIHRoYXQgdGhlIGVsZW1lbnQgY29udGVudCBpcyBhbHJlYWR5IGZpbGxlZCB3aGVuXG4vLyB0aGUgbGluayBmdW5jdGlvbiBvZiBhbm90aGVyIGRpcmVjdGl2ZSBvbiB0aGUgc2FtZSBlbGVtZW50IGFzIG5nSW5jbHVkZVxuLy8gaXMgY2FsbGVkLlxudmFyIG5nSW5jbHVkZUZpbGxDb250ZW50RGlyZWN0aXZlID0gWyckY29tcGlsZScsXG4gIGZ1bmN0aW9uKCRjb21waWxlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRUNBJyxcbiAgICAgIHByaW9yaXR5OiAtNDAwLFxuICAgICAgcmVxdWlyZTogJ25nSW5jbHVkZScsXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgJGVsZW1lbnQsICRhdHRyLCBjdHJsKSB7XG4gICAgICAgIGlmICgvU1ZHLy50ZXN0KCRlbGVtZW50WzBdLnRvU3RyaW5nKCkpKSB7XG4gICAgICAgICAgLy8gV2ViS2l0OiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM1Njk4IC0tLSBTVkcgZWxlbWVudHMgZG8gbm90XG4gICAgICAgICAgLy8gc3VwcG9ydCBpbm5lckhUTUwsIHNvIGRldGVjdCB0aGlzIGhlcmUgYW5kIHRyeSB0byBnZW5lcmF0ZSB0aGUgY29udGVudHNcbiAgICAgICAgICAvLyBzcGVjaWFsbHkuXG4gICAgICAgICAgJGVsZW1lbnQuZW1wdHkoKTtcbiAgICAgICAgICAkY29tcGlsZShqcUxpdGVCdWlsZEZyYWdtZW50KGN0cmwudGVtcGxhdGUsIGRvY3VtZW50KS5jaGlsZE5vZGVzKShzY29wZSxcbiAgICAgICAgICAgICAgZnVuY3Rpb24gbmFtZXNwYWNlQWRhcHRlZENsb25lKGNsb25lKSB7XG4gICAgICAgICAgICAkZWxlbWVudC5hcHBlbmQoY2xvbmUpO1xuICAgICAgICAgIH0sIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCAkZWxlbWVudCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgJGVsZW1lbnQuaHRtbChjdHJsLnRlbXBsYXRlKTtcbiAgICAgICAgJGNvbXBpbGUoJGVsZW1lbnQuY29udGVudHMoKSkoc2NvcGUpO1xuICAgICAgfVxuICAgIH07XG4gIH1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nSW5pdFxuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nSW5pdGAgZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gZXZhbHVhdGUgYW4gZXhwcmVzc2lvbiBpbiB0aGVcbiAqIGN1cnJlbnQgc2NvcGUuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWVycm9yXCI+XG4gKiBUaGUgb25seSBhcHByb3ByaWF0ZSB1c2Ugb2YgYG5nSW5pdGAgaXMgZm9yIGFsaWFzaW5nIHNwZWNpYWwgcHJvcGVydGllcyBvZlxuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1JlcGVhdCBgbmdSZXBlYXRgfSwgYXMgc2VlbiBpbiB0aGUgZGVtbyBiZWxvdy4gQmVzaWRlcyB0aGlzIGNhc2UsIHlvdVxuICogc2hvdWxkIHVzZSB7QGxpbmsgZ3VpZGUvY29udHJvbGxlciBjb250cm9sbGVyc30gcmF0aGVyIHRoYW4gYG5nSW5pdGBcbiAqIHRvIGluaXRpYWxpemUgdmFsdWVzIG9uIGEgc2NvcGUuXG4gKiA8L2Rpdj5cbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGUqKjogSWYgeW91IGhhdmUgYXNzaWdubWVudCBpbiBgbmdJbml0YCBhbG9uZyB3aXRoIHtAbGluayBuZy4kZmlsdGVyIGAkZmlsdGVyYH0sIG1ha2VcbiAqIHN1cmUgeW91IGhhdmUgcGFyZW50aGVzaXMgZm9yIGNvcnJlY3QgcHJlY2VkZW5jZTpcbiAqIDxwcmUgY2xhc3M9XCJwcmV0dHlwcmludFwiPlxuICogICA8ZGl2IG5nLWluaXQ9XCJ0ZXN0MSA9IChkYXRhIHwgb3JkZXJCeTonbmFtZScpXCI+PC9kaXY+XG4gKiA8L3ByZT5cbiAqIDwvZGl2PlxuICpcbiAqIEBwcmlvcml0eSA0NTBcbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdJbml0IHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWwuXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cImluaXRFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICA8c2NyaXB0PlxuICAgICBhbmd1bGFyLm1vZHVsZSgnaW5pdEV4YW1wbGUnLCBbXSlcbiAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgJHNjb3BlLmxpc3QgPSBbWydhJywgJ2InXSwgWydjJywgJ2QnXV07XG4gICAgICAgfV0pO1xuICAgPC9zY3JpcHQ+XG4gICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICA8ZGl2IG5nLXJlcGVhdD1cImlubmVyTGlzdCBpbiBsaXN0XCIgbmctaW5pdD1cIm91dGVySW5kZXggPSAkaW5kZXhcIj5cbiAgICAgICA8ZGl2IG5nLXJlcGVhdD1cInZhbHVlIGluIGlubmVyTGlzdFwiIG5nLWluaXQ9XCJpbm5lckluZGV4ID0gJGluZGV4XCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJleGFtcGxlLWluaXRcIj5saXN0WyB7e291dGVySW5kZXh9fSBdWyB7e2lubmVySW5kZXh9fSBdID0ge3t2YWx1ZX19Ozwvc3Bhbj5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9kaXY+XG4gICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBhbGlhcyBpbmRleCBwb3NpdGlvbnMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIHZhciBlbGVtZW50cyA9IGVsZW1lbnQuYWxsKGJ5LmNzcygnLmV4YW1wbGUtaW5pdCcpKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50cy5nZXQoMCkuZ2V0VGV4dCgpKS50b0JlKCdsaXN0WyAwIF1bIDAgXSA9IGE7Jyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudHMuZ2V0KDEpLmdldFRleHQoKSkudG9CZSgnbGlzdFsgMCBdWyAxIF0gPSBiOycpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnRzLmdldCgyKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3RbIDEgXVsgMCBdID0gYzsnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50cy5nZXQoMykuZ2V0VGV4dCgpKS50b0JlKCdsaXN0WyAxIF1bIDEgXSA9IGQ7Jyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nSW5pdERpcmVjdGl2ZSA9IG5nRGlyZWN0aXZlKHtcbiAgcHJpb3JpdHk6IDQ1MCxcbiAgY29tcGlsZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByZTogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIHNjb3BlLiRldmFsKGF0dHJzLm5nSW5pdCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdOb25CaW5kYWJsZVxuICogQHJlc3RyaWN0IEFDXG4gKiBAcHJpb3JpdHkgMTAwMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ05vbkJpbmRhYmxlYCBkaXJlY3RpdmUgdGVsbHMgQW5ndWxhciBub3QgdG8gY29tcGlsZSBvciBiaW5kIHRoZSBjb250ZW50cyBvZiB0aGUgY3VycmVudFxuICogRE9NIGVsZW1lbnQuIFRoaXMgaXMgdXNlZnVsIGlmIHRoZSBlbGVtZW50IGNvbnRhaW5zIHdoYXQgYXBwZWFycyB0byBiZSBBbmd1bGFyIGRpcmVjdGl2ZXMgYW5kXG4gKiBiaW5kaW5ncyBidXQgd2hpY2ggc2hvdWxkIGJlIGlnbm9yZWQgYnkgQW5ndWxhci4gVGhpcyBjb3VsZCBiZSB0aGUgY2FzZSBpZiB5b3UgaGF2ZSBhIHNpdGUgdGhhdFxuICogZGlzcGxheXMgc25pcHBldHMgb2YgY29kZSwgZm9yIGluc3RhbmNlLlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICpcbiAqIEBleGFtcGxlXG4gKiBJbiB0aGlzIGV4YW1wbGUgdGhlcmUgYXJlIHR3byBsb2NhdGlvbnMgd2hlcmUgYSBzaW1wbGUgaW50ZXJwb2xhdGlvbiBiaW5kaW5nIChge3t9fWApIGlzIHByZXNlbnQsXG4gKiBidXQgdGhlIG9uZSB3cmFwcGVkIGluIGBuZ05vbkJpbmRhYmxlYCBpcyBsZWZ0IGFsb25lLlxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8ZGl2Pk5vcm1hbDoge3sxICsgMn19PC9kaXY+XG4gICAgICAgIDxkaXYgbmctbm9uLWJpbmRhYmxlPklnbm9yZWQ6IHt7MSArIDJ9fTwvZGl2PlxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctbm9uLWJpbmRhYmxlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCcxICsgMicpKS5nZXRUZXh0KCkpLnRvQ29udGFpbignMycpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQuYWxsKGJ5LmNzcygnZGl2JykpLmxhc3QoKS5nZXRUZXh0KCkpLnRvTWF0Y2goLzEgXFwrIDIvKTtcbiAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ05vbkJpbmRhYmxlRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoeyB0ZXJtaW5hbDogdHJ1ZSwgcHJpb3JpdHk6IDEwMDAgfSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdQbHVyYWxpemVcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYG5nUGx1cmFsaXplYCBpcyBhIGRpcmVjdGl2ZSB0aGF0IGRpc3BsYXlzIG1lc3NhZ2VzIGFjY29yZGluZyB0byBlbi1VUyBsb2NhbGl6YXRpb24gcnVsZXMuXG4gKiBUaGVzZSBydWxlcyBhcmUgYnVuZGxlZCB3aXRoIGFuZ3VsYXIuanMsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlblxuICogKHNlZSB7QGxpbmsgZ3VpZGUvaTE4biBBbmd1bGFyIGkxOG59IGRldiBndWlkZSkuIFlvdSBjb25maWd1cmUgbmdQbHVyYWxpemUgZGlyZWN0aXZlXG4gKiBieSBzcGVjaWZ5aW5nIHRoZSBtYXBwaW5ncyBiZXR3ZWVuXG4gKiBbcGx1cmFsIGNhdGVnb3JpZXNdKGh0dHA6Ly91bmljb2RlLm9yZy9yZXBvcy9jbGRyLXRtcC90cnVuay9kaWZmL3N1cHBsZW1lbnRhbC9sYW5ndWFnZV9wbHVyYWxfcnVsZXMuaHRtbClcbiAqIGFuZCB0aGUgc3RyaW5ncyB0byBiZSBkaXNwbGF5ZWQuXG4gKlxuICogIyBQbHVyYWwgY2F0ZWdvcmllcyBhbmQgZXhwbGljaXQgbnVtYmVyIHJ1bGVzXG4gKiBUaGVyZSBhcmUgdHdvXG4gKiBbcGx1cmFsIGNhdGVnb3JpZXNdKGh0dHA6Ly91bmljb2RlLm9yZy9yZXBvcy9jbGRyLXRtcC90cnVuay9kaWZmL3N1cHBsZW1lbnRhbC9sYW5ndWFnZV9wbHVyYWxfcnVsZXMuaHRtbClcbiAqIGluIEFuZ3VsYXIncyBkZWZhdWx0IGVuLVVTIGxvY2FsZTogXCJvbmVcIiBhbmQgXCJvdGhlclwiLlxuICpcbiAqIFdoaWxlIGEgcGx1cmFsIGNhdGVnb3J5IG1heSBtYXRjaCBtYW55IG51bWJlcnMgKGZvciBleGFtcGxlLCBpbiBlbi1VUyBsb2NhbGUsIFwib3RoZXJcIiBjYW4gbWF0Y2hcbiAqIGFueSBudW1iZXIgdGhhdCBpcyBub3QgMSksIGFuIGV4cGxpY2l0IG51bWJlciBydWxlIGNhbiBvbmx5IG1hdGNoIG9uZSBudW1iZXIuIEZvciBleGFtcGxlLCB0aGVcbiAqIGV4cGxpY2l0IG51bWJlciBydWxlIGZvciBcIjNcIiBtYXRjaGVzIHRoZSBudW1iZXIgMy4gVGhlcmUgYXJlIGV4YW1wbGVzIG9mIHBsdXJhbCBjYXRlZ29yaWVzXG4gKiBhbmQgZXhwbGljaXQgbnVtYmVyIHJ1bGVzIHRocm91Z2hvdXQgdGhlIHJlc3Qgb2YgdGhpcyBkb2N1bWVudGF0aW9uLlxuICpcbiAqICMgQ29uZmlndXJpbmcgbmdQbHVyYWxpemVcbiAqIFlvdSBjb25maWd1cmUgbmdQbHVyYWxpemUgYnkgcHJvdmlkaW5nIDIgYXR0cmlidXRlczogYGNvdW50YCBhbmQgYHdoZW5gLlxuICogWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gb3B0aW9uYWwgYXR0cmlidXRlLCBgb2Zmc2V0YC5cbiAqXG4gKiBUaGUgdmFsdWUgb2YgdGhlIGBjb3VudGAgYXR0cmlidXRlIGNhbiBiZSBlaXRoZXIgYSBzdHJpbmcgb3IgYW4ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb25cbiAqIEFuZ3VsYXIgZXhwcmVzc2lvbn07IHRoZXNlIGFyZSBldmFsdWF0ZWQgb24gdGhlIGN1cnJlbnQgc2NvcGUgZm9yIGl0cyBib3VuZCB2YWx1ZS5cbiAqXG4gKiBUaGUgYHdoZW5gIGF0dHJpYnV0ZSBzcGVjaWZpZXMgdGhlIG1hcHBpbmdzIGJldHdlZW4gcGx1cmFsIGNhdGVnb3JpZXMgYW5kIHRoZSBhY3R1YWxcbiAqIHN0cmluZyB0byBiZSBkaXNwbGF5ZWQuIFRoZSB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIHNob3VsZCBiZSBhIEpTT04gb2JqZWN0LlxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBob3cgdG8gY29uZmlndXJlIG5nUGx1cmFsaXplOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxuZy1wbHVyYWxpemUgY291bnQ9XCJwZXJzb25Db3VudFwiXG4gICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICdvbmUnOiAnMSBwZXJzb24gaXMgdmlld2luZy4nLFxuICogICAgICAgICAgICAgICAgICAgICAgJ290aGVyJzogJ3t9IHBlb3BsZSBhcmUgdmlld2luZy4nfVwiPlxuICogPC9uZy1wbHVyYWxpemU+XG4gKmBgYFxuICpcbiAqIEluIHRoZSBleGFtcGxlLCBgXCIwOiBOb2JvZHkgaXMgdmlld2luZy5cImAgaXMgYW4gZXhwbGljaXQgbnVtYmVyIHJ1bGUuIElmIHlvdSBkaWQgbm90XG4gKiBzcGVjaWZ5IHRoaXMgcnVsZSwgMCB3b3VsZCBiZSBtYXRjaGVkIHRvIHRoZSBcIm90aGVyXCIgY2F0ZWdvcnkgYW5kIFwiMCBwZW9wbGUgYXJlIHZpZXdpbmdcIlxuICogd291bGQgYmUgc2hvd24gaW5zdGVhZCBvZiBcIk5vYm9keSBpcyB2aWV3aW5nXCIuIFlvdSBjYW4gc3BlY2lmeSBhbiBleHBsaWNpdCBudW1iZXIgcnVsZSBmb3JcbiAqIG90aGVyIG51bWJlcnMsIGZvciBleGFtcGxlIDEyLCBzbyB0aGF0IGluc3RlYWQgb2Ygc2hvd2luZyBcIjEyIHBlb3BsZSBhcmUgdmlld2luZ1wiLCB5b3UgY2FuXG4gKiBzaG93IFwiYSBkb3plbiBwZW9wbGUgYXJlIHZpZXdpbmdcIi5cbiAqXG4gKiBZb3UgY2FuIHVzZSBhIHNldCBvZiBjbG9zZWQgYnJhY2VzIChge31gKSBhcyBhIHBsYWNlaG9sZGVyIGZvciB0aGUgbnVtYmVyIHRoYXQgeW91IHdhbnQgc3Vic3RpdHV0ZWRcbiAqIGludG8gcGx1cmFsaXplZCBzdHJpbmdzLiBJbiB0aGUgcHJldmlvdXMgZXhhbXBsZSwgQW5ndWxhciB3aWxsIHJlcGxhY2UgYHt9YCB3aXRoXG4gKiA8c3BhbiBuZy1ub24tYmluZGFibGU+YHt7cGVyc29uQ291bnR9fWA8L3NwYW4+LiBUaGUgY2xvc2VkIGJyYWNlcyBge31gIGlzIGEgcGxhY2Vob2xkZXJcbiAqIGZvciA8c3BhbiBuZy1ub24tYmluZGFibGU+e3tudW1iZXJFeHByZXNzaW9ufX08L3NwYW4+LlxuICpcbiAqICMgQ29uZmlndXJpbmcgbmdQbHVyYWxpemUgd2l0aCBvZmZzZXRcbiAqIFRoZSBgb2Zmc2V0YCBhdHRyaWJ1dGUgYWxsb3dzIGZ1cnRoZXIgY3VzdG9taXphdGlvbiBvZiBwbHVyYWxpemVkIHRleHQsIHdoaWNoIGNhbiByZXN1bHQgaW5cbiAqIGEgYmV0dGVyIHVzZXIgZXhwZXJpZW5jZS4gRm9yIGV4YW1wbGUsIGluc3RlYWQgb2YgdGhlIG1lc3NhZ2UgXCI0IHBlb3BsZSBhcmUgdmlld2luZyB0aGlzIGRvY3VtZW50XCIsXG4gKiB5b3UgbWlnaHQgZGlzcGxheSBcIkpvaG4sIEthdGUgYW5kIDIgb3RoZXJzIGFyZSB2aWV3aW5nIHRoaXMgZG9jdW1lbnRcIi5cbiAqIFRoZSBvZmZzZXQgYXR0cmlidXRlIGFsbG93cyB5b3UgdG8gb2Zmc2V0IGEgbnVtYmVyIGJ5IGFueSBkZXNpcmVkIHZhbHVlLlxuICogTGV0J3MgdGFrZSBhIGxvb2sgYXQgYW4gZXhhbXBsZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8bmctcGx1cmFsaXplIGNvdW50PVwicGVyc29uQ291bnRcIiBvZmZzZXQ9MlxuICogICAgICAgICAgICAgICB3aGVuPVwieycwJzogJ05vYm9keSBpcyB2aWV3aW5nLicsXG4gKiAgICAgICAgICAgICAgICAgICAgICAnMSc6ICd7e3BlcnNvbjF9fSBpcyB2aWV3aW5nLicsXG4gKiAgICAgICAgICAgICAgICAgICAgICAnMic6ICd7e3BlcnNvbjF9fSBhbmQge3twZXJzb24yfX0gYXJlIHZpZXdpbmcuJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICdvbmUnOiAne3twZXJzb24xfX0sIHt7cGVyc29uMn19IGFuZCBvbmUgb3RoZXIgcGVyc29uIGFyZSB2aWV3aW5nLicsXG4gKiAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne3twZXJzb24xfX0sIHt7cGVyc29uMn19IGFuZCB7fSBvdGhlciBwZW9wbGUgYXJlIHZpZXdpbmcuJ31cIj5cbiAqIDwvbmctcGx1cmFsaXplPlxuICogYGBgXG4gKlxuICogTm90aWNlIHRoYXQgd2UgYXJlIHN0aWxsIHVzaW5nIHR3byBwbHVyYWwgY2F0ZWdvcmllcyhvbmUsIG90aGVyKSwgYnV0IHdlIGFkZGVkXG4gKiB0aHJlZSBleHBsaWNpdCBudW1iZXIgcnVsZXMgMCwgMSBhbmQgMi5cbiAqIFdoZW4gb25lIHBlcnNvbiwgcGVyaGFwcyBKb2huLCB2aWV3cyB0aGUgZG9jdW1lbnQsIFwiSm9obiBpcyB2aWV3aW5nXCIgd2lsbCBiZSBzaG93bi5cbiAqIFdoZW4gdGhyZWUgcGVvcGxlIHZpZXcgdGhlIGRvY3VtZW50LCBubyBleHBsaWNpdCBudW1iZXIgcnVsZSBpcyBmb3VuZCwgc29cbiAqIGFuIG9mZnNldCBvZiAyIGlzIHRha2VuIG9mZiAzLCBhbmQgQW5ndWxhciB1c2VzIDEgdG8gZGVjaWRlIHRoZSBwbHVyYWwgY2F0ZWdvcnkuXG4gKiBJbiB0aGlzIGNhc2UsIHBsdXJhbCBjYXRlZ29yeSAnb25lJyBpcyBtYXRjaGVkIGFuZCBcIkpvaG4sIE1hcnkgYW5kIG9uZSBvdGhlciBwZXJzb24gYXJlIHZpZXdpbmdcIlxuICogaXMgc2hvd24uXG4gKlxuICogTm90ZSB0aGF0IHdoZW4geW91IHNwZWNpZnkgb2Zmc2V0cywgeW91IG11c3QgcHJvdmlkZSBleHBsaWNpdCBudW1iZXIgcnVsZXMgZm9yXG4gKiBudW1iZXJzIGZyb20gMCB1cCB0byBhbmQgaW5jbHVkaW5nIHRoZSBvZmZzZXQuIElmIHlvdSB1c2UgYW4gb2Zmc2V0IG9mIDMsIGZvciBleGFtcGxlLFxuICogeW91IG11c3QgcHJvdmlkZSBleHBsaWNpdCBudW1iZXIgcnVsZXMgZm9yIDAsIDEsIDIgYW5kIDMuIFlvdSBtdXN0IGFsc28gcHJvdmlkZSBwbHVyYWwgc3RyaW5ncyBmb3JcbiAqIHBsdXJhbCBjYXRlZ29yaWVzIFwib25lXCIgYW5kIFwib3RoZXJcIi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xleHByZXNzaW9ufSBjb3VudCBUaGUgdmFyaWFibGUgdG8gYmUgYm91bmQgdG8uXG4gKiBAcGFyYW0ge3N0cmluZ30gd2hlbiBUaGUgbWFwcGluZyBiZXR3ZWVuIHBsdXJhbCBjYXRlZ29yeSB0byBpdHMgY29ycmVzcG9uZGluZyBzdHJpbmdzLlxuICogQHBhcmFtIHtudW1iZXI9fSBvZmZzZXQgT2Zmc2V0IHRvIGRlZHVjdCBmcm9tIHRoZSB0b3RhbCBudW1iZXIuXG4gKlxuICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZSBtb2R1bGU9XCJwbHVyYWxpemVFeGFtcGxlXCI+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdwbHVyYWxpemVFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAkc2NvcGUucGVyc29uMSA9ICdJZ29yJztcbiAgICAgICAgICAgICAgJHNjb3BlLnBlcnNvbjIgPSAnTWlza28nO1xuICAgICAgICAgICAgICAkc2NvcGUucGVyc29uQ291bnQgPSAxO1xuICAgICAgICAgICAgfV0pO1xuICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICBQZXJzb24gMTo8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInBlcnNvbjFcIiB2YWx1ZT1cIklnb3JcIiAvPjxici8+XG4gICAgICAgICAgUGVyc29uIDI6PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJwZXJzb24yXCIgdmFsdWU9XCJNaXNrb1wiIC8+PGJyLz5cbiAgICAgICAgICBOdW1iZXIgb2YgUGVvcGxlOjxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwicGVyc29uQ291bnRcIiB2YWx1ZT1cIjFcIiAvPjxici8+XG5cbiAgICAgICAgICA8IS0tLSBFeGFtcGxlIHdpdGggc2ltcGxlIHBsdXJhbGl6YXRpb24gcnVsZXMgZm9yIGVuIGxvY2FsZSAtLS0+XG4gICAgICAgICAgV2l0aG91dCBPZmZzZXQ6XG4gICAgICAgICAgPG5nLXBsdXJhbGl6ZSBjb3VudD1cInBlcnNvbkNvdW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb25lJzogJzEgcGVyc29uIGlzIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne30gcGVvcGxlIGFyZSB2aWV3aW5nLid9XCI+XG4gICAgICAgICAgPC9uZy1wbHVyYWxpemU+PGJyPlxuXG4gICAgICAgICAgPCEtLS0gRXhhbXBsZSB3aXRoIG9mZnNldCAtLS0+XG4gICAgICAgICAgV2l0aCBPZmZzZXQoMik6XG4gICAgICAgICAgPG5nLXBsdXJhbGl6ZSBjb3VudD1cInBlcnNvbkNvdW50XCIgb2Zmc2V0PTJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnMSc6ICd7e3BlcnNvbjF9fSBpcyB2aWV3aW5nLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzInOiAne3twZXJzb24xfX0gYW5kIHt7cGVyc29uMn19IGFyZSB2aWV3aW5nLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29uZSc6ICd7e3BlcnNvbjF9fSwge3twZXJzb24yfX0gYW5kIG9uZSBvdGhlciBwZXJzb24gYXJlIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne3twZXJzb24xfX0sIHt7cGVyc29uMn19IGFuZCB7fSBvdGhlciBwZW9wbGUgYXJlIHZpZXdpbmcuJ31cIj5cbiAgICAgICAgICA8L25nLXBsdXJhbGl6ZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIGl0KCdzaG91bGQgc2hvdyBjb3JyZWN0IHBsdXJhbGl6ZWQgc3RyaW5nJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHdpdGhvdXRPZmZzZXQgPSBlbGVtZW50LmFsbChieS5jc3MoJ25nLXBsdXJhbGl6ZScpKS5nZXQoMCk7XG4gICAgICAgICAgdmFyIHdpdGhPZmZzZXQgPSBlbGVtZW50LmFsbChieS5jc3MoJ25nLXBsdXJhbGl6ZScpKS5nZXQoMSk7XG4gICAgICAgICAgdmFyIGNvdW50SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb25Db3VudCcpKTtcblxuICAgICAgICAgIGV4cGVjdCh3aXRob3V0T2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnMSBwZXJzb24gaXMgdmlld2luZy4nKTtcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0lnb3IgaXMgdmlld2luZy4nKTtcblxuICAgICAgICAgIGNvdW50SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICBjb3VudElucHV0LnNlbmRLZXlzKCcwJyk7XG5cbiAgICAgICAgICBleHBlY3Qod2l0aG91dE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ05vYm9keSBpcyB2aWV3aW5nLicpO1xuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnTm9ib2R5IGlzIHZpZXdpbmcuJyk7XG5cbiAgICAgICAgICBjb3VudElucHV0LmNsZWFyKCk7XG4gICAgICAgICAgY291bnRJbnB1dC5zZW5kS2V5cygnMicpO1xuXG4gICAgICAgICAgZXhwZWN0KHdpdGhvdXRPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCcyIHBlb3BsZSBhcmUgdmlld2luZy4nKTtcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0lnb3IgYW5kIE1pc2tvIGFyZSB2aWV3aW5nLicpO1xuXG4gICAgICAgICAgY291bnRJbnB1dC5jbGVhcigpO1xuICAgICAgICAgIGNvdW50SW5wdXQuc2VuZEtleXMoJzMnKTtcblxuICAgICAgICAgIGV4cGVjdCh3aXRob3V0T2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnMyBwZW9wbGUgYXJlIHZpZXdpbmcuJyk7XG4gICAgICAgICAgZXhwZWN0KHdpdGhPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCdJZ29yLCBNaXNrbyBhbmQgb25lIG90aGVyIHBlcnNvbiBhcmUgdmlld2luZy4nKTtcblxuICAgICAgICAgIGNvdW50SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICBjb3VudElucHV0LnNlbmRLZXlzKCc0Jyk7XG5cbiAgICAgICAgICBleHBlY3Qod2l0aG91dE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJzQgcGVvcGxlIGFyZSB2aWV3aW5nLicpO1xuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnSWdvciwgTWlza28gYW5kIDIgb3RoZXIgcGVvcGxlIGFyZSB2aWV3aW5nLicpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3Nob3VsZCBzaG93IGRhdGEtYm91bmQgbmFtZXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgd2l0aE9mZnNldCA9IGVsZW1lbnQuYWxsKGJ5LmNzcygnbmctcGx1cmFsaXplJykpLmdldCgxKTtcbiAgICAgICAgICB2YXIgcGVyc29uQ291bnQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb25Db3VudCcpKTtcbiAgICAgICAgICB2YXIgcGVyc29uMSA9IGVsZW1lbnQoYnkubW9kZWwoJ3BlcnNvbjEnKSk7XG4gICAgICAgICAgdmFyIHBlcnNvbjIgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb24yJykpO1xuICAgICAgICAgIHBlcnNvbkNvdW50LmNsZWFyKCk7XG4gICAgICAgICAgcGVyc29uQ291bnQuc2VuZEtleXMoJzQnKTtcbiAgICAgICAgICBwZXJzb24xLmNsZWFyKCk7XG4gICAgICAgICAgcGVyc29uMS5zZW5kS2V5cygnRGknKTtcbiAgICAgICAgICBwZXJzb24yLmNsZWFyKCk7XG4gICAgICAgICAgcGVyc29uMi5zZW5kS2V5cygnVm9qdGEnKTtcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0RpLCBWb2p0YSBhbmQgMiBvdGhlciBwZW9wbGUgYXJlIHZpZXdpbmcuJyk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nUGx1cmFsaXplRGlyZWN0aXZlID0gWyckbG9jYWxlJywgJyRpbnRlcnBvbGF0ZScsIGZ1bmN0aW9uKCRsb2NhbGUsICRpbnRlcnBvbGF0ZSkge1xuICB2YXIgQlJBQ0UgPSAve30vZztcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgdmFyIG51bWJlckV4cCA9IGF0dHIuY291bnQsXG4gICAgICAgICAgd2hlbkV4cCA9IGF0dHIuJGF0dHIud2hlbiAmJiBlbGVtZW50LmF0dHIoYXR0ci4kYXR0ci53aGVuKSwgLy8gd2UgaGF2ZSB7e319IGluIGF0dHJzXG4gICAgICAgICAgb2Zmc2V0ID0gYXR0ci5vZmZzZXQgfHwgMCxcbiAgICAgICAgICB3aGVucyA9IHNjb3BlLiRldmFsKHdoZW5FeHApIHx8IHt9LFxuICAgICAgICAgIHdoZW5zRXhwRm5zID0ge30sXG4gICAgICAgICAgc3RhcnRTeW1ib2wgPSAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKSxcbiAgICAgICAgICBlbmRTeW1ib2wgPSAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCksXG4gICAgICAgICAgaXNXaGVuID0gL153aGVuKE1pbnVzKT8oLispJC87XG5cbiAgICAgIGZvckVhY2goYXR0ciwgZnVuY3Rpb24oZXhwcmVzc2lvbiwgYXR0cmlidXRlTmFtZSkge1xuICAgICAgICBpZiAoaXNXaGVuLnRlc3QoYXR0cmlidXRlTmFtZSkpIHtcbiAgICAgICAgICB3aGVuc1tsb3dlcmNhc2UoYXR0cmlidXRlTmFtZS5yZXBsYWNlKCd3aGVuJywgJycpLnJlcGxhY2UoJ01pbnVzJywgJy0nKSldID1cbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cihhdHRyLiRhdHRyW2F0dHJpYnV0ZU5hbWVdKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBmb3JFYWNoKHdoZW5zLCBmdW5jdGlvbihleHByZXNzaW9uLCBrZXkpIHtcbiAgICAgICAgd2hlbnNFeHBGbnNba2V5XSA9XG4gICAgICAgICAgJGludGVycG9sYXRlKGV4cHJlc3Npb24ucmVwbGFjZShCUkFDRSwgc3RhcnRTeW1ib2wgKyBudW1iZXJFeHAgKyAnLScgK1xuICAgICAgICAgICAgb2Zmc2V0ICsgZW5kU3ltYm9sKSk7XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIG5nUGx1cmFsaXplV2F0Y2goKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHBhcnNlRmxvYXQoc2NvcGUuJGV2YWwobnVtYmVyRXhwKSk7XG5cbiAgICAgICAgaWYgKCFpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgICAvL2lmIGV4cGxpY2l0IG51bWJlciBydWxlIHN1Y2ggYXMgMSwgMiwgMy4uLiBpcyBkZWZpbmVkLCBqdXN0IHVzZSBpdC4gT3RoZXJ3aXNlLFxuICAgICAgICAgIC8vY2hlY2sgaXQgYWdhaW5zdCBwbHVyYWxpemF0aW9uIHJ1bGVzIGluICRsb2NhbGUgc2VydmljZVxuICAgICAgICAgIGlmICghKHZhbHVlIGluIHdoZW5zKSkgdmFsdWUgPSAkbG9jYWxlLnBsdXJhbENhdCh2YWx1ZSAtIG9mZnNldCk7XG4gICAgICAgICAgIHJldHVybiB3aGVuc0V4cEZuc1t2YWx1ZV0oc2NvcGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgfSwgZnVuY3Rpb24gbmdQbHVyYWxpemVXYXRjaEFjdGlvbihuZXdWYWwpIHtcbiAgICAgICAgZWxlbWVudC50ZXh0KG5ld1ZhbCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1JlcGVhdFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ1JlcGVhdGAgZGlyZWN0aXZlIGluc3RhbnRpYXRlcyBhIHRlbXBsYXRlIG9uY2UgcGVyIGl0ZW0gZnJvbSBhIGNvbGxlY3Rpb24uIEVhY2ggdGVtcGxhdGVcbiAqIGluc3RhbmNlIGdldHMgaXRzIG93biBzY29wZSwgd2hlcmUgdGhlIGdpdmVuIGxvb3AgdmFyaWFibGUgaXMgc2V0IHRvIHRoZSBjdXJyZW50IGNvbGxlY3Rpb24gaXRlbSxcbiAqIGFuZCBgJGluZGV4YCBpcyBzZXQgdG8gdGhlIGl0ZW0gaW5kZXggb3Iga2V5LlxuICpcbiAqIFNwZWNpYWwgcHJvcGVydGllcyBhcmUgZXhwb3NlZCBvbiB0aGUgbG9jYWwgc2NvcGUgb2YgZWFjaCB0ZW1wbGF0ZSBpbnN0YW5jZSwgaW5jbHVkaW5nOlxuICpcbiAqIHwgVmFyaWFibGUgIHwgVHlwZSAgICAgICAgICAgIHwgRGV0YWlscyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwtLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwgYCRpbmRleGAgIHwge0B0eXBlIG51bWJlcn0gIHwgaXRlcmF0b3Igb2Zmc2V0IG9mIHRoZSByZXBlYXRlZCBlbGVtZW50ICgwLi5sZW5ndGgtMSkgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgYCRmaXJzdGAgIHwge0B0eXBlIGJvb2xlYW59IHwgdHJ1ZSBpZiB0aGUgcmVwZWF0ZWQgZWxlbWVudCBpcyBmaXJzdCBpbiB0aGUgaXRlcmF0b3IuICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgYCRtaWRkbGVgIHwge0B0eXBlIGJvb2xlYW59IHwgdHJ1ZSBpZiB0aGUgcmVwZWF0ZWQgZWxlbWVudCBpcyBiZXR3ZWVuIHRoZSBmaXJzdCBhbmQgbGFzdCBpbiB0aGUgaXRlcmF0b3IuIHxcbiAqIHwgYCRsYXN0YCAgIHwge0B0eXBlIGJvb2xlYW59IHwgdHJ1ZSBpZiB0aGUgcmVwZWF0ZWQgZWxlbWVudCBpcyBsYXN0IGluIHRoZSBpdGVyYXRvci4gICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgYCRldmVuYCAgIHwge0B0eXBlIGJvb2xlYW59IHwgdHJ1ZSBpZiB0aGUgaXRlcmF0b3IgcG9zaXRpb24gYCRpbmRleGAgaXMgZXZlbiAob3RoZXJ3aXNlIGZhbHNlKS4gICAgICAgICAgIHxcbiAqIHwgYCRvZGRgICAgIHwge0B0eXBlIGJvb2xlYW59IHwgdHJ1ZSBpZiB0aGUgaXRlcmF0b3IgcG9zaXRpb24gYCRpbmRleGAgaXMgb2RkIChvdGhlcndpc2UgZmFsc2UpLiAgICAgICAgICAgIHxcbiAqXG4gKiBDcmVhdGluZyBhbGlhc2VzIGZvciB0aGVzZSBwcm9wZXJ0aWVzIGlzIHBvc3NpYmxlIHdpdGgge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0luaXQgYG5nSW5pdGB9LlxuICogVGhpcyBtYXkgYmUgdXNlZnVsIHdoZW4sIGZvciBpbnN0YW5jZSwgbmVzdGluZyBuZ1JlcGVhdHMuXG4gKlxuICogIyBTcGVjaWFsIHJlcGVhdCBzdGFydCBhbmQgZW5kIHBvaW50c1xuICogVG8gcmVwZWF0IGEgc2VyaWVzIG9mIGVsZW1lbnRzIGluc3RlYWQgb2YganVzdCBvbmUgcGFyZW50IGVsZW1lbnQsIG5nUmVwZWF0IChhcyB3ZWxsIGFzIG90aGVyIG5nIGRpcmVjdGl2ZXMpIHN1cHBvcnRzIGV4dGVuZGluZ1xuICogdGhlIHJhbmdlIG9mIHRoZSByZXBlYXRlciBieSBkZWZpbmluZyBleHBsaWNpdCBzdGFydCBhbmQgZW5kIHBvaW50cyBieSB1c2luZyAqKm5nLXJlcGVhdC1zdGFydCoqIGFuZCAqKm5nLXJlcGVhdC1lbmQqKiByZXNwZWN0aXZlbHkuXG4gKiBUaGUgKipuZy1yZXBlYXQtc3RhcnQqKiBkaXJlY3RpdmUgd29ya3MgdGhlIHNhbWUgYXMgKipuZy1yZXBlYXQqKiwgYnV0IHdpbGwgcmVwZWF0IGFsbCB0aGUgSFRNTCBjb2RlIChpbmNsdWRpbmcgdGhlIHRhZyBpdCdzIGRlZmluZWQgb24pXG4gKiB1cCB0byBhbmQgaW5jbHVkaW5nIHRoZSBlbmRpbmcgSFRNTCB0YWcgd2hlcmUgKipuZy1yZXBlYXQtZW5kKiogaXMgcGxhY2VkLlxuICpcbiAqIFRoZSBleGFtcGxlIGJlbG93IG1ha2VzIHVzZSBvZiB0aGlzIGZlYXR1cmU6XG4gKiBgYGBodG1sXG4gKiAgIDxoZWFkZXIgbmctcmVwZWF0LXN0YXJ0PVwiaXRlbSBpbiBpdGVtc1wiPlxuICogICAgIEhlYWRlciB7eyBpdGVtIH19XG4gKiAgIDwvaGVhZGVyPlxuICogICA8ZGl2IGNsYXNzPVwiYm9keVwiPlxuICogICAgIEJvZHkge3sgaXRlbSB9fVxuICogICA8L2Rpdj5cbiAqICAgPGZvb3RlciBuZy1yZXBlYXQtZW5kPlxuICogICAgIEZvb3RlciB7eyBpdGVtIH19XG4gKiAgIDwvZm9vdGVyPlxuICogYGBgXG4gKlxuICogQW5kIHdpdGggYW4gaW5wdXQgb2Yge0B0eXBlIFsnQScsJ0InXX0gZm9yIHRoZSBpdGVtcyB2YXJpYWJsZSBpbiB0aGUgZXhhbXBsZSBhYm92ZSwgdGhlIG91dHB1dCB3aWxsIGV2YWx1YXRlIHRvOlxuICogYGBgaHRtbFxuICogICA8aGVhZGVyPlxuICogICAgIEhlYWRlciBBXG4gKiAgIDwvaGVhZGVyPlxuICogICA8ZGl2IGNsYXNzPVwiYm9keVwiPlxuICogICAgIEJvZHkgQVxuICogICA8L2Rpdj5cbiAqICAgPGZvb3Rlcj5cbiAqICAgICBGb290ZXIgQVxuICogICA8L2Zvb3Rlcj5cbiAqICAgPGhlYWRlcj5cbiAqICAgICBIZWFkZXIgQlxuICogICA8L2hlYWRlcj5cbiAqICAgPGRpdiBjbGFzcz1cImJvZHlcIj5cbiAqICAgICBCb2R5IEJcbiAqICAgPC9kaXY+XG4gKiAgIDxmb290ZXI+XG4gKiAgICAgRm9vdGVyIEJcbiAqICAgPC9mb290ZXI+XG4gKiBgYGBcbiAqXG4gKiBUaGUgY3VzdG9tIHN0YXJ0IGFuZCBlbmQgcG9pbnRzIGZvciBuZ1JlcGVhdCBhbHNvIHN1cHBvcnQgYWxsIG90aGVyIEhUTUwgZGlyZWN0aXZlIHN5bnRheCBmbGF2b3JzIHByb3ZpZGVkIGluIEFuZ3VsYXJKUyAoc3VjaFxuICogYXMgKipkYXRhLW5nLXJlcGVhdC1zdGFydCoqLCAqKngtbmctcmVwZWF0LXN0YXJ0KiogYW5kICoqbmc6cmVwZWF0LXN0YXJ0KiopLlxuICpcbiAqIEBhbmltYXRpb25zXG4gKiAqKi5lbnRlcioqIC0gd2hlbiBhIG5ldyBpdGVtIGlzIGFkZGVkIHRvIHRoZSBsaXN0IG9yIHdoZW4gYW4gaXRlbSBpcyByZXZlYWxlZCBhZnRlciBhIGZpbHRlclxuICpcbiAqICoqLmxlYXZlKiogLSB3aGVuIGFuIGl0ZW0gaXMgcmVtb3ZlZCBmcm9tIHRoZSBsaXN0IG9yIHdoZW4gYW4gaXRlbSBpcyBmaWx0ZXJlZCBvdXRcbiAqXG4gKiAqKi5tb3ZlKiogLSB3aGVuIGFuIGFkamFjZW50IGl0ZW0gaXMgZmlsdGVyZWQgb3V0IGNhdXNpbmcgYSByZW9yZGVyIG9yIHdoZW4gdGhlIGl0ZW0gY29udGVudHMgYXJlIHJlb3JkZXJlZFxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHNjb3BlXG4gKiBAcHJpb3JpdHkgMTAwMFxuICogQHBhcmFtIHtyZXBlYXRfZXhwcmVzc2lvbn0gbmdSZXBlYXQgVGhlIGV4cHJlc3Npb24gaW5kaWNhdGluZyBob3cgdG8gZW51bWVyYXRlIGEgY29sbGVjdGlvbi4gVGhlc2VcbiAqICAgZm9ybWF0cyBhcmUgY3VycmVudGx5IHN1cHBvcnRlZDpcbiAqXG4gKiAgICogYHZhcmlhYmxlIGluIGV4cHJlc3Npb25gIOKAkyB3aGVyZSB2YXJpYWJsZSBpcyB0aGUgdXNlciBkZWZpbmVkIGxvb3AgdmFyaWFibGUgYW5kIGBleHByZXNzaW9uYFxuICogICAgIGlzIGEgc2NvcGUgZXhwcmVzc2lvbiBnaXZpbmcgdGhlIGNvbGxlY3Rpb24gdG8gZW51bWVyYXRlLlxuICpcbiAqICAgICBGb3IgZXhhbXBsZTogYGFsYnVtIGluIGFydGlzdC5hbGJ1bXNgLlxuICpcbiAqICAgKiBgKGtleSwgdmFsdWUpIGluIGV4cHJlc3Npb25gIOKAkyB3aGVyZSBga2V5YCBhbmQgYHZhbHVlYCBjYW4gYmUgYW55IHVzZXIgZGVmaW5lZCBpZGVudGlmaWVycyxcbiAqICAgICBhbmQgYGV4cHJlc3Npb25gIGlzIHRoZSBzY29wZSBleHByZXNzaW9uIGdpdmluZyB0aGUgY29sbGVjdGlvbiB0byBlbnVtZXJhdGUuXG4gKlxuICogICAgIEZvciBleGFtcGxlOiBgKG5hbWUsIGFnZSkgaW4geydhZGFtJzoxMCwgJ2FtYWxpZSc6MTJ9YC5cbiAqXG4gKiAgICogYHZhcmlhYmxlIGluIGV4cHJlc3Npb24gdHJhY2sgYnkgdHJhY2tpbmdfZXhwcmVzc2lvbmAg4oCTIFlvdSBjYW4gYWxzbyBwcm92aWRlIGFuIG9wdGlvbmFsIHRyYWNraW5nIGZ1bmN0aW9uXG4gKiAgICAgd2hpY2ggY2FuIGJlIHVzZWQgdG8gYXNzb2NpYXRlIHRoZSBvYmplY3RzIGluIHRoZSBjb2xsZWN0aW9uIHdpdGggdGhlIERPTSBlbGVtZW50cy4gSWYgbm8gdHJhY2tpbmcgZnVuY3Rpb25cbiAqICAgICBpcyBzcGVjaWZpZWQgdGhlIG5nLXJlcGVhdCBhc3NvY2lhdGVzIGVsZW1lbnRzIGJ5IGlkZW50aXR5IGluIHRoZSBjb2xsZWN0aW9uLiBJdCBpcyBhbiBlcnJvciB0byBoYXZlXG4gKiAgICAgbW9yZSB0aGFuIG9uZSB0cmFja2luZyBmdW5jdGlvbiB0byByZXNvbHZlIHRvIHRoZSBzYW1lIGtleS4gKFRoaXMgd291bGQgbWVhbiB0aGF0IHR3byBkaXN0aW5jdCBvYmplY3RzIGFyZVxuICogICAgIG1hcHBlZCB0byB0aGUgc2FtZSBET00gZWxlbWVudCwgd2hpY2ggaXMgbm90IHBvc3NpYmxlLikgIEZpbHRlcnMgc2hvdWxkIGJlIGFwcGxpZWQgdG8gdGhlIGV4cHJlc3Npb24sXG4gKiAgICAgYmVmb3JlIHNwZWNpZnlpbmcgYSB0cmFja2luZyBleHByZXNzaW9uLlxuICpcbiAqICAgICBGb3IgZXhhbXBsZTogYGl0ZW0gaW4gaXRlbXNgIGlzIGVxdWl2YWxlbnQgdG8gYGl0ZW0gaW4gaXRlbXMgdHJhY2sgYnkgJGlkKGl0ZW0pYC4gVGhpcyBpbXBsaWVzIHRoYXQgdGhlIERPTSBlbGVtZW50c1xuICogICAgIHdpbGwgYmUgYXNzb2NpYXRlZCBieSBpdGVtIGlkZW50aXR5IGluIHRoZSBhcnJheS5cbiAqXG4gKiAgICAgRm9yIGV4YW1wbGU6IGBpdGVtIGluIGl0ZW1zIHRyYWNrIGJ5ICRpZChpdGVtKWAuIEEgYnVpbHQgaW4gYCRpZCgpYCBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBhc3NpZ24gYSB1bmlxdWVcbiAqICAgICBgJCRoYXNoS2V5YCBwcm9wZXJ0eSB0byBlYWNoIGl0ZW0gaW4gdGhlIGFycmF5LiBUaGlzIHByb3BlcnR5IGlzIHRoZW4gdXNlZCBhcyBhIGtleSB0byBhc3NvY2lhdGVkIERPTSBlbGVtZW50c1xuICogICAgIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgaXRlbSBpbiB0aGUgYXJyYXkgYnkgaWRlbnRpdHkuIE1vdmluZyB0aGUgc2FtZSBvYmplY3QgaW4gYXJyYXkgd291bGQgbW92ZSB0aGUgRE9NXG4gKiAgICAgZWxlbWVudCBpbiB0aGUgc2FtZSB3YXkgaW4gdGhlIERPTS5cbiAqXG4gKiAgICAgRm9yIGV4YW1wbGU6IGBpdGVtIGluIGl0ZW1zIHRyYWNrIGJ5IGl0ZW0uaWRgIGlzIGEgdHlwaWNhbCBwYXR0ZXJuIHdoZW4gdGhlIGl0ZW1zIGNvbWUgZnJvbSB0aGUgZGF0YWJhc2UuIEluIHRoaXNcbiAqICAgICBjYXNlIHRoZSBvYmplY3QgaWRlbnRpdHkgZG9lcyBub3QgbWF0dGVyLiBUd28gb2JqZWN0cyBhcmUgY29uc2lkZXJlZCBlcXVpdmFsZW50IGFzIGxvbmcgYXMgdGhlaXIgYGlkYFxuICogICAgIHByb3BlcnR5IGlzIHNhbWUuXG4gKlxuICogICAgIEZvciBleGFtcGxlOiBgaXRlbSBpbiBpdGVtcyB8IGZpbHRlcjpzZWFyY2hUZXh0IHRyYWNrIGJ5IGl0ZW0uaWRgIGlzIGEgcGF0dGVybiB0aGF0IG1pZ2h0IGJlIHVzZWQgdG8gYXBwbHkgYSBmaWx0ZXJcbiAqICAgICB0byBpdGVtcyBpbiBjb25qdW5jdGlvbiB3aXRoIGEgdHJhY2tpbmcgZXhwcmVzc2lvbi5cbiAqXG4gKiAgICogYHZhcmlhYmxlIGluIGV4cHJlc3Npb24gYXMgYWxpYXNfZXhwcmVzc2lvbmAg4oCTIFlvdSBjYW4gYWxzbyBwcm92aWRlIGFuIG9wdGlvbmFsIGFsaWFzIGV4cHJlc3Npb24gd2hpY2ggd2lsbCB0aGVuIHN0b3JlIHRoZVxuICogICAgIGludGVybWVkaWF0ZSByZXN1bHRzIG9mIHRoZSByZXBlYXRlciBhZnRlciB0aGUgZmlsdGVycyBoYXZlIGJlZW4gYXBwbGllZC4gVHlwaWNhbGx5IHRoaXMgaXMgdXNlZCB0byByZW5kZXIgYSBzcGVjaWFsIG1lc3NhZ2VcbiAqICAgICB3aGVuIGEgZmlsdGVyIGlzIGFjdGl2ZSBvbiB0aGUgcmVwZWF0ZXIsIGJ1dCB0aGUgZmlsdGVyZWQgcmVzdWx0IHNldCBpcyBlbXB0eS5cbiAqXG4gKiAgICAgRm9yIGV4YW1wbGU6IGBpdGVtIGluIGl0ZW1zIHwgZmlsdGVyOnggYXMgcmVzdWx0c2Agd2lsbCBzdG9yZSB0aGUgZnJhZ21lbnQgb2YgdGhlIHJlcGVhdGVkIGl0ZW1zIGFzIGByZXN1bHRzYCwgYnV0IG9ubHkgYWZ0ZXJcbiAqICAgICB0aGUgaXRlbXMgaGF2ZSBiZWVuIHByb2Nlc3NlZCB0aHJvdWdoIHRoZSBmaWx0ZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIFRoaXMgZXhhbXBsZSBpbml0aWFsaXplcyB0aGUgc2NvcGUgdG8gYSBsaXN0IG9mIG5hbWVzIGFuZFxuICogdGhlbiB1c2VzIGBuZ1JlcGVhdGAgdG8gZGlzcGxheSBldmVyeSBwZXJzb246XG4gIDxleGFtcGxlIG1vZHVsZT1cIm5nQW5pbWF0ZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8ZGl2IG5nLWluaXQ9XCJmcmllbmRzID0gW1xuICAgICAgICB7bmFtZTonSm9obicsIGFnZToyNSwgZ2VuZGVyOidib3knfSxcbiAgICAgICAge25hbWU6J0plc3NpZScsIGFnZTozMCwgZ2VuZGVyOidnaXJsJ30sXG4gICAgICAgIHtuYW1lOidKb2hhbm5hJywgYWdlOjI4LCBnZW5kZXI6J2dpcmwnfSxcbiAgICAgICAge25hbWU6J0pveScsIGFnZToxNSwgZ2VuZGVyOidnaXJsJ30sXG4gICAgICAgIHtuYW1lOidNYXJ5JywgYWdlOjI4LCBnZW5kZXI6J2dpcmwnfSxcbiAgICAgICAge25hbWU6J1BldGVyJywgYWdlOjk1LCBnZW5kZXI6J2JveSd9LFxuICAgICAgICB7bmFtZTonU2ViYXN0aWFuJywgYWdlOjUwLCBnZW5kZXI6J2JveSd9LFxuICAgICAgICB7bmFtZTonRXJpa2EnLCBhZ2U6MjcsIGdlbmRlcjonZ2lybCd9LFxuICAgICAgICB7bmFtZTonUGF0cmljaycsIGFnZTo0MCwgZ2VuZGVyOidib3knfSxcbiAgICAgICAge25hbWU6J1NhbWFudGhhJywgYWdlOjYwLCBnZW5kZXI6J2dpcmwnfVxuICAgICAgXVwiPlxuICAgICAgICBJIGhhdmUge3tmcmllbmRzLmxlbmd0aH19IGZyaWVuZHMuIFRoZXkgYXJlOlxuICAgICAgICA8aW5wdXQgdHlwZT1cInNlYXJjaFwiIG5nLW1vZGVsPVwicVwiIHBsYWNlaG9sZGVyPVwiZmlsdGVyIGZyaWVuZHMuLi5cIiAvPlxuICAgICAgICA8dWwgY2xhc3M9XCJleGFtcGxlLWFuaW1hdGUtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGxpIGNsYXNzPVwiYW5pbWF0ZS1yZXBlYXRcIiBuZy1yZXBlYXQ9XCJmcmllbmQgaW4gZnJpZW5kcyB8IGZpbHRlcjpxIGFzIHJlc3VsdHNcIj5cbiAgICAgICAgICAgIFt7eyRpbmRleCArIDF9fV0ge3tmcmllbmQubmFtZX19IHdobyBpcyB7e2ZyaWVuZC5hZ2V9fSB5ZWFycyBvbGQuXG4gICAgICAgICAgPC9saT5cbiAgICAgICAgICA8bGkgY2xhc3M9XCJhbmltYXRlLXJlcGVhdFwiIG5nLWlmPVwicmVzdWx0cy5sZW5ndGggPT0gMFwiPlxuICAgICAgICAgICAgPHN0cm9uZz5ObyByZXN1bHRzIGZvdW5kLi4uPC9zdHJvbmc+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cbiAgICAgIC5leGFtcGxlLWFuaW1hdGUtY29udGFpbmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDp3aGl0ZTtcbiAgICAgICAgYm9yZGVyOjFweCBzb2xpZCBibGFjaztcbiAgICAgICAgbGlzdC1zdHlsZTpub25lO1xuICAgICAgICBtYXJnaW46MDtcbiAgICAgICAgcGFkZGluZzowIDEwcHg7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLXJlcGVhdCB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OjQwcHg7XG4gICAgICAgIGxpc3Qtc3R5bGU6bm9uZTtcbiAgICAgICAgYm94LXNpemluZzpib3JkZXItYm94O1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbW92ZSxcbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1lbnRlcixcbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1sZWF2ZSB7XG4gICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjphbGwgbGluZWFyIDAuNXM7XG4gICAgICAgIHRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbGVhdmUubmctbGVhdmUtYWN0aXZlLFxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLW1vdmUsXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctZW50ZXIge1xuICAgICAgICBvcGFjaXR5OjA7XG4gICAgICAgIG1heC1oZWlnaHQ6MDtcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWxlYXZlLFxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLW1vdmUubmctbW92ZS1hY3RpdmUsXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcbiAgICAgICAgb3BhY2l0eToxO1xuICAgICAgICBtYXgtaGVpZ2h0OjQwcHg7XG4gICAgICB9XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIHZhciBmcmllbmRzID0gZWxlbWVudC5hbGwoYnkucmVwZWF0ZXIoJ2ZyaWVuZCBpbiBmcmllbmRzJykpO1xuXG4gICAgICBpdCgnc2hvdWxkIHJlbmRlciBpbml0aWFsIGRhdGEgc2V0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdChmcmllbmRzLmNvdW50KCkpLnRvQmUoMTApO1xuICAgICAgICBleHBlY3QoZnJpZW5kcy5nZXQoMCkuZ2V0VGV4dCgpKS50b0VxdWFsKCdbMV0gSm9obiB3aG8gaXMgMjUgeWVhcnMgb2xkLicpO1xuICAgICAgICBleHBlY3QoZnJpZW5kcy5nZXQoMSkuZ2V0VGV4dCgpKS50b0VxdWFsKCdbMl0gSmVzc2llIHdobyBpcyAzMCB5ZWFycyBvbGQuJyk7XG4gICAgICAgIGV4cGVjdChmcmllbmRzLmxhc3QoKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1sxMF0gU2FtYW50aGEgd2hvIGlzIDYwIHllYXJzIG9sZC4nKTtcbiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnZnJpZW5kcy5sZW5ndGgnKSkuZ2V0VGV4dCgpKVxuICAgICAgICAgICAgLnRvTWF0Y2goXCJJIGhhdmUgMTAgZnJpZW5kcy4gVGhleSBhcmU6XCIpO1xuICAgICAgfSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIHVwZGF0ZSByZXBlYXRlciB3aGVuIGZpbHRlciBwcmVkaWNhdGUgY2hhbmdlcycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGZyaWVuZHMuY291bnQoKSkudG9CZSgxMCk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3EnKSkuc2VuZEtleXMoJ21hJyk7XG5cbiAgICAgICAgIGV4cGVjdChmcmllbmRzLmNvdW50KCkpLnRvQmUoMik7XG4gICAgICAgICBleHBlY3QoZnJpZW5kcy5nZXQoMCkuZ2V0VGV4dCgpKS50b0VxdWFsKCdbMV0gTWFyeSB3aG8gaXMgMjggeWVhcnMgb2xkLicpO1xuICAgICAgICAgZXhwZWN0KGZyaWVuZHMubGFzdCgpLmdldFRleHQoKSkudG9FcXVhbCgnWzJdIFNhbWFudGhhIHdobyBpcyA2MCB5ZWFycyBvbGQuJyk7XG4gICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdSZXBlYXREaXJlY3RpdmUgPSBbJyRwYXJzZScsICckYW5pbWF0ZScsIGZ1bmN0aW9uKCRwYXJzZSwgJGFuaW1hdGUpIHtcbiAgdmFyIE5HX1JFTU9WRUQgPSAnJCROR19SRU1PVkVEJztcbiAgdmFyIG5nUmVwZWF0TWluRXJyID0gbWluRXJyKCduZ1JlcGVhdCcpO1xuXG4gIHZhciB1cGRhdGVTY29wZSA9IGZ1bmN0aW9uKHNjb3BlLCBpbmRleCwgdmFsdWVJZGVudGlmaWVyLCB2YWx1ZSwga2V5SWRlbnRpZmllciwga2V5LCBhcnJheUxlbmd0aCkge1xuICAgIC8vIFRPRE8ocGVyZik6IGdlbmVyYXRlIHNldHRlcnMgdG8gc2hhdmUgb2ZmIH40MG1zIG9yIDEtMS41JVxuICAgIHNjb3BlW3ZhbHVlSWRlbnRpZmllcl0gPSB2YWx1ZTtcbiAgICBpZiAoa2V5SWRlbnRpZmllcikgc2NvcGVba2V5SWRlbnRpZmllcl0gPSBrZXk7XG4gICAgc2NvcGUuJGluZGV4ID0gaW5kZXg7XG4gICAgc2NvcGUuJGZpcnN0ID0gKGluZGV4ID09PSAwKTtcbiAgICBzY29wZS4kbGFzdCA9IChpbmRleCA9PT0gKGFycmF5TGVuZ3RoIC0gMSkpO1xuICAgIHNjb3BlLiRtaWRkbGUgPSAhKHNjb3BlLiRmaXJzdCB8fCBzY29wZS4kbGFzdCk7XG4gICAgLy8ganNoaW50IGJpdHdpc2U6IGZhbHNlXG4gICAgc2NvcGUuJG9kZCA9ICEoc2NvcGUuJGV2ZW4gPSAoaW5kZXgmMSkgPT09IDApO1xuICAgIC8vIGpzaGludCBiaXR3aXNlOiB0cnVlXG4gIH07XG5cbiAgdmFyIGdldEJsb2NrU3RhcnQgPSBmdW5jdGlvbihibG9jaykge1xuICAgIHJldHVybiBibG9jay5jbG9uZVswXTtcbiAgfTtcblxuICB2YXIgZ2V0QmxvY2tFbmQgPSBmdW5jdGlvbihibG9jaykge1xuICAgIHJldHVybiBibG9jay5jbG9uZVtibG9jay5jbG9uZS5sZW5ndGggLSAxXTtcbiAgfTtcblxuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBtdWx0aUVsZW1lbnQ6IHRydWUsXG4gICAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxuICAgIHByaW9yaXR5OiAxMDAwLFxuICAgIHRlcm1pbmFsOiB0cnVlLFxuICAgICQkdGxiOiB0cnVlLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nUmVwZWF0Q29tcGlsZSgkZWxlbWVudCwgJGF0dHIpIHtcbiAgICAgIHZhciBleHByZXNzaW9uID0gJGF0dHIubmdSZXBlYXQ7XG4gICAgICB2YXIgbmdSZXBlYXRFbmRDb21tZW50ID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgnIGVuZCBuZ1JlcGVhdDogJyArIGV4cHJlc3Npb24gKyAnICcpO1xuXG4gICAgICB2YXIgbWF0Y2ggPSBleHByZXNzaW9uLm1hdGNoKC9eXFxzKihbXFxzXFxTXSs/KVxccytpblxccysoW1xcc1xcU10rPykoPzpcXHMrYXNcXHMrKFtcXHNcXFNdKz8pKT8oPzpcXHMrdHJhY2tcXHMrYnlcXHMrKFtcXHNcXFNdKz8pKT9cXHMqJC8pO1xuXG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHRocm93IG5nUmVwZWF0TWluRXJyKCdpZXhwJywgXCJFeHBlY3RlZCBleHByZXNzaW9uIGluIGZvcm0gb2YgJ19pdGVtXyBpbiBfY29sbGVjdGlvbl9bIHRyYWNrIGJ5IF9pZF9dJyBidXQgZ290ICd7MH0nLlwiLFxuICAgICAgICAgICAgZXhwcmVzc2lvbik7XG4gICAgICB9XG5cbiAgICAgIHZhciBsaHMgPSBtYXRjaFsxXTtcbiAgICAgIHZhciByaHMgPSBtYXRjaFsyXTtcbiAgICAgIHZhciBhbGlhc0FzID0gbWF0Y2hbM107XG4gICAgICB2YXIgdHJhY2tCeUV4cCA9IG1hdGNoWzRdO1xuXG4gICAgICBtYXRjaCA9IGxocy5tYXRjaCgvXig/OihbXFwkXFx3XSspfFxcKChbXFwkXFx3XSspXFxzKixcXHMqKFtcXCRcXHddKylcXCkpJC8pO1xuXG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHRocm93IG5nUmVwZWF0TWluRXJyKCdpaWRleHAnLCBcIidfaXRlbV8nIGluICdfaXRlbV8gaW4gX2NvbGxlY3Rpb25fJyBzaG91bGQgYmUgYW4gaWRlbnRpZmllciBvciAnKF9rZXlfLCBfdmFsdWVfKScgZXhwcmVzc2lvbiwgYnV0IGdvdCAnezB9Jy5cIixcbiAgICAgICAgICAgIGxocyk7XG4gICAgICB9XG4gICAgICB2YXIgdmFsdWVJZGVudGlmaWVyID0gbWF0Y2hbM10gfHwgbWF0Y2hbMV07XG4gICAgICB2YXIga2V5SWRlbnRpZmllciA9IG1hdGNoWzJdO1xuXG4gICAgICBpZiAoYWxpYXNBcyAmJiAoIS9eWyRhLXpBLVpfXVskYS16QS1aMC05X10qJC8udGVzdChhbGlhc0FzKSB8fFxuICAgICAgICAgIC9eKG51bGx8dW5kZWZpbmVkfHRoaXN8XFwkaW5kZXh8XFwkZmlyc3R8XFwkbWlkZGxlfFxcJGxhc3R8XFwkZXZlbnxcXCRvZGR8XFwkcGFyZW50KSQvLnRlc3QoYWxpYXNBcykpKSB7XG4gICAgICAgIHRocm93IG5nUmVwZWF0TWluRXJyKCdiYWRpZGVudCcsIFwiYWxpYXMgJ3swfScgaXMgaW52YWxpZCAtLS0gbXVzdCBiZSBhIHZhbGlkIEpTIGlkZW50aWZpZXIgd2hpY2ggaXMgbm90IGEgcmVzZXJ2ZWQgbmFtZS5cIixcbiAgICAgICAgICBhbGlhc0FzKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHRyYWNrQnlFeHBHZXR0ZXIsIHRyYWNrQnlJZEV4cEZuLCB0cmFja0J5SWRBcnJheUZuLCB0cmFja0J5SWRPYmpGbjtcbiAgICAgIHZhciBoYXNoRm5Mb2NhbHMgPSB7JGlkOiBoYXNoS2V5fTtcblxuICAgICAgaWYgKHRyYWNrQnlFeHApIHtcbiAgICAgICAgdHJhY2tCeUV4cEdldHRlciA9ICRwYXJzZSh0cmFja0J5RXhwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyYWNrQnlJZEFycmF5Rm4gPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGhhc2hLZXkodmFsdWUpO1xuICAgICAgICB9O1xuICAgICAgICB0cmFja0J5SWRPYmpGbiA9IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBuZ1JlcGVhdExpbmsoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHIsIGN0cmwsICR0cmFuc2NsdWRlKSB7XG5cbiAgICAgICAgaWYgKHRyYWNrQnlFeHBHZXR0ZXIpIHtcbiAgICAgICAgICB0cmFja0J5SWRFeHBGbiA9IGZ1bmN0aW9uKGtleSwgdmFsdWUsIGluZGV4KSB7XG4gICAgICAgICAgICAvLyBhc3NpZ24ga2V5LCB2YWx1ZSwgYW5kICRpbmRleCB0byB0aGUgbG9jYWxzIHNvIHRoYXQgdGhleSBjYW4gYmUgdXNlZCBpbiBoYXNoIGZ1bmN0aW9uc1xuICAgICAgICAgICAgaWYgKGtleUlkZW50aWZpZXIpIGhhc2hGbkxvY2Fsc1trZXlJZGVudGlmaWVyXSA9IGtleTtcbiAgICAgICAgICAgIGhhc2hGbkxvY2Fsc1t2YWx1ZUlkZW50aWZpZXJdID0gdmFsdWU7XG4gICAgICAgICAgICBoYXNoRm5Mb2NhbHMuJGluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICByZXR1cm4gdHJhY2tCeUV4cEdldHRlcigkc2NvcGUsIGhhc2hGbkxvY2Fscyk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0b3JlIGEgbGlzdCBvZiBlbGVtZW50cyBmcm9tIHByZXZpb3VzIHJ1bi4gVGhpcyBpcyBhIGhhc2ggd2hlcmUga2V5IGlzIHRoZSBpdGVtIGZyb20gdGhlXG4gICAgICAgIC8vIGl0ZXJhdG9yLCBhbmQgdGhlIHZhbHVlIGlzIG9iamVjdHMgd2l0aCBmb2xsb3dpbmcgcHJvcGVydGllcy5cbiAgICAgICAgLy8gICAtIHNjb3BlOiBib3VuZCBzY29wZVxuICAgICAgICAvLyAgIC0gZWxlbWVudDogcHJldmlvdXMgZWxlbWVudC5cbiAgICAgICAgLy8gICAtIGluZGV4OiBwb3NpdGlvblxuICAgICAgICAvL1xuICAgICAgICAvLyBXZSBhcmUgdXNpbmcgbm8tcHJvdG8gb2JqZWN0IHNvIHRoYXQgd2UgZG9uJ3QgbmVlZCB0byBndWFyZCBhZ2FpbnN0IGluaGVyaXRlZCBwcm9wcyB2aWFcbiAgICAgICAgLy8gaGFzT3duUHJvcGVydHkuXG4gICAgICAgIHZhciBsYXN0QmxvY2tNYXAgPSBjcmVhdGVNYXAoKTtcblxuICAgICAgICAvL3dhdGNoIHByb3BzXG4gICAgICAgICRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKHJocywgZnVuY3Rpb24gbmdSZXBlYXRBY3Rpb24oY29sbGVjdGlvbikge1xuICAgICAgICAgIHZhciBpbmRleCwgbGVuZ3RoLFxuICAgICAgICAgICAgICBwcmV2aW91c05vZGUgPSAkZWxlbWVudFswXSwgICAgIC8vIG5vZGUgdGhhdCBjbG9uZWQgbm9kZXMgc2hvdWxkIGJlIGluc2VydGVkIGFmdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW5pdGlhbGl6ZWQgdG8gdGhlIGNvbW1lbnQgbm9kZSBhbmNob3JcbiAgICAgICAgICAgICAgbmV4dE5vZGUsXG4gICAgICAgICAgICAgIC8vIFNhbWUgYXMgbGFzdEJsb2NrTWFwIGJ1dCBpdCBoYXMgdGhlIGN1cnJlbnQgc3RhdGUuIEl0IHdpbGwgYmVjb21lIHRoZVxuICAgICAgICAgICAgICAvLyBsYXN0QmxvY2tNYXAgb24gdGhlIG5leHQgaXRlcmF0aW9uLlxuICAgICAgICAgICAgICBuZXh0QmxvY2tNYXAgPSBjcmVhdGVNYXAoKSxcbiAgICAgICAgICAgICAgY29sbGVjdGlvbkxlbmd0aCxcbiAgICAgICAgICAgICAga2V5LCB2YWx1ZSwgLy8ga2V5L3ZhbHVlIG9mIGl0ZXJhdGlvblxuICAgICAgICAgICAgICB0cmFja0J5SWQsXG4gICAgICAgICAgICAgIHRyYWNrQnlJZEZuLFxuICAgICAgICAgICAgICBjb2xsZWN0aW9uS2V5cyxcbiAgICAgICAgICAgICAgYmxvY2ssICAgICAgIC8vIGxhc3Qgb2JqZWN0IGluZm9ybWF0aW9uIHtzY29wZSwgZWxlbWVudCwgaWR9XG4gICAgICAgICAgICAgIG5leHRCbG9ja09yZGVyLFxuICAgICAgICAgICAgICBlbGVtZW50c1RvUmVtb3ZlO1xuXG4gICAgICAgICAgaWYgKGFsaWFzQXMpIHtcbiAgICAgICAgICAgICRzY29wZVthbGlhc0FzXSA9IGNvbGxlY3Rpb247XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgICBjb2xsZWN0aW9uS2V5cyA9IGNvbGxlY3Rpb247XG4gICAgICAgICAgICB0cmFja0J5SWRGbiA9IHRyYWNrQnlJZEV4cEZuIHx8IHRyYWNrQnlJZEFycmF5Rm47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyYWNrQnlJZEZuID0gdHJhY2tCeUlkRXhwRm4gfHwgdHJhY2tCeUlkT2JqRm47XG4gICAgICAgICAgICAvLyBpZiBvYmplY3QsIGV4dHJhY3Qga2V5cywgc29ydCB0aGVtIGFuZCB1c2UgdG8gZGV0ZXJtaW5lIG9yZGVyIG9mIGl0ZXJhdGlvbiBvdmVyIG9iaiBwcm9wc1xuICAgICAgICAgICAgY29sbGVjdGlvbktleXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGl0ZW1LZXkgaW4gY29sbGVjdGlvbikge1xuICAgICAgICAgICAgICBpZiAoY29sbGVjdGlvbi5oYXNPd25Qcm9wZXJ0eShpdGVtS2V5KSAmJiBpdGVtS2V5LmNoYXJBdCgwKSAhPSAnJCcpIHtcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uS2V5cy5wdXNoKGl0ZW1LZXkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb2xsZWN0aW9uS2V5cy5zb3J0KCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29sbGVjdGlvbkxlbmd0aCA9IGNvbGxlY3Rpb25LZXlzLmxlbmd0aDtcbiAgICAgICAgICBuZXh0QmxvY2tPcmRlciA9IG5ldyBBcnJheShjb2xsZWN0aW9uTGVuZ3RoKTtcblxuICAgICAgICAgIC8vIGxvY2F0ZSBleGlzdGluZyBpdGVtc1xuICAgICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGNvbGxlY3Rpb25MZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGtleSA9IChjb2xsZWN0aW9uID09PSBjb2xsZWN0aW9uS2V5cykgPyBpbmRleCA6IGNvbGxlY3Rpb25LZXlzW2luZGV4XTtcbiAgICAgICAgICAgIHZhbHVlID0gY29sbGVjdGlvbltrZXldO1xuICAgICAgICAgICAgdHJhY2tCeUlkID0gdHJhY2tCeUlkRm4oa2V5LCB2YWx1ZSwgaW5kZXgpO1xuICAgICAgICAgICAgaWYgKGxhc3RCbG9ja01hcFt0cmFja0J5SWRdKSB7XG4gICAgICAgICAgICAgIC8vIGZvdW5kIHByZXZpb3VzbHkgc2VlbiBibG9ja1xuICAgICAgICAgICAgICBibG9jayA9IGxhc3RCbG9ja01hcFt0cmFja0J5SWRdO1xuICAgICAgICAgICAgICBkZWxldGUgbGFzdEJsb2NrTWFwW3RyYWNrQnlJZF07XG4gICAgICAgICAgICAgIG5leHRCbG9ja01hcFt0cmFja0J5SWRdID0gYmxvY2s7XG4gICAgICAgICAgICAgIG5leHRCbG9ja09yZGVyW2luZGV4XSA9IGJsb2NrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuZXh0QmxvY2tNYXBbdHJhY2tCeUlkXSkge1xuICAgICAgICAgICAgICAvLyBpZiBjb2xsaXNpb24gZGV0ZWN0ZWQuIHJlc3RvcmUgbGFzdEJsb2NrTWFwIGFuZCB0aHJvdyBhbiBlcnJvclxuICAgICAgICAgICAgICBmb3JFYWNoKG5leHRCbG9ja09yZGVyLCBmdW5jdGlvbihibG9jaykge1xuICAgICAgICAgICAgICAgIGlmIChibG9jayAmJiBibG9jay5zY29wZSkgbGFzdEJsb2NrTWFwW2Jsb2NrLmlkXSA9IGJsb2NrO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgdGhyb3cgbmdSZXBlYXRNaW5FcnIoJ2R1cGVzJyxcbiAgICAgICAgICAgICAgICAgIFwiRHVwbGljYXRlcyBpbiBhIHJlcGVhdGVyIGFyZSBub3QgYWxsb3dlZC4gVXNlICd0cmFjayBieScgZXhwcmVzc2lvbiB0byBzcGVjaWZ5IHVuaXF1ZSBrZXlzLiBSZXBlYXRlcjogezB9LCBEdXBsaWNhdGUga2V5OiB7MX0sIER1cGxpY2F0ZSB2YWx1ZTogezJ9XCIsXG4gICAgICAgICAgICAgICAgICBleHByZXNzaW9uLCB0cmFja0J5SWQsIHRvSnNvbih2YWx1ZSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gbmV3IG5ldmVyIGJlZm9yZSBzZWVuIGJsb2NrXG4gICAgICAgICAgICAgIG5leHRCbG9ja09yZGVyW2luZGV4XSA9IHtpZDogdHJhY2tCeUlkLCBzY29wZTogdW5kZWZpbmVkLCBjbG9uZTogdW5kZWZpbmVkfTtcbiAgICAgICAgICAgICAgbmV4dEJsb2NrTWFwW3RyYWNrQnlJZF0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHJlbW92ZSBsZWZ0b3ZlciBpdGVtc1xuICAgICAgICAgIGZvciAodmFyIGJsb2NrS2V5IGluIGxhc3RCbG9ja01hcCkge1xuICAgICAgICAgICAgYmxvY2sgPSBsYXN0QmxvY2tNYXBbYmxvY2tLZXldO1xuICAgICAgICAgICAgZWxlbWVudHNUb1JlbW92ZSA9IGdldEJsb2NrTm9kZXMoYmxvY2suY2xvbmUpO1xuICAgICAgICAgICAgJGFuaW1hdGUubGVhdmUoZWxlbWVudHNUb1JlbW92ZSk7XG4gICAgICAgICAgICBpZiAoZWxlbWVudHNUb1JlbW92ZVswXS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgIC8vIGlmIHRoZSBlbGVtZW50IHdhcyBub3QgcmVtb3ZlZCB5ZXQgYmVjYXVzZSBvZiBwZW5kaW5nIGFuaW1hdGlvbiwgbWFyayBpdCBhcyBkZWxldGVkXG4gICAgICAgICAgICAgIC8vIHNvIHRoYXQgd2UgY2FuIGlnbm9yZSBpdCBsYXRlclxuICAgICAgICAgICAgICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gZWxlbWVudHNUb1JlbW92ZS5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudHNUb1JlbW92ZVtpbmRleF1bTkdfUkVNT1ZFRF0gPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBibG9jay5zY29wZS4kZGVzdHJveSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHdlIGFyZSBub3QgdXNpbmcgZm9yRWFjaCBmb3IgcGVyZiByZWFzb25zICh0cnlpbmcgdG8gYXZvaWQgI2NhbGwpXG4gICAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgY29sbGVjdGlvbkxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAga2V5ID0gKGNvbGxlY3Rpb24gPT09IGNvbGxlY3Rpb25LZXlzKSA/IGluZGV4IDogY29sbGVjdGlvbktleXNbaW5kZXhdO1xuICAgICAgICAgICAgdmFsdWUgPSBjb2xsZWN0aW9uW2tleV07XG4gICAgICAgICAgICBibG9jayA9IG5leHRCbG9ja09yZGVyW2luZGV4XTtcblxuICAgICAgICAgICAgaWYgKGJsb2NrLnNjb3BlKSB7XG4gICAgICAgICAgICAgIC8vIGlmIHdlIGhhdmUgYWxyZWFkeSBzZWVuIHRoaXMgb2JqZWN0LCB0aGVuIHdlIG5lZWQgdG8gcmV1c2UgdGhlXG4gICAgICAgICAgICAgIC8vIGFzc29jaWF0ZWQgc2NvcGUvZWxlbWVudFxuXG4gICAgICAgICAgICAgIG5leHROb2RlID0gcHJldmlvdXNOb2RlO1xuXG4gICAgICAgICAgICAgIC8vIHNraXAgbm9kZXMgdGhhdCBhcmUgYWxyZWFkeSBwZW5kaW5nIHJlbW92YWwgdmlhIGxlYXZlIGFuaW1hdGlvblxuICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0Tm9kZS5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgfSB3aGlsZSAobmV4dE5vZGUgJiYgbmV4dE5vZGVbTkdfUkVNT1ZFRF0pO1xuXG4gICAgICAgICAgICAgIGlmIChnZXRCbG9ja1N0YXJ0KGJsb2NrKSAhPSBuZXh0Tm9kZSkge1xuICAgICAgICAgICAgICAgIC8vIGV4aXN0aW5nIGl0ZW0gd2hpY2ggZ290IG1vdmVkXG4gICAgICAgICAgICAgICAgJGFuaW1hdGUubW92ZShnZXRCbG9ja05vZGVzKGJsb2NrLmNsb25lKSwgbnVsbCwganFMaXRlKHByZXZpb3VzTm9kZSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHByZXZpb3VzTm9kZSA9IGdldEJsb2NrRW5kKGJsb2NrKTtcbiAgICAgICAgICAgICAgdXBkYXRlU2NvcGUoYmxvY2suc2NvcGUsIGluZGV4LCB2YWx1ZUlkZW50aWZpZXIsIHZhbHVlLCBrZXlJZGVudGlmaWVyLCBrZXksIGNvbGxlY3Rpb25MZW5ndGgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gbmV3IGl0ZW0gd2hpY2ggd2UgZG9uJ3Qga25vdyBhYm91dFxuICAgICAgICAgICAgICAkdHJhbnNjbHVkZShmdW5jdGlvbiBuZ1JlcGVhdFRyYW5zY2x1ZGUoY2xvbmUsIHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgYmxvY2suc2NvcGUgPSBzY29wZTtcbiAgICAgICAgICAgICAgICAvLyBodHRwOi8vanNwZXJmLmNvbS9jbG9uZS12cy1jcmVhdGVjb21tZW50XG4gICAgICAgICAgICAgICAgdmFyIGVuZE5vZGUgPSBuZ1JlcGVhdEVuZENvbW1lbnQuY2xvbmVOb2RlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBjbG9uZVtjbG9uZS5sZW5ndGgrK10gPSBlbmROb2RlO1xuXG4gICAgICAgICAgICAgICAgLy8gVE9ETyhwZXJmKTogc3VwcG9ydCBuYWtlZCBwcmV2aW91c05vZGUgaW4gYGVudGVyYCB0byBhdm9pZCBjcmVhdGlvbiBvZiBqcUxpdGUgd3JhcHBlcj9cbiAgICAgICAgICAgICAgICAkYW5pbWF0ZS5lbnRlcihjbG9uZSwgbnVsbCwganFMaXRlKHByZXZpb3VzTm9kZSkpO1xuICAgICAgICAgICAgICAgIHByZXZpb3VzTm9kZSA9IGVuZE5vZGU7XG4gICAgICAgICAgICAgICAgLy8gTm90ZTogV2Ugb25seSBuZWVkIHRoZSBmaXJzdC9sYXN0IG5vZGUgb2YgdGhlIGNsb25lZCBub2Rlcy5cbiAgICAgICAgICAgICAgICAvLyBIb3dldmVyLCB3ZSBuZWVkIHRvIGtlZXAgdGhlIHJlZmVyZW5jZSB0byB0aGUganFsaXRlIHdyYXBwZXIgYXMgaXQgbWlnaHQgYmUgY2hhbmdlZCBsYXRlclxuICAgICAgICAgICAgICAgIC8vIGJ5IGEgZGlyZWN0aXZlIHdpdGggdGVtcGxhdGVVcmwgd2hlbiBpdHMgdGVtcGxhdGUgYXJyaXZlcy5cbiAgICAgICAgICAgICAgICBibG9jay5jbG9uZSA9IGNsb25lO1xuICAgICAgICAgICAgICAgIG5leHRCbG9ja01hcFtibG9jay5pZF0gPSBibG9jaztcbiAgICAgICAgICAgICAgICB1cGRhdGVTY29wZShibG9jay5zY29wZSwgaW5kZXgsIHZhbHVlSWRlbnRpZmllciwgdmFsdWUsIGtleUlkZW50aWZpZXIsIGtleSwgY29sbGVjdGlvbkxlbmd0aCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBsYXN0QmxvY2tNYXAgPSBuZXh0QmxvY2tNYXA7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XTtcblxudmFyIE5HX0hJREVfQ0xBU1MgPSAnbmctaGlkZSc7XG52YXIgTkdfSElERV9JTl9QUk9HUkVTU19DTEFTUyA9ICduZy1oaWRlLWFuaW1hdGUnO1xuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1Nob3dcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdTaG93YCBkaXJlY3RpdmUgc2hvd3Mgb3IgaGlkZXMgdGhlIGdpdmVuIEhUTUwgZWxlbWVudCBiYXNlZCBvbiB0aGUgZXhwcmVzc2lvblxuICogcHJvdmlkZWQgdG8gdGhlIGBuZ1Nob3dgIGF0dHJpYnV0ZS4gVGhlIGVsZW1lbnQgaXMgc2hvd24gb3IgaGlkZGVuIGJ5IHJlbW92aW5nIG9yIGFkZGluZ1xuICogdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIG9udG8gdGhlIGVsZW1lbnQuIFRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBpcyBwcmVkZWZpbmVkXG4gKiBpbiBBbmd1bGFySlMgYW5kIHNldHMgdGhlIGRpc3BsYXkgc3R5bGUgdG8gbm9uZSAodXNpbmcgYW4gIWltcG9ydGFudCBmbGFnKS5cbiAqIEZvciBDU1AgbW9kZSBwbGVhc2UgYWRkIGBhbmd1bGFyLWNzcC5jc3NgIHRvIHlvdXIgaHRtbCBmaWxlIChzZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NzcCBuZ0NzcH0pLlxuICpcbiAqIGBgYGh0bWxcbiAqIDwhLS0gd2hlbiAkc2NvcGUubXlWYWx1ZSBpcyB0cnV0aHkgKGVsZW1lbnQgaXMgdmlzaWJsZSkgLS0+XG4gKiA8ZGl2IG5nLXNob3c9XCJteVZhbHVlXCI+PC9kaXY+XG4gKlxuICogPCEtLSB3aGVuICRzY29wZS5teVZhbHVlIGlzIGZhbHN5IChlbGVtZW50IGlzIGhpZGRlbikgLS0+XG4gKiA8ZGl2IG5nLXNob3c9XCJteVZhbHVlXCIgY2xhc3M9XCJuZy1oaWRlXCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBXaGVuIHRoZSBgbmdTaG93YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIGZhbHN5IHZhbHVlIHRoZW4gdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIGFkZGVkIHRvIHRoZSBjbGFzc1xuICogYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50IGNhdXNpbmcgaXQgdG8gYmVjb21lIGhpZGRlbi4gV2hlbiB0cnV0aHksIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBpcyByZW1vdmVkXG4gKiBmcm9tIHRoZSBlbGVtZW50IGNhdXNpbmcgdGhlIGVsZW1lbnQgbm90IHRvIGFwcGVhciBoaWRkZW4uXG4gKlxuICogIyMgV2h5IGlzICFpbXBvcnRhbnQgdXNlZD9cbiAqXG4gKiBZb3UgbWF5IGJlIHdvbmRlcmluZyB3aHkgIWltcG9ydGFudCBpcyB1c2VkIGZvciB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MuIFRoaXMgaXMgYmVjYXVzZSB0aGUgYC5uZy1oaWRlYCBzZWxlY3RvclxuICogY2FuIGJlIGVhc2lseSBvdmVycmlkZGVuIGJ5IGhlYXZpZXIgc2VsZWN0b3JzLiBGb3IgZXhhbXBsZSwgc29tZXRoaW5nIGFzIHNpbXBsZVxuICogYXMgY2hhbmdpbmcgdGhlIGRpc3BsYXkgc3R5bGUgb24gYSBIVE1MIGxpc3QgaXRlbSB3b3VsZCBtYWtlIGhpZGRlbiBlbGVtZW50cyBhcHBlYXIgdmlzaWJsZS5cbiAqIFRoaXMgYWxzbyBiZWNvbWVzIGEgYmlnZ2VyIGlzc3VlIHdoZW4gZGVhbGluZyB3aXRoIENTUyBmcmFtZXdvcmtzLlxuICpcbiAqIEJ5IHVzaW5nICFpbXBvcnRhbnQsIHRoZSBzaG93IGFuZCBoaWRlIGJlaGF2aW9yIHdpbGwgd29yayBhcyBleHBlY3RlZCBkZXNwaXRlIGFueSBjbGFzaCBiZXR3ZWVuIENTUyBzZWxlY3RvclxuICogc3BlY2lmaWNpdHkgKHdoZW4gIWltcG9ydGFudCBpc24ndCB1c2VkIHdpdGggYW55IGNvbmZsaWN0aW5nIHN0eWxlcykuIElmIGEgZGV2ZWxvcGVyIGNob29zZXMgdG8gb3ZlcnJpZGUgdGhlXG4gKiBzdHlsaW5nIHRvIGNoYW5nZSBob3cgdG8gaGlkZSBhbiBlbGVtZW50IHRoZW4gaXQgaXMganVzdCBhIG1hdHRlciBvZiB1c2luZyAhaW1wb3J0YW50IGluIHRoZWlyIG93biBDU1MgY29kZS5cbiAqXG4gKiAjIyMgT3ZlcnJpZGluZyBgLm5nLWhpZGVgXG4gKlxuICogQnkgZGVmYXVsdCwgdGhlIGAubmctaGlkZWAgY2xhc3Mgd2lsbCBzdHlsZSB0aGUgZWxlbWVudCB3aXRoIGBkaXNwbGF5Om5vbmUhaW1wb3J0YW50YC4gSWYgeW91IHdpc2ggdG8gY2hhbmdlXG4gKiB0aGUgaGlkZSBiZWhhdmlvciB3aXRoIG5nU2hvdy9uZ0hpZGUgdGhlbiB0aGlzIGNhbiBiZSBhY2hpZXZlZCBieSByZXN0YXRpbmcgdGhlIHN0eWxlcyBmb3IgdGhlIGAubmctaGlkZWBcbiAqIGNsYXNzIGluIENTUzpcbiAqXG4gKiBgYGBjc3NcbiAqIC5uZy1oaWRlIHtcbiAqICAgLyYjNDI7IHRoaXMgaXMganVzdCBhbm90aGVyIGZvcm0gb2YgaGlkaW5nIGFuIGVsZW1lbnQgJiM0MjsvXG4gKiAgIGRpc3BsYXk6YmxvY2shaW1wb3J0YW50O1xuICogICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAqICAgdG9wOi05OTk5cHg7XG4gKiAgIGxlZnQ6LTk5OTlweDtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEJ5IGRlZmF1bHQgeW91IGRvbid0IG5lZWQgdG8gb3ZlcnJpZGUgaW4gQ1NTIGFueXRoaW5nIGFuZCB0aGUgYW5pbWF0aW9ucyB3aWxsIHdvcmsgYXJvdW5kIHRoZSBkaXNwbGF5IHN0eWxlLlxuICpcbiAqICMjIEEgbm90ZSBhYm91dCBhbmltYXRpb25zIHdpdGggYG5nU2hvd2BcbiAqXG4gKiBBbmltYXRpb25zIGluIG5nU2hvdy9uZ0hpZGUgd29yayB3aXRoIHRoZSBzaG93IGFuZCBoaWRlIGV2ZW50cyB0aGF0IGFyZSB0cmlnZ2VyZWQgd2hlbiB0aGUgZGlyZWN0aXZlIGV4cHJlc3Npb25cbiAqIGlzIHRydWUgYW5kIGZhbHNlLiBUaGlzIHN5c3RlbSB3b3JrcyBsaWtlIHRoZSBhbmltYXRpb24gc3lzdGVtIHByZXNlbnQgd2l0aCBuZ0NsYXNzIGV4Y2VwdCB0aGF0XG4gKiB5b3UgbXVzdCBhbHNvIGluY2x1ZGUgdGhlICFpbXBvcnRhbnQgZmxhZyB0byBvdmVycmlkZSB0aGUgZGlzcGxheSBwcm9wZXJ0eVxuICogc28gdGhhdCB5b3UgY2FuIHBlcmZvcm0gYW4gYW5pbWF0aW9uIHdoZW4gdGhlIGVsZW1lbnQgaXMgaGlkZGVuIGR1cmluZyB0aGUgdGltZSBvZiB0aGUgYW5pbWF0aW9uLlxuICpcbiAqIGBgYGNzc1xuICogLy9cbiAqIC8vYSB3b3JraW5nIGV4YW1wbGUgY2FuIGJlIGZvdW5kIGF0IHRoZSBib3R0b20gb2YgdGhpcyBwYWdlXG4gKiAvL1xuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQsIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlIHtcbiAqICAgLyYjNDI7IHRoaXMgaXMgcmVxdWlyZWQgYXMgb2YgMS4zeCB0byBwcm9wZXJseVxuICogICAgICBhcHBseSBhbGwgc3R5bGluZyBpbiBhIHNob3cvaGlkZSBhbmltYXRpb24gJiM0MjsvXG4gKiAgIHRyYW5zaXRpb246MHMgbGluZWFyIGFsbDtcbiAqIH1cbiAqXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZC1hY3RpdmUsXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZS1hY3RpdmUge1xuICogICAvJiM0MjsgdGhlIHRyYW5zaXRpb24gaXMgZGVmaW5lZCBpbiB0aGUgYWN0aXZlIGNsYXNzICYjNDI7L1xuICogICB0cmFuc2l0aW9uOjFzIGxpbmVhciBhbGw7XG4gKiB9XG4gKlxuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQgeyAuLi4gfVxuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQubmctaGlkZS1hZGQtYWN0aXZlIHsgLi4uIH1cbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlIHsgLi4uIH1cbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlLm5nLWhpZGUtcmVtb3ZlLWFjdGl2ZSB7IC4uLiB9XG4gKiBgYGBcbiAqXG4gKiBLZWVwIGluIG1pbmQgdGhhdCwgYXMgb2YgQW5ndWxhckpTIHZlcnNpb24gMS4zLjAtYmV0YS4xMSwgdGhlcmUgaXMgbm8gbmVlZCB0byBjaGFuZ2UgdGhlIGRpc3BsYXlcbiAqIHByb3BlcnR5IHRvIGJsb2NrIGR1cmluZyBhbmltYXRpb24gc3RhdGVzLS1uZ0FuaW1hdGUgd2lsbCBoYW5kbGUgdGhlIHN0eWxlIHRvZ2dsaW5nIGF1dG9tYXRpY2FsbHkgZm9yIHlvdS5cbiAqXG4gKiBAYW5pbWF0aW9uc1xuICogYWRkQ2xhc3M6IGAubmctaGlkZWAgLSBoYXBwZW5zIGFmdGVyIHRoZSBgbmdTaG93YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHRydXRoeSB2YWx1ZSBhbmQgdGhlIGp1c3QgYmVmb3JlIGNvbnRlbnRzIGFyZSBzZXQgdG8gdmlzaWJsZVxuICogcmVtb3ZlQ2xhc3M6IGAubmctaGlkZWAgLSBoYXBwZW5zIGFmdGVyIHRoZSBgbmdTaG93YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIG5vbiB0cnV0aHkgdmFsdWUgYW5kIGp1c3QgYmVmb3JlIHRoZSBjb250ZW50cyBhcmUgc2V0IHRvIGhpZGRlblxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ1Nob3cgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeVxuICogICAgIHRoZW4gdGhlIGVsZW1lbnQgaXMgc2hvd24gb3IgaGlkZGVuIHJlc3BlY3RpdmVseS5cbiAqXG4gKiBAZXhhbXBsZVxuICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ0FuaW1hdGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgQ2xpY2sgbWU6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrZWRcIj48YnIvPlxuICAgICAgPGRpdj5cbiAgICAgICAgU2hvdzpcbiAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrLWVsZW1lbnQgYW5pbWF0ZS1zaG93XCIgbmctc2hvdz1cImNoZWNrZWRcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tdGh1bWJzLXVwXCI+PC9zcGFuPiBJIHNob3cgdXAgd2hlbiB5b3VyIGNoZWNrYm94IGlzIGNoZWNrZWQuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2PlxuICAgICAgICBIaWRlOlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2hlY2stZWxlbWVudCBhbmltYXRlLXNob3dcIiBuZy1oaWRlPVwiY2hlY2tlZFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi10aHVtYnMtZG93blwiPjwvc3Bhbj4gSSBoaWRlIHdoZW4geW91ciBjaGVja2JveCBpcyBjaGVja2VkLlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiZ2x5cGhpY29ucy5jc3NcIj5cbiAgICAgIEBpbXBvcnQgdXJsKC4uLy4uL2NvbXBvbmVudHMvYm9vdHN0cmFwLTMuMS4xL2Nzcy9ib290c3RyYXAuY3NzKTtcbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XG4gICAgICAuYW5pbWF0ZS1zaG93IHtcbiAgICAgICAgbGluZS1oZWlnaHQ6MjBweDtcbiAgICAgICAgb3BhY2l0eToxO1xuICAgICAgICBwYWRkaW5nOjEwcHg7XG4gICAgICAgIGJvcmRlcjoxcHggc29saWQgYmxhY2s7XG4gICAgICAgIGJhY2tncm91bmQ6d2hpdGU7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLXNob3cubmctaGlkZS1hZGQubmctaGlkZS1hZGQtYWN0aXZlLFxuICAgICAgLmFuaW1hdGUtc2hvdy5uZy1oaWRlLXJlbW92ZS5uZy1oaWRlLXJlbW92ZS1hY3RpdmUge1xuICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzO1xuICAgICAgICB0cmFuc2l0aW9uOmFsbCBsaW5lYXIgMC41cztcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtc2hvdy5uZy1oaWRlIHtcbiAgICAgICAgbGluZS1oZWlnaHQ6MDtcbiAgICAgICAgb3BhY2l0eTowO1xuICAgICAgICBwYWRkaW5nOjAgMTBweDtcbiAgICAgIH1cblxuICAgICAgLmNoZWNrLWVsZW1lbnQge1xuICAgICAgICBwYWRkaW5nOjEwcHg7XG4gICAgICAgIGJvcmRlcjoxcHggc29saWQgYmxhY2s7XG4gICAgICAgIGJhY2tncm91bmQ6d2hpdGU7XG4gICAgICB9XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIHZhciB0aHVtYnNVcCA9IGVsZW1lbnQoYnkuY3NzKCdzcGFuLmdseXBoaWNvbi10aHVtYnMtdXAnKSk7XG4gICAgICB2YXIgdGh1bWJzRG93biA9IGVsZW1lbnQoYnkuY3NzKCdzcGFuLmdseXBoaWNvbi10aHVtYnMtZG93bicpKTtcblxuICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1zaG93IC8gbmctaGlkZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QodGh1bWJzVXAuaXNEaXNwbGF5ZWQoKSkudG9CZUZhbHN5KCk7XG4gICAgICAgIGV4cGVjdCh0aHVtYnNEb3duLmlzRGlzcGxheWVkKCkpLnRvQmVUcnV0aHkoKTtcblxuICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdjaGVja2VkJykpLmNsaWNrKCk7XG5cbiAgICAgICAgZXhwZWN0KHRodW1ic1VwLmlzRGlzcGxheWVkKCkpLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgZXhwZWN0KHRodW1ic0Rvd24uaXNEaXNwbGF5ZWQoKSkudG9CZUZhbHN5KCk7XG4gICAgICB9KTtcbiAgICA8L2ZpbGU+XG4gIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nU2hvd0RpcmVjdGl2ZSA9IFsnJGFuaW1hdGUnLCBmdW5jdGlvbigkYW5pbWF0ZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgbXVsdGlFbGVtZW50OiB0cnVlLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICBzY29wZS4kd2F0Y2goYXR0ci5uZ1Nob3csIGZ1bmN0aW9uIG5nU2hvd1dhdGNoQWN0aW9uKHZhbHVlKSB7XG4gICAgICAgIC8vIHdlJ3JlIGFkZGluZyBhIHRlbXBvcmFyeSwgYW5pbWF0aW9uLXNwZWNpZmljIGNsYXNzIGZvciBuZy1oaWRlIHNpbmNlIHRoaXMgd2F5XG4gICAgICAgIC8vIHdlIGNhbiBjb250cm9sIHdoZW4gdGhlIGVsZW1lbnQgaXMgYWN0dWFsbHkgZGlzcGxheWVkIG9uIHNjcmVlbiB3aXRob3V0IGhhdmluZ1xuICAgICAgICAvLyB0byBoYXZlIGEgZ2xvYmFsL2dyZWVkeSBDU1Mgc2VsZWN0b3IgdGhhdCBicmVha3Mgd2hlbiBvdGhlciBhbmltYXRpb25zIGFyZSBydW4uXG4gICAgICAgIC8vIFJlYWQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzkxMDMjaXNzdWVjb21tZW50LTU4MzM1ODQ1XG4gICAgICAgICRhbmltYXRlW3ZhbHVlID8gJ3JlbW92ZUNsYXNzJyA6ICdhZGRDbGFzcyddKGVsZW1lbnQsIE5HX0hJREVfQ0xBU1MsIHtcbiAgICAgICAgICB0ZW1wQ2xhc3NlczogTkdfSElERV9JTl9QUk9HUkVTU19DTEFTU1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dO1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdIaWRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nSGlkZWAgZGlyZWN0aXZlIHNob3dzIG9yIGhpZGVzIHRoZSBnaXZlbiBIVE1MIGVsZW1lbnQgYmFzZWQgb24gdGhlIGV4cHJlc3Npb25cbiAqIHByb3ZpZGVkIHRvIHRoZSBgbmdIaWRlYCBhdHRyaWJ1dGUuIFRoZSBlbGVtZW50IGlzIHNob3duIG9yIGhpZGRlbiBieSByZW1vdmluZyBvciBhZGRpbmdcbiAqIHRoZSBgbmctaGlkZWAgQ1NTIGNsYXNzIG9udG8gdGhlIGVsZW1lbnQuIFRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBpcyBwcmVkZWZpbmVkXG4gKiBpbiBBbmd1bGFySlMgYW5kIHNldHMgdGhlIGRpc3BsYXkgc3R5bGUgdG8gbm9uZSAodXNpbmcgYW4gIWltcG9ydGFudCBmbGFnKS5cbiAqIEZvciBDU1AgbW9kZSBwbGVhc2UgYWRkIGBhbmd1bGFyLWNzcC5jc3NgIHRvIHlvdXIgaHRtbCBmaWxlIChzZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NzcCBuZ0NzcH0pLlxuICpcbiAqIGBgYGh0bWxcbiAqIDwhLS0gd2hlbiAkc2NvcGUubXlWYWx1ZSBpcyB0cnV0aHkgKGVsZW1lbnQgaXMgaGlkZGVuKSAtLT5cbiAqIDxkaXYgbmctaGlkZT1cIm15VmFsdWVcIiBjbGFzcz1cIm5nLWhpZGVcIj48L2Rpdj5cbiAqXG4gKiA8IS0tIHdoZW4gJHNjb3BlLm15VmFsdWUgaXMgZmFsc3kgKGVsZW1lbnQgaXMgdmlzaWJsZSkgLS0+XG4gKiA8ZGl2IG5nLWhpZGU9XCJteVZhbHVlXCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBXaGVuIHRoZSBgbmdIaWRlYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHRydXRoeSB2YWx1ZSB0aGVuIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBpcyBhZGRlZCB0byB0aGUgY2xhc3NcbiAqIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCBjYXVzaW5nIGl0IHRvIGJlY29tZSBoaWRkZW4uIFdoZW4gZmFsc3ksIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBpcyByZW1vdmVkXG4gKiBmcm9tIHRoZSBlbGVtZW50IGNhdXNpbmcgdGhlIGVsZW1lbnQgbm90IHRvIGFwcGVhciBoaWRkZW4uXG4gKlxuICogIyMgV2h5IGlzICFpbXBvcnRhbnQgdXNlZD9cbiAqXG4gKiBZb3UgbWF5IGJlIHdvbmRlcmluZyB3aHkgIWltcG9ydGFudCBpcyB1c2VkIGZvciB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MuIFRoaXMgaXMgYmVjYXVzZSB0aGUgYC5uZy1oaWRlYCBzZWxlY3RvclxuICogY2FuIGJlIGVhc2lseSBvdmVycmlkZGVuIGJ5IGhlYXZpZXIgc2VsZWN0b3JzLiBGb3IgZXhhbXBsZSwgc29tZXRoaW5nIGFzIHNpbXBsZVxuICogYXMgY2hhbmdpbmcgdGhlIGRpc3BsYXkgc3R5bGUgb24gYSBIVE1MIGxpc3QgaXRlbSB3b3VsZCBtYWtlIGhpZGRlbiBlbGVtZW50cyBhcHBlYXIgdmlzaWJsZS5cbiAqIFRoaXMgYWxzbyBiZWNvbWVzIGEgYmlnZ2VyIGlzc3VlIHdoZW4gZGVhbGluZyB3aXRoIENTUyBmcmFtZXdvcmtzLlxuICpcbiAqIEJ5IHVzaW5nICFpbXBvcnRhbnQsIHRoZSBzaG93IGFuZCBoaWRlIGJlaGF2aW9yIHdpbGwgd29yayBhcyBleHBlY3RlZCBkZXNwaXRlIGFueSBjbGFzaCBiZXR3ZWVuIENTUyBzZWxlY3RvclxuICogc3BlY2lmaWNpdHkgKHdoZW4gIWltcG9ydGFudCBpc24ndCB1c2VkIHdpdGggYW55IGNvbmZsaWN0aW5nIHN0eWxlcykuIElmIGEgZGV2ZWxvcGVyIGNob29zZXMgdG8gb3ZlcnJpZGUgdGhlXG4gKiBzdHlsaW5nIHRvIGNoYW5nZSBob3cgdG8gaGlkZSBhbiBlbGVtZW50IHRoZW4gaXQgaXMganVzdCBhIG1hdHRlciBvZiB1c2luZyAhaW1wb3J0YW50IGluIHRoZWlyIG93biBDU1MgY29kZS5cbiAqXG4gKiAjIyMgT3ZlcnJpZGluZyBgLm5nLWhpZGVgXG4gKlxuICogQnkgZGVmYXVsdCwgdGhlIGAubmctaGlkZWAgY2xhc3Mgd2lsbCBzdHlsZSB0aGUgZWxlbWVudCB3aXRoIGBkaXNwbGF5Om5vbmUhaW1wb3J0YW50YC4gSWYgeW91IHdpc2ggdG8gY2hhbmdlXG4gKiB0aGUgaGlkZSBiZWhhdmlvciB3aXRoIG5nU2hvdy9uZ0hpZGUgdGhlbiB0aGlzIGNhbiBiZSBhY2hpZXZlZCBieSByZXN0YXRpbmcgdGhlIHN0eWxlcyBmb3IgdGhlIGAubmctaGlkZWBcbiAqIGNsYXNzIGluIENTUzpcbiAqXG4gKiBgYGBjc3NcbiAqIC5uZy1oaWRlIHtcbiAqICAgLyYjNDI7IHRoaXMgaXMganVzdCBhbm90aGVyIGZvcm0gb2YgaGlkaW5nIGFuIGVsZW1lbnQgJiM0MjsvXG4gKiAgIGRpc3BsYXk6YmxvY2shaW1wb3J0YW50O1xuICogICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAqICAgdG9wOi05OTk5cHg7XG4gKiAgIGxlZnQ6LTk5OTlweDtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEJ5IGRlZmF1bHQgeW91IGRvbid0IG5lZWQgdG8gb3ZlcnJpZGUgaW4gQ1NTIGFueXRoaW5nIGFuZCB0aGUgYW5pbWF0aW9ucyB3aWxsIHdvcmsgYXJvdW5kIHRoZSBkaXNwbGF5IHN0eWxlLlxuICpcbiAqICMjIEEgbm90ZSBhYm91dCBhbmltYXRpb25zIHdpdGggYG5nSGlkZWBcbiAqXG4gKiBBbmltYXRpb25zIGluIG5nU2hvdy9uZ0hpZGUgd29yayB3aXRoIHRoZSBzaG93IGFuZCBoaWRlIGV2ZW50cyB0aGF0IGFyZSB0cmlnZ2VyZWQgd2hlbiB0aGUgZGlyZWN0aXZlIGV4cHJlc3Npb25cbiAqIGlzIHRydWUgYW5kIGZhbHNlLiBUaGlzIHN5c3RlbSB3b3JrcyBsaWtlIHRoZSBhbmltYXRpb24gc3lzdGVtIHByZXNlbnQgd2l0aCBuZ0NsYXNzLCBleGNlcHQgdGhhdCB0aGUgYC5uZy1oaWRlYFxuICogQ1NTIGNsYXNzIGlzIGFkZGVkIGFuZCByZW1vdmVkIGZvciB5b3UgaW5zdGVhZCBvZiB5b3VyIG93biBDU1MgY2xhc3MuXG4gKlxuICogYGBgY3NzXG4gKiAvL1xuICogLy9hIHdvcmtpbmcgZXhhbXBsZSBjYW4gYmUgZm91bmQgYXQgdGhlIGJvdHRvbSBvZiB0aGlzIHBhZ2VcbiAqIC8vXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZCwgLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUge1xuICogICB0cmFuc2l0aW9uOjAuNXMgbGluZWFyIGFsbDtcbiAqIH1cbiAqXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZCB7IC4uLiB9XG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZC5uZy1oaWRlLWFkZC1hY3RpdmUgeyAuLi4gfVxuICogLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUgeyAuLi4gfVxuICogLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUubmctaGlkZS1yZW1vdmUtYWN0aXZlIHsgLi4uIH1cbiAqIGBgYFxuICpcbiAqIEtlZXAgaW4gbWluZCB0aGF0LCBhcyBvZiBBbmd1bGFySlMgdmVyc2lvbiAxLjMuMC1iZXRhLjExLCB0aGVyZSBpcyBubyBuZWVkIHRvIGNoYW5nZSB0aGUgZGlzcGxheVxuICogcHJvcGVydHkgdG8gYmxvY2sgZHVyaW5nIGFuaW1hdGlvbiBzdGF0ZXMtLW5nQW5pbWF0ZSB3aWxsIGhhbmRsZSB0aGUgc3R5bGUgdG9nZ2xpbmcgYXV0b21hdGljYWxseSBmb3IgeW91LlxuICpcbiAqIEBhbmltYXRpb25zXG4gKiByZW1vdmVDbGFzczogYC5uZy1oaWRlYCAtIGhhcHBlbnMgYWZ0ZXIgdGhlIGBuZ0hpZGVgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgdHJ1dGh5IHZhbHVlIGFuZCBqdXN0IGJlZm9yZSB0aGUgY29udGVudHMgYXJlIHNldCB0byBoaWRkZW5cbiAqIGFkZENsYXNzOiBgLm5nLWhpZGVgIC0gaGFwcGVucyBhZnRlciB0aGUgYG5nSGlkZWAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBub24gdHJ1dGh5IHZhbHVlIGFuZCBqdXN0IGJlZm9yZSB0aGUgY29udGVudHMgYXJlIHNldCB0byB2aXNpYmxlXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nSGlkZSBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5IHRoZW5cbiAqICAgICB0aGUgZWxlbWVudCBpcyBzaG93biBvciBoaWRkZW4gcmVzcGVjdGl2ZWx5LlxuICpcbiAqIEBleGFtcGxlXG4gIDxleGFtcGxlIG1vZHVsZT1cIm5nQW5pbWF0ZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICBDbGljayBtZTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tlZFwiPjxici8+XG4gICAgICA8ZGl2PlxuICAgICAgICBTaG93OlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2hlY2stZWxlbWVudCBhbmltYXRlLWhpZGVcIiBuZy1zaG93PVwiY2hlY2tlZFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi10aHVtYnMtdXBcIj48L3NwYW4+IEkgc2hvdyB1cCB3aGVuIHlvdXIgY2hlY2tib3ggaXMgY2hlY2tlZC5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXY+XG4gICAgICAgIEhpZGU6XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjaGVjay1lbGVtZW50IGFuaW1hdGUtaGlkZVwiIG5nLWhpZGU9XCJjaGVja2VkXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXRodW1icy1kb3duXCI+PC9zcGFuPiBJIGhpZGUgd2hlbiB5b3VyIGNoZWNrYm94IGlzIGNoZWNrZWQuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJnbHlwaGljb25zLmNzc1wiPlxuICAgICAgQGltcG9ydCB1cmwoLi4vLi4vY29tcG9uZW50cy9ib290c3RyYXAtMy4xLjEvY3NzL2Jvb3RzdHJhcC5jc3MpO1xuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cbiAgICAgIC5hbmltYXRlLWhpZGUge1xuICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzO1xuICAgICAgICB0cmFuc2l0aW9uOmFsbCBsaW5lYXIgMC41cztcbiAgICAgICAgbGluZS1oZWlnaHQ6MjBweDtcbiAgICAgICAgb3BhY2l0eToxO1xuICAgICAgICBwYWRkaW5nOjEwcHg7XG4gICAgICAgIGJvcmRlcjoxcHggc29saWQgYmxhY2s7XG4gICAgICAgIGJhY2tncm91bmQ6d2hpdGU7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLWhpZGUubmctaGlkZSB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OjA7XG4gICAgICAgIG9wYWNpdHk6MDtcbiAgICAgICAgcGFkZGluZzowIDEwcHg7XG4gICAgICB9XG5cbiAgICAgIC5jaGVjay1lbGVtZW50IHtcbiAgICAgICAgcGFkZGluZzoxMHB4O1xuICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBiYWNrZ3JvdW5kOndoaXRlO1xuICAgICAgfVxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdGh1bWJzVXAgPSBlbGVtZW50KGJ5LmNzcygnc3Bhbi5nbHlwaGljb24tdGh1bWJzLXVwJykpO1xuICAgICAgdmFyIHRodW1ic0Rvd24gPSBlbGVtZW50KGJ5LmNzcygnc3Bhbi5nbHlwaGljb24tdGh1bWJzLWRvd24nKSk7XG5cbiAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctc2hvdyAvIG5nLWhpZGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KHRodW1ic1VwLmlzRGlzcGxheWVkKCkpLnRvQmVGYWxzeSgpO1xuICAgICAgICBleHBlY3QodGh1bWJzRG93bi5pc0Rpc3BsYXllZCgpKS50b0JlVHJ1dGh5KCk7XG5cbiAgICAgICAgZWxlbWVudChieS5tb2RlbCgnY2hlY2tlZCcpKS5jbGljaygpO1xuXG4gICAgICAgIGV4cGVjdCh0aHVtYnNVcC5pc0Rpc3BsYXllZCgpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIGV4cGVjdCh0aHVtYnNEb3duLmlzRGlzcGxheWVkKCkpLnRvQmVGYWxzeSgpO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0hpZGVEaXJlY3RpdmUgPSBbJyRhbmltYXRlJywgZnVuY3Rpb24oJGFuaW1hdGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIG11bHRpRWxlbWVudDogdHJ1ZSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgc2NvcGUuJHdhdGNoKGF0dHIubmdIaWRlLCBmdW5jdGlvbiBuZ0hpZGVXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICAvLyBUaGUgY29tbWVudCBpbnNpZGUgb2YgdGhlIG5nU2hvd0RpcmVjdGl2ZSBleHBsYWlucyB3aHkgd2UgYWRkIGFuZFxuICAgICAgICAvLyByZW1vdmUgYSB0ZW1wb3JhcnkgY2xhc3MgZm9yIHRoZSBzaG93L2hpZGUgYW5pbWF0aW9uXG4gICAgICAgICRhbmltYXRlW3ZhbHVlID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKGVsZW1lbnQsTkdfSElERV9DTEFTUywge1xuICAgICAgICAgIHRlbXBDbGFzc2VzOiBOR19ISURFX0lOX1BST0dSRVNTX0NMQVNTXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufV07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdTdHlsZVxuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nU3R5bGVgIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIHNldCBDU1Mgc3R5bGUgb24gYW4gSFRNTCBlbGVtZW50IGNvbmRpdGlvbmFsbHkuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nU3R5bGVcbiAqXG4gKiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB3aGljaCBldmFscyB0byBhblxuICogb2JqZWN0IHdob3NlIGtleXMgYXJlIENTUyBzdHlsZSBuYW1lcyBhbmQgdmFsdWVzIGFyZSBjb3JyZXNwb25kaW5nIHZhbHVlcyBmb3IgdGhvc2UgQ1NTXG4gKiBrZXlzLlxuICpcbiAqIFNpbmNlIHNvbWUgQ1NTIHN0eWxlIG5hbWVzIGFyZSBub3QgdmFsaWQga2V5cyBmb3IgYW4gb2JqZWN0LCB0aGV5IG11c3QgYmUgcXVvdGVkLlxuICogU2VlIHRoZSAnYmFja2dyb3VuZC1jb2xvcicgc3R5bGUgaW4gdGhlIGV4YW1wbGUgYmVsb3cuXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8aW5wdXQgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwic2V0IGNvbG9yXCIgbmctY2xpY2s9XCJteVN0eWxlPXtjb2xvcjoncmVkJ31cIj5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cInNldCBiYWNrZ3JvdW5kXCIgbmctY2xpY2s9XCJteVN0eWxlPXsnYmFja2dyb3VuZC1jb2xvcic6J2JsdWUnfVwiPlxuICAgICAgICA8aW5wdXQgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwiY2xlYXJcIiBuZy1jbGljaz1cIm15U3R5bGU9e31cIj5cbiAgICAgICAgPGJyLz5cbiAgICAgICAgPHNwYW4gbmctc3R5bGU9XCJteVN0eWxlXCI+U2FtcGxlIFRleHQ8L3NwYW4+XG4gICAgICAgIDxwcmU+bXlTdHlsZT17e215U3R5bGV9fTwvcHJlPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICBzcGFuIHtcbiAgICAgICAgIGNvbG9yOiBibGFjaztcbiAgICAgICB9XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIHZhciBjb2xvclNwYW4gPSBlbGVtZW50KGJ5LmNzcygnc3BhbicpKTtcblxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctc3R5bGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChjb2xvclNwYW4uZ2V0Q3NzVmFsdWUoJ2NvbG9yJykpLnRvQmUoJ3JnYmEoMCwgMCwgMCwgMSknKTtcbiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCdpbnB1dFt2YWx1ZT1cXCdzZXQgY29sb3JcXCddJykpLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QoY29sb3JTcGFuLmdldENzc1ZhbHVlKCdjb2xvcicpKS50b0JlKCdyZ2JhKDI1NSwgMCwgMCwgMSknKTtcbiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCdpbnB1dFt2YWx1ZT1jbGVhcl0nKSkuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChjb2xvclNwYW4uZ2V0Q3NzVmFsdWUoJ2NvbG9yJykpLnRvQmUoJ3JnYmEoMCwgMCwgMCwgMSknKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdTdHlsZURpcmVjdGl2ZSA9IG5nRGlyZWN0aXZlKGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gIHNjb3BlLiR3YXRjaChhdHRyLm5nU3R5bGUsIGZ1bmN0aW9uIG5nU3R5bGVXYXRjaEFjdGlvbihuZXdTdHlsZXMsIG9sZFN0eWxlcykge1xuICAgIGlmIChvbGRTdHlsZXMgJiYgKG5ld1N0eWxlcyAhPT0gb2xkU3R5bGVzKSkge1xuICAgICAgZm9yRWFjaChvbGRTdHlsZXMsIGZ1bmN0aW9uKHZhbCwgc3R5bGUpIHsgZWxlbWVudC5jc3Moc3R5bGUsICcnKTt9KTtcbiAgICB9XG4gICAgaWYgKG5ld1N0eWxlcykgZWxlbWVudC5jc3MobmV3U3R5bGVzKTtcbiAgfSwgdHJ1ZSk7XG59KTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1N3aXRjaFxuICogQHJlc3RyaWN0IEVBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nU3dpdGNoYCBkaXJlY3RpdmUgaXMgdXNlZCB0byBjb25kaXRpb25hbGx5IHN3YXAgRE9NIHN0cnVjdHVyZSBvbiB5b3VyIHRlbXBsYXRlIGJhc2VkIG9uIGEgc2NvcGUgZXhwcmVzc2lvbi5cbiAqIEVsZW1lbnRzIHdpdGhpbiBgbmdTd2l0Y2hgIGJ1dCB3aXRob3V0IGBuZ1N3aXRjaFdoZW5gIG9yIGBuZ1N3aXRjaERlZmF1bHRgIGRpcmVjdGl2ZXMgd2lsbCBiZSBwcmVzZXJ2ZWQgYXQgdGhlIGxvY2F0aW9uXG4gKiBhcyBzcGVjaWZpZWQgaW4gdGhlIHRlbXBsYXRlLlxuICpcbiAqIFRoZSBkaXJlY3RpdmUgaXRzZWxmIHdvcmtzIHNpbWlsYXIgdG8gbmdJbmNsdWRlLCBob3dldmVyLCBpbnN0ZWFkIG9mIGRvd25sb2FkaW5nIHRlbXBsYXRlIGNvZGUgKG9yIGxvYWRpbmcgaXRcbiAqIGZyb20gdGhlIHRlbXBsYXRlIGNhY2hlKSwgYG5nU3dpdGNoYCBzaW1wbHkgY2hvb3NlcyBvbmUgb2YgdGhlIG5lc3RlZCBlbGVtZW50cyBhbmQgbWFrZXMgaXQgdmlzaWJsZSBiYXNlZCBvbiB3aGljaCBlbGVtZW50XG4gKiBtYXRjaGVzIHRoZSB2YWx1ZSBvYnRhaW5lZCBmcm9tIHRoZSBldmFsdWF0ZWQgZXhwcmVzc2lvbi4gSW4gb3RoZXIgd29yZHMsIHlvdSBkZWZpbmUgYSBjb250YWluZXIgZWxlbWVudFxuICogKHdoZXJlIHlvdSBwbGFjZSB0aGUgZGlyZWN0aXZlKSwgcGxhY2UgYW4gZXhwcmVzc2lvbiBvbiB0aGUgKipgb249XCIuLi5cImAgYXR0cmlidXRlKipcbiAqIChvciB0aGUgKipgbmctc3dpdGNoPVwiLi4uXCJgIGF0dHJpYnV0ZSoqKSwgZGVmaW5lIGFueSBpbm5lciBlbGVtZW50cyBpbnNpZGUgb2YgdGhlIGRpcmVjdGl2ZSBhbmQgcGxhY2VcbiAqIGEgd2hlbiBhdHRyaWJ1dGUgcGVyIGVsZW1lbnQuIFRoZSB3aGVuIGF0dHJpYnV0ZSBpcyB1c2VkIHRvIGluZm9ybSBuZ1N3aXRjaCB3aGljaCBlbGVtZW50IHRvIGRpc3BsYXkgd2hlbiB0aGUgb25cbiAqIGV4cHJlc3Npb24gaXMgZXZhbHVhdGVkLiBJZiBhIG1hdGNoaW5nIGV4cHJlc3Npb24gaXMgbm90IGZvdW5kIHZpYSBhIHdoZW4gYXR0cmlidXRlIHRoZW4gYW4gZWxlbWVudCB3aXRoIHRoZSBkZWZhdWx0XG4gKiBhdHRyaWJ1dGUgaXMgZGlzcGxheWVkLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XG4gKiBCZSBhd2FyZSB0aGF0IHRoZSBhdHRyaWJ1dGUgdmFsdWVzIHRvIG1hdGNoIGFnYWluc3QgY2Fubm90IGJlIGV4cHJlc3Npb25zLiBUaGV5IGFyZSBpbnRlcnByZXRlZFxuICogYXMgbGl0ZXJhbCBzdHJpbmcgdmFsdWVzIHRvIG1hdGNoIGFnYWluc3QuXG4gKiBGb3IgZXhhbXBsZSwgKipgbmctc3dpdGNoLXdoZW49XCJzb21lVmFsXCJgKiogd2lsbCBtYXRjaCBhZ2FpbnN0IHRoZSBzdHJpbmcgYFwic29tZVZhbFwiYCBub3QgYWdhaW5zdCB0aGVcbiAqIHZhbHVlIG9mIHRoZSBleHByZXNzaW9uIGAkc2NvcGUuc29tZVZhbGAuXG4gKiA8L2Rpdj5cblxuICogQGFuaW1hdGlvbnNcbiAqIGVudGVyIC0gaGFwcGVucyBhZnRlciB0aGUgbmdTd2l0Y2ggY29udGVudHMgY2hhbmdlIGFuZCB0aGUgbWF0Y2hlZCBjaGlsZCBlbGVtZW50IGlzIHBsYWNlZCBpbnNpZGUgdGhlIGNvbnRhaW5lclxuICogbGVhdmUgLSBoYXBwZW5zIGp1c3QgYWZ0ZXIgdGhlIG5nU3dpdGNoIGNvbnRlbnRzIGNoYW5nZSBhbmQganVzdCBiZWZvcmUgdGhlIGZvcm1lciBjb250ZW50cyBhcmUgcmVtb3ZlZCBmcm9tIHRoZSBET01cbiAqXG4gKiBAdXNhZ2VcbiAqXG4gKiBgYGBcbiAqIDxBTlkgbmctc3dpdGNoPVwiZXhwcmVzc2lvblwiPlxuICogICA8QU5ZIG5nLXN3aXRjaC13aGVuPVwibWF0Y2hWYWx1ZTFcIj4uLi48L0FOWT5cbiAqICAgPEFOWSBuZy1zd2l0Y2gtd2hlbj1cIm1hdGNoVmFsdWUyXCI+Li4uPC9BTlk+XG4gKiAgIDxBTlkgbmctc3dpdGNoLWRlZmF1bHQ+Li4uPC9BTlk+XG4gKiA8L0FOWT5cbiAqIGBgYFxuICpcbiAqXG4gKiBAc2NvcGVcbiAqIEBwcmlvcml0eSAxMjAwXG4gKiBAcGFyYW0geyp9IG5nU3dpdGNofG9uIGV4cHJlc3Npb24gdG8gbWF0Y2ggYWdhaW5zdCA8dHQ+bmctc3dpdGNoLXdoZW48L3R0Pi5cbiAqIE9uIGNoaWxkIGVsZW1lbnRzIGFkZDpcbiAqXG4gKiAqIGBuZ1N3aXRjaFdoZW5gOiB0aGUgY2FzZSBzdGF0ZW1lbnQgdG8gbWF0Y2ggYWdhaW5zdC4gSWYgbWF0Y2ggdGhlbiB0aGlzXG4gKiAgIGNhc2Ugd2lsbCBiZSBkaXNwbGF5ZWQuIElmIHRoZSBzYW1lIG1hdGNoIGFwcGVhcnMgbXVsdGlwbGUgdGltZXMsIGFsbCB0aGVcbiAqICAgZWxlbWVudHMgd2lsbCBiZSBkaXNwbGF5ZWQuXG4gKiAqIGBuZ1N3aXRjaERlZmF1bHRgOiB0aGUgZGVmYXVsdCBjYXNlIHdoZW4gbm8gb3RoZXIgY2FzZSBtYXRjaC4gSWYgdGhlcmVcbiAqICAgYXJlIG11bHRpcGxlIGRlZmF1bHQgY2FzZXMsIGFsbCBvZiB0aGVtIHdpbGwgYmUgZGlzcGxheWVkIHdoZW4gbm8gb3RoZXJcbiAqICAgY2FzZSBtYXRjaC5cbiAqXG4gKlxuICogQGV4YW1wbGVcbiAgPGV4YW1wbGUgbW9kdWxlPVwic3dpdGNoRXhhbXBsZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwic2VsZWN0aW9uXCIgbmctb3B0aW9ucz1cIml0ZW0gZm9yIGl0ZW0gaW4gaXRlbXNcIj5cbiAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgIDx0dD5zZWxlY3Rpb249e3tzZWxlY3Rpb259fTwvdHQ+XG4gICAgICAgIDxoci8+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLXN3aXRjaC1jb250YWluZXJcIlxuICAgICAgICAgIG5nLXN3aXRjaCBvbj1cInNlbGVjdGlvblwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGUtc3dpdGNoXCIgbmctc3dpdGNoLXdoZW49XCJzZXR0aW5nc1wiPlNldHRpbmdzIERpdjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGUtc3dpdGNoXCIgbmctc3dpdGNoLXdoZW49XCJob21lXCI+SG9tZSBTcGFuPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0ZS1zd2l0Y2hcIiBuZy1zd2l0Y2gtZGVmYXVsdD5kZWZhdWx0PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdzd2l0Y2hFeGFtcGxlJywgWyduZ0FuaW1hdGUnXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAkc2NvcGUuaXRlbXMgPSBbJ3NldHRpbmdzJywgJ2hvbWUnLCAnb3RoZXInXTtcbiAgICAgICAgICAkc2NvcGUuc2VsZWN0aW9uID0gJHNjb3BlLml0ZW1zWzBdO1xuICAgICAgICB9XSk7XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxuICAgICAgLmFuaW1hdGUtc3dpdGNoLWNvbnRhaW5lciB7XG4gICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xuICAgICAgICBiYWNrZ3JvdW5kOndoaXRlO1xuICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBoZWlnaHQ6NDBweDtcbiAgICAgICAgb3ZlcmZsb3c6aGlkZGVuO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1zd2l0Y2gge1xuICAgICAgICBwYWRkaW5nOjEwcHg7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLXN3aXRjaC5uZy1hbmltYXRlIHtcbiAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7XG4gICAgICAgIHRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41cztcblxuICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgICAgICAgdG9wOjA7XG4gICAgICAgIGxlZnQ6MDtcbiAgICAgICAgcmlnaHQ6MDtcbiAgICAgICAgYm90dG9tOjA7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLXN3aXRjaC5uZy1sZWF2ZS5uZy1sZWF2ZS1hY3RpdmUsXG4gICAgICAuYW5pbWF0ZS1zd2l0Y2gubmctZW50ZXIge1xuICAgICAgICB0b3A6LTUwcHg7XG4gICAgICB9XG4gICAgICAuYW5pbWF0ZS1zd2l0Y2gubmctbGVhdmUsXG4gICAgICAuYW5pbWF0ZS1zd2l0Y2gubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcbiAgICAgICAgdG9wOjA7XG4gICAgICB9XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIHZhciBzd2l0Y2hFbGVtID0gZWxlbWVudChieS5jc3MoJ1tuZy1zd2l0Y2hdJykpO1xuICAgICAgdmFyIHNlbGVjdCA9IGVsZW1lbnQoYnkubW9kZWwoJ3NlbGVjdGlvbicpKTtcblxuICAgICAgaXQoJ3Nob3VsZCBzdGFydCBpbiBzZXR0aW5ncycsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3Qoc3dpdGNoRWxlbS5nZXRUZXh0KCkpLnRvTWF0Y2goL1NldHRpbmdzIERpdi8pO1xuICAgICAgfSk7XG4gICAgICBpdCgnc2hvdWxkIGNoYW5nZSB0byBob21lJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGVjdC5hbGwoYnkuY3NzKCdvcHRpb24nKSkuZ2V0KDEpLmNsaWNrKCk7XG4gICAgICAgIGV4cGVjdChzd2l0Y2hFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvSG9tZSBTcGFuLyk7XG4gICAgICB9KTtcbiAgICAgIGl0KCdzaG91bGQgc2VsZWN0IGRlZmF1bHQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZWN0LmFsbChieS5jc3MoJ29wdGlvbicpKS5nZXQoMikuY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KHN3aXRjaEVsZW0uZ2V0VGV4dCgpKS50b01hdGNoKC9kZWZhdWx0Lyk7XG4gICAgICB9KTtcbiAgICA8L2ZpbGU+XG4gIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nU3dpdGNoRGlyZWN0aXZlID0gWyckYW5pbWF0ZScsIGZ1bmN0aW9uKCRhbmltYXRlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVxdWlyZTogJ25nU3dpdGNoJyxcblxuICAgIC8vIGFza3MgZm9yICRzY29wZSB0byBmb29sIHRoZSBCQyBjb250cm9sbGVyIG1vZHVsZVxuICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgZnVuY3Rpb24gbmdTd2l0Y2hDb250cm9sbGVyKCkge1xuICAgICB0aGlzLmNhc2VzID0ge307XG4gICAgfV0sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIG5nU3dpdGNoQ29udHJvbGxlcikge1xuICAgICAgdmFyIHdhdGNoRXhwciA9IGF0dHIubmdTd2l0Y2ggfHwgYXR0ci5vbixcbiAgICAgICAgICBzZWxlY3RlZFRyYW5zY2x1ZGVzID0gW10sXG4gICAgICAgICAgc2VsZWN0ZWRFbGVtZW50cyA9IFtdLFxuICAgICAgICAgIHByZXZpb3VzTGVhdmVBbmltYXRpb25zID0gW10sXG4gICAgICAgICAgc2VsZWN0ZWRTY29wZXMgPSBbXTtcblxuICAgICAgdmFyIHNwbGljZUZhY3RvcnkgPSBmdW5jdGlvbihhcnJheSwgaW5kZXgpIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7IGFycmF5LnNwbGljZShpbmRleCwgMSk7IH07XG4gICAgICB9O1xuXG4gICAgICBzY29wZS4kd2F0Y2god2F0Y2hFeHByLCBmdW5jdGlvbiBuZ1N3aXRjaFdhdGNoQWN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciBpLCBpaTtcbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBwcmV2aW91c0xlYXZlQW5pbWF0aW9ucy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgJGFuaW1hdGUuY2FuY2VsKHByZXZpb3VzTGVhdmVBbmltYXRpb25zW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBwcmV2aW91c0xlYXZlQW5pbWF0aW9ucy5sZW5ndGggPSAwO1xuXG4gICAgICAgIGZvciAoaSA9IDAsIGlpID0gc2VsZWN0ZWRTY29wZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgIHZhciBzZWxlY3RlZCA9IGdldEJsb2NrTm9kZXMoc2VsZWN0ZWRFbGVtZW50c1tpXS5jbG9uZSk7XG4gICAgICAgICAgc2VsZWN0ZWRTY29wZXNbaV0uJGRlc3Ryb3koKTtcbiAgICAgICAgICB2YXIgcHJvbWlzZSA9IHByZXZpb3VzTGVhdmVBbmltYXRpb25zW2ldID0gJGFuaW1hdGUubGVhdmUoc2VsZWN0ZWQpO1xuICAgICAgICAgIHByb21pc2UudGhlbihzcGxpY2VGYWN0b3J5KHByZXZpb3VzTGVhdmVBbmltYXRpb25zLCBpKSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxlY3RlZEVsZW1lbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHNlbGVjdGVkU2NvcGVzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgaWYgKChzZWxlY3RlZFRyYW5zY2x1ZGVzID0gbmdTd2l0Y2hDb250cm9sbGVyLmNhc2VzWychJyArIHZhbHVlXSB8fCBuZ1N3aXRjaENvbnRyb2xsZXIuY2FzZXNbJz8nXSkpIHtcbiAgICAgICAgICBmb3JFYWNoKHNlbGVjdGVkVHJhbnNjbHVkZXMsIGZ1bmN0aW9uKHNlbGVjdGVkVHJhbnNjbHVkZSkge1xuICAgICAgICAgICAgc2VsZWN0ZWRUcmFuc2NsdWRlLnRyYW5zY2x1ZGUoZnVuY3Rpb24oY2FzZUVsZW1lbnQsIHNlbGVjdGVkU2NvcGUpIHtcbiAgICAgICAgICAgICAgc2VsZWN0ZWRTY29wZXMucHVzaChzZWxlY3RlZFNjb3BlKTtcbiAgICAgICAgICAgICAgdmFyIGFuY2hvciA9IHNlbGVjdGVkVHJhbnNjbHVkZS5lbGVtZW50O1xuICAgICAgICAgICAgICBjYXNlRWxlbWVudFtjYXNlRWxlbWVudC5sZW5ndGgrK10gPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcgZW5kIG5nU3dpdGNoV2hlbjogJyk7XG4gICAgICAgICAgICAgIHZhciBibG9jayA9IHsgY2xvbmU6IGNhc2VFbGVtZW50IH07XG5cbiAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50cy5wdXNoKGJsb2NrKTtcbiAgICAgICAgICAgICAgJGFuaW1hdGUuZW50ZXIoY2FzZUVsZW1lbnQsIGFuY2hvci5wYXJlbnQoKSwgYW5jaG9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XTtcblxudmFyIG5nU3dpdGNoV2hlbkRpcmVjdGl2ZSA9IG5nRGlyZWN0aXZlKHtcbiAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxuICBwcmlvcml0eTogMTIwMCxcbiAgcmVxdWlyZTogJ15uZ1N3aXRjaCcsXG4gIG11bHRpRWxlbWVudDogdHJ1ZSxcbiAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsLCAkdHJhbnNjbHVkZSkge1xuICAgIGN0cmwuY2FzZXNbJyEnICsgYXR0cnMubmdTd2l0Y2hXaGVuXSA9IChjdHJsLmNhc2VzWychJyArIGF0dHJzLm5nU3dpdGNoV2hlbl0gfHwgW10pO1xuICAgIGN0cmwuY2FzZXNbJyEnICsgYXR0cnMubmdTd2l0Y2hXaGVuXS5wdXNoKHsgdHJhbnNjbHVkZTogJHRyYW5zY2x1ZGUsIGVsZW1lbnQ6IGVsZW1lbnQgfSk7XG4gIH1cbn0pO1xuXG52YXIgbmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoe1xuICB0cmFuc2NsdWRlOiAnZWxlbWVudCcsXG4gIHByaW9yaXR5OiAxMjAwLFxuICByZXF1aXJlOiAnXm5nU3dpdGNoJyxcbiAgbXVsdGlFbGVtZW50OiB0cnVlLFxuICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHRyYW5zY2x1ZGUpIHtcbiAgICBjdHJsLmNhc2VzWyc/J10gPSAoY3RybC5jYXNlc1snPyddIHx8IFtdKTtcbiAgICBjdHJsLmNhc2VzWyc/J10ucHVzaCh7IHRyYW5zY2x1ZGU6ICR0cmFuc2NsdWRlLCBlbGVtZW50OiBlbGVtZW50IH0pO1xuICAgfVxufSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdUcmFuc2NsdWRlXG4gKiBAcmVzdHJpY3QgRUFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEaXJlY3RpdmUgdGhhdCBtYXJrcyB0aGUgaW5zZXJ0aW9uIHBvaW50IGZvciB0aGUgdHJhbnNjbHVkZWQgRE9NIG9mIHRoZSBuZWFyZXN0IHBhcmVudCBkaXJlY3RpdmUgdGhhdCB1c2VzIHRyYW5zY2x1c2lvbi5cbiAqXG4gKiBBbnkgZXhpc3RpbmcgY29udGVudCBvZiB0aGUgZWxlbWVudCB0aGF0IHRoaXMgZGlyZWN0aXZlIGlzIHBsYWNlZCBvbiB3aWxsIGJlIHJlbW92ZWQgYmVmb3JlIHRoZSB0cmFuc2NsdWRlZCBjb250ZW50IGlzIGluc2VydGVkLlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJ0cmFuc2NsdWRlRXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgndHJhbnNjbHVkZUV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAuZGlyZWN0aXZlKCdwYW5lJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgICAgICAgICAgICBzY29wZTogeyB0aXRsZTonQCcgfSxcbiAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBzdHlsZT1cImJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiBncmF5XCI+e3t0aXRsZX19PC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAnPG5nLXRyYW5zY2x1ZGU+PC9uZy10cmFuc2NsdWRlPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nXG4gICAgICAgICAgICAgfTtcbiAgICAgICAgIH0pXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAkc2NvcGUudGl0bGUgPSAnTG9yZW0gSXBzdW0nO1xuICAgICAgICAgICAkc2NvcGUudGV4dCA9ICdOZXF1ZSBwb3JybyBxdWlzcXVhbSBlc3QgcXVpIGRvbG9yZW0gaXBzdW0gcXVpYSBkb2xvci4uLic7XG4gICAgICAgICB9XSk7XG4gICAgICAgPC9zY3JpcHQ+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInRpdGxlXCI+PGJyPlxuICAgICAgICAgPHRleHRhcmVhIG5nLW1vZGVsPVwidGV4dFwiPjwvdGV4dGFyZWE+IDxici8+XG4gICAgICAgICA8cGFuZSB0aXRsZT1cInt7dGl0bGV9fVwiPnt7dGV4dH19PC9wYW5lPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYXZlIHRyYW5zY2x1ZGVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHRpdGxlRWxlbWVudCA9IGVsZW1lbnQoYnkubW9kZWwoJ3RpdGxlJykpO1xuICAgICAgICAgIHRpdGxlRWxlbWVudC5jbGVhcigpO1xuICAgICAgICAgIHRpdGxlRWxlbWVudC5zZW5kS2V5cygnVElUTEUnKTtcbiAgICAgICAgICB2YXIgdGV4dEVsZW1lbnQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd0ZXh0JykpO1xuICAgICAgICAgIHRleHRFbGVtZW50LmNsZWFyKCk7XG4gICAgICAgICAgdGV4dEVsZW1lbnQuc2VuZEtleXMoJ1RFWFQnKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd0aXRsZScpKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1RJVExFJyk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygndGV4dCcpKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1RFWFQnKTtcbiAgICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqXG4gKi9cbnZhciBuZ1RyYW5zY2x1ZGVEaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7XG4gIHJlc3RyaWN0OiAnRUFDJyxcbiAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCBjb250cm9sbGVyLCAkdHJhbnNjbHVkZSkge1xuICAgIGlmICghJHRyYW5zY2x1ZGUpIHtcbiAgICAgIHRocm93IG1pbkVycignbmdUcmFuc2NsdWRlJykoJ29ycGhhbicsXG4gICAgICAgJ0lsbGVnYWwgdXNlIG9mIG5nVHJhbnNjbHVkZSBkaXJlY3RpdmUgaW4gdGhlIHRlbXBsYXRlISAnICtcbiAgICAgICAnTm8gcGFyZW50IGRpcmVjdGl2ZSB0aGF0IHJlcXVpcmVzIGEgdHJhbnNjbHVzaW9uIGZvdW5kLiAnICtcbiAgICAgICAnRWxlbWVudDogezB9JyxcbiAgICAgICBzdGFydGluZ1RhZygkZWxlbWVudCkpO1xuICAgIH1cblxuICAgICR0cmFuc2NsdWRlKGZ1bmN0aW9uKGNsb25lKSB7XG4gICAgICAkZWxlbWVudC5lbXB0eSgpO1xuICAgICAgJGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcbiAgICB9KTtcbiAgfVxufSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgc2NyaXB0XG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogTG9hZCB0aGUgY29udGVudCBvZiBhIGA8c2NyaXB0PmAgZWxlbWVudCBpbnRvIHtAbGluayBuZy4kdGVtcGxhdGVDYWNoZSBgJHRlbXBsYXRlQ2FjaGVgfSwgc28gdGhhdCB0aGVcbiAqIHRlbXBsYXRlIGNhbiBiZSB1c2VkIGJ5IHtAbGluayBuZy5kaXJlY3RpdmU6bmdJbmNsdWRlIGBuZ0luY2x1ZGVgfSxcbiAqIHtAbGluayBuZ1JvdXRlLmRpcmVjdGl2ZTpuZ1ZpZXcgYG5nVmlld2B9LCBvciB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlIGRpcmVjdGl2ZXN9LiBUaGUgdHlwZSBvZiB0aGVcbiAqIGA8c2NyaXB0PmAgZWxlbWVudCBtdXN0IGJlIHNwZWNpZmllZCBhcyBgdGV4dC9uZy10ZW1wbGF0ZWAsIGFuZCBhIGNhY2hlIG5hbWUgZm9yIHRoZSB0ZW1wbGF0ZSBtdXN0IGJlXG4gKiBhc3NpZ25lZCB0aHJvdWdoIHRoZSBlbGVtZW50J3MgYGlkYCwgd2hpY2ggY2FuIHRoZW4gYmUgdXNlZCBhcyBhIGRpcmVjdGl2ZSdzIGB0ZW1wbGF0ZVVybGAuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgTXVzdCBiZSBzZXQgdG8gYCd0ZXh0L25nLXRlbXBsYXRlJ2AuXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgQ2FjaGUgbmFtZSBvZiB0aGUgdGVtcGxhdGUuXG4gKlxuICogQGV4YW1wbGVcbiAgPGV4YW1wbGU+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxzY3JpcHQgdHlwZT1cInRleHQvbmctdGVtcGxhdGVcIiBpZD1cIi90cGwuaHRtbFwiPlxuICAgICAgICBDb250ZW50IG9mIHRoZSB0ZW1wbGF0ZS5cbiAgICAgIDwvc2NyaXB0PlxuXG4gICAgICA8YSBuZy1jbGljaz1cImN1cnJlbnRUcGw9Jy90cGwuaHRtbCdcIiBpZD1cInRwbC1saW5rXCI+TG9hZCBpbmxpbmVkIHRlbXBsYXRlPC9hPlxuICAgICAgPGRpdiBpZD1cInRwbC1jb250ZW50XCIgbmctaW5jbHVkZSBzcmM9XCJjdXJyZW50VHBsXCI+PC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIGl0KCdzaG91bGQgbG9hZCB0ZW1wbGF0ZSBkZWZpbmVkIGluc2lkZSBzY3JpcHQgdGFnJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGVsZW1lbnQoYnkuY3NzKCcjdHBsLWxpbmsnKSkuY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjdHBsLWNvbnRlbnQnKSkuZ2V0VGV4dCgpKS50b01hdGNoKC9Db250ZW50IG9mIHRoZSB0ZW1wbGF0ZS8pO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKi9cbnZhciBzY3JpcHREaXJlY3RpdmUgPSBbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHRlcm1pbmFsOiB0cnVlLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIGlmIChhdHRyLnR5cGUgPT0gJ3RleHQvbmctdGVtcGxhdGUnKSB7XG4gICAgICAgIHZhciB0ZW1wbGF0ZVVybCA9IGF0dHIuaWQsXG4gICAgICAgICAgICAvLyBJRSBpcyBub3QgY29uc2lzdGVudCwgaW4gc2NyaXB0cyB3ZSBoYXZlIHRvIHJlYWQgLnRleHQgYnV0IGluIG90aGVyIG5vZGVzIHdlIGhhdmUgdG8gcmVhZCAudGV4dENvbnRlbnRcbiAgICAgICAgICAgIHRleHQgPSBlbGVtZW50WzBdLnRleHQ7XG5cbiAgICAgICAgJHRlbXBsYXRlQ2FjaGUucHV0KHRlbXBsYXRlVXJsLCB0ZXh0KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XTtcblxudmFyIG5nT3B0aW9uc01pbkVyciA9IG1pbkVycignbmdPcHRpb25zJyk7XG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHNlbGVjdFxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEhUTUwgYFNFTEVDVGAgZWxlbWVudCB3aXRoIGFuZ3VsYXIgZGF0YS1iaW5kaW5nLlxuICpcbiAqICMgYG5nT3B0aW9uc2BcbiAqXG4gKiBUaGUgYG5nT3B0aW9uc2AgYXR0cmlidXRlIGNhbiBiZSB1c2VkIHRvIGR5bmFtaWNhbGx5IGdlbmVyYXRlIGEgbGlzdCBvZiBgPG9wdGlvbj5gXG4gKiBlbGVtZW50cyBmb3IgdGhlIGA8c2VsZWN0PmAgZWxlbWVudCB1c2luZyB0aGUgYXJyYXkgb3Igb2JqZWN0IG9idGFpbmVkIGJ5IGV2YWx1YXRpbmcgdGhlXG4gKiBgbmdPcHRpb25zYCBjb21wcmVoZW5zaW9uX2V4cHJlc3Npb24uXG4gKlxuICogSW4gbWFueSBjYXNlcywgYG5nUmVwZWF0YCBjYW4gYmUgdXNlZCBvbiBgPG9wdGlvbj5gIGVsZW1lbnRzIGluc3RlYWQgb2YgYG5nT3B0aW9uc2AgdG8gYWNoaWV2ZSBhXG4gKiBzaW1pbGFyIHJlc3VsdC4gSG93ZXZlciwgdGhlIGBuZ09wdGlvbnNgIHByb3ZpZGVzIHNvbWUgYmVuZWZpdHMgc3VjaCBhcyByZWR1Y2luZyBtZW1vcnkgYW5kXG4gKiBpbmNyZWFzaW5nIHNwZWVkIGJ5IG5vdCBjcmVhdGluZyBhIG5ldyBzY29wZSBmb3IgZWFjaCByZXBlYXRlZCBpbnN0YW5jZSwgYXMgd2VsbCBhcyBwcm92aWRpbmdcbiAqIG1vcmUgZmxleGliaWxpdHkgaW4gaG93IHRoZSBgc2VsZWN0YCdzIG1vZGVsIGlzIGFzc2lnbmVkIHZpYSBgc2VsZWN0IGFzYC4gYG5nT3B0aW9ucyBzaG91bGQgYmVcbiAqIHVzZWQgd2hlbiB0aGUgYHNlbGVjdGAgbW9kZWwgbmVlZHMgdG8gYmUgYm91bmQgdG8gYSBub24tc3RyaW5nIHZhbHVlLiBUaGlzIGlzIGJlY2F1c2UgYW4gb3B0aW9uXG4gKiBlbGVtZW50IGNhbiBvbmx5IGJlIGJvdW5kIHRvIHN0cmluZyB2YWx1ZXMgYXQgcHJlc2VudC5cbiAqXG4gKiBXaGVuIGFuIGl0ZW0gaW4gdGhlIGA8c2VsZWN0PmAgbWVudSBpcyBzZWxlY3RlZCwgdGhlIGFycmF5IGVsZW1lbnQgb3Igb2JqZWN0IHByb3BlcnR5XG4gKiByZXByZXNlbnRlZCBieSB0aGUgc2VsZWN0ZWQgb3B0aW9uIHdpbGwgYmUgYm91bmQgdG8gdGhlIG1vZGVsIGlkZW50aWZpZWQgYnkgdGhlIGBuZ01vZGVsYFxuICogZGlyZWN0aXZlLlxuICpcbiAqIE9wdGlvbmFsbHksIGEgc2luZ2xlIGhhcmQtY29kZWQgYDxvcHRpb24+YCBlbGVtZW50LCB3aXRoIHRoZSB2YWx1ZSBzZXQgdG8gYW4gZW1wdHkgc3RyaW5nLCBjYW5cbiAqIGJlIG5lc3RlZCBpbnRvIHRoZSBgPHNlbGVjdD5gIGVsZW1lbnQuIFRoaXMgZWxlbWVudCB3aWxsIHRoZW4gcmVwcmVzZW50IHRoZSBgbnVsbGAgb3IgXCJub3Qgc2VsZWN0ZWRcIlxuICogb3B0aW9uLiBTZWUgZXhhbXBsZSBiZWxvdyBmb3IgZGVtb25zdHJhdGlvbi5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlOioqIGBuZ01vZGVsYCBjb21wYXJlcyBieSByZWZlcmVuY2UsIG5vdCB2YWx1ZS4gVGhpcyBpcyBpbXBvcnRhbnQgd2hlbiBiaW5kaW5nIHRvIGFuXG4gKiBhcnJheSBvZiBvYmplY3RzLiBTZWUgYW4gZXhhbXBsZSBbaW4gdGhpcyBqc2ZpZGRsZV0oaHR0cDovL2pzZmlkZGxlLm5ldC9xV3pUYi8pLlxuICogPC9kaXY+XG4gKlxuICogIyMgYHNlbGVjdCBhc2BcbiAqXG4gKiBVc2luZyBgc2VsZWN0IGFzYCB3aWxsIGJpbmQgdGhlIHJlc3VsdCBvZiB0aGUgYHNlbGVjdCBhc2AgZXhwcmVzc2lvbiB0byB0aGUgbW9kZWwsIGJ1dFxuICogdGhlIHZhbHVlIG9mIHRoZSBgPHNlbGVjdD5gIGFuZCBgPG9wdGlvbj5gIGh0bWwgZWxlbWVudHMgd2lsbCBiZSBlaXRoZXIgdGhlIGluZGV4IChmb3IgYXJyYXkgZGF0YSBzb3VyY2VzKVxuICogb3IgcHJvcGVydHkgbmFtZSAoZm9yIG9iamVjdCBkYXRhIHNvdXJjZXMpIG9mIHRoZSB2YWx1ZSB3aXRoaW4gdGhlIGNvbGxlY3Rpb24uIElmIGEgYHRyYWNrIGJ5YCBleHByZXNzaW9uXG4gKiBpcyB1c2VkLCB0aGUgcmVzdWx0IG9mIHRoYXQgZXhwcmVzc2lvbiB3aWxsIGJlIHNldCBhcyB0aGUgdmFsdWUgb2YgdGhlIGBvcHRpb25gIGFuZCBgc2VsZWN0YCBlbGVtZW50cy5cbiAqXG4gKiAjIyMgYHNlbGVjdCBhc2Agd2l0aCBgdHJhY2tleHByYFxuICpcbiAqIFVzaW5nIGBzZWxlY3QgYXNgIHRvZ2V0aGVyIHdpdGggYHRyYWNrZXhwcmAgaXMgbm90IHJlY29tbWVuZGVkLiBSZWFzb25pbmc6XG4gKlxuICogLSBFeGFtcGxlOiAmbHQ7c2VsZWN0IG5nLW9wdGlvbnM9XCJpdGVtLnN1Ykl0ZW0gYXMgaXRlbS5sYWJlbCBmb3IgaXRlbSBpbiB2YWx1ZXMgdHJhY2sgYnkgaXRlbS5pZFwiIG5nLW1vZGVsPVwic2VsZWN0ZWRcIiZndDtcbiAqICAgdmFsdWVzOiBbe2lkOiAxLCBsYWJlbDogJ2FMYWJlbCcsIHN1Ykl0ZW06IHtuYW1lOiAnYVN1Ykl0ZW0nfX0sIHtpZDogMiwgbGFiZWw6ICdiTGFiZWwnLCBzdWJJdGVtOiB7bmFtZTogJ2JTdWJJdGVtJ319XSxcbiAqICAgJHNjb3BlLnNlbGVjdGVkID0ge25hbWU6ICdhU3ViSXRlbSd9O1xuICogLSB0cmFjayBieSBpcyBhbHdheXMgYXBwbGllZCB0byBgdmFsdWVgLCB3aXRoIHRoZSBwdXJwb3NlIG9mIHByZXNlcnZpbmcgdGhlIHNlbGVjdGlvbixcbiAqICAgKHRvIGBpdGVtYCBpbiB0aGlzIGNhc2UpXG4gKiAtIHRvIGNhbGN1bGF0ZSB3aGV0aGVyIGFuIGl0ZW0gaXMgc2VsZWN0ZWQgd2UgZG8gdGhlIGZvbGxvd2luZzpcbiAqICAgMS4gYXBwbHkgYHRyYWNrIGJ5YCB0byB0aGUgdmFsdWVzIGluIHRoZSBhcnJheSwgZS5nLlxuICogICAgICBJbiB0aGUgZXhhbXBsZTogWzEsMl1cbiAqICAgMi4gYXBwbHkgYHRyYWNrIGJ5YCB0byB0aGUgYWxyZWFkeSBzZWxlY3RlZCB2YWx1ZSBpbiBgbmdNb2RlbGA6XG4gKiAgICAgIEluIHRoZSBleGFtcGxlOiB0aGlzIGlzIG5vdCBwb3NzaWJsZSwgYXMgYHRyYWNrIGJ5YCByZWZlcnMgdG8gYGl0ZW0uaWRgLCBidXQgdGhlIHNlbGVjdGVkXG4gKiAgICAgIHZhbHVlIGZyb20gYG5nTW9kZWxgIGlzIGB7bmFtZTogYVN1Ykl0ZW19YC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFRoZSBjb250cm9sIGlzIGNvbnNpZGVyZWQgdmFsaWQgb25seSBpZiB2YWx1ZSBpcyBlbnRlcmVkLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gKiBAcGFyYW0ge2NvbXByZWhlbnNpb25fZXhwcmVzc2lvbj19IG5nT3B0aW9ucyBpbiBvbmUgb2YgdGhlIGZvbGxvd2luZyBmb3JtczpcbiAqXG4gKiAgICogZm9yIGFycmF5IGRhdGEgc291cmNlczpcbiAqICAgICAqIGBsYWJlbGAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YFxuICogICAgICogYHNlbGVjdGAgKipgYXNgKiogYGxhYmVsYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgXG4gKiAgICAgKiBgbGFiZWxgICAqKmBncm91cCBieWAqKiBgZ3JvdXBgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWBcbiAqICAgICAqIGBzZWxlY3RgICoqYGFzYCoqIGBsYWJlbGAgKipgZ3JvdXAgYnlgKiogYGdyb3VwYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgICoqYHRyYWNrIGJ5YCoqIGB0cmFja2V4cHJgXG4gKiAgICogZm9yIG9iamVjdCBkYXRhIHNvdXJjZXM6XG4gKiAgICAgKiBgbGFiZWxgICoqYGZvciAoYCoqYGtleWAgKipgLGAqKiBgdmFsdWVgKipgKSBpbmAqKiBgb2JqZWN0YFxuICogICAgICogYHNlbGVjdGAgKipgYXNgKiogYGxhYmVsYCAqKmBmb3IgKGAqKmBrZXlgICoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGBcbiAqICAgICAqIGBsYWJlbGAgKipgZ3JvdXAgYnlgKiogYGdyb3VwYCAqKmBmb3IgKGAqKmBrZXlgKipgLGAqKiBgdmFsdWVgKipgKSBpbmAqKiBgb2JqZWN0YFxuICogICAgICogYHNlbGVjdGAgKipgYXNgKiogYGxhYmVsYCAqKmBncm91cCBieWAqKiBgZ3JvdXBgXG4gKiAgICAgICAgICoqYGZvcmAgYChgKipga2V5YCoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGBcbiAqXG4gKiBXaGVyZTpcbiAqXG4gKiAgICogYGFycmF5YCAvIGBvYmplY3RgOiBhbiBleHByZXNzaW9uIHdoaWNoIGV2YWx1YXRlcyB0byBhbiBhcnJheSAvIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiAgICogYHZhbHVlYDogbG9jYWwgdmFyaWFibGUgd2hpY2ggd2lsbCByZWZlciB0byBlYWNoIGl0ZW0gaW4gdGhlIGBhcnJheWAgb3IgZWFjaCBwcm9wZXJ0eSB2YWx1ZVxuICogICAgICBvZiBgb2JqZWN0YCBkdXJpbmcgaXRlcmF0aW9uLlxuICogICAqIGBrZXlgOiBsb2NhbCB2YXJpYWJsZSB3aGljaCB3aWxsIHJlZmVyIHRvIGEgcHJvcGVydHkgbmFtZSBpbiBgb2JqZWN0YCBkdXJpbmcgaXRlcmF0aW9uLlxuICogICAqIGBsYWJlbGA6IFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIHdpbGwgYmUgdGhlIGxhYmVsIGZvciBgPG9wdGlvbj5gIGVsZW1lbnQuIFRoZVxuICogICAgIGBleHByZXNzaW9uYCB3aWxsIG1vc3QgbGlrZWx5IHJlZmVyIHRvIHRoZSBgdmFsdWVgIHZhcmlhYmxlIChlLmcuIGB2YWx1ZS5wcm9wZXJ0eU5hbWVgKS5cbiAqICAgKiBgc2VsZWN0YDogVGhlIHJlc3VsdCBvZiB0aGlzIGV4cHJlc3Npb24gd2lsbCBiZSBib3VuZCB0byB0aGUgbW9kZWwgb2YgdGhlIHBhcmVudCBgPHNlbGVjdD5gXG4gKiAgICAgIGVsZW1lbnQuIElmIG5vdCBzcGVjaWZpZWQsIGBzZWxlY3RgIGV4cHJlc3Npb24gd2lsbCBkZWZhdWx0IHRvIGB2YWx1ZWAuXG4gKiAgICogYGdyb3VwYDogVGhlIHJlc3VsdCBvZiB0aGlzIGV4cHJlc3Npb24gd2lsbCBiZSB1c2VkIHRvIGdyb3VwIG9wdGlvbnMgdXNpbmcgdGhlIGA8b3B0Z3JvdXA+YFxuICogICAgICBET00gZWxlbWVudC5cbiAqICAgKiBgdHJhY2tleHByYDogVXNlZCB3aGVuIHdvcmtpbmcgd2l0aCBhbiBhcnJheSBvZiBvYmplY3RzLiBUaGUgcmVzdWx0IG9mIHRoaXMgZXhwcmVzc2lvbiB3aWxsIGJlXG4gKiAgICAgIHVzZWQgdG8gaWRlbnRpZnkgdGhlIG9iamVjdHMgaW4gdGhlIGFycmF5LiBUaGUgYHRyYWNrZXhwcmAgd2lsbCBtb3N0IGxpa2VseSByZWZlciB0byB0aGVcbiAqICAgICBgdmFsdWVgIHZhcmlhYmxlIChlLmcuIGB2YWx1ZS5wcm9wZXJ0eU5hbWVgKS4gV2l0aCB0aGlzIHRoZSBzZWxlY3Rpb24gaXMgcHJlc2VydmVkXG4gKiAgICAgIGV2ZW4gd2hlbiB0aGUgb3B0aW9ucyBhcmUgcmVjcmVhdGVkIChlLmcuIHJlbG9hZGVkIGZyb20gdGhlIHNlcnZlcikuXG4gKlxuICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZSBtb2R1bGU9XCJzZWxlY3RFeGFtcGxlXCI+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8c2NyaXB0PlxuICAgICAgICBhbmd1bGFyLm1vZHVsZSgnc2VsZWN0RXhhbXBsZScsIFtdKVxuICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAkc2NvcGUuY29sb3JzID0gW1xuICAgICAgICAgICAgICB7bmFtZTonYmxhY2snLCBzaGFkZTonZGFyayd9LFxuICAgICAgICAgICAgICB7bmFtZTond2hpdGUnLCBzaGFkZTonbGlnaHQnfSxcbiAgICAgICAgICAgICAge25hbWU6J3JlZCcsIHNoYWRlOidkYXJrJ30sXG4gICAgICAgICAgICAgIHtuYW1lOidibHVlJywgc2hhZGU6J2RhcmsnfSxcbiAgICAgICAgICAgICAge25hbWU6J3llbGxvdycsIHNoYWRlOidsaWdodCd9XG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgJHNjb3BlLm15Q29sb3IgPSAkc2NvcGUuY29sb3JzWzJdOyAvLyByZWRcbiAgICAgICAgICB9XSk7XG4gICAgICAgIDwvc2NyaXB0PlxuICAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgIDxsaSBuZy1yZXBlYXQ9XCJjb2xvciBpbiBjb2xvcnNcIj5cbiAgICAgICAgICAgICAgTmFtZTogPGlucHV0IG5nLW1vZGVsPVwiY29sb3IubmFtZVwiPlxuICAgICAgICAgICAgICBbPGEgaHJlZiBuZy1jbGljaz1cImNvbG9ycy5zcGxpY2UoJGluZGV4LCAxKVwiPlg8L2E+XVxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgWzxhIGhyZWYgbmctY2xpY2s9XCJjb2xvcnMucHVzaCh7fSlcIj5hZGQ8L2E+XVxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDxoci8+XG4gICAgICAgICAgQ29sb3IgKG51bGwgbm90IGFsbG93ZWQpOlxuICAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJteUNvbG9yXCIgbmctb3B0aW9ucz1cImNvbG9yLm5hbWUgZm9yIGNvbG9yIGluIGNvbG9yc1wiPjwvc2VsZWN0Pjxicj5cblxuICAgICAgICAgIENvbG9yIChudWxsIGFsbG93ZWQpOlxuICAgICAgICAgIDxzcGFuICBjbGFzcz1cIm51bGxhYmxlXCI+XG4gICAgICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwibXlDb2xvclwiIG5nLW9wdGlvbnM9XCJjb2xvci5uYW1lIGZvciBjb2xvciBpbiBjb2xvcnNcIj5cbiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPi0tIGNob29zZSBjb2xvciAtLTwvb3B0aW9uPlxuICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgPC9zcGFuPjxici8+XG5cbiAgICAgICAgICBDb2xvciBncm91cGVkIGJ5IHNoYWRlOlxuICAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJteUNvbG9yXCIgbmctb3B0aW9ucz1cImNvbG9yLm5hbWUgZ3JvdXAgYnkgY29sb3Iuc2hhZGUgZm9yIGNvbG9yIGluIGNvbG9yc1wiPlxuICAgICAgICAgIDwvc2VsZWN0Pjxici8+XG5cblxuICAgICAgICAgIFNlbGVjdCA8YSBocmVmIG5nLWNsaWNrPVwibXlDb2xvciA9IHsgbmFtZTonbm90IGluIGxpc3QnLCBzaGFkZTogJ290aGVyJyB9XCI+Ym9ndXM8L2E+Ljxicj5cbiAgICAgICAgICA8aHIvPlxuICAgICAgICAgIEN1cnJlbnRseSBzZWxlY3RlZDoge3sge3NlbGVjdGVkX2NvbG9yOm15Q29sb3J9IH19XG4gICAgICAgICAgPGRpdiBzdHlsZT1cImJvcmRlcjpzb2xpZCAxcHggYmxhY2s7IGhlaWdodDoyMHB4XCJcbiAgICAgICAgICAgICAgIG5nLXN0eWxlPVwieydiYWNrZ3JvdW5kLWNvbG9yJzpteUNvbG9yLm5hbWV9XCI+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9maWxlPlxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1vcHRpb25zJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3tzZWxlY3RlZF9jb2xvcjpteUNvbG9yfScpKS5nZXRUZXh0KCkpLnRvTWF0Y2goJ3JlZCcpO1xuICAgICAgICAgICBlbGVtZW50LmFsbChieS5tb2RlbCgnbXlDb2xvcicpKS5maXJzdCgpLmNsaWNrKCk7XG4gICAgICAgICAgIGVsZW1lbnQuYWxsKGJ5LmNzcygnc2VsZWN0W25nLW1vZGVsPVwibXlDb2xvclwiXSBvcHRpb24nKSkuZmlyc3QoKS5jbGljaygpO1xuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd7c2VsZWN0ZWRfY29sb3I6bXlDb2xvcn0nKSkuZ2V0VGV4dCgpKS50b01hdGNoKCdibGFjaycpO1xuICAgICAgICAgICBlbGVtZW50KGJ5LmNzcygnLm51bGxhYmxlIHNlbGVjdFtuZy1tb2RlbD1cIm15Q29sb3JcIl0nKSkuY2xpY2soKTtcbiAgICAgICAgICAgZWxlbWVudC5hbGwoYnkuY3NzKCcubnVsbGFibGUgc2VsZWN0W25nLW1vZGVsPVwibXlDb2xvclwiXSBvcHRpb24nKSkuZmlyc3QoKS5jbGljaygpO1xuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd7c2VsZWN0ZWRfY29sb3I6bXlDb2xvcn0nKSkuZ2V0VGV4dCgpKS50b01hdGNoKCdudWxsJyk7XG4gICAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKi9cblxudmFyIG5nT3B0aW9uc0RpcmVjdGl2ZSA9IHZhbHVlRm4oe1xuICByZXN0cmljdDogJ0EnLFxuICB0ZXJtaW5hbDogdHJ1ZVxufSk7XG5cbi8vIGpzaGludCBtYXhsZW46IGZhbHNlXG52YXIgc2VsZWN0RGlyZWN0aXZlID0gWyckY29tcGlsZScsICckcGFyc2UnLCBmdW5jdGlvbigkY29tcGlsZSwgICAkcGFyc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAvLzAwMDAxMTExMTExMTExMDAwMDAwMDAwMDAyMjIyMjIyMjIyMDAwMDAwMDAwMDAwMDAwMDAwMDAwMzMzMzMzMzMzMzAwMDAwMDAwMDAwMDAwNDQ0NDQ0NDQ0NDQ0NDQ0MDAwMDAwMDAwNTU1NTU1NTU1NTU1NTU1MDAwMDAwMDY2NjY2NjY2NjY2NjY2NjAwMDAwMDAwMDAwMDAwMDc3Nzc3Nzc3NzcwMDAwMDAwMDAwMDAwMDAwMDAwODg4ODg4ODg4OFxuICB2YXIgTkdfT1BUSU9OU19SRUdFWFAgPSAvXlxccyooW1xcc1xcU10rPykoPzpcXHMrYXNcXHMrKFtcXHNcXFNdKz8pKT8oPzpcXHMrZ3JvdXBcXHMrYnlcXHMrKFtcXHNcXFNdKz8pKT9cXHMrZm9yXFxzKyg/OihbXFwkXFx3XVtcXCRcXHddKil8KD86XFwoXFxzKihbXFwkXFx3XVtcXCRcXHddKilcXHMqLFxccyooW1xcJFxcd11bXFwkXFx3XSopXFxzKlxcKSkpXFxzK2luXFxzKyhbXFxzXFxTXSs/KSg/Olxccyt0cmFja1xccytieVxccysoW1xcc1xcU10rPykpPyQvLFxuICAgICAgbnVsbE1vZGVsQ3RybCA9IHskc2V0Vmlld1ZhbHVlOiBub29wfTtcbi8vIGpzaGludCBtYXhsZW46IDEwMFxuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXF1aXJlOiBbJ3NlbGVjdCcsICc/bmdNb2RlbCddLFxuICAgIGNvbnRyb2xsZXI6IFsnJGVsZW1lbnQnLCAnJHNjb3BlJywgJyRhdHRycycsIGZ1bmN0aW9uKCRlbGVtZW50LCAkc2NvcGUsICRhdHRycykge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgIG9wdGlvbnNNYXAgPSB7fSxcbiAgICAgICAgICBuZ01vZGVsQ3RybCA9IG51bGxNb2RlbEN0cmwsXG4gICAgICAgICAgbnVsbE9wdGlvbixcbiAgICAgICAgICB1bmtub3duT3B0aW9uO1xuXG5cbiAgICAgIHNlbGYuZGF0YWJvdW5kID0gJGF0dHJzLm5nTW9kZWw7XG5cblxuICAgICAgc2VsZi5pbml0ID0gZnVuY3Rpb24obmdNb2RlbEN0cmxfLCBudWxsT3B0aW9uXywgdW5rbm93bk9wdGlvbl8pIHtcbiAgICAgICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybF87XG4gICAgICAgIG51bGxPcHRpb24gPSBudWxsT3B0aW9uXztcbiAgICAgICAgdW5rbm93bk9wdGlvbiA9IHVua25vd25PcHRpb25fO1xuICAgICAgfTtcblxuXG4gICAgICBzZWxmLmFkZE9wdGlvbiA9IGZ1bmN0aW9uKHZhbHVlLCBlbGVtZW50KSB7XG4gICAgICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KHZhbHVlLCAnXCJvcHRpb24gdmFsdWVcIicpO1xuICAgICAgICBvcHRpb25zTWFwW3ZhbHVlXSA9IHRydWU7XG5cbiAgICAgICAgaWYgKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgPT0gdmFsdWUpIHtcbiAgICAgICAgICAkZWxlbWVudC52YWwodmFsdWUpO1xuICAgICAgICAgIGlmICh1bmtub3duT3B0aW9uLnBhcmVudCgpKSB1bmtub3duT3B0aW9uLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdvcmthcm91bmQgZm9yIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0zODE0NTlcbiAgICAgICAgLy8gQWRkaW5nIGFuIDxvcHRpb24gc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiPiBlbGVtZW50IHRvIGEgPHNlbGVjdCByZXF1aXJlZD1cInJlcXVpcmVkXCI+IHNob3VsZFxuICAgICAgICAvLyBhdXRvbWF0aWNhbGx5IHNlbGVjdCB0aGUgbmV3IGVsZW1lbnRcbiAgICAgICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudFswXS5oYXNBdHRyaWJ1dGUoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgICBlbGVtZW50WzBdLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuXG4gICAgICBzZWxmLnJlbW92ZU9wdGlvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc09wdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgICBkZWxldGUgb3B0aW9uc01hcFt2YWx1ZV07XG4gICAgICAgICAgaWYgKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVW5rbm93bk9wdGlvbih2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG5cbiAgICAgIHNlbGYucmVuZGVyVW5rbm93bk9wdGlvbiA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB2YXIgdW5rbm93blZhbCA9ICc/ICcgKyBoYXNoS2V5KHZhbCkgKyAnID8nO1xuICAgICAgICB1bmtub3duT3B0aW9uLnZhbCh1bmtub3duVmFsKTtcbiAgICAgICAgJGVsZW1lbnQucHJlcGVuZCh1bmtub3duT3B0aW9uKTtcbiAgICAgICAgJGVsZW1lbnQudmFsKHVua25vd25WYWwpO1xuICAgICAgICB1bmtub3duT3B0aW9uLnByb3AoJ3NlbGVjdGVkJywgdHJ1ZSk7IC8vIG5lZWRlZCBmb3IgSUVcbiAgICAgIH07XG5cblxuICAgICAgc2VsZi5oYXNPcHRpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gb3B0aW9uc01hcC5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSk7XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBkaXNhYmxlIHVua25vd24gb3B0aW9uIHNvIHRoYXQgd2UgZG9uJ3QgZG8gd29yayB3aGVuIHRoZSB3aG9sZSBzZWxlY3QgaXMgYmVpbmcgZGVzdHJveWVkXG4gICAgICAgIHNlbGYucmVuZGVyVW5rbm93bk9wdGlvbiA9IG5vb3A7XG4gICAgICB9KTtcbiAgICB9XSxcblxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xuICAgICAgLy8gaWYgbmdNb2RlbCBpcyBub3QgZGVmaW5lZCwgd2UgZG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZ1xuICAgICAgaWYgKCFjdHJsc1sxXSkgcmV0dXJuO1xuXG4gICAgICB2YXIgc2VsZWN0Q3RybCA9IGN0cmxzWzBdLFxuICAgICAgICAgIG5nTW9kZWxDdHJsID0gY3RybHNbMV0sXG4gICAgICAgICAgbXVsdGlwbGUgPSBhdHRyLm11bHRpcGxlLFxuICAgICAgICAgIG9wdGlvbnNFeHAgPSBhdHRyLm5nT3B0aW9ucyxcbiAgICAgICAgICBudWxsT3B0aW9uID0gZmFsc2UsIC8vIGlmIGZhbHNlLCB1c2VyIHdpbGwgbm90IGJlIGFibGUgdG8gc2VsZWN0IGl0ICh1c2VkIGJ5IG5nT3B0aW9ucylcbiAgICAgICAgICBlbXB0eU9wdGlvbixcbiAgICAgICAgICByZW5kZXJTY2hlZHVsZWQgPSBmYWxzZSxcbiAgICAgICAgICAvLyB3ZSBjYW4ndCBqdXN0IGpxTGl0ZSgnPG9wdGlvbj4nKSBzaW5jZSBqcUxpdGUgaXMgbm90IHNtYXJ0IGVub3VnaFxuICAgICAgICAgIC8vIHRvIGNyZWF0ZSBpdCBpbiA8c2VsZWN0PiBhbmQgSUUgYmFyZnMgb3RoZXJ3aXNlLlxuICAgICAgICAgIG9wdGlvblRlbXBsYXRlID0ganFMaXRlKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpKSxcbiAgICAgICAgICBvcHRHcm91cFRlbXBsYXRlID1qcUxpdGUoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0Z3JvdXAnKSksXG4gICAgICAgICAgdW5rbm93bk9wdGlvbiA9IG9wdGlvblRlbXBsYXRlLmNsb25lKCk7XG5cbiAgICAgIC8vIGZpbmQgXCJudWxsXCIgb3B0aW9uXG4gICAgICBmb3IgKHZhciBpID0gMCwgY2hpbGRyZW4gPSBlbGVtZW50LmNoaWxkcmVuKCksIGlpID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICBpZiAoY2hpbGRyZW5baV0udmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgZW1wdHlPcHRpb24gPSBudWxsT3B0aW9uID0gY2hpbGRyZW4uZXEoaSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2VsZWN0Q3RybC5pbml0KG5nTW9kZWxDdHJsLCBudWxsT3B0aW9uLCB1bmtub3duT3B0aW9uKTtcblxuICAgICAgLy8gcmVxdWlyZWQgdmFsaWRhdG9yXG4gICAgICBpZiAobXVsdGlwbGUpIHtcbiAgICAgICAgbmdNb2RlbEN0cmwuJGlzRW1wdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiAhdmFsdWUgfHwgdmFsdWUubGVuZ3RoID09PSAwO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9uc0V4cCkgc2V0dXBBc09wdGlvbnMoc2NvcGUsIGVsZW1lbnQsIG5nTW9kZWxDdHJsKTtcbiAgICAgIGVsc2UgaWYgKG11bHRpcGxlKSBzZXR1cEFzTXVsdGlwbGUoc2NvcGUsIGVsZW1lbnQsIG5nTW9kZWxDdHJsKTtcbiAgICAgIGVsc2Ugc2V0dXBBc1NpbmdsZShzY29wZSwgZWxlbWVudCwgbmdNb2RlbEN0cmwsIHNlbGVjdEN0cmwpO1xuXG5cbiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXG5cbiAgICAgIGZ1bmN0aW9uIHNldHVwQXNTaW5nbGUoc2NvcGUsIHNlbGVjdEVsZW1lbnQsIG5nTW9kZWxDdHJsLCBzZWxlY3RDdHJsKSB7XG4gICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgdmlld1ZhbHVlID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcblxuICAgICAgICAgIGlmIChzZWxlY3RDdHJsLmhhc09wdGlvbih2aWV3VmFsdWUpKSB7XG4gICAgICAgICAgICBpZiAodW5rbm93bk9wdGlvbi5wYXJlbnQoKSkgdW5rbm93bk9wdGlvbi5yZW1vdmUoKTtcbiAgICAgICAgICAgIHNlbGVjdEVsZW1lbnQudmFsKHZpZXdWYWx1ZSk7XG4gICAgICAgICAgICBpZiAodmlld1ZhbHVlID09PSAnJykgZW1wdHlPcHRpb24ucHJvcCgnc2VsZWN0ZWQnLCB0cnVlKTsgLy8gdG8gbWFrZSBJRTkgaGFwcHlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHZpZXdWYWx1ZSkgJiYgZW1wdHlPcHRpb24pIHtcbiAgICAgICAgICAgICAgc2VsZWN0RWxlbWVudC52YWwoJycpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2VsZWN0Q3RybC5yZW5kZXJVbmtub3duT3B0aW9uKHZpZXdWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGVjdEVsZW1lbnQub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh1bmtub3duT3B0aW9uLnBhcmVudCgpKSB1bmtub3duT3B0aW9uLnJlbW92ZSgpO1xuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShzZWxlY3RFbGVtZW50LnZhbCgpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNldHVwQXNNdWx0aXBsZShzY29wZSwgc2VsZWN0RWxlbWVudCwgY3RybCkge1xuICAgICAgICB2YXIgbGFzdFZpZXc7XG4gICAgICAgIGN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBpdGVtcyA9IG5ldyBIYXNoTWFwKGN0cmwuJHZpZXdWYWx1ZSk7XG4gICAgICAgICAgZm9yRWFjaChzZWxlY3RFbGVtZW50LmZpbmQoJ29wdGlvbicpLCBmdW5jdGlvbihvcHRpb24pIHtcbiAgICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IGlzRGVmaW5lZChpdGVtcy5nZXQob3B0aW9uLnZhbHVlKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gd2UgaGF2ZSB0byBkbyBpdCBvbiBlYWNoIHdhdGNoIHNpbmNlIG5nTW9kZWwgd2F0Y2hlcyByZWZlcmVuY2UsIGJ1dFxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHdvcmsgb2YgYW4gYXJyYXksIHNvIHdlIG5lZWQgdG8gc2VlIGlmIGFueXRoaW5nIHdhcyBpbnNlcnRlZC9yZW1vdmVkXG4gICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbiBzZWxlY3RNdWx0aXBsZVdhdGNoKCkge1xuICAgICAgICAgIGlmICghZXF1YWxzKGxhc3RWaWV3LCBjdHJsLiR2aWV3VmFsdWUpKSB7XG4gICAgICAgICAgICBsYXN0VmlldyA9IHNoYWxsb3dDb3B5KGN0cmwuJHZpZXdWYWx1ZSk7XG4gICAgICAgICAgICBjdHJsLiRyZW5kZXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNlbGVjdEVsZW1lbnQub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBhcnJheSA9IFtdO1xuICAgICAgICAgICAgZm9yRWFjaChzZWxlY3RFbGVtZW50LmZpbmQoJ29wdGlvbicpLCBmdW5jdGlvbihvcHRpb24pIHtcbiAgICAgICAgICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIGFycmF5LnB1c2gob3B0aW9uLnZhbHVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjdHJsLiRzZXRWaWV3VmFsdWUoYXJyYXkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2V0dXBBc09wdGlvbnMoc2NvcGUsIHNlbGVjdEVsZW1lbnQsIGN0cmwpIHtcbiAgICAgICAgdmFyIG1hdGNoO1xuXG4gICAgICAgIGlmICghKG1hdGNoID0gb3B0aW9uc0V4cC5tYXRjaChOR19PUFRJT05TX1JFR0VYUCkpKSB7XG4gICAgICAgICAgdGhyb3cgbmdPcHRpb25zTWluRXJyKCdpZXhwJyxcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgZXhwcmVzc2lvbiBpbiBmb3JtIG9mIFwiICtcbiAgICAgICAgICAgIFwiJ19zZWxlY3RfIChhcyBfbGFiZWxfKT8gZm9yIChfa2V5XywpP192YWx1ZV8gaW4gX2NvbGxlY3Rpb25fJ1wiICtcbiAgICAgICAgICAgIFwiIGJ1dCBnb3QgJ3swfScuIEVsZW1lbnQ6IHsxfVwiLFxuICAgICAgICAgICAgb3B0aW9uc0V4cCwgc3RhcnRpbmdUYWcoc2VsZWN0RWxlbWVudCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRpc3BsYXlGbiA9ICRwYXJzZShtYXRjaFsyXSB8fCBtYXRjaFsxXSksXG4gICAgICAgICAgICB2YWx1ZU5hbWUgPSBtYXRjaFs0XSB8fCBtYXRjaFs2XSxcbiAgICAgICAgICAgIHNlbGVjdEFzID0gLyBhcyAvLnRlc3QobWF0Y2hbMF0pICYmIG1hdGNoWzFdLFxuICAgICAgICAgICAgc2VsZWN0QXNGbiA9IHNlbGVjdEFzID8gJHBhcnNlKHNlbGVjdEFzKSA6IG51bGwsXG4gICAgICAgICAgICBrZXlOYW1lID0gbWF0Y2hbNV0sXG4gICAgICAgICAgICBncm91cEJ5Rm4gPSAkcGFyc2UobWF0Y2hbM10gfHwgJycpLFxuICAgICAgICAgICAgdmFsdWVGbiA9ICRwYXJzZShtYXRjaFsyXSA/IG1hdGNoWzFdIDogdmFsdWVOYW1lKSxcbiAgICAgICAgICAgIHZhbHVlc0ZuID0gJHBhcnNlKG1hdGNoWzddKSxcbiAgICAgICAgICAgIHRyYWNrID0gbWF0Y2hbOF0sXG4gICAgICAgICAgICB0cmFja0ZuID0gdHJhY2sgPyAkcGFyc2UobWF0Y2hbOF0pIDogbnVsbCxcbiAgICAgICAgICAgIHRyYWNrS2V5c0NhY2hlID0ge30sXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGFuIGFycmF5IG9mIGFycmF5IG9mIGV4aXN0aW5nIG9wdGlvbiBncm91cHMgaW4gRE9NLlxuICAgICAgICAgICAgLy8gV2UgdHJ5IHRvIHJldXNlIHRoZXNlIGlmIHBvc3NpYmxlXG4gICAgICAgICAgICAvLyAtIG9wdGlvbkdyb3Vwc0NhY2hlWzBdIGlzIHRoZSBvcHRpb25zIHdpdGggbm8gb3B0aW9uIGdyb3VwXG4gICAgICAgICAgICAvLyAtIG9wdGlvbkdyb3Vwc0NhY2hlWz9dWzBdIGlzIHRoZSBwYXJlbnQ6IGVpdGhlciB0aGUgU0VMRUNUIG9yIE9QVEdST1VQIGVsZW1lbnRcbiAgICAgICAgICAgIG9wdGlvbkdyb3Vwc0NhY2hlID0gW1t7ZWxlbWVudDogc2VsZWN0RWxlbWVudCwgbGFiZWw6Jyd9XV0sXG4gICAgICAgICAgICAvL3JlLXVzYWJsZSBvYmplY3QgdG8gcmVwcmVzZW50IG9wdGlvbidzIGxvY2Fsc1xuICAgICAgICAgICAgbG9jYWxzID0ge307XG5cbiAgICAgICAgaWYgKG51bGxPcHRpb24pIHtcbiAgICAgICAgICAvLyBjb21waWxlIHRoZSBlbGVtZW50IHNpbmNlIHRoZXJlIG1pZ2h0IGJlIGJpbmRpbmdzIGluIGl0XG4gICAgICAgICAgJGNvbXBpbGUobnVsbE9wdGlvbikoc2NvcGUpO1xuXG4gICAgICAgICAgLy8gcmVtb3ZlIHRoZSBjbGFzcywgd2hpY2ggaXMgYWRkZWQgYXV0b21hdGljYWxseSBiZWNhdXNlIHdlIHJlY29tcGlsZSB0aGUgZWxlbWVudCBhbmQgaXRcbiAgICAgICAgICAvLyBiZWNvbWVzIHRoZSBjb21waWxhdGlvbiByb290XG4gICAgICAgICAgbnVsbE9wdGlvbi5yZW1vdmVDbGFzcygnbmctc2NvcGUnKTtcblxuICAgICAgICAgIC8vIHdlIG5lZWQgdG8gcmVtb3ZlIGl0IGJlZm9yZSBjYWxsaW5nIHNlbGVjdEVsZW1lbnQuZW1wdHkoKSBiZWNhdXNlIG90aGVyd2lzZSBJRSB3aWxsXG4gICAgICAgICAgLy8gcmVtb3ZlIHRoZSBsYWJlbCBmcm9tIHRoZSBlbGVtZW50LiB3dGY/XG4gICAgICAgICAgbnVsbE9wdGlvbi5yZW1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNsZWFyIGNvbnRlbnRzLCB3ZSdsbCBhZGQgd2hhdCdzIG5lZWRlZCBiYXNlZCBvbiB0aGUgbW9kZWxcbiAgICAgICAgc2VsZWN0RWxlbWVudC5lbXB0eSgpO1xuXG4gICAgICAgIHNlbGVjdEVsZW1lbnQub24oJ2NoYW5nZScsIHNlbGVjdGlvbkNoYW5nZWQpO1xuXG4gICAgICAgIGN0cmwuJHJlbmRlciA9IHJlbmRlcjtcblxuICAgICAgICBzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKHZhbHVlc0ZuLCBzY2hlZHVsZVJlbmRlcmluZyk7XG4gICAgICAgIHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oZ2V0TGFiZWxzLCBzY2hlZHVsZVJlbmRlcmluZyk7XG5cbiAgICAgICAgaWYgKG11bHRpcGxlKSB7XG4gICAgICAgICAgc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihmdW5jdGlvbigpIHsgcmV0dXJuIGN0cmwuJG1vZGVsVmFsdWU7IH0sIHNjaGVkdWxlUmVuZGVyaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gICAgICAgIGZ1bmN0aW9uIGNhbGxFeHByZXNzaW9uKGV4cHJGbiwga2V5LCB2YWx1ZSkge1xuICAgICAgICAgIGxvY2Fsc1t2YWx1ZU5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgaWYgKGtleU5hbWUpIGxvY2Fsc1trZXlOYW1lXSA9IGtleTtcbiAgICAgICAgICByZXR1cm4gZXhwckZuKHNjb3BlLCBsb2NhbHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2VsZWN0aW9uQ2hhbmdlZCgpIHtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgY29sbGVjdGlvbiA9IHZhbHVlc0ZuKHNjb3BlKSB8fCBbXTtcbiAgICAgICAgICAgIHZhciB2aWV3VmFsdWU7XG4gICAgICAgICAgICBpZiAobXVsdGlwbGUpIHtcbiAgICAgICAgICAgICAgdmlld1ZhbHVlID0gW107XG4gICAgICAgICAgICAgIGZvckVhY2goc2VsZWN0RWxlbWVudC52YWwoKSwgZnVuY3Rpb24oc2VsZWN0ZWRLZXkpIHtcbiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkS2V5ID0gdHJhY2tGbiA/IHRyYWNrS2V5c0NhY2hlW3NlbGVjdGVkS2V5XSA6IHNlbGVjdGVkS2V5O1xuICAgICAgICAgICAgICAgIHZpZXdWYWx1ZS5wdXNoKGdldFZpZXdWYWx1ZShzZWxlY3RlZEtleSwgY29sbGVjdGlvbltzZWxlY3RlZEtleV0pKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRLZXkgPSB0cmFja0ZuID8gdHJhY2tLZXlzQ2FjaGVbc2VsZWN0RWxlbWVudC52YWwoKV0gOiBzZWxlY3RFbGVtZW50LnZhbCgpO1xuICAgICAgICAgICAgICB2aWV3VmFsdWUgPSBnZXRWaWV3VmFsdWUoc2VsZWN0ZWRLZXksIGNvbGxlY3Rpb25bc2VsZWN0ZWRLZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN0cmwuJHNldFZpZXdWYWx1ZSh2aWV3VmFsdWUpO1xuICAgICAgICAgICAgcmVuZGVyKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRWaWV3VmFsdWUoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgIGlmIChrZXkgPT09ICc/Jykge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJycpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdmlld1ZhbHVlRm4gPSBzZWxlY3RBc0ZuID8gc2VsZWN0QXNGbiA6IHZhbHVlRm47XG4gICAgICAgICAgICByZXR1cm4gY2FsbEV4cHJlc3Npb24odmlld1ZhbHVlRm4sIGtleSwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldExhYmVscygpIHtcbiAgICAgICAgICB2YXIgdmFsdWVzID0gdmFsdWVzRm4oc2NvcGUpO1xuICAgICAgICAgIHZhciB0b0Rpc3BsYXk7XG4gICAgICAgICAgaWYgKHZhbHVlcyAmJiBpc0FycmF5KHZhbHVlcykpIHtcbiAgICAgICAgICAgIHRvRGlzcGxheSA9IG5ldyBBcnJheSh2YWx1ZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHZhbHVlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgIHRvRGlzcGxheVtpXSA9IGNhbGxFeHByZXNzaW9uKGRpc3BsYXlGbiwgaSwgdmFsdWVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0b0Rpc3BsYXk7XG4gICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IEFkZCBhIHRlc3QgZm9yIHRoaXMgY2FzZVxuICAgICAgICAgICAgdG9EaXNwbGF5ID0ge307XG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHZhbHVlcykge1xuICAgICAgICAgICAgICBpZiAodmFsdWVzLmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgICAgICAgICAgdG9EaXNwbGF5W3Byb3BdID0gY2FsbEV4cHJlc3Npb24oZGlzcGxheUZuLCBwcm9wLCB2YWx1ZXNbcHJvcF0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0b0Rpc3BsYXk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVJc1NlbGVjdGVkRm4odmlld1ZhbHVlKSB7XG4gICAgICAgICAgdmFyIHNlbGVjdGVkU2V0O1xuICAgICAgICAgIGlmIChtdWx0aXBsZSkge1xuICAgICAgICAgICAgaWYgKHRyYWNrRm4gJiYgaXNBcnJheSh2aWV3VmFsdWUpKSB7XG5cbiAgICAgICAgICAgICAgc2VsZWN0ZWRTZXQgPSBuZXcgSGFzaE1hcChbXSk7XG4gICAgICAgICAgICAgIGZvciAodmFyIHRyYWNrSW5kZXggPSAwOyB0cmFja0luZGV4IDwgdmlld1ZhbHVlLmxlbmd0aDsgdHJhY2tJbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgLy8gdHJhY2tpbmcgYnkga2V5XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRTZXQucHV0KGNhbGxFeHByZXNzaW9uKHRyYWNrRm4sIG51bGwsIHZpZXdWYWx1ZVt0cmFja0luZGV4XSksIHRydWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZWxlY3RlZFNldCA9IG5ldyBIYXNoTWFwKHZpZXdWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmICh0cmFja0ZuKSB7XG4gICAgICAgICAgICB2aWV3VmFsdWUgPSBjYWxsRXhwcmVzc2lvbih0cmFja0ZuLCBudWxsLCB2aWV3VmFsdWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBpc1NlbGVjdGVkKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBjb21wYXJlVmFsdWVGbjtcbiAgICAgICAgICAgIGlmICh0cmFja0ZuKSB7XG4gICAgICAgICAgICAgIGNvbXBhcmVWYWx1ZUZuID0gdHJhY2tGbjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0QXNGbikge1xuICAgICAgICAgICAgICBjb21wYXJlVmFsdWVGbiA9IHNlbGVjdEFzRm47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb21wYXJlVmFsdWVGbiA9IHZhbHVlRm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtdWx0aXBsZSkge1xuICAgICAgICAgICAgICByZXR1cm4gaXNEZWZpbmVkKHNlbGVjdGVkU2V0LnJlbW92ZShjYWxsRXhwcmVzc2lvbihjb21wYXJlVmFsdWVGbiwga2V5LCB2YWx1ZSkpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiB2aWV3VmFsdWUgPT0gY2FsbEV4cHJlc3Npb24oY29tcGFyZVZhbHVlRm4sIGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzY2hlZHVsZVJlbmRlcmluZygpIHtcbiAgICAgICAgICBpZiAoIXJlbmRlclNjaGVkdWxlZCkge1xuICAgICAgICAgICAgc2NvcGUuJCRwb3N0RGlnZXN0KHJlbmRlcik7XG4gICAgICAgICAgICByZW5kZXJTY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG5ldyBsYWJlbE1hcCBpcyBjcmVhdGVkIHdpdGggZWFjaCByZW5kZXIuXG4gICAgICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGZvciBlYWNoIGV4aXN0aW5nIG9wdGlvbiB3aXRoIGFkZGVkPWZhbHNlLFxuICAgICAgICAgKiBhbmQgZWFjaCBuZXcgb3B0aW9uIHdpdGggYWRkZWQ9dHJ1ZS5cbiAgICAgICAgICogLSBMYWJlbHMgdGhhdCBhcmUgcGFzc2VkIHRvIHRoaXMgbWV0aG9kIHR3aWNlLFxuICAgICAgICAgKiAob25jZSB3aXRoIGFkZGVkPXRydWUgYW5kIG9uY2Ugd2l0aCBhZGRlZD1mYWxzZSkgd2lsbCBlbmQgdXAgd2l0aCBhIHZhbHVlIG9mIDAsIGFuZFxuICAgICAgICAgKiB3aWxsIGNhdXNlIG5vIGNoYW5nZSB0byBoYXBwZW4gdG8gdGhlIGNvcnJlc3BvbmRpbmcgb3B0aW9uLlxuICAgICAgICAgKiAtIExhYmVscyB0aGF0IGFyZSBwYXNzZWQgdG8gdGhpcyBtZXRob2Qgb25seSBvbmNlIHdpdGggYWRkZWQ9ZmFsc2Ugd2lsbCBlbmQgdXAgd2l0aCBhXG4gICAgICAgICAqIHZhbHVlIG9mIC0xIGFuZCB3aWxsIGV2ZW50dWFsbHkgYmUgcGFzc2VkIHRvIHNlbGVjdEN0cmwucmVtb3ZlT3B0aW9uKClcbiAgICAgICAgICogLSBMYWJlbHMgdGhhdCBhcmUgcGFzc2VkIHRvIHRoaXMgbWV0aG9kIG9ubHkgb25jZSB3aXRoIGFkZGVkPXRydWUgd2lsbCBlbmQgdXAgd2l0aCBhXG4gICAgICAgICAqIHZhbHVlIG9mIDEgYW5kIHdpbGwgZXZlbnR1YWxseSBiZSBwYXNzZWQgdG8gc2VsZWN0Q3RybC5hZGRPcHRpb24oKVxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiB1cGRhdGVMYWJlbE1hcChsYWJlbE1hcCwgbGFiZWwsIGFkZGVkKSB7XG4gICAgICAgICAgbGFiZWxNYXBbbGFiZWxdID0gbGFiZWxNYXBbbGFiZWxdIHx8IDA7XG4gICAgICAgICAgbGFiZWxNYXBbbGFiZWxdICs9IChhZGRlZCA/IDEgOiAtMSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgcmVuZGVyU2NoZWR1bGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAvLyBUZW1wb3JhcnkgbG9jYXRpb24gZm9yIHRoZSBvcHRpb24gZ3JvdXBzIGJlZm9yZSB3ZSByZW5kZXIgdGhlbVxuICAgICAgICAgIHZhciBvcHRpb25Hcm91cHMgPSB7Jyc6W119LFxuICAgICAgICAgICAgICBvcHRpb25Hcm91cE5hbWVzID0gWycnXSxcbiAgICAgICAgICAgICAgb3B0aW9uR3JvdXBOYW1lLFxuICAgICAgICAgICAgICBvcHRpb25Hcm91cCxcbiAgICAgICAgICAgICAgb3B0aW9uLFxuICAgICAgICAgICAgICBleGlzdGluZ1BhcmVudCwgZXhpc3RpbmdPcHRpb25zLCBleGlzdGluZ09wdGlvbixcbiAgICAgICAgICAgICAgdmlld1ZhbHVlID0gY3RybC4kdmlld1ZhbHVlLFxuICAgICAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXNGbihzY29wZSkgfHwgW10sXG4gICAgICAgICAgICAgIGtleXMgPSBrZXlOYW1lID8gc29ydGVkS2V5cyh2YWx1ZXMpIDogdmFsdWVzLFxuICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICBncm91cExlbmd0aCwgbGVuZ3RoLFxuICAgICAgICAgICAgICBncm91cEluZGV4LCBpbmRleCxcbiAgICAgICAgICAgICAgbGFiZWxNYXAgPSB7fSxcbiAgICAgICAgICAgICAgc2VsZWN0ZWQsXG4gICAgICAgICAgICAgIGlzU2VsZWN0ZWQgPSBjcmVhdGVJc1NlbGVjdGVkRm4odmlld1ZhbHVlKSxcbiAgICAgICAgICAgICAgYW55U2VsZWN0ZWQgPSBmYWxzZSxcbiAgICAgICAgICAgICAgbGFzdEVsZW1lbnQsXG4gICAgICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgICAgICBvcHRpb25JZDtcblxuICAgICAgICAgIHRyYWNrS2V5c0NhY2hlID0ge307XG5cbiAgICAgICAgICAvLyBXZSBub3cgYnVpbGQgdXAgdGhlIGxpc3Qgb2Ygb3B0aW9ucyB3ZSBuZWVkICh3ZSBtZXJnZSBsYXRlcilcbiAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgbGVuZ3RoID0ga2V5cy5sZW5ndGgsIGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBrZXkgPSBpbmRleDtcbiAgICAgICAgICAgIGlmIChrZXlOYW1lKSB7XG4gICAgICAgICAgICAgIGtleSA9IGtleXNbaW5kZXhdO1xuICAgICAgICAgICAgICBpZiAoa2V5LmNoYXJBdCgwKSA9PT0gJyQnKSBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzW2tleV07XG5cbiAgICAgICAgICAgIG9wdGlvbkdyb3VwTmFtZSA9IGNhbGxFeHByZXNzaW9uKGdyb3VwQnlGbiwga2V5LCB2YWx1ZSkgfHwgJyc7XG4gICAgICAgICAgICBpZiAoIShvcHRpb25Hcm91cCA9IG9wdGlvbkdyb3Vwc1tvcHRpb25Hcm91cE5hbWVdKSkge1xuICAgICAgICAgICAgICBvcHRpb25Hcm91cCA9IG9wdGlvbkdyb3Vwc1tvcHRpb25Hcm91cE5hbWVdID0gW107XG4gICAgICAgICAgICAgIG9wdGlvbkdyb3VwTmFtZXMucHVzaChvcHRpb25Hcm91cE5hbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWxlY3RlZCA9IGlzU2VsZWN0ZWQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICBhbnlTZWxlY3RlZCA9IGFueVNlbGVjdGVkIHx8IHNlbGVjdGVkO1xuXG4gICAgICAgICAgICBsYWJlbCA9IGNhbGxFeHByZXNzaW9uKGRpc3BsYXlGbiwga2V5LCB2YWx1ZSk7IC8vIHdoYXQgd2lsbCBiZSBzZWVuIGJ5IHRoZSB1c2VyXG5cbiAgICAgICAgICAgIC8vIGRvaW5nIGRpc3BsYXlGbihzY29wZSwgbG9jYWxzKSB8fCAnJyBvdmVyd3JpdGVzIHplcm8gdmFsdWVzXG4gICAgICAgICAgICBsYWJlbCA9IGlzRGVmaW5lZChsYWJlbCkgPyBsYWJlbCA6ICcnO1xuICAgICAgICAgICAgb3B0aW9uSWQgPSB0cmFja0ZuID8gdHJhY2tGbihzY29wZSwgbG9jYWxzKSA6IChrZXlOYW1lID8ga2V5c1tpbmRleF0gOiBpbmRleCk7XG4gICAgICAgICAgICBpZiAodHJhY2tGbikge1xuICAgICAgICAgICAgICB0cmFja0tleXNDYWNoZVtvcHRpb25JZF0gPSBrZXk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9wdGlvbkdyb3VwLnB1c2goe1xuICAgICAgICAgICAgICAvLyBlaXRoZXIgdGhlIGluZGV4IGludG8gYXJyYXkgb3Iga2V5IGZyb20gb2JqZWN0XG4gICAgICAgICAgICAgIGlkOiBvcHRpb25JZCxcbiAgICAgICAgICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWQgICAgICAgICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIGlmIHdlIHNob3VsZCBiZSBzZWxlY3RlZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghbXVsdGlwbGUpIHtcbiAgICAgICAgICAgIGlmIChudWxsT3B0aW9uIHx8IHZpZXdWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAvLyBpbnNlcnQgbnVsbCBvcHRpb24gaWYgd2UgaGF2ZSBhIHBsYWNlaG9sZGVyLCBvciB0aGUgbW9kZWwgaXMgbnVsbFxuICAgICAgICAgICAgICBvcHRpb25Hcm91cHNbJyddLnVuc2hpZnQoe2lkOicnLCBsYWJlbDonJywgc2VsZWN0ZWQ6IWFueVNlbGVjdGVkfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFhbnlTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAvLyBvcHRpb24gY291bGQgbm90IGJlIGZvdW5kLCB3ZSBoYXZlIHRvIGluc2VydCB0aGUgdW5kZWZpbmVkIGl0ZW1cbiAgICAgICAgICAgICAgb3B0aW9uR3JvdXBzWycnXS51bnNoaWZ0KHtpZDonPycsIGxhYmVsOicnLCBzZWxlY3RlZDp0cnVlfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gTm93IHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBsaXN0IG9mIERPTSBub2RlcyB0byBtYXRjaCB0aGUgb3B0aW9uR3JvdXBzIHdlIGNvbXB1dGVkIGFib3ZlXG4gICAgICAgICAgZm9yIChncm91cEluZGV4ID0gMCwgZ3JvdXBMZW5ndGggPSBvcHRpb25Hcm91cE5hbWVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgIGdyb3VwSW5kZXggPCBncm91cExlbmd0aDtcbiAgICAgICAgICAgICAgIGdyb3VwSW5kZXgrKykge1xuICAgICAgICAgICAgLy8gY3VycmVudCBvcHRpb24gZ3JvdXAgbmFtZSBvciAnJyBpZiBubyBncm91cFxuICAgICAgICAgICAgb3B0aW9uR3JvdXBOYW1lID0gb3B0aW9uR3JvdXBOYW1lc1tncm91cEluZGV4XTtcblxuICAgICAgICAgICAgLy8gbGlzdCBvZiBvcHRpb25zIGZvciB0aGF0IGdyb3VwLiAoZmlyc3QgaXRlbSBoYXMgdGhlIHBhcmVudClcbiAgICAgICAgICAgIG9wdGlvbkdyb3VwID0gb3B0aW9uR3JvdXBzW29wdGlvbkdyb3VwTmFtZV07XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25Hcm91cHNDYWNoZS5sZW5ndGggPD0gZ3JvdXBJbmRleCkge1xuICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGdyb3cgdGhlIG9wdGlvbkdyb3Vwc1xuICAgICAgICAgICAgICBleGlzdGluZ1BhcmVudCA9IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBvcHRHcm91cFRlbXBsYXRlLmNsb25lKCkuYXR0cignbGFiZWwnLCBvcHRpb25Hcm91cE5hbWUpLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBvcHRpb25Hcm91cC5sYWJlbFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBleGlzdGluZ09wdGlvbnMgPSBbZXhpc3RpbmdQYXJlbnRdO1xuICAgICAgICAgICAgICBvcHRpb25Hcm91cHNDYWNoZS5wdXNoKGV4aXN0aW5nT3B0aW9ucyk7XG4gICAgICAgICAgICAgIHNlbGVjdEVsZW1lbnQuYXBwZW5kKGV4aXN0aW5nUGFyZW50LmVsZW1lbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZXhpc3RpbmdPcHRpb25zID0gb3B0aW9uR3JvdXBzQ2FjaGVbZ3JvdXBJbmRleF07XG4gICAgICAgICAgICAgIGV4aXN0aW5nUGFyZW50ID0gZXhpc3RpbmdPcHRpb25zWzBdOyAgLy8gZWl0aGVyIFNFTEVDVCAobm8gZ3JvdXApIG9yIE9QVEdST1VQIGVsZW1lbnRcblxuICAgICAgICAgICAgICAvLyB1cGRhdGUgdGhlIE9QVEdST1VQIGxhYmVsIGlmIG5vdCB0aGUgc2FtZS5cbiAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nUGFyZW50LmxhYmVsICE9IG9wdGlvbkdyb3VwTmFtZSkge1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nUGFyZW50LmVsZW1lbnQuYXR0cignbGFiZWwnLCBleGlzdGluZ1BhcmVudC5sYWJlbCA9IG9wdGlvbkdyb3VwTmFtZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGFzdEVsZW1lbnQgPSBudWxsOyAgLy8gc3RhcnQgYXQgdGhlIGJlZ2lubmluZ1xuICAgICAgICAgICAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IG9wdGlvbkdyb3VwLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgb3B0aW9uID0gb3B0aW9uR3JvdXBbaW5kZXhdO1xuICAgICAgICAgICAgICBpZiAoKGV4aXN0aW5nT3B0aW9uID0gZXhpc3RpbmdPcHRpb25zW2luZGV4KzFdKSkge1xuICAgICAgICAgICAgICAgIC8vIHJldXNlIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgbGFzdEVsZW1lbnQgPSBleGlzdGluZ09wdGlvbi5lbGVtZW50O1xuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ09wdGlvbi5sYWJlbCAhPT0gb3B0aW9uLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICB1cGRhdGVMYWJlbE1hcChsYWJlbE1hcCwgZXhpc3RpbmdPcHRpb24ubGFiZWwsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZUxhYmVsTWFwKGxhYmVsTWFwLCBvcHRpb24ubGFiZWwsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgbGFzdEVsZW1lbnQudGV4dChleGlzdGluZ09wdGlvbi5sYWJlbCA9IG9wdGlvbi5sYWJlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ09wdGlvbi5pZCAhPT0gb3B0aW9uLmlkKSB7XG4gICAgICAgICAgICAgICAgICBsYXN0RWxlbWVudC52YWwoZXhpc3RpbmdPcHRpb24uaWQgPSBvcHRpb24uaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBsYXN0RWxlbWVudC5wcm9wKCdzZWxlY3RlZCcpIHByb3ZpZGVkIGJ5IGpRdWVyeSBoYXMgc2lkZS1lZmZlY3RzXG4gICAgICAgICAgICAgICAgaWYgKGxhc3RFbGVtZW50WzBdLnNlbGVjdGVkICE9PSBvcHRpb24uc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgIGxhc3RFbGVtZW50LnByb3AoJ3NlbGVjdGVkJywgKGV4aXN0aW5nT3B0aW9uLnNlbGVjdGVkID0gb3B0aW9uLnNlbGVjdGVkKSk7XG4gICAgICAgICAgICAgICAgICBpZiAobXNpZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTZWUgIzc2OTJcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHNlbGVjdGVkIGl0ZW0gd291bGRuJ3QgdmlzdWFsbHkgdXBkYXRlIG9uIElFIHdpdGhvdXQgdGhpcy5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGVzdGVkIG9uIFdpbjc6IElFOSwgSUUxMCBhbmQgSUUxMS4gRnV0dXJlIElFcyBzaG91bGQgYmUgdGVzdGVkIGFzIHdlbGxcbiAgICAgICAgICAgICAgICAgICAgbGFzdEVsZW1lbnQucHJvcCgnc2VsZWN0ZWQnLCBleGlzdGluZ09wdGlvbi5zZWxlY3RlZCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGdyb3cgZWxlbWVudHNcblxuICAgICAgICAgICAgICAgIC8vIGlmIGl0J3MgYSBudWxsIG9wdGlvblxuICAgICAgICAgICAgICAgIGlmIChvcHRpb24uaWQgPT09ICcnICYmIG51bGxPcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgIC8vIHB1dCBiYWNrIHRoZSBwcmUtY29tcGlsZWQgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IG51bGxPcHRpb247XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIC8vIGpRdWVyeSh2MS40LjIpIEJ1ZzogV2Ugc2hvdWxkIGJlIGFibGUgdG8gY2hhaW4gdGhlIG1ldGhvZCBjYWxscywgYnV0XG4gICAgICAgICAgICAgICAgICAvLyBpbiB0aGlzIHZlcnNpb24gb2YgalF1ZXJ5IG9uIHNvbWUgYnJvd3NlciB0aGUgLnRleHQoKSByZXR1cm5zIGEgc3RyaW5nXG4gICAgICAgICAgICAgICAgICAvLyByYXRoZXIgdGhlbiB0aGUgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAgIChlbGVtZW50ID0gb3B0aW9uVGVtcGxhdGUuY2xvbmUoKSlcbiAgICAgICAgICAgICAgICAgICAgICAudmFsKG9wdGlvbi5pZClcbiAgICAgICAgICAgICAgICAgICAgICAucHJvcCgnc2VsZWN0ZWQnLCBvcHRpb24uc2VsZWN0ZWQpXG4gICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3NlbGVjdGVkJywgb3B0aW9uLnNlbGVjdGVkKVxuICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KG9wdGlvbi5sYWJlbCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZXhpc3RpbmdPcHRpb25zLnB1c2goZXhpc3RpbmdPcHRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBvcHRpb24ubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBvcHRpb24uaWQsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBvcHRpb24uc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB1cGRhdGVMYWJlbE1hcChsYWJlbE1hcCwgb3B0aW9uLmxhYmVsLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgIGxhc3RFbGVtZW50LmFmdGVyKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBleGlzdGluZ1BhcmVudC5lbGVtZW50LmFwcGVuZChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFzdEVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZW1vdmUgYW55IGV4Y2Vzc2l2ZSBPUFRJT05zIGluIGEgZ3JvdXBcbiAgICAgICAgICAgIGluZGV4Kys7IC8vIGluY3JlbWVudCBzaW5jZSB0aGUgZXhpc3RpbmdPcHRpb25zWzBdIGlzIHBhcmVudCBlbGVtZW50IG5vdCBPUFRJT05cbiAgICAgICAgICAgIHdoaWxlIChleGlzdGluZ09wdGlvbnMubGVuZ3RoID4gaW5kZXgpIHtcbiAgICAgICAgICAgICAgb3B0aW9uID0gZXhpc3RpbmdPcHRpb25zLnBvcCgpO1xuICAgICAgICAgICAgICB1cGRhdGVMYWJlbE1hcChsYWJlbE1hcCwgb3B0aW9uLmxhYmVsLCBmYWxzZSk7XG4gICAgICAgICAgICAgIG9wdGlvbi5lbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yRWFjaChsYWJlbE1hcCwgZnVuY3Rpb24oY291bnQsIGxhYmVsKSB7XG4gICAgICAgICAgICAgIGlmIChjb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RDdHJsLmFkZE9wdGlvbihsYWJlbCk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoY291bnQgPCAwKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0Q3RybC5yZW1vdmVPcHRpb24obGFiZWwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gcmVtb3ZlIGFueSBleGNlc3NpdmUgT1BUR1JPVVBzIGZyb20gc2VsZWN0XG4gICAgICAgICAgd2hpbGUgKG9wdGlvbkdyb3Vwc0NhY2hlLmxlbmd0aCA+IGdyb3VwSW5kZXgpIHtcbiAgICAgICAgICAgIG9wdGlvbkdyb3Vwc0NhY2hlLnBvcCgpWzBdLmVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xufV07XG5cbnZhciBvcHRpb25EaXJlY3RpdmUgPSBbJyRpbnRlcnBvbGF0ZScsIGZ1bmN0aW9uKCRpbnRlcnBvbGF0ZSkge1xuICB2YXIgbnVsbFNlbGVjdEN0cmwgPSB7XG4gICAgYWRkT3B0aW9uOiBub29wLFxuICAgIHJlbW92ZU9wdGlvbjogbm9vcFxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBwcmlvcml0eTogMTAwLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChhdHRyLnZhbHVlKSkge1xuICAgICAgICB2YXIgaW50ZXJwb2xhdGVGbiA9ICRpbnRlcnBvbGF0ZShlbGVtZW50LnRleHQoKSwgdHJ1ZSk7XG4gICAgICAgIGlmICghaW50ZXJwb2xhdGVGbikge1xuICAgICAgICAgIGF0dHIuJHNldCgndmFsdWUnLCBlbGVtZW50LnRleHQoKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgIHZhciBzZWxlY3RDdHJsTmFtZSA9ICckc2VsZWN0Q29udHJvbGxlcicsXG4gICAgICAgICAgICBwYXJlbnQgPSBlbGVtZW50LnBhcmVudCgpLFxuICAgICAgICAgICAgc2VsZWN0Q3RybCA9IHBhcmVudC5kYXRhKHNlbGVjdEN0cmxOYW1lKSB8fFxuICAgICAgICAgICAgICBwYXJlbnQucGFyZW50KCkuZGF0YShzZWxlY3RDdHJsTmFtZSk7IC8vIGluIGNhc2Ugd2UgYXJlIGluIG9wdGdyb3VwXG5cbiAgICAgICAgaWYgKCFzZWxlY3RDdHJsIHx8ICFzZWxlY3RDdHJsLmRhdGFib3VuZCkge1xuICAgICAgICAgIHNlbGVjdEN0cmwgPSBudWxsU2VsZWN0Q3RybDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnRlcnBvbGF0ZUZuKSB7XG4gICAgICAgICAgc2NvcGUuJHdhdGNoKGludGVycG9sYXRlRm4sIGZ1bmN0aW9uIGludGVycG9sYXRlV2F0Y2hBY3Rpb24obmV3VmFsLCBvbGRWYWwpIHtcbiAgICAgICAgICAgIGF0dHIuJHNldCgndmFsdWUnLCBuZXdWYWwpO1xuICAgICAgICAgICAgaWYgKG9sZFZhbCAhPT0gbmV3VmFsKSB7XG4gICAgICAgICAgICAgIHNlbGVjdEN0cmwucmVtb3ZlT3B0aW9uKG9sZFZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxlY3RDdHJsLmFkZE9wdGlvbihuZXdWYWwsIGVsZW1lbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGVjdEN0cmwuYWRkT3B0aW9uKGF0dHIudmFsdWUsIGVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxlbWVudC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxlY3RDdHJsLnJlbW92ZU9wdGlvbihhdHRyLnZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG52YXIgc3R5bGVEaXJlY3RpdmUgPSB2YWx1ZUZuKHtcbiAgcmVzdHJpY3Q6ICdFJyxcbiAgdGVybWluYWw6IGZhbHNlXG59KTtcblxuICBpZiAod2luZG93LmFuZ3VsYXIuYm9vdHN0cmFwKSB7XG4gICAgLy9Bbmd1bGFySlMgaXMgYWxyZWFkeSBsb2FkZWQsIHNvIHdlIGNhbiByZXR1cm4gaGVyZS4uLlxuICAgIGNvbnNvbGUubG9nKCdXQVJOSU5HOiBUcmllZCB0byBsb2FkIGFuZ3VsYXIgbW9yZSB0aGFuIG9uY2UuJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy90cnkgdG8gYmluZCB0byBqcXVlcnkgbm93IHNvIHRoYXQgb25lIGNhbiB3cml0ZSBqcUxpdGUoZG9jdW1lbnQpLnJlYWR5KClcbiAgLy9idXQgd2Ugd2lsbCByZWJpbmQgb24gYm9vdHN0cmFwIGFnYWluLlxuICBiaW5kSlF1ZXJ5KCk7XG5cbiAgcHVibGlzaEV4dGVybmFsQVBJKGFuZ3VsYXIpO1xuXG4gIGpxTGl0ZShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgYW5ndWxhckluaXQoZG9jdW1lbnQsIGJvb3RzdHJhcCk7XG4gIH0pO1xuXG59KSh3aW5kb3csIGRvY3VtZW50KTtcblxuIXdpbmRvdy5hbmd1bGFyLiQkY3NwKCkgJiYgd2luZG93LmFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkuZmluZCgnaGVhZCcpLnByZXBlbmQoJzxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj5AY2hhcnNldCBcIlVURi04XCI7W25nXFxcXDpjbG9ha10sW25nLWNsb2FrXSxbZGF0YS1uZy1jbG9ha10sW3gtbmctY2xvYWtdLC5uZy1jbG9haywueC1uZy1jbG9haywubmctaGlkZTpub3QoLm5nLWhpZGUtYW5pbWF0ZSl7ZGlzcGxheTpub25lICFpbXBvcnRhbnQ7fW5nXFxcXDpmb3Jte2Rpc3BsYXk6YmxvY2s7fTwvc3R5bGU+Jyk7IiwiLypcbiAqIGFuZ3VsYXItdWktYm9vdHN0cmFwXG4gKiBodHRwOi8vYW5ndWxhci11aS5naXRodWIuaW8vYm9vdHN0cmFwL1xuXG4gKiBWZXJzaW9uOiAwLjExLjIgLSAyMDE0LTA5LTI2XG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuYW5ndWxhci5tb2R1bGUoXCJ1aS5ib290c3RyYXBcIiwgW1widWkuYm9vdHN0cmFwLnRwbHNcIiwgXCJ1aS5ib290c3RyYXAudHJhbnNpdGlvblwiLFwidWkuYm9vdHN0cmFwLmNvbGxhcHNlXCIsXCJ1aS5ib290c3RyYXAuYWNjb3JkaW9uXCIsXCJ1aS5ib290c3RyYXAuYWxlcnRcIixcInVpLmJvb3RzdHJhcC5iaW5kSHRtbFwiLFwidWkuYm9vdHN0cmFwLmJ1dHRvbnNcIixcInVpLmJvb3RzdHJhcC5jYXJvdXNlbFwiLFwidWkuYm9vdHN0cmFwLmRhdGVwYXJzZXJcIixcInVpLmJvb3RzdHJhcC5wb3NpdGlvblwiLFwidWkuYm9vdHN0cmFwLmRhdGVwaWNrZXJcIixcInVpLmJvb3RzdHJhcC5kcm9wZG93blwiLFwidWkuYm9vdHN0cmFwLm1vZGFsXCIsXCJ1aS5ib290c3RyYXAucGFnaW5hdGlvblwiLFwidWkuYm9vdHN0cmFwLnRvb2x0aXBcIixcInVpLmJvb3RzdHJhcC5wb3BvdmVyXCIsXCJ1aS5ib290c3RyYXAucHJvZ3Jlc3NiYXJcIixcInVpLmJvb3RzdHJhcC5yYXRpbmdcIixcInVpLmJvb3RzdHJhcC50YWJzXCIsXCJ1aS5ib290c3RyYXAudGltZXBpY2tlclwiLFwidWkuYm9vdHN0cmFwLnR5cGVhaGVhZFwiXSk7XG5hbmd1bGFyLm1vZHVsZShcInVpLmJvb3RzdHJhcC50cGxzXCIsIFtcInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbFwiLFwidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sXCIsXCJ0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sXCIsXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sXCIsXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sXCIsXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbFwiLFwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbFwiLFwidGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sXCIsXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWxcIixcInRlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sXCIsXCJ0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sXCIsXCJ0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbFwiLFwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sXCIsXCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbFwiLFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWxcIixcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sXCIsXCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbFwiLFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWxcIixcInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWxcIixcInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmh0bWxcIixcInRlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbFwiLFwidGVtcGxhdGUvdGFicy90YWIuaHRtbFwiLFwidGVtcGxhdGUvdGFicy90YWJzZXQuaHRtbFwiLFwidGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWxcIixcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbFwiLFwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sXCJdKTtcbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAudHJhbnNpdGlvbicsIFtdKVxuXG4vKipcbiAqICR0cmFuc2l0aW9uIHNlcnZpY2UgcHJvdmlkZXMgYSBjb25zaXN0ZW50IGludGVyZmFjZSB0byB0cmlnZ2VyIENTUyAzIHRyYW5zaXRpb25zIGFuZCB0byBiZSBpbmZvcm1lZCB3aGVuIHRoZXkgY29tcGxldGUuXG4gKiBAcGFyYW0gIHtET01FbGVtZW50fSBlbGVtZW50ICBUaGUgRE9NRWxlbWVudCB0aGF0IHdpbGwgYmUgYW5pbWF0ZWQuXG4gKiBAcGFyYW0gIHtzdHJpbmd8b2JqZWN0fGZ1bmN0aW9ufSB0cmlnZ2VyICBUaGUgdGhpbmcgdGhhdCB3aWxsIGNhdXNlIHRoZSB0cmFuc2l0aW9uIHRvIHN0YXJ0OlxuICogICAtIEFzIGEgc3RyaW5nLCBpdCByZXByZXNlbnRzIHRoZSBjc3MgY2xhc3MgdG8gYmUgYWRkZWQgdG8gdGhlIGVsZW1lbnQuXG4gKiAgIC0gQXMgYW4gb2JqZWN0LCBpdCByZXByZXNlbnRzIGEgaGFzaCBvZiBzdHlsZSBhdHRyaWJ1dGVzIHRvIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQuXG4gKiAgIC0gQXMgYSBmdW5jdGlvbiwgaXQgcmVwcmVzZW50cyBhIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB0aGF0IHdpbGwgY2F1c2UgdGhlIHRyYW5zaXRpb24gdG8gb2NjdXIuXG4gKiBAcmV0dXJuIHtQcm9taXNlfSAgQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgdHJhbnNpdGlvbiBmaW5pc2hlcy5cbiAqL1xuLmZhY3RvcnkoJyR0cmFuc2l0aW9uJywgWyckcScsICckdGltZW91dCcsICckcm9vdFNjb3BlJywgZnVuY3Rpb24oJHEsICR0aW1lb3V0LCAkcm9vdFNjb3BlKSB7XG5cbiAgdmFyICR0cmFuc2l0aW9uID0gZnVuY3Rpb24oZWxlbWVudCwgdHJpZ2dlciwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgdmFyIGVuZEV2ZW50TmFtZSA9ICR0cmFuc2l0aW9uW29wdGlvbnMuYW5pbWF0aW9uID8gJ2FuaW1hdGlvbkVuZEV2ZW50TmFtZScgOiAndHJhbnNpdGlvbkVuZEV2ZW50TmFtZSddO1xuXG4gICAgdmFyIHRyYW5zaXRpb25FbmRIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICBlbGVtZW50LnVuYmluZChlbmRFdmVudE5hbWUsIHRyYW5zaXRpb25FbmRIYW5kbGVyKTtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShlbGVtZW50KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBpZiAoZW5kRXZlbnROYW1lKSB7XG4gICAgICBlbGVtZW50LmJpbmQoZW5kRXZlbnROYW1lLCB0cmFuc2l0aW9uRW5kSGFuZGxlcik7XG4gICAgfVxuXG4gICAgLy8gV3JhcCBpbiBhIHRpbWVvdXQgdG8gYWxsb3cgdGhlIGJyb3dzZXIgdGltZSB0byB1cGRhdGUgdGhlIERPTSBiZWZvcmUgdGhlIHRyYW5zaXRpb24gaXMgdG8gb2NjdXJcbiAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGlmICggYW5ndWxhci5pc1N0cmluZyh0cmlnZ2VyKSApIHtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyh0cmlnZ2VyKTtcbiAgICAgIH0gZWxzZSBpZiAoIGFuZ3VsYXIuaXNGdW5jdGlvbih0cmlnZ2VyKSApIHtcbiAgICAgICAgdHJpZ2dlcihlbGVtZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoIGFuZ3VsYXIuaXNPYmplY3QodHJpZ2dlcikgKSB7XG4gICAgICAgIGVsZW1lbnQuY3NzKHRyaWdnZXIpO1xuICAgICAgfVxuICAgICAgLy9JZiBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdHJhbnNpdGlvbnMsIGluc3RhbnRseSByZXNvbHZlXG4gICAgICBpZiAoICFlbmRFdmVudE5hbWUgKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoZWxlbWVudCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgb3VyIGN1c3RvbSBjYW5jZWwgZnVuY3Rpb24gdG8gdGhlIHByb21pc2UgdGhhdCBpcyByZXR1cm5lZFxuICAgIC8vIFdlIGNhbiBjYWxsIHRoaXMgaWYgd2UgYXJlIGFib3V0IHRvIHJ1biBhIG5ldyB0cmFuc2l0aW9uLCB3aGljaCB3ZSBrbm93IHdpbGwgcHJldmVudCB0aGlzIHRyYW5zaXRpb24gZnJvbSBlbmRpbmcsXG4gICAgLy8gaS5lLiBpdCB3aWxsIHRoZXJlZm9yZSBuZXZlciByYWlzZSBhIHRyYW5zaXRpb25FbmQgZXZlbnQgZm9yIHRoYXQgdHJhbnNpdGlvblxuICAgIGRlZmVycmVkLnByb21pc2UuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIGVuZEV2ZW50TmFtZSApIHtcbiAgICAgICAgZWxlbWVudC51bmJpbmQoZW5kRXZlbnROYW1lLCB0cmFuc2l0aW9uRW5kSGFuZGxlcik7XG4gICAgICB9XG4gICAgICBkZWZlcnJlZC5yZWplY3QoJ1RyYW5zaXRpb24gY2FuY2VsbGVkJyk7XG4gICAgfTtcblxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICB9O1xuXG4gIC8vIFdvcmsgb3V0IHRoZSBuYW1lIG9mIHRoZSB0cmFuc2l0aW9uRW5kIGV2ZW50XG4gIHZhciB0cmFuc0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cmFucycpO1xuICB2YXIgdHJhbnNpdGlvbkVuZEV2ZW50TmFtZXMgPSB7XG4gICAgJ1dlYmtpdFRyYW5zaXRpb24nOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG4gICAgJ01velRyYW5zaXRpb24nOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgJ09UcmFuc2l0aW9uJzogJ29UcmFuc2l0aW9uRW5kJyxcbiAgICAndHJhbnNpdGlvbic6ICd0cmFuc2l0aW9uZW5kJ1xuICB9O1xuICB2YXIgYW5pbWF0aW9uRW5kRXZlbnROYW1lcyA9IHtcbiAgICAnV2Via2l0VHJhbnNpdGlvbic6ICd3ZWJraXRBbmltYXRpb25FbmQnLFxuICAgICdNb3pUcmFuc2l0aW9uJzogJ2FuaW1hdGlvbmVuZCcsXG4gICAgJ09UcmFuc2l0aW9uJzogJ29BbmltYXRpb25FbmQnLFxuICAgICd0cmFuc2l0aW9uJzogJ2FuaW1hdGlvbmVuZCdcbiAgfTtcbiAgZnVuY3Rpb24gZmluZEVuZEV2ZW50TmFtZShlbmRFdmVudE5hbWVzKSB7XG4gICAgZm9yICh2YXIgbmFtZSBpbiBlbmRFdmVudE5hbWVzKXtcbiAgICAgIGlmICh0cmFuc0VsZW1lbnQuc3R5bGVbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZW5kRXZlbnROYW1lc1tuYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgJHRyYW5zaXRpb24udHJhbnNpdGlvbkVuZEV2ZW50TmFtZSA9IGZpbmRFbmRFdmVudE5hbWUodHJhbnNpdGlvbkVuZEV2ZW50TmFtZXMpO1xuICAkdHJhbnNpdGlvbi5hbmltYXRpb25FbmRFdmVudE5hbWUgPSBmaW5kRW5kRXZlbnROYW1lKGFuaW1hdGlvbkVuZEV2ZW50TmFtZXMpO1xuICByZXR1cm4gJHRyYW5zaXRpb247XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuY29sbGFwc2UnLCBbJ3VpLmJvb3RzdHJhcC50cmFuc2l0aW9uJ10pXG5cbiAgLmRpcmVjdGl2ZSgnY29sbGFwc2UnLCBbJyR0cmFuc2l0aW9uJywgZnVuY3Rpb24gKCR0cmFuc2l0aW9uKSB7XG5cbiAgICByZXR1cm4ge1xuICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuXG4gICAgICAgIHZhciBpbml0aWFsQW5pbVNraXAgPSB0cnVlO1xuICAgICAgICB2YXIgY3VycmVudFRyYW5zaXRpb247XG5cbiAgICAgICAgZnVuY3Rpb24gZG9UcmFuc2l0aW9uKGNoYW5nZSkge1xuICAgICAgICAgIHZhciBuZXdUcmFuc2l0aW9uID0gJHRyYW5zaXRpb24oZWxlbWVudCwgY2hhbmdlKTtcbiAgICAgICAgICBpZiAoY3VycmVudFRyYW5zaXRpb24pIHtcbiAgICAgICAgICAgIGN1cnJlbnRUcmFuc2l0aW9uLmNhbmNlbCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbiA9IG5ld1RyYW5zaXRpb247XG4gICAgICAgICAgbmV3VHJhbnNpdGlvbi50aGVuKG5ld1RyYW5zaXRpb25Eb25lLCBuZXdUcmFuc2l0aW9uRG9uZSk7XG4gICAgICAgICAgcmV0dXJuIG5ld1RyYW5zaXRpb247XG5cbiAgICAgICAgICBmdW5jdGlvbiBuZXdUcmFuc2l0aW9uRG9uZSgpIHtcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBpdCdzIHRoaXMgdHJhbnNpdGlvbiwgb3RoZXJ3aXNlLCBsZWF2ZSBpdCBhbG9uZS5cbiAgICAgICAgICAgIGlmIChjdXJyZW50VHJhbnNpdGlvbiA9PT0gbmV3VHJhbnNpdGlvbikge1xuICAgICAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBleHBhbmQoKSB7XG4gICAgICAgICAgaWYgKGluaXRpYWxBbmltU2tpcCkge1xuICAgICAgICAgICAgaW5pdGlhbEFuaW1Ta2lwID0gZmFsc2U7XG4gICAgICAgICAgICBleHBhbmREb25lKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlJykuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKTtcbiAgICAgICAgICAgIGRvVHJhbnNpdGlvbih7IGhlaWdodDogZWxlbWVudFswXS5zY3JvbGxIZWlnaHQgKyAncHgnIH0pLnRoZW4oZXhwYW5kRG9uZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZXhwYW5kRG9uZSgpIHtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJyk7XG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcygnY29sbGFwc2UgaW4nKTtcbiAgICAgICAgICBlbGVtZW50LmNzcyh7aGVpZ2h0OiAnYXV0byd9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNvbGxhcHNlKCkge1xuICAgICAgICAgIGlmIChpbml0aWFsQW5pbVNraXApIHtcbiAgICAgICAgICAgIGluaXRpYWxBbmltU2tpcCA9IGZhbHNlO1xuICAgICAgICAgICAgY29sbGFwc2VEb25lKCk7XG4gICAgICAgICAgICBlbGVtZW50LmNzcyh7aGVpZ2h0OiAwfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIENTUyB0cmFuc2l0aW9ucyBkb24ndCB3b3JrIHdpdGggaGVpZ2h0OiBhdXRvLCBzbyB3ZSBoYXZlIHRvIG1hbnVhbGx5IGNoYW5nZSB0aGUgaGVpZ2h0IHRvIGEgc3BlY2lmaWMgdmFsdWVcbiAgICAgICAgICAgIGVsZW1lbnQuY3NzKHsgaGVpZ2h0OiBlbGVtZW50WzBdLnNjcm9sbEhlaWdodCArICdweCcgfSk7XG4gICAgICAgICAgICAvL3RyaWdnZXIgcmVmbG93IHNvIGEgYnJvd3NlciByZWFsaXplcyB0aGF0IGhlaWdodCB3YXMgdXBkYXRlZCBmcm9tIGF1dG8gdG8gYSBzcGVjaWZpYyB2YWx1ZVxuICAgICAgICAgICAgdmFyIHggPSBlbGVtZW50WzBdLm9mZnNldFdpZHRoO1xuXG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdjb2xsYXBzZSBpbicpLmFkZENsYXNzKCdjb2xsYXBzaW5nJyk7XG5cbiAgICAgICAgICAgIGRvVHJhbnNpdGlvbih7IGhlaWdodDogMCB9KS50aGVuKGNvbGxhcHNlRG9uZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY29sbGFwc2VEb25lKCkge1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKTtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdjb2xsYXBzZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJzLmNvbGxhcHNlLCBmdW5jdGlvbiAoc2hvdWxkQ29sbGFwc2UpIHtcbiAgICAgICAgICBpZiAoc2hvdWxkQ29sbGFwc2UpIHtcbiAgICAgICAgICAgIGNvbGxhcHNlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGV4cGFuZCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmFjY29yZGlvbicsIFsndWkuYm9vdHN0cmFwLmNvbGxhcHNlJ10pXG5cbi5jb25zdGFudCgnYWNjb3JkaW9uQ29uZmlnJywge1xuICBjbG9zZU90aGVyczogdHJ1ZVxufSlcblxuLmNvbnRyb2xsZXIoJ0FjY29yZGlvbkNvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAnYWNjb3JkaW9uQ29uZmlnJywgZnVuY3Rpb24gKCRzY29wZSwgJGF0dHJzLCBhY2NvcmRpb25Db25maWcpIHtcblxuICAvLyBUaGlzIGFycmF5IGtlZXBzIHRyYWNrIG9mIHRoZSBhY2NvcmRpb24gZ3JvdXBzXG4gIHRoaXMuZ3JvdXBzID0gW107XG5cbiAgLy8gRW5zdXJlIHRoYXQgYWxsIHRoZSBncm91cHMgaW4gdGhpcyBhY2NvcmRpb24gYXJlIGNsb3NlZCwgdW5sZXNzIGNsb3NlLW90aGVycyBleHBsaWNpdGx5IHNheXMgbm90IHRvXG4gIHRoaXMuY2xvc2VPdGhlcnMgPSBmdW5jdGlvbihvcGVuR3JvdXApIHtcbiAgICB2YXIgY2xvc2VPdGhlcnMgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuY2xvc2VPdGhlcnMpID8gJHNjb3BlLiRldmFsKCRhdHRycy5jbG9zZU90aGVycykgOiBhY2NvcmRpb25Db25maWcuY2xvc2VPdGhlcnM7XG4gICAgaWYgKCBjbG9zZU90aGVycyApIHtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0aGlzLmdyb3VwcywgZnVuY3Rpb24gKGdyb3VwKSB7XG4gICAgICAgIGlmICggZ3JvdXAgIT09IG9wZW5Hcm91cCApIHtcbiAgICAgICAgICBncm91cC5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFRoaXMgaXMgY2FsbGVkIGZyb20gdGhlIGFjY29yZGlvbi1ncm91cCBkaXJlY3RpdmUgdG8gYWRkIGl0c2VsZiB0byB0aGUgYWNjb3JkaW9uXG4gIHRoaXMuYWRkR3JvdXAgPSBmdW5jdGlvbihncm91cFNjb3BlKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHRoaXMuZ3JvdXBzLnB1c2goZ3JvdXBTY29wZSk7XG5cbiAgICBncm91cFNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHRoYXQucmVtb3ZlR3JvdXAoZ3JvdXBTY29wZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gVGhpcyBpcyBjYWxsZWQgZnJvbSB0aGUgYWNjb3JkaW9uLWdyb3VwIGRpcmVjdGl2ZSB3aGVuIHRvIHJlbW92ZSBpdHNlbGZcbiAgdGhpcy5yZW1vdmVHcm91cCA9IGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5ncm91cHMuaW5kZXhPZihncm91cCk7XG4gICAgaWYgKCBpbmRleCAhPT0gLTEgKSB7XG4gICAgICB0aGlzLmdyb3Vwcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfTtcblxufV0pXG5cbi8vIFRoZSBhY2NvcmRpb24gZGlyZWN0aXZlIHNpbXBseSBzZXRzIHVwIHRoZSBkaXJlY3RpdmUgY29udHJvbGxlclxuLy8gYW5kIGFkZHMgYW4gYWNjb3JkaW9uIENTUyBjbGFzcyB0byBpdHNlbGYgZWxlbWVudC5cbi5kaXJlY3RpdmUoJ2FjY29yZGlvbicsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDonRUEnLFxuICAgIGNvbnRyb2xsZXI6J0FjY29yZGlvbkNvbnRyb2xsZXInLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVwbGFjZTogZmFsc2UsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLmh0bWwnXG4gIH07XG59KVxuXG4vLyBUaGUgYWNjb3JkaW9uLWdyb3VwIGRpcmVjdGl2ZSBpbmRpY2F0ZXMgYSBibG9jayBvZiBodG1sIHRoYXQgd2lsbCBleHBhbmQgYW5kIGNvbGxhcHNlIGluIGFuIGFjY29yZGlvblxuLmRpcmVjdGl2ZSgnYWNjb3JkaW9uR3JvdXAnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOideYWNjb3JkaW9uJywgICAgICAgICAvLyBXZSBuZWVkIHRoaXMgZGlyZWN0aXZlIHRvIGJlIGluc2lkZSBhbiBhY2NvcmRpb25cbiAgICByZXN0cmljdDonRUEnLFxuICAgIHRyYW5zY2x1ZGU6dHJ1ZSwgICAgICAgICAgICAgIC8vIEl0IHRyYW5zY2x1ZGVzIHRoZSBjb250ZW50cyBvZiB0aGUgZGlyZWN0aXZlIGludG8gdGhlIHRlbXBsYXRlXG4gICAgcmVwbGFjZTogdHJ1ZSwgICAgICAgICAgICAgICAgLy8gVGhlIGVsZW1lbnQgY29udGFpbmluZyB0aGUgZGlyZWN0aXZlIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgdGVtcGxhdGVcbiAgICB0ZW1wbGF0ZVVybDondGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi1ncm91cC5odG1sJyxcbiAgICBzY29wZToge1xuICAgICAgaGVhZGluZzogJ0AnLCAgICAgICAgICAgICAgIC8vIEludGVycG9sYXRlIHRoZSBoZWFkaW5nIGF0dHJpYnV0ZSBvbnRvIHRoaXMgc2NvcGVcbiAgICAgIGlzT3BlbjogJz0/JyxcbiAgICAgIGlzRGlzYWJsZWQ6ICc9PydcbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5zZXRIZWFkaW5nID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICB0aGlzLmhlYWRpbmcgPSBlbGVtZW50O1xuICAgICAgfTtcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgYWNjb3JkaW9uQ3RybCkge1xuICAgICAgYWNjb3JkaW9uQ3RybC5hZGRHcm91cChzY29wZSk7XG5cbiAgICAgIHNjb3BlLiR3YXRjaCgnaXNPcGVuJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKCB2YWx1ZSApIHtcbiAgICAgICAgICBhY2NvcmRpb25DdHJsLmNsb3NlT3RoZXJzKHNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLnRvZ2dsZU9wZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCAhc2NvcGUuaXNEaXNhYmxlZCApIHtcbiAgICAgICAgICBzY29wZS5pc09wZW4gPSAhc2NvcGUuaXNPcGVuO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn0pXG5cbi8vIFVzZSBhY2NvcmRpb24taGVhZGluZyBiZWxvdyBhbiBhY2NvcmRpb24tZ3JvdXAgdG8gcHJvdmlkZSBhIGhlYWRpbmcgY29udGFpbmluZyBIVE1MXG4vLyA8YWNjb3JkaW9uLWdyb3VwPlxuLy8gICA8YWNjb3JkaW9uLWhlYWRpbmc+SGVhZGluZyBjb250YWluaW5nIEhUTUwgLSA8aW1nIHNyYz1cIi4uLlwiPjwvYWNjb3JkaW9uLWhlYWRpbmc+XG4vLyA8L2FjY29yZGlvbi1ncm91cD5cbi5kaXJlY3RpdmUoJ2FjY29yZGlvbkhlYWRpbmcnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLCAgIC8vIEdyYWIgdGhlIGNvbnRlbnRzIHRvIGJlIHVzZWQgYXMgdGhlIGhlYWRpbmdcbiAgICB0ZW1wbGF0ZTogJycsICAgICAgIC8vIEluIGVmZmVjdCByZW1vdmUgdGhpcyBlbGVtZW50IVxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgcmVxdWlyZTogJ15hY2NvcmRpb25Hcm91cCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGFjY29yZGlvbkdyb3VwQ3RybCwgdHJhbnNjbHVkZSkge1xuICAgICAgLy8gUGFzcyB0aGUgaGVhZGluZyB0byB0aGUgYWNjb3JkaW9uLWdyb3VwIGNvbnRyb2xsZXJcbiAgICAgIC8vIHNvIHRoYXQgaXQgY2FuIGJlIHRyYW5zY2x1ZGVkIGludG8gdGhlIHJpZ2h0IHBsYWNlIGluIHRoZSB0ZW1wbGF0ZVxuICAgICAgLy8gW1RoZSBzZWNvbmQgcGFyYW1ldGVyIHRvIHRyYW5zY2x1ZGUgY2F1c2VzIHRoZSBlbGVtZW50cyB0byBiZSBjbG9uZWQgc28gdGhhdCB0aGV5IHdvcmsgaW4gbmctcmVwZWF0XVxuICAgICAgYWNjb3JkaW9uR3JvdXBDdHJsLnNldEhlYWRpbmcodHJhbnNjbHVkZShzY29wZSwgZnVuY3Rpb24oKSB7fSkpO1xuICAgIH1cbiAgfTtcbn0pXG5cbi8vIFVzZSBpbiB0aGUgYWNjb3JkaW9uLWdyb3VwIHRlbXBsYXRlIHRvIGluZGljYXRlIHdoZXJlIHlvdSB3YW50IHRoZSBoZWFkaW5nIHRvIGJlIHRyYW5zY2x1ZGVkXG4vLyBZb3UgbXVzdCBwcm92aWRlIHRoZSBwcm9wZXJ0eSBvbiB0aGUgYWNjb3JkaW9uLWdyb3VwIGNvbnRyb2xsZXIgdGhhdCB3aWxsIGhvbGQgdGhlIHRyYW5zY2x1ZGVkIGVsZW1lbnRcbi8vIDxkaXYgY2xhc3M9XCJhY2NvcmRpb24tZ3JvdXBcIj5cbi8vICAgPGRpdiBjbGFzcz1cImFjY29yZGlvbi1oZWFkaW5nXCIgPjxhIC4uLiBhY2NvcmRpb24tdHJhbnNjbHVkZT1cImhlYWRpbmdcIj4uLi48L2E+PC9kaXY+XG4vLyAgIC4uLlxuLy8gPC9kaXY+XG4uZGlyZWN0aXZlKCdhY2NvcmRpb25UcmFuc2NsdWRlJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogJ15hY2NvcmRpb25Hcm91cCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGNvbnRyb2xsZXIpIHtcbiAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbigpIHsgcmV0dXJuIGNvbnRyb2xsZXJbYXR0ci5hY2NvcmRpb25UcmFuc2NsdWRlXTsgfSwgZnVuY3Rpb24oaGVhZGluZykge1xuICAgICAgICBpZiAoIGhlYWRpbmcgKSB7XG4gICAgICAgICAgZWxlbWVudC5odG1sKCcnKTtcbiAgICAgICAgICBlbGVtZW50LmFwcGVuZChoZWFkaW5nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuYWxlcnQnLCBbXSlcblxuLmNvbnRyb2xsZXIoJ0FsZXJ0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsIGZ1bmN0aW9uICgkc2NvcGUsICRhdHRycykge1xuICAkc2NvcGUuY2xvc2VhYmxlID0gJ2Nsb3NlJyBpbiAkYXR0cnM7XG59XSlcblxuLmRpcmVjdGl2ZSgnYWxlcnQnLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6J0VBJyxcbiAgICBjb250cm9sbGVyOidBbGVydENvbnRyb2xsZXInLFxuICAgIHRlbXBsYXRlVXJsOid0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sJyxcbiAgICB0cmFuc2NsdWRlOnRydWUsXG4gICAgcmVwbGFjZTp0cnVlLFxuICAgIHNjb3BlOiB7XG4gICAgICB0eXBlOiAnQCcsXG4gICAgICBjbG9zZTogJyYnXG4gICAgfVxuICB9O1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuYmluZEh0bWwnLCBbXSlcblxuICAuZGlyZWN0aXZlKCdiaW5kSHRtbFVuc2FmZScsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICBlbGVtZW50LmFkZENsYXNzKCduZy1iaW5kaW5nJykuZGF0YSgnJGJpbmRpbmcnLCBhdHRyLmJpbmRIdG1sVW5zYWZlKTtcbiAgICAgIHNjb3BlLiR3YXRjaChhdHRyLmJpbmRIdG1sVW5zYWZlLCBmdW5jdGlvbiBiaW5kSHRtbFVuc2FmZVdhdGNoQWN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGVsZW1lbnQuaHRtbCh2YWx1ZSB8fCAnJyk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9KTtcbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuYnV0dG9ucycsIFtdKVxuXG4uY29uc3RhbnQoJ2J1dHRvbkNvbmZpZycsIHtcbiAgYWN0aXZlQ2xhc3M6ICdhY3RpdmUnLFxuICB0b2dnbGVFdmVudDogJ2NsaWNrJ1xufSlcblxuLmNvbnRyb2xsZXIoJ0J1dHRvbnNDb250cm9sbGVyJywgWydidXR0b25Db25maWcnLCBmdW5jdGlvbihidXR0b25Db25maWcpIHtcbiAgdGhpcy5hY3RpdmVDbGFzcyA9IGJ1dHRvbkNvbmZpZy5hY3RpdmVDbGFzcyB8fCAnYWN0aXZlJztcbiAgdGhpcy50b2dnbGVFdmVudCA9IGJ1dHRvbkNvbmZpZy50b2dnbGVFdmVudCB8fCAnY2xpY2snO1xufV0pXG5cbi5kaXJlY3RpdmUoJ2J0blJhZGlvJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6IFsnYnRuUmFkaW8nLCAnbmdNb2RlbCddLFxuICAgIGNvbnRyb2xsZXI6ICdCdXR0b25zQ29udHJvbGxlcicsXG4gICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciBidXR0b25zQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICAvL21vZGVsIC0+IFVJXG4gICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBlbGVtZW50LnRvZ2dsZUNsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzLCBhbmd1bGFyLmVxdWFscyhuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSwgc2NvcGUuJGV2YWwoYXR0cnMuYnRuUmFkaW8pKSk7XG4gICAgICB9O1xuXG4gICAgICAvL3VpLT5tb2RlbFxuICAgICAgZWxlbWVudC5iaW5kKGJ1dHRvbnNDdHJsLnRvZ2dsZUV2ZW50LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpc0FjdGl2ZSA9IGVsZW1lbnQuaGFzQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MpO1xuXG4gICAgICAgIGlmICghaXNBY3RpdmUgfHwgYW5ndWxhci5pc0RlZmluZWQoYXR0cnMudW5jaGVja2FibGUpKSB7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoaXNBY3RpdmUgPyBudWxsIDogc2NvcGUuJGV2YWwoYXR0cnMuYnRuUmFkaW8pKTtcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgnYnRuQ2hlY2tib3gnLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogWydidG5DaGVja2JveCcsICduZ01vZGVsJ10sXG4gICAgY29udHJvbGxlcjogJ0J1dHRvbnNDb250cm9sbGVyJyxcbiAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIGJ1dHRvbnNDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIGZ1bmN0aW9uIGdldFRydWVWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIGdldENoZWNrYm94VmFsdWUoYXR0cnMuYnRuQ2hlY2tib3hUcnVlLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0RmFsc2VWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIGdldENoZWNrYm94VmFsdWUoYXR0cnMuYnRuQ2hlY2tib3hGYWxzZSwgZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRDaGVja2JveFZhbHVlKGF0dHJpYnV0ZVZhbHVlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgdmFyIHZhbCA9IHNjb3BlLiRldmFsKGF0dHJpYnV0ZVZhbHVlKTtcbiAgICAgICAgcmV0dXJuIGFuZ3VsYXIuaXNEZWZpbmVkKHZhbCkgPyB2YWwgOiBkZWZhdWx0VmFsdWU7XG4gICAgICB9XG5cbiAgICAgIC8vbW9kZWwgLT4gVUlcbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGVsZW1lbnQudG9nZ2xlQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MsIGFuZ3VsYXIuZXF1YWxzKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlLCBnZXRUcnVlVmFsdWUoKSkpO1xuICAgICAgfTtcblxuICAgICAgLy91aS0+bW9kZWxcbiAgICAgIGVsZW1lbnQuYmluZChidXR0b25zQ3RybC50b2dnbGVFdmVudCwgZnVuY3Rpb24gKCkge1xuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoZWxlbWVudC5oYXNDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcykgPyBnZXRGYWxzZVZhbHVlKCkgOiBnZXRUcnVlVmFsdWUoKSk7XG4gICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pO1xuXG4vKipcbiogQG5nZG9jIG92ZXJ2aWV3XG4qIEBuYW1lIHVpLmJvb3RzdHJhcC5jYXJvdXNlbFxuKlxuKiBAZGVzY3JpcHRpb25cbiogQW5ndWxhckpTIHZlcnNpb24gb2YgYW4gaW1hZ2UgY2Fyb3VzZWwuXG4qXG4qL1xuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5jYXJvdXNlbCcsIFsndWkuYm9vdHN0cmFwLnRyYW5zaXRpb24nXSlcbi5jb250cm9sbGVyKCdDYXJvdXNlbENvbnRyb2xsZXInLCBbJyRzY29wZScsICckdGltZW91dCcsICckdHJhbnNpdGlvbicsIGZ1bmN0aW9uICgkc2NvcGUsICR0aW1lb3V0LCAkdHJhbnNpdGlvbikge1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgc2xpZGVzID0gc2VsZi5zbGlkZXMgPSAkc2NvcGUuc2xpZGVzID0gW10sXG4gICAgY3VycmVudEluZGV4ID0gLTEsXG4gICAgY3VycmVudFRpbWVvdXQsIGlzUGxheWluZztcbiAgc2VsZi5jdXJyZW50U2xpZGUgPSBudWxsO1xuXG4gIHZhciBkZXN0cm95ZWQgPSBmYWxzZTtcbiAgLyogZGlyZWN0aW9uOiBcInByZXZcIiBvciBcIm5leHRcIiAqL1xuICBzZWxmLnNlbGVjdCA9ICRzY29wZS5zZWxlY3QgPSBmdW5jdGlvbihuZXh0U2xpZGUsIGRpcmVjdGlvbikge1xuICAgIHZhciBuZXh0SW5kZXggPSBzbGlkZXMuaW5kZXhPZihuZXh0U2xpZGUpO1xuICAgIC8vRGVjaWRlIGRpcmVjdGlvbiBpZiBpdCdzIG5vdCBnaXZlblxuICAgIGlmIChkaXJlY3Rpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgZGlyZWN0aW9uID0gbmV4dEluZGV4ID4gY3VycmVudEluZGV4ID8gJ25leHQnIDogJ3ByZXYnO1xuICAgIH1cbiAgICBpZiAobmV4dFNsaWRlICYmIG5leHRTbGlkZSAhPT0gc2VsZi5jdXJyZW50U2xpZGUpIHtcbiAgICAgIGlmICgkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uKSB7XG4gICAgICAgICRzY29wZS4kY3VycmVudFRyYW5zaXRpb24uY2FuY2VsKCk7XG4gICAgICAgIC8vVGltZW91dCBzbyBuZy1jbGFzcyBpbiB0ZW1wbGF0ZSBoYXMgdGltZSB0byBmaXggY2xhc3NlcyBmb3IgZmluaXNoZWQgc2xpZGVcbiAgICAgICAgJHRpbWVvdXQoZ29OZXh0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdvTmV4dCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnb05leHQoKSB7XG4gICAgICAvLyBTY29wZSBoYXMgYmVlbiBkZXN0cm95ZWQsIHN0b3AgaGVyZS5cbiAgICAgIGlmIChkZXN0cm95ZWQpIHsgcmV0dXJuOyB9XG4gICAgICAvL0lmIHdlIGhhdmUgYSBzbGlkZSB0byB0cmFuc2l0aW9uIGZyb20gYW5kIHdlIGhhdmUgYSB0cmFuc2l0aW9uIHR5cGUgYW5kIHdlJ3JlIGFsbG93ZWQsIGdvXG4gICAgICBpZiAoc2VsZi5jdXJyZW50U2xpZGUgJiYgYW5ndWxhci5pc1N0cmluZyhkaXJlY3Rpb24pICYmICEkc2NvcGUubm9UcmFuc2l0aW9uICYmIG5leHRTbGlkZS4kZWxlbWVudCkge1xuICAgICAgICAvL1dlIHNob3VsZG4ndCBkbyBjbGFzcyBtYW5pcCBpbiBoZXJlLCBidXQgaXQncyB0aGUgc2FtZSB3ZWlyZCB0aGluZyBib290c3RyYXAgZG9lcy4gbmVlZCB0byBmaXggc29tZXRpbWVcbiAgICAgICAgbmV4dFNsaWRlLiRlbGVtZW50LmFkZENsYXNzKGRpcmVjdGlvbik7XG4gICAgICAgIHZhciByZWZsb3cgPSBuZXh0U2xpZGUuJGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGg7IC8vZm9yY2UgcmVmbG93XG5cbiAgICAgICAgLy9TZXQgYWxsIG90aGVyIHNsaWRlcyB0byBzdG9wIGRvaW5nIHRoZWlyIHN0dWZmIGZvciB0aGUgbmV3IHRyYW5zaXRpb25cbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNsaWRlcywgZnVuY3Rpb24oc2xpZGUpIHtcbiAgICAgICAgICBhbmd1bGFyLmV4dGVuZChzbGlkZSwge2RpcmVjdGlvbjogJycsIGVudGVyaW5nOiBmYWxzZSwgbGVhdmluZzogZmFsc2UsIGFjdGl2ZTogZmFsc2V9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGFuZ3VsYXIuZXh0ZW5kKG5leHRTbGlkZSwge2RpcmVjdGlvbjogZGlyZWN0aW9uLCBhY3RpdmU6IHRydWUsIGVudGVyaW5nOiB0cnVlfSk7XG4gICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHNlbGYuY3VycmVudFNsaWRlfHx7fSwge2RpcmVjdGlvbjogZGlyZWN0aW9uLCBsZWF2aW5nOiB0cnVlfSk7XG5cbiAgICAgICAgJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbiA9ICR0cmFuc2l0aW9uKG5leHRTbGlkZS4kZWxlbWVudCwge30pO1xuICAgICAgICAvL1dlIGhhdmUgdG8gY3JlYXRlIG5ldyBwb2ludGVycyBpbnNpZGUgYSBjbG9zdXJlIHNpbmNlIG5leHQgJiBjdXJyZW50IHdpbGwgY2hhbmdlXG4gICAgICAgIChmdW5jdGlvbihuZXh0LGN1cnJlbnQpIHtcbiAgICAgICAgICAkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uLnRoZW4oXG4gICAgICAgICAgICBmdW5jdGlvbigpeyB0cmFuc2l0aW9uRG9uZShuZXh0LCBjdXJyZW50KTsgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKCl7IHRyYW5zaXRpb25Eb25lKG5leHQsIGN1cnJlbnQpOyB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfShuZXh0U2xpZGUsIHNlbGYuY3VycmVudFNsaWRlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFuc2l0aW9uRG9uZShuZXh0U2xpZGUsIHNlbGYuY3VycmVudFNsaWRlKTtcbiAgICAgIH1cbiAgICAgIHNlbGYuY3VycmVudFNsaWRlID0gbmV4dFNsaWRlO1xuICAgICAgY3VycmVudEluZGV4ID0gbmV4dEluZGV4O1xuICAgICAgLy9ldmVyeSB0aW1lIHlvdSBjaGFuZ2Ugc2xpZGVzLCByZXNldCB0aGUgdGltZXJcbiAgICAgIHJlc3RhcnRUaW1lcigpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0cmFuc2l0aW9uRG9uZShuZXh0LCBjdXJyZW50KSB7XG4gICAgICBhbmd1bGFyLmV4dGVuZChuZXh0LCB7ZGlyZWN0aW9uOiAnJywgYWN0aXZlOiB0cnVlLCBsZWF2aW5nOiBmYWxzZSwgZW50ZXJpbmc6IGZhbHNlfSk7XG4gICAgICBhbmd1bGFyLmV4dGVuZChjdXJyZW50fHx7fSwge2RpcmVjdGlvbjogJycsIGFjdGl2ZTogZmFsc2UsIGxlYXZpbmc6IGZhbHNlLCBlbnRlcmluZzogZmFsc2V9KTtcbiAgICAgICRzY29wZS4kY3VycmVudFRyYW5zaXRpb24gPSBudWxsO1xuICAgIH1cbiAgfTtcbiAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XG4gICAgZGVzdHJveWVkID0gdHJ1ZTtcbiAgfSk7XG5cbiAgLyogQWxsb3cgb3V0c2lkZSBwZW9wbGUgdG8gY2FsbCBpbmRleE9mIG9uIHNsaWRlcyBhcnJheSAqL1xuICBzZWxmLmluZGV4T2ZTbGlkZSA9IGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgcmV0dXJuIHNsaWRlcy5pbmRleE9mKHNsaWRlKTtcbiAgfTtcblxuICAkc2NvcGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuZXdJbmRleCA9IChjdXJyZW50SW5kZXggKyAxKSAlIHNsaWRlcy5sZW5ndGg7XG5cbiAgICAvL1ByZXZlbnQgdGhpcyB1c2VyLXRyaWdnZXJlZCB0cmFuc2l0aW9uIGZyb20gb2NjdXJyaW5nIGlmIHRoZXJlIGlzIGFscmVhZHkgb25lIGluIHByb2dyZXNzXG4gICAgaWYgKCEkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uKSB7XG4gICAgICByZXR1cm4gc2VsZi5zZWxlY3Qoc2xpZGVzW25ld0luZGV4XSwgJ25leHQnKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLnByZXYgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmV3SW5kZXggPSBjdXJyZW50SW5kZXggLSAxIDwgMCA/IHNsaWRlcy5sZW5ndGggLSAxIDogY3VycmVudEluZGV4IC0gMTtcblxuICAgIC8vUHJldmVudCB0aGlzIHVzZXItdHJpZ2dlcmVkIHRyYW5zaXRpb24gZnJvbSBvY2N1cnJpbmcgaWYgdGhlcmUgaXMgYWxyZWFkeSBvbmUgaW4gcHJvZ3Jlc3NcbiAgICBpZiAoISRzY29wZS4kY3VycmVudFRyYW5zaXRpb24pIHtcbiAgICAgIHJldHVybiBzZWxmLnNlbGVjdChzbGlkZXNbbmV3SW5kZXhdLCAncHJldicpO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuaXNBY3RpdmUgPSBmdW5jdGlvbihzbGlkZSkge1xuICAgICByZXR1cm4gc2VsZi5jdXJyZW50U2xpZGUgPT09IHNsaWRlO1xuICB9O1xuXG4gICRzY29wZS4kd2F0Y2goJ2ludGVydmFsJywgcmVzdGFydFRpbWVyKTtcbiAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCByZXNldFRpbWVyKTtcblxuICBmdW5jdGlvbiByZXN0YXJ0VGltZXIoKSB7XG4gICAgcmVzZXRUaW1lcigpO1xuICAgIHZhciBpbnRlcnZhbCA9ICskc2NvcGUuaW50ZXJ2YWw7XG4gICAgaWYgKCFpc05hTihpbnRlcnZhbCkgJiYgaW50ZXJ2YWw+PTApIHtcbiAgICAgIGN1cnJlbnRUaW1lb3V0ID0gJHRpbWVvdXQodGltZXJGbiwgaW50ZXJ2YWwpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0VGltZXIoKSB7XG4gICAgaWYgKGN1cnJlbnRUaW1lb3V0KSB7XG4gICAgICAkdGltZW91dC5jYW5jZWwoY3VycmVudFRpbWVvdXQpO1xuICAgICAgY3VycmVudFRpbWVvdXQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRpbWVyRm4oKSB7XG4gICAgaWYgKGlzUGxheWluZykge1xuICAgICAgJHNjb3BlLm5leHQoKTtcbiAgICAgIHJlc3RhcnRUaW1lcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkc2NvcGUucGF1c2UoKTtcbiAgICB9XG4gIH1cblxuICAkc2NvcGUucGxheSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghaXNQbGF5aW5nKSB7XG4gICAgICBpc1BsYXlpbmcgPSB0cnVlO1xuICAgICAgcmVzdGFydFRpbWVyKCk7XG4gICAgfVxuICB9O1xuICAkc2NvcGUucGF1c2UgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoISRzY29wZS5ub1BhdXNlKSB7XG4gICAgICBpc1BsYXlpbmcgPSBmYWxzZTtcbiAgICAgIHJlc2V0VGltZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgc2VsZi5hZGRTbGlkZSA9IGZ1bmN0aW9uKHNsaWRlLCBlbGVtZW50KSB7XG4gICAgc2xpZGUuJGVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHNsaWRlcy5wdXNoKHNsaWRlKTtcbiAgICAvL2lmIHRoaXMgaXMgdGhlIGZpcnN0IHNsaWRlIG9yIHRoZSBzbGlkZSBpcyBzZXQgdG8gYWN0aXZlLCBzZWxlY3QgaXRcbiAgICBpZihzbGlkZXMubGVuZ3RoID09PSAxIHx8IHNsaWRlLmFjdGl2ZSkge1xuICAgICAgc2VsZi5zZWxlY3Qoc2xpZGVzW3NsaWRlcy5sZW5ndGgtMV0pO1xuICAgICAgaWYgKHNsaWRlcy5sZW5ndGggPT0gMSkge1xuICAgICAgICAkc2NvcGUucGxheSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzbGlkZS5hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgc2VsZi5yZW1vdmVTbGlkZSA9IGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgLy9nZXQgdGhlIGluZGV4IG9mIHRoZSBzbGlkZSBpbnNpZGUgdGhlIGNhcm91c2VsXG4gICAgdmFyIGluZGV4ID0gc2xpZGVzLmluZGV4T2Yoc2xpZGUpO1xuICAgIHNsaWRlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIGlmIChzbGlkZXMubGVuZ3RoID4gMCAmJiBzbGlkZS5hY3RpdmUpIHtcbiAgICAgIGlmIChpbmRleCA+PSBzbGlkZXMubGVuZ3RoKSB7XG4gICAgICAgIHNlbGYuc2VsZWN0KHNsaWRlc1tpbmRleC0xXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLnNlbGVjdChzbGlkZXNbaW5kZXhdKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRJbmRleCA+IGluZGV4KSB7XG4gICAgICBjdXJyZW50SW5kZXgtLTtcbiAgICB9XG4gIH07XG5cbn1dKVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC5jYXJvdXNlbC5kaXJlY3RpdmU6Y2Fyb3VzZWxcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ2Fyb3VzZWwgaXMgdGhlIG91dGVyIGNvbnRhaW5lciBmb3IgYSBzZXQgb2YgaW1hZ2UgJ3NsaWRlcycgdG8gc2hvd2Nhc2UuXG4gKlxuICogQHBhcmFtIHtudW1iZXI9fSBpbnRlcnZhbCBUaGUgdGltZSwgaW4gbWlsbGlzZWNvbmRzLCB0aGF0IGl0IHdpbGwgdGFrZSB0aGUgY2Fyb3VzZWwgdG8gZ28gdG8gdGhlIG5leHQgc2xpZGUuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBub1RyYW5zaXRpb24gV2hldGhlciB0byBkaXNhYmxlIHRyYW5zaXRpb25zIG9uIHRoZSBjYXJvdXNlbC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5vUGF1c2UgV2hldGhlciB0byBkaXNhYmxlIHBhdXNpbmcgb24gdGhlIGNhcm91c2VsIChieSBkZWZhdWx0LCB0aGUgY2Fyb3VzZWwgaW50ZXJ2YWwgcGF1c2VzIG9uIGhvdmVyKS5cbiAqXG4gKiBAZXhhbXBsZVxuPGV4YW1wbGUgbW9kdWxlPVwidWkuYm9vdHN0cmFwXCI+XG4gIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgPGNhcm91c2VsPlxuICAgICAgPHNsaWRlPlxuICAgICAgICA8aW1nIHNyYz1cImh0dHA6Ly9wbGFjZWtpdHRlbi5jb20vMTUwLzE1MFwiIHN0eWxlPVwibWFyZ2luOmF1dG87XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbC1jYXB0aW9uXCI+XG4gICAgICAgICAgPHA+QmVhdXRpZnVsITwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L3NsaWRlPlxuICAgICAgPHNsaWRlPlxuICAgICAgICA8aW1nIHNyYz1cImh0dHA6Ly9wbGFjZWtpdHRlbi5jb20vMTAwLzE1MFwiIHN0eWxlPVwibWFyZ2luOmF1dG87XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbC1jYXB0aW9uXCI+XG4gICAgICAgICAgPHA+RCdhd3chPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvc2xpZGU+XG4gICAgPC9jYXJvdXNlbD5cbiAgPC9maWxlPlxuICA8ZmlsZSBuYW1lPVwiZGVtby5jc3NcIj5cbiAgICAuY2Fyb3VzZWwtaW5kaWNhdG9ycyB7XG4gICAgICB0b3A6IGF1dG87XG4gICAgICBib3R0b206IDE1cHg7XG4gICAgfVxuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4gKi9cbi5kaXJlY3RpdmUoJ2Nhcm91c2VsJywgW2Z1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBjb250cm9sbGVyOiAnQ2Fyb3VzZWxDb250cm9sbGVyJyxcbiAgICByZXF1aXJlOiAnY2Fyb3VzZWwnLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbCcsXG4gICAgc2NvcGU6IHtcbiAgICAgIGludGVydmFsOiAnPScsXG4gICAgICBub1RyYW5zaXRpb246ICc9JyxcbiAgICAgIG5vUGF1c2U6ICc9J1xuICAgIH1cbiAgfTtcbn1dKVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC5jYXJvdXNlbC5kaXJlY3RpdmU6c2xpZGVcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ3JlYXRlcyBhIHNsaWRlIGluc2lkZSBhIHtAbGluayB1aS5ib290c3RyYXAuY2Fyb3VzZWwuZGlyZWN0aXZlOmNhcm91c2VsIGNhcm91c2VsfS4gIE11c3QgYmUgcGxhY2VkIGFzIGEgY2hpbGQgb2YgYSBjYXJvdXNlbCBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGFjdGl2ZSBNb2RlbCBiaW5kaW5nLCB3aGV0aGVyIG9yIG5vdCB0aGlzIHNsaWRlIGlzIGN1cnJlbnRseSBhY3RpdmUuXG4gKlxuICogQGV4YW1wbGVcbjxleGFtcGxlIG1vZHVsZT1cInVpLmJvb3RzdHJhcFwiPlxuICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuPGRpdiBuZy1jb250cm9sbGVyPVwiQ2Fyb3VzZWxEZW1vQ3RybFwiPlxuICA8Y2Fyb3VzZWw+XG4gICAgPHNsaWRlIG5nLXJlcGVhdD1cInNsaWRlIGluIHNsaWRlc1wiIGFjdGl2ZT1cInNsaWRlLmFjdGl2ZVwiPlxuICAgICAgPGltZyBuZy1zcmM9XCJ7e3NsaWRlLmltYWdlfX1cIiBzdHlsZT1cIm1hcmdpbjphdXRvO1wiPlxuICAgICAgPGRpdiBjbGFzcz1cImNhcm91c2VsLWNhcHRpb25cIj5cbiAgICAgICAgPGg0PlNsaWRlIHt7JGluZGV4fX08L2g0PlxuICAgICAgICA8cD57e3NsaWRlLnRleHR9fTwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvc2xpZGU+XG4gIDwvY2Fyb3VzZWw+XG4gIEludGVydmFsLCBpbiBtaWxsaXNlY29uZHM6IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJteUludGVydmFsXCI+XG4gIDxiciAvPkVudGVyIGEgbmVnYXRpdmUgbnVtYmVyIHRvIHN0b3AgdGhlIGludGVydmFsLlxuPC9kaXY+XG4gIDwvZmlsZT5cbiAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuZnVuY3Rpb24gQ2Fyb3VzZWxEZW1vQ3RybCgkc2NvcGUpIHtcbiAgJHNjb3BlLm15SW50ZXJ2YWwgPSA1MDAwO1xufVxuICA8L2ZpbGU+XG4gIDxmaWxlIG5hbWU9XCJkZW1vLmNzc1wiPlxuICAgIC5jYXJvdXNlbC1pbmRpY2F0b3JzIHtcbiAgICAgIHRvcDogYXV0bztcbiAgICAgIGJvdHRvbTogMTVweDtcbiAgICB9XG4gIDwvZmlsZT5cbjwvZXhhbXBsZT5cbiovXG5cbi5kaXJlY3RpdmUoJ3NsaWRlJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogJ15jYXJvdXNlbCcsXG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvY2Fyb3VzZWwvc2xpZGUuaHRtbCcsXG4gICAgc2NvcGU6IHtcbiAgICAgIGFjdGl2ZTogJz0/J1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY2Fyb3VzZWxDdHJsKSB7XG4gICAgICBjYXJvdXNlbEN0cmwuYWRkU2xpZGUoc2NvcGUsIGVsZW1lbnQpO1xuICAgICAgLy93aGVuIHRoZSBzY29wZSBpcyBkZXN0cm95ZWQgdGhlbiByZW1vdmUgdGhlIHNsaWRlIGZyb20gdGhlIGN1cnJlbnQgc2xpZGVzIGFycmF5XG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNhcm91c2VsQ3RybC5yZW1vdmVTbGlkZShzY29wZSk7XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuJHdhdGNoKCdhY3RpdmUnLCBmdW5jdGlvbihhY3RpdmUpIHtcbiAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgIGNhcm91c2VsQ3RybC5zZWxlY3Qoc2NvcGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5kYXRlcGFyc2VyJywgW10pXG5cbi5zZXJ2aWNlKCdkYXRlUGFyc2VyJywgWyckbG9jYWxlJywgJ29yZGVyQnlGaWx0ZXInLCBmdW5jdGlvbigkbG9jYWxlLCBvcmRlckJ5RmlsdGVyKSB7XG5cbiAgdGhpcy5wYXJzZXJzID0ge307XG5cbiAgdmFyIGZvcm1hdENvZGVUb1JlZ2V4ID0ge1xuICAgICd5eXl5Jzoge1xuICAgICAgcmVnZXg6ICdcXFxcZHs0fScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy55ZWFyID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAneXknOiB7XG4gICAgICByZWdleDogJ1xcXFxkezJ9JyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLnllYXIgPSArdmFsdWUgKyAyMDAwOyB9XG4gICAgfSxcbiAgICAneSc6IHtcbiAgICAgIHJlZ2V4OiAnXFxcXGR7MSw0fScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy55ZWFyID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnTU1NTSc6IHtcbiAgICAgIHJlZ2V4OiAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuTU9OVEguam9pbignfCcpLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubW9udGggPSAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuTU9OVEguaW5kZXhPZih2YWx1ZSk7IH1cbiAgICB9LFxuICAgICdNTU0nOiB7XG4gICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUTU9OVEguam9pbignfCcpLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubW9udGggPSAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuU0hPUlRNT05USC5pbmRleE9mKHZhbHVlKTsgfVxuICAgIH0sXG4gICAgJ01NJzoge1xuICAgICAgcmVnZXg6ICcwWzEtOV18MVswLTJdJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1vbnRoID0gdmFsdWUgLSAxOyB9XG4gICAgfSxcbiAgICAnTSc6IHtcbiAgICAgIHJlZ2V4OiAnWzEtOV18MVswLTJdJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1vbnRoID0gdmFsdWUgLSAxOyB9XG4gICAgfSxcbiAgICAnZGQnOiB7XG4gICAgICByZWdleDogJ1swLTJdWzAtOV17MX18M1swLTFdezF9JyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLmRhdGUgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdkJzoge1xuICAgICAgcmVnZXg6ICdbMS0yXT9bMC05XXsxfXwzWzAtMV17MX0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMuZGF0ZSA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ0VFRUUnOiB7XG4gICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLkRBWS5qb2luKCd8JylcbiAgICB9LFxuICAgICdFRUUnOiB7XG4gICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUREFZLmpvaW4oJ3wnKVxuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBjcmVhdGVQYXJzZXIoZm9ybWF0KSB7XG4gICAgdmFyIG1hcCA9IFtdLCByZWdleCA9IGZvcm1hdC5zcGxpdCgnJyk7XG5cbiAgICBhbmd1bGFyLmZvckVhY2goZm9ybWF0Q29kZVRvUmVnZXgsIGZ1bmN0aW9uKGRhdGEsIGNvZGUpIHtcbiAgICAgIHZhciBpbmRleCA9IGZvcm1hdC5pbmRleE9mKGNvZGUpO1xuXG4gICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICBmb3JtYXQgPSBmb3JtYXQuc3BsaXQoJycpO1xuXG4gICAgICAgIHJlZ2V4W2luZGV4XSA9ICcoJyArIGRhdGEucmVnZXggKyAnKSc7XG4gICAgICAgIGZvcm1hdFtpbmRleF0gPSAnJCc7IC8vIEN1c3RvbSBzeW1ib2wgdG8gZGVmaW5lIGNvbnN1bWVkIHBhcnQgb2YgZm9ybWF0XG4gICAgICAgIGZvciAodmFyIGkgPSBpbmRleCArIDEsIG4gPSBpbmRleCArIGNvZGUubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgcmVnZXhbaV0gPSAnJztcbiAgICAgICAgICBmb3JtYXRbaV0gPSAnJCc7XG4gICAgICAgIH1cbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0LmpvaW4oJycpO1xuXG4gICAgICAgIG1hcC5wdXNoKHsgaW5kZXg6IGluZGV4LCBhcHBseTogZGF0YS5hcHBseSB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICByZWdleDogbmV3IFJlZ0V4cCgnXicgKyByZWdleC5qb2luKCcnKSArICckJyksXG4gICAgICBtYXA6IG9yZGVyQnlGaWx0ZXIobWFwLCAnaW5kZXgnKVxuICAgIH07XG4gIH1cblxuICB0aGlzLnBhcnNlID0gZnVuY3Rpb24oaW5wdXQsIGZvcm1hdCkge1xuICAgIGlmICggIWFuZ3VsYXIuaXNTdHJpbmcoaW5wdXQpIHx8ICFmb3JtYXQgKSB7XG4gICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuXG4gICAgZm9ybWF0ID0gJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTW2Zvcm1hdF0gfHwgZm9ybWF0O1xuXG4gICAgaWYgKCAhdGhpcy5wYXJzZXJzW2Zvcm1hdF0gKSB7XG4gICAgICB0aGlzLnBhcnNlcnNbZm9ybWF0XSA9IGNyZWF0ZVBhcnNlcihmb3JtYXQpO1xuICAgIH1cblxuICAgIHZhciBwYXJzZXIgPSB0aGlzLnBhcnNlcnNbZm9ybWF0XSxcbiAgICAgICAgcmVnZXggPSBwYXJzZXIucmVnZXgsXG4gICAgICAgIG1hcCA9IHBhcnNlci5tYXAsXG4gICAgICAgIHJlc3VsdHMgPSBpbnB1dC5tYXRjaChyZWdleCk7XG5cbiAgICBpZiAoIHJlc3VsdHMgJiYgcmVzdWx0cy5sZW5ndGggKSB7XG4gICAgICB2YXIgZmllbGRzID0geyB5ZWFyOiAxOTAwLCBtb250aDogMCwgZGF0ZTogMSwgaG91cnM6IDAgfSwgZHQ7XG5cbiAgICAgIGZvciggdmFyIGkgPSAxLCBuID0gcmVzdWx0cy5sZW5ndGg7IGkgPCBuOyBpKysgKSB7XG4gICAgICAgIHZhciBtYXBwZXIgPSBtYXBbaS0xXTtcbiAgICAgICAgaWYgKCBtYXBwZXIuYXBwbHkgKSB7XG4gICAgICAgICAgbWFwcGVyLmFwcGx5LmNhbGwoZmllbGRzLCByZXN1bHRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIGlzVmFsaWQoZmllbGRzLnllYXIsIGZpZWxkcy5tb250aCwgZmllbGRzLmRhdGUpICkge1xuICAgICAgICBkdCA9IG5ldyBEYXRlKCBmaWVsZHMueWVhciwgZmllbGRzLm1vbnRoLCBmaWVsZHMuZGF0ZSwgZmllbGRzLmhvdXJzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGR0O1xuICAgIH1cbiAgfTtcblxuICAvLyBDaGVjayBpZiBkYXRlIGlzIHZhbGlkIGZvciBzcGVjaWZpYyBtb250aCAoYW5kIHllYXIgZm9yIEZlYnJ1YXJ5KS5cbiAgLy8gTW9udGg6IDAgPSBKYW4sIDEgPSBGZWIsIGV0Y1xuICBmdW5jdGlvbiBpc1ZhbGlkKHllYXIsIG1vbnRoLCBkYXRlKSB7XG4gICAgaWYgKCBtb250aCA9PT0gMSAmJiBkYXRlID4gMjgpIHtcbiAgICAgICAgcmV0dXJuIGRhdGUgPT09IDI5ICYmICgoeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMCAhPT0gMCkgfHwgeWVhciAlIDQwMCA9PT0gMCk7XG4gICAgfVxuXG4gICAgaWYgKCBtb250aCA9PT0gMyB8fCBtb250aCA9PT0gNSB8fCBtb250aCA9PT0gOCB8fCBtb250aCA9PT0gMTApIHtcbiAgICAgICAgcmV0dXJuIGRhdGUgPCAzMTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnBvc2l0aW9uJywgW10pXG5cbi8qKlxuICogQSBzZXQgb2YgdXRpbGl0eSBtZXRob2RzIHRoYXQgY2FuIGJlIHVzZSB0byByZXRyaWV2ZSBwb3NpdGlvbiBvZiBET00gZWxlbWVudHMuXG4gKiBJdCBpcyBtZWFudCB0byBiZSB1c2VkIHdoZXJlIHdlIG5lZWQgdG8gYWJzb2x1dGUtcG9zaXRpb24gRE9NIGVsZW1lbnRzIGluXG4gKiByZWxhdGlvbiB0byBvdGhlciwgZXhpc3RpbmcgZWxlbWVudHMgKHRoaXMgaXMgdGhlIGNhc2UgZm9yIHRvb2x0aXBzLCBwb3BvdmVycyxcbiAqIHR5cGVhaGVhZCBzdWdnZXN0aW9ucyBldGMuKS5cbiAqL1xuICAuZmFjdG9yeSgnJHBvc2l0aW9uJywgWyckZG9jdW1lbnQnLCAnJHdpbmRvdycsIGZ1bmN0aW9uICgkZG9jdW1lbnQsICR3aW5kb3cpIHtcblxuICAgIGZ1bmN0aW9uIGdldFN0eWxlKGVsLCBjc3Nwcm9wKSB7XG4gICAgICBpZiAoZWwuY3VycmVudFN0eWxlKSB7IC8vSUVcbiAgICAgICAgcmV0dXJuIGVsLmN1cnJlbnRTdHlsZVtjc3Nwcm9wXTtcbiAgICAgIH0gZWxzZSBpZiAoJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKSB7XG4gICAgICAgIHJldHVybiAkd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpW2Nzc3Byb3BdO1xuICAgICAgfVxuICAgICAgLy8gZmluYWxseSB0cnkgYW5kIGdldCBpbmxpbmUgc3R5bGVcbiAgICAgIHJldHVybiBlbC5zdHlsZVtjc3Nwcm9wXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBnaXZlbiBlbGVtZW50IGlzIHN0YXRpY2FsbHkgcG9zaXRpb25lZFxuICAgICAqIEBwYXJhbSBlbGVtZW50IC0gcmF3IERPTSBlbGVtZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTdGF0aWNQb3NpdGlvbmVkKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiAoZ2V0U3R5bGUoZWxlbWVudCwgJ3Bvc2l0aW9uJykgfHwgJ3N0YXRpYycgKSA9PT0gJ3N0YXRpYyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgY2xvc2VzdCwgbm9uLXN0YXRpY2FsbHkgcG9zaXRpb25lZCBwYXJlbnRPZmZzZXQgb2YgYSBnaXZlbiBlbGVtZW50XG4gICAgICogQHBhcmFtIGVsZW1lbnRcbiAgICAgKi9cbiAgICB2YXIgcGFyZW50T2Zmc2V0RWwgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgdmFyIGRvY0RvbUVsID0gJGRvY3VtZW50WzBdO1xuICAgICAgdmFyIG9mZnNldFBhcmVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50IHx8IGRvY0RvbUVsO1xuICAgICAgd2hpbGUgKG9mZnNldFBhcmVudCAmJiBvZmZzZXRQYXJlbnQgIT09IGRvY0RvbUVsICYmIGlzU3RhdGljUG9zaXRpb25lZChvZmZzZXRQYXJlbnQpICkge1xuICAgICAgICBvZmZzZXRQYXJlbnQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0UGFyZW50O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9mZnNldFBhcmVudCB8fCBkb2NEb21FbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogUHJvdmlkZXMgcmVhZC1vbmx5IGVxdWl2YWxlbnQgb2YgalF1ZXJ5J3MgcG9zaXRpb24gZnVuY3Rpb246XG4gICAgICAgKiBodHRwOi8vYXBpLmpxdWVyeS5jb20vcG9zaXRpb24vXG4gICAgICAgKi9cbiAgICAgIHBvc2l0aW9uOiBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICB2YXIgZWxCQ1IgPSB0aGlzLm9mZnNldChlbGVtZW50KTtcbiAgICAgICAgdmFyIG9mZnNldFBhcmVudEJDUiA9IHsgdG9wOiAwLCBsZWZ0OiAwIH07XG4gICAgICAgIHZhciBvZmZzZXRQYXJlbnRFbCA9IHBhcmVudE9mZnNldEVsKGVsZW1lbnRbMF0pO1xuICAgICAgICBpZiAob2Zmc2V0UGFyZW50RWwgIT0gJGRvY3VtZW50WzBdKSB7XG4gICAgICAgICAgb2Zmc2V0UGFyZW50QkNSID0gdGhpcy5vZmZzZXQoYW5ndWxhci5lbGVtZW50KG9mZnNldFBhcmVudEVsKSk7XG4gICAgICAgICAgb2Zmc2V0UGFyZW50QkNSLnRvcCArPSBvZmZzZXRQYXJlbnRFbC5jbGllbnRUb3AgLSBvZmZzZXRQYXJlbnRFbC5zY3JvbGxUb3A7XG4gICAgICAgICAgb2Zmc2V0UGFyZW50QkNSLmxlZnQgKz0gb2Zmc2V0UGFyZW50RWwuY2xpZW50TGVmdCAtIG9mZnNldFBhcmVudEVsLnNjcm9sbExlZnQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYm91bmRpbmdDbGllbnRSZWN0ID0gZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB3aWR0aDogYm91bmRpbmdDbGllbnRSZWN0LndpZHRoIHx8IGVsZW1lbnQucHJvcCgnb2Zmc2V0V2lkdGgnKSxcbiAgICAgICAgICBoZWlnaHQ6IGJvdW5kaW5nQ2xpZW50UmVjdC5oZWlnaHQgfHwgZWxlbWVudC5wcm9wKCdvZmZzZXRIZWlnaHQnKSxcbiAgICAgICAgICB0b3A6IGVsQkNSLnRvcCAtIG9mZnNldFBhcmVudEJDUi50b3AsXG4gICAgICAgICAgbGVmdDogZWxCQ1IubGVmdCAtIG9mZnNldFBhcmVudEJDUi5sZWZ0XG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFByb3ZpZGVzIHJlYWQtb25seSBlcXVpdmFsZW50IG9mIGpRdWVyeSdzIG9mZnNldCBmdW5jdGlvbjpcbiAgICAgICAqIGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9vZmZzZXQvXG4gICAgICAgKi9cbiAgICAgIG9mZnNldDogZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGJvdW5kaW5nQ2xpZW50UmVjdCA9IGVsZW1lbnRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgd2lkdGg6IGJvdW5kaW5nQ2xpZW50UmVjdC53aWR0aCB8fCBlbGVtZW50LnByb3AoJ29mZnNldFdpZHRoJyksXG4gICAgICAgICAgaGVpZ2h0OiBib3VuZGluZ0NsaWVudFJlY3QuaGVpZ2h0IHx8IGVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0JyksXG4gICAgICAgICAgdG9wOiBib3VuZGluZ0NsaWVudFJlY3QudG9wICsgKCR3aW5kb3cucGFnZVlPZmZzZXQgfHwgJGRvY3VtZW50WzBdLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApLFxuICAgICAgICAgIGxlZnQ6IGJvdW5kaW5nQ2xpZW50UmVjdC5sZWZ0ICsgKCR3aW5kb3cucGFnZVhPZmZzZXQgfHwgJGRvY3VtZW50WzBdLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0KVxuICAgICAgICB9O1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBQcm92aWRlcyBjb29yZGluYXRlcyBmb3IgdGhlIHRhcmdldEVsIGluIHJlbGF0aW9uIHRvIGhvc3RFbFxuICAgICAgICovXG4gICAgICBwb3NpdGlvbkVsZW1lbnRzOiBmdW5jdGlvbiAoaG9zdEVsLCB0YXJnZXRFbCwgcG9zaXRpb25TdHIsIGFwcGVuZFRvQm9keSkge1xuXG4gICAgICAgIHZhciBwb3NpdGlvblN0clBhcnRzID0gcG9zaXRpb25TdHIuc3BsaXQoJy0nKTtcbiAgICAgICAgdmFyIHBvczAgPSBwb3NpdGlvblN0clBhcnRzWzBdLCBwb3MxID0gcG9zaXRpb25TdHJQYXJ0c1sxXSB8fCAnY2VudGVyJztcblxuICAgICAgICB2YXIgaG9zdEVsUG9zLFxuICAgICAgICAgIHRhcmdldEVsV2lkdGgsXG4gICAgICAgICAgdGFyZ2V0RWxIZWlnaHQsXG4gICAgICAgICAgdGFyZ2V0RWxQb3M7XG5cbiAgICAgICAgaG9zdEVsUG9zID0gYXBwZW5kVG9Cb2R5ID8gdGhpcy5vZmZzZXQoaG9zdEVsKSA6IHRoaXMucG9zaXRpb24oaG9zdEVsKTtcblxuICAgICAgICB0YXJnZXRFbFdpZHRoID0gdGFyZ2V0RWwucHJvcCgnb2Zmc2V0V2lkdGgnKTtcbiAgICAgICAgdGFyZ2V0RWxIZWlnaHQgPSB0YXJnZXRFbC5wcm9wKCdvZmZzZXRIZWlnaHQnKTtcblxuICAgICAgICB2YXIgc2hpZnRXaWR0aCA9IHtcbiAgICAgICAgICBjZW50ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MubGVmdCArIGhvc3RFbFBvcy53aWR0aCAvIDIgLSB0YXJnZXRFbFdpZHRoIC8gMjtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGxlZnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MubGVmdDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJpZ2h0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gaG9zdEVsUG9zLmxlZnQgKyBob3N0RWxQb3Mud2lkdGg7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBzaGlmdEhlaWdodCA9IHtcbiAgICAgICAgICBjZW50ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MudG9wICsgaG9zdEVsUG9zLmhlaWdodCAvIDIgLSB0YXJnZXRFbEhlaWdodCAvIDI7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MudG9wO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYm90dG9tOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gaG9zdEVsUG9zLnRvcCArIGhvc3RFbFBvcy5oZWlnaHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHN3aXRjaCAocG9zMCkge1xuICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgIHRhcmdldEVsUG9zID0ge1xuICAgICAgICAgICAgICB0b3A6IHNoaWZ0SGVpZ2h0W3BvczFdKCksXG4gICAgICAgICAgICAgIGxlZnQ6IHNoaWZ0V2lkdGhbcG9zMF0oKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgdGFyZ2V0RWxQb3MgPSB7XG4gICAgICAgICAgICAgIHRvcDogc2hpZnRIZWlnaHRbcG9zMV0oKSxcbiAgICAgICAgICAgICAgbGVmdDogaG9zdEVsUG9zLmxlZnQgLSB0YXJnZXRFbFdpZHRoXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgIHRhcmdldEVsUG9zID0ge1xuICAgICAgICAgICAgICB0b3A6IHNoaWZ0SGVpZ2h0W3BvczBdKCksXG4gICAgICAgICAgICAgIGxlZnQ6IHNoaWZ0V2lkdGhbcG9zMV0oKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0YXJnZXRFbFBvcyA9IHtcbiAgICAgICAgICAgICAgdG9wOiBob3N0RWxQb3MudG9wIC0gdGFyZ2V0RWxIZWlnaHQsXG4gICAgICAgICAgICAgIGxlZnQ6IHNoaWZ0V2lkdGhbcG9zMV0oKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldEVsUG9zO1xuICAgICAgfVxuICAgIH07XG4gIH1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5kYXRlcGlja2VyJywgWyd1aS5ib290c3RyYXAuZGF0ZXBhcnNlcicsICd1aS5ib290c3RyYXAucG9zaXRpb24nXSlcblxuLmNvbnN0YW50KCdkYXRlcGlja2VyQ29uZmlnJywge1xuICBmb3JtYXREYXk6ICdkZCcsXG4gIGZvcm1hdE1vbnRoOiAnTU1NTScsXG4gIGZvcm1hdFllYXI6ICd5eXl5JyxcbiAgZm9ybWF0RGF5SGVhZGVyOiAnRUVFJyxcbiAgZm9ybWF0RGF5VGl0bGU6ICdNTU1NIHl5eXknLFxuICBmb3JtYXRNb250aFRpdGxlOiAneXl5eScsXG4gIGRhdGVwaWNrZXJNb2RlOiAnZGF5JyxcbiAgbWluTW9kZTogJ2RheScsXG4gIG1heE1vZGU6ICd5ZWFyJyxcbiAgc2hvd1dlZWtzOiB0cnVlLFxuICBzdGFydGluZ0RheTogMCxcbiAgeWVhclJhbmdlOiAyMCxcbiAgbWluRGF0ZTogbnVsbCxcbiAgbWF4RGF0ZTogbnVsbFxufSlcblxuLmNvbnRyb2xsZXIoJ0RhdGVwaWNrZXJDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJyRwYXJzZScsICckaW50ZXJwb2xhdGUnLCAnJHRpbWVvdXQnLCAnJGxvZycsICdkYXRlRmlsdGVyJywgJ2RhdGVwaWNrZXJDb25maWcnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgJHBhcnNlLCAkaW50ZXJwb2xhdGUsICR0aW1lb3V0LCAkbG9nLCBkYXRlRmlsdGVyLCBkYXRlcGlja2VyQ29uZmlnKSB7XG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIG5nTW9kZWxDdHJsID0geyAkc2V0Vmlld1ZhbHVlOiBhbmd1bGFyLm5vb3AgfTsgLy8gbnVsbE1vZGVsQ3RybDtcblxuICAvLyBNb2RlcyBjaGFpblxuICB0aGlzLm1vZGVzID0gWydkYXknLCAnbW9udGgnLCAneWVhciddO1xuXG4gIC8vIENvbmZpZ3VyYXRpb24gYXR0cmlidXRlc1xuICBhbmd1bGFyLmZvckVhY2goWydmb3JtYXREYXknLCAnZm9ybWF0TW9udGgnLCAnZm9ybWF0WWVhcicsICdmb3JtYXREYXlIZWFkZXInLCAnZm9ybWF0RGF5VGl0bGUnLCAnZm9ybWF0TW9udGhUaXRsZScsXG4gICAgICAgICAgICAgICAgICAgJ21pbk1vZGUnLCAnbWF4TW9kZScsICdzaG93V2Vla3MnLCAnc3RhcnRpbmdEYXknLCAneWVhclJhbmdlJ10sIGZ1bmN0aW9uKCBrZXksIGluZGV4ICkge1xuICAgIHNlbGZba2V5XSA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRyc1trZXldKSA/IChpbmRleCA8IDggPyAkaW50ZXJwb2xhdGUoJGF0dHJzW2tleV0pKCRzY29wZS4kcGFyZW50KSA6ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRyc1trZXldKSkgOiBkYXRlcGlja2VyQ29uZmlnW2tleV07XG4gIH0pO1xuXG4gIC8vIFdhdGNoYWJsZSBkYXRlIGF0dHJpYnV0ZXNcbiAgYW5ndWxhci5mb3JFYWNoKFsnbWluRGF0ZScsICdtYXhEYXRlJ10sIGZ1bmN0aW9uKCBrZXkgKSB7XG4gICAgaWYgKCAkYXR0cnNba2V5XSApIHtcbiAgICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzW2tleV0pLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBzZWxmW2tleV0gPSB2YWx1ZSA/IG5ldyBEYXRlKHZhbHVlKSA6IG51bGw7XG4gICAgICAgIHNlbGYucmVmcmVzaFZpZXcoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmW2tleV0gPSBkYXRlcGlja2VyQ29uZmlnW2tleV0gPyBuZXcgRGF0ZShkYXRlcGlja2VyQ29uZmlnW2tleV0pIDogbnVsbDtcbiAgICB9XG4gIH0pO1xuXG4gICRzY29wZS5kYXRlcGlja2VyTW9kZSA9ICRzY29wZS5kYXRlcGlja2VyTW9kZSB8fCBkYXRlcGlja2VyQ29uZmlnLmRhdGVwaWNrZXJNb2RlO1xuICAkc2NvcGUudW5pcXVlSWQgPSAnZGF0ZXBpY2tlci0nICsgJHNjb3BlLiRpZCArICctJyArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTtcbiAgdGhpcy5hY3RpdmVEYXRlID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmluaXREYXRlKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5pbml0RGF0ZSkgOiBuZXcgRGF0ZSgpO1xuXG4gICRzY29wZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKGRhdGVPYmplY3QpIHtcbiAgICBpZiAoc2VsZi5jb21wYXJlKGRhdGVPYmplY3QuZGF0ZSwgc2VsZi5hY3RpdmVEYXRlKSA9PT0gMCkge1xuICAgICAgJHNjb3BlLmFjdGl2ZURhdGVJZCA9IGRhdGVPYmplY3QudWlkO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICB0aGlzLmluaXQgPSBmdW5jdGlvbiggbmdNb2RlbEN0cmxfICkge1xuICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfO1xuXG4gICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5yZW5kZXIoKTtcbiAgICB9O1xuICB9O1xuXG4gIHRoaXMucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCBuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSApIHtcbiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoIG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlICksXG4gICAgICAgICAgaXNWYWxpZCA9ICFpc05hTihkYXRlKTtcblxuICAgICAgaWYgKCBpc1ZhbGlkICkge1xuICAgICAgICB0aGlzLmFjdGl2ZURhdGUgPSBkYXRlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGxvZy5lcnJvcignRGF0ZXBpY2tlciBkaXJlY3RpdmU6IFwibmctbW9kZWxcIiB2YWx1ZSBtdXN0IGJlIGEgRGF0ZSBvYmplY3QsIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSAwMS4wMS4xOTcwIG9yIGEgc3RyaW5nIHJlcHJlc2VudGluZyBhbiBSRkMyODIyIG9yIElTTyA4NjAxIGRhdGUuJyk7XG4gICAgICB9XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2RhdGUnLCBpc1ZhbGlkKTtcbiAgICB9XG4gICAgdGhpcy5yZWZyZXNoVmlldygpO1xuICB9O1xuXG4gIHRoaXMucmVmcmVzaFZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIHRoaXMuZWxlbWVudCApIHtcbiAgICAgIHRoaXMuX3JlZnJlc2hWaWV3KCk7XG5cbiAgICAgIHZhciBkYXRlID0gbmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUgPyBuZXcgRGF0ZShuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSkgOiBudWxsO1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCdkYXRlLWRpc2FibGVkJywgIWRhdGUgfHwgKHRoaXMuZWxlbWVudCAmJiAhdGhpcy5pc0Rpc2FibGVkKGRhdGUpKSk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuY3JlYXRlRGF0ZU9iamVjdCA9IGZ1bmN0aW9uKGRhdGUsIGZvcm1hdCkge1xuICAgIHZhciBtb2RlbCA9IG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlID8gbmV3IERhdGUobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUpIDogbnVsbDtcbiAgICByZXR1cm4ge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIGxhYmVsOiBkYXRlRmlsdGVyKGRhdGUsIGZvcm1hdCksXG4gICAgICBzZWxlY3RlZDogbW9kZWwgJiYgdGhpcy5jb21wYXJlKGRhdGUsIG1vZGVsKSA9PT0gMCxcbiAgICAgIGRpc2FibGVkOiB0aGlzLmlzRGlzYWJsZWQoZGF0ZSksXG4gICAgICBjdXJyZW50OiB0aGlzLmNvbXBhcmUoZGF0ZSwgbmV3IERhdGUoKSkgPT09IDBcbiAgICB9O1xuICB9O1xuXG4gIHRoaXMuaXNEaXNhYmxlZCA9IGZ1bmN0aW9uKCBkYXRlICkge1xuICAgIHJldHVybiAoKHRoaXMubWluRGF0ZSAmJiB0aGlzLmNvbXBhcmUoZGF0ZSwgdGhpcy5taW5EYXRlKSA8IDApIHx8ICh0aGlzLm1heERhdGUgJiYgdGhpcy5jb21wYXJlKGRhdGUsIHRoaXMubWF4RGF0ZSkgPiAwKSB8fCAoJGF0dHJzLmRhdGVEaXNhYmxlZCAmJiAkc2NvcGUuZGF0ZURpc2FibGVkKHtkYXRlOiBkYXRlLCBtb2RlOiAkc2NvcGUuZGF0ZXBpY2tlck1vZGV9KSkpO1xuICB9O1xuXG4gIC8vIFNwbGl0IGFycmF5IGludG8gc21hbGxlciBhcnJheXNcbiAgdGhpcy5zcGxpdCA9IGZ1bmN0aW9uKGFyciwgc2l6ZSkge1xuICAgIHZhciBhcnJheXMgPSBbXTtcbiAgICB3aGlsZSAoYXJyLmxlbmd0aCA+IDApIHtcbiAgICAgIGFycmF5cy5wdXNoKGFyci5zcGxpY2UoMCwgc2l6ZSkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXlzO1xuICB9O1xuXG4gICRzY29wZS5zZWxlY3QgPSBmdW5jdGlvbiggZGF0ZSApIHtcbiAgICBpZiAoICRzY29wZS5kYXRlcGlja2VyTW9kZSA9PT0gc2VsZi5taW5Nb2RlICkge1xuICAgICAgdmFyIGR0ID0gbmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUgPyBuZXcgRGF0ZSggbmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUgKSA6IG5ldyBEYXRlKDAsIDAsIDAsIDAsIDAsIDAsIDApO1xuICAgICAgZHQuc2V0RnVsbFllYXIoIGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCBkYXRlLmdldERhdGUoKSApO1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZSggZHQgKTtcbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5hY3RpdmVEYXRlID0gZGF0ZTtcbiAgICAgICRzY29wZS5kYXRlcGlja2VyTW9kZSA9IHNlbGYubW9kZXNbIHNlbGYubW9kZXMuaW5kZXhPZiggJHNjb3BlLmRhdGVwaWNrZXJNb2RlICkgLSAxIF07XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5tb3ZlID0gZnVuY3Rpb24oIGRpcmVjdGlvbiApIHtcbiAgICB2YXIgeWVhciA9IHNlbGYuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpICsgZGlyZWN0aW9uICogKHNlbGYuc3RlcC55ZWFycyB8fCAwKSxcbiAgICAgICAgbW9udGggPSBzZWxmLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSArIGRpcmVjdGlvbiAqIChzZWxmLnN0ZXAubW9udGhzIHx8IDApO1xuICAgIHNlbGYuYWN0aXZlRGF0ZS5zZXRGdWxsWWVhcih5ZWFyLCBtb250aCwgMSk7XG4gICAgc2VsZi5yZWZyZXNoVmlldygpO1xuICB9O1xuXG4gICRzY29wZS50b2dnbGVNb2RlID0gZnVuY3Rpb24oIGRpcmVjdGlvbiApIHtcbiAgICBkaXJlY3Rpb24gPSBkaXJlY3Rpb24gfHwgMTtcblxuICAgIGlmICgoJHNjb3BlLmRhdGVwaWNrZXJNb2RlID09PSBzZWxmLm1heE1vZGUgJiYgZGlyZWN0aW9uID09PSAxKSB8fCAoJHNjb3BlLmRhdGVwaWNrZXJNb2RlID09PSBzZWxmLm1pbk1vZGUgJiYgZGlyZWN0aW9uID09PSAtMSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPSBzZWxmLm1vZGVzWyBzZWxmLm1vZGVzLmluZGV4T2YoICRzY29wZS5kYXRlcGlja2VyTW9kZSApICsgZGlyZWN0aW9uIF07XG4gIH07XG5cbiAgLy8gS2V5IGV2ZW50IG1hcHBlclxuICAkc2NvcGUua2V5cyA9IHsgMTM6J2VudGVyJywgMzI6J3NwYWNlJywgMzM6J3BhZ2V1cCcsIDM0OidwYWdlZG93bicsIDM1OidlbmQnLCAzNjonaG9tZScsIDM3OidsZWZ0JywgMzg6J3VwJywgMzk6J3JpZ2h0JywgNDA6J2Rvd24nIH07XG5cbiAgdmFyIGZvY3VzRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5lbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgfSwgMCAsIGZhbHNlKTtcbiAgfTtcblxuICAvLyBMaXN0ZW4gZm9yIGZvY3VzIHJlcXVlc3RzIGZyb20gcG9wdXAgZGlyZWN0aXZlXG4gICRzY29wZS4kb24oJ2RhdGVwaWNrZXIuZm9jdXMnLCBmb2N1c0VsZW1lbnQpO1xuXG4gICRzY29wZS5rZXlkb3duID0gZnVuY3Rpb24oIGV2dCApIHtcbiAgICB2YXIga2V5ID0gJHNjb3BlLmtleXNbZXZ0LndoaWNoXTtcblxuICAgIGlmICggIWtleSB8fCBldnQuc2hpZnRLZXkgfHwgZXZ0LmFsdEtleSApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICBpZiAoa2V5ID09PSAnZW50ZXInIHx8IGtleSA9PT0gJ3NwYWNlJykge1xuICAgICAgaWYgKCBzZWxmLmlzRGlzYWJsZWQoc2VsZi5hY3RpdmVEYXRlKSkge1xuICAgICAgICByZXR1cm47IC8vIGRvIG5vdGhpbmdcbiAgICAgIH1cbiAgICAgICRzY29wZS5zZWxlY3Qoc2VsZi5hY3RpdmVEYXRlKTtcbiAgICAgIGZvY3VzRWxlbWVudCgpO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmN0cmxLZXkgJiYgKGtleSA9PT0gJ3VwJyB8fCBrZXkgPT09ICdkb3duJykpIHtcbiAgICAgICRzY29wZS50b2dnbGVNb2RlKGtleSA9PT0gJ3VwJyA/IDEgOiAtMSk7XG4gICAgICBmb2N1c0VsZW1lbnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5oYW5kbGVLZXlEb3duKGtleSwgZXZ0KTtcbiAgICAgIHNlbGYucmVmcmVzaFZpZXcoKTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSggJ2RhdGVwaWNrZXInLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sJyxcbiAgICBzY29wZToge1xuICAgICAgZGF0ZXBpY2tlck1vZGU6ICc9PycsXG4gICAgICBkYXRlRGlzYWJsZWQ6ICcmJ1xuICAgIH0sXG4gICAgcmVxdWlyZTogWydkYXRlcGlja2VyJywgJz9ebmdNb2RlbCddLFxuICAgIGNvbnRyb2xsZXI6ICdEYXRlcGlja2VyQ29udHJvbGxlcicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIGRhdGVwaWNrZXJDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIGlmICggbmdNb2RlbEN0cmwgKSB7XG4gICAgICAgIGRhdGVwaWNrZXJDdHJsLmluaXQoIG5nTW9kZWxDdHJsICk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgnZGF5cGlja2VyJywgWydkYXRlRmlsdGVyJywgZnVuY3Rpb24gKGRhdGVGaWx0ZXIpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbCcsXG4gICAgcmVxdWlyZTogJ15kYXRlcGlja2VyJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwpIHtcbiAgICAgIHNjb3BlLnNob3dXZWVrcyA9IGN0cmwuc2hvd1dlZWtzO1xuXG4gICAgICBjdHJsLnN0ZXAgPSB7IG1vbnRoczogMSB9O1xuICAgICAgY3RybC5lbGVtZW50ID0gZWxlbWVudDtcblxuICAgICAgdmFyIERBWVNfSU5fTU9OVEggPSBbMzEsIDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV07XG4gICAgICBmdW5jdGlvbiBnZXREYXlzSW5Nb250aCggeWVhciwgbW9udGggKSB7XG4gICAgICAgIHJldHVybiAoKG1vbnRoID09PSAxKSAmJiAoeWVhciAlIDQgPT09IDApICYmICgoeWVhciAlIDEwMCAhPT0gMCkgfHwgKHllYXIgJSA0MDAgPT09IDApKSkgPyAyOSA6IERBWVNfSU5fTU9OVEhbbW9udGhdO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXREYXRlcyhzdGFydERhdGUsIG4pIHtcbiAgICAgICAgdmFyIGRhdGVzID0gbmV3IEFycmF5KG4pLCBjdXJyZW50ID0gbmV3IERhdGUoc3RhcnREYXRlKSwgaSA9IDA7XG4gICAgICAgIGN1cnJlbnQuc2V0SG91cnMoMTIpOyAvLyBQcmV2ZW50IHJlcGVhdGVkIGRhdGVzIGJlY2F1c2Ugb2YgdGltZXpvbmUgYnVnXG4gICAgICAgIHdoaWxlICggaSA8IG4gKSB7XG4gICAgICAgICAgZGF0ZXNbaSsrXSA9IG5ldyBEYXRlKGN1cnJlbnQpO1xuICAgICAgICAgIGN1cnJlbnQuc2V0RGF0ZSggY3VycmVudC5nZXREYXRlKCkgKyAxICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGVzO1xuICAgICAgfVxuXG4gICAgICBjdHJsLl9yZWZyZXNoVmlldyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgeWVhciA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgIG1vbnRoID0gY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCksXG4gICAgICAgICAgZmlyc3REYXlPZk1vbnRoID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDEpLFxuICAgICAgICAgIGRpZmZlcmVuY2UgPSBjdHJsLnN0YXJ0aW5nRGF5IC0gZmlyc3REYXlPZk1vbnRoLmdldERheSgpLFxuICAgICAgICAgIG51bURpc3BsYXllZEZyb21QcmV2aW91c01vbnRoID0gKGRpZmZlcmVuY2UgPiAwKSA/IDcgLSBkaWZmZXJlbmNlIDogLSBkaWZmZXJlbmNlLFxuICAgICAgICAgIGZpcnN0RGF0ZSA9IG5ldyBEYXRlKGZpcnN0RGF5T2ZNb250aCk7XG5cbiAgICAgICAgaWYgKCBudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCA+IDAgKSB7XG4gICAgICAgICAgZmlyc3REYXRlLnNldERhdGUoIC0gbnVtRGlzcGxheWVkRnJvbVByZXZpb3VzTW9udGggKyAxICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyA0MiBpcyB0aGUgbnVtYmVyIG9mIGRheXMgb24gYSBzaXgtbW9udGggY2FsZW5kYXJcbiAgICAgICAgdmFyIGRheXMgPSBnZXREYXRlcyhmaXJzdERhdGUsIDQyKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0MjsgaSArKykge1xuICAgICAgICAgIGRheXNbaV0gPSBhbmd1bGFyLmV4dGVuZChjdHJsLmNyZWF0ZURhdGVPYmplY3QoZGF5c1tpXSwgY3RybC5mb3JtYXREYXkpLCB7XG4gICAgICAgICAgICBzZWNvbmRhcnk6IGRheXNbaV0uZ2V0TW9udGgoKSAhPT0gbW9udGgsXG4gICAgICAgICAgICB1aWQ6IHNjb3BlLnVuaXF1ZUlkICsgJy0nICsgaVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUubGFiZWxzID0gbmV3IEFycmF5KDcpO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDc7IGorKykge1xuICAgICAgICAgIHNjb3BlLmxhYmVsc1tqXSA9IHtcbiAgICAgICAgICAgIGFiYnI6IGRhdGVGaWx0ZXIoZGF5c1tqXS5kYXRlLCBjdHJsLmZvcm1hdERheUhlYWRlciksXG4gICAgICAgICAgICBmdWxsOiBkYXRlRmlsdGVyKGRheXNbal0uZGF0ZSwgJ0VFRUUnKVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS50aXRsZSA9IGRhdGVGaWx0ZXIoY3RybC5hY3RpdmVEYXRlLCBjdHJsLmZvcm1hdERheVRpdGxlKTtcbiAgICAgICAgc2NvcGUucm93cyA9IGN0cmwuc3BsaXQoZGF5cywgNyk7XG5cbiAgICAgICAgaWYgKCBzY29wZS5zaG93V2Vla3MgKSB7XG4gICAgICAgICAgc2NvcGUud2Vla051bWJlcnMgPSBbXTtcbiAgICAgICAgICB2YXIgd2Vla051bWJlciA9IGdldElTTzg2MDFXZWVrTnVtYmVyKCBzY29wZS5yb3dzWzBdWzBdLmRhdGUgKSxcbiAgICAgICAgICAgICAgbnVtV2Vla3MgPSBzY29wZS5yb3dzLmxlbmd0aDtcbiAgICAgICAgICB3aGlsZSggc2NvcGUud2Vla051bWJlcnMucHVzaCh3ZWVrTnVtYmVyKyspIDwgbnVtV2Vla3MgKSB7fVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBjdHJsLmNvbXBhcmUgPSBmdW5jdGlvbihkYXRlMSwgZGF0ZTIpIHtcbiAgICAgICAgcmV0dXJuIChuZXcgRGF0ZSggZGF0ZTEuZ2V0RnVsbFllYXIoKSwgZGF0ZTEuZ2V0TW9udGgoKSwgZGF0ZTEuZ2V0RGF0ZSgpICkgLSBuZXcgRGF0ZSggZGF0ZTIuZ2V0RnVsbFllYXIoKSwgZGF0ZTIuZ2V0TW9udGgoKSwgZGF0ZTIuZ2V0RGF0ZSgpICkgKTtcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIGdldElTTzg2MDFXZWVrTnVtYmVyKGRhdGUpIHtcbiAgICAgICAgdmFyIGNoZWNrRGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuICAgICAgICBjaGVja0RhdGUuc2V0RGF0ZShjaGVja0RhdGUuZ2V0RGF0ZSgpICsgNCAtIChjaGVja0RhdGUuZ2V0RGF5KCkgfHwgNykpOyAvLyBUaHVyc2RheVxuICAgICAgICB2YXIgdGltZSA9IGNoZWNrRGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgIGNoZWNrRGF0ZS5zZXRNb250aCgwKTsgLy8gQ29tcGFyZSB3aXRoIEphbiAxXG4gICAgICAgIGNoZWNrRGF0ZS5zZXREYXRlKDEpO1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJvdW5kKCh0aW1lIC0gY2hlY2tEYXRlKSAvIDg2NDAwMDAwKSAvIDcpICsgMTtcbiAgICAgIH1cblxuICAgICAgY3RybC5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24oIGtleSwgZXZ0ICkge1xuICAgICAgICB2YXIgZGF0ZSA9IGN0cmwuYWN0aXZlRGF0ZS5nZXREYXRlKCk7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgLSAxOyAgIC8vIHVwXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAndXAnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgLSA3OyAgIC8vIGRvd25cbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSArIDE7ICAgLy8gZG93blxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2Rvd24nKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgKyA3O1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3BhZ2V1cCcgfHwga2V5ID09PSAncGFnZWRvd24nKSB7XG4gICAgICAgICAgdmFyIG1vbnRoID0gY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCkgKyAoa2V5ID09PSAncGFnZXVwJyA/IC0gMSA6IDEpO1xuICAgICAgICAgIGN0cmwuYWN0aXZlRGF0ZS5zZXRNb250aChtb250aCwgMSk7XG4gICAgICAgICAgZGF0ZSA9IE1hdGgubWluKGdldERheXNJbk1vbnRoKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpLCBjdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSksIGRhdGUpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2hvbWUnKSB7XG4gICAgICAgICAgZGF0ZSA9IDE7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZW5kJykge1xuICAgICAgICAgIGRhdGUgPSBnZXREYXlzSW5Nb250aChjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSwgY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCkpO1xuICAgICAgICB9XG4gICAgICAgIGN0cmwuYWN0aXZlRGF0ZS5zZXREYXRlKGRhdGUpO1xuICAgICAgfTtcblxuICAgICAgY3RybC5yZWZyZXNoVmlldygpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdtb250aHBpY2tlcicsIFsnZGF0ZUZpbHRlcicsIGZ1bmN0aW9uIChkYXRlRmlsdGVyKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIvbW9udGguaHRtbCcsXG4gICAgcmVxdWlyZTogJ15kYXRlcGlja2VyJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwpIHtcbiAgICAgIGN0cmwuc3RlcCA9IHsgeWVhcnM6IDEgfTtcbiAgICAgIGN0cmwuZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgIGN0cmwuX3JlZnJlc2hWaWV3ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtb250aHMgPSBuZXcgQXJyYXkoMTIpLFxuICAgICAgICAgICAgeWVhciA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpO1xuXG4gICAgICAgIGZvciAoIHZhciBpID0gMDsgaSA8IDEyOyBpKysgKSB7XG4gICAgICAgICAgbW9udGhzW2ldID0gYW5ndWxhci5leHRlbmQoY3RybC5jcmVhdGVEYXRlT2JqZWN0KG5ldyBEYXRlKHllYXIsIGksIDEpLCBjdHJsLmZvcm1hdE1vbnRoKSwge1xuICAgICAgICAgICAgdWlkOiBzY29wZS51bmlxdWVJZCArICctJyArIGlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLnRpdGxlID0gZGF0ZUZpbHRlcihjdHJsLmFjdGl2ZURhdGUsIGN0cmwuZm9ybWF0TW9udGhUaXRsZSk7XG4gICAgICAgIHNjb3BlLnJvd3MgPSBjdHJsLnNwbGl0KG1vbnRocywgMyk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLmNvbXBhcmUgPSBmdW5jdGlvbihkYXRlMSwgZGF0ZTIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKCBkYXRlMS5nZXRGdWxsWWVhcigpLCBkYXRlMS5nZXRNb250aCgpICkgLSBuZXcgRGF0ZSggZGF0ZTIuZ2V0RnVsbFllYXIoKSwgZGF0ZTIuZ2V0TW9udGgoKSApO1xuICAgICAgfTtcblxuICAgICAgY3RybC5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24oIGtleSwgZXZ0ICkge1xuICAgICAgICB2YXIgZGF0ZSA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpO1xuXG4gICAgICAgIGlmIChrZXkgPT09ICdsZWZ0Jykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlIC0gMTsgICAvLyB1cFxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3VwJykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlIC0gMzsgICAvLyBkb3duXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgKyAxOyAgIC8vIGRvd25cbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdkb3duJykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlICsgMztcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdwYWdldXAnIHx8IGtleSA9PT0gJ3BhZ2Vkb3duJykge1xuICAgICAgICAgIHZhciB5ZWFyID0gY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkgKyAoa2V5ID09PSAncGFnZXVwJyA/IC0gMSA6IDEpO1xuICAgICAgICAgIGN0cmwuYWN0aXZlRGF0ZS5zZXRGdWxsWWVhcih5ZWFyKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdob21lJykge1xuICAgICAgICAgIGRhdGUgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2VuZCcpIHtcbiAgICAgICAgICBkYXRlID0gMTE7XG4gICAgICAgIH1cbiAgICAgICAgY3RybC5hY3RpdmVEYXRlLnNldE1vbnRoKGRhdGUpO1xuICAgICAgfTtcblxuICAgICAgY3RybC5yZWZyZXNoVmlldygpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCd5ZWFycGlja2VyJywgWydkYXRlRmlsdGVyJywgZnVuY3Rpb24gKGRhdGVGaWx0ZXIpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvZGF0ZXBpY2tlci95ZWFyLmh0bWwnLFxuICAgIHJlcXVpcmU6ICdeZGF0ZXBpY2tlcicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsKSB7XG4gICAgICB2YXIgcmFuZ2UgPSBjdHJsLnllYXJSYW5nZTtcblxuICAgICAgY3RybC5zdGVwID0geyB5ZWFyczogcmFuZ2UgfTtcbiAgICAgIGN0cmwuZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgIGZ1bmN0aW9uIGdldFN0YXJ0aW5nWWVhciggeWVhciApIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KCh5ZWFyIC0gMSkgLyByYW5nZSwgMTApICogcmFuZ2UgKyAxO1xuICAgICAgfVxuXG4gICAgICBjdHJsLl9yZWZyZXNoVmlldyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgeWVhcnMgPSBuZXcgQXJyYXkocmFuZ2UpO1xuXG4gICAgICAgIGZvciAoIHZhciBpID0gMCwgc3RhcnQgPSBnZXRTdGFydGluZ1llYXIoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkpOyBpIDwgcmFuZ2U7IGkrKyApIHtcbiAgICAgICAgICB5ZWFyc1tpXSA9IGFuZ3VsYXIuZXh0ZW5kKGN0cmwuY3JlYXRlRGF0ZU9iamVjdChuZXcgRGF0ZShzdGFydCArIGksIDAsIDEpLCBjdHJsLmZvcm1hdFllYXIpLCB7XG4gICAgICAgICAgICB1aWQ6IHNjb3BlLnVuaXF1ZUlkICsgJy0nICsgaVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUudGl0bGUgPSBbeWVhcnNbMF0ubGFiZWwsIHllYXJzW3JhbmdlIC0gMV0ubGFiZWxdLmpvaW4oJyAtICcpO1xuICAgICAgICBzY29wZS5yb3dzID0gY3RybC5zcGxpdCh5ZWFycywgNSk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLmNvbXBhcmUgPSBmdW5jdGlvbihkYXRlMSwgZGF0ZTIpIHtcbiAgICAgICAgcmV0dXJuIGRhdGUxLmdldEZ1bGxZZWFyKCkgLSBkYXRlMi5nZXRGdWxsWWVhcigpO1xuICAgICAgfTtcblxuICAgICAgY3RybC5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24oIGtleSwgZXZ0ICkge1xuICAgICAgICB2YXIgZGF0ZSA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpO1xuXG4gICAgICAgIGlmIChrZXkgPT09ICdsZWZ0Jykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlIC0gMTsgICAvLyB1cFxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3VwJykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlIC0gNTsgICAvLyBkb3duXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgKyAxOyAgIC8vIGRvd25cbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdkb3duJykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlICsgNTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdwYWdldXAnIHx8IGtleSA9PT0gJ3BhZ2Vkb3duJykge1xuICAgICAgICAgIGRhdGUgKz0gKGtleSA9PT0gJ3BhZ2V1cCcgPyAtIDEgOiAxKSAqIGN0cmwuc3RlcC55ZWFycztcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdob21lJykge1xuICAgICAgICAgIGRhdGUgPSBnZXRTdGFydGluZ1llYXIoIGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpICk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZW5kJykge1xuICAgICAgICAgIGRhdGUgPSBnZXRTdGFydGluZ1llYXIoIGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpICkgKyByYW5nZSAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgY3RybC5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKGRhdGUpO1xuICAgICAgfTtcblxuICAgICAgY3RybC5yZWZyZXNoVmlldygpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uY29uc3RhbnQoJ2RhdGVwaWNrZXJQb3B1cENvbmZpZycsIHtcbiAgZGF0ZXBpY2tlclBvcHVwOiAneXl5eS1NTS1kZCcsXG4gIGN1cnJlbnRUZXh0OiAnVG9kYXknLFxuICBjbGVhclRleHQ6ICdDbGVhcicsXG4gIGNsb3NlVGV4dDogJ0RvbmUnLFxuICBjbG9zZU9uRGF0ZVNlbGVjdGlvbjogdHJ1ZSxcbiAgYXBwZW5kVG9Cb2R5OiBmYWxzZSxcbiAgc2hvd0J1dHRvbkJhcjogdHJ1ZVxufSlcblxuLmRpcmVjdGl2ZSgnZGF0ZXBpY2tlclBvcHVwJywgWyckY29tcGlsZScsICckcGFyc2UnLCAnJGRvY3VtZW50JywgJyRwb3NpdGlvbicsICdkYXRlRmlsdGVyJywgJ2RhdGVQYXJzZXInLCAnZGF0ZXBpY2tlclBvcHVwQ29uZmlnJyxcbmZ1bmN0aW9uICgkY29tcGlsZSwgJHBhcnNlLCAkZG9jdW1lbnQsICRwb3NpdGlvbiwgZGF0ZUZpbHRlciwgZGF0ZVBhcnNlciwgZGF0ZXBpY2tlclBvcHVwQ29uZmlnKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVxdWlyZTogJ25nTW9kZWwnLFxuICAgIHNjb3BlOiB7XG4gICAgICBpc09wZW46ICc9PycsXG4gICAgICBjdXJyZW50VGV4dDogJ0AnLFxuICAgICAgY2xlYXJUZXh0OiAnQCcsXG4gICAgICBjbG9zZVRleHQ6ICdAJyxcbiAgICAgIGRhdGVEaXNhYmxlZDogJyYnXG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIG5nTW9kZWwpIHtcbiAgICAgIHZhciBkYXRlRm9ybWF0LFxuICAgICAgICAgIGNsb3NlT25EYXRlU2VsZWN0aW9uID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuY2xvc2VPbkRhdGVTZWxlY3Rpb24pID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5jbG9zZU9uRGF0ZVNlbGVjdGlvbikgOiBkYXRlcGlja2VyUG9wdXBDb25maWcuY2xvc2VPbkRhdGVTZWxlY3Rpb24sXG4gICAgICAgICAgYXBwZW5kVG9Cb2R5ID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuZGF0ZXBpY2tlckFwcGVuZFRvQm9keSkgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmRhdGVwaWNrZXJBcHBlbmRUb0JvZHkpIDogZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmFwcGVuZFRvQm9keTtcblxuICAgICAgc2NvcGUuc2hvd0J1dHRvbkJhciA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnNob3dCdXR0b25CYXIpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5zaG93QnV0dG9uQmFyKSA6IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5zaG93QnV0dG9uQmFyO1xuXG4gICAgICBzY29wZS5nZXRUZXh0ID0gZnVuY3Rpb24oIGtleSApIHtcbiAgICAgICAgcmV0dXJuIHNjb3BlW2tleSArICdUZXh0J10gfHwgZGF0ZXBpY2tlclBvcHVwQ29uZmlnW2tleSArICdUZXh0J107XG4gICAgICB9O1xuXG4gICAgICBhdHRycy4kb2JzZXJ2ZSgnZGF0ZXBpY2tlclBvcHVwJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBkYXRlRm9ybWF0ID0gdmFsdWUgfHwgZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmRhdGVwaWNrZXJQb3B1cDtcbiAgICAgICAgICBuZ01vZGVsLiRyZW5kZXIoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBwb3B1cCBlbGVtZW50IHVzZWQgdG8gZGlzcGxheSBjYWxlbmRhclxuICAgICAgdmFyIHBvcHVwRWwgPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXYgZGF0ZXBpY2tlci1wb3B1cC13cmFwPjxkaXYgZGF0ZXBpY2tlcj48L2Rpdj48L2Rpdj4nKTtcbiAgICAgIHBvcHVwRWwuYXR0cih7XG4gICAgICAgICduZy1tb2RlbCc6ICdkYXRlJyxcbiAgICAgICAgJ25nLWNoYW5nZSc6ICdkYXRlU2VsZWN0aW9uKCknXG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gY2FtZWx0b0Rhc2goIHN0cmluZyApe1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyhbQS1aXSkvZywgZnVuY3Rpb24oJDEpIHsgcmV0dXJuICctJyArICQxLnRvTG93ZXJDYXNlKCk7IH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBkYXRlcGlja2VyIGVsZW1lbnRcbiAgICAgIHZhciBkYXRlcGlja2VyRWwgPSBhbmd1bGFyLmVsZW1lbnQocG9wdXBFbC5jaGlsZHJlbigpWzBdKTtcbiAgICAgIGlmICggYXR0cnMuZGF0ZXBpY2tlck9wdGlvbnMgKSB7XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmRhdGVwaWNrZXJPcHRpb25zKSwgZnVuY3Rpb24oIHZhbHVlLCBvcHRpb24gKSB7XG4gICAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoIGNhbWVsdG9EYXNoKG9wdGlvbiksIHZhbHVlICk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBzY29wZS53YXRjaERhdGEgPSB7fTtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChbJ21pbkRhdGUnLCAnbWF4RGF0ZScsICdkYXRlcGlja2VyTW9kZSddLCBmdW5jdGlvbigga2V5ICkge1xuICAgICAgICBpZiAoIGF0dHJzW2tleV0gKSB7XG4gICAgICAgICAgdmFyIGdldEF0dHJpYnV0ZSA9ICRwYXJzZShhdHRyc1trZXldKTtcbiAgICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaChnZXRBdHRyaWJ1dGUsIGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgICAgIHNjb3BlLndhdGNoRGF0YVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoY2FtZWx0b0Rhc2goa2V5KSwgJ3dhdGNoRGF0YS4nICsga2V5KTtcblxuICAgICAgICAgIC8vIFByb3BhZ2F0ZSBjaGFuZ2VzIGZyb20gZGF0ZXBpY2tlciB0byBvdXRzaWRlXG4gICAgICAgICAgaWYgKCBrZXkgPT09ICdkYXRlcGlja2VyTW9kZScgKSB7XG4gICAgICAgICAgICB2YXIgc2V0QXR0cmlidXRlID0gZ2V0QXR0cmlidXRlLmFzc2lnbjtcbiAgICAgICAgICAgIHNjb3BlLiR3YXRjaCgnd2F0Y2hEYXRhLicgKyBrZXksIGZ1bmN0aW9uKHZhbHVlLCBvbGR2YWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoIHZhbHVlICE9PSBvbGR2YWx1ZSApIHtcbiAgICAgICAgICAgICAgICBzZXRBdHRyaWJ1dGUoc2NvcGUuJHBhcmVudCwgdmFsdWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGF0dHJzLmRhdGVEaXNhYmxlZCkge1xuICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignZGF0ZS1kaXNhYmxlZCcsICdkYXRlRGlzYWJsZWQoeyBkYXRlOiBkYXRlLCBtb2RlOiBtb2RlIH0pJyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHBhcnNlRGF0ZSh2aWV3VmFsdWUpIHtcbiAgICAgICAgaWYgKCF2aWV3VmFsdWUpIHtcbiAgICAgICAgICBuZ01vZGVsLiRzZXRWYWxpZGl0eSgnZGF0ZScsIHRydWUpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNEYXRlKHZpZXdWYWx1ZSkgJiYgIWlzTmFOKHZpZXdWYWx1ZSkpIHtcbiAgICAgICAgICBuZ01vZGVsLiRzZXRWYWxpZGl0eSgnZGF0ZScsIHRydWUpO1xuICAgICAgICAgIHJldHVybiB2aWV3VmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc1N0cmluZyh2aWV3VmFsdWUpKSB7XG4gICAgICAgICAgdmFyIGRhdGUgPSBkYXRlUGFyc2VyLnBhcnNlKHZpZXdWYWx1ZSwgZGF0ZUZvcm1hdCkgfHwgbmV3IERhdGUodmlld1ZhbHVlKTtcbiAgICAgICAgICBpZiAoaXNOYU4oZGF0ZSkpIHtcbiAgICAgICAgICAgIG5nTW9kZWwuJHNldFZhbGlkaXR5KCdkYXRlJywgZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmdNb2RlbC4kc2V0VmFsaWRpdHkoJ2RhdGUnLCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiBkYXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZ01vZGVsLiRzZXRWYWxpZGl0eSgnZGF0ZScsIGZhbHNlKTtcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBuZ01vZGVsLiRwYXJzZXJzLnVuc2hpZnQocGFyc2VEYXRlKTtcblxuICAgICAgLy8gSW5uZXIgY2hhbmdlXG4gICAgICBzY29wZS5kYXRlU2VsZWN0aW9uID0gZnVuY3Rpb24oZHQpIHtcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGR0KSkge1xuICAgICAgICAgIHNjb3BlLmRhdGUgPSBkdDtcbiAgICAgICAgfVxuICAgICAgICBuZ01vZGVsLiRzZXRWaWV3VmFsdWUoc2NvcGUuZGF0ZSk7XG4gICAgICAgIG5nTW9kZWwuJHJlbmRlcigpO1xuXG4gICAgICAgIGlmICggY2xvc2VPbkRhdGVTZWxlY3Rpb24gKSB7XG4gICAgICAgICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgZWxlbWVudFswXS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBlbGVtZW50LmJpbmQoJ2lucHV0IGNoYW5nZSBrZXl1cCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2NvcGUuZGF0ZSA9IG5nTW9kZWwuJG1vZGVsVmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIE91dHRlciBjaGFuZ2VcbiAgICAgIG5nTW9kZWwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGF0ZSA9IG5nTW9kZWwuJHZpZXdWYWx1ZSA/IGRhdGVGaWx0ZXIobmdNb2RlbC4kdmlld1ZhbHVlLCBkYXRlRm9ybWF0KSA6ICcnO1xuICAgICAgICBlbGVtZW50LnZhbChkYXRlKTtcbiAgICAgICAgc2NvcGUuZGF0ZSA9IHBhcnNlRGF0ZSggbmdNb2RlbC4kbW9kZWxWYWx1ZSApO1xuICAgICAgfTtcblxuICAgICAgdmFyIGRvY3VtZW50Q2xpY2tCaW5kID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKHNjb3BlLmlzT3BlbiAmJiBldmVudC50YXJnZXQgIT09IGVsZW1lbnRbMF0pIHtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIGtleWRvd24gPSBmdW5jdGlvbihldnQsIG5vQXBwbHkpIHtcbiAgICAgICAgc2NvcGUua2V5ZG93bihldnQpO1xuICAgICAgfTtcbiAgICAgIGVsZW1lbnQuYmluZCgna2V5ZG93bicsIGtleWRvd24pO1xuXG4gICAgICBzY29wZS5rZXlkb3duID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIGlmIChldnQud2hpY2ggPT09IDI3KSB7XG4gICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIHNjb3BlLmNsb3NlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZ0LndoaWNoID09PSA0MCAmJiAhc2NvcGUuaXNPcGVuKSB7XG4gICAgICAgICAgc2NvcGUuaXNPcGVuID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2NvcGUuJHdhdGNoKCdpc09wZW4nLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICBzY29wZS4kYnJvYWRjYXN0KCdkYXRlcGlja2VyLmZvY3VzJyk7XG4gICAgICAgICAgc2NvcGUucG9zaXRpb24gPSBhcHBlbmRUb0JvZHkgPyAkcG9zaXRpb24ub2Zmc2V0KGVsZW1lbnQpIDogJHBvc2l0aW9uLnBvc2l0aW9uKGVsZW1lbnQpO1xuICAgICAgICAgIHNjb3BlLnBvc2l0aW9uLnRvcCA9IHNjb3BlLnBvc2l0aW9uLnRvcCArIGVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0Jyk7XG5cbiAgICAgICAgICAkZG9jdW1lbnQuYmluZCgnY2xpY2snLCBkb2N1bWVudENsaWNrQmluZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGRvY3VtZW50LnVuYmluZCgnY2xpY2snLCBkb2N1bWVudENsaWNrQmluZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS5zZWxlY3QgPSBmdW5jdGlvbiggZGF0ZSApIHtcbiAgICAgICAgaWYgKGRhdGUgPT09ICd0b2RheScpIHtcbiAgICAgICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGF0ZShuZ01vZGVsLiRtb2RlbFZhbHVlKSkge1xuICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKG5nTW9kZWwuJG1vZGVsVmFsdWUpO1xuICAgICAgICAgICAgZGF0ZS5zZXRGdWxsWWVhcih0b2RheS5nZXRGdWxsWWVhcigpLCB0b2RheS5nZXRNb250aCgpLCB0b2RheS5nZXREYXRlKCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUodG9kYXkuc2V0SG91cnMoMCwgMCwgMCwgMCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzY29wZS5kYXRlU2VsZWN0aW9uKCBkYXRlICk7XG4gICAgICB9O1xuXG4gICAgICBzY29wZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgZWxlbWVudFswXS5mb2N1cygpO1xuICAgICAgfTtcblxuICAgICAgdmFyICRwb3B1cCA9ICRjb21waWxlKHBvcHVwRWwpKHNjb3BlKTtcbiAgICAgIC8vIFByZXZlbnQgalF1ZXJ5IGNhY2hlIG1lbW9yeSBsZWFrICh0ZW1wbGF0ZSBpcyBub3cgcmVkdW5kYW50IGFmdGVyIGxpbmtpbmcpXG4gICAgICBwb3B1cEVsLnJlbW92ZSgpO1xuXG4gICAgICBpZiAoIGFwcGVuZFRvQm9keSApIHtcbiAgICAgICAgJGRvY3VtZW50LmZpbmQoJ2JvZHknKS5hcHBlbmQoJHBvcHVwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuYWZ0ZXIoJHBvcHVwKTtcbiAgICAgIH1cblxuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAkcG9wdXAucmVtb3ZlKCk7XG4gICAgICAgIGVsZW1lbnQudW5iaW5kKCdrZXlkb3duJywga2V5ZG93bik7XG4gICAgICAgICRkb2N1bWVudC51bmJpbmQoJ2NsaWNrJywgZG9jdW1lbnRDbGlja0JpbmQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ2RhdGVwaWNrZXJQb3B1cFdyYXAnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDonRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbCcsXG4gICAgbGluazpmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICBlbGVtZW50LmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5kcm9wZG93bicsIFtdKVxuXG4uY29uc3RhbnQoJ2Ryb3Bkb3duQ29uZmlnJywge1xuICBvcGVuQ2xhc3M6ICdvcGVuJ1xufSlcblxuLnNlcnZpY2UoJ2Ryb3Bkb3duU2VydmljZScsIFsnJGRvY3VtZW50JywgZnVuY3Rpb24oJGRvY3VtZW50KSB7XG4gIHZhciBvcGVuU2NvcGUgPSBudWxsO1xuXG4gIHRoaXMub3BlbiA9IGZ1bmN0aW9uKCBkcm9wZG93blNjb3BlICkge1xuICAgIGlmICggIW9wZW5TY29wZSApIHtcbiAgICAgICRkb2N1bWVudC5iaW5kKCdjbGljaycsIGNsb3NlRHJvcGRvd24pO1xuICAgICAgJGRvY3VtZW50LmJpbmQoJ2tleWRvd24nLCBlc2NhcGVLZXlCaW5kKTtcbiAgICB9XG5cbiAgICBpZiAoIG9wZW5TY29wZSAmJiBvcGVuU2NvcGUgIT09IGRyb3Bkb3duU2NvcGUgKSB7XG4gICAgICAgIG9wZW5TY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBvcGVuU2NvcGUgPSBkcm9wZG93blNjb3BlO1xuICB9O1xuXG4gIHRoaXMuY2xvc2UgPSBmdW5jdGlvbiggZHJvcGRvd25TY29wZSApIHtcbiAgICBpZiAoIG9wZW5TY29wZSA9PT0gZHJvcGRvd25TY29wZSApIHtcbiAgICAgIG9wZW5TY29wZSA9IG51bGw7XG4gICAgICAkZG9jdW1lbnQudW5iaW5kKCdjbGljaycsIGNsb3NlRHJvcGRvd24pO1xuICAgICAgJGRvY3VtZW50LnVuYmluZCgna2V5ZG93bicsIGVzY2FwZUtleUJpbmQpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgY2xvc2VEcm9wZG93biA9IGZ1bmN0aW9uKCBldnQgKSB7XG4gICAgdmFyIHRvZ2dsZUVsZW1lbnQgPSBvcGVuU2NvcGUuZ2V0VG9nZ2xlRWxlbWVudCgpO1xuICAgIGlmICggZXZ0ICYmIHRvZ2dsZUVsZW1lbnQgJiYgdG9nZ2xlRWxlbWVudFswXS5jb250YWlucyhldnQudGFyZ2V0KSApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG9wZW5TY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICBvcGVuU2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGVzY2FwZUtleUJpbmQgPSBmdW5jdGlvbiggZXZ0ICkge1xuICAgIGlmICggZXZ0LndoaWNoID09PSAyNyApIHtcbiAgICAgIG9wZW5TY29wZS5mb2N1c1RvZ2dsZUVsZW1lbnQoKTtcbiAgICAgIGNsb3NlRHJvcGRvd24oKTtcbiAgICB9XG4gIH07XG59XSlcblxuLmNvbnRyb2xsZXIoJ0Ryb3Bkb3duQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICckcGFyc2UnLCAnZHJvcGRvd25Db25maWcnLCAnZHJvcGRvd25TZXJ2aWNlJywgJyRhbmltYXRlJywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsICRwYXJzZSwgZHJvcGRvd25Db25maWcsIGRyb3Bkb3duU2VydmljZSwgJGFuaW1hdGUpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgc2NvcGUgPSAkc2NvcGUuJG5ldygpLCAvLyBjcmVhdGUgYSBjaGlsZCBzY29wZSBzbyB3ZSBhcmUgbm90IHBvbGx1dGluZyBvcmlnaW5hbCBvbmVcbiAgICAgIG9wZW5DbGFzcyA9IGRyb3Bkb3duQ29uZmlnLm9wZW5DbGFzcyxcbiAgICAgIGdldElzT3BlbixcbiAgICAgIHNldElzT3BlbiA9IGFuZ3VsYXIubm9vcCxcbiAgICAgIHRvZ2dsZUludm9rZXIgPSAkYXR0cnMub25Ub2dnbGUgPyAkcGFyc2UoJGF0dHJzLm9uVG9nZ2xlKSA6IGFuZ3VsYXIubm9vcDtcblxuICB0aGlzLmluaXQgPSBmdW5jdGlvbiggZWxlbWVudCApIHtcbiAgICBzZWxmLiRlbGVtZW50ID0gZWxlbWVudDtcblxuICAgIGlmICggJGF0dHJzLmlzT3BlbiApIHtcbiAgICAgIGdldElzT3BlbiA9ICRwYXJzZSgkYXR0cnMuaXNPcGVuKTtcbiAgICAgIHNldElzT3BlbiA9IGdldElzT3Blbi5hc3NpZ247XG5cbiAgICAgICRzY29wZS4kd2F0Y2goZ2V0SXNPcGVuLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBzY29wZS5pc09wZW4gPSAhIXZhbHVlO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMudG9nZ2xlID0gZnVuY3Rpb24oIG9wZW4gKSB7XG4gICAgcmV0dXJuIHNjb3BlLmlzT3BlbiA9IGFyZ3VtZW50cy5sZW5ndGggPyAhIW9wZW4gOiAhc2NvcGUuaXNPcGVuO1xuICB9O1xuXG4gIC8vIEFsbG93IG90aGVyIGRpcmVjdGl2ZXMgdG8gd2F0Y2ggc3RhdHVzXG4gIHRoaXMuaXNPcGVuID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHNjb3BlLmlzT3BlbjtcbiAgfTtcblxuICBzY29wZS5nZXRUb2dnbGVFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHNlbGYudG9nZ2xlRWxlbWVudDtcbiAgfTtcblxuICBzY29wZS5mb2N1c1RvZ2dsZUVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIHNlbGYudG9nZ2xlRWxlbWVudCApIHtcbiAgICAgIHNlbGYudG9nZ2xlRWxlbWVudFswXS5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxuICBzY29wZS4kd2F0Y2goJ2lzT3BlbicsIGZ1bmN0aW9uKCBpc09wZW4sIHdhc09wZW4gKSB7XG4gICAgJGFuaW1hdGVbaXNPcGVuID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKHNlbGYuJGVsZW1lbnQsIG9wZW5DbGFzcyk7XG5cbiAgICBpZiAoIGlzT3BlbiApIHtcbiAgICAgIHNjb3BlLmZvY3VzVG9nZ2xlRWxlbWVudCgpO1xuICAgICAgZHJvcGRvd25TZXJ2aWNlLm9wZW4oIHNjb3BlICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRyb3Bkb3duU2VydmljZS5jbG9zZSggc2NvcGUgKTtcbiAgICB9XG5cbiAgICBzZXRJc09wZW4oJHNjb3BlLCBpc09wZW4pO1xuICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpc09wZW4pICYmIGlzT3BlbiAhPT0gd2FzT3Blbikge1xuICAgICAgdG9nZ2xlSW52b2tlcigkc2NvcGUsIHsgb3BlbjogISFpc09wZW4gfSk7XG4gICAgfVxuICB9KTtcblxuICAkc2NvcGUuJG9uKCckbG9jYXRpb25DaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24oKSB7XG4gICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gIH0pO1xuXG4gICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgc2NvcGUuJGRlc3Ryb3koKTtcbiAgfSk7XG59XSlcblxuLmRpcmVjdGl2ZSgnZHJvcGRvd24nLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0NBJyxcbiAgICBjb250cm9sbGVyOiAnRHJvcGRvd25Db250cm9sbGVyJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGRyb3Bkb3duQ3RybCkge1xuICAgICAgZHJvcGRvd25DdHJsLmluaXQoIGVsZW1lbnQgKTtcbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdkcm9wZG93blRvZ2dsZScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQ0EnLFxuICAgIHJlcXVpcmU6ICc/XmRyb3Bkb3duJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGRyb3Bkb3duQ3RybCkge1xuICAgICAgaWYgKCAhZHJvcGRvd25DdHJsICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGRyb3Bkb3duQ3RybC50b2dnbGVFbGVtZW50ID0gZWxlbWVudDtcblxuICAgICAgdmFyIHRvZ2dsZURyb3Bkb3duID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpZiAoICFlbGVtZW50Lmhhc0NsYXNzKCdkaXNhYmxlZCcpICYmICFhdHRycy5kaXNhYmxlZCApIHtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkcm9wZG93bkN0cmwudG9nZ2xlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGVsZW1lbnQuYmluZCgnY2xpY2snLCB0b2dnbGVEcm9wZG93bik7XG5cbiAgICAgIC8vIFdBSS1BUklBXG4gICAgICBlbGVtZW50LmF0dHIoeyAnYXJpYS1oYXNwb3B1cCc6IHRydWUsICdhcmlhLWV4cGFuZGVkJzogZmFsc2UgfSk7XG4gICAgICBzY29wZS4kd2F0Y2goZHJvcGRvd25DdHJsLmlzT3BlbiwgZnVuY3Rpb24oIGlzT3BlbiApIHtcbiAgICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgISFpc09wZW4pO1xuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZWxlbWVudC51bmJpbmQoJ2NsaWNrJywgdG9nZ2xlRHJvcGRvd24pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAubW9kYWwnLCBbJ3VpLmJvb3RzdHJhcC50cmFuc2l0aW9uJ10pXG5cbi8qKlxuICogQSBoZWxwZXIsIGludGVybmFsIGRhdGEgc3RydWN0dXJlIHRoYXQgYWN0cyBhcyBhIG1hcCBidXQgYWxzbyBhbGxvd3MgZ2V0dGluZyAvIHJlbW92aW5nXG4gKiBlbGVtZW50cyBpbiB0aGUgTElGTyBvcmRlclxuICovXG4gIC5mYWN0b3J5KCckJHN0YWNrZWRNYXAnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZU5ldzogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhY2sgPSBbXTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFkZDogZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goe1xuICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdldDogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBpZiAoa2V5ID09IHN0YWNrW2ldLmtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGFja1tpXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAga2V5czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBrZXlzLnB1c2goc3RhY2tbaV0ua2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBrZXlzO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgICAgfSxcbiAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHZhciBpZHggPSAtMTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKGtleSA9PSBzdGFja1tpXS5rZXkpIHtcbiAgICAgICAgICAgICAgICBpZHggPSBpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RhY2suc3BsaWNlKGlkeCwgMSlbMF07XG4gICAgICAgICAgfSxcbiAgICAgICAgICByZW1vdmVUb3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFjay5zcGxpY2Uoc3RhY2subGVuZ3RoIC0gMSwgMSlbMF07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBsZW5ndGg6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFjay5sZW5ndGg7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG4gIH0pXG5cbi8qKlxuICogQSBoZWxwZXIgZGlyZWN0aXZlIGZvciB0aGUgJG1vZGFsIHNlcnZpY2UuIEl0IGNyZWF0ZXMgYSBiYWNrZHJvcCBlbGVtZW50LlxuICovXG4gIC5kaXJlY3RpdmUoJ21vZGFsQmFja2Ryb3AnLCBbJyR0aW1lb3V0JywgZnVuY3Rpb24gKCR0aW1lb3V0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbCcsXG4gICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIHNjb3BlLmJhY2tkcm9wQ2xhc3MgPSBhdHRycy5iYWNrZHJvcENsYXNzIHx8ICcnO1xuXG4gICAgICAgIHNjb3BlLmFuaW1hdGUgPSBmYWxzZTtcblxuICAgICAgICAvL3RyaWdnZXIgQ1NTIHRyYW5zaXRpb25zXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzY29wZS5hbmltYXRlID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfV0pXG5cbiAgLmRpcmVjdGl2ZSgnbW9kYWxXaW5kb3cnLCBbJyRtb2RhbFN0YWNrJywgJyR0aW1lb3V0JywgZnVuY3Rpb24gKCRtb2RhbFN0YWNrLCAkdGltZW91dCkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIGluZGV4OiAnQCcsXG4gICAgICAgIGFuaW1hdGU6ICc9J1xuICAgICAgfSxcbiAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKHRFbGVtZW50LCB0QXR0cnMpIHtcbiAgICAgICAgcmV0dXJuIHRBdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWwnO1xuICAgICAgfSxcbiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhhdHRycy53aW5kb3dDbGFzcyB8fCAnJyk7XG4gICAgICAgIHNjb3BlLnNpemUgPSBhdHRycy5zaXplO1xuXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyB0cmlnZ2VyIENTUyB0cmFuc2l0aW9uc1xuICAgICAgICAgIHNjb3BlLmFuaW1hdGUgPSB0cnVlO1xuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQXV0by1mb2N1c2luZyBvZiBhIGZyZXNobHktb3BlbmVkIG1vZGFsIGVsZW1lbnQgY2F1c2VzIGFueSBjaGlsZCBlbGVtZW50c1xuICAgICAgICAgICAqIHdpdGggdGhlIGF1dG9mb2N1cyBhdHRyaWJ1dGUgdG8gbG9vc2UgZm9jdXMuIFRoaXMgaXMgYW4gaXNzdWUgb24gdG91Y2hcbiAgICAgICAgICAgKiBiYXNlZCBkZXZpY2VzIHdoaWNoIHdpbGwgc2hvdyBhbmQgdGhlbiBoaWRlIHRoZSBvbnNjcmVlbiBrZXlib2FyZC5cbiAgICAgICAgICAgKiBBdHRlbXB0cyB0byByZWZvY3VzIHRoZSBhdXRvZm9jdXMgZWxlbWVudCB2aWEgSmF2YVNjcmlwdCB3aWxsIG5vdCByZW9wZW5cbiAgICAgICAgICAgKiB0aGUgb25zY3JlZW4ga2V5Ym9hcmQuIEZpeGVkIGJ5IHVwZGF0ZWQgdGhlIGZvY3VzaW5nIGxvZ2ljIHRvIG9ubHkgYXV0b2ZvY3VzXG4gICAgICAgICAgICogdGhlIG1vZGFsIGVsZW1lbnQgaWYgdGhlIG1vZGFsIGRvZXMgbm90IGNvbnRhaW4gYW4gYXV0b2ZvY3VzIGVsZW1lbnQuXG4gICAgICAgICAgICovXG4gICAgICAgICAgaWYgKCFlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3JBbGwoJ1thdXRvZm9jdXNdJykubGVuZ3RoKSB7XG4gICAgICAgICAgICBlbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBzY29wZS5jbG9zZSA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICB2YXIgbW9kYWwgPSAkbW9kYWxTdGFjay5nZXRUb3AoKTtcbiAgICAgICAgICBpZiAobW9kYWwgJiYgbW9kYWwudmFsdWUuYmFja2Ryb3AgJiYgbW9kYWwudmFsdWUuYmFja2Ryb3AgIT0gJ3N0YXRpYycgJiYgKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0KSkge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAkbW9kYWxTdGFjay5kaXNtaXNzKG1vZGFsLmtleSwgJ2JhY2tkcm9wIGNsaWNrJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG4gIH1dKVxuXG4gIC5kaXJlY3RpdmUoJ21vZGFsVHJhbnNjbHVkZScsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCBjb250cm9sbGVyLCAkdHJhbnNjbHVkZSkge1xuICAgICAgICAkdHJhbnNjbHVkZSgkc2NvcGUuJHBhcmVudCwgZnVuY3Rpb24oY2xvbmUpIHtcbiAgICAgICAgICAkZWxlbWVudC5lbXB0eSgpO1xuICAgICAgICAgICRlbGVtZW50LmFwcGVuZChjbG9uZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH0pXG5cbiAgLmZhY3RvcnkoJyRtb2RhbFN0YWNrJywgWyckdHJhbnNpdGlvbicsICckdGltZW91dCcsICckZG9jdW1lbnQnLCAnJGNvbXBpbGUnLCAnJHJvb3RTY29wZScsICckJHN0YWNrZWRNYXAnLFxuICAgIGZ1bmN0aW9uICgkdHJhbnNpdGlvbiwgJHRpbWVvdXQsICRkb2N1bWVudCwgJGNvbXBpbGUsICRyb290U2NvcGUsICQkc3RhY2tlZE1hcCkge1xuXG4gICAgICB2YXIgT1BFTkVEX01PREFMX0NMQVNTID0gJ21vZGFsLW9wZW4nO1xuXG4gICAgICB2YXIgYmFja2Ryb3BEb21FbCwgYmFja2Ryb3BTY29wZTtcbiAgICAgIHZhciBvcGVuZWRXaW5kb3dzID0gJCRzdGFja2VkTWFwLmNyZWF0ZU5ldygpO1xuICAgICAgdmFyICRtb2RhbFN0YWNrID0ge307XG5cbiAgICAgIGZ1bmN0aW9uIGJhY2tkcm9wSW5kZXgoKSB7XG4gICAgICAgIHZhciB0b3BCYWNrZHJvcEluZGV4ID0gLTE7XG4gICAgICAgIHZhciBvcGVuZWQgPSBvcGVuZWRXaW5kb3dzLmtleXMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcGVuZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAob3BlbmVkV2luZG93cy5nZXQob3BlbmVkW2ldKS52YWx1ZS5iYWNrZHJvcCkge1xuICAgICAgICAgICAgdG9wQmFja2Ryb3BJbmRleCA9IGk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b3BCYWNrZHJvcEluZGV4O1xuICAgICAgfVxuXG4gICAgICAkcm9vdFNjb3BlLiR3YXRjaChiYWNrZHJvcEluZGV4LCBmdW5jdGlvbihuZXdCYWNrZHJvcEluZGV4KXtcbiAgICAgICAgaWYgKGJhY2tkcm9wU2NvcGUpIHtcbiAgICAgICAgICBiYWNrZHJvcFNjb3BlLmluZGV4ID0gbmV3QmFja2Ryb3BJbmRleDtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJlbW92ZU1vZGFsV2luZG93KG1vZGFsSW5zdGFuY2UpIHtcblxuICAgICAgICB2YXIgYm9keSA9ICRkb2N1bWVudC5maW5kKCdib2R5JykuZXEoMCk7XG4gICAgICAgIHZhciBtb2RhbFdpbmRvdyA9IG9wZW5lZFdpbmRvd3MuZ2V0KG1vZGFsSW5zdGFuY2UpLnZhbHVlO1xuXG4gICAgICAgIC8vY2xlYW4gdXAgdGhlIHN0YWNrXG4gICAgICAgIG9wZW5lZFdpbmRvd3MucmVtb3ZlKG1vZGFsSW5zdGFuY2UpO1xuXG4gICAgICAgIC8vcmVtb3ZlIHdpbmRvdyBET00gZWxlbWVudFxuICAgICAgICByZW1vdmVBZnRlckFuaW1hdGUobW9kYWxXaW5kb3cubW9kYWxEb21FbCwgbW9kYWxXaW5kb3cubW9kYWxTY29wZSwgMzAwLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBtb2RhbFdpbmRvdy5tb2RhbFNjb3BlLiRkZXN0cm95KCk7XG4gICAgICAgICAgYm9keS50b2dnbGVDbGFzcyhPUEVORURfTU9EQUxfQ0xBU1MsIG9wZW5lZFdpbmRvd3MubGVuZ3RoKCkgPiAwKTtcbiAgICAgICAgICBjaGVja1JlbW92ZUJhY2tkcm9wKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjaGVja1JlbW92ZUJhY2tkcm9wKCkge1xuICAgICAgICAgIC8vcmVtb3ZlIGJhY2tkcm9wIGlmIG5vIGxvbmdlciBuZWVkZWRcbiAgICAgICAgICBpZiAoYmFja2Ryb3BEb21FbCAmJiBiYWNrZHJvcEluZGV4KCkgPT0gLTEpIHtcbiAgICAgICAgICAgIHZhciBiYWNrZHJvcFNjb3BlUmVmID0gYmFja2Ryb3BTY29wZTtcbiAgICAgICAgICAgIHJlbW92ZUFmdGVyQW5pbWF0ZShiYWNrZHJvcERvbUVsLCBiYWNrZHJvcFNjb3BlLCAxNTAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgYmFja2Ryb3BTY29wZVJlZi4kZGVzdHJveSgpO1xuICAgICAgICAgICAgICBiYWNrZHJvcFNjb3BlUmVmID0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYmFja2Ryb3BEb21FbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGJhY2tkcm9wU2NvcGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZW1vdmVBZnRlckFuaW1hdGUoZG9tRWwsIHNjb3BlLCBlbXVsYXRlVGltZSwgZG9uZSkge1xuICAgICAgICAvLyBDbG9zaW5nIGFuaW1hdGlvblxuICAgICAgICBzY29wZS5hbmltYXRlID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIHRyYW5zaXRpb25FbmRFdmVudE5hbWUgPSAkdHJhbnNpdGlvbi50cmFuc2l0aW9uRW5kRXZlbnROYW1lO1xuICAgICAgICBpZiAodHJhbnNpdGlvbkVuZEV2ZW50TmFtZSkge1xuICAgICAgICAgIC8vIHRyYW5zaXRpb24gb3V0XG4gICAgICAgICAgdmFyIHRpbWVvdXQgPSAkdGltZW91dChhZnRlckFuaW1hdGluZywgZW11bGF0ZVRpbWUpO1xuXG4gICAgICAgICAgZG9tRWwuYmluZCh0cmFuc2l0aW9uRW5kRXZlbnROYW1lLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkdGltZW91dC5jYW5jZWwodGltZW91dCk7XG4gICAgICAgICAgICBhZnRlckFuaW1hdGluZygpO1xuICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gRW5zdXJlIHRoaXMgY2FsbCBpcyBhc3luY1xuICAgICAgICAgICR0aW1lb3V0KGFmdGVyQW5pbWF0aW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGFmdGVyQW5pbWF0aW5nKCkge1xuICAgICAgICAgIGlmIChhZnRlckFuaW1hdGluZy5kb25lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGFmdGVyQW5pbWF0aW5nLmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgZG9tRWwucmVtb3ZlKCk7XG4gICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJGRvY3VtZW50LmJpbmQoJ2tleWRvd24nLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHZhciBtb2RhbDtcblxuICAgICAgICBpZiAoZXZ0LndoaWNoID09PSAyNykge1xuICAgICAgICAgIG1vZGFsID0gb3BlbmVkV2luZG93cy50b3AoKTtcbiAgICAgICAgICBpZiAobW9kYWwgJiYgbW9kYWwudmFsdWUua2V5Ym9hcmQpIHtcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAkbW9kYWxTdGFjay5kaXNtaXNzKG1vZGFsLmtleSwgJ2VzY2FwZSBrZXkgcHJlc3MnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgICRtb2RhbFN0YWNrLm9wZW4gPSBmdW5jdGlvbiAobW9kYWxJbnN0YW5jZSwgbW9kYWwpIHtcblxuICAgICAgICBvcGVuZWRXaW5kb3dzLmFkZChtb2RhbEluc3RhbmNlLCB7XG4gICAgICAgICAgZGVmZXJyZWQ6IG1vZGFsLmRlZmVycmVkLFxuICAgICAgICAgIG1vZGFsU2NvcGU6IG1vZGFsLnNjb3BlLFxuICAgICAgICAgIGJhY2tkcm9wOiBtb2RhbC5iYWNrZHJvcCxcbiAgICAgICAgICBrZXlib2FyZDogbW9kYWwua2V5Ym9hcmRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGJvZHkgPSAkZG9jdW1lbnQuZmluZCgnYm9keScpLmVxKDApLFxuICAgICAgICAgICAgY3VyckJhY2tkcm9wSW5kZXggPSBiYWNrZHJvcEluZGV4KCk7XG5cbiAgICAgICAgaWYgKGN1cnJCYWNrZHJvcEluZGV4ID49IDAgJiYgIWJhY2tkcm9wRG9tRWwpIHtcbiAgICAgICAgICBiYWNrZHJvcFNjb3BlID0gJHJvb3RTY29wZS4kbmV3KHRydWUpO1xuICAgICAgICAgIGJhY2tkcm9wU2NvcGUuaW5kZXggPSBjdXJyQmFja2Ryb3BJbmRleDtcbiAgICAgICAgICB2YXIgYW5ndWxhckJhY2tncm91bmREb21FbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBtb2RhbC1iYWNrZHJvcD48L2Rpdj4nKTtcbiAgICAgICAgICBhbmd1bGFyQmFja2dyb3VuZERvbUVsLmF0dHIoJ2JhY2tkcm9wLWNsYXNzJywgbW9kYWwuYmFja2Ryb3BDbGFzcyk7XG4gICAgICAgICAgYmFja2Ryb3BEb21FbCA9ICRjb21waWxlKGFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwpKGJhY2tkcm9wU2NvcGUpO1xuICAgICAgICAgIGJvZHkuYXBwZW5kKGJhY2tkcm9wRG9tRWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFuZ3VsYXJEb21FbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBtb2RhbC13aW5kb3c+PC9kaXY+Jyk7XG4gICAgICAgIGFuZ3VsYXJEb21FbC5hdHRyKHtcbiAgICAgICAgICAndGVtcGxhdGUtdXJsJzogbW9kYWwud2luZG93VGVtcGxhdGVVcmwsXG4gICAgICAgICAgJ3dpbmRvdy1jbGFzcyc6IG1vZGFsLndpbmRvd0NsYXNzLFxuICAgICAgICAgICdzaXplJzogbW9kYWwuc2l6ZSxcbiAgICAgICAgICAnaW5kZXgnOiBvcGVuZWRXaW5kb3dzLmxlbmd0aCgpIC0gMSxcbiAgICAgICAgICAnYW5pbWF0ZSc6ICdhbmltYXRlJ1xuICAgICAgICB9KS5odG1sKG1vZGFsLmNvbnRlbnQpO1xuXG4gICAgICAgIHZhciBtb2RhbERvbUVsID0gJGNvbXBpbGUoYW5ndWxhckRvbUVsKShtb2RhbC5zY29wZSk7XG4gICAgICAgIG9wZW5lZFdpbmRvd3MudG9wKCkudmFsdWUubW9kYWxEb21FbCA9IG1vZGFsRG9tRWw7XG4gICAgICAgIGJvZHkuYXBwZW5kKG1vZGFsRG9tRWwpO1xuICAgICAgICBib2R5LmFkZENsYXNzKE9QRU5FRF9NT0RBTF9DTEFTUyk7XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5jbG9zZSA9IGZ1bmN0aW9uIChtb2RhbEluc3RhbmNlLCByZXN1bHQpIHtcbiAgICAgICAgdmFyIG1vZGFsV2luZG93ID0gb3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSk7XG4gICAgICAgIGlmIChtb2RhbFdpbmRvdykge1xuICAgICAgICAgIG1vZGFsV2luZG93LnZhbHVlLmRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICByZW1vdmVNb2RhbFdpbmRvdyhtb2RhbEluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgJG1vZGFsU3RhY2suZGlzbWlzcyA9IGZ1bmN0aW9uIChtb2RhbEluc3RhbmNlLCByZWFzb24pIHtcbiAgICAgICAgdmFyIG1vZGFsV2luZG93ID0gb3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSk7XG4gICAgICAgIGlmIChtb2RhbFdpbmRvdykge1xuICAgICAgICAgIG1vZGFsV2luZG93LnZhbHVlLmRlZmVycmVkLnJlamVjdChyZWFzb24pO1xuICAgICAgICAgIHJlbW92ZU1vZGFsV2luZG93KG1vZGFsSW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5kaXNtaXNzQWxsID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICB2YXIgdG9wTW9kYWwgPSB0aGlzLmdldFRvcCgpO1xuICAgICAgICB3aGlsZSAodG9wTW9kYWwpIHtcbiAgICAgICAgICB0aGlzLmRpc21pc3ModG9wTW9kYWwua2V5LCByZWFzb24pO1xuICAgICAgICAgIHRvcE1vZGFsID0gdGhpcy5nZXRUb3AoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgJG1vZGFsU3RhY2suZ2V0VG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gb3BlbmVkV2luZG93cy50b3AoKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiAkbW9kYWxTdGFjaztcbiAgICB9XSlcblxuICAucHJvdmlkZXIoJyRtb2RhbCcsIGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciAkbW9kYWxQcm92aWRlciA9IHtcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgYmFja2Ryb3A6IHRydWUsIC8vY2FuIGJlIGFsc28gZmFsc2Ugb3IgJ3N0YXRpYydcbiAgICAgICAga2V5Ym9hcmQ6IHRydWVcbiAgICAgIH0sXG4gICAgICAkZ2V0OiBbJyRpbmplY3RvcicsICckcm9vdFNjb3BlJywgJyRxJywgJyRodHRwJywgJyR0ZW1wbGF0ZUNhY2hlJywgJyRjb250cm9sbGVyJywgJyRtb2RhbFN0YWNrJyxcbiAgICAgICAgZnVuY3Rpb24gKCRpbmplY3RvciwgJHJvb3RTY29wZSwgJHEsICRodHRwLCAkdGVtcGxhdGVDYWNoZSwgJGNvbnRyb2xsZXIsICRtb2RhbFN0YWNrKSB7XG5cbiAgICAgICAgICB2YXIgJG1vZGFsID0ge307XG5cbiAgICAgICAgICBmdW5jdGlvbiBnZXRUZW1wbGF0ZVByb21pc2Uob3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMudGVtcGxhdGUgPyAkcS53aGVuKG9wdGlvbnMudGVtcGxhdGUpIDpcbiAgICAgICAgICAgICAgJGh0dHAuZ2V0KGFuZ3VsYXIuaXNGdW5jdGlvbihvcHRpb25zLnRlbXBsYXRlVXJsKSA/IChvcHRpb25zLnRlbXBsYXRlVXJsKSgpIDogb3B0aW9ucy50ZW1wbGF0ZVVybCxcbiAgICAgICAgICAgICAgICB7Y2FjaGU6ICR0ZW1wbGF0ZUNhY2hlfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIGdldFJlc29sdmVQcm9taXNlcyhyZXNvbHZlcykge1xuICAgICAgICAgICAgdmFyIHByb21pc2VzQXJyID0gW107XG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gocmVzb2x2ZXMsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHZhbHVlKSB8fCBhbmd1bGFyLmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZXNBcnIucHVzaCgkcS53aGVuKCRpbmplY3Rvci5pbnZva2UodmFsdWUpKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2VzQXJyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgICRtb2RhbC5vcGVuID0gZnVuY3Rpb24gKG1vZGFsT3B0aW9ucykge1xuXG4gICAgICAgICAgICB2YXIgbW9kYWxSZXN1bHREZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgICB2YXIgbW9kYWxPcGVuZWREZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIC8vcHJlcGFyZSBhbiBpbnN0YW5jZSBvZiBhIG1vZGFsIHRvIGJlIGluamVjdGVkIGludG8gY29udHJvbGxlcnMgYW5kIHJldHVybmVkIHRvIGEgY2FsbGVyXG4gICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9IHtcbiAgICAgICAgICAgICAgcmVzdWx0OiBtb2RhbFJlc3VsdERlZmVycmVkLnByb21pc2UsXG4gICAgICAgICAgICAgIG9wZW5lZDogbW9kYWxPcGVuZWREZWZlcnJlZC5wcm9taXNlLFxuICAgICAgICAgICAgICBjbG9zZTogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICRtb2RhbFN0YWNrLmNsb3NlKG1vZGFsSW5zdGFuY2UsIHJlc3VsdCk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGRpc21pc3M6IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICAgICAgICAkbW9kYWxTdGFjay5kaXNtaXNzKG1vZGFsSW5zdGFuY2UsIHJlYXNvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vbWVyZ2UgYW5kIGNsZWFuIHVwIG9wdGlvbnNcbiAgICAgICAgICAgIG1vZGFsT3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCAkbW9kYWxQcm92aWRlci5vcHRpb25zLCBtb2RhbE9wdGlvbnMpO1xuICAgICAgICAgICAgbW9kYWxPcHRpb25zLnJlc29sdmUgPSBtb2RhbE9wdGlvbnMucmVzb2x2ZSB8fCB7fTtcblxuICAgICAgICAgICAgLy92ZXJpZnkgb3B0aW9uc1xuICAgICAgICAgICAgaWYgKCFtb2RhbE9wdGlvbnMudGVtcGxhdGUgJiYgIW1vZGFsT3B0aW9ucy50ZW1wbGF0ZVVybCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09uZSBvZiB0ZW1wbGF0ZSBvciB0ZW1wbGF0ZVVybCBvcHRpb25zIGlzIHJlcXVpcmVkLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZSA9XG4gICAgICAgICAgICAgICRxLmFsbChbZ2V0VGVtcGxhdGVQcm9taXNlKG1vZGFsT3B0aW9ucyldLmNvbmNhdChnZXRSZXNvbHZlUHJvbWlzZXMobW9kYWxPcHRpb25zLnJlc29sdmUpKSk7XG5cblxuICAgICAgICAgICAgdGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZS50aGVuKGZ1bmN0aW9uIHJlc29sdmVTdWNjZXNzKHRwbEFuZFZhcnMpIHtcblxuICAgICAgICAgICAgICB2YXIgbW9kYWxTY29wZSA9IChtb2RhbE9wdGlvbnMuc2NvcGUgfHwgJHJvb3RTY29wZSkuJG5ldygpO1xuICAgICAgICAgICAgICBtb2RhbFNjb3BlLiRjbG9zZSA9IG1vZGFsSW5zdGFuY2UuY2xvc2U7XG4gICAgICAgICAgICAgIG1vZGFsU2NvcGUuJGRpc21pc3MgPSBtb2RhbEluc3RhbmNlLmRpc21pc3M7XG5cbiAgICAgICAgICAgICAgdmFyIGN0cmxJbnN0YW5jZSwgY3RybExvY2FscyA9IHt9O1xuICAgICAgICAgICAgICB2YXIgcmVzb2x2ZUl0ZXIgPSAxO1xuXG4gICAgICAgICAgICAgIC8vY29udHJvbGxlcnNcbiAgICAgICAgICAgICAgaWYgKG1vZGFsT3B0aW9ucy5jb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgY3RybExvY2Fscy4kc2NvcGUgPSBtb2RhbFNjb3BlO1xuICAgICAgICAgICAgICAgIGN0cmxMb2NhbHMuJG1vZGFsSW5zdGFuY2UgPSBtb2RhbEluc3RhbmNlO1xuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChtb2RhbE9wdGlvbnMucmVzb2x2ZSwgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgICAgICAgIGN0cmxMb2NhbHNba2V5XSA9IHRwbEFuZFZhcnNbcmVzb2x2ZUl0ZXIrK107XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjdHJsSW5zdGFuY2UgPSAkY29udHJvbGxlcihtb2RhbE9wdGlvbnMuY29udHJvbGxlciwgY3RybExvY2Fscyk7XG4gICAgICAgICAgICAgICAgaWYgKG1vZGFsT3B0aW9ucy5jb250cm9sbGVyQXMpIHtcbiAgICAgICAgICAgICAgICAgIG1vZGFsU2NvcGVbbW9kYWxPcHRpb25zLmNvbnRyb2xsZXJBc10gPSBjdHJsSW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgJG1vZGFsU3RhY2sub3Blbihtb2RhbEluc3RhbmNlLCB7XG4gICAgICAgICAgICAgICAgc2NvcGU6IG1vZGFsU2NvcGUsXG4gICAgICAgICAgICAgICAgZGVmZXJyZWQ6IG1vZGFsUmVzdWx0RGVmZXJyZWQsXG4gICAgICAgICAgICAgICAgY29udGVudDogdHBsQW5kVmFyc1swXSxcbiAgICAgICAgICAgICAgICBiYWNrZHJvcDogbW9kYWxPcHRpb25zLmJhY2tkcm9wLFxuICAgICAgICAgICAgICAgIGtleWJvYXJkOiBtb2RhbE9wdGlvbnMua2V5Ym9hcmQsXG4gICAgICAgICAgICAgICAgYmFja2Ryb3BDbGFzczogbW9kYWxPcHRpb25zLmJhY2tkcm9wQ2xhc3MsXG4gICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6IG1vZGFsT3B0aW9ucy53aW5kb3dDbGFzcyxcbiAgICAgICAgICAgICAgICB3aW5kb3dUZW1wbGF0ZVVybDogbW9kYWxPcHRpb25zLndpbmRvd1RlbXBsYXRlVXJsLFxuICAgICAgICAgICAgICAgIHNpemU6IG1vZGFsT3B0aW9ucy5zaXplXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiByZXNvbHZlRXJyb3IocmVhc29uKSB7XG4gICAgICAgICAgICAgIG1vZGFsUmVzdWx0RGVmZXJyZWQucmVqZWN0KHJlYXNvbik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgbW9kYWxPcGVuZWREZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBtb2RhbE9wZW5lZERlZmVycmVkLnJlamVjdChmYWxzZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIG1vZGFsSW5zdGFuY2U7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJldHVybiAkbW9kYWw7XG4gICAgICAgIH1dXG4gICAgfTtcblxuICAgIHJldHVybiAkbW9kYWxQcm92aWRlcjtcbiAgfSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAucGFnaW5hdGlvbicsIFtdKVxuXG4uY29udHJvbGxlcignUGFnaW5hdGlvbkNvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAnJHBhcnNlJywgZnVuY3Rpb24gKCRzY29wZSwgJGF0dHJzLCAkcGFyc2UpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgbmdNb2RlbEN0cmwgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9LCAvLyBudWxsTW9kZWxDdHJsXG4gICAgICBzZXROdW1QYWdlcyA9ICRhdHRycy5udW1QYWdlcyA/ICRwYXJzZSgkYXR0cnMubnVtUGFnZXMpLmFzc2lnbiA6IGFuZ3VsYXIubm9vcDtcblxuICB0aGlzLmluaXQgPSBmdW5jdGlvbihuZ01vZGVsQ3RybF8sIGNvbmZpZykge1xuICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuXG4gICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5yZW5kZXIoKTtcbiAgICB9O1xuXG4gICAgaWYgKCRhdHRycy5pdGVtc1BlclBhZ2UpIHtcbiAgICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLml0ZW1zUGVyUGFnZSksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHNlbGYuaXRlbXNQZXJQYWdlID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICAgICAgJHNjb3BlLnRvdGFsUGFnZXMgPSBzZWxmLmNhbGN1bGF0ZVRvdGFsUGFnZXMoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLml0ZW1zUGVyUGFnZSA9IGNvbmZpZy5pdGVtc1BlclBhZ2U7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuY2FsY3VsYXRlVG90YWxQYWdlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0b3RhbFBhZ2VzID0gdGhpcy5pdGVtc1BlclBhZ2UgPCAxID8gMSA6IE1hdGguY2VpbCgkc2NvcGUudG90YWxJdGVtcyAvIHRoaXMuaXRlbXNQZXJQYWdlKTtcbiAgICByZXR1cm4gTWF0aC5tYXgodG90YWxQYWdlcyB8fCAwLCAxKTtcbiAgfTtcblxuICB0aGlzLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5wYWdlID0gcGFyc2VJbnQobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSwgMTApIHx8IDE7XG4gIH07XG5cbiAgJHNjb3BlLnNlbGVjdFBhZ2UgPSBmdW5jdGlvbihwYWdlKSB7XG4gICAgaWYgKCAkc2NvcGUucGFnZSAhPT0gcGFnZSAmJiBwYWdlID4gMCAmJiBwYWdlIDw9ICRzY29wZS50b3RhbFBhZ2VzKSB7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHBhZ2UpO1xuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKCBrZXkgKSB7XG4gICAgcmV0dXJuICRzY29wZVtrZXkgKyAnVGV4dCddIHx8IHNlbGYuY29uZmlnW2tleSArICdUZXh0J107XG4gIH07XG4gICRzY29wZS5ub1ByZXZpb3VzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICRzY29wZS5wYWdlID09PSAxO1xuICB9O1xuICAkc2NvcGUubm9OZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICRzY29wZS5wYWdlID09PSAkc2NvcGUudG90YWxQYWdlcztcbiAgfTtcblxuICAkc2NvcGUuJHdhdGNoKCd0b3RhbEl0ZW1zJywgZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnRvdGFsUGFnZXMgPSBzZWxmLmNhbGN1bGF0ZVRvdGFsUGFnZXMoKTtcbiAgfSk7XG5cbiAgJHNjb3BlLiR3YXRjaCgndG90YWxQYWdlcycsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgc2V0TnVtUGFnZXMoJHNjb3BlLiRwYXJlbnQsIHZhbHVlKTsgLy8gUmVhZG9ubHkgdmFyaWFibGVcblxuICAgIGlmICggJHNjb3BlLnBhZ2UgPiB2YWx1ZSApIHtcbiAgICAgICRzY29wZS5zZWxlY3RQYWdlKHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgIH1cbiAgfSk7XG59XSlcblxuLmNvbnN0YW50KCdwYWdpbmF0aW9uQ29uZmlnJywge1xuICBpdGVtc1BlclBhZ2U6IDEwLFxuICBib3VuZGFyeUxpbmtzOiBmYWxzZSxcbiAgZGlyZWN0aW9uTGlua3M6IHRydWUsXG4gIGZpcnN0VGV4dDogJ0ZpcnN0JyxcbiAgcHJldmlvdXNUZXh0OiAnUHJldmlvdXMnLFxuICBuZXh0VGV4dDogJ05leHQnLFxuICBsYXN0VGV4dDogJ0xhc3QnLFxuICByb3RhdGU6IHRydWVcbn0pXG5cbi5kaXJlY3RpdmUoJ3BhZ2luYXRpb24nLCBbJyRwYXJzZScsICdwYWdpbmF0aW9uQ29uZmlnJywgZnVuY3Rpb24oJHBhcnNlLCBwYWdpbmF0aW9uQ29uZmlnKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgc2NvcGU6IHtcbiAgICAgIHRvdGFsSXRlbXM6ICc9JyxcbiAgICAgIGZpcnN0VGV4dDogJ0AnLFxuICAgICAgcHJldmlvdXNUZXh0OiAnQCcsXG4gICAgICBuZXh0VGV4dDogJ0AnLFxuICAgICAgbGFzdFRleHQ6ICdAJ1xuICAgIH0sXG4gICAgcmVxdWlyZTogWydwYWdpbmF0aW9uJywgJz9uZ01vZGVsJ10sXG4gICAgY29udHJvbGxlcjogJ1BhZ2luYXRpb25Db250cm9sbGVyJyxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciBwYWdpbmF0aW9uQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICBpZiAoIW5nTW9kZWxDdHJsKSB7XG4gICAgICAgICByZXR1cm47IC8vIGRvIG5vdGhpbmcgaWYgbm8gbmctbW9kZWxcbiAgICAgIH1cblxuICAgICAgLy8gU2V0dXAgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzXG4gICAgICB2YXIgbWF4U2l6ZSA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLm1heFNpemUpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5tYXhTaXplKSA6IHBhZ2luYXRpb25Db25maWcubWF4U2l6ZSxcbiAgICAgICAgICByb3RhdGUgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5yb3RhdGUpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5yb3RhdGUpIDogcGFnaW5hdGlvbkNvbmZpZy5yb3RhdGU7XG4gICAgICBzY29wZS5ib3VuZGFyeUxpbmtzID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuYm91bmRhcnlMaW5rcykgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmJvdW5kYXJ5TGlua3MpIDogcGFnaW5hdGlvbkNvbmZpZy5ib3VuZGFyeUxpbmtzO1xuICAgICAgc2NvcGUuZGlyZWN0aW9uTGlua3MgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kaXJlY3Rpb25MaW5rcykgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmRpcmVjdGlvbkxpbmtzKSA6IHBhZ2luYXRpb25Db25maWcuZGlyZWN0aW9uTGlua3M7XG5cbiAgICAgIHBhZ2luYXRpb25DdHJsLmluaXQobmdNb2RlbEN0cmwsIHBhZ2luYXRpb25Db25maWcpO1xuXG4gICAgICBpZiAoYXR0cnMubWF4U2l6ZSkge1xuICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoYXR0cnMubWF4U2l6ZSksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgbWF4U2l6ZSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgICAgcGFnaW5hdGlvbkN0cmwucmVuZGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgcGFnZSBvYmplY3QgdXNlZCBpbiB0ZW1wbGF0ZVxuICAgICAgZnVuY3Rpb24gbWFrZVBhZ2UobnVtYmVyLCB0ZXh0LCBpc0FjdGl2ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG51bWJlcjogbnVtYmVyLFxuICAgICAgICAgIHRleHQ6IHRleHQsXG4gICAgICAgICAgYWN0aXZlOiBpc0FjdGl2ZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRQYWdlcyhjdXJyZW50UGFnZSwgdG90YWxQYWdlcykge1xuICAgICAgICB2YXIgcGFnZXMgPSBbXTtcblxuICAgICAgICAvLyBEZWZhdWx0IHBhZ2UgbGltaXRzXG4gICAgICAgIHZhciBzdGFydFBhZ2UgPSAxLCBlbmRQYWdlID0gdG90YWxQYWdlcztcbiAgICAgICAgdmFyIGlzTWF4U2l6ZWQgPSAoIGFuZ3VsYXIuaXNEZWZpbmVkKG1heFNpemUpICYmIG1heFNpemUgPCB0b3RhbFBhZ2VzICk7XG5cbiAgICAgICAgLy8gcmVjb21wdXRlIGlmIG1heFNpemVcbiAgICAgICAgaWYgKCBpc01heFNpemVkICkge1xuICAgICAgICAgIGlmICggcm90YXRlICkge1xuICAgICAgICAgICAgLy8gQ3VycmVudCBwYWdlIGlzIGRpc3BsYXllZCBpbiB0aGUgbWlkZGxlIG9mIHRoZSB2aXNpYmxlIG9uZXNcbiAgICAgICAgICAgIHN0YXJ0UGFnZSA9IE1hdGgubWF4KGN1cnJlbnRQYWdlIC0gTWF0aC5mbG9vcihtYXhTaXplLzIpLCAxKTtcbiAgICAgICAgICAgIGVuZFBhZ2UgICA9IHN0YXJ0UGFnZSArIG1heFNpemUgLSAxO1xuXG4gICAgICAgICAgICAvLyBBZGp1c3QgaWYgbGltaXQgaXMgZXhjZWVkZWRcbiAgICAgICAgICAgIGlmIChlbmRQYWdlID4gdG90YWxQYWdlcykge1xuICAgICAgICAgICAgICBlbmRQYWdlICAgPSB0b3RhbFBhZ2VzO1xuICAgICAgICAgICAgICBzdGFydFBhZ2UgPSBlbmRQYWdlIC0gbWF4U2l6ZSArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFZpc2libGUgcGFnZXMgYXJlIHBhZ2luYXRlZCB3aXRoIG1heFNpemVcbiAgICAgICAgICAgIHN0YXJ0UGFnZSA9ICgoTWF0aC5jZWlsKGN1cnJlbnRQYWdlIC8gbWF4U2l6ZSkgLSAxKSAqIG1heFNpemUpICsgMTtcblxuICAgICAgICAgICAgLy8gQWRqdXN0IGxhc3QgcGFnZSBpZiBsaW1pdCBpcyBleGNlZWRlZFxuICAgICAgICAgICAgZW5kUGFnZSA9IE1hdGgubWluKHN0YXJ0UGFnZSArIG1heFNpemUgLSAxLCB0b3RhbFBhZ2VzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgcGFnZSBudW1iZXIgbGlua3NcbiAgICAgICAgZm9yICh2YXIgbnVtYmVyID0gc3RhcnRQYWdlOyBudW1iZXIgPD0gZW5kUGFnZTsgbnVtYmVyKyspIHtcbiAgICAgICAgICB2YXIgcGFnZSA9IG1ha2VQYWdlKG51bWJlciwgbnVtYmVyLCBudW1iZXIgPT09IGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICBwYWdlcy5wdXNoKHBhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIGxpbmtzIHRvIG1vdmUgYmV0d2VlbiBwYWdlIHNldHNcbiAgICAgICAgaWYgKCBpc01heFNpemVkICYmICEgcm90YXRlICkge1xuICAgICAgICAgIGlmICggc3RhcnRQYWdlID4gMSApIHtcbiAgICAgICAgICAgIHZhciBwcmV2aW91c1BhZ2VTZXQgPSBtYWtlUGFnZShzdGFydFBhZ2UgLSAxLCAnLi4uJywgZmFsc2UpO1xuICAgICAgICAgICAgcGFnZXMudW5zaGlmdChwcmV2aW91c1BhZ2VTZXQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICggZW5kUGFnZSA8IHRvdGFsUGFnZXMgKSB7XG4gICAgICAgICAgICB2YXIgbmV4dFBhZ2VTZXQgPSBtYWtlUGFnZShlbmRQYWdlICsgMSwgJy4uLicsIGZhbHNlKTtcbiAgICAgICAgICAgIHBhZ2VzLnB1c2gobmV4dFBhZ2VTZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYWdlcztcbiAgICAgIH1cblxuICAgICAgdmFyIG9yaWdpbmFsUmVuZGVyID0gcGFnaW5hdGlvbkN0cmwucmVuZGVyO1xuICAgICAgcGFnaW5hdGlvbkN0cmwucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIG9yaWdpbmFsUmVuZGVyKCk7XG4gICAgICAgIGlmIChzY29wZS5wYWdlID4gMCAmJiBzY29wZS5wYWdlIDw9IHNjb3BlLnRvdGFsUGFnZXMpIHtcbiAgICAgICAgICBzY29wZS5wYWdlcyA9IGdldFBhZ2VzKHNjb3BlLnBhZ2UsIHNjb3BlLnRvdGFsUGFnZXMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uY29uc3RhbnQoJ3BhZ2VyQ29uZmlnJywge1xuICBpdGVtc1BlclBhZ2U6IDEwLFxuICBwcmV2aW91c1RleHQ6ICfCqyBQcmV2aW91cycsXG4gIG5leHRUZXh0OiAnTmV4dCDCuycsXG4gIGFsaWduOiB0cnVlXG59KVxuXG4uZGlyZWN0aXZlKCdwYWdlcicsIFsncGFnZXJDb25maWcnLCBmdW5jdGlvbihwYWdlckNvbmZpZykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHNjb3BlOiB7XG4gICAgICB0b3RhbEl0ZW1zOiAnPScsXG4gICAgICBwcmV2aW91c1RleHQ6ICdAJyxcbiAgICAgIG5leHRUZXh0OiAnQCdcbiAgICB9LFxuICAgIHJlcXVpcmU6IFsncGFnZXInLCAnP25nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOiAnUGFnaW5hdGlvbkNvbnRyb2xsZXInLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciBwYWdpbmF0aW9uQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICBpZiAoIW5nTW9kZWxDdHJsKSB7XG4gICAgICAgICByZXR1cm47IC8vIGRvIG5vdGhpbmcgaWYgbm8gbmctbW9kZWxcbiAgICAgIH1cblxuICAgICAgc2NvcGUuYWxpZ24gPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5hbGlnbikgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmFsaWduKSA6IHBhZ2VyQ29uZmlnLmFsaWduO1xuICAgICAgcGFnaW5hdGlvbkN0cmwuaW5pdChuZ01vZGVsQ3RybCwgcGFnZXJDb25maWcpO1xuICAgIH1cbiAgfTtcbn1dKTtcblxuLyoqXG4gKiBUaGUgZm9sbG93aW5nIGZlYXR1cmVzIGFyZSBzdGlsbCBvdXRzdGFuZGluZzogYW5pbWF0aW9uIGFzIGFcbiAqIGZ1bmN0aW9uLCBwbGFjZW1lbnQgYXMgYSBmdW5jdGlvbiwgaW5zaWRlLCBzdXBwb3J0IGZvciBtb3JlIHRyaWdnZXJzIHRoYW5cbiAqIGp1c3QgbW91c2UgZW50ZXIvbGVhdmUsIGh0bWwgdG9vbHRpcHMsIGFuZCBzZWxlY3RvciBkZWxlZ2F0aW9uLlxuICovXG5hbmd1bGFyLm1vZHVsZSggJ3VpLmJvb3RzdHJhcC50b29sdGlwJywgWyAndWkuYm9vdHN0cmFwLnBvc2l0aW9uJywgJ3VpLmJvb3RzdHJhcC5iaW5kSHRtbCcgXSApXG5cbi8qKlxuICogVGhlICR0b29sdGlwIHNlcnZpY2UgY3JlYXRlcyB0b29sdGlwLSBhbmQgcG9wb3Zlci1saWtlIGRpcmVjdGl2ZXMgYXMgd2VsbCBhc1xuICogaG91c2VzIGdsb2JhbCBvcHRpb25zIGZvciB0aGVtLlxuICovXG4ucHJvdmlkZXIoICckdG9vbHRpcCcsIGZ1bmN0aW9uICgpIHtcbiAgLy8gVGhlIGRlZmF1bHQgb3B0aW9ucyB0b29sdGlwIGFuZCBwb3BvdmVyLlxuICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgcGxhY2VtZW50OiAndG9wJyxcbiAgICBhbmltYXRpb246IHRydWUsXG4gICAgcG9wdXBEZWxheTogMFxuICB9O1xuXG4gIC8vIERlZmF1bHQgaGlkZSB0cmlnZ2VycyBmb3IgZWFjaCBzaG93IHRyaWdnZXJcbiAgdmFyIHRyaWdnZXJNYXAgPSB7XG4gICAgJ21vdXNlZW50ZXInOiAnbW91c2VsZWF2ZScsXG4gICAgJ2NsaWNrJzogJ2NsaWNrJyxcbiAgICAnZm9jdXMnOiAnYmx1cidcbiAgfTtcblxuICAvLyBUaGUgb3B0aW9ucyBzcGVjaWZpZWQgdG8gdGhlIHByb3ZpZGVyIGdsb2JhbGx5LlxuICB2YXIgZ2xvYmFsT3B0aW9ucyA9IHt9O1xuXG4gIC8qKlxuICAgKiBgb3B0aW9ucyh7fSlgIGFsbG93cyBnbG9iYWwgY29uZmlndXJhdGlvbiBvZiBhbGwgdG9vbHRpcHMgaW4gdGhlXG4gICAqIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiAgIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSggJ0FwcCcsIFsndWkuYm9vdHN0cmFwLnRvb2x0aXAnXSwgZnVuY3Rpb24oICR0b29sdGlwUHJvdmlkZXIgKSB7XG4gICAqICAgICAvLyBwbGFjZSB0b29sdGlwcyBsZWZ0IGluc3RlYWQgb2YgdG9wIGJ5IGRlZmF1bHRcbiAgICogICAgICR0b29sdGlwUHJvdmlkZXIub3B0aW9ucyggeyBwbGFjZW1lbnQ6ICdsZWZ0JyB9ICk7XG4gICAqICAgfSk7XG4gICAqL1xuXHR0aGlzLm9wdGlvbnMgPSBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0YW5ndWxhci5leHRlbmQoIGdsb2JhbE9wdGlvbnMsIHZhbHVlICk7XG5cdH07XG5cbiAgLyoqXG4gICAqIFRoaXMgYWxsb3dzIHlvdSB0byBleHRlbmQgdGhlIHNldCBvZiB0cmlnZ2VyIG1hcHBpbmdzIGF2YWlsYWJsZS4gRS5nLjpcbiAgICpcbiAgICogICAkdG9vbHRpcFByb3ZpZGVyLnNldFRyaWdnZXJzKCAnb3BlblRyaWdnZXInOiAnY2xvc2VUcmlnZ2VyJyApO1xuICAgKi9cbiAgdGhpcy5zZXRUcmlnZ2VycyA9IGZ1bmN0aW9uIHNldFRyaWdnZXJzICggdHJpZ2dlcnMgKSB7XG4gICAgYW5ndWxhci5leHRlbmQoIHRyaWdnZXJNYXAsIHRyaWdnZXJzICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgYSBoZWxwZXIgZnVuY3Rpb24gZm9yIHRyYW5zbGF0aW5nIGNhbWVsLWNhc2UgdG8gc25ha2UtY2FzZS5cbiAgICovXG4gIGZ1bmN0aW9uIHNuYWtlX2Nhc2UobmFtZSl7XG4gICAgdmFyIHJlZ2V4cCA9IC9bQS1aXS9nO1xuICAgIHZhciBzZXBhcmF0b3IgPSAnLSc7XG4gICAgcmV0dXJuIG5hbWUucmVwbGFjZShyZWdleHAsIGZ1bmN0aW9uKGxldHRlciwgcG9zKSB7XG4gICAgICByZXR1cm4gKHBvcyA/IHNlcGFyYXRvciA6ICcnKSArIGxldHRlci50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGFjdHVhbCBpbnN0YW5jZSBvZiB0aGUgJHRvb2x0aXAgc2VydmljZS5cbiAgICogVE9ETyBzdXBwb3J0IG11bHRpcGxlIHRyaWdnZXJzXG4gICAqL1xuICB0aGlzLiRnZXQgPSBbICckd2luZG93JywgJyRjb21waWxlJywgJyR0aW1lb3V0JywgJyRwYXJzZScsICckZG9jdW1lbnQnLCAnJHBvc2l0aW9uJywgJyRpbnRlcnBvbGF0ZScsIGZ1bmN0aW9uICggJHdpbmRvdywgJGNvbXBpbGUsICR0aW1lb3V0LCAkcGFyc2UsICRkb2N1bWVudCwgJHBvc2l0aW9uLCAkaW50ZXJwb2xhdGUgKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICR0b29sdGlwICggdHlwZSwgcHJlZml4LCBkZWZhdWx0VHJpZ2dlclNob3cgKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKCB7fSwgZGVmYXVsdE9wdGlvbnMsIGdsb2JhbE9wdGlvbnMgKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIGFuIG9iamVjdCBvZiBzaG93IGFuZCBoaWRlIHRyaWdnZXJzLlxuICAgICAgICpcbiAgICAgICAqIElmIGEgdHJpZ2dlciBpcyBzdXBwbGllZCxcbiAgICAgICAqIGl0IGlzIHVzZWQgdG8gc2hvdyB0aGUgdG9vbHRpcDsgb3RoZXJ3aXNlLCBpdCB3aWxsIHVzZSB0aGUgYHRyaWdnZXJgXG4gICAgICAgKiBvcHRpb24gcGFzc2VkIHRvIHRoZSBgJHRvb2x0aXBQcm92aWRlci5vcHRpb25zYCBtZXRob2Q7IGVsc2UgaXQgd2lsbFxuICAgICAgICogZGVmYXVsdCB0byB0aGUgdHJpZ2dlciBzdXBwbGllZCB0byB0aGlzIGRpcmVjdGl2ZSBmYWN0b3J5LlxuICAgICAgICpcbiAgICAgICAqIFRoZSBoaWRlIHRyaWdnZXIgaXMgYmFzZWQgb24gdGhlIHNob3cgdHJpZ2dlci4gSWYgdGhlIGB0cmlnZ2VyYCBvcHRpb25cbiAgICAgICAqIHdhcyBwYXNzZWQgdG8gdGhlIGAkdG9vbHRpcFByb3ZpZGVyLm9wdGlvbnNgIG1ldGhvZCwgaXQgd2lsbCB1c2UgdGhlXG4gICAgICAgKiBtYXBwZWQgdHJpZ2dlciBmcm9tIGB0cmlnZ2VyTWFwYCBvciB0aGUgcGFzc2VkIHRyaWdnZXIgaWYgdGhlIG1hcCBpc1xuICAgICAgICogdW5kZWZpbmVkOyBvdGhlcndpc2UsIGl0IHVzZXMgdGhlIGB0cmlnZ2VyTWFwYCB2YWx1ZSBvZiB0aGUgc2hvd1xuICAgICAgICogdHJpZ2dlcjsgZWxzZSBpdCB3aWxsIGp1c3QgdXNlIHRoZSBzaG93IHRyaWdnZXIuXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGdldFRyaWdnZXJzICggdHJpZ2dlciApIHtcbiAgICAgICAgdmFyIHNob3cgPSB0cmlnZ2VyIHx8IG9wdGlvbnMudHJpZ2dlciB8fCBkZWZhdWx0VHJpZ2dlclNob3c7XG4gICAgICAgIHZhciBoaWRlID0gdHJpZ2dlck1hcFtzaG93XSB8fCBzaG93O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNob3c6IHNob3csXG4gICAgICAgICAgaGlkZTogaGlkZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICB2YXIgZGlyZWN0aXZlTmFtZSA9IHNuYWtlX2Nhc2UoIHR5cGUgKTtcblxuICAgICAgdmFyIHN0YXJ0U3ltID0gJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCk7XG4gICAgICB2YXIgZW5kU3ltID0gJGludGVycG9sYXRlLmVuZFN5bWJvbCgpO1xuICAgICAgdmFyIHRlbXBsYXRlID1cbiAgICAgICAgJzxkaXYgJysgZGlyZWN0aXZlTmFtZSArJy1wb3B1cCAnK1xuICAgICAgICAgICd0aXRsZT1cIicrc3RhcnRTeW0rJ3R0X3RpdGxlJytlbmRTeW0rJ1wiICcrXG4gICAgICAgICAgJ2NvbnRlbnQ9XCInK3N0YXJ0U3ltKyd0dF9jb250ZW50JytlbmRTeW0rJ1wiICcrXG4gICAgICAgICAgJ3BsYWNlbWVudD1cIicrc3RhcnRTeW0rJ3R0X3BsYWNlbWVudCcrZW5kU3ltKydcIiAnK1xuICAgICAgICAgICdhbmltYXRpb249XCJ0dF9hbmltYXRpb25cIiAnK1xuICAgICAgICAgICdpcy1vcGVuPVwidHRfaXNPcGVuXCInK1xuICAgICAgICAgICc+JytcbiAgICAgICAgJzwvZGl2Pic7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICBzY29wZTogdHJ1ZSxcbiAgICAgICAgY29tcGlsZTogZnVuY3Rpb24gKHRFbGVtLCB0QXR0cnMpIHtcbiAgICAgICAgICB2YXIgdG9vbHRpcExpbmtlciA9ICRjb21waWxlKCB0ZW1wbGF0ZSApO1xuXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGxpbmsgKCBzY29wZSwgZWxlbWVudCwgYXR0cnMgKSB7XG4gICAgICAgICAgICB2YXIgdG9vbHRpcDtcbiAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uVGltZW91dDtcbiAgICAgICAgICAgIHZhciBwb3B1cFRpbWVvdXQ7XG4gICAgICAgICAgICB2YXIgYXBwZW5kVG9Cb2R5ID0gYW5ndWxhci5pc0RlZmluZWQoIG9wdGlvbnMuYXBwZW5kVG9Cb2R5ICkgPyBvcHRpb25zLmFwcGVuZFRvQm9keSA6IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHRyaWdnZXJzID0gZ2V0VHJpZ2dlcnMoIHVuZGVmaW5lZCApO1xuICAgICAgICAgICAgdmFyIGhhc0VuYWJsZUV4cCA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzW3ByZWZpeCsnRW5hYmxlJ10pO1xuXG4gICAgICAgICAgICB2YXIgcG9zaXRpb25Ub29sdGlwID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgIHZhciB0dFBvc2l0aW9uID0gJHBvc2l0aW9uLnBvc2l0aW9uRWxlbWVudHMoZWxlbWVudCwgdG9vbHRpcCwgc2NvcGUudHRfcGxhY2VtZW50LCBhcHBlbmRUb0JvZHkpO1xuICAgICAgICAgICAgICB0dFBvc2l0aW9uLnRvcCArPSAncHgnO1xuICAgICAgICAgICAgICB0dFBvc2l0aW9uLmxlZnQgKz0gJ3B4JztcblxuICAgICAgICAgICAgICAvLyBOb3cgc2V0IHRoZSBjYWxjdWxhdGVkIHBvc2l0aW9uaW5nLlxuICAgICAgICAgICAgICB0b29sdGlwLmNzcyggdHRQb3NpdGlvbiApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gQnkgZGVmYXVsdCwgdGhlIHRvb2x0aXAgaXMgbm90IG9wZW4uXG4gICAgICAgICAgICAvLyBUT0RPIGFkZCBhYmlsaXR5IHRvIHN0YXJ0IHRvb2x0aXAgb3BlbmVkXG4gICAgICAgICAgICBzY29wZS50dF9pc09wZW4gPSBmYWxzZTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gdG9nZ2xlVG9vbHRpcEJpbmQgKCkge1xuICAgICAgICAgICAgICBpZiAoICEgc2NvcGUudHRfaXNPcGVuICkge1xuICAgICAgICAgICAgICAgIHNob3dUb29sdGlwQmluZCgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhpZGVUb29sdGlwQmluZCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNob3cgdGhlIHRvb2x0aXAgd2l0aCBkZWxheSBpZiBzcGVjaWZpZWQsIG90aGVyd2lzZSBzaG93IGl0IGltbWVkaWF0ZWx5XG4gICAgICAgICAgICBmdW5jdGlvbiBzaG93VG9vbHRpcEJpbmQoKSB7XG4gICAgICAgICAgICAgIGlmKGhhc0VuYWJsZUV4cCAmJiAhc2NvcGUuJGV2YWwoYXR0cnNbcHJlZml4KydFbmFibGUnXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKCBzY29wZS50dF9wb3B1cERlbGF5ICkge1xuICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmcgaWYgdGhlIHRvb2x0aXAgd2FzIGFscmVhZHkgc2NoZWR1bGVkIHRvIHBvcC11cC5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGhhcHBlbnMgaWYgc2hvdyBpcyB0cmlnZ2VyZWQgbXVsdGlwbGUgdGltZXMgYmVmb3JlIGFueSBoaWRlIGlzIHRyaWdnZXJlZC5cbiAgICAgICAgICAgICAgICBpZiAoIXBvcHVwVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgcG9wdXBUaW1lb3V0ID0gJHRpbWVvdXQoIHNob3csIHNjb3BlLnR0X3BvcHVwRGVsYXksIGZhbHNlICk7XG4gICAgICAgICAgICAgICAgICBwb3B1cFRpbWVvdXQudGhlbihmdW5jdGlvbihyZXBvc2l0aW9uKXtyZXBvc2l0aW9uKCk7fSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNob3coKSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGhpZGVUb29sdGlwQmluZCAoKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2hvdyB0aGUgdG9vbHRpcCBwb3B1cCBlbGVtZW50LlxuICAgICAgICAgICAgZnVuY3Rpb24gc2hvdygpIHtcblxuICAgICAgICAgICAgICBwb3B1cFRpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGEgcGVuZGluZyByZW1vdmUgdHJhbnNpdGlvbiwgd2UgbXVzdCBjYW5jZWwgaXQsIGxlc3QgdGhlXG4gICAgICAgICAgICAgIC8vIHRvb2x0aXAgYmUgbXlzdGVyaW91c2x5IHJlbW92ZWQuXG4gICAgICAgICAgICAgIGlmICggdHJhbnNpdGlvblRpbWVvdXQgKSB7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKCB0cmFuc2l0aW9uVGltZW91dCApO1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb25UaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIERvbid0IHNob3cgZW1wdHkgdG9vbHRpcHMuXG4gICAgICAgICAgICAgIGlmICggISBzY29wZS50dF9jb250ZW50ICkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLm5vb3A7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjcmVhdGVUb29sdGlwKCk7XG5cbiAgICAgICAgICAgICAgLy8gU2V0IHRoZSBpbml0aWFsIHBvc2l0aW9uaW5nLlxuICAgICAgICAgICAgICB0b29sdGlwLmNzcyh7IHRvcDogMCwgbGVmdDogMCwgZGlzcGxheTogJ2Jsb2NrJyB9KTtcblxuICAgICAgICAgICAgICAvLyBOb3cgd2UgYWRkIGl0IHRvIHRoZSBET00gYmVjYXVzZSBuZWVkIHNvbWUgaW5mbyBhYm91dCBpdC4gQnV0IGl0J3Mgbm90IFxuICAgICAgICAgICAgICAvLyB2aXNpYmxlIHlldCBhbnl3YXkuXG4gICAgICAgICAgICAgIGlmICggYXBwZW5kVG9Cb2R5ICkge1xuICAgICAgICAgICAgICAgICAgJGRvY3VtZW50LmZpbmQoICdib2R5JyApLmFwcGVuZCggdG9vbHRpcCApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYWZ0ZXIoIHRvb2x0aXAgKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHBvc2l0aW9uVG9vbHRpcCgpO1xuXG4gICAgICAgICAgICAgIC8vIEFuZCBzaG93IHRoZSB0b29sdGlwLlxuICAgICAgICAgICAgICBzY29wZS50dF9pc09wZW4gPSB0cnVlO1xuICAgICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7IC8vIGRpZ2VzdCByZXF1aXJlZCBhcyAkYXBwbHkgaXMgbm90IGNhbGxlZFxuXG4gICAgICAgICAgICAgIC8vIFJldHVybiBwb3NpdGlvbmluZyBmdW5jdGlvbiBhcyBwcm9taXNlIGNhbGxiYWNrIGZvciBjb3JyZWN0XG4gICAgICAgICAgICAgIC8vIHBvc2l0aW9uaW5nIGFmdGVyIGRyYXcuXG4gICAgICAgICAgICAgIHJldHVybiBwb3NpdGlvblRvb2x0aXA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEhpZGUgdGhlIHRvb2x0aXAgcG9wdXAgZWxlbWVudC5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICAgICAgICAgIC8vIEZpcnN0IHRoaW5ncyBmaXJzdDogd2UgZG9uJ3Qgc2hvdyBpdCBhbnltb3JlLlxuICAgICAgICAgICAgICBzY29wZS50dF9pc09wZW4gPSBmYWxzZTtcblxuICAgICAgICAgICAgICAvL2lmIHRvb2x0aXAgaXMgZ29pbmcgdG8gYmUgc2hvd24gYWZ0ZXIgZGVsYXksIHdlIG11c3QgY2FuY2VsIHRoaXNcbiAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKCBwb3B1cFRpbWVvdXQgKTtcbiAgICAgICAgICAgICAgcG9wdXBUaW1lb3V0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAvLyBBbmQgbm93IHdlIHJlbW92ZSBpdCBmcm9tIHRoZSBET00uIEhvd2V2ZXIsIGlmIHdlIGhhdmUgYW5pbWF0aW9uLCB3ZSBcbiAgICAgICAgICAgICAgLy8gbmVlZCB0byB3YWl0IGZvciBpdCB0byBleHBpcmUgYmVmb3JlaGFuZC5cbiAgICAgICAgICAgICAgLy8gRklYTUU6IHRoaXMgaXMgYSBwbGFjZWhvbGRlciBmb3IgYSBwb3J0IG9mIHRoZSB0cmFuc2l0aW9ucyBsaWJyYXJ5LlxuICAgICAgICAgICAgICBpZiAoIHNjb3BlLnR0X2FuaW1hdGlvbiApIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRyYW5zaXRpb25UaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uVGltZW91dCA9ICR0aW1lb3V0KHJlbW92ZVRvb2x0aXAsIDUwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbW92ZVRvb2x0aXAoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVUb29sdGlwKCkge1xuICAgICAgICAgICAgICAvLyBUaGVyZSBjYW4gb25seSBiZSBvbmUgdG9vbHRpcCBlbGVtZW50IHBlciBkaXJlY3RpdmUgc2hvd24gYXQgb25jZS5cbiAgICAgICAgICAgICAgaWYgKHRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICByZW1vdmVUb29sdGlwKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdG9vbHRpcCA9IHRvb2x0aXBMaW5rZXIoc2NvcGUsIGZ1bmN0aW9uICgpIHt9KTtcblxuICAgICAgICAgICAgICAvLyBHZXQgY29udGVudHMgcmVuZGVyZWQgaW50byB0aGUgdG9vbHRpcFxuICAgICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZVRvb2x0aXAoKSB7XG4gICAgICAgICAgICAgIHRyYW5zaXRpb25UaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgaWYgKHRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHRvb2x0aXAgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogT2JzZXJ2ZSB0aGUgcmVsZXZhbnQgYXR0cmlidXRlcy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUoIHR5cGUsIGZ1bmN0aW9uICggdmFsICkge1xuICAgICAgICAgICAgICBzY29wZS50dF9jb250ZW50ID0gdmFsO1xuXG4gICAgICAgICAgICAgIGlmICghdmFsICYmIHNjb3BlLnR0X2lzT3BlbiApIHtcbiAgICAgICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZSggcHJlZml4KydUaXRsZScsIGZ1bmN0aW9uICggdmFsICkge1xuICAgICAgICAgICAgICBzY29wZS50dF90aXRsZSA9IHZhbDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZSggcHJlZml4KydQbGFjZW1lbnQnLCBmdW5jdGlvbiAoIHZhbCApIHtcbiAgICAgICAgICAgICAgc2NvcGUudHRfcGxhY2VtZW50ID0gYW5ndWxhci5pc0RlZmluZWQoIHZhbCApID8gdmFsIDogb3B0aW9ucy5wbGFjZW1lbnQ7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUoIHByZWZpeCsnUG9wdXBEZWxheScsIGZ1bmN0aW9uICggdmFsICkge1xuICAgICAgICAgICAgICB2YXIgZGVsYXkgPSBwYXJzZUludCggdmFsLCAxMCApO1xuICAgICAgICAgICAgICBzY29wZS50dF9wb3B1cERlbGF5ID0gISBpc05hTihkZWxheSkgPyBkZWxheSA6IG9wdGlvbnMucG9wdXBEZWxheTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgdW5yZWdpc3RlclRyaWdnZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBlbGVtZW50LnVuYmluZCh0cmlnZ2Vycy5zaG93LCBzaG93VG9vbHRpcEJpbmQpO1xuICAgICAgICAgICAgICBlbGVtZW50LnVuYmluZCh0cmlnZ2Vycy5oaWRlLCBoaWRlVG9vbHRpcEJpbmQpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUoIHByZWZpeCsnVHJpZ2dlcicsIGZ1bmN0aW9uICggdmFsICkge1xuICAgICAgICAgICAgICB1bnJlZ2lzdGVyVHJpZ2dlcnMoKTtcblxuICAgICAgICAgICAgICB0cmlnZ2VycyA9IGdldFRyaWdnZXJzKCB2YWwgKTtcblxuICAgICAgICAgICAgICBpZiAoIHRyaWdnZXJzLnNob3cgPT09IHRyaWdnZXJzLmhpZGUgKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5iaW5kKCB0cmlnZ2Vycy5zaG93LCB0b2dnbGVUb29sdGlwQmluZCApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYmluZCggdHJpZ2dlcnMuc2hvdywgc2hvd1Rvb2x0aXBCaW5kICk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5iaW5kKCB0cmlnZ2Vycy5oaWRlLCBoaWRlVG9vbHRpcEJpbmQgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBzY29wZS4kZXZhbChhdHRyc1twcmVmaXggKyAnQW5pbWF0aW9uJ10pO1xuICAgICAgICAgICAgc2NvcGUudHRfYW5pbWF0aW9uID0gYW5ndWxhci5pc0RlZmluZWQoYW5pbWF0aW9uKSA/ICEhYW5pbWF0aW9uIDogb3B0aW9ucy5hbmltYXRpb247XG5cbiAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKCBwcmVmaXgrJ0FwcGVuZFRvQm9keScsIGZ1bmN0aW9uICggdmFsICkge1xuICAgICAgICAgICAgICBhcHBlbmRUb0JvZHkgPSBhbmd1bGFyLmlzRGVmaW5lZCggdmFsICkgPyAkcGFyc2UoIHZhbCApKCBzY29wZSApIDogYXBwZW5kVG9Cb2R5O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGlmIGEgdG9vbHRpcCBpcyBhdHRhY2hlZCB0byA8Ym9keT4gd2UgbmVlZCB0byByZW1vdmUgaXQgb25cbiAgICAgICAgICAgIC8vIGxvY2F0aW9uIGNoYW5nZSBhcyBpdHMgcGFyZW50IHNjb3BlIHdpbGwgcHJvYmFibHkgbm90IGJlIGRlc3Ryb3llZFxuICAgICAgICAgICAgLy8gYnkgdGhlIGNoYW5nZS5cbiAgICAgICAgICAgIGlmICggYXBwZW5kVG9Cb2R5ICkge1xuICAgICAgICAgICAgICBzY29wZS4kb24oJyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbiBjbG9zZVRvb2x0aXBPbkxvY2F0aW9uQ2hhbmdlU3VjY2VzcyAoKSB7XG4gICAgICAgICAgICAgIGlmICggc2NvcGUudHRfaXNPcGVuICkge1xuICAgICAgICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0b29sdGlwIGlzIGRlc3Ryb3llZCBhbmQgcmVtb3ZlZC5cbiAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiBvbkRlc3Ryb3lUb29sdGlwKCkge1xuICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwoIHRyYW5zaXRpb25UaW1lb3V0ICk7XG4gICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCggcG9wdXBUaW1lb3V0ICk7XG4gICAgICAgICAgICAgIHVucmVnaXN0ZXJUcmlnZ2VycygpO1xuICAgICAgICAgICAgICByZW1vdmVUb29sdGlwKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG4gIH1dO1xufSlcblxuLmRpcmVjdGl2ZSggJ3Rvb2x0aXBQb3B1cCcsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7IGNvbnRlbnQ6ICdAJywgcGxhY2VtZW50OiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXBvcHVwLmh0bWwnXG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCAndG9vbHRpcCcsIFsgJyR0b29sdGlwJywgZnVuY3Rpb24gKCAkdG9vbHRpcCApIHtcbiAgcmV0dXJuICR0b29sdGlwKCAndG9vbHRpcCcsICd0b29sdGlwJywgJ21vdXNlZW50ZXInICk7XG59XSlcblxuLmRpcmVjdGl2ZSggJ3Rvb2x0aXBIdG1sVW5zYWZlUG9wdXAnLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZTogeyBjb250ZW50OiAnQCcsIHBsYWNlbWVudDogJ0AnLCBhbmltYXRpb246ICcmJywgaXNPcGVuOiAnJicgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXVuc2FmZS1wb3B1cC5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSggJ3Rvb2x0aXBIdG1sVW5zYWZlJywgWyAnJHRvb2x0aXAnLCBmdW5jdGlvbiAoICR0b29sdGlwICkge1xuICByZXR1cm4gJHRvb2x0aXAoICd0b29sdGlwSHRtbFVuc2FmZScsICd0b29sdGlwJywgJ21vdXNlZW50ZXInICk7XG59XSk7XG5cbi8qKlxuICogVGhlIGZvbGxvd2luZyBmZWF0dXJlcyBhcmUgc3RpbGwgb3V0c3RhbmRpbmc6IHBvcHVwIGRlbGF5LCBhbmltYXRpb24gYXMgYVxuICogZnVuY3Rpb24sIHBsYWNlbWVudCBhcyBhIGZ1bmN0aW9uLCBpbnNpZGUsIHN1cHBvcnQgZm9yIG1vcmUgdHJpZ2dlcnMgdGhhblxuICoganVzdCBtb3VzZSBlbnRlci9sZWF2ZSwgaHRtbCBwb3BvdmVycywgYW5kIHNlbGVjdG9yIGRlbGVnYXRhdGlvbi5cbiAqL1xuYW5ndWxhci5tb2R1bGUoICd1aS5ib290c3RyYXAucG9wb3ZlcicsIFsgJ3VpLmJvb3RzdHJhcC50b29sdGlwJyBdIClcblxuLmRpcmVjdGl2ZSggJ3BvcG92ZXJQb3B1cCcsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7IHRpdGxlOiAnQCcsIGNvbnRlbnQ6ICdAJywgcGxhY2VtZW50OiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWwnXG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCAncG9wb3ZlcicsIFsgJyR0b29sdGlwJywgZnVuY3Rpb24gKCAkdG9vbHRpcCApIHtcbiAgcmV0dXJuICR0b29sdGlwKCAncG9wb3ZlcicsICdwb3BvdmVyJywgJ2NsaWNrJyApO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnByb2dyZXNzYmFyJywgW10pXG5cbi5jb25zdGFudCgncHJvZ3Jlc3NDb25maWcnLCB7XG4gIGFuaW1hdGU6IHRydWUsXG4gIG1heDogMTAwXG59KVxuXG4uY29udHJvbGxlcignUHJvZ3Jlc3NDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJ3Byb2dyZXNzQ29uZmlnJywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsIHByb2dyZXNzQ29uZmlnKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBhbmltYXRlID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmFuaW1hdGUpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLmFuaW1hdGUpIDogcHJvZ3Jlc3NDb25maWcuYW5pbWF0ZTtcblxuICAgIHRoaXMuYmFycyA9IFtdO1xuICAgICRzY29wZS5tYXggPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubWF4KSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tYXgpIDogcHJvZ3Jlc3NDb25maWcubWF4O1xuXG4gICAgdGhpcy5hZGRCYXIgPSBmdW5jdGlvbihiYXIsIGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCAhYW5pbWF0ZSApIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY3NzKHsndHJhbnNpdGlvbic6ICdub25lJ30pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5iYXJzLnB1c2goYmFyKTtcblxuICAgICAgICBiYXIuJHdhdGNoKCd2YWx1ZScsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcbiAgICAgICAgICAgIGJhci5wZXJjZW50ID0gKygxMDAgKiB2YWx1ZSAvICRzY29wZS5tYXgpLnRvRml4ZWQoMik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGJhci4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBlbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIHNlbGYucmVtb3ZlQmFyKGJhcik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbW92ZUJhciA9IGZ1bmN0aW9uKGJhcikge1xuICAgICAgICB0aGlzLmJhcnMuc3BsaWNlKHRoaXMuYmFycy5pbmRleE9mKGJhciksIDEpO1xuICAgIH07XG59XSlcblxuLmRpcmVjdGl2ZSgncHJvZ3Jlc3MnLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgICAgY29udHJvbGxlcjogJ1Byb2dyZXNzQ29udHJvbGxlcicsXG4gICAgICAgIHJlcXVpcmU6ICdwcm9ncmVzcycsXG4gICAgICAgIHNjb3BlOiB7fSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sJ1xuICAgIH07XG59KVxuXG4uZGlyZWN0aXZlKCdiYXInLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgICAgcmVxdWlyZTogJ15wcm9ncmVzcycsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICB2YWx1ZTogJz0nLFxuICAgICAgICAgICAgdHlwZTogJ0AnXG4gICAgICAgIH0sXG4gICAgICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWwnLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIHByb2dyZXNzQ3RybCkge1xuICAgICAgICAgICAgcHJvZ3Jlc3NDdHJsLmFkZEJhcihzY29wZSwgZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9O1xufSlcblxuLmRpcmVjdGl2ZSgncHJvZ3Jlc3NiYXInLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgICAgY29udHJvbGxlcjogJ1Byb2dyZXNzQ29udHJvbGxlcicsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICB2YWx1ZTogJz0nLFxuICAgICAgICAgICAgdHlwZTogJ0AnXG4gICAgICAgIH0sXG4gICAgICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbCcsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgcHJvZ3Jlc3NDdHJsKSB7XG4gICAgICAgICAgICBwcm9ncmVzc0N0cmwuYWRkQmFyKHNjb3BlLCBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudC5jaGlsZHJlbigpWzBdKSk7XG4gICAgICAgIH1cbiAgICB9O1xufSk7XG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnJhdGluZycsIFtdKVxuXG4uY29uc3RhbnQoJ3JhdGluZ0NvbmZpZycsIHtcbiAgbWF4OiA1LFxuICBzdGF0ZU9uOiBudWxsLFxuICBzdGF0ZU9mZjogbnVsbFxufSlcblxuLmNvbnRyb2xsZXIoJ1JhdGluZ0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAncmF0aW5nQ29uZmlnJywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsIHJhdGluZ0NvbmZpZykge1xuICB2YXIgbmdNb2RlbEN0cmwgID0geyAkc2V0Vmlld1ZhbHVlOiBhbmd1bGFyLm5vb3AgfTtcblxuICB0aGlzLmluaXQgPSBmdW5jdGlvbihuZ01vZGVsQ3RybF8pIHtcbiAgICBuZ01vZGVsQ3RybCA9IG5nTW9kZWxDdHJsXztcbiAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gdGhpcy5yZW5kZXI7XG5cbiAgICB0aGlzLnN0YXRlT24gPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuc3RhdGVPbikgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuc3RhdGVPbikgOiByYXRpbmdDb25maWcuc3RhdGVPbjtcbiAgICB0aGlzLnN0YXRlT2ZmID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnN0YXRlT2ZmKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5zdGF0ZU9mZikgOiByYXRpbmdDb25maWcuc3RhdGVPZmY7XG5cbiAgICB2YXIgcmF0aW5nU3RhdGVzID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnJhdGluZ1N0YXRlcykgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMucmF0aW5nU3RhdGVzKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgQXJyYXkoIGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5tYXgpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLm1heCkgOiByYXRpbmdDb25maWcubWF4ICk7XG4gICAgJHNjb3BlLnJhbmdlID0gdGhpcy5idWlsZFRlbXBsYXRlT2JqZWN0cyhyYXRpbmdTdGF0ZXMpO1xuICB9O1xuXG4gIHRoaXMuYnVpbGRUZW1wbGF0ZU9iamVjdHMgPSBmdW5jdGlvbihzdGF0ZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbiA9IHN0YXRlcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHN0YXRlc1tpXSA9IGFuZ3VsYXIuZXh0ZW5kKHsgaW5kZXg6IGkgfSwgeyBzdGF0ZU9uOiB0aGlzLnN0YXRlT24sIHN0YXRlT2ZmOiB0aGlzLnN0YXRlT2ZmIH0sIHN0YXRlc1tpXSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZXM7XG4gIH07XG5cbiAgJHNjb3BlLnJhdGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICggISRzY29wZS5yZWFkb25seSAmJiB2YWx1ZSA+PSAwICYmIHZhbHVlIDw9ICRzY29wZS5yYW5nZS5sZW5ndGggKSB7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHZhbHVlKTtcbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLmVudGVyID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoICEkc2NvcGUucmVhZG9ubHkgKSB7XG4gICAgICAkc2NvcGUudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgJHNjb3BlLm9uSG92ZXIoe3ZhbHVlOiB2YWx1ZX0pO1xuICB9O1xuXG4gICRzY29wZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS52YWx1ZSA9IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWU7XG4gICAgJHNjb3BlLm9uTGVhdmUoKTtcbiAgfTtcblxuICAkc2NvcGUub25LZXlkb3duID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgaWYgKC8oMzd8Mzh8Mzl8NDApLy50ZXN0KGV2dC53aGljaCkpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgJHNjb3BlLnJhdGUoICRzY29wZS52YWx1ZSArIChldnQud2hpY2ggPT09IDM4IHx8IGV2dC53aGljaCA9PT0gMzkgPyAxIDogLTEpICk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnZhbHVlID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdyYXRpbmcnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXF1aXJlOiBbJ3JhdGluZycsICduZ01vZGVsJ10sXG4gICAgc2NvcGU6IHtcbiAgICAgIHJlYWRvbmx5OiAnPT8nLFxuICAgICAgb25Ib3ZlcjogJyYnLFxuICAgICAgb25MZWF2ZTogJyYnXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiAnUmF0aW5nQ29udHJvbGxlcicsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9yYXRpbmcvcmF0aW5nLmh0bWwnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIHJhdGluZ0N0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcblxuICAgICAgaWYgKCBuZ01vZGVsQ3RybCApIHtcbiAgICAgICAgcmF0aW5nQ3RybC5pbml0KCBuZ01vZGVsQ3RybCApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn0pO1xuXG4vKipcbiAqIEBuZ2RvYyBvdmVydmlld1xuICogQG5hbWUgdWkuYm9vdHN0cmFwLnRhYnNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFuZ3VsYXJKUyB2ZXJzaW9uIG9mIHRoZSB0YWJzIGRpcmVjdGl2ZS5cbiAqL1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnRhYnMnLCBbXSlcblxuLmNvbnRyb2xsZXIoJ1RhYnNldENvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uIFRhYnNldEN0cmwoJHNjb3BlKSB7XG4gIHZhciBjdHJsID0gdGhpcyxcbiAgICAgIHRhYnMgPSBjdHJsLnRhYnMgPSAkc2NvcGUudGFicyA9IFtdO1xuXG4gIGN0cmwuc2VsZWN0ID0gZnVuY3Rpb24oc2VsZWN0ZWRUYWIpIHtcbiAgICBhbmd1bGFyLmZvckVhY2godGFicywgZnVuY3Rpb24odGFiKSB7XG4gICAgICBpZiAodGFiLmFjdGl2ZSAmJiB0YWIgIT09IHNlbGVjdGVkVGFiKSB7XG4gICAgICAgIHRhYi5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGFiLm9uRGVzZWxlY3QoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzZWxlY3RlZFRhYi5hY3RpdmUgPSB0cnVlO1xuICAgIHNlbGVjdGVkVGFiLm9uU2VsZWN0KCk7XG4gIH07XG5cbiAgY3RybC5hZGRUYWIgPSBmdW5jdGlvbiBhZGRUYWIodGFiKSB7XG4gICAgdGFicy5wdXNoKHRhYik7XG4gICAgLy8gd2UgY2FuJ3QgcnVuIHRoZSBzZWxlY3QgZnVuY3Rpb24gb24gdGhlIGZpcnN0IHRhYlxuICAgIC8vIHNpbmNlIHRoYXQgd291bGQgc2VsZWN0IGl0IHR3aWNlXG4gICAgaWYgKHRhYnMubGVuZ3RoID09PSAxKSB7XG4gICAgICB0YWIuYWN0aXZlID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHRhYi5hY3RpdmUpIHtcbiAgICAgIGN0cmwuc2VsZWN0KHRhYik7XG4gICAgfVxuICB9O1xuXG4gIGN0cmwucmVtb3ZlVGFiID0gZnVuY3Rpb24gcmVtb3ZlVGFiKHRhYikge1xuICAgIHZhciBpbmRleCA9IHRhYnMuaW5kZXhPZih0YWIpO1xuICAgIC8vU2VsZWN0IGEgbmV3IHRhYiBpZiB0aGUgdGFiIHRvIGJlIHJlbW92ZWQgaXMgc2VsZWN0ZWRcbiAgICBpZiAodGFiLmFjdGl2ZSAmJiB0YWJzLmxlbmd0aCA+IDEpIHtcbiAgICAgIC8vSWYgdGhpcyBpcyB0aGUgbGFzdCB0YWIsIHNlbGVjdCB0aGUgcHJldmlvdXMgdGFiLiBlbHNlLCB0aGUgbmV4dCB0YWIuXG4gICAgICB2YXIgbmV3QWN0aXZlSW5kZXggPSBpbmRleCA9PSB0YWJzLmxlbmd0aCAtIDEgPyBpbmRleCAtIDEgOiBpbmRleCArIDE7XG4gICAgICBjdHJsLnNlbGVjdCh0YWJzW25ld0FjdGl2ZUluZGV4XSk7XG4gICAgfVxuICAgIHRhYnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfTtcbn1dKVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWJzZXRcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGFic2V0IGlzIHRoZSBvdXRlciBjb250YWluZXIgZm9yIHRoZSB0YWJzIGRpcmVjdGl2ZVxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHZlcnRpY2FsIFdoZXRoZXIgb3Igbm90IHRvIHVzZSB2ZXJ0aWNhbCBzdHlsaW5nIGZvciB0aGUgdGFicy5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGp1c3RpZmllZCBXaGV0aGVyIG9yIG5vdCB0byB1c2UganVzdGlmaWVkIHN0eWxpbmcgZm9yIHRoZSB0YWJzLlxuICpcbiAqIEBleGFtcGxlXG48ZXhhbXBsZSBtb2R1bGU9XCJ1aS5ib290c3RyYXBcIj5cbiAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICA8dGFic2V0PlxuICAgICAgPHRhYiBoZWFkaW5nPVwiVGFiIDFcIj48Yj5GaXJzdDwvYj4gQ29udGVudCE8L3RhYj5cbiAgICAgIDx0YWIgaGVhZGluZz1cIlRhYiAyXCI+PGk+U2Vjb25kPC9pPiBDb250ZW50ITwvdGFiPlxuICAgIDwvdGFic2V0PlxuICAgIDxociAvPlxuICAgIDx0YWJzZXQgdmVydGljYWw9XCJ0cnVlXCI+XG4gICAgICA8dGFiIGhlYWRpbmc9XCJWZXJ0aWNhbCBUYWIgMVwiPjxiPkZpcnN0PC9iPiBWZXJ0aWNhbCBDb250ZW50ITwvdGFiPlxuICAgICAgPHRhYiBoZWFkaW5nPVwiVmVydGljYWwgVGFiIDJcIj48aT5TZWNvbmQ8L2k+IFZlcnRpY2FsIENvbnRlbnQhPC90YWI+XG4gICAgPC90YWJzZXQ+XG4gICAgPHRhYnNldCBqdXN0aWZpZWQ9XCJ0cnVlXCI+XG4gICAgICA8dGFiIGhlYWRpbmc9XCJKdXN0aWZpZWQgVGFiIDFcIj48Yj5GaXJzdDwvYj4gSnVzdGlmaWVkIENvbnRlbnQhPC90YWI+XG4gICAgICA8dGFiIGhlYWRpbmc9XCJKdXN0aWZpZWQgVGFiIDJcIj48aT5TZWNvbmQ8L2k+IEp1c3RpZmllZCBDb250ZW50ITwvdGFiPlxuICAgIDwvdGFic2V0PlxuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4gKi9cbi5kaXJlY3RpdmUoJ3RhYnNldCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZToge1xuICAgICAgdHlwZTogJ0AnXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiAnVGFic2V0Q29udHJvbGxlcicsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHNjb3BlLnZlcnRpY2FsID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMudmVydGljYWwpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy52ZXJ0aWNhbCkgOiBmYWxzZTtcbiAgICAgIHNjb3BlLmp1c3RpZmllZCA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmp1c3RpZmllZCkgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmp1c3RpZmllZCkgOiBmYWxzZTtcbiAgICB9XG4gIH07XG59KVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWJcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gaGVhZGluZyBUaGUgdmlzaWJsZSBoZWFkaW5nLCBvciB0aXRsZSwgb2YgdGhlIHRhYi4gU2V0IEhUTUwgaGVhZGluZ3Mgd2l0aCB7QGxpbmsgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYkhlYWRpbmcgdGFiSGVhZGluZ30uXG4gKiBAcGFyYW0ge3N0cmluZz19IHNlbGVjdCBBbiBleHByZXNzaW9uIHRvIGV2YWx1YXRlIHdoZW4gdGhlIHRhYiBpcyBzZWxlY3RlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGFjdGl2ZSBBIGJpbmRpbmcsIHRlbGxpbmcgd2hldGhlciBvciBub3QgdGhpcyB0YWIgaXMgc2VsZWN0ZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBkaXNhYmxlZCBBIGJpbmRpbmcsIHRlbGxpbmcgd2hldGhlciBvciBub3QgdGhpcyB0YWIgaXMgZGlzYWJsZWQuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgdGFiIHdpdGggYSBoZWFkaW5nIGFuZCBjb250ZW50LiBNdXN0IGJlIHBsYWNlZCB3aXRoaW4gYSB7QGxpbmsgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYnNldCB0YWJzZXR9LlxuICpcbiAqIEBleGFtcGxlXG48ZXhhbXBsZSBtb2R1bGU9XCJ1aS5ib290c3RyYXBcIj5cbiAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJUYWJzRGVtb0N0cmxcIj5cbiAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtYWxsXCIgbmctY2xpY2s9XCJpdGVtc1swXS5hY3RpdmUgPSB0cnVlXCI+XG4gICAgICAgIFNlbGVjdCBpdGVtIDEsIHVzaW5nIGFjdGl2ZSBiaW5kaW5nXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtYWxsXCIgbmctY2xpY2s9XCJpdGVtc1sxXS5kaXNhYmxlZCA9ICFpdGVtc1sxXS5kaXNhYmxlZFwiPlxuICAgICAgICBFbmFibGUvZGlzYWJsZSBpdGVtIDIsIHVzaW5nIGRpc2FibGVkIGJpbmRpbmdcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGJyIC8+XG4gICAgICA8dGFic2V0PlxuICAgICAgICA8dGFiIGhlYWRpbmc9XCJUYWIgMVwiPkZpcnN0IFRhYjwvdGFiPlxuICAgICAgICA8dGFiIHNlbGVjdD1cImFsZXJ0TWUoKVwiPlxuICAgICAgICAgIDx0YWItaGVhZGluZz48aSBjbGFzcz1cImljb24tYmVsbFwiPjwvaT4gQWxlcnQgbWUhPC90YWItaGVhZGluZz5cbiAgICAgICAgICBTZWNvbmQgVGFiLCB3aXRoIGFsZXJ0IGNhbGxiYWNrIGFuZCBodG1sIGhlYWRpbmchXG4gICAgICAgIDwvdGFiPlxuICAgICAgICA8dGFiIG5nLXJlcGVhdD1cIml0ZW0gaW4gaXRlbXNcIlxuICAgICAgICAgIGhlYWRpbmc9XCJ7e2l0ZW0udGl0bGV9fVwiXG4gICAgICAgICAgZGlzYWJsZWQ9XCJpdGVtLmRpc2FibGVkXCJcbiAgICAgICAgICBhY3RpdmU9XCJpdGVtLmFjdGl2ZVwiPlxuICAgICAgICAgIHt7aXRlbS5jb250ZW50fX1cbiAgICAgICAgPC90YWI+XG4gICAgICA8L3RhYnNldD5cbiAgICA8L2Rpdj5cbiAgPC9maWxlPlxuICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgZnVuY3Rpb24gVGFic0RlbW9DdHJsKCRzY29wZSkge1xuICAgICAgJHNjb3BlLml0ZW1zID0gW1xuICAgICAgICB7IHRpdGxlOlwiRHluYW1pYyBUaXRsZSAxXCIsIGNvbnRlbnQ6XCJEeW5hbWljIEl0ZW0gMFwiIH0sXG4gICAgICAgIHsgdGl0bGU6XCJEeW5hbWljIFRpdGxlIDJcIiwgY29udGVudDpcIkR5bmFtaWMgSXRlbSAxXCIsIGRpc2FibGVkOiB0cnVlIH1cbiAgICAgIF07XG5cbiAgICAgICRzY29wZS5hbGVydE1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgYWxlcnQoXCJZb3UndmUgc2VsZWN0ZWQgdGhlIGFsZXJ0IHRhYiFcIik7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9O1xuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFiSGVhZGluZ1xuICogQHJlc3RyaWN0IEVBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGFuIEhUTUwgaGVhZGluZyBmb3IgYSB7QGxpbmsgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYiB0YWJ9LiBNdXN0IGJlIHBsYWNlZCBhcyBhIGNoaWxkIG9mIGEgdGFiIGVsZW1lbnQuXG4gKlxuICogQGV4YW1wbGVcbjxleGFtcGxlIG1vZHVsZT1cInVpLmJvb3RzdHJhcFwiPlxuICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgIDx0YWJzZXQ+XG4gICAgICA8dGFiPlxuICAgICAgICA8dGFiLWhlYWRpbmc+PGI+SFRNTDwvYj4gaW4gbXkgdGl0bGVzPyE8L3RhYi1oZWFkaW5nPlxuICAgICAgICBBbmQgc29tZSBjb250ZW50LCB0b28hXG4gICAgICA8L3RhYj5cbiAgICAgIDx0YWI+XG4gICAgICAgIDx0YWItaGVhZGluZz48aSBjbGFzcz1cImljb24taGVhcnRcIj48L2k+IEljb24gaGVhZGluZz8hPzwvdGFiLWhlYWRpbmc+XG4gICAgICAgIFRoYXQncyByaWdodC5cbiAgICAgIDwvdGFiPlxuICAgIDwvdGFic2V0PlxuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4gKi9cbi5kaXJlY3RpdmUoJ3RhYicsIFsnJHBhcnNlJywgZnVuY3Rpb24oJHBhcnNlKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogJ150YWJzZXQnLFxuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90YWJzL3RhYi5odG1sJyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHNjb3BlOiB7XG4gICAgICBhY3RpdmU6ICc9PycsXG4gICAgICBoZWFkaW5nOiAnQCcsXG4gICAgICBvblNlbGVjdDogJyZzZWxlY3QnLCAvL1RoaXMgY2FsbGJhY2sgaXMgY2FsbGVkIGluIGNvbnRlbnRIZWFkaW5nVHJhbnNjbHVkZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvL29uY2UgaXQgaW5zZXJ0cyB0aGUgdGFiJ3MgY29udGVudCBpbnRvIHRoZSBkb21cbiAgICAgIG9uRGVzZWxlY3Q6ICcmZGVzZWxlY3QnXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIC8vRW1wdHkgY29udHJvbGxlciBzbyBvdGhlciBkaXJlY3RpdmVzIGNhbiByZXF1aXJlIGJlaW5nICd1bmRlcicgYSB0YWJcbiAgICB9LFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsbSwgYXR0cnMsIHRyYW5zY2x1ZGUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxtLCBhdHRycywgdGFic2V0Q3RybCkge1xuICAgICAgICBzY29wZS4kd2F0Y2goJ2FjdGl2ZScsIGZ1bmN0aW9uKGFjdGl2ZSkge1xuICAgICAgICAgIGlmIChhY3RpdmUpIHtcbiAgICAgICAgICAgIHRhYnNldEN0cmwuc2VsZWN0KHNjb3BlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNjb3BlLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIGlmICggYXR0cnMuZGlzYWJsZWQgKSB7XG4gICAgICAgICAgc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKGF0dHJzLmRpc2FibGVkKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHNjb3BlLmRpc2FibGVkID0gISEgdmFsdWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS5zZWxlY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoICFzY29wZS5kaXNhYmxlZCApIHtcbiAgICAgICAgICAgIHNjb3BlLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRhYnNldEN0cmwuYWRkVGFiKHNjb3BlKTtcbiAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRhYnNldEN0cmwucmVtb3ZlVGFiKHNjb3BlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9XZSBuZWVkIHRvIHRyYW5zY2x1ZGUgbGF0ZXIsIG9uY2UgdGhlIGNvbnRlbnQgY29udGFpbmVyIGlzIHJlYWR5LlxuICAgICAgICAvL3doZW4gdGhpcyBsaW5rIGhhcHBlbnMsIHdlJ3JlIGluc2lkZSBhIHRhYiBoZWFkaW5nLlxuICAgICAgICBzY29wZS4kdHJhbnNjbHVkZUZuID0gdHJhbnNjbHVkZTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ3RhYkhlYWRpbmdUcmFuc2NsdWRlJywgW2Z1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJ150YWInLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbG0sIGF0dHJzLCB0YWJDdHJsKSB7XG4gICAgICBzY29wZS4kd2F0Y2goJ2hlYWRpbmdFbGVtZW50JywgZnVuY3Rpb24gdXBkYXRlSGVhZGluZ0VsZW1lbnQoaGVhZGluZykge1xuICAgICAgICBpZiAoaGVhZGluZykge1xuICAgICAgICAgIGVsbS5odG1sKCcnKTtcbiAgICAgICAgICBlbG0uYXBwZW5kKGhlYWRpbmcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgndGFiQ29udGVudFRyYW5zY2x1ZGUnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICdedGFic2V0JyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRycykge1xuICAgICAgdmFyIHRhYiA9IHNjb3BlLiRldmFsKGF0dHJzLnRhYkNvbnRlbnRUcmFuc2NsdWRlKTtcblxuICAgICAgLy9Ob3cgb3VyIHRhYiBpcyByZWFkeSB0byBiZSB0cmFuc2NsdWRlZDogYm90aCB0aGUgdGFiIGhlYWRpbmcgYXJlYVxuICAgICAgLy9hbmQgdGhlIHRhYiBjb250ZW50IGFyZWEgYXJlIGxvYWRlZC4gIFRyYW5zY2x1ZGUgJ2VtIGJvdGguXG4gICAgICB0YWIuJHRyYW5zY2x1ZGVGbih0YWIuJHBhcmVudCwgZnVuY3Rpb24oY29udGVudHMpIHtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKGNvbnRlbnRzLCBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgaWYgKGlzVGFiSGVhZGluZyhub2RlKSkge1xuICAgICAgICAgICAgLy9MZXQgdGFiSGVhZGluZ1RyYW5zY2x1ZGUga25vdy5cbiAgICAgICAgICAgIHRhYi5oZWFkaW5nRWxlbWVudCA9IG5vZGU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsbS5hcHBlbmQobm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgZnVuY3Rpb24gaXNUYWJIZWFkaW5nKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS50YWdOYW1lICYmICAoXG4gICAgICBub2RlLmhhc0F0dHJpYnV0ZSgndGFiLWhlYWRpbmcnKSB8fFxuICAgICAgbm9kZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtdGFiLWhlYWRpbmcnKSB8fFxuICAgICAgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICd0YWItaGVhZGluZycgfHxcbiAgICAgIG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnZGF0YS10YWItaGVhZGluZydcbiAgICApO1xuICB9XG59KVxuXG47XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAudGltZXBpY2tlcicsIFtdKVxuXG4uY29uc3RhbnQoJ3RpbWVwaWNrZXJDb25maWcnLCB7XG4gIGhvdXJTdGVwOiAxLFxuICBtaW51dGVTdGVwOiAxLFxuICBzaG93TWVyaWRpYW46IHRydWUsXG4gIG1lcmlkaWFuczogbnVsbCxcbiAgcmVhZG9ubHlJbnB1dDogZmFsc2UsXG4gIG1vdXNld2hlZWw6IHRydWVcbn0pXG5cbi5jb250cm9sbGVyKCdUaW1lcGlja2VyQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICckcGFyc2UnLCAnJGxvZycsICckbG9jYWxlJywgJ3RpbWVwaWNrZXJDb25maWcnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgJHBhcnNlLCAkbG9nLCAkbG9jYWxlLCB0aW1lcGlja2VyQ29uZmlnKSB7XG4gIHZhciBzZWxlY3RlZCA9IG5ldyBEYXRlKCksXG4gICAgICBuZ01vZGVsQ3RybCA9IHsgJHNldFZpZXdWYWx1ZTogYW5ndWxhci5ub29wIH0sIC8vIG51bGxNb2RlbEN0cmxcbiAgICAgIG1lcmlkaWFucyA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5tZXJpZGlhbnMpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLm1lcmlkaWFucykgOiB0aW1lcGlja2VyQ29uZmlnLm1lcmlkaWFucyB8fCAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuQU1QTVM7XG5cbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24oIG5nTW9kZWxDdHJsXywgaW5wdXRzICkge1xuICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfO1xuICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSB0aGlzLnJlbmRlcjtcblxuICAgIHZhciBob3Vyc0lucHV0RWwgPSBpbnB1dHMuZXEoMCksXG4gICAgICAgIG1pbnV0ZXNJbnB1dEVsID0gaW5wdXRzLmVxKDEpO1xuXG4gICAgdmFyIG1vdXNld2hlZWwgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubW91c2V3aGVlbCkgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMubW91c2V3aGVlbCkgOiB0aW1lcGlja2VyQ29uZmlnLm1vdXNld2hlZWw7XG4gICAgaWYgKCBtb3VzZXdoZWVsICkge1xuICAgICAgdGhpcy5zZXR1cE1vdXNld2hlZWxFdmVudHMoIGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwgKTtcbiAgICB9XG5cbiAgICAkc2NvcGUucmVhZG9ubHlJbnB1dCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5yZWFkb25seUlucHV0KSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5yZWFkb25seUlucHV0KSA6IHRpbWVwaWNrZXJDb25maWcucmVhZG9ubHlJbnB1dDtcbiAgICB0aGlzLnNldHVwSW5wdXRFdmVudHMoIGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwgKTtcbiAgfTtcblxuICB2YXIgaG91clN0ZXAgPSB0aW1lcGlja2VyQ29uZmlnLmhvdXJTdGVwO1xuICBpZiAoJGF0dHJzLmhvdXJTdGVwKSB7XG4gICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMuaG91clN0ZXApLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaG91clN0ZXAgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIG1pbnV0ZVN0ZXAgPSB0aW1lcGlja2VyQ29uZmlnLm1pbnV0ZVN0ZXA7XG4gIGlmICgkYXR0cnMubWludXRlU3RlcCkge1xuICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLm1pbnV0ZVN0ZXApLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgbWludXRlU3RlcCA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgfSk7XG4gIH1cblxuICAvLyAxMkggLyAyNEggbW9kZVxuICAkc2NvcGUuc2hvd01lcmlkaWFuID0gdGltZXBpY2tlckNvbmZpZy5zaG93TWVyaWRpYW47XG4gIGlmICgkYXR0cnMuc2hvd01lcmlkaWFuKSB7XG4gICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMuc2hvd01lcmlkaWFuKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICRzY29wZS5zaG93TWVyaWRpYW4gPSAhIXZhbHVlO1xuXG4gICAgICBpZiAoIG5nTW9kZWxDdHJsLiRlcnJvci50aW1lICkge1xuICAgICAgICAvLyBFdmFsdWF0ZSBmcm9tIHRlbXBsYXRlXG4gICAgICAgIHZhciBob3VycyA9IGdldEhvdXJzRnJvbVRlbXBsYXRlKCksIG1pbnV0ZXMgPSBnZXRNaW51dGVzRnJvbVRlbXBsYXRlKCk7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCggaG91cnMgKSAmJiBhbmd1bGFyLmlzRGVmaW5lZCggbWludXRlcyApKSB7XG4gICAgICAgICAgc2VsZWN0ZWQuc2V0SG91cnMoIGhvdXJzICk7XG4gICAgICAgICAgcmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGVUZW1wbGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gR2V0ICRzY29wZS5ob3VycyBpbiAyNEggbW9kZSBpZiB2YWxpZFxuICBmdW5jdGlvbiBnZXRIb3Vyc0Zyb21UZW1wbGF0ZSAoICkge1xuICAgIHZhciBob3VycyA9IHBhcnNlSW50KCAkc2NvcGUuaG91cnMsIDEwICk7XG4gICAgdmFyIHZhbGlkID0gKCAkc2NvcGUuc2hvd01lcmlkaWFuICkgPyAoaG91cnMgPiAwICYmIGhvdXJzIDwgMTMpIDogKGhvdXJzID49IDAgJiYgaG91cnMgPCAyNCk7XG4gICAgaWYgKCAhdmFsaWQgKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmICggJHNjb3BlLnNob3dNZXJpZGlhbiApIHtcbiAgICAgIGlmICggaG91cnMgPT09IDEyICkge1xuICAgICAgICBob3VycyA9IDA7XG4gICAgICB9XG4gICAgICBpZiAoICRzY29wZS5tZXJpZGlhbiA9PT0gbWVyaWRpYW5zWzFdICkge1xuICAgICAgICBob3VycyA9IGhvdXJzICsgMTI7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBob3VycztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKSB7XG4gICAgdmFyIG1pbnV0ZXMgPSBwYXJzZUludCgkc2NvcGUubWludXRlcywgMTApO1xuICAgIHJldHVybiAoIG1pbnV0ZXMgPj0gMCAmJiBtaW51dGVzIDwgNjAgKSA/IG1pbnV0ZXMgOiB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBwYWQoIHZhbHVlICkge1xuICAgIHJldHVybiAoIGFuZ3VsYXIuaXNEZWZpbmVkKHZhbHVlKSAmJiB2YWx1ZS50b1N0cmluZygpLmxlbmd0aCA8IDIgKSA/ICcwJyArIHZhbHVlIDogdmFsdWU7XG4gIH1cblxuICAvLyBSZXNwb25kIG9uIG1vdXNld2hlZWwgc3BpblxuICB0aGlzLnNldHVwTW91c2V3aGVlbEV2ZW50cyA9IGZ1bmN0aW9uKCBob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsICkge1xuICAgIHZhciBpc1Njcm9sbGluZ1VwID0gZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUub3JpZ2luYWxFdmVudCkge1xuICAgICAgICBlID0gZS5vcmlnaW5hbEV2ZW50O1xuICAgICAgfVxuICAgICAgLy9waWNrIGNvcnJlY3QgZGVsdGEgdmFyaWFibGUgZGVwZW5kaW5nIG9uIGV2ZW50XG4gICAgICB2YXIgZGVsdGEgPSAoZS53aGVlbERlbHRhKSA/IGUud2hlZWxEZWx0YSA6IC1lLmRlbHRhWTtcbiAgICAgIHJldHVybiAoZS5kZXRhaWwgfHwgZGVsdGEgPiAwKTtcbiAgICB9O1xuXG4gICAgaG91cnNJbnB1dEVsLmJpbmQoJ21vdXNld2hlZWwgd2hlZWwnLCBmdW5jdGlvbihlKSB7XG4gICAgICAkc2NvcGUuJGFwcGx5KCAoaXNTY3JvbGxpbmdVcChlKSkgPyAkc2NvcGUuaW5jcmVtZW50SG91cnMoKSA6ICRzY29wZS5kZWNyZW1lbnRIb3VycygpICk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICBtaW51dGVzSW5wdXRFbC5iaW5kKCdtb3VzZXdoZWVsIHdoZWVsJywgZnVuY3Rpb24oZSkge1xuICAgICAgJHNjb3BlLiRhcHBseSggKGlzU2Nyb2xsaW5nVXAoZSkpID8gJHNjb3BlLmluY3JlbWVudE1pbnV0ZXMoKSA6ICRzY29wZS5kZWNyZW1lbnRNaW51dGVzKCkgKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICB9O1xuXG4gIHRoaXMuc2V0dXBJbnB1dEV2ZW50cyA9IGZ1bmN0aW9uKCBob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsICkge1xuICAgIGlmICggJHNjb3BlLnJlYWRvbmx5SW5wdXQgKSB7XG4gICAgICAkc2NvcGUudXBkYXRlSG91cnMgPSBhbmd1bGFyLm5vb3A7XG4gICAgICAkc2NvcGUudXBkYXRlTWludXRlcyA9IGFuZ3VsYXIubm9vcDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaW52YWxpZGF0ZSA9IGZ1bmN0aW9uKGludmFsaWRIb3VycywgaW52YWxpZE1pbnV0ZXMpIHtcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoIG51bGwgKTtcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgndGltZScsIGZhbHNlKTtcbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpbnZhbGlkSG91cnMpKSB7XG4gICAgICAgICRzY29wZS5pbnZhbGlkSG91cnMgPSBpbnZhbGlkSG91cnM7XG4gICAgICB9XG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoaW52YWxpZE1pbnV0ZXMpKSB7XG4gICAgICAgICRzY29wZS5pbnZhbGlkTWludXRlcyA9IGludmFsaWRNaW51dGVzO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAkc2NvcGUudXBkYXRlSG91cnMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBob3VycyA9IGdldEhvdXJzRnJvbVRlbXBsYXRlKCk7XG5cbiAgICAgIGlmICggYW5ndWxhci5pc0RlZmluZWQoaG91cnMpICkge1xuICAgICAgICBzZWxlY3RlZC5zZXRIb3VycyggaG91cnMgKTtcbiAgICAgICAgcmVmcmVzaCggJ2gnICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnZhbGlkYXRlKHRydWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBob3Vyc0lucHV0RWwuYmluZCgnYmx1cicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICggISRzY29wZS5pbnZhbGlkSG91cnMgJiYgJHNjb3BlLmhvdXJzIDwgMTApIHtcbiAgICAgICAgJHNjb3BlLiRhcHBseSggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHNjb3BlLmhvdXJzID0gcGFkKCAkc2NvcGUuaG91cnMgKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAkc2NvcGUudXBkYXRlTWludXRlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG1pbnV0ZXMgPSBnZXRNaW51dGVzRnJvbVRlbXBsYXRlKCk7XG5cbiAgICAgIGlmICggYW5ndWxhci5pc0RlZmluZWQobWludXRlcykgKSB7XG4gICAgICAgIHNlbGVjdGVkLnNldE1pbnV0ZXMoIG1pbnV0ZXMgKTtcbiAgICAgICAgcmVmcmVzaCggJ20nICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnZhbGlkYXRlKHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIG1pbnV0ZXNJbnB1dEVsLmJpbmQoJ2JsdXInLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoICEkc2NvcGUuaW52YWxpZE1pbnV0ZXMgJiYgJHNjb3BlLm1pbnV0ZXMgPCAxMCApIHtcbiAgICAgICAgJHNjb3BlLiRhcHBseSggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHNjb3BlLm1pbnV0ZXMgPSBwYWQoICRzY29wZS5taW51dGVzICk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIH07XG5cbiAgdGhpcy5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGF0ZSA9IG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlID8gbmV3IERhdGUoIG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlICkgOiBudWxsO1xuXG4gICAgaWYgKCBpc05hTihkYXRlKSApIHtcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgndGltZScsIGZhbHNlKTtcbiAgICAgICRsb2cuZXJyb3IoJ1RpbWVwaWNrZXIgZGlyZWN0aXZlOiBcIm5nLW1vZGVsXCIgdmFsdWUgbXVzdCBiZSBhIERhdGUgb2JqZWN0LCBhIG51bWJlciBvZiBtaWxsaXNlY29uZHMgc2luY2UgMDEuMDEuMTk3MCBvciBhIHN0cmluZyByZXByZXNlbnRpbmcgYW4gUkZDMjgyMiBvciBJU08gODYwMSBkYXRlLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIGRhdGUgKSB7XG4gICAgICAgIHNlbGVjdGVkID0gZGF0ZTtcbiAgICAgIH1cbiAgICAgIG1ha2VWYWxpZCgpO1xuICAgICAgdXBkYXRlVGVtcGxhdGUoKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gQ2FsbCBpbnRlcm5hbGx5IHdoZW4gd2Uga25vdyB0aGF0IG1vZGVsIGlzIHZhbGlkLlxuICBmdW5jdGlvbiByZWZyZXNoKCBrZXlib2FyZENoYW5nZSApIHtcbiAgICBtYWtlVmFsaWQoKTtcbiAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKCBuZXcgRGF0ZShzZWxlY3RlZCkgKTtcbiAgICB1cGRhdGVUZW1wbGF0ZSgga2V5Ym9hcmRDaGFuZ2UgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1ha2VWYWxpZCgpIHtcbiAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ3RpbWUnLCB0cnVlKTtcbiAgICAkc2NvcGUuaW52YWxpZEhvdXJzID0gZmFsc2U7XG4gICAgJHNjb3BlLmludmFsaWRNaW51dGVzID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVUZW1wbGF0ZSgga2V5Ym9hcmRDaGFuZ2UgKSB7XG4gICAgdmFyIGhvdXJzID0gc2VsZWN0ZWQuZ2V0SG91cnMoKSwgbWludXRlcyA9IHNlbGVjdGVkLmdldE1pbnV0ZXMoKTtcblxuICAgIGlmICggJHNjb3BlLnNob3dNZXJpZGlhbiApIHtcbiAgICAgIGhvdXJzID0gKCBob3VycyA9PT0gMCB8fCBob3VycyA9PT0gMTIgKSA/IDEyIDogaG91cnMgJSAxMjsgLy8gQ29udmVydCAyNCB0byAxMiBob3VyIHN5c3RlbVxuICAgIH1cblxuICAgICRzY29wZS5ob3VycyA9IGtleWJvYXJkQ2hhbmdlID09PSAnaCcgPyBob3VycyA6IHBhZChob3Vycyk7XG4gICAgJHNjb3BlLm1pbnV0ZXMgPSBrZXlib2FyZENoYW5nZSA9PT0gJ20nID8gbWludXRlcyA6IHBhZChtaW51dGVzKTtcbiAgICAkc2NvcGUubWVyaWRpYW4gPSBzZWxlY3RlZC5nZXRIb3VycygpIDwgMTIgPyBtZXJpZGlhbnNbMF0gOiBtZXJpZGlhbnNbMV07XG4gIH1cblxuICBmdW5jdGlvbiBhZGRNaW51dGVzKCBtaW51dGVzICkge1xuICAgIHZhciBkdCA9IG5ldyBEYXRlKCBzZWxlY3RlZC5nZXRUaW1lKCkgKyBtaW51dGVzICogNjAwMDAgKTtcbiAgICBzZWxlY3RlZC5zZXRIb3VycyggZHQuZ2V0SG91cnMoKSwgZHQuZ2V0TWludXRlcygpICk7XG4gICAgcmVmcmVzaCgpO1xuICB9XG5cbiAgJHNjb3BlLmluY3JlbWVudEhvdXJzID0gZnVuY3Rpb24oKSB7XG4gICAgYWRkTWludXRlcyggaG91clN0ZXAgKiA2MCApO1xuICB9O1xuICAkc2NvcGUuZGVjcmVtZW50SG91cnMgPSBmdW5jdGlvbigpIHtcbiAgICBhZGRNaW51dGVzKCAtIGhvdXJTdGVwICogNjAgKTtcbiAgfTtcbiAgJHNjb3BlLmluY3JlbWVudE1pbnV0ZXMgPSBmdW5jdGlvbigpIHtcbiAgICBhZGRNaW51dGVzKCBtaW51dGVTdGVwICk7XG4gIH07XG4gICRzY29wZS5kZWNyZW1lbnRNaW51dGVzID0gZnVuY3Rpb24oKSB7XG4gICAgYWRkTWludXRlcyggLSBtaW51dGVTdGVwICk7XG4gIH07XG4gICRzY29wZS50b2dnbGVNZXJpZGlhbiA9IGZ1bmN0aW9uKCkge1xuICAgIGFkZE1pbnV0ZXMoIDEyICogNjAgKiAoKCBzZWxlY3RlZC5nZXRIb3VycygpIDwgMTIgKSA/IDEgOiAtMSkgKTtcbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCd0aW1lcGlja2VyJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcXVpcmU6IFsndGltZXBpY2tlcicsICc/Xm5nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOidUaW1lcGlja2VyQ29udHJvbGxlcicsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZToge30sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIHRpbWVwaWNrZXJDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIGlmICggbmdNb2RlbEN0cmwgKSB7XG4gICAgICAgIHRpbWVwaWNrZXJDdHJsLmluaXQoIG5nTW9kZWxDdHJsLCBlbGVtZW50LmZpbmQoJ2lucHV0JykgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50eXBlYWhlYWQnLCBbJ3VpLmJvb3RzdHJhcC5wb3NpdGlvbicsICd1aS5ib290c3RyYXAuYmluZEh0bWwnXSlcblxuLyoqXG4gKiBBIGhlbHBlciBzZXJ2aWNlIHRoYXQgY2FuIHBhcnNlIHR5cGVhaGVhZCdzIHN5bnRheCAoc3RyaW5nIHByb3ZpZGVkIGJ5IHVzZXJzKVxuICogRXh0cmFjdGVkIHRvIGEgc2VwYXJhdGUgc2VydmljZSBmb3IgZWFzZSBvZiB1bml0IHRlc3RpbmdcbiAqL1xuICAuZmFjdG9yeSgndHlwZWFoZWFkUGFyc2VyJywgWyckcGFyc2UnLCBmdW5jdGlvbiAoJHBhcnNlKSB7XG5cbiAgLy8gICAgICAgICAgICAgICAgICAgICAgMDAwMDAxMTEwMDAwMDAwMDAwMDAwMjIyMDAwMDAwMDAwMDAwMDAwMDMzMzMzMzMzMzMzMzMzMzAwMDAwMDAwMDAwNDQwMDBcbiAgdmFyIFRZUEVBSEVBRF9SRUdFWFAgPSAvXlxccyooW1xcc1xcU10rPykoPzpcXHMrYXNcXHMrKFtcXHNcXFNdKz8pKT9cXHMrZm9yXFxzKyg/OihbXFwkXFx3XVtcXCRcXHdcXGRdKikpXFxzK2luXFxzKyhbXFxzXFxTXSs/KSQvO1xuXG4gIHJldHVybiB7XG4gICAgcGFyc2U6ZnVuY3Rpb24gKGlucHV0KSB7XG5cbiAgICAgIHZhciBtYXRjaCA9IGlucHV0Lm1hdGNoKFRZUEVBSEVBRF9SRUdFWFApO1xuICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0V4cGVjdGVkIHR5cGVhaGVhZCBzcGVjaWZpY2F0aW9uIGluIGZvcm0gb2YgXCJfbW9kZWxWYWx1ZV8gKGFzIF9sYWJlbF8pPyBmb3IgX2l0ZW1fIGluIF9jb2xsZWN0aW9uX1wiJyArXG4gICAgICAgICAgICAnIGJ1dCBnb3QgXCInICsgaW5wdXQgKyAnXCIuJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGl0ZW1OYW1lOm1hdGNoWzNdLFxuICAgICAgICBzb3VyY2U6JHBhcnNlKG1hdGNoWzRdKSxcbiAgICAgICAgdmlld01hcHBlcjokcGFyc2UobWF0Y2hbMl0gfHwgbWF0Y2hbMV0pLFxuICAgICAgICBtb2RlbE1hcHBlcjokcGFyc2UobWF0Y2hbMV0pXG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dKVxuXG4gIC5kaXJlY3RpdmUoJ3R5cGVhaGVhZCcsIFsnJGNvbXBpbGUnLCAnJHBhcnNlJywgJyRxJywgJyR0aW1lb3V0JywgJyRkb2N1bWVudCcsICckcG9zaXRpb24nLCAndHlwZWFoZWFkUGFyc2VyJyxcbiAgICBmdW5jdGlvbiAoJGNvbXBpbGUsICRwYXJzZSwgJHEsICR0aW1lb3V0LCAkZG9jdW1lbnQsICRwb3NpdGlvbiwgdHlwZWFoZWFkUGFyc2VyKSB7XG5cbiAgdmFyIEhPVF9LRVlTID0gWzksIDEzLCAyNywgMzgsIDQwXTtcblxuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6J25nTW9kZWwnLFxuICAgIGxpbms6ZnVuY3Rpb24gKG9yaWdpbmFsU2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBtb2RlbEN0cmwpIHtcblxuICAgICAgLy9TVVBQT1JURUQgQVRUUklCVVRFUyAoT1BUSU9OUylcblxuICAgICAgLy9taW5pbWFsIG5vIG9mIGNoYXJhY3RlcnMgdGhhdCBuZWVkcyB0byBiZSBlbnRlcmVkIGJlZm9yZSB0eXBlYWhlYWQga2lja3MtaW5cbiAgICAgIHZhciBtaW5TZWFyY2ggPSBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZE1pbkxlbmd0aCkgfHwgMTtcblxuICAgICAgLy9taW5pbWFsIHdhaXQgdGltZSBhZnRlciBsYXN0IGNoYXJhY3RlciB0eXBlZCBiZWZvcmUgdHlwZWhlYWQga2lja3MtaW5cbiAgICAgIHZhciB3YWl0VGltZSA9IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkV2FpdE1zKSB8fCAwO1xuXG4gICAgICAvL3Nob3VsZCBpdCByZXN0cmljdCBtb2RlbCB2YWx1ZXMgdG8gdGhlIG9uZXMgc2VsZWN0ZWQgZnJvbSB0aGUgcG9wdXAgb25seT9cbiAgICAgIHZhciBpc0VkaXRhYmxlID0gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRFZGl0YWJsZSkgIT09IGZhbHNlO1xuXG4gICAgICAvL2JpbmRpbmcgdG8gYSB2YXJpYWJsZSB0aGF0IGluZGljYXRlcyBpZiBtYXRjaGVzIGFyZSBiZWluZyByZXRyaWV2ZWQgYXN5bmNocm9ub3VzbHlcbiAgICAgIHZhciBpc0xvYWRpbmdTZXR0ZXIgPSAkcGFyc2UoYXR0cnMudHlwZWFoZWFkTG9hZGluZykuYXNzaWduIHx8IGFuZ3VsYXIubm9vcDtcblxuICAgICAgLy9hIGNhbGxiYWNrIGV4ZWN1dGVkIHdoZW4gYSBtYXRjaCBpcyBzZWxlY3RlZFxuICAgICAgdmFyIG9uU2VsZWN0Q2FsbGJhY2sgPSAkcGFyc2UoYXR0cnMudHlwZWFoZWFkT25TZWxlY3QpO1xuXG4gICAgICB2YXIgaW5wdXRGb3JtYXR0ZXIgPSBhdHRycy50eXBlYWhlYWRJbnB1dEZvcm1hdHRlciA/ICRwYXJzZShhdHRycy50eXBlYWhlYWRJbnB1dEZvcm1hdHRlcikgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciBhcHBlbmRUb0JvZHkgPSAgYXR0cnMudHlwZWFoZWFkQXBwZW5kVG9Cb2R5ID8gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRBcHBlbmRUb0JvZHkpIDogZmFsc2U7XG5cbiAgICAgIC8vSU5URVJOQUwgVkFSSUFCTEVTXG5cbiAgICAgIC8vbW9kZWwgc2V0dGVyIGV4ZWN1dGVkIHVwb24gbWF0Y2ggc2VsZWN0aW9uXG4gICAgICB2YXIgJHNldE1vZGVsVmFsdWUgPSAkcGFyc2UoYXR0cnMubmdNb2RlbCkuYXNzaWduO1xuXG4gICAgICAvL2V4cHJlc3Npb25zIHVzZWQgYnkgdHlwZWFoZWFkXG4gICAgICB2YXIgcGFyc2VyUmVzdWx0ID0gdHlwZWFoZWFkUGFyc2VyLnBhcnNlKGF0dHJzLnR5cGVhaGVhZCk7XG5cbiAgICAgIHZhciBoYXNGb2N1cztcblxuICAgICAgLy9jcmVhdGUgYSBjaGlsZCBzY29wZSBmb3IgdGhlIHR5cGVhaGVhZCBkaXJlY3RpdmUgc28gd2UgYXJlIG5vdCBwb2xsdXRpbmcgb3JpZ2luYWwgc2NvcGVcbiAgICAgIC8vd2l0aCB0eXBlYWhlYWQtc3BlY2lmaWMgZGF0YSAobWF0Y2hlcywgcXVlcnkgZXRjLilcbiAgICAgIHZhciBzY29wZSA9IG9yaWdpbmFsU2NvcGUuJG5ldygpO1xuICAgICAgb3JpZ2luYWxTY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKXtcbiAgICAgICAgc2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBXQUktQVJJQVxuICAgICAgdmFyIHBvcHVwSWQgPSAndHlwZWFoZWFkLScgKyBzY29wZS4kaWQgKyAnLScgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCk7XG4gICAgICBlbGVtZW50LmF0dHIoe1xuICAgICAgICAnYXJpYS1hdXRvY29tcGxldGUnOiAnbGlzdCcsXG4gICAgICAgICdhcmlhLWV4cGFuZGVkJzogZmFsc2UsXG4gICAgICAgICdhcmlhLW93bnMnOiBwb3B1cElkXG4gICAgICB9KTtcblxuICAgICAgLy9wb3AtdXAgZWxlbWVudCB1c2VkIHRvIGRpc3BsYXkgbWF0Y2hlc1xuICAgICAgdmFyIHBvcFVwRWwgPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXYgdHlwZWFoZWFkLXBvcHVwPjwvZGl2PicpO1xuICAgICAgcG9wVXBFbC5hdHRyKHtcbiAgICAgICAgaWQ6IHBvcHVwSWQsXG4gICAgICAgIG1hdGNoZXM6ICdtYXRjaGVzJyxcbiAgICAgICAgYWN0aXZlOiAnYWN0aXZlSWR4JyxcbiAgICAgICAgc2VsZWN0OiAnc2VsZWN0KGFjdGl2ZUlkeCknLFxuICAgICAgICBxdWVyeTogJ3F1ZXJ5JyxcbiAgICAgICAgcG9zaXRpb246ICdwb3NpdGlvbidcbiAgICAgIH0pO1xuICAgICAgLy9jdXN0b20gaXRlbSB0ZW1wbGF0ZVxuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnR5cGVhaGVhZFRlbXBsYXRlVXJsKSkge1xuICAgICAgICBwb3BVcEVsLmF0dHIoJ3RlbXBsYXRlLXVybCcsIGF0dHJzLnR5cGVhaGVhZFRlbXBsYXRlVXJsKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlc2V0TWF0Y2hlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzY29wZS5tYXRjaGVzID0gW107XG4gICAgICAgIHNjb3BlLmFjdGl2ZUlkeCA9IC0xO1xuICAgICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgZ2V0TWF0Y2hJZCA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBwb3B1cElkICsgJy1vcHRpb24tJyArIGluZGV4O1xuICAgICAgfTtcblxuICAgICAgLy8gSW5kaWNhdGUgdGhhdCB0aGUgc3BlY2lmaWVkIG1hdGNoIGlzIHRoZSBhY3RpdmUgKHByZS1zZWxlY3RlZCkgaXRlbSBpbiB0aGUgbGlzdCBvd25lZCBieSB0aGlzIHR5cGVhaGVhZC5cbiAgICAgIC8vIFRoaXMgYXR0cmlidXRlIGlzIGFkZGVkIG9yIHJlbW92ZWQgYXV0b21hdGljYWxseSB3aGVuIHRoZSBgYWN0aXZlSWR4YCBjaGFuZ2VzLlxuICAgICAgc2NvcGUuJHdhdGNoKCdhY3RpdmVJZHgnLCBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyKCdhcmlhLWFjdGl2ZWRlc2NlbmRhbnQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCcsIGdldE1hdGNoSWQoaW5kZXgpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHZhciBnZXRNYXRjaGVzQXN5bmMgPSBmdW5jdGlvbihpbnB1dFZhbHVlKSB7XG5cbiAgICAgICAgdmFyIGxvY2FscyA9IHskdmlld1ZhbHVlOiBpbnB1dFZhbHVlfTtcbiAgICAgICAgaXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsIHRydWUpO1xuICAgICAgICAkcS53aGVuKHBhcnNlclJlc3VsdC5zb3VyY2Uob3JpZ2luYWxTY29wZSwgbG9jYWxzKSkudGhlbihmdW5jdGlvbihtYXRjaGVzKSB7XG5cbiAgICAgICAgICAvL2l0IG1pZ2h0IGhhcHBlbiB0aGF0IHNldmVyYWwgYXN5bmMgcXVlcmllcyB3ZXJlIGluIHByb2dyZXNzIGlmIGEgdXNlciB3ZXJlIHR5cGluZyBmYXN0XG4gICAgICAgICAgLy9idXQgd2UgYXJlIGludGVyZXN0ZWQgb25seSBpbiByZXNwb25zZXMgdGhhdCBjb3JyZXNwb25kIHRvIHRoZSBjdXJyZW50IHZpZXcgdmFsdWVcbiAgICAgICAgICB2YXIgb25DdXJyZW50UmVxdWVzdCA9IChpbnB1dFZhbHVlID09PSBtb2RlbEN0cmwuJHZpZXdWYWx1ZSk7XG4gICAgICAgICAgaWYgKG9uQ3VycmVudFJlcXVlc3QgJiYgaGFzRm9jdXMpIHtcbiAgICAgICAgICAgIGlmIChtYXRjaGVzLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgICBzY29wZS5hY3RpdmVJZHggPSAwO1xuICAgICAgICAgICAgICBzY29wZS5tYXRjaGVzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgICAgLy90cmFuc2Zvcm0gbGFiZWxzXG4gICAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpPG1hdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsb2NhbHNbcGFyc2VyUmVzdWx0Lml0ZW1OYW1lXSA9IG1hdGNoZXNbaV07XG4gICAgICAgICAgICAgICAgc2NvcGUubWF0Y2hlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIGlkOiBnZXRNYXRjaElkKGkpLFxuICAgICAgICAgICAgICAgICAgbGFiZWw6IHBhcnNlclJlc3VsdC52aWV3TWFwcGVyKHNjb3BlLCBsb2NhbHMpLFxuICAgICAgICAgICAgICAgICAgbW9kZWw6IG1hdGNoZXNbaV1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHNjb3BlLnF1ZXJ5ID0gaW5wdXRWYWx1ZTtcbiAgICAgICAgICAgICAgLy9wb3NpdGlvbiBwb3AtdXAgd2l0aCBtYXRjaGVzIC0gd2UgbmVlZCB0byByZS1jYWxjdWxhdGUgaXRzIHBvc2l0aW9uIGVhY2ggdGltZSB3ZSBhcmUgb3BlbmluZyBhIHdpbmRvd1xuICAgICAgICAgICAgICAvL3dpdGggbWF0Y2hlcyBhcyBhIHBvcC11cCBtaWdodCBiZSBhYnNvbHV0ZS1wb3NpdGlvbmVkIGFuZCBwb3NpdGlvbiBvZiBhbiBpbnB1dCBtaWdodCBoYXZlIGNoYW5nZWQgb24gYSBwYWdlXG4gICAgICAgICAgICAgIC8vZHVlIHRvIG90aGVyIGVsZW1lbnRzIGJlaW5nIHJlbmRlcmVkXG4gICAgICAgICAgICAgIHNjb3BlLnBvc2l0aW9uID0gYXBwZW5kVG9Cb2R5ID8gJHBvc2l0aW9uLm9mZnNldChlbGVtZW50KSA6ICRwb3NpdGlvbi5wb3NpdGlvbihlbGVtZW50KTtcbiAgICAgICAgICAgICAgc2NvcGUucG9zaXRpb24udG9wID0gc2NvcGUucG9zaXRpb24udG9wICsgZWxlbWVudC5wcm9wKCdvZmZzZXRIZWlnaHQnKTtcblxuICAgICAgICAgICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAob25DdXJyZW50UmVxdWVzdCkge1xuICAgICAgICAgICAgaXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsIGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG4gICAgICAgICAgaXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICByZXNldE1hdGNoZXMoKTtcblxuICAgICAgLy93ZSBuZWVkIHRvIHByb3BhZ2F0ZSB1c2VyJ3MgcXVlcnkgc28gd2UgY2FuIGhpZ2xpZ2h0IG1hdGNoZXNcbiAgICAgIHNjb3BlLnF1ZXJ5ID0gdW5kZWZpbmVkO1xuXG4gICAgICAvL0RlY2xhcmUgdGhlIHRpbWVvdXQgcHJvbWlzZSB2YXIgb3V0c2lkZSB0aGUgZnVuY3Rpb24gc2NvcGUgc28gdGhhdCBzdGFja2VkIGNhbGxzIGNhbiBiZSBjYW5jZWxsZWQgbGF0ZXIgXG4gICAgICB2YXIgdGltZW91dFByb21pc2U7XG5cbiAgICAgIHZhciBzY2hlZHVsZVNlYXJjaFdpdGhUaW1lb3V0ID0gZnVuY3Rpb24oaW5wdXRWYWx1ZSkge1xuICAgICAgICB0aW1lb3V0UHJvbWlzZSA9ICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBnZXRNYXRjaGVzQXN5bmMoaW5wdXRWYWx1ZSk7XG4gICAgICAgIH0sIHdhaXRUaW1lKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBjYW5jZWxQcmV2aW91c1RpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRpbWVvdXRQcm9taXNlKSB7XG4gICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVvdXRQcm9taXNlKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy9wbHVnIGludG8gJHBhcnNlcnMgcGlwZWxpbmUgdG8gb3BlbiBhIHR5cGVhaGVhZCBvbiB2aWV3IGNoYW5nZXMgaW5pdGlhdGVkIGZyb20gRE9NXG4gICAgICAvLyRwYXJzZXJzIGtpY2staW4gb24gYWxsIHRoZSBjaGFuZ2VzIGNvbWluZyBmcm9tIHRoZSB2aWV3IGFzIHdlbGwgYXMgbWFudWFsbHkgdHJpZ2dlcmVkIGJ5ICRzZXRWaWV3VmFsdWVcbiAgICAgIG1vZGVsQ3RybC4kcGFyc2Vycy51bnNoaWZ0KGZ1bmN0aW9uIChpbnB1dFZhbHVlKSB7XG5cbiAgICAgICAgaGFzRm9jdXMgPSB0cnVlO1xuXG4gICAgICAgIGlmIChpbnB1dFZhbHVlICYmIGlucHV0VmFsdWUubGVuZ3RoID49IG1pblNlYXJjaCkge1xuICAgICAgICAgIGlmICh3YWl0VGltZSA+IDApIHtcbiAgICAgICAgICAgIGNhbmNlbFByZXZpb3VzVGltZW91dCgpO1xuICAgICAgICAgICAgc2NoZWR1bGVTZWFyY2hXaXRoVGltZW91dChpbnB1dFZhbHVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2V0TWF0Y2hlc0FzeW5jKGlucHV0VmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpc0xvYWRpbmdTZXR0ZXIob3JpZ2luYWxTY29wZSwgZmFsc2UpO1xuICAgICAgICAgIGNhbmNlbFByZXZpb3VzVGltZW91dCgpO1xuICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzRWRpdGFibGUpIHtcbiAgICAgICAgICByZXR1cm4gaW5wdXRWYWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIWlucHV0VmFsdWUpIHtcbiAgICAgICAgICAgIC8vIFJlc2V0IGluIGNhc2UgdXNlciBoYWQgdHlwZWQgc29tZXRoaW5nIHByZXZpb3VzbHkuXG4gICAgICAgICAgICBtb2RlbEN0cmwuJHNldFZhbGlkaXR5KCdlZGl0YWJsZScsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0VmFsdWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2VkaXRhYmxlJywgZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBtb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbiAobW9kZWxWYWx1ZSkge1xuXG4gICAgICAgIHZhciBjYW5kaWRhdGVWaWV3VmFsdWUsIGVtcHR5Vmlld1ZhbHVlO1xuICAgICAgICB2YXIgbG9jYWxzID0ge307XG5cbiAgICAgICAgaWYgKGlucHV0Rm9ybWF0dGVyKSB7XG5cbiAgICAgICAgICBsb2NhbHNbJyRtb2RlbCddID0gbW9kZWxWYWx1ZTtcbiAgICAgICAgICByZXR1cm4gaW5wdXRGb3JtYXR0ZXIob3JpZ2luYWxTY29wZSwgbG9jYWxzKTtcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgLy9pdCBtaWdodCBoYXBwZW4gdGhhdCB3ZSBkb24ndCBoYXZlIGVub3VnaCBpbmZvIHRvIHByb3Blcmx5IHJlbmRlciBpbnB1dCB2YWx1ZVxuICAgICAgICAgIC8vd2UgbmVlZCB0byBjaGVjayBmb3IgdGhpcyBzaXR1YXRpb24gYW5kIHNpbXBseSByZXR1cm4gbW9kZWwgdmFsdWUgaWYgd2UgY2FuJ3QgYXBwbHkgY3VzdG9tIGZvcm1hdHRpbmdcbiAgICAgICAgICBsb2NhbHNbcGFyc2VyUmVzdWx0Lml0ZW1OYW1lXSA9IG1vZGVsVmFsdWU7XG4gICAgICAgICAgY2FuZGlkYXRlVmlld1ZhbHVlID0gcGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIob3JpZ2luYWxTY29wZSwgbG9jYWxzKTtcbiAgICAgICAgICBsb2NhbHNbcGFyc2VyUmVzdWx0Lml0ZW1OYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBlbXB0eVZpZXdWYWx1ZSA9IHBhcnNlclJlc3VsdC52aWV3TWFwcGVyKG9yaWdpbmFsU2NvcGUsIGxvY2Fscyk7XG5cbiAgICAgICAgICByZXR1cm4gY2FuZGlkYXRlVmlld1ZhbHVlIT09IGVtcHR5Vmlld1ZhbHVlID8gY2FuZGlkYXRlVmlld1ZhbHVlIDogbW9kZWxWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uIChhY3RpdmVJZHgpIHtcbiAgICAgICAgLy9jYWxsZWQgZnJvbSB3aXRoaW4gdGhlICRkaWdlc3QoKSBjeWNsZVxuICAgICAgICB2YXIgbG9jYWxzID0ge307XG4gICAgICAgIHZhciBtb2RlbCwgaXRlbTtcblxuICAgICAgICBsb2NhbHNbcGFyc2VyUmVzdWx0Lml0ZW1OYW1lXSA9IGl0ZW0gPSBzY29wZS5tYXRjaGVzW2FjdGl2ZUlkeF0ubW9kZWw7XG4gICAgICAgIG1vZGVsID0gcGFyc2VyUmVzdWx0Lm1vZGVsTWFwcGVyKG9yaWdpbmFsU2NvcGUsIGxvY2Fscyk7XG4gICAgICAgICRzZXRNb2RlbFZhbHVlKG9yaWdpbmFsU2NvcGUsIG1vZGVsKTtcbiAgICAgICAgbW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZWRpdGFibGUnLCB0cnVlKTtcblxuICAgICAgICBvblNlbGVjdENhbGxiYWNrKG9yaWdpbmFsU2NvcGUsIHtcbiAgICAgICAgICAkaXRlbTogaXRlbSxcbiAgICAgICAgICAkbW9kZWw6IG1vZGVsLFxuICAgICAgICAgICRsYWJlbDogcGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIob3JpZ2luYWxTY29wZSwgbG9jYWxzKVxuICAgICAgICB9KTtcblxuICAgICAgICByZXNldE1hdGNoZXMoKTtcblxuICAgICAgICAvL3JldHVybiBmb2N1cyB0byB0aGUgaW5wdXQgZWxlbWVudCBpZiBhIG1hdGNoIHdhcyBzZWxlY3RlZCB2aWEgYSBtb3VzZSBjbGljayBldmVudFxuICAgICAgICAvLyB1c2UgdGltZW91dCB0byBhdm9pZCAkcm9vdFNjb3BlOmlucHJvZyBlcnJvclxuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHsgZWxlbWVudFswXS5mb2N1cygpOyB9LCAwLCBmYWxzZSk7XG4gICAgICB9O1xuXG4gICAgICAvL2JpbmQga2V5Ym9hcmQgZXZlbnRzOiBhcnJvd3MgdXAoMzgpIC8gZG93big0MCksIGVudGVyKDEzKSBhbmQgdGFiKDkpLCBlc2MoMjcpXG4gICAgICBlbGVtZW50LmJpbmQoJ2tleWRvd24nLCBmdW5jdGlvbiAoZXZ0KSB7XG5cbiAgICAgICAgLy90eXBlYWhlYWQgaXMgb3BlbiBhbmQgYW4gXCJpbnRlcmVzdGluZ1wiIGtleSB3YXMgcHJlc3NlZFxuICAgICAgICBpZiAoc2NvcGUubWF0Y2hlcy5sZW5ndGggPT09IDAgfHwgSE9UX0tFWVMuaW5kZXhPZihldnQud2hpY2gpID09PSAtMSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlmIChldnQud2hpY2ggPT09IDQwKSB7XG4gICAgICAgICAgc2NvcGUuYWN0aXZlSWR4ID0gKHNjb3BlLmFjdGl2ZUlkeCArIDEpICUgc2NvcGUubWF0Y2hlcy5sZW5ndGg7XG4gICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoZXZ0LndoaWNoID09PSAzOCkge1xuICAgICAgICAgIHNjb3BlLmFjdGl2ZUlkeCA9IChzY29wZS5hY3RpdmVJZHggPyBzY29wZS5hY3RpdmVJZHggOiBzY29wZS5tYXRjaGVzLmxlbmd0aCkgLSAxO1xuICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGV2dC53aGljaCA9PT0gMTMgfHwgZXZ0LndoaWNoID09PSA5KSB7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNjb3BlLnNlbGVjdChzY29wZS5hY3RpdmVJZHgpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoZXZ0LndoaWNoID09PSAyNykge1xuICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGVsZW1lbnQuYmluZCgnYmx1cicsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgaGFzRm9jdXMgPSBmYWxzZTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBLZWVwIHJlZmVyZW5jZSB0byBjbGljayBoYW5kbGVyIHRvIHVuYmluZCBpdC5cbiAgICAgIHZhciBkaXNtaXNzQ2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICBpZiAoZWxlbWVudFswXSAhPT0gZXZ0LnRhcmdldCkge1xuICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgJGRvY3VtZW50LmJpbmQoJ2NsaWNrJywgZGlzbWlzc0NsaWNrSGFuZGxlcik7XG5cbiAgICAgIG9yaWdpbmFsU2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCl7XG4gICAgICAgICRkb2N1bWVudC51bmJpbmQoJ2NsaWNrJywgZGlzbWlzc0NsaWNrSGFuZGxlcik7XG4gICAgICB9KTtcblxuICAgICAgdmFyICRwb3B1cCA9ICRjb21waWxlKHBvcFVwRWwpKHNjb3BlKTtcbiAgICAgIGlmICggYXBwZW5kVG9Cb2R5ICkge1xuICAgICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmFwcGVuZCgkcG9wdXApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5hZnRlcigkcG9wdXApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxufV0pXG5cbiAgLmRpcmVjdGl2ZSgndHlwZWFoZWFkUG9wdXAnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OidFQScsXG4gICAgICBzY29wZTp7XG4gICAgICAgIG1hdGNoZXM6Jz0nLFxuICAgICAgICBxdWVyeTonPScsXG4gICAgICAgIGFjdGl2ZTonPScsXG4gICAgICAgIHBvc2l0aW9uOic9JyxcbiAgICAgICAgc2VsZWN0OicmJ1xuICAgICAgfSxcbiAgICAgIHJlcGxhY2U6dHJ1ZSxcbiAgICAgIHRlbXBsYXRlVXJsOid0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWwnLFxuICAgICAgbGluazpmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG5cbiAgICAgICAgc2NvcGUudGVtcGxhdGVVcmwgPSBhdHRycy50ZW1wbGF0ZVVybDtcblxuICAgICAgICBzY29wZS5pc09wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHNjb3BlLm1hdGNoZXMubGVuZ3RoID4gMDtcbiAgICAgICAgfTtcblxuICAgICAgICBzY29wZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uIChtYXRjaElkeCkge1xuICAgICAgICAgIHJldHVybiBzY29wZS5hY3RpdmUgPT0gbWF0Y2hJZHg7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUuc2VsZWN0QWN0aXZlID0gZnVuY3Rpb24gKG1hdGNoSWR4KSB7XG4gICAgICAgICAgc2NvcGUuYWN0aXZlID0gbWF0Y2hJZHg7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUuc2VsZWN0TWF0Y2ggPSBmdW5jdGlvbiAoYWN0aXZlSWR4KSB7XG4gICAgICAgICAgc2NvcGUuc2VsZWN0KHthY3RpdmVJZHg6YWN0aXZlSWR4fSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcbiAgfSlcblxuICAuZGlyZWN0aXZlKCd0eXBlYWhlYWRNYXRjaCcsIFsnJGh0dHAnLCAnJHRlbXBsYXRlQ2FjaGUnLCAnJGNvbXBpbGUnLCAnJHBhcnNlJywgZnVuY3Rpb24gKCRodHRwLCAkdGVtcGxhdGVDYWNoZSwgJGNvbXBpbGUsICRwYXJzZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDonRUEnLFxuICAgICAgc2NvcGU6e1xuICAgICAgICBpbmRleDonPScsXG4gICAgICAgIG1hdGNoOic9JyxcbiAgICAgICAgcXVlcnk6Jz0nXG4gICAgICB9LFxuICAgICAgbGluazpmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIHZhciB0cGxVcmwgPSAkcGFyc2UoYXR0cnMudGVtcGxhdGVVcmwpKHNjb3BlLiRwYXJlbnQpIHx8ICd0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWwnO1xuICAgICAgICAkaHR0cC5nZXQodHBsVXJsLCB7Y2FjaGU6ICR0ZW1wbGF0ZUNhY2hlfSkuc3VjY2VzcyhmdW5jdGlvbih0cGxDb250ZW50KXtcbiAgICAgICAgICAgZWxlbWVudC5yZXBsYWNlV2l0aCgkY29tcGlsZSh0cGxDb250ZW50LnRyaW0oKSkoc2NvcGUpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfV0pXG5cbiAgLmZpbHRlcigndHlwZWFoZWFkSGlnaGxpZ2h0JywgZnVuY3Rpb24oKSB7XG5cbiAgICBmdW5jdGlvbiBlc2NhcGVSZWdleHAocXVlcnlUb0VzY2FwZSkge1xuICAgICAgcmV0dXJuIHF1ZXJ5VG9Fc2NhcGUucmVwbGFjZSgvKFsuPyorXiRbXFxdXFxcXCgpe318LV0pL2csICdcXFxcJDEnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24obWF0Y2hJdGVtLCBxdWVyeSkge1xuICAgICAgcmV0dXJuIHF1ZXJ5ID8gKCcnICsgbWF0Y2hJdGVtKS5yZXBsYWNlKG5ldyBSZWdFeHAoZXNjYXBlUmVnZXhwKHF1ZXJ5KSwgJ2dpJyksICc8c3Ryb25nPiQmPC9zdHJvbmc+JykgOiBtYXRjaEl0ZW07XG4gICAgfTtcbiAgfSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi1ncm91cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi1ncm91cC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwYW5lbCBwYW5lbC1kZWZhdWx0XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInBhbmVsLWhlYWRpbmdcXFwiPlxcblwiICtcbiAgICBcIiAgICA8aDQgY2xhc3M9XFxcInBhbmVsLXRpdGxlXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8YSBjbGFzcz1cXFwiYWNjb3JkaW9uLXRvZ2dsZVxcXCIgbmctY2xpY2s9XFxcInRvZ2dsZU9wZW4oKVxcXCIgYWNjb3JkaW9uLXRyYW5zY2x1ZGU9XFxcImhlYWRpbmdcXFwiPjxzcGFuIG5nLWNsYXNzPVxcXCJ7J3RleHQtbXV0ZWQnOiBpc0Rpc2FibGVkfVxcXCI+e3toZWFkaW5nfX08L3NwYW4+PC9hPlxcblwiICtcbiAgICBcIiAgICA8L2g0PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1jb2xsYXBzZVxcXCIgY29sbGFwc2U9XFxcIiFpc09wZW5cXFwiPlxcblwiICtcbiAgICBcIlx0ICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1ib2R5XFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicGFuZWwtZ3JvdXBcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJhbGVydFxcXCIgbmctY2xhc3M9XFxcIlsnYWxlcnQtJyArICh0eXBlIHx8ICd3YXJuaW5nJyksIGNsb3NlYWJsZSA/ICdhbGVydC1kaXNtaXNzYWJsZScgOiBudWxsXVxcXCIgcm9sZT1cXFwiYWxlcnRcXFwiPlxcblwiICtcbiAgICBcIiAgICA8YnV0dG9uIG5nLXNob3c9XFxcImNsb3NlYWJsZVxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiY2xvc2VcXFwiIG5nLWNsaWNrPVxcXCJjbG9zZSgpXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj4mdGltZXM7PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICAgICAgPHNwYW4gY2xhc3M9XFxcInNyLW9ubHlcXFwiPkNsb3NlPC9zcGFuPlxcblwiICtcbiAgICBcIiAgICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbFwiLFxuICAgIFwiPGRpdiBuZy1tb3VzZWVudGVyPVxcXCJwYXVzZSgpXFxcIiBuZy1tb3VzZWxlYXZlPVxcXCJwbGF5KClcXFwiIGNsYXNzPVxcXCJjYXJvdXNlbFxcXCIgbmctc3dpcGUtcmlnaHQ9XFxcInByZXYoKVxcXCIgbmctc3dpcGUtbGVmdD1cXFwibmV4dCgpXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPG9sIGNsYXNzPVxcXCJjYXJvdXNlbC1pbmRpY2F0b3JzXFxcIiBuZy1zaG93PVxcXCJzbGlkZXMubGVuZ3RoID4gMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8bGkgbmctcmVwZWF0PVxcXCJzbGlkZSBpbiBzbGlkZXMgdHJhY2sgYnkgJGluZGV4XFxcIiBuZy1jbGFzcz1cXFwie2FjdGl2ZTogaXNBY3RpdmUoc2xpZGUpfVxcXCIgbmctY2xpY2s9XFxcInNlbGVjdChzbGlkZSlcXFwiPjwvbGk+XFxuXCIgK1xuICAgIFwiICAgIDwvb2w+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImNhcm91c2VsLWlubmVyXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8YSBjbGFzcz1cXFwibGVmdCBjYXJvdXNlbC1jb250cm9sXFxcIiBuZy1jbGljaz1cXFwicHJldigpXFxcIiBuZy1zaG93PVxcXCJzbGlkZXMubGVuZ3RoID4gMVxcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0XFxcIj48L3NwYW4+PC9hPlxcblwiICtcbiAgICBcIiAgICA8YSBjbGFzcz1cXFwicmlnaHQgY2Fyb3VzZWwtY29udHJvbFxcXCIgbmctY2xpY2s9XFxcIm5leHQoKVxcXCIgbmctc2hvdz1cXFwic2xpZGVzLmxlbmd0aCA+IDFcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHRcXFwiPjwvc3Bhbj48L2E+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sXCIsXG4gICAgXCI8ZGl2IG5nLWNsYXNzPVxcXCJ7XFxuXCIgK1xuICAgIFwiICAgICdhY3RpdmUnOiBsZWF2aW5nIHx8IChhY3RpdmUgJiYgIWVudGVyaW5nKSxcXG5cIiArXG4gICAgXCIgICAgJ3ByZXYnOiAobmV4dCB8fCBhY3RpdmUpICYmIGRpcmVjdGlvbj09J3ByZXYnLFxcblwiICtcbiAgICBcIiAgICAnbmV4dCc6IChuZXh0IHx8IGFjdGl2ZSkgJiYgZGlyZWN0aW9uPT0nbmV4dCcsXFxuXCIgK1xuICAgIFwiICAgICdyaWdodCc6IGRpcmVjdGlvbj09J3ByZXYnLFxcblwiICtcbiAgICBcIiAgICAnbGVmdCc6IGRpcmVjdGlvbj09J25leHQnXFxuXCIgK1xuICAgIFwiICB9XFxcIiBjbGFzcz1cXFwiaXRlbSB0ZXh0LWNlbnRlclxcXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbFwiLFxuICAgIFwiPGRpdiBuZy1zd2l0Y2g9XFxcImRhdGVwaWNrZXJNb2RlXFxcIiByb2xlPVxcXCJhcHBsaWNhdGlvblxcXCIgbmcta2V5ZG93bj1cXFwia2V5ZG93bigkZXZlbnQpXFxcIj5cXG5cIiArXG4gICAgXCIgIDxkYXlwaWNrZXIgbmctc3dpdGNoLXdoZW49XFxcImRheVxcXCIgdGFiaW5kZXg9XFxcIjBcXFwiPjwvZGF5cGlja2VyPlxcblwiICtcbiAgICBcIiAgPG1vbnRocGlja2VyIG5nLXN3aXRjaC13aGVuPVxcXCJtb250aFxcXCIgdGFiaW5kZXg9XFxcIjBcXFwiPjwvbW9udGhwaWNrZXI+XFxuXCIgK1xuICAgIFwiICA8eWVhcnBpY2tlciBuZy1zd2l0Y2gtd2hlbj1cXFwieWVhclxcXCIgdGFiaW5kZXg9XFxcIjBcXFwiPjwveWVhcnBpY2tlcj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWxcIixcbiAgICBcIjx0YWJsZSByb2xlPVxcXCJncmlkXFxcIiBhcmlhLWxhYmVsbGVkYnk9XFxcInt7dW5pcXVlSWR9fS10aXRsZVxcXCIgYXJpYS1hY3RpdmVkZXNjZW5kYW50PVxcXCJ7e2FjdGl2ZURhdGVJZH19XFxcIj5cXG5cIiArXG4gICAgXCIgIDx0aGVhZD5cXG5cIiArXG4gICAgXCIgICAgPHRyPlxcblwiICtcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XFxcIiBuZy1jbGljaz1cXFwibW92ZSgtMSlcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PGkgY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0XFxcIj48L2k+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGggY29sc3Bhbj1cXFwie3s1ICsgc2hvd1dlZWtzfX1cXFwiPjxidXR0b24gaWQ9XFxcInt7dW5pcXVlSWR9fS10aXRsZVxcXCIgcm9sZT1cXFwiaGVhZGluZ1xcXCIgYXJpYS1saXZlPVxcXCJhc3NlcnRpdmVcXFwiIGFyaWEtYXRvbWljPVxcXCJ0cnVlXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidG9nZ2xlTW9kZSgpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiIHN0eWxlPVxcXCJ3aWR0aDoxMDAlO1xcXCI+PHN0cm9uZz57e3RpdGxlfX08L3N0cm9uZz48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodFxcXCIgbmctY2xpY2s9XFxcIm1vdmUoMSlcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PGkgY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodFxcXCI+PC9pPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICAgIDx0cj5cXG5cIiArXG4gICAgXCIgICAgICA8dGggbmctc2hvdz1cXFwic2hvd1dlZWtzXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoIG5nLXJlcGVhdD1cXFwibGFiZWwgaW4gbGFiZWxzIHRyYWNrIGJ5ICRpbmRleFxcXCIgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIj48c21hbGwgYXJpYS1sYWJlbD1cXFwie3tsYWJlbC5mdWxsfX1cXFwiPnt7bGFiZWwuYWJicn19PC9zbWFsbD48L3RoPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90aGVhZD5cXG5cIiArXG4gICAgXCIgIDx0Ym9keT5cXG5cIiArXG4gICAgXCIgICAgPHRyIG5nLXJlcGVhdD1cXFwicm93IGluIHJvd3MgdHJhY2sgYnkgJGluZGV4XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgbmctc2hvdz1cXFwic2hvd1dlZWtzXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXIgaDZcXFwiPjxlbT57eyB3ZWVrTnVtYmVyc1skaW5kZXhdIH19PC9lbT48L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1yZXBlYXQ9XFxcImR0IGluIHJvdyB0cmFjayBieSBkdC5kYXRlXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiIHJvbGU9XFxcImdyaWRjZWxsXFxcIiBpZD1cXFwie3tkdC51aWR9fVxcXCIgYXJpYS1kaXNhYmxlZD1cXFwie3shIWR0LmRpc2FibGVkfX1cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIHN0eWxlPVxcXCJ3aWR0aDoxMDAlO1xcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsYXNzPVxcXCJ7J2J0bi1pbmZvJzogZHQuc2VsZWN0ZWQsIGFjdGl2ZTogaXNBY3RpdmUoZHQpfVxcXCIgbmctY2xpY2s9XFxcInNlbGVjdChkdC5kYXRlKVxcXCIgbmctZGlzYWJsZWQ9XFxcImR0LmRpc2FibGVkXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxzcGFuIG5nLWNsYXNzPVxcXCJ7J3RleHQtbXV0ZWQnOiBkdC5zZWNvbmRhcnksICd0ZXh0LWluZm8nOiBkdC5jdXJyZW50fVxcXCI+e3tkdC5sYWJlbH19PC9zcGFuPjwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgIDwvdGQ+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3Rib2R5PlxcblwiICtcbiAgICBcIjwvdGFibGU+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2RhdGVwaWNrZXIvbW9udGguaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2RhdGVwaWNrZXIvbW9udGguaHRtbFwiLFxuICAgIFwiPHRhYmxlIHJvbGU9XFxcImdyaWRcXFwiIGFyaWEtbGFiZWxsZWRieT1cXFwie3t1bmlxdWVJZH19LXRpdGxlXFxcIiBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9XFxcInt7YWN0aXZlRGF0ZUlkfX1cXFwiPlxcblwiICtcbiAgICBcIiAgPHRoZWFkPlxcblwiICtcbiAgICBcIiAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKC0xKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIGlkPVxcXCJ7e3VuaXF1ZUlkfX0tdGl0bGVcXFwiIHJvbGU9XFxcImhlYWRpbmdcXFwiIGFyaWEtbGl2ZT1cXFwiYXNzZXJ0aXZlXFxcIiBhcmlhLWF0b21pYz1cXFwidHJ1ZVxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInRvZ2dsZU1vZGUoKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiBzdHlsZT1cXFwid2lkdGg6MTAwJTtcXFwiPjxzdHJvbmc+e3t0aXRsZX19PC9zdHJvbmc+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKDEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90aGVhZD5cXG5cIiArXG4gICAgXCIgIDx0Ym9keT5cXG5cIiArXG4gICAgXCIgICAgPHRyIG5nLXJlcGVhdD1cXFwicm93IGluIHJvd3MgdHJhY2sgYnkgJGluZGV4XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgbmctcmVwZWF0PVxcXCJkdCBpbiByb3cgdHJhY2sgYnkgZHQuZGF0ZVxcXCIgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIiByb2xlPVxcXCJncmlkY2VsbFxcXCIgaWQ9XFxcInt7ZHQudWlkfX1cXFwiIGFyaWEtZGlzYWJsZWQ9XFxcInt7ISFkdC5kaXNhYmxlZH19XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBzdHlsZT1cXFwid2lkdGg6MTAwJTtcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIG5nLWNsYXNzPVxcXCJ7J2J0bi1pbmZvJzogZHQuc2VsZWN0ZWQsIGFjdGl2ZTogaXNBY3RpdmUoZHQpfVxcXCIgbmctY2xpY2s9XFxcInNlbGVjdChkdC5kYXRlKVxcXCIgbmctZGlzYWJsZWQ9XFxcImR0LmRpc2FibGVkXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxzcGFuIG5nLWNsYXNzPVxcXCJ7J3RleHQtaW5mbyc6IGR0LmN1cnJlbnR9XFxcIj57e2R0LmxhYmVsfX08L3NwYW4+PC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgIDwvdGJvZHk+XFxuXCIgK1xuICAgIFwiPC90YWJsZT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvZGF0ZXBpY2tlci9wb3B1cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvZGF0ZXBpY2tlci9wb3B1cC5odG1sXCIsXG4gICAgXCI8dWwgY2xhc3M9XFxcImRyb3Bkb3duLW1lbnVcXFwiIG5nLXN0eWxlPVxcXCJ7ZGlzcGxheTogKGlzT3BlbiAmJiAnYmxvY2snKSB8fCAnbm9uZScsIHRvcDogcG9zaXRpb24udG9wKydweCcsIGxlZnQ6IHBvc2l0aW9uLmxlZnQrJ3B4J31cXFwiIG5nLWtleWRvd249XFxcImtleWRvd24oJGV2ZW50KVxcXCI+XFxuXCIgK1xuICAgIFwiXHQ8bGkgbmctdHJhbnNjbHVkZT48L2xpPlxcblwiICtcbiAgICBcIlx0PGxpIG5nLWlmPVxcXCJzaG93QnV0dG9uQmFyXFxcIiBzdHlsZT1cXFwicGFkZGluZzoxMHB4IDlweCAycHhcXFwiPlxcblwiICtcbiAgICBcIlx0XHQ8c3BhbiBjbGFzcz1cXFwiYnRuLWdyb3VwXFxcIj5cXG5cIiArXG4gICAgXCJcdFx0XHQ8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc20gYnRuLWluZm9cXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3QoJ3RvZGF5JylcXFwiPnt7IGdldFRleHQoJ2N1cnJlbnQnKSB9fTwvYnV0dG9uPlxcblwiICtcbiAgICBcIlx0XHRcdDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zbSBidG4tZGFuZ2VyXFxcIiBuZy1jbGljaz1cXFwic2VsZWN0KG51bGwpXFxcIj57eyBnZXRUZXh0KCdjbGVhcicpIH19PC9idXR0b24+XFxuXCIgK1xuICAgIFwiXHRcdDwvc3Bhbj5cXG5cIiArXG4gICAgXCJcdFx0PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXNtIGJ0bi1zdWNjZXNzIHB1bGwtcmlnaHRcXFwiIG5nLWNsaWNrPVxcXCJjbG9zZSgpXFxcIj57eyBnZXRUZXh0KCdjbG9zZScpIH19PC9idXR0b24+XFxuXCIgK1xuICAgIFwiXHQ8L2xpPlxcblwiICtcbiAgICBcIjwvdWw+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvZGF0ZXBpY2tlci95ZWFyLmh0bWxcIixcbiAgICBcIjx0YWJsZSByb2xlPVxcXCJncmlkXFxcIiBhcmlhLWxhYmVsbGVkYnk9XFxcInt7dW5pcXVlSWR9fS10aXRsZVxcXCIgYXJpYS1hY3RpdmVkZXNjZW5kYW50PVxcXCJ7e2FjdGl2ZURhdGVJZH19XFxcIj5cXG5cIiArXG4gICAgXCIgIDx0aGVhZD5cXG5cIiArXG4gICAgXCIgICAgPHRyPlxcblwiICtcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XFxcIiBuZy1jbGljaz1cXFwibW92ZSgtMSlcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PGkgY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0XFxcIj48L2k+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGggY29sc3Bhbj1cXFwiM1xcXCI+PGJ1dHRvbiBpZD1cXFwie3t1bmlxdWVJZH19LXRpdGxlXFxcIiByb2xlPVxcXCJoZWFkaW5nXFxcIiBhcmlhLWxpdmU9XFxcImFzc2VydGl2ZVxcXCIgYXJpYS1hdG9taWM9XFxcInRydWVcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ0b2dnbGVNb2RlKClcXFwiIHRhYmluZGV4PVxcXCItMVxcXCIgc3R5bGU9XFxcIndpZHRoOjEwMCU7XFxcIj48c3Ryb25nPnt7dGl0bGV9fTwvc3Ryb25nPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLXJpZ2h0XFxcIiBuZy1jbGljaz1cXFwibW92ZSgxKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXJpZ2h0XFxcIj48L2k+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgIDwvdGhlYWQ+XFxuXCIgK1xuICAgIFwiICA8dGJvZHk+XFxuXCIgK1xuICAgIFwiICAgIDx0ciBuZy1yZXBlYXQ9XFxcInJvdyBpbiByb3dzIHRyYWNrIGJ5ICRpbmRleFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIG5nLXJlcGVhdD1cXFwiZHQgaW4gcm93IHRyYWNrIGJ5IGR0LmRhdGVcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCIgcm9sZT1cXFwiZ3JpZGNlbGxcXFwiIGlkPVxcXCJ7e2R0LnVpZH19XFxcIiBhcmlhLWRpc2FibGVkPVxcXCJ7eyEhZHQuZGlzYWJsZWR9fVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgc3R5bGU9XFxcIndpZHRoOjEwMCU7XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIiBuZy1jbGFzcz1cXFwieydidG4taW5mbyc6IGR0LnNlbGVjdGVkLCBhY3RpdmU6IGlzQWN0aXZlKGR0KX1cXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3QoZHQuZGF0ZSlcXFwiIG5nLWRpc2FibGVkPVxcXCJkdC5kaXNhYmxlZFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48c3BhbiBuZy1jbGFzcz1cXFwieyd0ZXh0LWluZm8nOiBkdC5jdXJyZW50fVxcXCI+e3tkdC5sYWJlbH19PC9zcGFuPjwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgIDwvdGQ+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3Rib2R5PlxcblwiICtcbiAgICBcIjwvdGFibGU+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1iYWNrZHJvcCBmYWRlIHt7IGJhY2tkcm9wQ2xhc3MgfX1cXFwiXFxuXCIgK1xuICAgIFwiICAgICBuZy1jbGFzcz1cXFwie2luOiBhbmltYXRlfVxcXCJcXG5cIiArXG4gICAgXCIgICAgIG5nLXN0eWxlPVxcXCJ7J3otaW5kZXgnOiAxMDQwICsgKGluZGV4ICYmIDEgfHwgMCkgKyBpbmRleCoxMH1cXFwiXFxuXCIgK1xuICAgIFwiPjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL21vZGFsL3dpbmRvdy5odG1sXCIsXG4gICAgXCI8ZGl2IHRhYmluZGV4PVxcXCItMVxcXCIgcm9sZT1cXFwiZGlhbG9nXFxcIiBjbGFzcz1cXFwibW9kYWwgZmFkZVxcXCIgbmctY2xhc3M9XFxcIntpbjogYW5pbWF0ZX1cXFwiIG5nLXN0eWxlPVxcXCJ7J3otaW5kZXgnOiAxMDUwICsgaW5kZXgqMTAsIGRpc3BsYXk6ICdibG9jayd9XFxcIiBuZy1jbGljaz1cXFwiY2xvc2UoJGV2ZW50KVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWRpYWxvZ1xcXCIgbmctY2xhc3M9XFxcInsnbW9kYWwtc20nOiBzaXplID09ICdzbScsICdtb2RhbC1sZyc6IHNpemUgPT0gJ2xnJ31cXFwiPjxkaXYgY2xhc3M9XFxcIm1vZGFsLWNvbnRlbnRcXFwiIG1vZGFsLXRyYW5zY2x1ZGU+PC9kaXY+PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnZXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnZXIuaHRtbFwiLFxuICAgIFwiPHVsIGNsYXNzPVxcXCJwYWdlclxcXCI+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9QcmV2aW91cygpLCBwcmV2aW91czogYWxpZ259XFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKHBhZ2UgLSAxKVxcXCI+e3tnZXRUZXh0KCdwcmV2aW91cycpfX08L2E+PC9saT5cXG5cIiArXG4gICAgXCIgIDxsaSBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub05leHQoKSwgbmV4dDogYWxpZ259XFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKHBhZ2UgKyAxKVxcXCI+e3tnZXRUZXh0KCduZXh0Jyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIjwvdWw+XCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmh0bWxcIixcbiAgICBcIjx1bCBjbGFzcz1cXFwicGFnaW5hdGlvblxcXCI+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctaWY9XFxcImJvdW5kYXJ5TGlua3NcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vUHJldmlvdXMoKX1cXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UoMSlcXFwiPnt7Z2V0VGV4dCgnZmlyc3QnKX19PC9hPjwvbGk+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctaWY9XFxcImRpcmVjdGlvbkxpbmtzXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub1ByZXZpb3VzKCl9XFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKHBhZ2UgLSAxKVxcXCI+e3tnZXRUZXh0KCdwcmV2aW91cycpfX08L2E+PC9saT5cXG5cIiArXG4gICAgXCIgIDxsaSBuZy1yZXBlYXQ9XFxcInBhZ2UgaW4gcGFnZXMgdHJhY2sgYnkgJGluZGV4XFxcIiBuZy1jbGFzcz1cXFwie2FjdGl2ZTogcGFnZS5hY3RpdmV9XFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKHBhZ2UubnVtYmVyKVxcXCI+e3twYWdlLnRleHR9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWlmPVxcXCJkaXJlY3Rpb25MaW5rc1xcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9OZXh0KCl9XFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKHBhZ2UgKyAxKVxcXCI+e3tnZXRUZXh0KCduZXh0Jyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWlmPVxcXCJib3VuZGFyeUxpbmtzXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub05leHQoKX1cXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UodG90YWxQYWdlcylcXFwiPnt7Z2V0VGV4dCgnbGFzdCcpfX08L2E+PC9saT5cXG5cIiArXG4gICAgXCI8L3VsPlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC11bnNhZmUtcG9wdXAuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXVuc2FmZS1wb3B1cC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwIHt7cGxhY2VtZW50fX1cXFwiIG5nLWNsYXNzPVxcXCJ7IGluOiBpc09wZW4oKSwgZmFkZTogYW5pbWF0aW9uKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWFycm93XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtaW5uZXJcXFwiIGJpbmQtaHRtbC11bnNhZmU9XFxcImNvbnRlbnRcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwIHt7cGxhY2VtZW50fX1cXFwiIG5nLWNsYXNzPVxcXCJ7IGluOiBpc09wZW4oKSwgZmFkZTogYW5pbWF0aW9uKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWFycm93XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtaW5uZXJcXFwiIG5nLWJpbmQ9XFxcImNvbnRlbnRcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyIHt7cGxhY2VtZW50fX1cXFwiIG5nLWNsYXNzPVxcXCJ7IGluOiBpc09wZW4oKSwgZmFkZTogYW5pbWF0aW9uKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJhcnJvd1xcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyLWlubmVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8aDMgY2xhc3M9XFxcInBvcG92ZXItdGl0bGVcXFwiIG5nLWJpbmQ9XFxcInRpdGxlXFxcIiBuZy1zaG93PVxcXCJ0aXRsZVxcXCI+PC9oMz5cXG5cIiArXG4gICAgXCIgICAgICA8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyLWNvbnRlbnRcXFwiIG5nLWJpbmQ9XFxcImNvbnRlbnRcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3Byb2dyZXNzYmFyL2Jhci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInByb2dyZXNzLWJhclxcXCIgbmctY2xhc3M9XFxcInR5cGUgJiYgJ3Byb2dyZXNzLWJhci0nICsgdHlwZVxcXCIgcm9sZT1cXFwicHJvZ3Jlc3NiYXJcXFwiIGFyaWEtdmFsdWVub3c9XFxcInt7dmFsdWV9fVxcXCIgYXJpYS12YWx1ZW1pbj1cXFwiMFxcXCIgYXJpYS12YWx1ZW1heD1cXFwie3ttYXh9fVxcXCIgbmctc3R5bGU9XFxcInt3aWR0aDogcGVyY2VudCArICclJ31cXFwiIGFyaWEtdmFsdWV0ZXh0PVxcXCJ7e3BlcmNlbnQgfCBudW1iZXI6MH19JVxcXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInByb2dyZXNzXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3NcXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3MtYmFyXFxcIiBuZy1jbGFzcz1cXFwidHlwZSAmJiAncHJvZ3Jlc3MtYmFyLScgKyB0eXBlXFxcIiByb2xlPVxcXCJwcm9ncmVzc2JhclxcXCIgYXJpYS12YWx1ZW5vdz1cXFwie3t2YWx1ZX19XFxcIiBhcmlhLXZhbHVlbWluPVxcXCIwXFxcIiBhcmlhLXZhbHVlbWF4PVxcXCJ7e21heH19XFxcIiBuZy1zdHlsZT1cXFwie3dpZHRoOiBwZXJjZW50ICsgJyUnfVxcXCIgYXJpYS12YWx1ZXRleHQ9XFxcInt7cGVyY2VudCB8IG51bWJlcjowfX0lXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9yYXRpbmcvcmF0aW5nLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9yYXRpbmcvcmF0aW5nLmh0bWxcIixcbiAgICBcIjxzcGFuIG5nLW1vdXNlbGVhdmU9XFxcInJlc2V0KClcXFwiIG5nLWtleWRvd249XFxcIm9uS2V5ZG93bigkZXZlbnQpXFxcIiB0YWJpbmRleD1cXFwiMFxcXCIgcm9sZT1cXFwic2xpZGVyXFxcIiBhcmlhLXZhbHVlbWluPVxcXCIwXFxcIiBhcmlhLXZhbHVlbWF4PVxcXCJ7e3JhbmdlLmxlbmd0aH19XFxcIiBhcmlhLXZhbHVlbm93PVxcXCJ7e3ZhbHVlfX1cXFwiPlxcblwiICtcbiAgICBcIiAgICA8aSBuZy1yZXBlYXQ9XFxcInIgaW4gcmFuZ2UgdHJhY2sgYnkgJGluZGV4XFxcIiBuZy1tb3VzZWVudGVyPVxcXCJlbnRlcigkaW5kZXggKyAxKVxcXCIgbmctY2xpY2s9XFxcInJhdGUoJGluZGV4ICsgMSlcXFwiIGNsYXNzPVxcXCJnbHlwaGljb25cXFwiIG5nLWNsYXNzPVxcXCIkaW5kZXggPCB2YWx1ZSAmJiAoci5zdGF0ZU9uIHx8ICdnbHlwaGljb24tc3RhcicpIHx8IChyLnN0YXRlT2ZmIHx8ICdnbHlwaGljb24tc3Rhci1lbXB0eScpXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzci1vbmx5XFxcIj4oe3sgJGluZGV4IDwgdmFsdWUgPyAnKicgOiAnICcgfX0pPC9zcGFuPlxcblwiICtcbiAgICBcIiAgICA8L2k+XFxuXCIgK1xuICAgIFwiPC9zcGFuPlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90YWJzL3RhYi5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdGFicy90YWIuaHRtbFwiLFxuICAgIFwiPGxpIG5nLWNsYXNzPVxcXCJ7YWN0aXZlOiBhY3RpdmUsIGRpc2FibGVkOiBkaXNhYmxlZH1cXFwiPlxcblwiICtcbiAgICBcIiAgPGEgbmctY2xpY2s9XFxcInNlbGVjdCgpXFxcIiB0YWItaGVhZGluZy10cmFuc2NsdWRlPnt7aGVhZGluZ319PC9hPlxcblwiICtcbiAgICBcIjwvbGk+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sXCIsXG4gICAgXCI8ZGl2PlxcblwiICtcbiAgICBcIiAgPHVsIGNsYXNzPVxcXCJuYXYgbmF2LXt7dHlwZSB8fCAndGFicyd9fVxcXCIgbmctY2xhc3M9XFxcInsnbmF2LXN0YWNrZWQnOiB2ZXJ0aWNhbCwgJ25hdi1qdXN0aWZpZWQnOiBqdXN0aWZpZWR9XFxcIiBuZy10cmFuc2NsdWRlPjwvdWw+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0YWItY29udGVudFxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcInRhYi1wYW5lXFxcIiBcXG5cIiArXG4gICAgXCIgICAgICAgICBuZy1yZXBlYXQ9XFxcInRhYiBpbiB0YWJzXFxcIiBcXG5cIiArXG4gICAgXCIgICAgICAgICBuZy1jbGFzcz1cXFwie2FjdGl2ZTogdGFiLmFjdGl2ZX1cXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgdGFiLWNvbnRlbnQtdHJhbnNjbHVkZT1cXFwidGFiXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbFwiLFxuICAgIFwiPHRhYmxlPlxcblwiICtcbiAgICBcIlx0PHRib2R5PlxcblwiICtcbiAgICBcIlx0XHQ8dHIgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIj5cXG5cIiArXG4gICAgXCJcdFx0XHQ8dGQ+PGEgbmctY2xpY2s9XFxcImluY3JlbWVudEhvdXJzKClcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmtcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tdXBcXFwiPjwvc3Bhbj48L2E+PC90ZD5cXG5cIiArXG4gICAgXCJcdFx0XHQ8dGQ+Jm5ic3A7PC90ZD5cXG5cIiArXG4gICAgXCJcdFx0XHQ8dGQ+PGEgbmctY2xpY2s9XFxcImluY3JlbWVudE1pbnV0ZXMoKVxcXCIgY2xhc3M9XFxcImJ0biBidG4tbGlua1xcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi11cFxcXCI+PC9zcGFuPjwvYT48L3RkPlxcblwiICtcbiAgICBcIlx0XHRcdDx0ZCBuZy1zaG93PVxcXCJzaG93TWVyaWRpYW5cXFwiPjwvdGQ+XFxuXCIgK1xuICAgIFwiXHRcdDwvdHI+XFxuXCIgK1xuICAgIFwiXHRcdDx0cj5cXG5cIiArXG4gICAgXCJcdFx0XHQ8dGQgc3R5bGU9XFxcIndpZHRoOjUwcHg7XFxcIiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCIgbmctY2xhc3M9XFxcInsnaGFzLWVycm9yJzogaW52YWxpZEhvdXJzfVxcXCI+XFxuXCIgK1xuICAgIFwiXHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgbmctbW9kZWw9XFxcImhvdXJzXFxcIiBuZy1jaGFuZ2U9XFxcInVwZGF0ZUhvdXJzKClcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgdGV4dC1jZW50ZXJcXFwiIG5nLW1vdXNld2hlZWw9XFxcImluY3JlbWVudEhvdXJzKClcXFwiIG5nLXJlYWRvbmx5PVxcXCJyZWFkb25seUlucHV0XFxcIiBtYXhsZW5ndGg9XFxcIjJcXFwiPlxcblwiICtcbiAgICBcIlx0XHRcdDwvdGQ+XFxuXCIgK1xuICAgIFwiXHRcdFx0PHRkPjo8L3RkPlxcblwiICtcbiAgICBcIlx0XHRcdDx0ZCBzdHlsZT1cXFwid2lkdGg6NTBweDtcXFwiIGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIiBuZy1jbGFzcz1cXFwieydoYXMtZXJyb3InOiBpbnZhbGlkTWludXRlc31cXFwiPlxcblwiICtcbiAgICBcIlx0XHRcdFx0PGlucHV0IHR5cGU9XFxcInRleHRcXFwiIG5nLW1vZGVsPVxcXCJtaW51dGVzXFxcIiBuZy1jaGFuZ2U9XFxcInVwZGF0ZU1pbnV0ZXMoKVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbCB0ZXh0LWNlbnRlclxcXCIgbmctcmVhZG9ubHk9XFxcInJlYWRvbmx5SW5wdXRcXFwiIG1heGxlbmd0aD1cXFwiMlxcXCI+XFxuXCIgK1xuICAgIFwiXHRcdFx0PC90ZD5cXG5cIiArXG4gICAgXCJcdFx0XHQ8dGQgbmctc2hvdz1cXFwic2hvd01lcmlkaWFuXFxcIj48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCB0ZXh0LWNlbnRlclxcXCIgbmctY2xpY2s9XFxcInRvZ2dsZU1lcmlkaWFuKClcXFwiPnt7bWVyaWRpYW59fTwvYnV0dG9uPjwvdGQ+XFxuXCIgK1xuICAgIFwiXHRcdDwvdHI+XFxuXCIgK1xuICAgIFwiXHRcdDx0ciBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiPlxcblwiICtcbiAgICBcIlx0XHRcdDx0ZD48YSBuZy1jbGljaz1cXFwiZGVjcmVtZW50SG91cnMoKVxcXCIgY2xhc3M9XFxcImJ0biBidG4tbGlua1xcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1kb3duXFxcIj48L3NwYW4+PC9hPjwvdGQ+XFxuXCIgK1xuICAgIFwiXHRcdFx0PHRkPiZuYnNwOzwvdGQ+XFxuXCIgK1xuICAgIFwiXHRcdFx0PHRkPjxhIG5nLWNsaWNrPVxcXCJkZWNyZW1lbnRNaW51dGVzKClcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmtcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tZG93blxcXCI+PC9zcGFuPjwvYT48L3RkPlxcblwiICtcbiAgICBcIlx0XHRcdDx0ZCBuZy1zaG93PVxcXCJzaG93TWVyaWRpYW5cXFwiPjwvdGQ+XFxuXCIgK1xuICAgIFwiXHRcdDwvdHI+XFxuXCIgK1xuICAgIFwiXHQ8L3Rib2R5PlxcblwiICtcbiAgICBcIjwvdGFibGU+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbFwiLFxuICAgIFwiPGEgdGFiaW5kZXg9XFxcIi0xXFxcIiBiaW5kLWh0bWwtdW5zYWZlPVxcXCJtYXRjaC5sYWJlbCB8IHR5cGVhaGVhZEhpZ2hsaWdodDpxdWVyeVxcXCI+PC9hPlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWxcIixcbiAgICBcIjx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCIgbmctc2hvdz1cXFwiaXNPcGVuKClcXFwiIG5nLXN0eWxlPVxcXCJ7dG9wOiBwb3NpdGlvbi50b3ArJ3B4JywgbGVmdDogcG9zaXRpb24ubGVmdCsncHgnfVxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IGJsb2NrO1xcXCIgcm9sZT1cXFwibGlzdGJveFxcXCIgYXJpYS1oaWRkZW49XFxcInt7IWlzT3BlbigpfX1cXFwiPlxcblwiICtcbiAgICBcIiAgICA8bGkgbmctcmVwZWF0PVxcXCJtYXRjaCBpbiBtYXRjaGVzIHRyYWNrIGJ5ICRpbmRleFxcXCIgbmctY2xhc3M9XFxcInthY3RpdmU6IGlzQWN0aXZlKCRpbmRleCkgfVxcXCIgbmctbW91c2VlbnRlcj1cXFwic2VsZWN0QWN0aXZlKCRpbmRleClcXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3RNYXRjaCgkaW5kZXgpXFxcIiByb2xlPVxcXCJvcHRpb25cXFwiIGlkPVxcXCJ7e21hdGNoLmlkfX1cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGRpdiB0eXBlYWhlYWQtbWF0Y2ggaW5kZXg9XFxcIiRpbmRleFxcXCIgbWF0Y2g9XFxcIm1hdGNoXFxcIiBxdWVyeT1cXFwicXVlcnlcXFwiIHRlbXBsYXRlLXVybD1cXFwidGVtcGxhdGVVcmxcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8L2xpPlxcblwiICtcbiAgICBcIjwvdWw+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuIiwiLyoqXG4gKiBAbGljZW5zZSBBbmd1bGFySlMgdjEuMy4xXG4gKiAoYykgMjAxMC0yMDE0IEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhcmpzLm9yZ1xuICogTGljZW5zZTogTUlUXG4gKi9cbihmdW5jdGlvbih3aW5kb3csIGFuZ3VsYXIsIHVuZGVmaW5lZCkgeyd1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBuZ1JvdXRlXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiAjIG5nUm91dGVcbiAqXG4gKiBUaGUgYG5nUm91dGVgIG1vZHVsZSBwcm92aWRlcyByb3V0aW5nIGFuZCBkZWVwbGlua2luZyBzZXJ2aWNlcyBhbmQgZGlyZWN0aXZlcyBmb3IgYW5ndWxhciBhcHBzLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqIFNlZSB7QGxpbmsgbmdSb3V0ZS4kcm91dGUjZXhhbXBsZSAkcm91dGV9IGZvciBhbiBleGFtcGxlIG9mIGNvbmZpZ3VyaW5nIGFuZCB1c2luZyBgbmdSb3V0ZWAuXG4gKlxuICpcbiAqIDxkaXYgZG9jLW1vZHVsZS1jb21wb25lbnRzPVwibmdSb3V0ZVwiPjwvZGl2PlxuICovXG4gLyogZ2xvYmFsIC1uZ1JvdXRlTW9kdWxlICovXG52YXIgbmdSb3V0ZU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCduZ1JvdXRlJywgWyduZyddKS5cbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyKCckcm91dGUnLCAkUm91dGVQcm92aWRlciksXG4gICAgJHJvdXRlTWluRXJyID0gYW5ndWxhci4kJG1pbkVycignbmdSb3V0ZScpO1xuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJHJvdXRlUHJvdmlkZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBVc2VkIGZvciBjb25maWd1cmluZyByb3V0ZXMuXG4gKlxuICogIyMgRXhhbXBsZVxuICogU2VlIHtAbGluayBuZ1JvdXRlLiRyb3V0ZSNleGFtcGxlICRyb3V0ZX0gZm9yIGFuIGV4YW1wbGUgb2YgY29uZmlndXJpbmcgYW5kIHVzaW5nIGBuZ1JvdXRlYC5cbiAqXG4gKiAjIyBEZXBlbmRlbmNpZXNcbiAqIFJlcXVpcmVzIHRoZSB7QGxpbmsgbmdSb3V0ZSBgbmdSb3V0ZWB9IG1vZHVsZSB0byBiZSBpbnN0YWxsZWQuXG4gKi9cbmZ1bmN0aW9uICRSb3V0ZVByb3ZpZGVyKCkge1xuICBmdW5jdGlvbiBpbmhlcml0KHBhcmVudCwgZXh0cmEpIHtcbiAgICByZXR1cm4gYW5ndWxhci5leHRlbmQobmV3IChhbmd1bGFyLmV4dGVuZChmdW5jdGlvbigpIHt9LCB7cHJvdG90eXBlOnBhcmVudH0pKSgpLCBleHRyYSk7XG4gIH1cblxuICB2YXIgcm91dGVzID0ge307XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJHJvdXRlUHJvdmlkZXIjd2hlblxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBSb3V0ZSBwYXRoIChtYXRjaGVkIGFnYWluc3QgYCRsb2NhdGlvbi5wYXRoYCkuIElmIGAkbG9jYXRpb24ucGF0aGBcbiAgICogICAgY29udGFpbnMgcmVkdW5kYW50IHRyYWlsaW5nIHNsYXNoIG9yIGlzIG1pc3Npbmcgb25lLCB0aGUgcm91dGUgd2lsbCBzdGlsbCBtYXRjaCBhbmQgdGhlXG4gICAqICAgIGAkbG9jYXRpb24ucGF0aGAgd2lsbCBiZSB1cGRhdGVkIHRvIGFkZCBvciBkcm9wIHRoZSB0cmFpbGluZyBzbGFzaCB0byBleGFjdGx5IG1hdGNoIHRoZVxuICAgKiAgICByb3V0ZSBkZWZpbml0aW9uLlxuICAgKlxuICAgKiAgICAqIGBwYXRoYCBjYW4gY29udGFpbiBuYW1lZCBncm91cHMgc3RhcnRpbmcgd2l0aCBhIGNvbG9uOiBlLmcuIGA6bmFtZWAuIEFsbCBjaGFyYWN0ZXJzIHVwXG4gICAqICAgICAgICB0byB0aGUgbmV4dCBzbGFzaCBhcmUgbWF0Y2hlZCBhbmQgc3RvcmVkIGluIGAkcm91dGVQYXJhbXNgIHVuZGVyIHRoZSBnaXZlbiBgbmFtZWBcbiAgICogICAgICAgIHdoZW4gdGhlIHJvdXRlIG1hdGNoZXMuXG4gICAqICAgICogYHBhdGhgIGNhbiBjb250YWluIG5hbWVkIGdyb3VwcyBzdGFydGluZyB3aXRoIGEgY29sb24gYW5kIGVuZGluZyB3aXRoIGEgc3RhcjpcbiAgICogICAgICAgIGUuZy5gOm5hbWUqYC4gQWxsIGNoYXJhY3RlcnMgYXJlIGVhZ2VybHkgc3RvcmVkIGluIGAkcm91dGVQYXJhbXNgIHVuZGVyIHRoZSBnaXZlbiBgbmFtZWBcbiAgICogICAgICAgIHdoZW4gdGhlIHJvdXRlIG1hdGNoZXMuXG4gICAqICAgICogYHBhdGhgIGNhbiBjb250YWluIG9wdGlvbmFsIG5hbWVkIGdyb3VwcyB3aXRoIGEgcXVlc3Rpb24gbWFyazogZS5nLmA6bmFtZT9gLlxuICAgKlxuICAgKiAgICBGb3IgZXhhbXBsZSwgcm91dGVzIGxpa2UgYC9jb2xvci86Y29sb3IvbGFyZ2Vjb2RlLzpsYXJnZWNvZGUqXFwvZWRpdGAgd2lsbCBtYXRjaFxuICAgKiAgICBgL2NvbG9yL2Jyb3duL2xhcmdlY29kZS9jb2RlL3dpdGgvc2xhc2hlcy9lZGl0YCBhbmQgZXh0cmFjdDpcbiAgICpcbiAgICogICAgKiBgY29sb3I6IGJyb3duYFxuICAgKiAgICAqIGBsYXJnZWNvZGU6IGNvZGUvd2l0aC9zbGFzaGVzYC5cbiAgICpcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHJvdXRlIE1hcHBpbmcgaW5mb3JtYXRpb24gdG8gYmUgYXNzaWduZWQgdG8gYCRyb3V0ZS5jdXJyZW50YCBvbiByb3V0ZVxuICAgKiAgICBtYXRjaC5cbiAgICpcbiAgICogICAgT2JqZWN0IHByb3BlcnRpZXM6XG4gICAqXG4gICAqICAgIC0gYGNvbnRyb2xsZXJgIOKAkyBgeyhzdHJpbmd8ZnVuY3Rpb24oKT19YCDigJMgQ29udHJvbGxlciBmbiB0aGF0IHNob3VsZCBiZSBhc3NvY2lhdGVkIHdpdGhcbiAgICogICAgICBuZXdseSBjcmVhdGVkIHNjb3BlIG9yIHRoZSBuYW1lIG9mIGEge0BsaW5rIGFuZ3VsYXIuTW9kdWxlI2NvbnRyb2xsZXIgcmVnaXN0ZXJlZFxuICAgKiAgICAgIGNvbnRyb2xsZXJ9IGlmIHBhc3NlZCBhcyBhIHN0cmluZy5cbiAgICogICAgLSBgY29udHJvbGxlckFzYCDigJMgYHtzdHJpbmc9fWAg4oCTIEEgY29udHJvbGxlciBhbGlhcyBuYW1lLiBJZiBwcmVzZW50IHRoZSBjb250cm9sbGVyIHdpbGwgYmVcbiAgICogICAgICBwdWJsaXNoZWQgdG8gc2NvcGUgdW5kZXIgdGhlIGBjb250cm9sbGVyQXNgIG5hbWUuXG4gICAqICAgIC0gYHRlbXBsYXRlYCDigJMgYHtzdHJpbmc9fGZ1bmN0aW9uKCk9fWAg4oCTIGh0bWwgdGVtcGxhdGUgYXMgYSBzdHJpbmcgb3IgYSBmdW5jdGlvbiB0aGF0XG4gICAqICAgICAgcmV0dXJucyBhbiBodG1sIHRlbXBsYXRlIGFzIGEgc3RyaW5nIHdoaWNoIHNob3VsZCBiZSB1c2VkIGJ5IHtAbGlua1xuICAgKiAgICAgIG5nUm91dGUuZGlyZWN0aXZlOm5nVmlldyBuZ1ZpZXd9IG9yIHtAbGluayBuZy5kaXJlY3RpdmU6bmdJbmNsdWRlIG5nSW5jbHVkZX0gZGlyZWN0aXZlcy5cbiAgICogICAgICBUaGlzIHByb3BlcnR5IHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgdGVtcGxhdGVVcmxgLlxuICAgKlxuICAgKiAgICAgIElmIGB0ZW1wbGF0ZWAgaXMgYSBmdW5jdGlvbiwgaXQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gICAqXG4gICAqICAgICAgLSBge0FycmF5LjxPYmplY3Q+fWAgLSByb3V0ZSBwYXJhbWV0ZXJzIGV4dHJhY3RlZCBmcm9tIHRoZSBjdXJyZW50XG4gICAqICAgICAgICBgJGxvY2F0aW9uLnBhdGgoKWAgYnkgYXBwbHlpbmcgdGhlIGN1cnJlbnQgcm91dGVcbiAgICpcbiAgICogICAgLSBgdGVtcGxhdGVVcmxgIOKAkyBge3N0cmluZz18ZnVuY3Rpb24oKT19YCDigJMgcGF0aCBvciBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBwYXRoIHRvIGFuIGh0bWxcbiAgICogICAgICB0ZW1wbGF0ZSB0aGF0IHNob3VsZCBiZSB1c2VkIGJ5IHtAbGluayBuZ1JvdXRlLmRpcmVjdGl2ZTpuZ1ZpZXcgbmdWaWV3fS5cbiAgICpcbiAgICogICAgICBJZiBgdGVtcGxhdGVVcmxgIGlzIGEgZnVuY3Rpb24sIGl0IHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGZvbGxvd2luZyBwYXJhbWV0ZXJzOlxuICAgKlxuICAgKiAgICAgIC0gYHtBcnJheS48T2JqZWN0Pn1gIC0gcm91dGUgcGFyYW1ldGVycyBleHRyYWN0ZWQgZnJvbSB0aGUgY3VycmVudFxuICAgKiAgICAgICAgYCRsb2NhdGlvbi5wYXRoKClgIGJ5IGFwcGx5aW5nIHRoZSBjdXJyZW50IHJvdXRlXG4gICAqXG4gICAqICAgIC0gYHJlc29sdmVgIC0gYHtPYmplY3QuPHN0cmluZywgZnVuY3Rpb24+PX1gIC0gQW4gb3B0aW9uYWwgbWFwIG9mIGRlcGVuZGVuY2llcyB3aGljaCBzaG91bGRcbiAgICogICAgICBiZSBpbmplY3RlZCBpbnRvIHRoZSBjb250cm9sbGVyLiBJZiBhbnkgb2YgdGhlc2UgZGVwZW5kZW5jaWVzIGFyZSBwcm9taXNlcywgdGhlIHJvdXRlclxuICAgKiAgICAgIHdpbGwgd2FpdCBmb3IgdGhlbSBhbGwgdG8gYmUgcmVzb2x2ZWQgb3Igb25lIHRvIGJlIHJlamVjdGVkIGJlZm9yZSB0aGUgY29udHJvbGxlciBpc1xuICAgKiAgICAgIGluc3RhbnRpYXRlZC5cbiAgICogICAgICBJZiBhbGwgdGhlIHByb21pc2VzIGFyZSByZXNvbHZlZCBzdWNjZXNzZnVsbHksIHRoZSB2YWx1ZXMgb2YgdGhlIHJlc29sdmVkIHByb21pc2VzIGFyZVxuICAgKiAgICAgIGluamVjdGVkIGFuZCB7QGxpbmsgbmdSb3V0ZS4kcm91dGUjJHJvdXRlQ2hhbmdlU3VjY2VzcyAkcm91dGVDaGFuZ2VTdWNjZXNzfSBldmVudCBpc1xuICAgKiAgICAgIGZpcmVkLiBJZiBhbnkgb2YgdGhlIHByb21pc2VzIGFyZSByZWplY3RlZCB0aGVcbiAgICogICAgICB7QGxpbmsgbmdSb3V0ZS4kcm91dGUjJHJvdXRlQ2hhbmdlRXJyb3IgJHJvdXRlQ2hhbmdlRXJyb3J9IGV2ZW50IGlzIGZpcmVkLiBUaGUgbWFwIG9iamVjdFxuICAgKiAgICAgIGlzOlxuICAgKlxuICAgKiAgICAgIC0gYGtleWAg4oCTIGB7c3RyaW5nfWA6IGEgbmFtZSBvZiBhIGRlcGVuZGVuY3kgdG8gYmUgaW5qZWN0ZWQgaW50byB0aGUgY29udHJvbGxlci5cbiAgICogICAgICAtIGBmYWN0b3J5YCAtIGB7c3RyaW5nfGZ1bmN0aW9ufWA6IElmIGBzdHJpbmdgIHRoZW4gaXQgaXMgYW4gYWxpYXMgZm9yIGEgc2VydmljZS5cbiAgICogICAgICAgIE90aGVyd2lzZSBpZiBmdW5jdGlvbiwgdGhlbiBpdCBpcyB7QGxpbmsgYXV0by4kaW5qZWN0b3IjaW52b2tlIGluamVjdGVkfVxuICAgKiAgICAgICAgYW5kIHRoZSByZXR1cm4gdmFsdWUgaXMgdHJlYXRlZCBhcyB0aGUgZGVwZW5kZW5jeS4gSWYgdGhlIHJlc3VsdCBpcyBhIHByb21pc2UsIGl0IGlzXG4gICAqICAgICAgICByZXNvbHZlZCBiZWZvcmUgaXRzIHZhbHVlIGlzIGluamVjdGVkIGludG8gdGhlIGNvbnRyb2xsZXIuIEJlIGF3YXJlIHRoYXRcbiAgICogICAgICAgIGBuZ1JvdXRlLiRyb3V0ZVBhcmFtc2Agd2lsbCBzdGlsbCByZWZlciB0byB0aGUgcHJldmlvdXMgcm91dGUgd2l0aGluIHRoZXNlIHJlc29sdmVcbiAgICogICAgICAgIGZ1bmN0aW9ucy4gIFVzZSBgJHJvdXRlLmN1cnJlbnQucGFyYW1zYCB0byBhY2Nlc3MgdGhlIG5ldyByb3V0ZSBwYXJhbWV0ZXJzLCBpbnN0ZWFkLlxuICAgKlxuICAgKiAgICAtIGByZWRpcmVjdFRvYCDigJMgeyhzdHJpbmd8ZnVuY3Rpb24oKSk9fSDigJMgdmFsdWUgdG8gdXBkYXRlXG4gICAqICAgICAge0BsaW5rIG5nLiRsb2NhdGlvbiAkbG9jYXRpb259IHBhdGggd2l0aCBhbmQgdHJpZ2dlciByb3V0ZSByZWRpcmVjdGlvbi5cbiAgICpcbiAgICogICAgICBJZiBgcmVkaXJlY3RUb2AgaXMgYSBmdW5jdGlvbiwgaXQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gICAqXG4gICAqICAgICAgLSBge09iamVjdC48c3RyaW5nPn1gIC0gcm91dGUgcGFyYW1ldGVycyBleHRyYWN0ZWQgZnJvbSB0aGUgY3VycmVudFxuICAgKiAgICAgICAgYCRsb2NhdGlvbi5wYXRoKClgIGJ5IGFwcGx5aW5nIHRoZSBjdXJyZW50IHJvdXRlIHRlbXBsYXRlVXJsLlxuICAgKiAgICAgIC0gYHtzdHJpbmd9YCAtIGN1cnJlbnQgYCRsb2NhdGlvbi5wYXRoKClgXG4gICAqICAgICAgLSBge09iamVjdH1gIC0gY3VycmVudCBgJGxvY2F0aW9uLnNlYXJjaCgpYFxuICAgKlxuICAgKiAgICAgIFRoZSBjdXN0b20gYHJlZGlyZWN0VG9gIGZ1bmN0aW9uIGlzIGV4cGVjdGVkIHRvIHJldHVybiBhIHN0cmluZyB3aGljaCB3aWxsIGJlIHVzZWRcbiAgICogICAgICB0byB1cGRhdGUgYCRsb2NhdGlvbi5wYXRoKClgIGFuZCBgJGxvY2F0aW9uLnNlYXJjaCgpYC5cbiAgICpcbiAgICogICAgLSBgW3JlbG9hZE9uU2VhcmNoPXRydWVdYCAtIHtib29sZWFuPX0gLSByZWxvYWQgcm91dGUgd2hlbiBvbmx5IGAkbG9jYXRpb24uc2VhcmNoKClgXG4gICAqICAgICAgb3IgYCRsb2NhdGlvbi5oYXNoKClgIGNoYW5nZXMuXG4gICAqXG4gICAqICAgICAgSWYgdGhlIG9wdGlvbiBpcyBzZXQgdG8gYGZhbHNlYCBhbmQgdXJsIGluIHRoZSBicm93c2VyIGNoYW5nZXMsIHRoZW5cbiAgICogICAgICBgJHJvdXRlVXBkYXRlYCBldmVudCBpcyBicm9hZGNhc3RlZCBvbiB0aGUgcm9vdCBzY29wZS5cbiAgICpcbiAgICogICAgLSBgW2Nhc2VJbnNlbnNpdGl2ZU1hdGNoPWZhbHNlXWAgLSB7Ym9vbGVhbj19IC0gbWF0Y2ggcm91dGVzIHdpdGhvdXQgYmVpbmcgY2FzZSBzZW5zaXRpdmVcbiAgICpcbiAgICogICAgICBJZiB0aGUgb3B0aW9uIGlzIHNldCB0byBgdHJ1ZWAsIHRoZW4gdGhlIHBhcnRpY3VsYXIgcm91dGUgY2FuIGJlIG1hdGNoZWQgd2l0aG91dCBiZWluZ1xuICAgKiAgICAgIGNhc2Ugc2Vuc2l0aXZlXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IHNlbGZcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEFkZHMgYSBuZXcgcm91dGUgZGVmaW5pdGlvbiB0byB0aGUgYCRyb3V0ZWAgc2VydmljZS5cbiAgICovXG4gIHRoaXMud2hlbiA9IGZ1bmN0aW9uKHBhdGgsIHJvdXRlKSB7XG4gICAgcm91dGVzW3BhdGhdID0gYW5ndWxhci5leHRlbmQoXG4gICAgICB7cmVsb2FkT25TZWFyY2g6IHRydWV9LFxuICAgICAgcm91dGUsXG4gICAgICBwYXRoICYmIHBhdGhSZWdFeHAocGF0aCwgcm91dGUpXG4gICAgKTtcblxuICAgIC8vIGNyZWF0ZSByZWRpcmVjdGlvbiBmb3IgdHJhaWxpbmcgc2xhc2hlc1xuICAgIGlmIChwYXRoKSB7XG4gICAgICB2YXIgcmVkaXJlY3RQYXRoID0gKHBhdGhbcGF0aC5sZW5ndGgtMV0gPT0gJy8nKVxuICAgICAgICAgICAgPyBwYXRoLnN1YnN0cigwLCBwYXRoLmxlbmd0aC0xKVxuICAgICAgICAgICAgOiBwYXRoICsnLyc7XG5cbiAgICAgIHJvdXRlc1tyZWRpcmVjdFBhdGhdID0gYW5ndWxhci5leHRlbmQoXG4gICAgICAgIHtyZWRpcmVjdFRvOiBwYXRofSxcbiAgICAgICAgcGF0aFJlZ0V4cChyZWRpcmVjdFBhdGgsIHJvdXRlKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAgLyoqXG4gICAgKiBAcGFyYW0gcGF0aCB7c3RyaW5nfSBwYXRoXG4gICAgKiBAcGFyYW0gb3B0cyB7T2JqZWN0fSBvcHRpb25zXG4gICAgKiBAcmV0dXJuIHs/T2JqZWN0fVxuICAgICpcbiAgICAqIEBkZXNjcmlwdGlvblxuICAgICogTm9ybWFsaXplcyB0aGUgZ2l2ZW4gcGF0aCwgcmV0dXJuaW5nIGEgcmVndWxhciBleHByZXNzaW9uXG4gICAgKiBhbmQgdGhlIG9yaWdpbmFsIHBhdGguXG4gICAgKlxuICAgICogSW5zcGlyZWQgYnkgcGF0aFJleHAgaW4gdmlzaW9ubWVkaWEvZXhwcmVzcy9saWIvdXRpbHMuanMuXG4gICAgKi9cbiAgZnVuY3Rpb24gcGF0aFJlZ0V4cChwYXRoLCBvcHRzKSB7XG4gICAgdmFyIGluc2Vuc2l0aXZlID0gb3B0cy5jYXNlSW5zZW5zaXRpdmVNYXRjaCxcbiAgICAgICAgcmV0ID0ge1xuICAgICAgICAgIG9yaWdpbmFsUGF0aDogcGF0aCxcbiAgICAgICAgICByZWdleHA6IHBhdGhcbiAgICAgICAgfSxcbiAgICAgICAga2V5cyA9IHJldC5rZXlzID0gW107XG5cbiAgICBwYXRoID0gcGF0aFxuICAgICAgLnJlcGxhY2UoLyhbKCkuXSkvZywgJ1xcXFwkMScpXG4gICAgICAucmVwbGFjZSgvKFxcLyk/OihcXHcrKShbXFw/XFwqXSk/L2csIGZ1bmN0aW9uKF8sIHNsYXNoLCBrZXksIG9wdGlvbikge1xuICAgICAgICB2YXIgb3B0aW9uYWwgPSBvcHRpb24gPT09ICc/JyA/IG9wdGlvbiA6IG51bGw7XG4gICAgICAgIHZhciBzdGFyID0gb3B0aW9uID09PSAnKicgPyBvcHRpb24gOiBudWxsO1xuICAgICAgICBrZXlzLnB1c2goeyBuYW1lOiBrZXksIG9wdGlvbmFsOiAhIW9wdGlvbmFsIH0pO1xuICAgICAgICBzbGFzaCA9IHNsYXNoIHx8ICcnO1xuICAgICAgICByZXR1cm4gJydcbiAgICAgICAgICArIChvcHRpb25hbCA/ICcnIDogc2xhc2gpXG4gICAgICAgICAgKyAnKD86J1xuICAgICAgICAgICsgKG9wdGlvbmFsID8gc2xhc2ggOiAnJylcbiAgICAgICAgICArIChzdGFyICYmICcoLis/KScgfHwgJyhbXi9dKyknKVxuICAgICAgICAgICsgKG9wdGlvbmFsIHx8ICcnKVxuICAgICAgICAgICsgJyknXG4gICAgICAgICAgKyAob3B0aW9uYWwgfHwgJycpO1xuICAgICAgfSlcbiAgICAgIC5yZXBsYWNlKC8oW1xcLyRcXCpdKS9nLCAnXFxcXCQxJyk7XG5cbiAgICByZXQucmVnZXhwID0gbmV3IFJlZ0V4cCgnXicgKyBwYXRoICsgJyQnLCBpbnNlbnNpdGl2ZSA/ICdpJyA6ICcnKTtcbiAgICByZXR1cm4gcmV0O1xuICB9XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJHJvdXRlUHJvdmlkZXIjb3RoZXJ3aXNlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHJvdXRlIGRlZmluaXRpb24gdGhhdCB3aWxsIGJlIHVzZWQgb24gcm91dGUgY2hhbmdlIHdoZW4gbm8gb3RoZXIgcm91dGUgZGVmaW5pdGlvblxuICAgKiBpcyBtYXRjaGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdHxzdHJpbmd9IHBhcmFtcyBNYXBwaW5nIGluZm9ybWF0aW9uIHRvIGJlIGFzc2lnbmVkIHRvIGAkcm91dGUuY3VycmVudGAuXG4gICAqIElmIGNhbGxlZCB3aXRoIGEgc3RyaW5nLCB0aGUgdmFsdWUgbWFwcyB0byBgcmVkaXJlY3RUb2AuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IHNlbGZcbiAgICovXG4gIHRoaXMub3RoZXJ3aXNlID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgaWYgKHR5cGVvZiBwYXJhbXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBwYXJhbXMgPSB7cmVkaXJlY3RUbzogcGFyYW1zfTtcbiAgICB9XG4gICAgdGhpcy53aGVuKG51bGwsIHBhcmFtcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cblxuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLFxuICAgICAgICAgICAgICAgJyRsb2NhdGlvbicsXG4gICAgICAgICAgICAgICAnJHJvdXRlUGFyYW1zJyxcbiAgICAgICAgICAgICAgICckcScsXG4gICAgICAgICAgICAgICAnJGluamVjdG9yJyxcbiAgICAgICAgICAgICAgICckdGVtcGxhdGVSZXF1ZXN0JyxcbiAgICAgICAgICAgICAgICckc2NlJyxcbiAgICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsICRsb2NhdGlvbiwgJHJvdXRlUGFyYW1zLCAkcSwgJGluamVjdG9yLCAkdGVtcGxhdGVSZXF1ZXN0LCAkc2NlKSB7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lICRyb3V0ZVxuICAgICAqIEByZXF1aXJlcyAkbG9jYXRpb25cbiAgICAgKiBAcmVxdWlyZXMgJHJvdXRlUGFyYW1zXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkge09iamVjdH0gY3VycmVudCBSZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcm91dGUgZGVmaW5pdGlvbi5cbiAgICAgKiBUaGUgcm91dGUgZGVmaW5pdGlvbiBjb250YWluczpcbiAgICAgKlxuICAgICAqICAgLSBgY29udHJvbGxlcmA6IFRoZSBjb250cm9sbGVyIGNvbnN0cnVjdG9yIGFzIGRlZmluZSBpbiByb3V0ZSBkZWZpbml0aW9uLlxuICAgICAqICAgLSBgbG9jYWxzYDogQSBtYXAgb2YgbG9jYWxzIHdoaWNoIGlzIHVzZWQgYnkge0BsaW5rIG5nLiRjb250cm9sbGVyICRjb250cm9sbGVyfSBzZXJ2aWNlIGZvclxuICAgICAqICAgICBjb250cm9sbGVyIGluc3RhbnRpYXRpb24uIFRoZSBgbG9jYWxzYCBjb250YWluXG4gICAgICogICAgIHRoZSByZXNvbHZlZCB2YWx1ZXMgb2YgdGhlIGByZXNvbHZlYCBtYXAuIEFkZGl0aW9uYWxseSB0aGUgYGxvY2Fsc2AgYWxzbyBjb250YWluOlxuICAgICAqXG4gICAgICogICAgIC0gYCRzY29wZWAgLSBUaGUgY3VycmVudCByb3V0ZSBzY29wZS5cbiAgICAgKiAgICAgLSBgJHRlbXBsYXRlYCAtIFRoZSBjdXJyZW50IHJvdXRlIHRlbXBsYXRlIEhUTUwuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkge09iamVjdH0gcm91dGVzIE9iamVjdCB3aXRoIGFsbCByb3V0ZSBjb25maWd1cmF0aW9uIE9iamVjdHMgYXMgaXRzIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBgJHJvdXRlYCBpcyB1c2VkIGZvciBkZWVwLWxpbmtpbmcgVVJMcyB0byBjb250cm9sbGVycyBhbmQgdmlld3MgKEhUTUwgcGFydGlhbHMpLlxuICAgICAqIEl0IHdhdGNoZXMgYCRsb2NhdGlvbi51cmwoKWAgYW5kIHRyaWVzIHRvIG1hcCB0aGUgcGF0aCB0byBhbiBleGlzdGluZyByb3V0ZSBkZWZpbml0aW9uLlxuICAgICAqXG4gICAgICogUmVxdWlyZXMgdGhlIHtAbGluayBuZ1JvdXRlIGBuZ1JvdXRlYH0gbW9kdWxlIHRvIGJlIGluc3RhbGxlZC5cbiAgICAgKlxuICAgICAqIFlvdSBjYW4gZGVmaW5lIHJvdXRlcyB0aHJvdWdoIHtAbGluayBuZ1JvdXRlLiRyb3V0ZVByb3ZpZGVyICRyb3V0ZVByb3ZpZGVyfSdzIEFQSS5cbiAgICAgKlxuICAgICAqIFRoZSBgJHJvdXRlYCBzZXJ2aWNlIGlzIHR5cGljYWxseSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggdGhlXG4gICAgICoge0BsaW5rIG5nUm91dGUuZGlyZWN0aXZlOm5nVmlldyBgbmdWaWV3YH0gZGlyZWN0aXZlIGFuZCB0aGVcbiAgICAgKiB7QGxpbmsgbmdSb3V0ZS4kcm91dGVQYXJhbXMgYCRyb3V0ZVBhcmFtc2B9IHNlcnZpY2UuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgY2hhbmdpbmcgdGhlIFVSTCBoYXNoIGNhdXNlcyB0aGUgYCRyb3V0ZWAgdG8gbWF0Y2ggYSByb3V0ZSBhZ2FpbnN0IHRoZVxuICAgICAqIFVSTCwgYW5kIHRoZSBgbmdWaWV3YCBwdWxscyBpbiB0aGUgcGFydGlhbC5cbiAgICAgKlxuICAgICAqIDxleGFtcGxlIG5hbWU9XCIkcm91dGUtc2VydmljZVwiIG1vZHVsZT1cIm5nUm91dGVFeGFtcGxlXCJcbiAgICAgKiAgICAgICAgICBkZXBzPVwiYW5ndWxhci1yb3V0ZS5qc1wiIGZpeEJhc2U9XCJ0cnVlXCI+XG4gICAgICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJNYWluQ29udHJvbGxlclwiPlxuICAgICAqICAgICAgIENob29zZTpcbiAgICAgKiAgICAgICA8YSBocmVmPVwiQm9vay9Nb2J5XCI+TW9ieTwvYT4gfFxuICAgICAqICAgICAgIDxhIGhyZWY9XCJCb29rL01vYnkvY2gvMVwiPk1vYnk6IENoMTwvYT4gfFxuICAgICAqICAgICAgIDxhIGhyZWY9XCJCb29rL0dhdHNieVwiPkdhdHNieTwvYT4gfFxuICAgICAqICAgICAgIDxhIGhyZWY9XCJCb29rL0dhdHNieS9jaC80P2tleT12YWx1ZVwiPkdhdHNieTogQ2g0PC9hPiB8XG4gICAgICogICAgICAgPGEgaHJlZj1cIkJvb2svU2NhcmxldFwiPlNjYXJsZXQgTGV0dGVyPC9hPjxici8+XG4gICAgICpcbiAgICAgKiAgICAgICA8ZGl2IG5nLXZpZXc+PC9kaXY+XG4gICAgICpcbiAgICAgKiAgICAgICA8aHIgLz5cbiAgICAgKlxuICAgICAqICAgICAgIDxwcmU+JGxvY2F0aW9uLnBhdGgoKSA9IHt7JGxvY2F0aW9uLnBhdGgoKX19PC9wcmU+XG4gICAgICogICAgICAgPHByZT4kcm91dGUuY3VycmVudC50ZW1wbGF0ZVVybCA9IHt7JHJvdXRlLmN1cnJlbnQudGVtcGxhdGVVcmx9fTwvcHJlPlxuICAgICAqICAgICAgIDxwcmU+JHJvdXRlLmN1cnJlbnQucGFyYW1zID0ge3skcm91dGUuY3VycmVudC5wYXJhbXN9fTwvcHJlPlxuICAgICAqICAgICAgIDxwcmU+JHJvdXRlLmN1cnJlbnQuc2NvcGUubmFtZSA9IHt7JHJvdXRlLmN1cnJlbnQuc2NvcGUubmFtZX19PC9wcmU+XG4gICAgICogICAgICAgPHByZT4kcm91dGVQYXJhbXMgPSB7eyRyb3V0ZVBhcmFtc319PC9wcmU+XG4gICAgICogICAgIDwvZGl2PlxuICAgICAqICAgPC9maWxlPlxuICAgICAqXG4gICAgICogICA8ZmlsZSBuYW1lPVwiYm9vay5odG1sXCI+XG4gICAgICogICAgIGNvbnRyb2xsZXI6IHt7bmFtZX19PGJyIC8+XG4gICAgICogICAgIEJvb2sgSWQ6IHt7cGFyYW1zLmJvb2tJZH19PGJyIC8+XG4gICAgICogICA8L2ZpbGU+XG4gICAgICpcbiAgICAgKiAgIDxmaWxlIG5hbWU9XCJjaGFwdGVyLmh0bWxcIj5cbiAgICAgKiAgICAgY29udHJvbGxlcjoge3tuYW1lfX08YnIgLz5cbiAgICAgKiAgICAgQm9vayBJZDoge3twYXJhbXMuYm9va0lkfX08YnIgLz5cbiAgICAgKiAgICAgQ2hhcHRlciBJZDoge3twYXJhbXMuY2hhcHRlcklkfX1cbiAgICAgKiAgIDwvZmlsZT5cbiAgICAgKlxuICAgICAqICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAqICAgICBhbmd1bGFyLm1vZHVsZSgnbmdSb3V0ZUV4YW1wbGUnLCBbJ25nUm91dGUnXSlcbiAgICAgKlxuICAgICAqICAgICAgLmNvbnRyb2xsZXIoJ01haW5Db250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlLCAkcm91dGUsICRyb3V0ZVBhcmFtcywgJGxvY2F0aW9uKSB7XG4gICAgICogICAgICAgICAgJHNjb3BlLiRyb3V0ZSA9ICRyb3V0ZTtcbiAgICAgKiAgICAgICAgICAkc2NvcGUuJGxvY2F0aW9uID0gJGxvY2F0aW9uO1xuICAgICAqICAgICAgICAgICRzY29wZS4kcm91dGVQYXJhbXMgPSAkcm91dGVQYXJhbXM7XG4gICAgICogICAgICB9KVxuICAgICAqXG4gICAgICogICAgICAuY29udHJvbGxlcignQm9va0NvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsICRyb3V0ZVBhcmFtcykge1xuICAgICAqICAgICAgICAgICRzY29wZS5uYW1lID0gXCJCb29rQ29udHJvbGxlclwiO1xuICAgICAqICAgICAgICAgICRzY29wZS5wYXJhbXMgPSAkcm91dGVQYXJhbXM7XG4gICAgICogICAgICB9KVxuICAgICAqXG4gICAgICogICAgICAuY29udHJvbGxlcignQ2hhcHRlckNvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsICRyb3V0ZVBhcmFtcykge1xuICAgICAqICAgICAgICAgICRzY29wZS5uYW1lID0gXCJDaGFwdGVyQ29udHJvbGxlclwiO1xuICAgICAqICAgICAgICAgICRzY29wZS5wYXJhbXMgPSAkcm91dGVQYXJhbXM7XG4gICAgICogICAgICB9KVxuICAgICAqXG4gICAgICogICAgIC5jb25maWcoZnVuY3Rpb24oJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG4gICAgICogICAgICAgJHJvdXRlUHJvdmlkZXJcbiAgICAgKiAgICAgICAgLndoZW4oJy9Cb29rLzpib29rSWQnLCB7XG4gICAgICogICAgICAgICB0ZW1wbGF0ZVVybDogJ2Jvb2suaHRtbCcsXG4gICAgICogICAgICAgICBjb250cm9sbGVyOiAnQm9va0NvbnRyb2xsZXInLFxuICAgICAqICAgICAgICAgcmVzb2x2ZToge1xuICAgICAqICAgICAgICAgICAvLyBJIHdpbGwgY2F1c2UgYSAxIHNlY29uZCBkZWxheVxuICAgICAqICAgICAgICAgICBkZWxheTogZnVuY3Rpb24oJHEsICR0aW1lb3V0KSB7XG4gICAgICogICAgICAgICAgICAgdmFyIGRlbGF5ID0gJHEuZGVmZXIoKTtcbiAgICAgKiAgICAgICAgICAgICAkdGltZW91dChkZWxheS5yZXNvbHZlLCAxMDAwKTtcbiAgICAgKiAgICAgICAgICAgICByZXR1cm4gZGVsYXkucHJvbWlzZTtcbiAgICAgKiAgICAgICAgICAgfVxuICAgICAqICAgICAgICAgfVxuICAgICAqICAgICAgIH0pXG4gICAgICogICAgICAgLndoZW4oJy9Cb29rLzpib29rSWQvY2gvOmNoYXB0ZXJJZCcsIHtcbiAgICAgKiAgICAgICAgIHRlbXBsYXRlVXJsOiAnY2hhcHRlci5odG1sJyxcbiAgICAgKiAgICAgICAgIGNvbnRyb2xsZXI6ICdDaGFwdGVyQ29udHJvbGxlcidcbiAgICAgKiAgICAgICB9KTtcbiAgICAgKlxuICAgICAqICAgICAgIC8vIGNvbmZpZ3VyZSBodG1sNSB0byBnZXQgbGlua3Mgd29ya2luZyBvbiBqc2ZpZGRsZVxuICAgICAqICAgICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcbiAgICAgKiAgICAgfSk7XG4gICAgICpcbiAgICAgKiAgIDwvZmlsZT5cbiAgICAgKlxuICAgICAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAqICAgICBpdCgnc2hvdWxkIGxvYWQgYW5kIGNvbXBpbGUgY29ycmVjdCB0ZW1wbGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAqICAgICAgIGVsZW1lbnQoYnkubGlua1RleHQoJ01vYnk6IENoMScpKS5jbGljaygpO1xuICAgICAqICAgICAgIHZhciBjb250ZW50ID0gZWxlbWVudChieS5jc3MoJ1tuZy12aWV3XScpKS5nZXRUZXh0KCk7XG4gICAgICogICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvTWF0Y2goL2NvbnRyb2xsZXJcXDogQ2hhcHRlckNvbnRyb2xsZXIvKTtcbiAgICAgKiAgICAgICBleHBlY3QoY29udGVudCkudG9NYXRjaCgvQm9vayBJZFxcOiBNb2J5Lyk7XG4gICAgICogICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvTWF0Y2goL0NoYXB0ZXIgSWRcXDogMS8pO1xuICAgICAqXG4gICAgICogICAgICAgZWxlbWVudChieS5wYXJ0aWFsTGlua1RleHQoJ1NjYXJsZXQnKSkuY2xpY2soKTtcbiAgICAgKlxuICAgICAqICAgICAgIGNvbnRlbnQgPSBlbGVtZW50KGJ5LmNzcygnW25nLXZpZXddJykpLmdldFRleHQoKTtcbiAgICAgKiAgICAgICBleHBlY3QoY29udGVudCkudG9NYXRjaCgvY29udHJvbGxlclxcOiBCb29rQ29udHJvbGxlci8pO1xuICAgICAqICAgICAgIGV4cGVjdChjb250ZW50KS50b01hdGNoKC9Cb29rIElkXFw6IFNjYXJsZXQvKTtcbiAgICAgKiAgICAgfSk7XG4gICAgICogICA8L2ZpbGU+XG4gICAgICogPC9leGFtcGxlPlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGV2ZW50XG4gICAgICogQG5hbWUgJHJvdXRlIyRyb3V0ZUNoYW5nZVN0YXJ0XG4gICAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gcm9vdCBzY29wZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEJyb2FkY2FzdGVkIGJlZm9yZSBhIHJvdXRlIGNoYW5nZS4gQXQgdGhpcyAgcG9pbnQgdGhlIHJvdXRlIHNlcnZpY2VzIHN0YXJ0c1xuICAgICAqIHJlc29sdmluZyBhbGwgb2YgdGhlIGRlcGVuZGVuY2llcyBuZWVkZWQgZm9yIHRoZSByb3V0ZSBjaGFuZ2UgdG8gb2NjdXIuXG4gICAgICogVHlwaWNhbGx5IHRoaXMgaW52b2x2ZXMgZmV0Y2hpbmcgdGhlIHZpZXcgdGVtcGxhdGUgYXMgd2VsbCBhcyBhbnkgZGVwZW5kZW5jaWVzXG4gICAgICogZGVmaW5lZCBpbiBgcmVzb2x2ZWAgcm91dGUgcHJvcGVydHkuIE9uY2UgIGFsbCBvZiB0aGUgZGVwZW5kZW5jaWVzIGFyZSByZXNvbHZlZFxuICAgICAqIGAkcm91dGVDaGFuZ2VTdWNjZXNzYCBpcyBmaXJlZC5cbiAgICAgKlxuICAgICAqIFRoZSByb3V0ZSBjaGFuZ2UgKGFuZCB0aGUgYCRsb2NhdGlvbmAgY2hhbmdlIHRoYXQgdHJpZ2dlcmVkIGl0KSBjYW4gYmUgcHJldmVudGVkXG4gICAgICogYnkgY2FsbGluZyBgcHJldmVudERlZmF1bHRgIG1ldGhvZCBvZiB0aGUgZXZlbnQuIFNlZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb259XG4gICAgICogZm9yIG1vcmUgZGV0YWlscyBhYm91dCBldmVudCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYW5ndWxhckV2ZW50IFN5bnRoZXRpYyBldmVudCBvYmplY3QuXG4gICAgICogQHBhcmFtIHtSb3V0ZX0gbmV4dCBGdXR1cmUgcm91dGUgaW5mb3JtYXRpb24uXG4gICAgICogQHBhcmFtIHtSb3V0ZX0gY3VycmVudCBDdXJyZW50IHJvdXRlIGluZm9ybWF0aW9uLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGV2ZW50XG4gICAgICogQG5hbWUgJHJvdXRlIyRyb3V0ZUNoYW5nZVN1Y2Nlc3NcbiAgICAgKiBAZXZlbnRUeXBlIGJyb2FkY2FzdCBvbiByb290IHNjb3BlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQnJvYWRjYXN0ZWQgYWZ0ZXIgYSByb3V0ZSBkZXBlbmRlbmNpZXMgYXJlIHJlc29sdmVkLlxuICAgICAqIHtAbGluayBuZ1JvdXRlLmRpcmVjdGl2ZTpuZ1ZpZXcgbmdWaWV3fSBsaXN0ZW5zIGZvciB0aGUgZGlyZWN0aXZlXG4gICAgICogdG8gaW5zdGFudGlhdGUgdGhlIGNvbnRyb2xsZXIgYW5kIHJlbmRlciB0aGUgdmlldy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge1JvdXRlfSBjdXJyZW50IEN1cnJlbnQgcm91dGUgaW5mb3JtYXRpb24uXG4gICAgICogQHBhcmFtIHtSb3V0ZXxVbmRlZmluZWR9IHByZXZpb3VzIFByZXZpb3VzIHJvdXRlIGluZm9ybWF0aW9uLCBvciB1bmRlZmluZWQgaWYgY3VycmVudCBpc1xuICAgICAqIGZpcnN0IHJvdXRlIGVudGVyZWQuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZXZlbnRcbiAgICAgKiBAbmFtZSAkcm91dGUjJHJvdXRlQ2hhbmdlRXJyb3JcbiAgICAgKiBAZXZlbnRUeXBlIGJyb2FkY2FzdCBvbiByb290IHNjb3BlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQnJvYWRjYXN0ZWQgaWYgYW55IG9mIHRoZSByZXNvbHZlIHByb21pc2VzIGFyZSByZWplY3RlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdFxuICAgICAqIEBwYXJhbSB7Um91dGV9IGN1cnJlbnQgQ3VycmVudCByb3V0ZSBpbmZvcm1hdGlvbi5cbiAgICAgKiBAcGFyYW0ge1JvdXRlfSBwcmV2aW91cyBQcmV2aW91cyByb3V0ZSBpbmZvcm1hdGlvbi5cbiAgICAgKiBAcGFyYW0ge1JvdXRlfSByZWplY3Rpb24gUmVqZWN0aW9uIG9mIHRoZSBwcm9taXNlLiBVc3VhbGx5IHRoZSBlcnJvciBvZiB0aGUgZmFpbGVkIHByb21pc2UuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZXZlbnRcbiAgICAgKiBAbmFtZSAkcm91dGUjJHJvdXRlVXBkYXRlXG4gICAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gcm9vdCBzY29wZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqXG4gICAgICogVGhlIGByZWxvYWRPblNlYXJjaGAgcHJvcGVydHkgaGFzIGJlZW4gc2V0IHRvIGZhbHNlLCBhbmQgd2UgYXJlIHJldXNpbmcgdGhlIHNhbWVcbiAgICAgKiBpbnN0YW5jZSBvZiB0aGUgQ29udHJvbGxlci5cbiAgICAgKi9cblxuICAgIHZhciBmb3JjZVJlbG9hZCA9IGZhbHNlLFxuICAgICAgICBwcmVwYXJlZFJvdXRlLFxuICAgICAgICBwcmVwYXJlZFJvdXRlSXNVcGRhdGVPbmx5LFxuICAgICAgICAkcm91dGUgPSB7XG4gICAgICAgICAgcm91dGVzOiByb3V0ZXMsXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgJHJvdXRlI3JlbG9hZFxuICAgICAgICAgICAqXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogQ2F1c2VzIGAkcm91dGVgIHNlcnZpY2UgdG8gcmVsb2FkIHRoZSBjdXJyZW50IHJvdXRlIGV2ZW4gaWZcbiAgICAgICAgICAgKiB7QGxpbmsgbmcuJGxvY2F0aW9uICRsb2NhdGlvbn0gaGFzbid0IGNoYW5nZWQuXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBBcyBhIHJlc3VsdCBvZiB0aGF0LCB7QGxpbmsgbmdSb3V0ZS5kaXJlY3RpdmU6bmdWaWV3IG5nVmlld31cbiAgICAgICAgICAgKiBjcmVhdGVzIG5ldyBzY29wZSwgcmVpbnN0YW50aWF0ZXMgdGhlIGNvbnRyb2xsZXIuXG4gICAgICAgICAgICovXG4gICAgICAgICAgcmVsb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZvcmNlUmVsb2FkID0gdHJ1ZTtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgLy8gRG9uJ3Qgc3VwcG9ydCBjYW5jZWxsYXRpb24gb2YgYSByZWxvYWQgZm9yIG5vdy4uLlxuICAgICAgICAgICAgICBwcmVwYXJlUm91dGUoKTtcbiAgICAgICAgICAgICAgY29tbWl0Um91dGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgJHJvdXRlI3VwZGF0ZVBhcmFtc1xuICAgICAgICAgICAqXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogQ2F1c2VzIGAkcm91dGVgIHNlcnZpY2UgdG8gdXBkYXRlIHRoZSBjdXJyZW50IFVSTCwgcmVwbGFjaW5nXG4gICAgICAgICAgICogY3VycmVudCByb3V0ZSBwYXJhbWV0ZXJzIHdpdGggdGhvc2Ugc3BlY2lmaWVkIGluIGBuZXdQYXJhbXNgLlxuICAgICAgICAgICAqIFByb3ZpZGVkIHByb3BlcnR5IG5hbWVzIHRoYXQgbWF0Y2ggdGhlIHJvdXRlJ3MgcGF0aCBzZWdtZW50XG4gICAgICAgICAgICogZGVmaW5pdGlvbnMgd2lsbCBiZSBpbnRlcnBvbGF0ZWQgaW50byB0aGUgbG9jYXRpb24ncyBwYXRoLCB3aGlsZVxuICAgICAgICAgICAqIHJlbWFpbmluZyBwcm9wZXJ0aWVzIHdpbGwgYmUgdHJlYXRlZCBhcyBxdWVyeSBwYXJhbXMuXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gbmV3UGFyYW1zIG1hcHBpbmcgb2YgVVJMIHBhcmFtZXRlciBuYW1lcyB0byB2YWx1ZXNcbiAgICAgICAgICAgKi9cbiAgICAgICAgICB1cGRhdGVQYXJhbXM6IGZ1bmN0aW9uKG5ld1BhcmFtcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudCAmJiB0aGlzLmN1cnJlbnQuJCRyb3V0ZSkge1xuICAgICAgICAgICAgICB2YXIgc2VhcmNoUGFyYW1zID0ge30sIHNlbGY9dGhpcztcblxuICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goT2JqZWN0LmtleXMobmV3UGFyYW1zKSwgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzZWxmLmN1cnJlbnQucGF0aFBhcmFtc1trZXldKSBzZWFyY2hQYXJhbXNba2V5XSA9IG5ld1BhcmFtc1trZXldO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBuZXdQYXJhbXMgPSBhbmd1bGFyLmV4dGVuZCh7fSwgdGhpcy5jdXJyZW50LnBhcmFtcywgbmV3UGFyYW1zKTtcbiAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoaW50ZXJwb2xhdGUodGhpcy5jdXJyZW50LiQkcm91dGUub3JpZ2luYWxQYXRoLCBuZXdQYXJhbXMpKTtcbiAgICAgICAgICAgICAgJGxvY2F0aW9uLnNlYXJjaChhbmd1bGFyLmV4dGVuZCh7fSwgJGxvY2F0aW9uLnNlYXJjaCgpLCBzZWFyY2hQYXJhbXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICB0aHJvdyAkcm91dGVNaW5FcnIoJ25vcm91dCcsICdUcmllZCB1cGRhdGluZyByb3V0ZSB3aGVuIHdpdGggbm8gY3VycmVudCByb3V0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICRyb290U2NvcGUuJG9uKCckbG9jYXRpb25DaGFuZ2VTdGFydCcsIHByZXBhcmVSb3V0ZSk7XG4gICAgJHJvb3RTY29wZS4kb24oJyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MnLCBjb21taXRSb3V0ZSk7XG5cbiAgICByZXR1cm4gJHJvdXRlO1xuXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBvbiB7c3RyaW5nfSBjdXJyZW50IHVybFxuICAgICAqIEBwYXJhbSByb3V0ZSB7T2JqZWN0fSByb3V0ZSByZWdleHAgdG8gbWF0Y2ggdGhlIHVybCBhZ2FpbnN0XG4gICAgICogQHJldHVybiB7P09iamVjdH1cbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIENoZWNrIGlmIHRoZSByb3V0ZSBtYXRjaGVzIHRoZSBjdXJyZW50IHVybC5cbiAgICAgKlxuICAgICAqIEluc3BpcmVkIGJ5IG1hdGNoIGluXG4gICAgICogdmlzaW9ubWVkaWEvZXhwcmVzcy9saWIvcm91dGVyL3JvdXRlci5qcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzd2l0Y2hSb3V0ZU1hdGNoZXIob24sIHJvdXRlKSB7XG4gICAgICB2YXIga2V5cyA9IHJvdXRlLmtleXMsXG4gICAgICAgICAgcGFyYW1zID0ge307XG5cbiAgICAgIGlmICghcm91dGUucmVnZXhwKSByZXR1cm4gbnVsbDtcblxuICAgICAgdmFyIG0gPSByb3V0ZS5yZWdleHAuZXhlYyhvbik7XG4gICAgICBpZiAoIW0pIHJldHVybiBudWxsO1xuXG4gICAgICBmb3IgKHZhciBpID0gMSwgbGVuID0gbS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICB2YXIga2V5ID0ga2V5c1tpIC0gMV07XG5cbiAgICAgICAgdmFyIHZhbCA9IG1baV07XG5cbiAgICAgICAgaWYgKGtleSAmJiB2YWwpIHtcbiAgICAgICAgICBwYXJhbXNba2V5Lm5hbWVdID0gdmFsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByZXBhcmVSb3V0ZSgkbG9jYXRpb25FdmVudCkge1xuICAgICAgdmFyIGxhc3RSb3V0ZSA9ICRyb3V0ZS5jdXJyZW50O1xuXG4gICAgICBwcmVwYXJlZFJvdXRlID0gcGFyc2VSb3V0ZSgpO1xuICAgICAgcHJlcGFyZWRSb3V0ZUlzVXBkYXRlT25seSA9IHByZXBhcmVkUm91dGUgJiYgbGFzdFJvdXRlICYmIHByZXBhcmVkUm91dGUuJCRyb3V0ZSA9PT0gbGFzdFJvdXRlLiQkcm91dGVcbiAgICAgICAgICAmJiBhbmd1bGFyLmVxdWFscyhwcmVwYXJlZFJvdXRlLnBhdGhQYXJhbXMsIGxhc3RSb3V0ZS5wYXRoUGFyYW1zKVxuICAgICAgICAgICYmICFwcmVwYXJlZFJvdXRlLnJlbG9hZE9uU2VhcmNoICYmICFmb3JjZVJlbG9hZDtcblxuICAgICAgaWYgKCFwcmVwYXJlZFJvdXRlSXNVcGRhdGVPbmx5ICYmIChsYXN0Um91dGUgfHwgcHJlcGFyZWRSb3V0ZSkpIHtcbiAgICAgICAgaWYgKCRyb290U2NvcGUuJGJyb2FkY2FzdCgnJHJvdXRlQ2hhbmdlU3RhcnQnLCBwcmVwYXJlZFJvdXRlLCBsYXN0Um91dGUpLmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICBpZiAoJGxvY2F0aW9uRXZlbnQpIHtcbiAgICAgICAgICAgICRsb2NhdGlvbkV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29tbWl0Um91dGUoKSB7XG4gICAgICB2YXIgbGFzdFJvdXRlID0gJHJvdXRlLmN1cnJlbnQ7XG4gICAgICB2YXIgbmV4dFJvdXRlID0gcHJlcGFyZWRSb3V0ZTtcblxuICAgICAgaWYgKHByZXBhcmVkUm91dGVJc1VwZGF0ZU9ubHkpIHtcbiAgICAgICAgbGFzdFJvdXRlLnBhcmFtcyA9IG5leHRSb3V0ZS5wYXJhbXM7XG4gICAgICAgIGFuZ3VsYXIuY29weShsYXN0Um91dGUucGFyYW1zLCAkcm91dGVQYXJhbXMpO1xuICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJyRyb3V0ZVVwZGF0ZScsIGxhc3RSb3V0ZSk7XG4gICAgICB9IGVsc2UgaWYgKG5leHRSb3V0ZSB8fCBsYXN0Um91dGUpIHtcbiAgICAgICAgZm9yY2VSZWxvYWQgPSBmYWxzZTtcbiAgICAgICAgJHJvdXRlLmN1cnJlbnQgPSBuZXh0Um91dGU7XG4gICAgICAgIGlmIChuZXh0Um91dGUpIHtcbiAgICAgICAgICBpZiAobmV4dFJvdXRlLnJlZGlyZWN0VG8pIHtcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKG5leHRSb3V0ZS5yZWRpcmVjdFRvKSkge1xuICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aChpbnRlcnBvbGF0ZShuZXh0Um91dGUucmVkaXJlY3RUbywgbmV4dFJvdXRlLnBhcmFtcykpLnNlYXJjaChuZXh0Um91dGUucGFyYW1zKVxuICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgJGxvY2F0aW9uLnVybChuZXh0Um91dGUucmVkaXJlY3RUbyhuZXh0Um91dGUucGF0aFBhcmFtcywgJGxvY2F0aW9uLnBhdGgoKSwgJGxvY2F0aW9uLnNlYXJjaCgpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAkcS53aGVuKG5leHRSb3V0ZSkuXG4gICAgICAgICAgdGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChuZXh0Um91dGUpIHtcbiAgICAgICAgICAgICAgdmFyIGxvY2FscyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCBuZXh0Um91dGUucmVzb2x2ZSksXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZSwgdGVtcGxhdGVVcmw7XG5cbiAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGxvY2FscywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICAgICAgICAgIGxvY2Fsc1trZXldID0gYW5ndWxhci5pc1N0cmluZyh2YWx1ZSkgP1xuICAgICAgICAgICAgICAgICAgICAkaW5qZWN0b3IuZ2V0KHZhbHVlKSA6ICRpbmplY3Rvci5pbnZva2UodmFsdWUsIG51bGwsIG51bGwsIGtleSk7XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCh0ZW1wbGF0ZSA9IG5leHRSb3V0ZS50ZW1wbGF0ZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRlbXBsYXRlKSkge1xuICAgICAgICAgICAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZShuZXh0Um91dGUucGFyYW1zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc0RlZmluZWQodGVtcGxhdGVVcmwgPSBuZXh0Um91dGUudGVtcGxhdGVVcmwpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih0ZW1wbGF0ZVVybCkpIHtcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsID0gdGVtcGxhdGVVcmwobmV4dFJvdXRlLnBhcmFtcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsID0gJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmwodGVtcGxhdGVVcmwpO1xuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCh0ZW1wbGF0ZVVybCkpIHtcbiAgICAgICAgICAgICAgICAgIG5leHRSb3V0ZS5sb2FkZWRUZW1wbGF0ZVVybCA9IHRlbXBsYXRlVXJsO1xuICAgICAgICAgICAgICAgICAgdGVtcGxhdGUgPSAkdGVtcGxhdGVSZXF1ZXN0KHRlbXBsYXRlVXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHRlbXBsYXRlKSkge1xuICAgICAgICAgICAgICAgIGxvY2Fsc1snJHRlbXBsYXRlJ10gPSB0ZW1wbGF0ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gJHEuYWxsKGxvY2Fscyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkuXG4gICAgICAgICAgLy8gYWZ0ZXIgcm91dGUgY2hhbmdlXG4gICAgICAgICAgdGhlbihmdW5jdGlvbihsb2NhbHMpIHtcbiAgICAgICAgICAgIGlmIChuZXh0Um91dGUgPT0gJHJvdXRlLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgaWYgKG5leHRSb3V0ZSkge1xuICAgICAgICAgICAgICAgIG5leHRSb3V0ZS5sb2NhbHMgPSBsb2NhbHM7XG4gICAgICAgICAgICAgICAgYW5ndWxhci5jb3B5KG5leHRSb3V0ZS5wYXJhbXMsICRyb3V0ZVBhcmFtcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCckcm91dGVDaGFuZ2VTdWNjZXNzJywgbmV4dFJvdXRlLCBsYXN0Um91dGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAobmV4dFJvdXRlID09ICRyb3V0ZS5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnJHJvdXRlQ2hhbmdlRXJyb3InLCBuZXh0Um91dGUsIGxhc3RSb3V0ZSwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge09iamVjdH0gdGhlIGN1cnJlbnQgYWN0aXZlIHJvdXRlLCBieSBtYXRjaGluZyBpdCBhZ2FpbnN0IHRoZSBVUkxcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJzZVJvdXRlKCkge1xuICAgICAgLy8gTWF0Y2ggYSByb3V0ZVxuICAgICAgdmFyIHBhcmFtcywgbWF0Y2g7XG4gICAgICBhbmd1bGFyLmZvckVhY2gocm91dGVzLCBmdW5jdGlvbihyb3V0ZSwgcGF0aCkge1xuICAgICAgICBpZiAoIW1hdGNoICYmIChwYXJhbXMgPSBzd2l0Y2hSb3V0ZU1hdGNoZXIoJGxvY2F0aW9uLnBhdGgoKSwgcm91dGUpKSkge1xuICAgICAgICAgIG1hdGNoID0gaW5oZXJpdChyb3V0ZSwge1xuICAgICAgICAgICAgcGFyYW1zOiBhbmd1bGFyLmV4dGVuZCh7fSwgJGxvY2F0aW9uLnNlYXJjaCgpLCBwYXJhbXMpLFxuICAgICAgICAgICAgcGF0aFBhcmFtczogcGFyYW1zfSk7XG4gICAgICAgICAgbWF0Y2guJCRyb3V0ZSA9IHJvdXRlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIE5vIHJvdXRlIG1hdGNoZWQ7IGZhbGxiYWNrIHRvIFwib3RoZXJ3aXNlXCIgcm91dGVcbiAgICAgIHJldHVybiBtYXRjaCB8fCByb3V0ZXNbbnVsbF0gJiYgaW5oZXJpdChyb3V0ZXNbbnVsbF0sIHtwYXJhbXM6IHt9LCBwYXRoUGFyYW1zOnt9fSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge3N0cmluZ30gaW50ZXJwb2xhdGlvbiBvZiB0aGUgcmVkaXJlY3QgcGF0aCB3aXRoIHRoZSBwYXJhbWV0ZXJzXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW50ZXJwb2xhdGUoc3RyaW5nLCBwYXJhbXMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCgoc3RyaW5nfHwnJykuc3BsaXQoJzonKSwgZnVuY3Rpb24oc2VnbWVudCwgaSkge1xuICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHNlZ21lbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBzZWdtZW50TWF0Y2ggPSBzZWdtZW50Lm1hdGNoKC8oXFx3KykoLiopLyk7XG4gICAgICAgICAgdmFyIGtleSA9IHNlZ21lbnRNYXRjaFsxXTtcbiAgICAgICAgICByZXN1bHQucHVzaChwYXJhbXNba2V5XSk7XG4gICAgICAgICAgcmVzdWx0LnB1c2goc2VnbWVudE1hdGNoWzJdIHx8ICcnKTtcbiAgICAgICAgICBkZWxldGUgcGFyYW1zW2tleV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdC5qb2luKCcnKTtcbiAgICB9XG4gIH1dO1xufVxuXG5uZ1JvdXRlTW9kdWxlLnByb3ZpZGVyKCckcm91dGVQYXJhbXMnLCAkUm91dGVQYXJhbXNQcm92aWRlcik7XG5cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHJvdXRlUGFyYW1zXG4gKiBAcmVxdWlyZXMgJHJvdXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYCRyb3V0ZVBhcmFtc2Agc2VydmljZSBhbGxvd3MgeW91IHRvIHJldHJpZXZlIHRoZSBjdXJyZW50IHNldCBvZiByb3V0ZSBwYXJhbWV0ZXJzLlxuICpcbiAqIFJlcXVpcmVzIHRoZSB7QGxpbmsgbmdSb3V0ZSBgbmdSb3V0ZWB9IG1vZHVsZSB0byBiZSBpbnN0YWxsZWQuXG4gKlxuICogVGhlIHJvdXRlIHBhcmFtZXRlcnMgYXJlIGEgY29tYmluYXRpb24gb2Yge0BsaW5rIG5nLiRsb2NhdGlvbiBgJGxvY2F0aW9uYH0nc1xuICoge0BsaW5rIG5nLiRsb2NhdGlvbiNzZWFyY2ggYHNlYXJjaCgpYH0gYW5kIHtAbGluayBuZy4kbG9jYXRpb24jcGF0aCBgcGF0aCgpYH0uXG4gKiBUaGUgYHBhdGhgIHBhcmFtZXRlcnMgYXJlIGV4dHJhY3RlZCB3aGVuIHRoZSB7QGxpbmsgbmdSb3V0ZS4kcm91dGUgYCRyb3V0ZWB9IHBhdGggaXMgbWF0Y2hlZC5cbiAqXG4gKiBJbiBjYXNlIG9mIHBhcmFtZXRlciBuYW1lIGNvbGxpc2lvbiwgYHBhdGhgIHBhcmFtcyB0YWtlIHByZWNlZGVuY2Ugb3ZlciBgc2VhcmNoYCBwYXJhbXMuXG4gKlxuICogVGhlIHNlcnZpY2UgZ3VhcmFudGVlcyB0aGF0IHRoZSBpZGVudGl0eSBvZiB0aGUgYCRyb3V0ZVBhcmFtc2Agb2JqZWN0IHdpbGwgcmVtYWluIHVuY2hhbmdlZFxuICogKGJ1dCBpdHMgcHJvcGVydGllcyB3aWxsIGxpa2VseSBjaGFuZ2UpIGV2ZW4gd2hlbiBhIHJvdXRlIGNoYW5nZSBvY2N1cnMuXG4gKlxuICogTm90ZSB0aGF0IHRoZSBgJHJvdXRlUGFyYW1zYCBhcmUgb25seSB1cGRhdGVkICphZnRlciogYSByb3V0ZSBjaGFuZ2UgY29tcGxldGVzIHN1Y2Nlc3NmdWxseS5cbiAqIFRoaXMgbWVhbnMgdGhhdCB5b3UgY2Fubm90IHJlbHkgb24gYCRyb3V0ZVBhcmFtc2AgYmVpbmcgY29ycmVjdCBpbiByb3V0ZSByZXNvbHZlIGZ1bmN0aW9ucy5cbiAqIEluc3RlYWQgeW91IGNhbiB1c2UgYCRyb3V0ZS5jdXJyZW50LnBhcmFtc2AgdG8gYWNjZXNzIHRoZSBuZXcgcm91dGUncyBwYXJhbWV0ZXJzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogIC8vIEdpdmVuOlxuICogIC8vIFVSTDogaHR0cDovL3NlcnZlci5jb20vaW5kZXguaHRtbCMvQ2hhcHRlci8xL1NlY3Rpb24vMj9zZWFyY2g9bW9ieVxuICogIC8vIFJvdXRlOiAvQ2hhcHRlci86Y2hhcHRlcklkL1NlY3Rpb24vOnNlY3Rpb25JZFxuICogIC8vXG4gKiAgLy8gVGhlblxuICogICRyb3V0ZVBhcmFtcyA9PT4ge2NoYXB0ZXJJZDonMScsIHNlY3Rpb25JZDonMicsIHNlYXJjaDonbW9ieSd9XG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gJFJvdXRlUGFyYW1zUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4ge307IH07XG59XG5cbm5nUm91dGVNb2R1bGUuZGlyZWN0aXZlKCduZ1ZpZXcnLCBuZ1ZpZXdGYWN0b3J5KTtcbm5nUm91dGVNb2R1bGUuZGlyZWN0aXZlKCduZ1ZpZXcnLCBuZ1ZpZXdGaWxsQ29udGVudEZhY3RvcnkpO1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdWaWV3XG4gKiBAcmVzdHJpY3QgRUNBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiAjIE92ZXJ2aWV3XG4gKiBgbmdWaWV3YCBpcyBhIGRpcmVjdGl2ZSB0aGF0IGNvbXBsZW1lbnRzIHRoZSB7QGxpbmsgbmdSb3V0ZS4kcm91dGUgJHJvdXRlfSBzZXJ2aWNlIGJ5XG4gKiBpbmNsdWRpbmcgdGhlIHJlbmRlcmVkIHRlbXBsYXRlIG9mIHRoZSBjdXJyZW50IHJvdXRlIGludG8gdGhlIG1haW4gbGF5b3V0IChgaW5kZXguaHRtbGApIGZpbGUuXG4gKiBFdmVyeSB0aW1lIHRoZSBjdXJyZW50IHJvdXRlIGNoYW5nZXMsIHRoZSBpbmNsdWRlZCB2aWV3IGNoYW5nZXMgd2l0aCBpdCBhY2NvcmRpbmcgdG8gdGhlXG4gKiBjb25maWd1cmF0aW9uIG9mIHRoZSBgJHJvdXRlYCBzZXJ2aWNlLlxuICpcbiAqIFJlcXVpcmVzIHRoZSB7QGxpbmsgbmdSb3V0ZSBgbmdSb3V0ZWB9IG1vZHVsZSB0byBiZSBpbnN0YWxsZWQuXG4gKlxuICogQGFuaW1hdGlvbnNcbiAqIGVudGVyIC0gYW5pbWF0aW9uIGlzIHVzZWQgdG8gYnJpbmcgbmV3IGNvbnRlbnQgaW50byB0aGUgYnJvd3Nlci5cbiAqIGxlYXZlIC0gYW5pbWF0aW9uIGlzIHVzZWQgdG8gYW5pbWF0ZSBleGlzdGluZyBjb250ZW50IGF3YXkuXG4gKlxuICogVGhlIGVudGVyIGFuZCBsZWF2ZSBhbmltYXRpb24gb2NjdXIgY29uY3VycmVudGx5LlxuICpcbiAqIEBzY29wZVxuICogQHByaW9yaXR5IDQwMFxuICogQHBhcmFtIHtzdHJpbmc9fSBvbmxvYWQgRXhwcmVzc2lvbiB0byBldmFsdWF0ZSB3aGVuZXZlciB0aGUgdmlldyB1cGRhdGVzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gYXV0b3Njcm9sbCBXaGV0aGVyIGBuZ1ZpZXdgIHNob3VsZCBjYWxsIHtAbGluayBuZy4kYW5jaG9yU2Nyb2xsXG4gKiAgICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGx9IHRvIHNjcm9sbCB0aGUgdmlld3BvcnQgYWZ0ZXIgdGhlIHZpZXcgaXMgdXBkYXRlZC5cbiAqXG4gKiAgICAgICAgICAgICAgICAgIC0gSWYgdGhlIGF0dHJpYnV0ZSBpcyBub3Qgc2V0LCBkaXNhYmxlIHNjcm9sbGluZy5cbiAqICAgICAgICAgICAgICAgICAgLSBJZiB0aGUgYXR0cmlidXRlIGlzIHNldCB3aXRob3V0IHZhbHVlLCBlbmFibGUgc2Nyb2xsaW5nLlxuICogICAgICAgICAgICAgICAgICAtIE90aGVyd2lzZSBlbmFibGUgc2Nyb2xsaW5nIG9ubHkgaWYgdGhlIGBhdXRvc2Nyb2xsYCBhdHRyaWJ1dGUgdmFsdWUgZXZhbHVhdGVkXG4gKiAgICAgICAgICAgICAgICAgICAgYXMgYW4gZXhwcmVzc2lvbiB5aWVsZHMgYSB0cnV0aHkgdmFsdWUuXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlIG5hbWU9XCJuZ1ZpZXctZGlyZWN0aXZlXCIgbW9kdWxlPVwibmdWaWV3RXhhbXBsZVwiXG4gICAgICAgICAgICAgZGVwcz1cImFuZ3VsYXItcm91dGUuanM7YW5ndWxhci1hbmltYXRlLmpzXCJcbiAgICAgICAgICAgICBhbmltYXRpb25zPVwidHJ1ZVwiIGZpeEJhc2U9XCJ0cnVlXCI+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJNYWluQ3RybCBhcyBtYWluXCI+XG4gICAgICAgICAgQ2hvb3NlOlxuICAgICAgICAgIDxhIGhyZWY9XCJCb29rL01vYnlcIj5Nb2J5PC9hPiB8XG4gICAgICAgICAgPGEgaHJlZj1cIkJvb2svTW9ieS9jaC8xXCI+TW9ieTogQ2gxPC9hPiB8XG4gICAgICAgICAgPGEgaHJlZj1cIkJvb2svR2F0c2J5XCI+R2F0c2J5PC9hPiB8XG4gICAgICAgICAgPGEgaHJlZj1cIkJvb2svR2F0c2J5L2NoLzQ/a2V5PXZhbHVlXCI+R2F0c2J5OiBDaDQ8L2E+IHxcbiAgICAgICAgICA8YSBocmVmPVwiQm9vay9TY2FybGV0XCI+U2NhcmxldCBMZXR0ZXI8L2E+PGJyLz5cblxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2aWV3LWFuaW1hdGUtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IG5nLXZpZXcgY2xhc3M9XCJ2aWV3LWFuaW1hdGVcIj48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8aHIgLz5cblxuICAgICAgICAgIDxwcmU+JGxvY2F0aW9uLnBhdGgoKSA9IHt7bWFpbi4kbG9jYXRpb24ucGF0aCgpfX08L3ByZT5cbiAgICAgICAgICA8cHJlPiRyb3V0ZS5jdXJyZW50LnRlbXBsYXRlVXJsID0ge3ttYWluLiRyb3V0ZS5jdXJyZW50LnRlbXBsYXRlVXJsfX08L3ByZT5cbiAgICAgICAgICA8cHJlPiRyb3V0ZS5jdXJyZW50LnBhcmFtcyA9IHt7bWFpbi4kcm91dGUuY3VycmVudC5wYXJhbXN9fTwvcHJlPlxuICAgICAgICAgIDxwcmU+JHJvdXRlUGFyYW1zID0ge3ttYWluLiRyb3V0ZVBhcmFtc319PC9wcmU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9maWxlPlxuXG4gICAgICA8ZmlsZSBuYW1lPVwiYm9vay5odG1sXCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgY29udHJvbGxlcjoge3tib29rLm5hbWV9fTxiciAvPlxuICAgICAgICAgIEJvb2sgSWQ6IHt7Ym9vay5wYXJhbXMuYm9va0lkfX08YnIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2ZpbGU+XG5cbiAgICAgIDxmaWxlIG5hbWU9XCJjaGFwdGVyLmh0bWxcIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICBjb250cm9sbGVyOiB7e2NoYXB0ZXIubmFtZX19PGJyIC8+XG4gICAgICAgICAgQm9vayBJZDoge3tjaGFwdGVyLnBhcmFtcy5ib29rSWR9fTxiciAvPlxuICAgICAgICAgIENoYXB0ZXIgSWQ6IHt7Y2hhcHRlci5wYXJhbXMuY2hhcHRlcklkfX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2ZpbGU+XG5cbiAgICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxuICAgICAgICAudmlldy1hbmltYXRlLWNvbnRhaW5lciB7XG4gICAgICAgICAgcG9zaXRpb246cmVsYXRpdmU7XG4gICAgICAgICAgaGVpZ2h0OjEwMHB4IWltcG9ydGFudDtcbiAgICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcbiAgICAgICAgICBiYWNrZ3JvdW5kOndoaXRlO1xuICAgICAgICAgIGJvcmRlcjoxcHggc29saWQgYmxhY2s7XG4gICAgICAgICAgaGVpZ2h0OjQwcHg7XG4gICAgICAgICAgb3ZlcmZsb3c6aGlkZGVuO1xuICAgICAgICB9XG5cbiAgICAgICAgLnZpZXctYW5pbWF0ZSB7XG4gICAgICAgICAgcGFkZGluZzoxMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnZpZXctYW5pbWF0ZS5uZy1lbnRlciwgLnZpZXctYW5pbWF0ZS5uZy1sZWF2ZSB7XG4gICAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDEuNXM7XG4gICAgICAgICAgdHJhbnNpdGlvbjphbGwgY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSAxLjVzO1xuXG4gICAgICAgICAgZGlzcGxheTpibG9jaztcbiAgICAgICAgICB3aWR0aDoxMDAlO1xuICAgICAgICAgIGJvcmRlci1sZWZ0OjFweCBzb2xpZCBibGFjaztcblxuICAgICAgICAgIHBvc2l0aW9uOmFic29sdXRlO1xuICAgICAgICAgIHRvcDowO1xuICAgICAgICAgIGxlZnQ6MDtcbiAgICAgICAgICByaWdodDowO1xuICAgICAgICAgIGJvdHRvbTowO1xuICAgICAgICAgIHBhZGRpbmc6MTBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC52aWV3LWFuaW1hdGUubmctZW50ZXIge1xuICAgICAgICAgIGxlZnQ6MTAwJTtcbiAgICAgICAgfVxuICAgICAgICAudmlldy1hbmltYXRlLm5nLWVudGVyLm5nLWVudGVyLWFjdGl2ZSB7XG4gICAgICAgICAgbGVmdDowO1xuICAgICAgICB9XG4gICAgICAgIC52aWV3LWFuaW1hdGUubmctbGVhdmUubmctbGVhdmUtYWN0aXZlIHtcbiAgICAgICAgICBsZWZ0Oi0xMDAlO1xuICAgICAgICB9XG4gICAgICA8L2ZpbGU+XG5cbiAgICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlld0V4YW1wbGUnLCBbJ25nUm91dGUnLCAnbmdBbmltYXRlJ10pXG4gICAgICAgICAgLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJyxcbiAgICAgICAgICAgIGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuICAgICAgICAgICAgICAkcm91dGVQcm92aWRlclxuICAgICAgICAgICAgICAgIC53aGVuKCcvQm9vay86Ym9va0lkJywge1xuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdib29rLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0Jvb2tDdHJsJyxcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2Jvb2snXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAud2hlbignL0Jvb2svOmJvb2tJZC9jaC86Y2hhcHRlcklkJywge1xuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjaGFwdGVyLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NoYXB0ZXJDdHJsJyxcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2NoYXB0ZXInXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xuICAgICAgICAgIH1dKVxuICAgICAgICAgIC5jb250cm9sbGVyKCdNYWluQ3RybCcsIFsnJHJvdXRlJywgJyRyb3V0ZVBhcmFtcycsICckbG9jYXRpb24nLFxuICAgICAgICAgICAgZnVuY3Rpb24oJHJvdXRlLCAkcm91dGVQYXJhbXMsICRsb2NhdGlvbikge1xuICAgICAgICAgICAgICB0aGlzLiRyb3V0ZSA9ICRyb3V0ZTtcbiAgICAgICAgICAgICAgdGhpcy4kbG9jYXRpb24gPSAkbG9jYXRpb247XG4gICAgICAgICAgICAgIHRoaXMuJHJvdXRlUGFyYW1zID0gJHJvdXRlUGFyYW1zO1xuICAgICAgICAgIH1dKVxuICAgICAgICAgIC5jb250cm9sbGVyKCdCb29rQ3RybCcsIFsnJHJvdXRlUGFyYW1zJywgZnVuY3Rpb24oJHJvdXRlUGFyYW1zKSB7XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBcIkJvb2tDdHJsXCI7XG4gICAgICAgICAgICB0aGlzLnBhcmFtcyA9ICRyb3V0ZVBhcmFtcztcbiAgICAgICAgICB9XSlcbiAgICAgICAgICAuY29udHJvbGxlcignQ2hhcHRlckN0cmwnLCBbJyRyb3V0ZVBhcmFtcycsIGZ1bmN0aW9uKCRyb3V0ZVBhcmFtcykge1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gXCJDaGFwdGVyQ3RybFwiO1xuICAgICAgICAgICAgdGhpcy5wYXJhbXMgPSAkcm91dGVQYXJhbXM7XG4gICAgICAgICAgfV0pO1xuXG4gICAgICA8L2ZpbGU+XG5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCBsb2FkIGFuZCBjb21waWxlIGNvcnJlY3QgdGVtcGxhdGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbGVtZW50KGJ5LmxpbmtUZXh0KCdNb2J5OiBDaDEnKSkuY2xpY2soKTtcbiAgICAgICAgICB2YXIgY29udGVudCA9IGVsZW1lbnQoYnkuY3NzKCdbbmctdmlld10nKSkuZ2V0VGV4dCgpO1xuICAgICAgICAgIGV4cGVjdChjb250ZW50KS50b01hdGNoKC9jb250cm9sbGVyXFw6IENoYXB0ZXJDdHJsLyk7XG4gICAgICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvTWF0Y2goL0Jvb2sgSWRcXDogTW9ieS8pO1xuICAgICAgICAgIGV4cGVjdChjb250ZW50KS50b01hdGNoKC9DaGFwdGVyIElkXFw6IDEvKTtcblxuICAgICAgICAgIGVsZW1lbnQoYnkucGFydGlhbExpbmtUZXh0KCdTY2FybGV0JykpLmNsaWNrKCk7XG5cbiAgICAgICAgICBjb250ZW50ID0gZWxlbWVudChieS5jc3MoJ1tuZy12aWV3XScpKS5nZXRUZXh0KCk7XG4gICAgICAgICAgZXhwZWN0KGNvbnRlbnQpLnRvTWF0Y2goL2NvbnRyb2xsZXJcXDogQm9va0N0cmwvKTtcbiAgICAgICAgICBleHBlY3QoY29udGVudCkudG9NYXRjaCgvQm9vayBJZFxcOiBTY2FybGV0Lyk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGV2ZW50XG4gKiBAbmFtZSBuZ1ZpZXcjJHZpZXdDb250ZW50TG9hZGVkXG4gKiBAZXZlbnRUeXBlIGVtaXQgb24gdGhlIGN1cnJlbnQgbmdWaWV3IHNjb3BlXG4gKiBAZGVzY3JpcHRpb25cbiAqIEVtaXR0ZWQgZXZlcnkgdGltZSB0aGUgbmdWaWV3IGNvbnRlbnQgaXMgcmVsb2FkZWQuXG4gKi9cbm5nVmlld0ZhY3RvcnkuJGluamVjdCA9IFsnJHJvdXRlJywgJyRhbmNob3JTY3JvbGwnLCAnJGFuaW1hdGUnXTtcbmZ1bmN0aW9uIG5nVmlld0ZhY3RvcnkoJHJvdXRlLCAkYW5jaG9yU2Nyb2xsLCAkYW5pbWF0ZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUNBJyxcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcbiAgICBwcmlvcml0eTogNDAwLFxuICAgIHRyYW5zY2x1ZGU6ICdlbGVtZW50JyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgJGVsZW1lbnQsIGF0dHIsIGN0cmwsICR0cmFuc2NsdWRlKSB7XG4gICAgICAgIHZhciBjdXJyZW50U2NvcGUsXG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudCxcbiAgICAgICAgICAgIHByZXZpb3VzTGVhdmVBbmltYXRpb24sXG4gICAgICAgICAgICBhdXRvU2Nyb2xsRXhwID0gYXR0ci5hdXRvc2Nyb2xsLFxuICAgICAgICAgICAgb25sb2FkRXhwID0gYXR0ci5vbmxvYWQgfHwgJyc7XG5cbiAgICAgICAgc2NvcGUuJG9uKCckcm91dGVDaGFuZ2VTdWNjZXNzJywgdXBkYXRlKTtcbiAgICAgICAgdXBkYXRlKCk7XG5cbiAgICAgICAgZnVuY3Rpb24gY2xlYW51cExhc3RWaWV3KCkge1xuICAgICAgICAgIGlmIChwcmV2aW91c0xlYXZlQW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAkYW5pbWF0ZS5jYW5jZWwocHJldmlvdXNMZWF2ZUFuaW1hdGlvbik7XG4gICAgICAgICAgICBwcmV2aW91c0xlYXZlQW5pbWF0aW9uID0gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY3VycmVudFNjb3BlKSB7XG4gICAgICAgICAgICBjdXJyZW50U2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICAgIGN1cnJlbnRTY29wZSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjdXJyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgcHJldmlvdXNMZWF2ZUFuaW1hdGlvbiA9ICRhbmltYXRlLmxlYXZlKGN1cnJlbnRFbGVtZW50KTtcbiAgICAgICAgICAgIHByZXZpb3VzTGVhdmVBbmltYXRpb24udGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcHJldmlvdXNMZWF2ZUFuaW1hdGlvbiA9IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgICAgdmFyIGxvY2FscyA9ICRyb3V0ZS5jdXJyZW50ICYmICRyb3V0ZS5jdXJyZW50LmxvY2FscyxcbiAgICAgICAgICAgICAgdGVtcGxhdGUgPSBsb2NhbHMgJiYgbG9jYWxzLiR0ZW1wbGF0ZTtcblxuICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCh0ZW1wbGF0ZSkpIHtcbiAgICAgICAgICAgIHZhciBuZXdTY29wZSA9IHNjb3BlLiRuZXcoKTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gJHJvdXRlLmN1cnJlbnQ7XG5cbiAgICAgICAgICAgIC8vIE5vdGU6IFRoaXMgd2lsbCBhbHNvIGxpbmsgYWxsIGNoaWxkcmVuIG9mIG5nLXZpZXcgdGhhdCB3ZXJlIGNvbnRhaW5lZCBpbiB0aGUgb3JpZ2luYWxcbiAgICAgICAgICAgIC8vIGh0bWwuIElmIHRoYXQgY29udGVudCBjb250YWlucyBjb250cm9sbGVycywgLi4uIHRoZXkgY291bGQgcG9sbHV0ZS9jaGFuZ2UgdGhlIHNjb3BlLlxuICAgICAgICAgICAgLy8gSG93ZXZlciwgdXNpbmcgbmctdmlldyBvbiBhbiBlbGVtZW50IHdpdGggYWRkaXRpb25hbCBjb250ZW50IGRvZXMgbm90IG1ha2Ugc2Vuc2UuLi5cbiAgICAgICAgICAgIC8vIE5vdGU6IFdlIGNhbid0IHJlbW92ZSB0aGVtIGluIHRoZSBjbG9uZUF0dGNoRm4gb2YgJHRyYW5zY2x1ZGUgYXMgdGhhdFxuICAgICAgICAgICAgLy8gZnVuY3Rpb24gaXMgY2FsbGVkIGJlZm9yZSBsaW5raW5nIHRoZSBjb250ZW50LCB3aGljaCB3b3VsZCBhcHBseSBjaGlsZFxuICAgICAgICAgICAgLy8gZGlyZWN0aXZlcyB0byBub24gZXhpc3RpbmcgZWxlbWVudHMuXG4gICAgICAgICAgICB2YXIgY2xvbmUgPSAkdHJhbnNjbHVkZShuZXdTY29wZSwgZnVuY3Rpb24oY2xvbmUpIHtcbiAgICAgICAgICAgICAgJGFuaW1hdGUuZW50ZXIoY2xvbmUsIG51bGwsIGN1cnJlbnRFbGVtZW50IHx8ICRlbGVtZW50KS50aGVuKGZ1bmN0aW9uIG9uTmdWaWV3RW50ZXIoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGF1dG9TY3JvbGxFeHApXG4gICAgICAgICAgICAgICAgICAmJiAoIWF1dG9TY3JvbGxFeHAgfHwgc2NvcGUuJGV2YWwoYXV0b1Njcm9sbEV4cCkpKSB7XG4gICAgICAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY2xlYW51cExhc3RWaWV3KCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBjbG9uZTtcbiAgICAgICAgICAgIGN1cnJlbnRTY29wZSA9IGN1cnJlbnQuc2NvcGUgPSBuZXdTY29wZTtcbiAgICAgICAgICAgIGN1cnJlbnRTY29wZS4kZW1pdCgnJHZpZXdDb250ZW50TG9hZGVkJyk7XG4gICAgICAgICAgICBjdXJyZW50U2NvcGUuJGV2YWwob25sb2FkRXhwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2xlYW51cExhc3RWaWV3KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICB9O1xufVxuXG4vLyBUaGlzIGRpcmVjdGl2ZSBpcyBjYWxsZWQgZHVyaW5nIHRoZSAkdHJhbnNjbHVkZSBjYWxsIG9mIHRoZSBmaXJzdCBgbmdWaWV3YCBkaXJlY3RpdmUuXG4vLyBJdCB3aWxsIHJlcGxhY2UgYW5kIGNvbXBpbGUgdGhlIGNvbnRlbnQgb2YgdGhlIGVsZW1lbnQgd2l0aCB0aGUgbG9hZGVkIHRlbXBsYXRlLlxuLy8gV2UgbmVlZCB0aGlzIGRpcmVjdGl2ZSBzbyB0aGF0IHRoZSBlbGVtZW50IGNvbnRlbnQgaXMgYWxyZWFkeSBmaWxsZWQgd2hlblxuLy8gdGhlIGxpbmsgZnVuY3Rpb24gb2YgYW5vdGhlciBkaXJlY3RpdmUgb24gdGhlIHNhbWUgZWxlbWVudCBhcyBuZ1ZpZXdcbi8vIGlzIGNhbGxlZC5cbm5nVmlld0ZpbGxDb250ZW50RmFjdG9yeS4kaW5qZWN0ID0gWyckY29tcGlsZScsICckY29udHJvbGxlcicsICckcm91dGUnXTtcbmZ1bmN0aW9uIG5nVmlld0ZpbGxDb250ZW50RmFjdG9yeSgkY29tcGlsZSwgJGNvbnRyb2xsZXIsICRyb3V0ZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUNBJyxcbiAgICBwcmlvcml0eTogLTQwMCxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgJGVsZW1lbnQpIHtcbiAgICAgIHZhciBjdXJyZW50ID0gJHJvdXRlLmN1cnJlbnQsXG4gICAgICAgICAgbG9jYWxzID0gY3VycmVudC5sb2NhbHM7XG5cbiAgICAgICRlbGVtZW50Lmh0bWwobG9jYWxzLiR0ZW1wbGF0ZSk7XG5cbiAgICAgIHZhciBsaW5rID0gJGNvbXBpbGUoJGVsZW1lbnQuY29udGVudHMoKSk7XG5cbiAgICAgIGlmIChjdXJyZW50LmNvbnRyb2xsZXIpIHtcbiAgICAgICAgbG9jYWxzLiRzY29wZSA9IHNjb3BlO1xuICAgICAgICB2YXIgY29udHJvbGxlciA9ICRjb250cm9sbGVyKGN1cnJlbnQuY29udHJvbGxlciwgbG9jYWxzKTtcbiAgICAgICAgaWYgKGN1cnJlbnQuY29udHJvbGxlckFzKSB7XG4gICAgICAgICAgc2NvcGVbY3VycmVudC5jb250cm9sbGVyQXNdID0gY29udHJvbGxlcjtcbiAgICAgICAgfVxuICAgICAgICAkZWxlbWVudC5kYXRhKCckbmdDb250cm9sbGVyQ29udHJvbGxlcicsIGNvbnRyb2xsZXIpO1xuICAgICAgICAkZWxlbWVudC5jaGlsZHJlbigpLmRhdGEoJyRuZ0NvbnRyb2xsZXJDb250cm9sbGVyJywgY29udHJvbGxlcik7XG4gICAgICB9XG5cbiAgICAgIGxpbmsoc2NvcGUpO1xuICAgIH1cbiAgfTtcbn1cblxuXG59KSh3aW5kb3csIHdpbmRvdy5hbmd1bGFyKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdjZ05vdGlmeScsIFtdKS5mYWN0b3J5KCdub3RpZnknLFsnJHRpbWVvdXQnLCckaHR0cCcsJyRjb21waWxlJywnJHRlbXBsYXRlQ2FjaGUnLCckcm9vdFNjb3BlJyxcbiAgICBmdW5jdGlvbigkdGltZW91dCwkaHR0cCwkY29tcGlsZSwkdGVtcGxhdGVDYWNoZSwkcm9vdFNjb3BlKXtcblxuICAgICAgICB2YXIgc3RhcnRUb3AgPSAxMDtcbiAgICAgICAgdmFyIHZlcnRpY2FsU3BhY2luZyA9IDE1O1xuICAgICAgICB2YXIgZHVyYXRpb24gPSAxMDAwMDtcbiAgICAgICAgdmFyIGRlZmF1bHRUZW1wbGF0ZVVybCA9ICdhbmd1bGFyLW5vdGlmeS5odG1sJztcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gJ2NlbnRlcic7XG4gICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5ib2R5O1xuXG4gICAgICAgIHZhciBtZXNzYWdlRWxlbWVudHMgPSBbXTtcblxuICAgICAgICB2YXIgbm90aWZ5ID0gZnVuY3Rpb24oYXJncyl7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXJncyAhPT0gJ29iamVjdCcpe1xuICAgICAgICAgICAgICAgIGFyZ3MgPSB7bWVzc2FnZTphcmdzfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXJncy50ZW1wbGF0ZVVybCA9IGFyZ3MudGVtcGxhdGVVcmwgPyBhcmdzLnRlbXBsYXRlVXJsIDogZGVmYXVsdFRlbXBsYXRlVXJsO1xuICAgICAgICAgICAgYXJncy5wb3NpdGlvbiA9IGFyZ3MucG9zaXRpb24gPyBhcmdzLnBvc2l0aW9uIDogcG9zaXRpb247XG4gICAgICAgICAgICBhcmdzLmNvbnRhaW5lciA9IGFyZ3MuY29udGFpbmVyID8gYXJncy5jb250YWluZXIgOiBjb250YWluZXI7XG4gICAgICAgICAgICBhcmdzLmNsYXNzZXMgPSBhcmdzLmNsYXNzZXMgPyBhcmdzLmNsYXNzZXMgOiAnJztcblxuICAgICAgICAgICAgdmFyIHNjb3BlID0gYXJncy5zY29wZSA/IGFyZ3Muc2NvcGUuJG5ldygpIDogJHJvb3RTY29wZS4kbmV3KCk7XG4gICAgICAgICAgICBzY29wZS4kbWVzc2FnZSA9IGFyZ3MubWVzc2FnZTtcbiAgICAgICAgICAgIHNjb3BlLiRjbGFzc2VzID0gYXJncy5jbGFzc2VzO1xuICAgICAgICAgICAgc2NvcGUuJG1lc3NhZ2VUZW1wbGF0ZSA9IGFyZ3MubWVzc2FnZVRlbXBsYXRlO1xuXG4gICAgICAgICAgICAkaHR0cC5nZXQoYXJncy50ZW1wbGF0ZVVybCx7Y2FjaGU6ICR0ZW1wbGF0ZUNhY2hlfSkuc3VjY2VzcyhmdW5jdGlvbih0ZW1wbGF0ZSl7XG5cbiAgICAgICAgICAgICAgICB2YXIgdGVtcGxhdGVFbGVtZW50ID0gJGNvbXBpbGUodGVtcGxhdGUpKHNjb3BlKTtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZUVsZW1lbnQuYmluZCgnd2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCB0cmFuc2l0aW9uZW5kIG1zVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5wcm9wZXJ0eU5hbWUgPT09ICdvcGFjaXR5JyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKGUub3JpZ2luYWxFdmVudCAmJiBlLm9yaWdpbmFsRXZlbnQucHJvcGVydHlOYW1lID09PSAnb3BhY2l0eScpKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUVsZW1lbnRzLnNwbGljZShtZXNzYWdlRWxlbWVudHMuaW5kZXhPZih0ZW1wbGF0ZUVsZW1lbnQpLDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGF5b3V0TWVzc2FnZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MubWVzc2FnZVRlbXBsYXRlKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2VUZW1wbGF0ZUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVtcGxhdGVFbGVtZW50LmNoaWxkcmVuKCkubGVuZ3RoOyBpICsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmVsZW1lbnQodGVtcGxhdGVFbGVtZW50LmNoaWxkcmVuKClbaV0pLmhhc0NsYXNzKCdjZy1ub3RpZnktbWVzc2FnZS10ZW1wbGF0ZScpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlVGVtcGxhdGVFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KHRlbXBsYXRlRWxlbWVudC5jaGlsZHJlbigpW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZVRlbXBsYXRlRWxlbWVudCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlVGVtcGxhdGVFbGVtZW50LmFwcGVuZCgkY29tcGlsZShhcmdzLm1lc3NhZ2VUZW1wbGF0ZSkoc2NvcGUpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY2dOb3RpZnkgY291bGQgbm90IGZpbmQgdGhlIC5jZy1ub3RpZnktbWVzc2FnZS10ZW1wbGF0ZSBlbGVtZW50IGluICcrYXJncy50ZW1wbGF0ZVVybCsnLicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KGFyZ3MuY29udGFpbmVyKS5hcHBlbmQodGVtcGxhdGVFbGVtZW50KTtcbiAgICAgICAgICAgICAgICBtZXNzYWdlRWxlbWVudHMucHVzaCh0ZW1wbGF0ZUVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MucG9zaXRpb24gPT09ICdjZW50ZXInKXtcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlRWxlbWVudC5jc3MoJ21hcmdpbi1sZWZ0JywnLScgKyAodGVtcGxhdGVFbGVtZW50WzBdLm9mZnNldFdpZHRoIC8yKSArICdweCcpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29wZS4kY2xvc2UgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZUVsZW1lbnQuY3NzKCdvcGFjaXR5JywwKS5hdHRyKCdkYXRhLWNsb3NpbmcnLCd0cnVlJyk7XG4gICAgICAgICAgICAgICAgICAgIGxheW91dE1lc3NhZ2VzKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBsYXlvdXRNZXNzYWdlcyA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBqID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRZID0gc3RhcnRUb3A7XG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IG1lc3NhZ2VFbGVtZW50cy5sZW5ndGggLSAxOyBpID49IDA7IGkgLS0pe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNoYWRvd0hlaWdodCA9IDEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBtZXNzYWdlRWxlbWVudHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gZWxlbWVudFswXS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG9wID0gY3VycmVudFkgKyBoZWlnaHQgKyBzaGFkb3dIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5hdHRyKCdkYXRhLWNsb3NpbmcnKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wICs9IDIwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50WSArPSBoZWlnaHQgKyB2ZXJ0aWNhbFNwYWNpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNzcygndG9wJyx0b3AgKyAncHgnKS5jc3MoJ21hcmdpbi10b3AnLCctJyArIChoZWlnaHQrc2hhZG93SGVpZ2h0KSArICdweCcpLmNzcygndmlzaWJpbGl0eScsJ3Zpc2libGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGogKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgbGF5b3V0TWVzc2FnZXMoKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChkdXJhdGlvbiA+IDApe1xuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGVtcGxhdGUgc3BlY2lmaWVkIGZvciBjZ05vdGlmeSAoJythcmdzLnRlbXBsYXRlVXJsKycpIGNvdWxkIG5vdCBiZSBsb2FkZWQuICcgKyBkYXRhKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgcmV0VmFsID0ge307XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldFZhbC5jbG9zZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLiRjbG9zZSl7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRjbG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXRWYWwsJ21lc3NhZ2UnLHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzY29wZS4kbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24odmFsKXtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJG1lc3NhZ2UgPSB2YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXRWYWw7XG5cbiAgICAgICAgfTtcblxuICAgICAgICBub3RpZnkuY29uZmlnID0gZnVuY3Rpb24oYXJncyl7XG4gICAgICAgICAgICBzdGFydFRvcCA9ICFhbmd1bGFyLmlzVW5kZWZpbmVkKGFyZ3Muc3RhcnRUb3ApID8gYXJncy5zdGFydFRvcCA6IHN0YXJ0VG9wO1xuICAgICAgICAgICAgdmVydGljYWxTcGFjaW5nID0gIWFuZ3VsYXIuaXNVbmRlZmluZWQoYXJncy52ZXJ0aWNhbFNwYWNpbmcpID8gYXJncy52ZXJ0aWNhbFNwYWNpbmcgOiB2ZXJ0aWNhbFNwYWNpbmc7XG4gICAgICAgICAgICBkdXJhdGlvbiA9ICFhbmd1bGFyLmlzVW5kZWZpbmVkKGFyZ3MuZHVyYXRpb24pID8gYXJncy5kdXJhdGlvbiA6IGR1cmF0aW9uO1xuICAgICAgICAgICAgZGVmYXVsdFRlbXBsYXRlVXJsID0gYXJncy50ZW1wbGF0ZVVybCA/IGFyZ3MudGVtcGxhdGVVcmwgOiBkZWZhdWx0VGVtcGxhdGVVcmw7XG4gICAgICAgICAgICBwb3NpdGlvbiA9ICFhbmd1bGFyLmlzVW5kZWZpbmVkKGFyZ3MucG9zaXRpb24pID8gYXJncy5wb3NpdGlvbiA6IHBvc2l0aW9uO1xuICAgICAgICAgICAgY29udGFpbmVyID0gYXJncy5jb250YWluZXIgPyBhcmdzLmNvbnRhaW5lciA6IGNvbnRhaW5lcjtcbiAgICAgICAgfTtcblxuICAgICAgICBub3RpZnkuY2xvc2VBbGwgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgZm9yKHZhciBpID0gbWVzc2FnZUVsZW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaSAtLSl7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBtZXNzYWdlRWxlbWVudHNbaV07XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jc3MoJ29wYWNpdHknLDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBub3RpZnk7XG4gICAgfVxuXSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdjZ05vdGlmeScpLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnYW5ndWxhci1ub3RpZnkuaHRtbCcsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJjZy1ub3RpZnktbWVzc2FnZVxcXCIgbmctY2xhc3M9XFxcIiRjbGFzc2VzXFxcIj5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgPGRpdiBuZy1zaG93PVxcXCIhJG1lc3NhZ2VUZW1wbGF0ZVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICB7eyRtZXNzYWdlfX1cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgIDxkaXYgbmctc2hvdz1cXFwiJG1lc3NhZ2VUZW1wbGF0ZVxcXCIgY2xhc3M9XFxcImNnLW5vdGlmeS1tZXNzYWdlLXRlbXBsYXRlXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIFxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjZy1ub3RpZnktY2xvc2VcXFwiIG5nLWNsaWNrPVxcXCIkY2xvc2UoKVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+JnRpbWVzOzwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJjZy1ub3RpZnktc3Itb25seVxcXCI+Q2xvc2U8L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIjwvZGl2PlwiXG4gICk7XG5cbn1dKTtcbiIsIi8qIEZpcmViYXNlIHYxLjAuMjQgLSBMaWNlbnNlOiBodHRwczovL3d3dy5maXJlYmFzZS5jb20vdGVybXMvdGVybXMtb2Ytc2VydmljZS5odG1sICovIChmdW5jdGlvbigpIHt2YXIgc2NvcGU9e307KGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbShjLGIpe2lmKDA9PT1jLmxlbmd0aHx8MD09PWIubGVuZ3RoKXJldHVybiBjLmNvbmNhdChiKTt2YXIgYT1jW2MubGVuZ3RoLTFdLGQ9TWF0aC5yb3VuZChhLzEwOTk1MTE2Mjc3NzYpfHwzMixlO2lmKDMyPT09ZCllPWMuY29uY2F0KGIpO2Vsc2V7ZT1iO3ZhciBhPWF8MCxmPWMuc2xpY2UoMCxjLmxlbmd0aC0xKSxnO2Zvcih2b2lkIDA9PT1mJiYoZj1bXSk7MzI8PWQ7ZC09MzIpZi5wdXNoKGEpLGE9MDtpZigwPT09ZCllPWYuY29uY2F0KGUpO2Vsc2V7Zm9yKGc9MDtnPGUubGVuZ3RoO2crKylmLnB1c2goYXxlW2ddPj4+ZCksYT1lW2ddPDwzMi1kO2c9ZS5sZW5ndGg/ZVtlLmxlbmd0aC0xXTowO2U9TWF0aC5yb3VuZChnLzEwOTk1MTE2Mjc3NzYpfHwzMjtmLnB1c2gobihkK2UmMzEsMzI8ZCtlP2E6Zi5wb3AoKSwxKSk7ZT1mfX1yZXR1cm4gZX1cbmZ1bmN0aW9uIHAoYyl7dmFyIGI9Yy5sZW5ndGg7cmV0dXJuIDA9PT1iPzA6MzIqKGItMSkrKE1hdGgucm91bmQoY1tiLTFdLzEwOTk1MTE2Mjc3NzYpfHwzMil9ZnVuY3Rpb24gbihjLGIsYSl7cmV0dXJuIDMyPT09Yz9iOihhP2J8MDpiPDwzMi1jKSsxMDk5NTExNjI3Nzc2KmN9ZnVuY3Rpb24gcihjKXtjPyh0aGlzLmM9Yy5jLnNsaWNlKDApLHRoaXMuYj1jLmIuc2xpY2UoMCksdGhpcy5hPWMuYSk6dGhpcy5yZXNldCgpfVxuci5wcm90b3R5cGU9e2Q6NTEyLHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5jPXRoaXMuZS5zbGljZSgwKTt0aGlzLmI9W107dGhpcy5hPTA7cmV0dXJuIHRoaXN9LHVwZGF0ZTpmdW5jdGlvbihjKXtpZihcInN0cmluZ1wiPT09dHlwZW9mIGMpe2M9dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGMpKTt2YXIgYj1bXSxhLGQ9MDtmb3IoYT0wO2E8Yy5sZW5ndGg7YSsrKWQ9ZDw8OHxjLmNoYXJDb2RlQXQoYSksMz09PShhJjMpJiYoYi5wdXNoKGQpLGQ9MCk7YSYzJiZiLnB1c2gobig4KihhJjMpLGQpKTtjPWJ9YT10aGlzLmI9bSh0aGlzLmIsYyk7Yj10aGlzLmE7Yz10aGlzLmE9YitwKGMpO2ZvcihiPXRoaXMuZCtiJi10aGlzLmQ7Yjw9YztiKz10aGlzLmQpcyh0aGlzLGEuc3BsaWNlKDAsMTYpKTtyZXR1cm4gdGhpc30sZTpbMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4LDMyODUzNzc1MjBdLGY6WzE1MTg1MDAyNDksMTg1OTc3NTM5MywyNDAwOTU5NzA4LDMzOTU0Njk3ODJdfTtcbmZ1bmN0aW9uIHMoYyxiKXt2YXIgYSxkLGUsZixnLGwscSxrPWIuc2xpY2UoMCksaD1jLmM7ZT1oWzBdO2Y9aFsxXTtnPWhbMl07bD1oWzNdO3E9aFs0XTtmb3IoYT0wOzc5Pj1hO2ErKykxNjw9YSYmKGtbYV09KGtbYS0zXV5rW2EtOF1ea1thLTE0XV5rW2EtMTZdKTw8MXwoa1thLTNdXmtbYS04XV5rW2EtMTRdXmtbYS0xNl0pPj4+MzEpLGQ9MTk+PWE/ZiZnfH5mJmw6Mzk+PWE/Zl5nXmw6NTk+PWE/ZiZnfGYmbHxnJmw6Nzk+PWE/Zl5nXmw6dm9pZCAwLGQ9KGU8PDV8ZT4+PjI3KStkK3Era1thXStjLmZbTWF0aC5mbG9vcihhLzIwKV18MCxxPWwsbD1nLGc9Zjw8MzB8Zj4+PjIsZj1lLGU9ZDtoWzBdPWhbMF0rZXwwO2hbMV09aFsxXStmfDA7aFsyXT1oWzJdK2d8MDtoWzNdPWhbM10rbHwwO2hbNF09aFs0XStxfDB9XG5mdW5jdGlvbiB0KGMpe3ZhciBiPShuZXcgcikudXBkYXRlKGMpLGEsZD1iLmI7Yz1iLmM7ZD1tKGQsW24oMSwxKV0pO2ZvcihhPWQubGVuZ3RoKzI7YSYxNTthKyspZC5wdXNoKDApO2QucHVzaChNYXRoLmZsb29yKGIuYS80Mjk0OTY3Mjk2KSk7Zm9yKGQucHVzaChiLmF8MCk7ZC5sZW5ndGg7KXMoYixkLnNwbGljZSgwLDE2KSk7Yi5yZXNldCgpO3ZhciBlLGI9XCJcIjthPTA7dmFyIGQ9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIsZj0wLGc9cChjKTtlJiYoZD1kLnN1YnN0cigwLDYyKStcIi1fXCIpO2ZvcihlPTA7NipiLmxlbmd0aDxnOyliKz1kLmNoYXJBdCgoZl5jW2VdPj4+YSk+Pj4yNiksNj5hPyhmPWNbZV08PDYtYSxhKz0yNixlKyspOihmPDw9NixhLT02KTtmb3IoO2IubGVuZ3RoJjM7KWIrPVwiPVwiO3JldHVybiBifXZhciB1PVtcInNqY2xIYXNoVG9CYXNlNjRcIl0sdj10aGlzO1xudVswXWluIHZ8fCF2LmV4ZWNTY3JpcHR8fHYuZXhlY1NjcmlwdChcInZhciBcIit1WzBdKTtmb3IodmFyIHc7dS5sZW5ndGgmJih3PXUuc2hpZnQoKSk7KXUubGVuZ3RofHx2b2lkIDA9PT10P3Y9dlt3XT92W3ddOnZbd109e306dlt3XT10O30pLmFwcGx5KHNjb3BlKTt2YXIgc2pjbEhhc2hUb0Jhc2U2ND1zY29wZVsnc2pjbEhhc2hUb0Jhc2U2NCddOyB2YXIgaCxhYT10aGlzO2Z1bmN0aW9uIG0oYSl7cmV0dXJuIHZvaWQgMCE9PWF9ZnVuY3Rpb24gYmEoKXt9ZnVuY3Rpb24gY2EoYSl7YS5xYj1mdW5jdGlvbigpe3JldHVybiBhLmhkP2EuaGQ6YS5oZD1uZXcgYX19XG5mdW5jdGlvbiBkYShhKXt2YXIgYj10eXBlb2YgYTtpZihcIm9iamVjdFwiPT1iKWlmKGEpe2lmKGEgaW5zdGFuY2VvZiBBcnJheSlyZXR1cm5cImFycmF5XCI7aWYoYSBpbnN0YW5jZW9mIE9iamVjdClyZXR1cm4gYjt2YXIgYz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSk7aWYoXCJbb2JqZWN0IFdpbmRvd11cIj09YylyZXR1cm5cIm9iamVjdFwiO2lmKFwiW29iamVjdCBBcnJheV1cIj09Y3x8XCJudW1iZXJcIj09dHlwZW9mIGEubGVuZ3RoJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5zcGxpY2UmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnByb3BlcnR5SXNFbnVtZXJhYmxlJiYhYS5wcm9wZXJ0eUlzRW51bWVyYWJsZShcInNwbGljZVwiKSlyZXR1cm5cImFycmF5XCI7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT1jfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5jYWxsJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5wcm9wZXJ0eUlzRW51bWVyYWJsZSYmIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJjYWxsXCIpKXJldHVyblwiZnVuY3Rpb25cIn1lbHNlIHJldHVyblwibnVsbFwiO1xuZWxzZSBpZihcImZ1bmN0aW9uXCI9PWImJlwidW5kZWZpbmVkXCI9PXR5cGVvZiBhLmNhbGwpcmV0dXJuXCJvYmplY3RcIjtyZXR1cm4gYn1mdW5jdGlvbiBlYShhKXtyZXR1cm5cImFycmF5XCI9PWRhKGEpfWZ1bmN0aW9uIGZhKGEpe3ZhciBiPWRhKGEpO3JldHVyblwiYXJyYXlcIj09Ynx8XCJvYmplY3RcIj09YiYmXCJudW1iZXJcIj09dHlwZW9mIGEubGVuZ3RofWZ1bmN0aW9uIHAoYSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGF9ZnVuY3Rpb24gZ2EoYSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGF9ZnVuY3Rpb24gaGEoYSl7dmFyIGI9dHlwZW9mIGE7cmV0dXJuXCJvYmplY3RcIj09YiYmbnVsbCE9YXx8XCJmdW5jdGlvblwiPT1ifWZ1bmN0aW9uIGlhKGEsYixjKXtyZXR1cm4gYS5jYWxsLmFwcGx5KGEuYmluZCxhcmd1bWVudHMpfVxuZnVuY3Rpb24gamEoYSxiLGMpe2lmKCFhKXRocm93IEVycm9yKCk7aWYoMjxhcmd1bWVudHMubGVuZ3RoKXt2YXIgZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShjLGQpO3JldHVybiBhLmFwcGx5KGIsYyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGIsYXJndW1lbnRzKX19ZnVuY3Rpb24gcShhLGIsYyl7cT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZCYmLTEhPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLnRvU3RyaW5nKCkuaW5kZXhPZihcIm5hdGl2ZSBjb2RlXCIpP2lhOmphO3JldHVybiBxLmFwcGx5KG51bGwsYXJndW1lbnRzKX1cbmZ1bmN0aW9uIGthKGEsYil7ZnVuY3Rpb24gYygpe31jLnByb3RvdHlwZT1iLnByb3RvdHlwZTthLmdlPWIucHJvdG90eXBlO2EucHJvdG90eXBlPW5ldyBjO2EuZWU9ZnVuY3Rpb24oYSxjLGYpe3JldHVybiBiLnByb3RvdHlwZVtjXS5hcHBseShhLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9fTtmdW5jdGlvbiBsYShhKXthPVN0cmluZyhhKTtpZigvXlxccyokLy50ZXN0KGEpPzA6L15bXFxdLDp7fVxcc1xcdTIwMjhcXHUyMDI5XSokLy50ZXN0KGEucmVwbGFjZSgvXFxcXFtcIlxcXFxcXC9iZm5ydHVdL2csXCJAXCIpLnJlcGxhY2UoL1wiW15cIlxcXFxcXG5cXHJcXHUyMDI4XFx1MjAyOVxceDAwLVxceDA4XFx4MGEtXFx4MWZdKlwifHRydWV8ZmFsc2V8bnVsbHwtP1xcZCsoPzpcXC5cXGQqKT8oPzpbZUVdWytcXC1dP1xcZCspPy9nLFwiXVwiKS5yZXBsYWNlKC8oPzpefDp8LCkoPzpbXFxzXFx1MjAyOFxcdTIwMjldKlxcWykrL2csXCJcIikpKXRyeXtyZXR1cm4gZXZhbChcIihcIithK1wiKVwiKX1jYXRjaChiKXt9dGhyb3cgRXJyb3IoXCJJbnZhbGlkIEpTT04gc3RyaW5nOiBcIithKTt9ZnVuY3Rpb24gbWEoKXt0aGlzLm1jPXZvaWQgMH1cbmZ1bmN0aW9uIG5hKGEsYixjKXtzd2l0Y2godHlwZW9mIGIpe2Nhc2UgXCJzdHJpbmdcIjpvYShiLGMpO2JyZWFrO2Nhc2UgXCJudW1iZXJcIjpjLnB1c2goaXNGaW5pdGUoYikmJiFpc05hTihiKT9iOlwibnVsbFwiKTticmVhaztjYXNlIFwiYm9vbGVhblwiOmMucHVzaChiKTticmVhaztjYXNlIFwidW5kZWZpbmVkXCI6Yy5wdXNoKFwibnVsbFwiKTticmVhaztjYXNlIFwib2JqZWN0XCI6aWYobnVsbD09Yil7Yy5wdXNoKFwibnVsbFwiKTticmVha31pZihlYShiKSl7dmFyIGQ9Yi5sZW5ndGg7Yy5wdXNoKFwiW1wiKTtmb3IodmFyIGU9XCJcIixmPTA7ZjxkO2YrKyljLnB1c2goZSksZT1iW2ZdLG5hKGEsYS5tYz9hLm1jLmNhbGwoYixTdHJpbmcoZiksZSk6ZSxjKSxlPVwiLFwiO2MucHVzaChcIl1cIik7YnJlYWt9Yy5wdXNoKFwie1wiKTtkPVwiXCI7Zm9yKGYgaW4gYilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYixmKSYmKGU9YltmXSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiYoYy5wdXNoKGQpLG9hKGYsYyksXG5jLnB1c2goXCI6XCIpLG5hKGEsYS5tYz9hLm1jLmNhbGwoYixmLGUpOmUsYyksZD1cIixcIikpO2MucHVzaChcIn1cIik7YnJlYWs7Y2FzZSBcImZ1bmN0aW9uXCI6YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVua25vd24gdHlwZTogXCIrdHlwZW9mIGIpO319dmFyIHBhPXsnXCInOidcXFxcXCInLFwiXFxcXFwiOlwiXFxcXFxcXFxcIixcIi9cIjpcIlxcXFwvXCIsXCJcXGJcIjpcIlxcXFxiXCIsXCJcXGZcIjpcIlxcXFxmXCIsXCJcXG5cIjpcIlxcXFxuXCIsXCJcXHJcIjpcIlxcXFxyXCIsXCJcXHRcIjpcIlxcXFx0XCIsXCJcXHgwQlwiOlwiXFxcXHUwMDBiXCJ9LHFhPS9cXHVmZmZmLy50ZXN0KFwiXFx1ZmZmZlwiKT8vW1xcXFxcXFwiXFx4MDAtXFx4MWZcXHg3Zi1cXHVmZmZmXS9nOi9bXFxcXFxcXCJcXHgwMC1cXHgxZlxceDdmLVxceGZmXS9nO1xuZnVuY3Rpb24gb2EoYSxiKXtiLnB1c2goJ1wiJyxhLnJlcGxhY2UocWEsZnVuY3Rpb24oYSl7aWYoYSBpbiBwYSlyZXR1cm4gcGFbYV07dmFyIGI9YS5jaGFyQ29kZUF0KDApLGU9XCJcXFxcdVwiOzE2PmI/ZSs9XCIwMDBcIjoyNTY+Yj9lKz1cIjAwXCI6NDA5Nj5iJiYoZSs9XCIwXCIpO3JldHVybiBwYVthXT1lK2IudG9TdHJpbmcoMTYpfSksJ1wiJyl9O2Z1bmN0aW9uIHJhKGEpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgSlNPTiYmbShKU09OLnBhcnNlKT9KU09OLnBhcnNlKGEpOmxhKGEpfWZ1bmN0aW9uIHUoYSl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBKU09OJiZtKEpTT04uc3RyaW5naWZ5KSlhPUpTT04uc3RyaW5naWZ5KGEpO2Vsc2V7dmFyIGI9W107bmEobmV3IG1hLGEsYik7YT1iLmpvaW4oXCJcIil9cmV0dXJuIGF9O2Z1bmN0aW9uIHNhKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZT1hLmNoYXJDb2RlQXQoZCk7NTUyOTY8PWUmJjU2MzE5Pj1lJiYoZS09NTUyOTYsZCsrLHYoZDxhLmxlbmd0aCxcIlN1cnJvZ2F0ZSBwYWlyIG1pc3NpbmcgdHJhaWwgc3Vycm9nYXRlLlwiKSxlPTY1NTM2KyhlPDwxMCkrKGEuY2hhckNvZGVBdChkKS01NjMyMCkpOzEyOD5lP2JbYysrXT1lOigyMDQ4PmU/YltjKytdPWU+PjZ8MTkyOig2NTUzNj5lP2JbYysrXT1lPj4xMnwyMjQ6KGJbYysrXT1lPj4xOHwyNDAsYltjKytdPWU+PjEyJjYzfDEyOCksYltjKytdPWU+PjYmNjN8MTI4KSxiW2MrK109ZSY2M3wxMjgpfXJldHVybiBifTt2YXIgdGE9e307ZnVuY3Rpb24geChhLGIsYyxkKXt2YXIgZTtkPGI/ZT1cImF0IGxlYXN0IFwiK2I6ZD5jJiYoZT0wPT09Yz9cIm5vbmVcIjpcIm5vIG1vcmUgdGhhbiBcIitjKTtpZihlKXRocm93IEVycm9yKGErXCIgZmFpbGVkOiBXYXMgY2FsbGVkIHdpdGggXCIrZCsoMT09PWQ/XCIgYXJndW1lbnQuXCI6XCIgYXJndW1lbnRzLlwiKStcIiBFeHBlY3RzIFwiK2UrXCIuXCIpO31cbmZ1bmN0aW9uIHkoYSxiLGMpe3ZhciBkPVwiXCI7c3dpdGNoKGIpe2Nhc2UgMTpkPWM/XCJmaXJzdFwiOlwiRmlyc3RcIjticmVhaztjYXNlIDI6ZD1jP1wic2Vjb25kXCI6XCJTZWNvbmRcIjticmVhaztjYXNlIDM6ZD1jP1widGhpcmRcIjpcIlRoaXJkXCI7YnJlYWs7Y2FzZSA0OmQ9Yz9cImZvdXJ0aFwiOlwiRm91cnRoXCI7YnJlYWs7ZGVmYXVsdDp1YS5hc3NlcnQoITEsXCJlcnJvclByZWZpeF8gY2FsbGVkIHdpdGggYXJndW1lbnROdW1iZXIgPiA0LiAgTmVlZCB0byB1cGRhdGUgaXQ/XCIpfXJldHVybiBhPWErXCIgZmFpbGVkOiBcIisoZCtcIiBhcmd1bWVudCBcIil9ZnVuY3Rpb24geihhLGIsYyxkKXtpZigoIWR8fG0oYykpJiZcImZ1bmN0aW9uXCIhPWRhKGMpKXRocm93IEVycm9yKHkoYSxiLGQpK1wibXVzdCBiZSBhIHZhbGlkIGZ1bmN0aW9uLlwiKTt9XG5mdW5jdGlvbiB2YShhLGIsYyl7aWYobShjKSYmKCFoYShjKXx8bnVsbD09PWMpKXRocm93IEVycm9yKHkoYSxiLCEwKStcIm11c3QgYmUgYSB2YWxpZCBjb250ZXh0IG9iamVjdC5cIik7fTtmdW5jdGlvbiBBKGEsYil7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLGIpfWZ1bmN0aW9uIHdhKGEsYil7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsYikpcmV0dXJuIGFbYl19O3ZhciB1YT17fSx4YT0vW1xcW1xcXS4jJFxcL1xcdTAwMDAtXFx1MDAxRlxcdTAwN0ZdLyx5YT0vW1xcW1xcXS4jJFxcdTAwMDAtXFx1MDAxRlxcdTAwN0ZdLztmdW5jdGlvbiB6YShhKXtyZXR1cm4gcChhKSYmMCE9PWEubGVuZ3RoJiYheGEudGVzdChhKX1mdW5jdGlvbiBBYShhLGIsYyl7YyYmIW0oYil8fEJhKHkoYSwxLGMpLGIpfVxuZnVuY3Rpb24gQmEoYSxiLGMsZCl7Y3x8KGM9MCk7ZD1kfHxbXTtpZighbShiKSl0aHJvdyBFcnJvcihhK1wiY29udGFpbnMgdW5kZWZpbmVkXCIrQ2EoZCkpO2lmKFwiZnVuY3Rpb25cIj09ZGEoYikpdGhyb3cgRXJyb3IoYStcImNvbnRhaW5zIGEgZnVuY3Rpb25cIitDYShkKStcIiB3aXRoIGNvbnRlbnRzOiBcIitiLnRvU3RyaW5nKCkpO2lmKERhKGIpKXRocm93IEVycm9yKGErXCJjb250YWlucyBcIitiLnRvU3RyaW5nKCkrQ2EoZCkpO2lmKDFFMzxjKXRocm93IG5ldyBUeXBlRXJyb3IoYStcImNvbnRhaW5zIGEgY3ljbGljIG9iamVjdCB2YWx1ZSAoXCIrZC5zbGljZSgwLDEwMCkuam9pbihcIi5cIikrXCIuLi4pXCIpO2lmKHAoYikmJmIubGVuZ3RoPjEwNDg1NzYwLzMmJjEwNDg1NzYwPHNhKGIpLmxlbmd0aCl0aHJvdyBFcnJvcihhK1wiY29udGFpbnMgYSBzdHJpbmcgZ3JlYXRlciB0aGFuIDEwNDg1NzYwIHV0ZjggYnl0ZXNcIitDYShkKStcIiAoJ1wiK2Iuc3Vic3RyaW5nKDAsNTApK1wiLi4uJylcIik7aWYoaGEoYikpZm9yKHZhciBlIGluIGIpaWYoQShiLFxuZSkpe3ZhciBmPWJbZV07aWYoXCIucHJpb3JpdHlcIiE9PWUmJlwiLnZhbHVlXCIhPT1lJiZcIi5zdlwiIT09ZSYmIXphKGUpKXRocm93IEVycm9yKGErXCIgY29udGFpbnMgYW4gaW52YWxpZCBrZXkgKFwiK2UrXCIpXCIrQ2EoZCkrJy4gIEtleXMgbXVzdCBiZSBub24tZW1wdHkgc3RyaW5ncyBhbmQgY2FuXFwndCBjb250YWluIFwiLlwiLCBcIiNcIiwgXCIkXCIsIFwiL1wiLCBcIltcIiwgb3IgXCJdXCInKTtkLnB1c2goZSk7QmEoYSxmLGMrMSxkKTtkLnBvcCgpfX1mdW5jdGlvbiBDYShhKXtyZXR1cm4gMD09YS5sZW5ndGg/XCJcIjpcIiBpbiBwcm9wZXJ0eSAnXCIrYS5qb2luKFwiLlwiKStcIidcIn1mdW5jdGlvbiBFYShhLGIpe2lmKCFoYShiKXx8ZWEoYikpdGhyb3cgRXJyb3IoeShhLDEsITEpK1wiIG11c3QgYmUgYW4gT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGNoaWxkcmVuIHRvIHJlcGxhY2UuXCIpO0FhKGEsYiwhMSl9XG5mdW5jdGlvbiBGYShhLGIsYyxkKXtpZighZHx8bShjKSl7aWYoRGEoYykpdGhyb3cgRXJyb3IoeShhLGIsZCkrXCJpcyBcIitjLnRvU3RyaW5nKCkrXCIsIGJ1dCBtdXN0IGJlIGEgdmFsaWQgRmlyZWJhc2UgcHJpb3JpdHkgKGEgc3RyaW5nLCBmaW5pdGUgbnVtYmVyLCBvciBudWxsKS5cIik7aWYoIShudWxsPT09Y3x8Z2EoYyl8fHAoYyl8fGhhKGMpJiZBKGMsXCIuc3ZcIikpKXRocm93IEVycm9yKHkoYSxiLGQpK1wibXVzdCBiZSBhIHZhbGlkIEZpcmViYXNlIHByaW9yaXR5IChhIHN0cmluZywgZmluaXRlIG51bWJlciwgb3IgbnVsbCkuXCIpO319XG5mdW5jdGlvbiBHYShhLGIsYyl7aWYoIWN8fG0oYikpc3dpdGNoKGIpe2Nhc2UgXCJ2YWx1ZVwiOmNhc2UgXCJjaGlsZF9hZGRlZFwiOmNhc2UgXCJjaGlsZF9yZW1vdmVkXCI6Y2FzZSBcImNoaWxkX2NoYW5nZWRcIjpjYXNlIFwiY2hpbGRfbW92ZWRcIjpicmVhaztkZWZhdWx0OnRocm93IEVycm9yKHkoYSwxLGMpKydtdXN0IGJlIGEgdmFsaWQgZXZlbnQgdHlwZTogXCJ2YWx1ZVwiLCBcImNoaWxkX2FkZGVkXCIsIFwiY2hpbGRfcmVtb3ZlZFwiLCBcImNoaWxkX2NoYW5nZWRcIiwgb3IgXCJjaGlsZF9tb3ZlZFwiLicpO319ZnVuY3Rpb24gSGEoYSxiKXtpZihtKGIpJiYhemEoYikpdGhyb3cgRXJyb3IoeShhLDIsITApKyd3YXMgYW4gaW52YWxpZCBrZXk6IFwiJytiKydcIi4gIEZpcmViYXNlIGtleXMgbXVzdCBiZSBub24tZW1wdHkgc3RyaW5ncyBhbmQgY2FuXFwndCBjb250YWluIFwiLlwiLCBcIiNcIiwgXCIkXCIsIFwiL1wiLCBcIltcIiwgb3IgXCJdXCIpLicpO31cbmZ1bmN0aW9uIElhKGEsYil7aWYoIXAoYil8fDA9PT1iLmxlbmd0aHx8eWEudGVzdChiKSl0aHJvdyBFcnJvcih5KGEsMSwhMSkrJ3dhcyBhbiBpbnZhbGlkIHBhdGg6IFwiJytiKydcIi4gUGF0aHMgbXVzdCBiZSBub24tZW1wdHkgc3RyaW5ncyBhbmQgY2FuXFwndCBjb250YWluIFwiLlwiLCBcIiNcIiwgXCIkXCIsIFwiW1wiLCBvciBcIl1cIicpO31mdW5jdGlvbiBCKGEsYil7aWYoXCIuaW5mb1wiPT09QyhiKSl0aHJvdyBFcnJvcihhK1wiIGZhaWxlZDogQ2FuJ3QgbW9kaWZ5IGRhdGEgdW5kZXIgLy5pbmZvL1wiKTt9O2Z1bmN0aW9uIEQoYSxiLGMsZCxlLGYsZyl7dGhpcy5tPWE7dGhpcy5wYXRoPWI7dGhpcy5EYT1jO3RoaXMuZGE9ZDt0aGlzLndhPWU7dGhpcy5CYT1mO3RoaXMuWGE9ZztpZihtKHRoaXMuZGEpJiZtKHRoaXMuQmEpJiZtKHRoaXMuRGEpKXRocm93XCJRdWVyeTogQ2FuJ3QgY29tYmluZSBzdGFydEF0KCksIGVuZEF0KCksIGFuZCBsaW1pdCgpLlwiO31ELnByb3RvdHlwZS5RYz1mdW5jdGlvbigpe3goXCJRdWVyeS5yZWZcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIG5ldyBFKHRoaXMubSx0aGlzLnBhdGgpfTtELnByb3RvdHlwZS5yZWY9RC5wcm90b3R5cGUuUWM7XG5ELnByb3RvdHlwZS5lYj1mdW5jdGlvbihhLGIpe3goXCJRdWVyeS5vblwiLDIsNCxhcmd1bWVudHMubGVuZ3RoKTtHYShcIlF1ZXJ5Lm9uXCIsYSwhMSk7eihcIlF1ZXJ5Lm9uXCIsMixiLCExKTt2YXIgYz1KYShcIlF1ZXJ5Lm9uXCIsYXJndW1lbnRzWzJdLGFyZ3VtZW50c1szXSk7dGhpcy5tLlFiKHRoaXMsYSxiLGMuY2FuY2VsLGMuWSk7cmV0dXJuIGJ9O0QucHJvdG90eXBlLm9uPUQucHJvdG90eXBlLmViO0QucHJvdG90eXBlLnhiPWZ1bmN0aW9uKGEsYixjKXt4KFwiUXVlcnkub2ZmXCIsMCwzLGFyZ3VtZW50cy5sZW5ndGgpO0dhKFwiUXVlcnkub2ZmXCIsYSwhMCk7eihcIlF1ZXJ5Lm9mZlwiLDIsYiwhMCk7dmEoXCJRdWVyeS5vZmZcIiwzLGMpO3RoaXMubS5sYyh0aGlzLGEsYixjKX07RC5wcm90b3R5cGUub2ZmPUQucHJvdG90eXBlLnhiO1xuRC5wcm90b3R5cGUuVGQ9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGcpe2YmJihmPSExLGUueGIoYSxjKSxiLmNhbGwoZC5ZLGcpKX14KFwiUXVlcnkub25jZVwiLDIsNCxhcmd1bWVudHMubGVuZ3RoKTtHYShcIlF1ZXJ5Lm9uY2VcIixhLCExKTt6KFwiUXVlcnkub25jZVwiLDIsYiwhMSk7dmFyIGQ9SmEoXCJRdWVyeS5vbmNlXCIsYXJndW1lbnRzWzJdLGFyZ3VtZW50c1szXSksZT10aGlzLGY9ITA7dGhpcy5lYihhLGMsZnVuY3Rpb24oYil7ZS54YihhLGMpO2QuY2FuY2VsJiZkLmNhbmNlbC5jYWxsKGQuWSxiKX0pfTtELnByb3RvdHlwZS5vbmNlPUQucHJvdG90eXBlLlRkO1xuRC5wcm90b3R5cGUuTWQ9ZnVuY3Rpb24oYSl7eChcIlF1ZXJ5LmxpbWl0XCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpO2lmKCFnYShhKXx8TWF0aC5mbG9vcihhKSE9PWF8fDA+PWEpdGhyb3dcIlF1ZXJ5LmxpbWl0OiBGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlci5cIjtyZXR1cm4gbmV3IEQodGhpcy5tLHRoaXMucGF0aCxhLHRoaXMuZGEsdGhpcy53YSx0aGlzLkJhLHRoaXMuWGEpfTtELnByb3RvdHlwZS5saW1pdD1ELnByb3RvdHlwZS5NZDtELnByb3RvdHlwZS53ZD1mdW5jdGlvbihhLGIpe3goXCJRdWVyeS5zdGFydEF0XCIsMCwyLGFyZ3VtZW50cy5sZW5ndGgpO0ZhKFwiUXVlcnkuc3RhcnRBdFwiLDEsYSwhMCk7SGEoXCJRdWVyeS5zdGFydEF0XCIsYik7bShhKXx8KGI9YT1udWxsKTtyZXR1cm4gbmV3IEQodGhpcy5tLHRoaXMucGF0aCx0aGlzLkRhLGEsYix0aGlzLkJhLHRoaXMuWGEpfTtELnByb3RvdHlwZS5zdGFydEF0PUQucHJvdG90eXBlLndkO1xuRC5wcm90b3R5cGUuY2Q9ZnVuY3Rpb24oYSxiKXt4KFwiUXVlcnkuZW5kQXRcIiwwLDIsYXJndW1lbnRzLmxlbmd0aCk7RmEoXCJRdWVyeS5lbmRBdFwiLDEsYSwhMCk7SGEoXCJRdWVyeS5lbmRBdFwiLGIpO3JldHVybiBuZXcgRCh0aGlzLm0sdGhpcy5wYXRoLHRoaXMuRGEsdGhpcy5kYSx0aGlzLndhLGEsYil9O0QucHJvdG90eXBlLmVuZEF0PUQucHJvdG90eXBlLmNkO0QucHJvdG90eXBlLkdkPWZ1bmN0aW9uKGEsYil7eChcIlF1ZXJ5LmVxdWFsVG9cIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7RmEoXCJRdWVyeS5lcXVhbFRvXCIsMSxhLCExKTtIYShcIlF1ZXJ5LmVxdWFsVG9cIixiKTtyZXR1cm4gdGhpcy53ZChhLGIpLmNkKGEsYil9O0QucHJvdG90eXBlLmVxdWFsVG89RC5wcm90b3R5cGUuR2Q7XG5mdW5jdGlvbiBLYShhKXt2YXIgYj17fTttKGEuZGEpJiYoYi5zcD1hLmRhKTttKGEud2EpJiYoYi5zbj1hLndhKTttKGEuQmEpJiYoYi5lcD1hLkJhKTttKGEuWGEpJiYoYi5lbj1hLlhhKTttKGEuRGEpJiYoYi5sPWEuRGEpO20oYS5kYSkmJm0oYS53YSkmJm51bGw9PT1hLmRhJiZudWxsPT09YS53YSYmKGIudmY9XCJsXCIpO3JldHVybiBifUQucHJvdG90eXBlLlJhPWZ1bmN0aW9uKCl7dmFyIGE9TGEoS2EodGhpcykpO3JldHVyblwie31cIj09PWE/XCJkZWZhdWx0XCI6YX07XG5mdW5jdGlvbiBKYShhLGIsYyl7dmFyIGQ9e307aWYoYiYmYylkLmNhbmNlbD1iLHooYSwzLGQuY2FuY2VsLCEwKSxkLlk9Yyx2YShhLDQsZC5ZKTtlbHNlIGlmKGIpaWYoXCJvYmplY3RcIj09PXR5cGVvZiBiJiZudWxsIT09YilkLlk9YjtlbHNlIGlmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBiKWQuY2FuY2VsPWI7ZWxzZSB0aHJvdyBFcnJvcih0YS5mZShhLDMsITApK1wibXVzdCBlaXRoZXIgYmUgYSBjYW5jZWwgY2FsbGJhY2sgb3IgYSBjb250ZXh0IG9iamVjdC5cIik7cmV0dXJuIGR9O2Z1bmN0aW9uIEYoYSxiKXtpZigxPT1hcmd1bWVudHMubGVuZ3RoKXt0aGlzLm89YS5zcGxpdChcIi9cIik7Zm9yKHZhciBjPTAsZD0wO2Q8dGhpcy5vLmxlbmd0aDtkKyspMDx0aGlzLm9bZF0ubGVuZ3RoJiYodGhpcy5vW2NdPXRoaXMub1tkXSxjKyspO3RoaXMuby5sZW5ndGg9Yzt0aGlzLlU9MH1lbHNlIHRoaXMubz1hLHRoaXMuVT1ifWZ1bmN0aW9uIEMoYSl7cmV0dXJuIGEuVT49YS5vLmxlbmd0aD9udWxsOmEub1thLlVdfWZ1bmN0aW9uIE1hKGEpe3ZhciBiPWEuVTtiPGEuby5sZW5ndGgmJmIrKztyZXR1cm4gbmV3IEYoYS5vLGIpfWZ1bmN0aW9uIE5hKGEpe3JldHVybiBhLlU8YS5vLmxlbmd0aD9hLm9bYS5vLmxlbmd0aC0xXTpudWxsfWg9Ri5wcm90b3R5cGU7aC50b1N0cmluZz1mdW5jdGlvbigpe2Zvcih2YXIgYT1cIlwiLGI9dGhpcy5VO2I8dGhpcy5vLmxlbmd0aDtiKyspXCJcIiE9PXRoaXMub1tiXSYmKGErPVwiL1wiK3RoaXMub1tiXSk7cmV0dXJuIGF8fFwiL1wifTtcbmgucGFyZW50PWZ1bmN0aW9uKCl7aWYodGhpcy5VPj10aGlzLm8ubGVuZ3RoKXJldHVybiBudWxsO2Zvcih2YXIgYT1bXSxiPXRoaXMuVTtiPHRoaXMuby5sZW5ndGgtMTtiKyspYS5wdXNoKHRoaXMub1tiXSk7cmV0dXJuIG5ldyBGKGEsMCl9O2guRz1mdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz10aGlzLlU7Yzx0aGlzLm8ubGVuZ3RoO2MrKyliLnB1c2godGhpcy5vW2NdKTtpZihhIGluc3RhbmNlb2YgRilmb3IoYz1hLlU7YzxhLm8ubGVuZ3RoO2MrKyliLnB1c2goYS5vW2NdKTtlbHNlIGZvcihhPWEuc3BsaXQoXCIvXCIpLGM9MDtjPGEubGVuZ3RoO2MrKykwPGFbY10ubGVuZ3RoJiZiLnB1c2goYVtjXSk7cmV0dXJuIG5ldyBGKGIsMCl9O2guZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlU+PXRoaXMuby5sZW5ndGh9O2gubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuby5sZW5ndGgtdGhpcy5VfTtcbmZ1bmN0aW9uIE9hKGEsYil7dmFyIGM9QyhhKTtpZihudWxsPT09YylyZXR1cm4gYjtpZihjPT09QyhiKSlyZXR1cm4gT2EoTWEoYSksTWEoYikpO3Rocm93XCJJTlRFUk5BTCBFUlJPUjogaW5uZXJQYXRoIChcIitiK1wiKSBpcyBub3Qgd2l0aGluIG91dGVyUGF0aCAoXCIrYStcIilcIjt9aC5jb250YWlucz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLlUsYz1hLlU7aWYodGhpcy5sZW5ndGgoKT5hLmxlbmd0aCgpKXJldHVybiExO2Zvcig7Yjx0aGlzLm8ubGVuZ3RoOyl7aWYodGhpcy5vW2JdIT09YS5vW2NdKXJldHVybiExOysrYjsrK2N9cmV0dXJuITB9O2Z1bmN0aW9uIFBhKCl7dGhpcy5jaGlsZHJlbj17fTt0aGlzLndjPTA7dGhpcy52YWx1ZT1udWxsfWZ1bmN0aW9uIFFhKGEsYixjKXt0aGlzLkVhPWE/YTpcIlwiO3RoaXMuRGI9Yj9iOm51bGw7dGhpcy5DPWM/YzpuZXcgUGF9ZnVuY3Rpb24gSShhLGIpe2Zvcih2YXIgYz1iIGluc3RhbmNlb2YgRj9iOm5ldyBGKGIpLGQ9YSxlO251bGwhPT0oZT1DKGMpKTspZD1uZXcgUWEoZSxkLHdhKGQuQy5jaGlsZHJlbixlKXx8bmV3IFBhKSxjPU1hKGMpO3JldHVybiBkfWg9UWEucHJvdG90eXBlO2guaj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkMudmFsdWV9O2Z1bmN0aW9uIEooYSxiKXt2KFwidW5kZWZpbmVkXCIhPT10eXBlb2YgYixcIkNhbm5vdCBzZXQgdmFsdWUgdG8gdW5kZWZpbmVkXCIpO2EuQy52YWx1ZT1iO1JhKGEpfWgucmI9ZnVuY3Rpb24oKXtyZXR1cm4gMDx0aGlzLkMud2N9O2guZj1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5qKCkmJiF0aGlzLnJiKCl9O1xuaC5BPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiB0aGlzLkMuY2hpbGRyZW4pYShuZXcgUWEoYix0aGlzLHRoaXMuQy5jaGlsZHJlbltiXSkpfTtmdW5jdGlvbiBTYShhLGIsYyxkKXtjJiYhZCYmYihhKTthLkEoZnVuY3Rpb24oYSl7U2EoYSxiLCEwLGQpfSk7YyYmZCYmYihhKX1mdW5jdGlvbiBUYShhLGIsYyl7Zm9yKGE9Yz9hOmEucGFyZW50KCk7bnVsbCE9PWE7KXtpZihiKGEpKXJldHVybiEwO2E9YS5wYXJlbnQoKX1yZXR1cm4hMX1oLnBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEYobnVsbD09PXRoaXMuRGI/dGhpcy5FYTp0aGlzLkRiLnBhdGgoKStcIi9cIit0aGlzLkVhKX07aC5uYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRWF9O2gucGFyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRGJ9O1xuZnVuY3Rpb24gUmEoYSl7aWYobnVsbCE9PWEuRGIpe3ZhciBiPWEuRGIsYz1hLkVhLGQ9YS5mKCksZT1BKGIuQy5jaGlsZHJlbixjKTtkJiZlPyhkZWxldGUgYi5DLmNoaWxkcmVuW2NdLGIuQy53Yy0tLFJhKGIpKTpkfHxlfHwoYi5DLmNoaWxkcmVuW2NdPWEuQyxiLkMud2MrKyxSYShiKSl9fTtmdW5jdGlvbiBVYShhLGIpe3RoaXMuVmE9YT9hOlZhO3RoaXMuY2E9Yj9iOldhfWZ1bmN0aW9uIFZhKGEsYil7cmV0dXJuIGE8Yj8tMTphPmI/MTowfWg9VWEucHJvdG90eXBlO2gucWE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IFVhKHRoaXMuVmEsdGhpcy5jYS5xYShhLGIsdGhpcy5WYSkuSihudWxsLG51bGwsITEsbnVsbCxudWxsKSl9O2gucmVtb3ZlPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgVWEodGhpcy5WYSx0aGlzLmNhLnJlbW92ZShhLHRoaXMuVmEpLkoobnVsbCxudWxsLCExLG51bGwsbnVsbCkpfTtoLmdldD1mdW5jdGlvbihhKXtmb3IodmFyIGIsYz10aGlzLmNhOyFjLmYoKTspe2I9dGhpcy5WYShhLGMua2V5KTtpZigwPT09YilyZXR1cm4gYy52YWx1ZTswPmI/Yz1jLmxlZnQ6MDxiJiYoYz1jLnJpZ2h0KX1yZXR1cm4gbnVsbH07XG5mdW5jdGlvbiBYYShhLGIpe2Zvcih2YXIgYyxkPWEuY2EsZT1udWxsOyFkLmYoKTspe2M9YS5WYShiLGQua2V5KTtpZigwPT09Yyl7aWYoZC5sZWZ0LmYoKSlyZXR1cm4gZT9lLmtleTpudWxsO2ZvcihkPWQubGVmdDshZC5yaWdodC5mKCk7KWQ9ZC5yaWdodDtyZXR1cm4gZC5rZXl9MD5jP2Q9ZC5sZWZ0OjA8YyYmKGU9ZCxkPWQucmlnaHQpfXRocm93IEVycm9yKFwiQXR0ZW1wdGVkIHRvIGZpbmQgcHJlZGVjZXNzb3Iga2V5IGZvciBhIG5vbmV4aXN0ZW50IGtleS4gIFdoYXQgZ2l2ZXM/XCIpO31oLmY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYS5mKCl9O2guY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYS5jb3VudCgpfTtoLndiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2Eud2IoKX07aC5hYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhLmFiKCl9O2guQ2E9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2EuQ2EoYSl9O2guU2E9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2EuU2EoYSl9O1xuaC4kYT1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IFlhKHRoaXMuY2EsYSl9O2Z1bmN0aW9uIFlhKGEsYil7dGhpcy5yZD1iO2Zvcih0aGlzLiRiPVtdOyFhLmYoKTspdGhpcy4kYi5wdXNoKGEpLGE9YS5sZWZ0fWZ1bmN0aW9uIFphKGEpe2lmKDA9PT1hLiRiLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgYj1hLiRiLnBvcCgpLGM7Yz1hLnJkP2EucmQoYi5rZXksYi52YWx1ZSk6e2tleTpiLmtleSx2YWx1ZTpiLnZhbHVlfTtmb3IoYj1iLnJpZ2h0OyFiLmYoKTspYS4kYi5wdXNoKGIpLGI9Yi5sZWZ0O3JldHVybiBjfWZ1bmN0aW9uICRhKGEsYixjLGQsZSl7dGhpcy5rZXk9YTt0aGlzLnZhbHVlPWI7dGhpcy5jb2xvcj1udWxsIT1jP2M6ITA7dGhpcy5sZWZ0PW51bGwhPWQ/ZDpXYTt0aGlzLnJpZ2h0PW51bGwhPWU/ZTpXYX1oPSRhLnByb3RvdHlwZTtcbmguSj1mdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiBuZXcgJGEobnVsbCE9YT9hOnRoaXMua2V5LG51bGwhPWI/Yjp0aGlzLnZhbHVlLG51bGwhPWM/Yzp0aGlzLmNvbG9yLG51bGwhPWQ/ZDp0aGlzLmxlZnQsbnVsbCE9ZT9lOnRoaXMucmlnaHQpfTtoLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVmdC5jb3VudCgpKzErdGhpcy5yaWdodC5jb3VudCgpfTtoLmY9ZnVuY3Rpb24oKXtyZXR1cm4hMX07aC5DYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5sZWZ0LkNhKGEpfHxhKHRoaXMua2V5LHRoaXMudmFsdWUpfHx0aGlzLnJpZ2h0LkNhKGEpfTtoLlNhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJpZ2h0LlNhKGEpfHxhKHRoaXMua2V5LHRoaXMudmFsdWUpfHx0aGlzLmxlZnQuU2EoYSl9O2Z1bmN0aW9uIGNiKGEpe3JldHVybiBhLmxlZnQuZigpP2E6Y2IoYS5sZWZ0KX1oLndiPWZ1bmN0aW9uKCl7cmV0dXJuIGNiKHRoaXMpLmtleX07XG5oLmFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmlnaHQuZigpP3RoaXMua2V5OnRoaXMucmlnaHQuYWIoKX07aC5xYT1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtlPXRoaXM7ZD1jKGEsZS5rZXkpO2U9MD5kP2UuSihudWxsLG51bGwsbnVsbCxlLmxlZnQucWEoYSxiLGMpLG51bGwpOjA9PT1kP2UuSihudWxsLGIsbnVsbCxudWxsLG51bGwpOmUuSihudWxsLG51bGwsbnVsbCxudWxsLGUucmlnaHQucWEoYSxiLGMpKTtyZXR1cm4gZGIoZSl9O2Z1bmN0aW9uIGViKGEpe2lmKGEubGVmdC5mKCkpcmV0dXJuIFdhO2EubGVmdC5QKCl8fGEubGVmdC5sZWZ0LlAoKXx8KGE9ZmIoYSkpO2E9YS5KKG51bGwsbnVsbCxudWxsLGViKGEubGVmdCksbnVsbCk7cmV0dXJuIGRiKGEpfVxuaC5yZW1vdmU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkO2M9dGhpcztpZigwPmIoYSxjLmtleSkpYy5sZWZ0LmYoKXx8Yy5sZWZ0LlAoKXx8Yy5sZWZ0LmxlZnQuUCgpfHwoYz1mYihjKSksYz1jLkoobnVsbCxudWxsLG51bGwsYy5sZWZ0LnJlbW92ZShhLGIpLG51bGwpO2Vsc2V7Yy5sZWZ0LlAoKSYmKGM9Z2IoYykpO2MucmlnaHQuZigpfHxjLnJpZ2h0LlAoKXx8Yy5yaWdodC5sZWZ0LlAoKXx8KGM9aGIoYyksYy5sZWZ0LmxlZnQuUCgpJiYoYz1nYihjKSxjPWhiKGMpKSk7aWYoMD09PWIoYSxjLmtleSkpe2lmKGMucmlnaHQuZigpKXJldHVybiBXYTtkPWNiKGMucmlnaHQpO2M9Yy5KKGQua2V5LGQudmFsdWUsbnVsbCxudWxsLGViKGMucmlnaHQpKX1jPWMuSihudWxsLG51bGwsbnVsbCxudWxsLGMucmlnaHQucmVtb3ZlKGEsYikpfXJldHVybiBkYihjKX07aC5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sb3J9O1xuZnVuY3Rpb24gZGIoYSl7YS5yaWdodC5QKCkmJiFhLmxlZnQuUCgpJiYoYT1pYihhKSk7YS5sZWZ0LlAoKSYmYS5sZWZ0LmxlZnQuUCgpJiYoYT1nYihhKSk7YS5sZWZ0LlAoKSYmYS5yaWdodC5QKCkmJihhPWhiKGEpKTtyZXR1cm4gYX1mdW5jdGlvbiBmYihhKXthPWhiKGEpO2EucmlnaHQubGVmdC5QKCkmJihhPWEuSihudWxsLG51bGwsbnVsbCxudWxsLGdiKGEucmlnaHQpKSxhPWliKGEpLGE9aGIoYSkpO3JldHVybiBhfWZ1bmN0aW9uIGliKGEpe3JldHVybiBhLnJpZ2h0LkoobnVsbCxudWxsLGEuY29sb3IsYS5KKG51bGwsbnVsbCwhMCxudWxsLGEucmlnaHQubGVmdCksbnVsbCl9ZnVuY3Rpb24gZ2IoYSl7cmV0dXJuIGEubGVmdC5KKG51bGwsbnVsbCxhLmNvbG9yLG51bGwsYS5KKG51bGwsbnVsbCwhMCxhLmxlZnQucmlnaHQsbnVsbCkpfVxuZnVuY3Rpb24gaGIoYSl7cmV0dXJuIGEuSihudWxsLG51bGwsIWEuY29sb3IsYS5sZWZ0LkoobnVsbCxudWxsLCFhLmxlZnQuY29sb3IsbnVsbCxudWxsKSxhLnJpZ2h0LkoobnVsbCxudWxsLCFhLnJpZ2h0LmNvbG9yLG51bGwsbnVsbCkpfWZ1bmN0aW9uIGpiKCl7fWg9amIucHJvdG90eXBlO2guSj1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtoLnFhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyAkYShhLGIsbnVsbCl9O2gucmVtb3ZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2guY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gMH07aC5mPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2guQ2E9ZnVuY3Rpb24oKXtyZXR1cm4hMX07aC5TYT1mdW5jdGlvbigpe3JldHVybiExfTtoLndiPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O2guYWI9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07aC5QPWZ1bmN0aW9uKCl7cmV0dXJuITF9O3ZhciBXYT1uZXcgamI7ZnVuY3Rpb24ga2IoYSl7dGhpcy5VYj1hO3RoaXMuaGM9XCJmaXJlYmFzZTpcIn1rYi5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7bnVsbD09Yj90aGlzLlViLnJlbW92ZUl0ZW0odGhpcy5oYythKTp0aGlzLlViLnNldEl0ZW0odGhpcy5oYythLHUoYikpfTtrYi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2E9dGhpcy5VYi5nZXRJdGVtKHRoaXMuaGMrYSk7cmV0dXJuIG51bGw9PWE/bnVsbDpyYShhKX07a2IucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihhKXt0aGlzLlViLnJlbW92ZUl0ZW0odGhpcy5oYythKX07a2IucHJvdG90eXBlLmtkPSExO2Z1bmN0aW9uIGxiKCl7dGhpcy5tYj17fX1sYi5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7bnVsbD09Yj9kZWxldGUgdGhpcy5tYlthXTp0aGlzLm1iW2FdPWJ9O2xiLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIEEodGhpcy5tYixhKT90aGlzLm1iW2FdOm51bGx9O2xiLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSl7ZGVsZXRlIHRoaXMubWJbYV19O2xiLnByb3RvdHlwZS5rZD0hMDtmdW5jdGlvbiBtYihhKXt0cnl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93W2FdKXt2YXIgYj13aW5kb3dbYV07Yi5zZXRJdGVtKFwiZmlyZWJhc2U6c2VudGluZWxcIixcImNhY2hlXCIpO2IucmVtb3ZlSXRlbShcImZpcmViYXNlOnNlbnRpbmVsXCIpO3JldHVybiBuZXcga2IoYil9fWNhdGNoKGMpe31yZXR1cm4gbmV3IGxifXZhciBuYj1tYihcImxvY2FsU3RvcmFnZVwiKSxvYj1tYihcInNlc3Npb25TdG9yYWdlXCIpO2Z1bmN0aW9uIHBiKGEsYixjLGQpe3RoaXMuaG9zdD1hLnRvTG93ZXJDYXNlKCk7dGhpcy5kb21haW49dGhpcy5ob3N0LnN1YnN0cih0aGlzLmhvc3QuaW5kZXhPZihcIi5cIikrMSk7dGhpcy5uYz1iO3RoaXMuWmI9Yzt0aGlzLmNlPWQ7dGhpcy5nYT1uYi5nZXQoXCJob3N0OlwiK2EpfHx0aGlzLmhvc3R9ZnVuY3Rpb24gcWIoYSxiKXtiIT09YS5nYSYmKGEuZ2E9YixcInMtXCI9PT1hLmdhLnN1YnN0cigwLDIpJiZuYi5zZXQoXCJob3N0OlwiK2EuaG9zdCxhLmdhKSl9cGIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMubmM/XCJodHRwczovL1wiOlwiaHR0cDovL1wiKSt0aGlzLmhvc3R9O3ZhciByYj1BcnJheS5wcm90b3R5cGUsc2I9cmIuZm9yRWFjaD9mdW5jdGlvbihhLGIsYyl7cmIuZm9yRWFjaC5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPXAoYSk/YS5zcGxpdChcIlwiKTphLGY9MDtmPGQ7ZisrKWYgaW4gZSYmYi5jYWxsKGMsZVtmXSxmLGEpfSx0Yj1yYi5tYXA/ZnVuY3Rpb24oYSxiLGMpe3JldHVybiByYi5tYXAuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1BcnJheShkKSxmPXAoYSk/YS5zcGxpdChcIlwiKTphLGc9MDtnPGQ7ZysrKWcgaW4gZiYmKGVbZ109Yi5jYWxsKGMsZltnXSxnLGEpKTtyZXR1cm4gZX0sdWI9cmIucmVkdWNlP2Z1bmN0aW9uKGEsYixjLGQpe2QmJihiPXEoYixkKSk7cmV0dXJuIHJiLnJlZHVjZS5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YztzYihhLGZ1bmN0aW9uKGMsZyl7ZT1iLmNhbGwoZCxlLGMsZyxhKX0pO3JldHVybiBlfSxcbnZiPXJiLmV2ZXJ5P2Z1bmN0aW9uKGEsYixjKXtyZXR1cm4gcmIuZXZlcnkuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1wKGEpP2Euc3BsaXQoXCJcIik6YSxmPTA7ZjxkO2YrKylpZihmIGluIGUmJiFiLmNhbGwoYyxlW2ZdLGYsYSkpcmV0dXJuITE7cmV0dXJuITB9O2Z1bmN0aW9uIHdiKGEsYil7dmFyIGM7YTp7Yz1hLmxlbmd0aDtmb3IodmFyIGQ9cChhKT9hLnNwbGl0KFwiXCIpOmEsZT0wO2U8YztlKyspaWYoZSBpbiBkJiZiLmNhbGwodm9pZCAwLGRbZV0sZSxhKSl7Yz1lO2JyZWFrIGF9Yz0tMX1yZXR1cm4gMD5jP251bGw6cChhKT9hLmNoYXJBdChjKTphW2NdfTt2YXIgeGI7YTp7dmFyIHliPWFhLm5hdmlnYXRvcjtpZih5Yil7dmFyIHpiPXliLnVzZXJBZ2VudDtpZih6Yil7eGI9emI7YnJlYWsgYX19eGI9XCJcIn1mdW5jdGlvbiBBYihhKXtyZXR1cm4tMSE9eGIuaW5kZXhPZihhKX07dmFyIEJiPUFiKFwiT3BlcmFcIil8fEFiKFwiT1BSXCIpLENiPUFiKFwiVHJpZGVudFwiKXx8QWIoXCJNU0lFXCIpLERiPUFiKFwiR2Vja29cIikmJi0xPT14Yi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJ3ZWJraXRcIikmJiEoQWIoXCJUcmlkZW50XCIpfHxBYihcIk1TSUVcIikpLEViPS0xIT14Yi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJ3ZWJraXRcIik7KGZ1bmN0aW9uKCl7dmFyIGE9XCJcIixiO2lmKEJiJiZhYS5vcGVyYSlyZXR1cm4gYT1hYS5vcGVyYS52ZXJzaW9uLFwiZnVuY3Rpb25cIj09ZGEoYSk/YSgpOmE7RGI/Yj0vcnZcXDooW15cXCk7XSspKFxcKXw7KS86Q2I/Yj0vXFxiKD86TVNJRXxydilbOiBdKFteXFwpO10rKShcXCl8OykvOkViJiYoYj0vV2ViS2l0XFwvKFxcUyspLyk7YiYmKGE9KGE9Yi5leGVjKHhiKSk/YVsxXTpcIlwiKTtyZXR1cm4gQ2ImJihiPShiPWFhLmRvY3VtZW50KT9iLmRvY3VtZW50TW9kZTp2b2lkIDAsYj5wYXJzZUZsb2F0KGEpKT9TdHJpbmcoYik6YX0pKCk7dmFyIEZiPW51bGwsR2I9bnVsbDt2YXIgSGI9ZnVuY3Rpb24oKXt2YXIgYT0xO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhKyt9fSgpO2Z1bmN0aW9uIHYoYSxiKXtpZighYSl0aHJvdyBFcnJvcihcIkZpcmViYXNlIElOVEVSTkFMIEFTU0VSVCBGQUlMRUQ6XCIrYik7fWZ1bmN0aW9uIEliKGEpe2Zvcih2YXIgYj1cIlwiLGM9MDtjPGFyZ3VtZW50cy5sZW5ndGg7YysrKWI9ZmEoYXJndW1lbnRzW2NdKT9iK0liLmFwcGx5KG51bGwsYXJndW1lbnRzW2NdKTpcIm9iamVjdFwiPT09dHlwZW9mIGFyZ3VtZW50c1tjXT9iK3UoYXJndW1lbnRzW2NdKTpiK2FyZ3VtZW50c1tjXSxiKz1cIiBcIjtyZXR1cm4gYn12YXIgSmI9bnVsbCxLYj0hMDtmdW5jdGlvbiBLKGEpeyEwPT09S2ImJihLYj0hMSxudWxsPT09SmImJiEwPT09b2IuZ2V0KFwibG9nZ2luZ19lbmFibGVkXCIpJiZMYighMCkpO2lmKEpiKXt2YXIgYj1JYi5hcHBseShudWxsLGFyZ3VtZW50cyk7SmIoYil9fVxuZnVuY3Rpb24gTWIoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7SyhhLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIE5iKGEpe2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgY29uc29sZSl7dmFyIGI9XCJGSVJFQkFTRSBJTlRFUk5BTCBFUlJPUjogXCIrSWIuYXBwbHkobnVsbCxhcmd1bWVudHMpO1widW5kZWZpbmVkXCIhPT10eXBlb2YgY29uc29sZS5lcnJvcj9jb25zb2xlLmVycm9yKGIpOmNvbnNvbGUubG9nKGIpfX1mdW5jdGlvbiBPYihhKXt2YXIgYj1JYi5hcHBseShudWxsLGFyZ3VtZW50cyk7dGhyb3cgRXJyb3IoXCJGSVJFQkFTRSBGQVRBTCBFUlJPUjogXCIrYik7fWZ1bmN0aW9uIEwoYSl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlKXt2YXIgYj1cIkZJUkVCQVNFIFdBUk5JTkc6IFwiK0liLmFwcGx5KG51bGwsYXJndW1lbnRzKTtcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUud2Fybj9jb25zb2xlLndhcm4oYik6Y29uc29sZS5sb2coYil9fVxuZnVuY3Rpb24gRGEoYSl7cmV0dXJuIGdhKGEpJiYoYSE9YXx8YT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfHxhPT1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpfWZ1bmN0aW9uIFBiKGEpe2lmKFwiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUpYSgpO2Vsc2V7dmFyIGI9ITEsYz1mdW5jdGlvbigpe2RvY3VtZW50LmJvZHk/Ynx8KGI9ITAsYSgpKTpzZXRUaW1lb3V0KGMsTWF0aC5mbG9vcigxMCkpfTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyPyhkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLGMsITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLGMsITEpKTpkb2N1bWVudC5hdHRhY2hFdmVudCYmKGRvY3VtZW50LmF0dGFjaEV2ZW50KFwib25yZWFkeXN0YXRlY2hhbmdlXCIsZnVuY3Rpb24oKXtcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiZjKCl9KSx3aW5kb3cuYXR0YWNoRXZlbnQoXCJvbmxvYWRcIixjKSl9fVxuZnVuY3Rpb24gUWIoYSxiKXtyZXR1cm4gYSE9PWI/bnVsbD09PWE/LTE6bnVsbD09PWI/MTp0eXBlb2YgYSE9PXR5cGVvZiBiP1wibnVtYmVyXCI9PT10eXBlb2YgYT8tMToxOmE+Yj8xOi0xOjB9ZnVuY3Rpb24gUmIoYSxiKXtpZihhPT09YilyZXR1cm4gMDt2YXIgYz1TYihhKSxkPVNiKGIpO3JldHVybiBudWxsIT09Yz9udWxsIT09ZD8wPT1jLWQ/YS5sZW5ndGgtYi5sZW5ndGg6Yy1kOi0xOm51bGwhPT1kPzE6YTxiPy0xOjF9ZnVuY3Rpb24gVGIoYSxiKXtpZihiJiZhIGluIGIpcmV0dXJuIGJbYV07dGhyb3cgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIGtleSAoXCIrYStcIikgaW4gb2JqZWN0OiBcIit1KGIpKTt9XG5mdW5jdGlvbiBMYShhKXtpZihcIm9iamVjdFwiIT09dHlwZW9mIGF8fG51bGw9PT1hKXJldHVybiB1KGEpO3ZhciBiPVtdLGM7Zm9yKGMgaW4gYSliLnB1c2goYyk7Yi5zb3J0KCk7Yz1cIntcIjtmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKykwIT09ZCYmKGMrPVwiLFwiKSxjKz11KGJbZF0pLGMrPVwiOlwiLGMrPUxhKGFbYltkXV0pO3JldHVybiBjK1wifVwifWZ1bmN0aW9uIFViKGEsYil7aWYoYS5sZW5ndGg8PWIpcmV0dXJuW2FdO2Zvcih2YXIgYz1bXSxkPTA7ZDxhLmxlbmd0aDtkKz1iKWQrYj5hP2MucHVzaChhLnN1YnN0cmluZyhkLGEubGVuZ3RoKSk6Yy5wdXNoKGEuc3Vic3RyaW5nKGQsZCtiKSk7cmV0dXJuIGN9ZnVuY3Rpb24gVmIoYSxiKXtpZihlYShhKSlmb3IodmFyIGM9MDtjPGEubGVuZ3RoOysrYyliKGMsYVtjXSk7ZWxzZSBXYihhLGIpfWZ1bmN0aW9uIFhiKGEsYil7cmV0dXJuIGI/cShhLGIpOmF9XG5mdW5jdGlvbiBZYihhKXt2KCFEYShhKSxcIkludmFsaWQgSlNPTiBudW1iZXJcIik7dmFyIGIsYyxkLGU7MD09PWE/KGQ9Yz0wLGI9LUluZmluaXR5PT09MS9hPzE6MCk6KGI9MD5hLGE9TWF0aC5hYnMoYSksYT49TWF0aC5wb3coMiwtMTAyMik/KGQ9TWF0aC5taW4oTWF0aC5mbG9vcihNYXRoLmxvZyhhKS9NYXRoLkxOMiksMTAyMyksYz1kKzEwMjMsZD1NYXRoLnJvdW5kKGEqTWF0aC5wb3coMiw1Mi1kKS1NYXRoLnBvdygyLDUyKSkpOihjPTAsZD1NYXRoLnJvdW5kKGEvTWF0aC5wb3coMiwtMTA3NCkpKSk7ZT1bXTtmb3IoYT01MjthO2EtPTEpZS5wdXNoKGQlMj8xOjApLGQ9TWF0aC5mbG9vcihkLzIpO2ZvcihhPTExO2E7YS09MSllLnB1c2goYyUyPzE6MCksYz1NYXRoLmZsb29yKGMvMik7ZS5wdXNoKGI/MTowKTtlLnJldmVyc2UoKTtiPWUuam9pbihcIlwiKTtjPVwiXCI7Zm9yKGE9MDs2ND5hO2ErPTgpZD1wYXJzZUludChiLnN1YnN0cihhLDgpLDIpLnRvU3RyaW5nKDE2KSwxPT09ZC5sZW5ndGgmJlxuKGQ9XCIwXCIrZCksYys9ZDtyZXR1cm4gYy50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIFpiKGEpe3ZhciBiPVwiVW5rbm93biBFcnJvclwiO1widG9vX2JpZ1wiPT09YT9iPVwiVGhlIGRhdGEgcmVxdWVzdGVkIGV4Y2VlZHMgdGhlIG1heGltdW0gc2l6ZSB0aGF0IGNhbiBiZSBhY2Nlc3NlZCB3aXRoIGEgc2luZ2xlIHJlcXVlc3QuXCI6XCJwZXJtaXNzaW9uX2RlbmllZFwiPT1hP2I9XCJDbGllbnQgZG9lc24ndCBoYXZlIHBlcm1pc3Npb24gdG8gYWNjZXNzIHRoZSBkZXNpcmVkIGRhdGEuXCI6XCJ1bmF2YWlsYWJsZVwiPT1hJiYoYj1cIlRoZSBzZXJ2aWNlIGlzIHVuYXZhaWxhYmxlXCIpO2I9RXJyb3IoYStcIjogXCIrYik7Yi5jb2RlPWEudG9VcHBlckNhc2UoKTtyZXR1cm4gYn12YXIgJGI9L14tP1xcZHsxLDEwfSQvO2Z1bmN0aW9uIFNiKGEpe3JldHVybiAkYi50ZXN0KGEpJiYoYT1OdW1iZXIoYSksLTIxNDc0ODM2NDg8PWEmJjIxNDc0ODM2NDc+PWEpP2E6bnVsbH1cbmZ1bmN0aW9uIGFjKGEpe3RyeXthKCl9Y2F0Y2goYil7c2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IGI7fSxNYXRoLmZsb29yKDApKX19O2Z1bmN0aW9uIGJjKGEsYil7dGhpcy5GPWE7dihudWxsIT09dGhpcy5GLFwiTGVhZk5vZGUgc2hvdWxkbid0IGJlIGNyZWF0ZWQgd2l0aCBudWxsIHZhbHVlLlwiKTt0aGlzLmZiPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgYj9iOm51bGx9aD1iYy5wcm90b3R5cGU7aC5PPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2guaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZifTtoLkhhPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgYmModGhpcy5GLGEpfTtoLk49ZnVuY3Rpb24oKXtyZXR1cm4gTX07aC5LPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT09QyhhKT90aGlzOk19O2guZmE9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07aC5IPWZ1bmN0aW9uKGEsYil7cmV0dXJuKG5ldyBOKS5IKGEsYikuSGEodGhpcy5mYil9O2gueWE9ZnVuY3Rpb24oYSxiKXt2YXIgYz1DKGEpO3JldHVybiBudWxsPT09Yz9iOnRoaXMuSChjLE0ueWEoTWEoYSksYikpfTtoLmY9ZnVuY3Rpb24oKXtyZXR1cm4hMX07aC5hYz1mdW5jdGlvbigpe3JldHVybiAwfTtcbmguVj1mdW5jdGlvbihhKXtyZXR1cm4gYSYmbnVsbCE9PXRoaXMuaygpP3tcIi52YWx1ZVwiOnRoaXMuaigpLFwiLnByaW9yaXR5XCI6dGhpcy5rKCl9OnRoaXMuaigpfTtoLmhhc2g9ZnVuY3Rpb24oKXt2YXIgYT1cIlwiO251bGwhPT10aGlzLmsoKSYmKGErPVwicHJpb3JpdHk6XCIrY2ModGhpcy5rKCkpK1wiOlwiKTt2YXIgYj10eXBlb2YgdGhpcy5GLGE9YSsoYitcIjpcIiksYT1cIm51bWJlclwiPT09Yj9hK1liKHRoaXMuRik6YSt0aGlzLkY7cmV0dXJuIHNqY2xIYXNoVG9CYXNlNjQoYSl9O2guaj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkZ9O2gudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cInN0cmluZ1wiPT09dHlwZW9mIHRoaXMuRj90aGlzLkY6J1wiJyt0aGlzLkYrJ1wiJ307ZnVuY3Rpb24gZGMoYSxiKXtyZXR1cm4gUWIoYS5qYSxiLmphKXx8UmIoYS5uYW1lLGIubmFtZSl9ZnVuY3Rpb24gZWMoYSxiKXtyZXR1cm4gUmIoYS5uYW1lLGIubmFtZSl9ZnVuY3Rpb24gZmMoYSxiKXtyZXR1cm4gUmIoYSxiKX07ZnVuY3Rpb24gTihhLGIpe3RoaXMubj1hfHxuZXcgVWEoZmMpO3RoaXMuZmI9XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBiP2I6bnVsbH1oPU4ucHJvdG90eXBlO2guTz1mdW5jdGlvbigpe3JldHVybiExfTtoLms9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mYn07aC5IYT1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IE4odGhpcy5uLGEpfTtoLkg9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLm4ucmVtb3ZlKGEpO2ImJmIuZigpJiYoYj1udWxsKTtudWxsIT09YiYmKGM9Yy5xYShhLGIpKTtyZXR1cm4gYiYmbnVsbCE9PWIuaygpP25ldyBnYyhjLG51bGwsdGhpcy5mYik6bmV3IE4oYyx0aGlzLmZiKX07aC55YT1mdW5jdGlvbihhLGIpe3ZhciBjPUMoYSk7aWYobnVsbD09PWMpcmV0dXJuIGI7dmFyIGQ9dGhpcy5OKGMpLnlhKE1hKGEpLGIpO3JldHVybiB0aGlzLkgoYyxkKX07aC5mPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubi5mKCl9O2guYWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uLmNvdW50KCl9O1xudmFyIGljPS9eKDB8WzEtOV1cXGQqKSQvO2g9Ti5wcm90b3R5cGU7aC5WPWZ1bmN0aW9uKGEpe2lmKHRoaXMuZigpKXJldHVybiBudWxsO3ZhciBiPXt9LGM9MCxkPTAsZT0hMDt0aGlzLkEoZnVuY3Rpb24oZixnKXtiW2ZdPWcuVihhKTtjKys7ZSYmaWMudGVzdChmKT9kPU1hdGgubWF4KGQsTnVtYmVyKGYpKTplPSExfSk7aWYoIWEmJmUmJmQ8MipjKXt2YXIgZj1bXSxnO2ZvcihnIGluIGIpZltnXT1iW2ddO3JldHVybiBmfWEmJm51bGwhPT10aGlzLmsoKSYmKGJbXCIucHJpb3JpdHlcIl09dGhpcy5rKCkpO3JldHVybiBifTtoLmhhc2g9ZnVuY3Rpb24oKXt2YXIgYT1cIlwiO251bGwhPT10aGlzLmsoKSYmKGErPVwicHJpb3JpdHk6XCIrY2ModGhpcy5rKCkpK1wiOlwiKTt0aGlzLkEoZnVuY3Rpb24oYixjKXt2YXIgZD1jLmhhc2goKTtcIlwiIT09ZCYmKGErPVwiOlwiK2IrXCI6XCIrZCl9KTtyZXR1cm5cIlwiPT09YT9cIlwiOnNqY2xIYXNoVG9CYXNlNjQoYSl9O1xuaC5OPWZ1bmN0aW9uKGEpe2E9dGhpcy5uLmdldChhKTtyZXR1cm4gbnVsbD09PWE/TTphfTtoLks9ZnVuY3Rpb24oYSl7dmFyIGI9QyhhKTtyZXR1cm4gbnVsbD09PWI/dGhpczp0aGlzLk4oYikuSyhNYShhKSl9O2guZmE9ZnVuY3Rpb24oYSl7cmV0dXJuIFhhKHRoaXMubixhKX07aC5lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm4ud2IoKX07aC5nZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm4uYWIoKX07aC5BPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm4uQ2EoYSl9O2guQmM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubi5TYShhKX07aC4kYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm4uJGEoKX07aC50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBhPVwie1wiLGI9ITA7dGhpcy5BKGZ1bmN0aW9uKGMsZCl7Yj9iPSExOmErPVwiLCBcIjthKz0nXCInK2MrJ1wiIDogJytkLnRvU3RyaW5nKCl9KTtyZXR1cm4gYSs9XCJ9XCJ9O3ZhciBNPW5ldyBOO2Z1bmN0aW9uIGdjKGEsYixjKXtOLmNhbGwodGhpcyxhLGMpO251bGw9PT1iJiYoYj1uZXcgVWEoZGMpLGEuQ2EoZnVuY3Rpb24oYSxjKXtiPWIucWEoe25hbWU6YSxqYTpjLmsoKX0sYyl9KSk7dGhpcy52YT1ifWthKGdjLE4pO2g9Z2MucHJvdG90eXBlO2guSD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuTihhKSxkPXRoaXMubixlPXRoaXMudmE7bnVsbCE9PWMmJihkPWQucmVtb3ZlKGEpLGU9ZS5yZW1vdmUoe25hbWU6YSxqYTpjLmsoKX0pKTtiJiZiLmYoKSYmKGI9bnVsbCk7bnVsbCE9PWImJihkPWQucWEoYSxiKSxlPWUucWEoe25hbWU6YSxqYTpiLmsoKX0sYikpO3JldHVybiBuZXcgZ2MoZCxlLHRoaXMuaygpKX07aC5mYT1mdW5jdGlvbihhLGIpe3ZhciBjPVhhKHRoaXMudmEse25hbWU6YSxqYTpiLmsoKX0pO3JldHVybiBjP2MubmFtZTpudWxsfTtoLkE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudmEuQ2EoZnVuY3Rpb24oYixjKXtyZXR1cm4gYShiLm5hbWUsYyl9KX07XG5oLkJjPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnZhLlNhKGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEoYi5uYW1lLGMpfSl9O2guJGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YS4kYShmdW5jdGlvbihhLGIpe3JldHVybntrZXk6YS5uYW1lLHZhbHVlOmJ9fSl9O2guZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YS5mKCk/bnVsbDp0aGlzLnZhLndiKCkubmFtZX07aC5nZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhLmYoKT9udWxsOnRoaXMudmEuYWIoKS5uYW1lfTtmdW5jdGlvbiBPKGEsYil7aWYobnVsbD09PWEpcmV0dXJuIE07dmFyIGM9bnVsbDtcIm9iamVjdFwiPT09dHlwZW9mIGEmJlwiLnByaW9yaXR5XCJpbiBhP2M9YVtcIi5wcmlvcml0eVwiXTpcInVuZGVmaW5lZFwiIT09dHlwZW9mIGImJihjPWIpO3YobnVsbD09PWN8fFwic3RyaW5nXCI9PT10eXBlb2YgY3x8XCJudW1iZXJcIj09PXR5cGVvZiBjfHxcIm9iamVjdFwiPT09dHlwZW9mIGMmJlwiLnN2XCJpbiBjLFwiSW52YWxpZCBwcmlvcml0eSB0eXBlIGZvdW5kOiBcIit0eXBlb2YgYyk7XCJvYmplY3RcIj09PXR5cGVvZiBhJiZcIi52YWx1ZVwiaW4gYSYmbnVsbCE9PWFbXCIudmFsdWVcIl0mJihhPWFbXCIudmFsdWVcIl0pO2lmKFwib2JqZWN0XCIhPT10eXBlb2YgYXx8XCIuc3ZcImluIGEpcmV0dXJuIG5ldyBiYyhhLGMpO2lmKGEgaW5zdGFuY2VvZiBBcnJheSl7dmFyIGQ9TSxlPWE7V2IoZSxmdW5jdGlvbihhLGIpe2lmKEEoZSxiKSYmXCIuXCIhPT1iLnN1YnN0cmluZygwLDEpKXt2YXIgYz1PKGEpO2lmKGMuTygpfHwhYy5mKCkpZD1cbmQuSChiLGMpfX0pO3JldHVybiBkLkhhKGMpfXZhciBmPVtdLGc9e30saz0hMSxsPWE7VmIobCxmdW5jdGlvbihhLGIpe2lmKFwic3RyaW5nXCIhPT10eXBlb2YgYnx8XCIuXCIhPT1iLnN1YnN0cmluZygwLDEpKXt2YXIgYz1PKGxbYl0pO2MuZigpfHwoaz1rfHxudWxsIT09Yy5rKCksZi5wdXNoKHtuYW1lOmIsamE6Yy5rKCl9KSxnW2JdPWMpfX0pO3ZhciBuPWpjKGYsZywhMSk7aWYoayl7dmFyIHI9amMoZixnLCEwKTtyZXR1cm4gbmV3IGdjKG4scixjKX1yZXR1cm4gbmV3IE4obixjKX12YXIga2M9TWF0aC5sb2coMik7ZnVuY3Rpb24gbGMoYSl7dGhpcy5jb3VudD1wYXJzZUludChNYXRoLmxvZyhhKzEpL2tjLDEwKTt0aGlzLmFkPXRoaXMuY291bnQtMTt0aGlzLkRkPWErMSZwYXJzZUludChBcnJheSh0aGlzLmNvdW50KzEpLmpvaW4oXCIxXCIpLDIpfWZ1bmN0aW9uIG1jKGEpe3ZhciBiPSEoYS5EZCYxPDxhLmFkKTthLmFkLS07cmV0dXJuIGJ9XG5mdW5jdGlvbiBqYyhhLGIsYyl7ZnVuY3Rpb24gZChlLGYpe3ZhciBsPWYtZTtpZigwPT1sKXJldHVybiBudWxsO2lmKDE9PWwpe3ZhciBsPWFbZV0ubmFtZSxuPWM/YVtlXTpsO3JldHVybiBuZXcgJGEobixiW2xdLCExLG51bGwsbnVsbCl9dmFyIG49cGFyc2VJbnQobC8yLDEwKStlLHI9ZChlLG4pLHQ9ZChuKzEsZiksbD1hW25dLm5hbWUsbj1jP2Fbbl06bDtyZXR1cm4gbmV3ICRhKG4sYltsXSwhMSxyLHQpfXZhciBlPWM/ZGM6ZWM7YS5zb3J0KGUpO3ZhciBmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGYoZSxnKXt2YXIgaz1yLWUsdD1yO3ItPWU7dmFyIHM9YVtrXS5uYW1lLGs9bmV3ICRhKGM/YVtrXTpzLGJbc10sZyxudWxsLGQoaysxLHQpKTtsP2wubGVmdD1rOm49aztsPWt9Zm9yKHZhciBsPW51bGwsbj1udWxsLHI9YS5sZW5ndGgsdD0wO3Q8ZS5jb3VudDsrK3Qpe3ZhciBzPW1jKGUpLHc9TWF0aC5wb3coMixlLmNvdW50LSh0KzEpKTtzP2YodywhMSk6KGYodywhMSksZih3LCEwKSl9cmV0dXJuIG59KG5ldyBsYyhhLmxlbmd0aCkpLFxuZT1jP2RjOmZjO3JldHVybiBudWxsIT09Zj9uZXcgVWEoZSxmKTpuZXcgVWEoZSl9ZnVuY3Rpb24gY2MoYSl7cmV0dXJuXCJudW1iZXJcIj09PXR5cGVvZiBhP1wibnVtYmVyOlwiK1liKGEpOlwic3RyaW5nOlwiK2F9O2Z1bmN0aW9uIFAoYSxiKXt0aGlzLkM9YTt0aGlzLmtjPWJ9UC5wcm90b3R5cGUuVj1mdW5jdGlvbigpe3goXCJGaXJlYmFzZS5EYXRhU25hcHNob3QudmFsXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLkMuVigpfTtQLnByb3RvdHlwZS52YWw9UC5wcm90b3R5cGUuVjtQLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3goXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuZXhwb3J0VmFsXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLkMuVighMCl9O1AucHJvdG90eXBlLmV4cG9ydFZhbD1QLnByb3RvdHlwZS5IZDtQLnByb3RvdHlwZS5HPWZ1bmN0aW9uKGEpe3goXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuY2hpbGRcIiwwLDEsYXJndW1lbnRzLmxlbmd0aCk7Z2EoYSkmJihhPVN0cmluZyhhKSk7SWEoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuY2hpbGRcIixhKTt2YXIgYj1uZXcgRihhKSxjPXRoaXMua2MuRyhiKTtyZXR1cm4gbmV3IFAodGhpcy5DLksoYiksYyl9O1xuUC5wcm90b3R5cGUuY2hpbGQ9UC5wcm90b3R5cGUuRztQLnByb3RvdHlwZS5FYz1mdW5jdGlvbihhKXt4KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lmhhc0NoaWxkXCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpO0lhKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lmhhc0NoaWxkXCIsYSk7dmFyIGI9bmV3IEYoYSk7cmV0dXJuIXRoaXMuQy5LKGIpLmYoKX07UC5wcm90b3R5cGUuaGFzQ2hpbGQ9UC5wcm90b3R5cGUuRWM7UC5wcm90b3R5cGUuaz1mdW5jdGlvbigpe3goXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuZ2V0UHJpb3JpdHlcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuQy5rKCl9O1AucHJvdG90eXBlLmdldFByaW9yaXR5PVAucHJvdG90eXBlLms7XG5QLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGEpe3goXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuZm9yRWFjaFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTt6KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmZvckVhY2hcIiwxLGEsITEpO2lmKHRoaXMuQy5PKCkpcmV0dXJuITE7dmFyIGI9dGhpcztyZXR1cm4gdGhpcy5DLkEoZnVuY3Rpb24oYyxkKXtyZXR1cm4gYShuZXcgUChkLGIua2MuRyhjKSkpfSl9O1AucHJvdG90eXBlLmZvckVhY2g9UC5wcm90b3R5cGUuZm9yRWFjaDtQLnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3goXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuaGFzQ2hpbGRyZW5cIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuQy5PKCk/ITE6IXRoaXMuQy5mKCl9O1AucHJvdG90eXBlLmhhc0NoaWxkcmVuPVAucHJvdG90eXBlLnJiO1xuUC5wcm90b3R5cGUubmFtZT1mdW5jdGlvbigpe3goXCJGaXJlYmFzZS5EYXRhU25hcHNob3QubmFtZVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5rYy5uYW1lKCl9O1AucHJvdG90eXBlLm5hbWU9UC5wcm90b3R5cGUubmFtZTtQLnByb3RvdHlwZS5hYz1mdW5jdGlvbigpe3goXCJGaXJlYmFzZS5EYXRhU25hcHNob3QubnVtQ2hpbGRyZW5cIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuQy5hYygpfTtQLnByb3RvdHlwZS5udW1DaGlsZHJlbj1QLnByb3RvdHlwZS5hYztQLnByb3RvdHlwZS5RYz1mdW5jdGlvbigpe3goXCJGaXJlYmFzZS5EYXRhU25hcHNob3QucmVmXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLmtjfTtQLnByb3RvdHlwZS5yZWY9UC5wcm90b3R5cGUuUWM7ZnVuY3Rpb24gbmMoYSl7dihlYShhKSYmMDxhLmxlbmd0aCxcIlJlcXVpcmVzIGEgbm9uLWVtcHR5IGFycmF5XCIpO3RoaXMuQ2Q9YTt0aGlzLnZiPXt9fW5jLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLnZiW2FdfHxbXSxkPTA7ZDxjLmxlbmd0aDtkKyspY1tkXS5hYS5hcHBseShjW2RdLlksQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKX07bmMucHJvdG90eXBlLmViPWZ1bmN0aW9uKGEsYixjKXtvYyh0aGlzLGEpO3RoaXMudmJbYV09dGhpcy52YlthXXx8W107dGhpcy52YlthXS5wdXNoKHthYTpiLFk6Y30pOyhhPXRoaXMuZmQoYSkpJiZiLmFwcGx5KGMsYSl9O25jLnByb3RvdHlwZS54Yj1mdW5jdGlvbihhLGIsYyl7b2ModGhpcyxhKTthPXRoaXMudmJbYV18fFtdO2Zvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKWlmKGFbZF0uYWE9PT1iJiYoIWN8fGM9PT1hW2RdLlkpKXthLnNwbGljZShkLDEpO2JyZWFrfX07XG5mdW5jdGlvbiBvYyhhLGIpe3Yod2IoYS5DZCxmdW5jdGlvbihhKXtyZXR1cm4gYT09PWJ9KSxcIlVua25vd24gZXZlbnQ6IFwiK2IpfTtmdW5jdGlvbiBwYygpe25jLmNhbGwodGhpcyxbXCJ2aXNpYmxlXCJdKTt2YXIgYSxiO1widW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQmJlwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciYmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQuaGlkZGVuPyhiPVwidmlzaWJpbGl0eWNoYW5nZVwiLGE9XCJoaWRkZW5cIik6XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudC5tb3pIaWRkZW4/KGI9XCJtb3p2aXNpYmlsaXR5Y2hhbmdlXCIsYT1cIm1vekhpZGRlblwiKTpcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50Lm1zSGlkZGVuPyhiPVwibXN2aXNpYmlsaXR5Y2hhbmdlXCIsYT1cIm1zSGlkZGVuXCIpOlwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQud2Via2l0SGlkZGVuJiYoYj1cIndlYmtpdHZpc2liaWxpdHljaGFuZ2VcIixhPVwid2Via2l0SGlkZGVuXCIpKTt0aGlzLmtiPSEwO2lmKGIpe3ZhciBjPXRoaXM7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihiLFxuZnVuY3Rpb24oKXt2YXIgYj0hZG9jdW1lbnRbYV07YiE9PWMua2ImJihjLmtiPWIsYy5ZYyhcInZpc2libGVcIixiKSl9LCExKX19a2EocGMsbmMpO2NhKHBjKTtwYy5wcm90b3R5cGUuZmQ9ZnVuY3Rpb24oYSl7dihcInZpc2libGVcIj09PWEsXCJVbmtub3duIGV2ZW50IHR5cGU6IFwiK2EpO3JldHVyblt0aGlzLmtiXX07ZnVuY3Rpb24gcWMoKXtuYy5jYWxsKHRoaXMsW1wib25saW5lXCJdKTt0aGlzLkJiPSEwO2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKXt2YXIgYT10aGlzO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib25saW5lXCIsZnVuY3Rpb24oKXthLkJifHxhLlljKFwib25saW5lXCIsITApO2EuQmI9ITB9LCExKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIixmdW5jdGlvbigpe2EuQmImJmEuWWMoXCJvbmxpbmVcIiwhMSk7YS5CYj0hMX0sITEpfX1rYShxYyxuYyk7Y2EocWMpO3FjLnByb3RvdHlwZS5mZD1mdW5jdGlvbihhKXt2KFwib25saW5lXCI9PT1hLFwiVW5rbm93biBldmVudCB0eXBlOiBcIithKTtyZXR1cm5bdGhpcy5CYl19O2Z1bmN0aW9uIFdiKGEsYil7Zm9yKHZhciBjIGluIGEpYi5jYWxsKHZvaWQgMCxhW2NdLGMsYSl9ZnVuY3Rpb24gcmMoYSl7dmFyIGI9W10sYz0wLGQ7Zm9yKGQgaW4gYSliW2MrK109ZDtyZXR1cm4gYn1mdW5jdGlvbiBzYyhhKXt2YXIgYj17fSxjO2ZvcihjIGluIGEpYltjXT1hW2NdO3JldHVybiBifTtmdW5jdGlvbiB0Yygpe3RoaXMubmI9e319ZnVuY3Rpb24gdWMoYSxiLGMpe20oYyl8fChjPTEpO0EoYS5uYixiKXx8KGEubmJbYl09MCk7YS5uYltiXSs9Y310Yy5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHNjKHRoaXMubmIpfTtmdW5jdGlvbiB2YyhhKXt0aGlzLkVkPWE7dGhpcy5XYj1udWxsfXZjLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLkVkLmdldCgpLGI9c2MoYSk7aWYodGhpcy5XYilmb3IodmFyIGMgaW4gdGhpcy5XYiliW2NdLT10aGlzLldiW2NdO3RoaXMuV2I9YTtyZXR1cm4gYn07ZnVuY3Rpb24gd2MoYSxiKXt0aGlzLlZjPXt9O3RoaXMucWM9bmV3IHZjKGEpO3RoaXMudT1iO3ZhciBjPTFFNCsyRTQqTWF0aC5yYW5kb20oKTtzZXRUaW1lb3V0KHEodGhpcy5wZCx0aGlzKSxNYXRoLmZsb29yKGMpKX13Yy5wcm90b3R5cGUucGQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnFjLmdldCgpLGI9e30sYz0hMSxkO2ZvcihkIGluIGEpMDxhW2RdJiZBKHRoaXMuVmMsZCkmJihiW2RdPWFbZF0sYz0hMCk7YyYmKGE9dGhpcy51LGEuUiYmKGI9e2M6Yn0sYS5lKFwicmVwb3J0U3RhdHNcIixiKSxhLkZhKFwic1wiLGIpKSk7c2V0VGltZW91dChxKHRoaXMucGQsdGhpcyksTWF0aC5mbG9vcig2RTUqTWF0aC5yYW5kb20oKSkpfTt2YXIgeGM9e30seWM9e307ZnVuY3Rpb24gemMoYSl7YT1hLnRvU3RyaW5nKCk7eGNbYV18fCh4Y1thXT1uZXcgdGMpO3JldHVybiB4Y1thXX1mdW5jdGlvbiBBYyhhLGIpe3ZhciBjPWEudG9TdHJpbmcoKTt5Y1tjXXx8KHljW2NdPWIoKSk7cmV0dXJuIHljW2NdfTt2YXIgQmM9bnVsbDtcInVuZGVmaW5lZFwiIT09dHlwZW9mIE1veldlYlNvY2tldD9CYz1Nb3pXZWJTb2NrZXQ6XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBXZWJTb2NrZXQmJihCYz1XZWJTb2NrZXQpO2Z1bmN0aW9uIFEoYSxiLGMpe3RoaXMueWM9YTt0aGlzLmU9TWIodGhpcy55Yyk7dGhpcy5mcmFtZXM9dGhpcy50Yj1udWxsO3RoaXMuSWE9dGhpcy5KYT10aGlzLlhjPTA7dGhpcy5lYT16YyhiKTt0aGlzLnphPShiLm5jP1wid3NzOi8vXCI6XCJ3czovL1wiKStiLmdhK1wiLy53cz92PTVcIjtcInVuZGVmaW5lZFwiIT09dHlwZW9mIGxvY2F0aW9uJiZsb2NhdGlvbi5ocmVmJiYtMSE9PWxvY2F0aW9uLmhyZWYuaW5kZXhPZihcImZpcmViYXNlaW8uY29tXCIpJiYodGhpcy56YSs9XCImcj1mXCIpO2IuaG9zdCE9PWIuZ2EmJih0aGlzLnphPXRoaXMuemErXCImbnM9XCIrYi5aYik7YyYmKHRoaXMuemE9dGhpcy56YStcIiZzPVwiK2MpfXZhciBDYztcblEucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oYSxiKXt0aGlzLmlhPWI7dGhpcy5RZD1hO3RoaXMuZShcIldlYnNvY2tldCBjb25uZWN0aW5nIHRvIFwiK3RoaXMuemEpO3RoaXMuVz1uZXcgQmModGhpcy56YSk7dGhpcy5vYj0hMTtuYi5zZXQoXCJwcmV2aW91c193ZWJzb2NrZXRfZmFpbHVyZVwiLCEwKTt2YXIgYz10aGlzO3RoaXMuVy5vbm9wZW49ZnVuY3Rpb24oKXtjLmUoXCJXZWJzb2NrZXQgY29ubmVjdGVkLlwiKTtjLm9iPSEwfTt0aGlzLlcub25jbG9zZT1mdW5jdGlvbigpe2MuZShcIldlYnNvY2tldCBjb25uZWN0aW9uIHdhcyBkaXNjb25uZWN0ZWQuXCIpO2MuVz1udWxsO2MuUWEoKX07dGhpcy5XLm9ubWVzc2FnZT1mdW5jdGlvbihhKXtpZihudWxsIT09Yy5XKWlmKGE9YS5kYXRhLGMuSWErPWEubGVuZ3RoLHVjKGMuZWEsXCJieXRlc19yZWNlaXZlZFwiLGEubGVuZ3RoKSxEYyhjKSxudWxsIT09Yy5mcmFtZXMpRWMoYyxhKTtlbHNle2E6e3YobnVsbD09PWMuZnJhbWVzLFwiV2UgYWxyZWFkeSBoYXZlIGEgZnJhbWUgYnVmZmVyXCIpO1xuaWYoNj49YS5sZW5ndGgpe3ZhciBiPU51bWJlcihhKTtpZighaXNOYU4oYikpe2MuWGM9YjtjLmZyYW1lcz1bXTthPW51bGw7YnJlYWsgYX19Yy5YYz0xO2MuZnJhbWVzPVtdfW51bGwhPT1hJiZFYyhjLGEpfX07dGhpcy5XLm9uZXJyb3I9ZnVuY3Rpb24oYSl7Yy5lKFwiV2ViU29ja2V0IGVycm9yLiAgQ2xvc2luZyBjb25uZWN0aW9uLlwiKTsoYT1hLm1lc3NhZ2V8fGEuZGF0YSkmJmMuZShhKTtjLlFhKCl9fTtRLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe307US5pc0F2YWlsYWJsZT1mdW5jdGlvbigpe3ZhciBhPSExO2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3IudXNlckFnZW50KXt2YXIgYj1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9BbmRyb2lkIChbMC05XXswLH1cXC5bMC05XXswLH0pLyk7YiYmMTxiLmxlbmd0aCYmNC40PnBhcnNlRmxvYXQoYlsxXSkmJihhPSEwKX1yZXR1cm4hYSYmbnVsbCE9PUJjJiYhQ2N9O1xuUS5yZXNwb25zZXNSZXF1aXJlZFRvQmVIZWFsdGh5PTI7US5oZWFsdGh5VGltZW91dD0zRTQ7aD1RLnByb3RvdHlwZTtoLlhiPWZ1bmN0aW9uKCl7bmIucmVtb3ZlKFwicHJldmlvdXNfd2Vic29ja2V0X2ZhaWx1cmVcIil9O2Z1bmN0aW9uIEVjKGEsYil7YS5mcmFtZXMucHVzaChiKTtpZihhLmZyYW1lcy5sZW5ndGg9PWEuWGMpe3ZhciBjPWEuZnJhbWVzLmpvaW4oXCJcIik7YS5mcmFtZXM9bnVsbDtjPXJhKGMpO2EuUWQoYyl9fWguc2VuZD1mdW5jdGlvbihhKXtEYyh0aGlzKTthPXUoYSk7dGhpcy5KYSs9YS5sZW5ndGg7dWModGhpcy5lYSxcImJ5dGVzX3NlbnRcIixhLmxlbmd0aCk7YT1VYihhLDE2Mzg0KTsxPGEubGVuZ3RoJiZ0aGlzLlcuc2VuZChTdHJpbmcoYS5sZW5ndGgpKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl0aGlzLlcuc2VuZChhW2JdKX07XG5oLkxiPWZ1bmN0aW9uKCl7dGhpcy5OYT0hMDt0aGlzLnRiJiYoY2xlYXJJbnRlcnZhbCh0aGlzLnRiKSx0aGlzLnRiPW51bGwpO3RoaXMuVyYmKHRoaXMuVy5jbG9zZSgpLHRoaXMuVz1udWxsKX07aC5RYT1mdW5jdGlvbigpe3RoaXMuTmF8fCh0aGlzLmUoXCJXZWJTb2NrZXQgaXMgY2xvc2luZyBpdHNlbGZcIiksdGhpcy5MYigpLHRoaXMuaWEmJih0aGlzLmlhKHRoaXMub2IpLHRoaXMuaWE9bnVsbCkpfTtoLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5OYXx8KHRoaXMuZShcIldlYlNvY2tldCBpcyBiZWluZyBjbG9zZWRcIiksdGhpcy5MYigpKX07ZnVuY3Rpb24gRGMoYSl7Y2xlYXJJbnRlcnZhbChhLnRiKTthLnRiPXNldEludGVydmFsKGZ1bmN0aW9uKCl7YS5XJiZhLlcuc2VuZChcIjBcIik7RGMoYSl9LE1hdGguZmxvb3IoNDVFMykpfTtmdW5jdGlvbiBGYyhhKXt0aGlzLkxjPWE7dGhpcy5nYz1bXTt0aGlzLldhPTA7dGhpcy54Yz0tMTt0aGlzLlBhPW51bGx9ZnVuY3Rpb24gR2MoYSxiLGMpe2EueGM9YjthLlBhPWM7YS54YzxhLldhJiYoYS5QYSgpLGEuUGE9bnVsbCl9ZnVuY3Rpb24gSGMoYSxiLGMpe2ZvcihhLmdjW2JdPWM7YS5nY1thLldhXTspe3ZhciBkPWEuZ2NbYS5XYV07ZGVsZXRlIGEuZ2NbYS5XYV07Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDsrK2UpaWYoZFtlXSl7dmFyIGY9YTthYyhmdW5jdGlvbigpe2YuTGMoZFtlXSl9KX1pZihhLldhPT09YS54Yyl7YS5QYSYmKGNsZWFyVGltZW91dChhLlBhKSxhLlBhKCksYS5QYT1udWxsKTticmVha31hLldhKyt9fTtmdW5jdGlvbiBJYygpe3RoaXMuc2V0PXt9fWg9SWMucHJvdG90eXBlO2guYWRkPWZ1bmN0aW9uKGEsYil7dGhpcy5zZXRbYV09bnVsbCE9PWI/YjohMH07aC5jb250YWlucz1mdW5jdGlvbihhKXtyZXR1cm4gQSh0aGlzLnNldCxhKX07aC5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY29udGFpbnMoYSk/dGhpcy5zZXRbYV06dm9pZCAwfTtoLnJlbW92ZT1mdW5jdGlvbihhKXtkZWxldGUgdGhpcy5zZXRbYV19O2guZj1mdW5jdGlvbigpe3ZhciBhO2E6e2E9dGhpcy5zZXQ7Zm9yKHZhciBiIGluIGEpe2E9ITE7YnJlYWsgYX1hPSEwfXJldHVybiBhfTtoLmNvdW50PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZXQsYj0wLGM7Zm9yKGMgaW4gYSliKys7cmV0dXJuIGJ9O2Z1bmN0aW9uIFIoYSxiKXtXYihhLnNldCxmdW5jdGlvbihhLGQpe2IoZCxhKX0pfWgua2V5cz1mdW5jdGlvbigpe3ZhciBhPVtdO1diKHRoaXMuc2V0LGZ1bmN0aW9uKGIsYyl7YS5wdXNoKGMpfSk7cmV0dXJuIGF9O2Z1bmN0aW9uIEpjKGEsYixjKXt0aGlzLnljPWE7dGhpcy5lPU1iKGEpO3RoaXMuSWE9dGhpcy5KYT0wO3RoaXMuZWE9emMoYik7dGhpcy5wYz1jO3RoaXMub2I9ITE7dGhpcy5QYj1mdW5jdGlvbihhKXtiLmhvc3QhPT1iLmdhJiYoYS5ucz1iLlpiKTt2YXIgYz1bXSxmO2ZvcihmIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGYrXCI9XCIrYVtmXSk7cmV0dXJuKGIubmM/XCJodHRwczovL1wiOlwiaHR0cDovL1wiKStiLmdhK1wiLy5scD9cIitjLmpvaW4oXCImXCIpfX12YXIgS2MsTGM7XG5KYy5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihhLGIpe3RoaXMuJGM9MDt0aGlzLlM9Yjt0aGlzLmxkPW5ldyBGYyhhKTt0aGlzLk5hPSExO3ZhciBjPXRoaXM7dGhpcy5LYT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5lKFwiVGltZWQgb3V0IHRyeWluZyB0byBjb25uZWN0LlwiKTtjLlFhKCk7Yy5LYT1udWxsfSxNYXRoLmZsb29yKDNFNCkpO1BiKGZ1bmN0aW9uKCl7aWYoIWMuTmEpe2MubGE9bmV3IE1jKGZ1bmN0aW9uKGEsYixkLGssbCl7TmMoYyxhcmd1bWVudHMpO2lmKGMubGEpaWYoYy5LYSYmKGNsZWFyVGltZW91dChjLkthKSxjLkthPW51bGwpLGMub2I9ITAsXCJzdGFydFwiPT1hKWMuaWQ9YixjLm9kPWQ7ZWxzZSBpZihcImNsb3NlXCI9PT1hKWI/KGMubGEub2M9ITEsR2MoYy5sZCxiLGZ1bmN0aW9uKCl7Yy5RYSgpfSkpOmMuUWEoKTtlbHNlIHRocm93IEVycm9yKFwiVW5yZWNvZ25pemVkIGNvbW1hbmQgcmVjZWl2ZWQ6IFwiK2EpO30sZnVuY3Rpb24oYSxiKXtOYyhjLGFyZ3VtZW50cyk7XG5IYyhjLmxkLGEsYil9LGZ1bmN0aW9uKCl7Yy5RYSgpfSxjLlBiKTt2YXIgYT17c3RhcnQ6XCJ0XCJ9O2Euc2VyPU1hdGguZmxvb3IoMUU4Kk1hdGgucmFuZG9tKCkpO2MubGEucmMmJihhLmNiPWMubGEucmMpO2Eudj1cIjVcIjtjLnBjJiYoYS5zPWMucGMpO1widW5kZWZpbmVkXCIhPT10eXBlb2YgbG9jYXRpb24mJmxvY2F0aW9uLmhyZWYmJi0xIT09bG9jYXRpb24uaHJlZi5pbmRleE9mKFwiZmlyZWJhc2Vpby5jb21cIikmJihhLnI9XCJmXCIpO2E9Yy5QYihhKTtjLmUoXCJDb25uZWN0aW5nIHZpYSBsb25nLXBvbGwgdG8gXCIrYSk7T2MoYy5sYSxhLGZ1bmN0aW9uKCl7fSl9fSl9O1xuSmMucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5sYSxiPXRoaXMub2Q7YS5PZD10aGlzLmlkO2EuUGQ9Yjtmb3IoYS51Yz0hMDtQYyhhKTspO2E9dGhpcy5pZDtiPXRoaXMub2Q7dGhpcy5iYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO3ZhciBjPXtkZnJhbWU6XCJ0XCJ9O2MuaWQ9YTtjLnB3PWI7dGhpcy5iYi5zcmM9dGhpcy5QYihjKTt0aGlzLmJiLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmJiKX07SmMuaXNBdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hTGMmJiEoXCJvYmplY3RcIj09PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5jaHJvbWUmJndpbmRvdy5jaHJvbWUuZXh0ZW5zaW9uJiYhL15jaHJvbWUvLnRlc3Qod2luZG93LmxvY2F0aW9uLmhyZWYpKSYmIShcIm9iamVjdFwiPT09dHlwZW9mIFdpbmRvd3MmJlwib2JqZWN0XCI9PT10eXBlb2YgV2luZG93cy5kZSkmJihLY3x8ITApfTtoPUpjLnByb3RvdHlwZTtcbmguWGI9ZnVuY3Rpb24oKXt9O2guTGI9ZnVuY3Rpb24oKXt0aGlzLk5hPSEwO3RoaXMubGEmJih0aGlzLmxhLmNsb3NlKCksdGhpcy5sYT1udWxsKTt0aGlzLmJiJiYoZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLmJiKSx0aGlzLmJiPW51bGwpO3RoaXMuS2EmJihjbGVhclRpbWVvdXQodGhpcy5LYSksdGhpcy5LYT1udWxsKX07aC5RYT1mdW5jdGlvbigpe3RoaXMuTmF8fCh0aGlzLmUoXCJMb25ncG9sbCBpcyBjbG9zaW5nIGl0c2VsZlwiKSx0aGlzLkxiKCksdGhpcy5TJiYodGhpcy5TKHRoaXMub2IpLHRoaXMuUz1udWxsKSl9O2guY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLk5hfHwodGhpcy5lKFwiTG9uZ3BvbGwgaXMgYmVpbmcgY2xvc2VkLlwiKSx0aGlzLkxiKCkpfTtcbmguc2VuZD1mdW5jdGlvbihhKXthPXUoYSk7dGhpcy5KYSs9YS5sZW5ndGg7dWModGhpcy5lYSxcImJ5dGVzX3NlbnRcIixhLmxlbmd0aCk7YT1zYShhKTtpZighZmEoYSkpdGhyb3cgRXJyb3IoXCJlbmNvZGVCeXRlQXJyYXkgdGFrZXMgYW4gYXJyYXkgYXMgYSBwYXJhbWV0ZXJcIik7aWYoIUZiKXtGYj17fTtHYj17fTtmb3IodmFyIGI9MDs2NT5iO2IrKylGYltiXT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIuY2hhckF0KGIpLEdiW2JdPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODktXy5cIi5jaGFyQXQoYil9Zm9yKHZhciBiPUdiLGM9W10sZD0wO2Q8YS5sZW5ndGg7ZCs9Myl7dmFyIGU9YVtkXSxmPWQrMTxhLmxlbmd0aCxnPWY/YVtkKzFdOjAsaz1kKzI8YS5sZW5ndGgsbD1rP2FbZCsyXTowLG49ZT4+MixlPShlJjMpPDw0fGc+PjQsZz0oZyYxNSk8PFxuMnxsPj42LGw9bCY2MztrfHwobD02NCxmfHwoZz02NCkpO2MucHVzaChiW25dLGJbZV0sYltnXSxiW2xdKX1hPVViKGMuam9pbihcIlwiKSwxODQwKTtmb3IoYj0wO2I8YS5sZW5ndGg7YisrKWM9dGhpcy5sYSxjLkZiLnB1c2goe1lkOnRoaXMuJGMsYmU6YS5sZW5ndGgsYmQ6YVtiXX0pLGMudWMmJlBjKGMpLHRoaXMuJGMrK307ZnVuY3Rpb24gTmMoYSxiKXt2YXIgYz11KGIpLmxlbmd0aDthLklhKz1jO3VjKGEuZWEsXCJieXRlc19yZWNlaXZlZFwiLGMpfVxuZnVuY3Rpb24gTWMoYSxiLGMsZCl7dGhpcy5QYj1kO3RoaXMuaWE9Yzt0aGlzLk5jPW5ldyBJYzt0aGlzLkZiPVtdO3RoaXMuemM9TWF0aC5mbG9vcigxRTgqTWF0aC5yYW5kb20oKSk7dGhpcy5vYz0hMDt0aGlzLnJjPUhiKCk7d2luZG93W1wicExQQ29tbWFuZFwiK3RoaXMucmNdPWE7d2luZG93W1wicFJUTFBDQlwiK3RoaXMucmNdPWI7YT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO2Euc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtpZihkb2N1bWVudC5ib2R5KXtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO3RyeXthLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnR8fEsoXCJObyBJRSBkb21haW4gc2V0dGluZyByZXF1aXJlZFwiKX1jYXRjaChlKXthLnNyYz1cImphdmFzY3JpcHQ6dm9pZCgoZnVuY3Rpb24oKXtkb2N1bWVudC5vcGVuKCk7ZG9jdW1lbnQuZG9tYWluPSdcIitkb2N1bWVudC5kb21haW4rXCInO2RvY3VtZW50LmNsb3NlKCk7fSkoKSlcIn19ZWxzZSB0aHJvd1wiRG9jdW1lbnQgYm9keSBoYXMgbm90IGluaXRpYWxpemVkLiBXYWl0IHRvIGluaXRpYWxpemUgRmlyZWJhc2UgdW50aWwgYWZ0ZXIgdGhlIGRvY3VtZW50IGlzIHJlYWR5LlwiO1xuYS5jb250ZW50RG9jdW1lbnQ/YS5BYT1hLmNvbnRlbnREb2N1bWVudDphLmNvbnRlbnRXaW5kb3c/YS5BYT1hLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ6YS5kb2N1bWVudCYmKGEuQWE9YS5kb2N1bWVudCk7dGhpcy5aPWE7YT1cIlwiO3RoaXMuWi5zcmMmJlwiamF2YXNjcmlwdDpcIj09PXRoaXMuWi5zcmMuc3Vic3RyKDAsMTEpJiYoYT0nPHNjcmlwdD5kb2N1bWVudC5kb21haW49XCInK2RvY3VtZW50LmRvbWFpbisnXCI7XFx4M2Mvc2NyaXB0PicpO2E9XCI8aHRtbD48Ym9keT5cIithK1wiPC9ib2R5PjwvaHRtbD5cIjt0cnl7dGhpcy5aLkFhLm9wZW4oKSx0aGlzLlouQWEud3JpdGUoYSksdGhpcy5aLkFhLmNsb3NlKCl9Y2F0Y2goZil7SyhcImZyYW1lIHdyaXRpbmcgZXhjZXB0aW9uXCIpLGYuc3RhY2smJksoZi5zdGFjayksSyhmKX19XG5NYy5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLnVjPSExO2lmKHRoaXMuWil7dGhpcy5aLkFhLmJvZHkuaW5uZXJIVE1MPVwiXCI7dmFyIGE9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bnVsbCE9PWEuWiYmKGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYS5aKSxhLlo9bnVsbCl9LE1hdGguZmxvb3IoMCkpfXZhciBiPXRoaXMuaWE7YiYmKHRoaXMuaWE9bnVsbCxiKCkpfTtcbmZ1bmN0aW9uIFBjKGEpe2lmKGEudWMmJmEub2MmJmEuTmMuY291bnQoKTwoMDxhLkZiLmxlbmd0aD8yOjEpKXthLnpjKys7dmFyIGI9e307Yi5pZD1hLk9kO2IucHc9YS5QZDtiLnNlcj1hLnpjO2Zvcih2YXIgYj1hLlBiKGIpLGM9XCJcIixkPTA7MDxhLkZiLmxlbmd0aDspaWYoMTg3MD49YS5GYlswXS5iZC5sZW5ndGgrMzArYy5sZW5ndGgpe3ZhciBlPWEuRmIuc2hpZnQoKSxjPWMrXCImc2VnXCIrZCtcIj1cIitlLllkK1wiJnRzXCIrZCtcIj1cIitlLmJlK1wiJmRcIitkK1wiPVwiK2UuYmQ7ZCsrfWVsc2UgYnJlYWs7U2MoYSxiK2MsYS56Yyk7cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gU2MoYSxiLGMpe2Z1bmN0aW9uIGQoKXthLk5jLnJlbW92ZShjKTtQYyhhKX1hLk5jLmFkZChjKTt2YXIgZT1zZXRUaW1lb3V0KGQsTWF0aC5mbG9vcigyNUUzKSk7T2MoYSxiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGUpO2QoKX0pfVxuZnVuY3Rpb24gT2MoYSxiLGMpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0cnl7aWYoYS5vYyl7dmFyIGQ9YS5aLkFhLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7ZC50eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI7ZC5hc3luYz0hMDtkLnNyYz1iO2Qub25sb2FkPWQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7dmFyIGE9ZC5yZWFkeVN0YXRlO2EmJlwibG9hZGVkXCIhPT1hJiZcImNvbXBsZXRlXCIhPT1hfHwoZC5vbmxvYWQ9ZC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxkLnBhcmVudE5vZGUmJmQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkKSxjKCkpfTtkLm9uZXJyb3I9ZnVuY3Rpb24oKXtLKFwiTG9uZy1wb2xsIHNjcmlwdCBmYWlsZWQgdG8gbG9hZDogXCIrYik7YS5vYz0hMTthLmNsb3NlKCl9O2EuWi5BYS5ib2R5LmFwcGVuZENoaWxkKGQpfX1jYXRjaChlKXt9fSxNYXRoLmZsb29yKDEpKX07ZnVuY3Rpb24gVGMoYSl7VWModGhpcyxhKX12YXIgVmM9W0pjLFFdO2Z1bmN0aW9uIFVjKGEsYil7dmFyIGM9USYmUS5pc0F2YWlsYWJsZSgpLGQ9YyYmIShuYi5rZHx8ITA9PT1uYi5nZXQoXCJwcmV2aW91c193ZWJzb2NrZXRfZmFpbHVyZVwiKSk7Yi5jZSYmKGN8fEwoXCJ3c3M6Ly8gVVJMIHVzZWQsIGJ1dCBicm93c2VyIGlzbid0IGtub3duIHRvIHN1cHBvcnQgd2Vic29ja2V0cy4gIFRyeWluZyBhbnl3YXkuXCIpLGQ9ITApO2lmKGQpYS5NYj1bUV07ZWxzZXt2YXIgZT1hLk1iPVtdO1ZiKFZjLGZ1bmN0aW9uKGEsYil7YiYmYi5pc0F2YWlsYWJsZSgpJiZlLnB1c2goYil9KX19ZnVuY3Rpb24gV2MoYSl7aWYoMDxhLk1iLmxlbmd0aClyZXR1cm4gYS5NYlswXTt0aHJvdyBFcnJvcihcIk5vIHRyYW5zcG9ydHMgYXZhaWxhYmxlXCIpO307ZnVuY3Rpb24gWGMoYSxiLGMsZCxlLGYpe3RoaXMuaWQ9YTt0aGlzLmU9TWIoXCJjOlwiK3RoaXMuaWQrXCI6XCIpO3RoaXMuTGM9Yzt0aGlzLkFiPWQ7dGhpcy5TPWU7dGhpcy5LYz1mO3RoaXMuTT1iO3RoaXMuZmM9W107dGhpcy5aYz0wO3RoaXMueWQ9bmV3IFRjKGIpO3RoaXMubWE9MDt0aGlzLmUoXCJDb25uZWN0aW9uIGNyZWF0ZWRcIik7WWModGhpcyl9XG5mdW5jdGlvbiBZYyhhKXt2YXIgYj1XYyhhLnlkKTthLkI9bmV3IGIoXCJjOlwiK2EuaWQrXCI6XCIrYS5aYysrLGEuTSk7YS5QYz1iLnJlc3BvbnNlc1JlcXVpcmVkVG9CZUhlYWx0aHl8fDA7dmFyIGM9WmMoYSxhLkIpLGQ9JGMoYSxhLkIpO2EuTmI9YS5CO2EuS2I9YS5CO2Eudz1udWxsO2EuT2E9ITE7c2V0VGltZW91dChmdW5jdGlvbigpe2EuQiYmYS5CLm9wZW4oYyxkKX0sTWF0aC5mbG9vcigwKSk7Yj1iLmhlYWx0aHlUaW1lb3V0fHwwOzA8YiYmKGEuVmI9c2V0VGltZW91dChmdW5jdGlvbigpe2EuVmI9bnVsbDthLk9hfHwoYS5CJiYxMDI0MDA8YS5CLklhPyhhLmUoXCJDb25uZWN0aW9uIGV4Y2VlZGVkIGhlYWx0aHkgdGltZW91dCBidXQgaGFzIHJlY2VpdmVkIFwiK2EuQi5JYStcIiBieXRlcy4gIE1hcmtpbmcgY29ubmVjdGlvbiBoZWFsdGh5LlwiKSxhLk9hPSEwLGEuQi5YYigpKTphLkImJjEwMjQwPGEuQi5KYT9hLmUoXCJDb25uZWN0aW9uIGV4Y2VlZGVkIGhlYWx0aHkgdGltZW91dCBidXQgaGFzIHNlbnQgXCIrXG5hLkIuSmErXCIgYnl0ZXMuICBMZWF2aW5nIGNvbm5lY3Rpb24gYWxpdmUuXCIpOihhLmUoXCJDbG9zaW5nIHVuaGVhbHRoeSBjb25uZWN0aW9uIGFmdGVyIHRpbWVvdXQuXCIpLGEuY2xvc2UoKSkpfSxNYXRoLmZsb29yKGIpKSl9ZnVuY3Rpb24gJGMoYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyl7Yj09PWEuQj8oYS5CPW51bGwsY3x8MCE9PWEubWE/MT09PWEubWEmJmEuZShcIlJlYWx0aW1lIGNvbm5lY3Rpb24gbG9zdC5cIik6KGEuZShcIlJlYWx0aW1lIGNvbm5lY3Rpb24gZmFpbGVkLlwiKSxcInMtXCI9PT1hLk0uZ2Euc3Vic3RyKDAsMikmJihuYi5yZW1vdmUoXCJob3N0OlwiK2EuTS5ob3N0KSxhLk0uZ2E9YS5NLmhvc3QpKSxhLmNsb3NlKCkpOmI9PT1hLnc/KGEuZShcIlNlY29uZGFyeSBjb25uZWN0aW9uIGxvc3QuXCIpLGM9YS53LGEudz1udWxsLGEuTmIhPT1jJiZhLktiIT09Y3x8YS5jbG9zZSgpKTphLmUoXCJjbG9zaW5nIGFuIG9sZCBjb25uZWN0aW9uXCIpfX1cbmZ1bmN0aW9uIFpjKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2lmKDIhPWEubWEpaWYoYj09PWEuS2Ipe3ZhciBkPVRiKFwidFwiLGMpO2M9VGIoXCJkXCIsYyk7aWYoXCJjXCI9PWQpe2lmKGQ9VGIoXCJ0XCIsYyksXCJkXCJpbiBjKWlmKGM9Yy5kLFwiaFwiPT09ZCl7dmFyIGQ9Yy50cyxlPWMudixmPWMuaDthLnBjPWMucztxYihhLk0sZik7MD09YS5tYSYmKGEuQi5zdGFydCgpLGFkKGEsYS5CLGQpLFwiNVwiIT09ZSYmTChcIlByb3RvY29sIHZlcnNpb24gbWlzbWF0Y2ggZGV0ZWN0ZWRcIiksYz1hLnlkLChjPTE8Yy5NYi5sZW5ndGg/Yy5NYlsxXTpudWxsKSYmYmQoYSxjKSl9ZWxzZSBpZihcIm5cIj09PWQpe2EuZShcInJlY3ZkIGVuZCB0cmFuc21pc3Npb24gb24gcHJpbWFyeVwiKTthLktiPWEudztmb3IoYz0wO2M8YS5mYy5sZW5ndGg7KytjKWEuZGMoYS5mY1tjXSk7YS5mYz1bXTtjZChhKX1lbHNlXCJzXCI9PT1kPyhhLmUoXCJDb25uZWN0aW9uIHNodXRkb3duIGNvbW1hbmQgcmVjZWl2ZWQuIFNodXR0aW5nIGRvd24uLi5cIiksXG5hLktjJiYoYS5LYyhjKSxhLktjPW51bGwpLGEuUz1udWxsLGEuY2xvc2UoKSk6XCJyXCI9PT1kPyhhLmUoXCJSZXNldCBwYWNrZXQgcmVjZWl2ZWQuICBOZXcgaG9zdDogXCIrYykscWIoYS5NLGMpLDE9PT1hLm1hP2EuY2xvc2UoKTooZGQoYSksWWMoYSkpKTpcImVcIj09PWQ/TmIoXCJTZXJ2ZXIgRXJyb3I6IFwiK2MpOlwib1wiPT09ZD8oYS5lKFwiZ290IHBvbmcgb24gcHJpbWFyeS5cIiksZWQoYSksZmQoYSkpOk5iKFwiVW5rbm93biBjb250cm9sIHBhY2tldCBjb21tYW5kOiBcIitkKX1lbHNlXCJkXCI9PWQmJmEuZGMoYyl9ZWxzZSBpZihiPT09YS53KWlmKGQ9VGIoXCJ0XCIsYyksYz1UYihcImRcIixjKSxcImNcIj09ZClcInRcImluIGMmJihjPWMudCxcImFcIj09PWM/Z2QoYSk6XCJyXCI9PT1jPyhhLmUoXCJHb3QgYSByZXNldCBvbiBzZWNvbmRhcnksIGNsb3NpbmcgaXRcIiksYS53LmNsb3NlKCksYS5OYiE9PWEudyYmYS5LYiE9PWEud3x8YS5jbG9zZSgpKTpcIm9cIj09PWMmJihhLmUoXCJnb3QgcG9uZyBvbiBzZWNvbmRhcnkuXCIpLFxuYS50ZC0tLGdkKGEpKSk7ZWxzZSBpZihcImRcIj09ZClhLmZjLnB1c2goYyk7ZWxzZSB0aHJvdyBFcnJvcihcIlVua25vd24gcHJvdG9jb2wgbGF5ZXI6IFwiK2QpO2Vsc2UgYS5lKFwibWVzc2FnZSBvbiBvbGQgY29ubmVjdGlvblwiKX19WGMucHJvdG90eXBlLnVkPWZ1bmN0aW9uKGEpe2hkKHRoaXMse3Q6XCJkXCIsZDphfSl9O2Z1bmN0aW9uIGNkKGEpe2EuTmI9PT1hLncmJmEuS2I9PT1hLncmJihhLmUoXCJjbGVhbmluZyB1cCBhbmQgcHJvbW90aW5nIGEgY29ubmVjdGlvbjogXCIrYS53LnljKSxhLkI9YS53LGEudz1udWxsKX1cbmZ1bmN0aW9uIGdkKGEpezA+PWEudGQ/KGEuZShcIlNlY29uZGFyeSBjb25uZWN0aW9uIGlzIGhlYWx0aHkuXCIpLGEuT2E9ITAsYS53LlhiKCksYS53LnN0YXJ0KCksYS5lKFwic2VuZGluZyBjbGllbnQgYWNrIG9uIHNlY29uZGFyeVwiKSxhLncuc2VuZCh7dDpcImNcIixkOnt0OlwiYVwiLGQ6e319fSksYS5lKFwiRW5kaW5nIHRyYW5zbWlzc2lvbiBvbiBwcmltYXJ5XCIpLGEuQi5zZW5kKHt0OlwiY1wiLGQ6e3Q6XCJuXCIsZDp7fX19KSxhLk5iPWEudyxjZChhKSk6KGEuZShcInNlbmRpbmcgcGluZyBvbiBzZWNvbmRhcnkuXCIpLGEudy5zZW5kKHt0OlwiY1wiLGQ6e3Q6XCJwXCIsZDp7fX19KSl9WGMucHJvdG90eXBlLmRjPWZ1bmN0aW9uKGEpe2VkKHRoaXMpO3RoaXMuTGMoYSl9O2Z1bmN0aW9uIGVkKGEpe2EuT2F8fChhLlBjLS0sMD49YS5QYyYmKGEuZShcIlByaW1hcnkgY29ubmVjdGlvbiBpcyBoZWFsdGh5LlwiKSxhLk9hPSEwLGEuQi5YYigpKSl9XG5mdW5jdGlvbiBiZChhLGIpe2Eudz1uZXcgYihcImM6XCIrYS5pZCtcIjpcIithLlpjKyssYS5NLGEucGMpO2EudGQ9Yi5yZXNwb25zZXNSZXF1aXJlZFRvQmVIZWFsdGh5fHwwO2Eudy5vcGVuKFpjKGEsYS53KSwkYyhhLGEudykpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLncmJihhLmUoXCJUaW1lZCBvdXQgdHJ5aW5nIHRvIHVwZ3JhZGUuXCIpLGEudy5jbG9zZSgpKX0sTWF0aC5mbG9vcig2RTQpKX1mdW5jdGlvbiBhZChhLGIsYyl7YS5lKFwiUmVhbHRpbWUgY29ubmVjdGlvbiBlc3RhYmxpc2hlZC5cIik7YS5CPWI7YS5tYT0xO2EuQWImJihhLkFiKGMpLGEuQWI9bnVsbCk7MD09PWEuUGM/KGEuZShcIlByaW1hcnkgY29ubmVjdGlvbiBpcyBoZWFsdGh5LlwiKSxhLk9hPSEwKTpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZmQoYSl9LE1hdGguZmxvb3IoNUUzKSl9XG5mdW5jdGlvbiBmZChhKXthLk9hfHwxIT09YS5tYXx8KGEuZShcInNlbmRpbmcgcGluZyBvbiBwcmltYXJ5LlwiKSxoZChhLHt0OlwiY1wiLGQ6e3Q6XCJwXCIsZDp7fX19KSl9ZnVuY3Rpb24gaGQoYSxiKXtpZigxIT09YS5tYSl0aHJvd1wiQ29ubmVjdGlvbiBpcyBub3QgY29ubmVjdGVkXCI7YS5OYi5zZW5kKGIpfVhjLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpezIhPT10aGlzLm1hJiYodGhpcy5lKFwiQ2xvc2luZyByZWFsdGltZSBjb25uZWN0aW9uLlwiKSx0aGlzLm1hPTIsZGQodGhpcyksdGhpcy5TJiYodGhpcy5TKCksdGhpcy5TPW51bGwpKX07ZnVuY3Rpb24gZGQoYSl7YS5lKFwiU2h1dHRpbmcgZG93biBhbGwgY29ubmVjdGlvbnNcIik7YS5CJiYoYS5CLmNsb3NlKCksYS5CPW51bGwpO2EudyYmKGEudy5jbG9zZSgpLGEudz1udWxsKTthLlZiJiYoY2xlYXJUaW1lb3V0KGEuVmIpLGEuVmI9bnVsbCl9O2Z1bmN0aW9uIGlkKGEsYixjLGQsZSxmKXt0aGlzLmlkPWpkKys7dGhpcy5lPU1iKFwicDpcIit0aGlzLmlkK1wiOlwiKTt0aGlzLlRhPSEwO3RoaXMuaGE9e307dGhpcy5UPVtdO3RoaXMuQ2I9MDt0aGlzLnpiPVtdO3RoaXMuUj0hMTt0aGlzLnNhPTFFMzt0aGlzLlliPTNFNTt0aGlzLmVjPWJ8fGJhO3RoaXMuY2M9Y3x8YmE7dGhpcy55Yj1kfHxiYTt0aGlzLk1jPWV8fGJhO3RoaXMuRGM9Znx8YmE7dGhpcy5NPWE7dGhpcy5SYz1udWxsO3RoaXMuSmI9e307dGhpcy5YZD0wO3RoaXMudWI9dGhpcy5IYz1udWxsO2tkKHRoaXMsMCk7cGMucWIoKS5lYihcInZpc2libGVcIix0aGlzLlNkLHRoaXMpOy0xPT09YS5ob3N0LmluZGV4T2YoXCJmYmxvY2FsXCIpJiZxYy5xYigpLmViKFwib25saW5lXCIsdGhpcy5SZCx0aGlzKX12YXIgamQ9MCxsZD0wO2g9aWQucHJvdG90eXBlO1xuaC5GYT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Kyt0aGlzLlhkO2E9e3I6ZCxhOmEsYjpifTt0aGlzLmUodShhKSk7dih0aGlzLlIsXCJzZW5kUmVxdWVzdF8gY2FsbCB3aGVuIHdlJ3JlIG5vdCBjb25uZWN0ZWQgbm90IGFsbG93ZWQuXCIpO3RoaXMua2EudWQoYSk7YyYmKHRoaXMuSmJbZF09Yyl9O2Z1bmN0aW9uIG1kKGEsYixjKXt2YXIgZD1iLnRvU3RyaW5nKCksZT1iLnBhdGgoKS50b1N0cmluZygpO2EuaGFbZV09YS5oYVtlXXx8e307dighYS5oYVtlXVtkXSxcImxpc3RlbigpIGNhbGxlZCB0d2ljZSBmb3Igc2FtZSBwYXRoL3F1ZXJ5SWQuXCIpO2EuaGFbZV1bZF09e2diOmIuZ2IoKSxEOmN9O2EuUiYmbmQoYSxlLGQsYi5nYigpLGMpfVxuZnVuY3Rpb24gbmQoYSxiLGMsZCxlKXthLmUoXCJMaXN0ZW4gb24gXCIrYitcIiBmb3IgXCIrYyk7dmFyIGY9e3A6Yn07ZD10YihkLGZ1bmN0aW9uKGEpe3JldHVybiBLYShhKX0pO1wie31cIiE9PWMmJihmLnE9ZCk7Zi5oPWEuRGMoYik7YS5GYShcImxcIixmLGZ1bmN0aW9uKGQpe2EuZShcImxpc3RlbiByZXNwb25zZVwiLGQpO2Q9ZC5zO1wib2tcIiE9PWQmJm9kKGEsYixjKTtlJiZlKGQpfSl9XG5oLmxiPWZ1bmN0aW9uKGEsYixjKXt0aGlzLkxhPXtGZDphLGRkOiExLGFhOmIsUmI6Y307dGhpcy5lKFwiQXV0aGVudGljYXRpbmcgdXNpbmcgY3JlZGVudGlhbDogXCIrdGhpcy5MYSk7cGQodGhpcyk7aWYoIShiPTQwPT1hLmxlbmd0aCkpYTp7dmFyIGQ7dHJ5e3ZhciBlPWEuc3BsaXQoXCIuXCIpO2lmKDMhPT1lLmxlbmd0aCl7Yj0hMTticmVhayBhfXZhciBmO2I6e3RyeXtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGF0b2Ipe2Y9YXRvYihlWzFdKTticmVhayBifX1jYXRjaChnKXtLKFwiYmFzZTY0RGVjb2RlSWZOYXRpdmVTdXBwb3J0IGZhaWxlZDogXCIsZyl9Zj1udWxsfW51bGwhPT1mJiYoZD1yYShmKSl9Y2F0Y2goayl7SyhcImlzQWRtaW5BdXRoVG9rZW5fIGZhaWxlZFwiLGspfWI9XCJvYmplY3RcIj09PXR5cGVvZiBkJiYhMD09PXdhKGQsXCJhZG1pblwiKX1iJiYodGhpcy5lKFwiQWRtaW4gYXV0aCBjcmVkZW50aWFsIGRldGVjdGVkLiAgUmVkdWNpbmcgbWF4IHJlY29ubmVjdCB0aW1lLlwiKSx0aGlzLlliPVxuM0U0KX07aC5PYj1mdW5jdGlvbihhKXtkZWxldGUgdGhpcy5MYTt0aGlzLnliKCExKTt0aGlzLlImJnRoaXMuRmEoXCJ1bmF1dGhcIix7fSxmdW5jdGlvbihiKXthKGIucyxiLmQpfSl9O2Z1bmN0aW9uIHBkKGEpe3ZhciBiPWEuTGE7YS5SJiZiJiZhLkZhKFwiYXV0aFwiLHtjcmVkOmIuRmR9LGZ1bmN0aW9uKGMpe3ZhciBkPWMucztjPWMuZHx8XCJlcnJvclwiO1wib2tcIiE9PWQmJmEuTGE9PT1iJiZkZWxldGUgYS5MYTthLnliKFwib2tcIj09PWQpO2IuZGQ/XCJva1wiIT09ZCYmYi5SYiYmYi5SYihkLGMpOihiLmRkPSEwLGIuYWEmJmIuYWEoZCxjKSl9KX1mdW5jdGlvbiBxZChhLGIsYyxkKXtiPWIudG9TdHJpbmcoKTtvZChhLGIsYykmJmEuUiYmcmQoYSxiLGMsZCl9ZnVuY3Rpb24gcmQoYSxiLGMsZCl7YS5lKFwiVW5saXN0ZW4gb24gXCIrYitcIiBmb3IgXCIrYyk7Yj17cDpifTtkPXRiKGQsZnVuY3Rpb24oYSl7cmV0dXJuIEthKGEpfSk7XCJ7fVwiIT09YyYmKGIucT1kKTthLkZhKFwidVwiLGIpfVxuZnVuY3Rpb24gc2QoYSxiLGMsZCl7YS5SP3RkKGEsXCJvXCIsYixjLGQpOmEuemIucHVzaCh7T2M6YixhY3Rpb246XCJvXCIsZGF0YTpjLEQ6ZH0pfWZ1bmN0aW9uIHVkKGEsYixjLGQpe2EuUj90ZChhLFwib21cIixiLGMsZCk6YS56Yi5wdXNoKHtPYzpiLGFjdGlvbjpcIm9tXCIsZGF0YTpjLEQ6ZH0pfWguSmM9ZnVuY3Rpb24oYSxiKXt0aGlzLlI/dGQodGhpcyxcIm9jXCIsYSxudWxsLGIpOnRoaXMuemIucHVzaCh7T2M6YSxhY3Rpb246XCJvY1wiLGRhdGE6bnVsbCxEOmJ9KX07ZnVuY3Rpb24gdGQoYSxiLGMsZCxlKXtjPXtwOmMsZDpkfTthLmUoXCJvbkRpc2Nvbm5lY3QgXCIrYixjKTthLkZhKGIsYyxmdW5jdGlvbihhKXtlJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZShhLnMsYS5kKX0sTWF0aC5mbG9vcigwKSl9KX1oLnB1dD1mdW5jdGlvbihhLGIsYyxkKXt2ZCh0aGlzLFwicFwiLGEsYixjLGQpfTtmdW5jdGlvbiB3ZChhLGIsYyxkKXt2ZChhLFwibVwiLGIsYyxkLHZvaWQgMCl9XG5mdW5jdGlvbiB2ZChhLGIsYyxkLGUsZil7Yz17cDpjLGQ6ZH07bShmKSYmKGMuaD1mKTthLlQucHVzaCh7YWN0aW9uOmIscWQ6YyxEOmV9KTthLkNiKys7Yj1hLlQubGVuZ3RoLTE7YS5SJiZ4ZChhLGIpfWZ1bmN0aW9uIHhkKGEsYil7dmFyIGM9YS5UW2JdLmFjdGlvbixkPWEuVFtiXS5xZCxlPWEuVFtiXS5EO2EuVFtiXS5VZD1hLlI7YS5GYShjLGQsZnVuY3Rpb24oZCl7YS5lKGMrXCIgcmVzcG9uc2VcIixkKTtkZWxldGUgYS5UW2JdO2EuQ2ItLTswPT09YS5DYiYmKGEuVD1bXSk7ZSYmZShkLnMsZC5kKX0pfVxuaC5kYz1mdW5jdGlvbihhKXtpZihcInJcImluIGEpe3RoaXMuZShcImZyb20gc2VydmVyOiBcIit1KGEpKTt2YXIgYj1hLnIsYz10aGlzLkpiW2JdO2MmJihkZWxldGUgdGhpcy5KYltiXSxjKGEuYikpfWVsc2V7aWYoXCJlcnJvclwiaW4gYSl0aHJvd1wiQSBzZXJ2ZXItc2lkZSBlcnJvciBoYXMgb2NjdXJyZWQ6IFwiK2EuZXJyb3I7XCJhXCJpbiBhJiYoYj1hLmEsYz1hLmIsdGhpcy5lKFwiaGFuZGxlU2VydmVyTWVzc2FnZVwiLGIsYyksXCJkXCI9PT1iP3RoaXMuZWMoYy5wLGMuZCwhMSk6XCJtXCI9PT1iP3RoaXMuZWMoYy5wLGMuZCwhMCk6XCJjXCI9PT1iP3lkKHRoaXMsYy5wLGMucSk6XCJhY1wiPT09Yj8oYT1jLnMsYj1jLmQsYz10aGlzLkxhLGRlbGV0ZSB0aGlzLkxhLGMmJmMuUmImJmMuUmIoYSxiKSx0aGlzLnliKCExKSk6XCJzZFwiPT09Yj90aGlzLlJjP3RoaXMuUmMoYyk6XCJtc2dcImluIGMmJlwidW5kZWZpbmVkXCIhPT10eXBlb2YgY29uc29sZSYmY29uc29sZS5sb2coXCJGSVJFQkFTRTogXCIrYy5tc2cucmVwbGFjZShcIlxcblwiLFxuXCJcXG5GSVJFQkFTRTogXCIpKTpOYihcIlVucmVjb2duaXplZCBhY3Rpb24gcmVjZWl2ZWQgZnJvbSBzZXJ2ZXI6IFwiK3UoYikrXCJcXG5BcmUgeW91IHVzaW5nIHRoZSBsYXRlc3QgY2xpZW50P1wiKSl9fTtoLkFiPWZ1bmN0aW9uKGEpe3RoaXMuZShcImNvbm5lY3Rpb24gcmVhZHlcIik7dGhpcy5SPSEwO3RoaXMudWI9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dGhpcy5NYyh7c2VydmVyVGltZU9mZnNldDphLShuZXcgRGF0ZSkuZ2V0VGltZSgpfSk7cGQodGhpcyk7Zm9yKHZhciBiIGluIHRoaXMuaGEpZm9yKHZhciBjIGluIHRoaXMuaGFbYl0pYT10aGlzLmhhW2JdW2NdLG5kKHRoaXMsYixjLGEuZ2IsYS5EKTtmb3IoYj0wO2I8dGhpcy5ULmxlbmd0aDtiKyspdGhpcy5UW2JdJiZ4ZCh0aGlzLGIpO2Zvcig7dGhpcy56Yi5sZW5ndGg7KWI9dGhpcy56Yi5zaGlmdCgpLHRkKHRoaXMsYi5hY3Rpb24sYi5PYyxiLmRhdGEsYi5EKTt0aGlzLmNjKCEwKX07XG5mdW5jdGlvbiBrZChhLGIpe3YoIWEua2EsXCJTY2hlZHVsaW5nIGEgY29ubmVjdCB3aGVuIHdlJ3JlIGFscmVhZHkgY29ubmVjdGVkL2luZz9cIik7YS5ZYSYmY2xlYXJUaW1lb3V0KGEuWWEpO2EuWWE9c2V0VGltZW91dChmdW5jdGlvbigpe2EuWWE9bnVsbDt6ZChhKX0sTWF0aC5mbG9vcihiKSl9aC5TZD1mdW5jdGlvbihhKXthJiYhdGhpcy5rYiYmdGhpcy5zYT09PXRoaXMuWWImJih0aGlzLmUoXCJXaW5kb3cgYmVjYW1lIHZpc2libGUuICBSZWR1Y2luZyBkZWxheS5cIiksdGhpcy5zYT0xRTMsdGhpcy5rYXx8a2QodGhpcywwKSk7dGhpcy5rYj1hfTtcbmguUmQ9ZnVuY3Rpb24oYSl7YT8odGhpcy5lKFwiQnJvd3NlciB3ZW50IG9ubGluZS4gIFJlY29ubmVjdGluZy5cIiksdGhpcy5zYT0xRTMsdGhpcy5UYT0hMCx0aGlzLmthfHxrZCh0aGlzLDApKToodGhpcy5lKFwiQnJvd3NlciB3ZW50IG9mZmxpbmUuICBLaWxsaW5nIGNvbm5lY3Rpb247IGRvbid0IHJlY29ubmVjdC5cIiksdGhpcy5UYT0hMSx0aGlzLmthJiZ0aGlzLmthLmNsb3NlKCkpfTtcbmgubWQ9ZnVuY3Rpb24oKXt0aGlzLmUoXCJkYXRhIGNsaWVudCBkaXNjb25uZWN0ZWRcIik7dGhpcy5SPSExO3RoaXMua2E9bnVsbDtmb3IodmFyIGE9MDthPHRoaXMuVC5sZW5ndGg7YSsrKXt2YXIgYj10aGlzLlRbYV07YiYmXCJoXCJpbiBiLnFkJiZiLlVkJiYoYi5EJiZiLkQoXCJkaXNjb25uZWN0XCIpLGRlbGV0ZSB0aGlzLlRbYV0sdGhpcy5DYi0tKX0wPT09dGhpcy5DYiYmKHRoaXMuVD1bXSk7aWYodGhpcy5UYSl0aGlzLmtiP3RoaXMudWImJigzRTQ8KG5ldyBEYXRlKS5nZXRUaW1lKCktdGhpcy51YiYmKHRoaXMuc2E9MUUzKSx0aGlzLnViPW51bGwpOih0aGlzLmUoXCJXaW5kb3cgaXNuJ3QgdmlzaWJsZS4gIERlbGF5aW5nIHJlY29ubmVjdC5cIiksdGhpcy5zYT10aGlzLlliLHRoaXMuSGM9KG5ldyBEYXRlKS5nZXRUaW1lKCkpLGE9TWF0aC5tYXgoMCx0aGlzLnNhLSgobmV3IERhdGUpLmdldFRpbWUoKS10aGlzLkhjKSksYSo9TWF0aC5yYW5kb20oKSx0aGlzLmUoXCJUcnlpbmcgdG8gcmVjb25uZWN0IGluIFwiK1xuYStcIm1zXCIpLGtkKHRoaXMsYSksdGhpcy5zYT1NYXRoLm1pbih0aGlzLlliLDEuMyp0aGlzLnNhKTtlbHNlIGZvcih2YXIgYyBpbiB0aGlzLkpiKWRlbGV0ZSB0aGlzLkpiW2NdO3RoaXMuY2MoITEpfTtmdW5jdGlvbiB6ZChhKXtpZihhLlRhKXthLmUoXCJNYWtpbmcgYSBjb25uZWN0aW9uIGF0dGVtcHRcIik7YS5IYz0obmV3IERhdGUpLmdldFRpbWUoKTthLnViPW51bGw7dmFyIGI9cShhLmRjLGEpLGM9cShhLkFiLGEpLGQ9cShhLm1kLGEpLGU9YS5pZCtcIjpcIitsZCsrO2Eua2E9bmV3IFhjKGUsYS5NLGIsYyxkLGZ1bmN0aW9uKGIpe0woYitcIiAoXCIrYS5NLnRvU3RyaW5nKCkrXCIpXCIpO2EuVGE9ITF9KX19aC5NYT1mdW5jdGlvbigpe3RoaXMuVGE9ITE7dGhpcy5rYT90aGlzLmthLmNsb3NlKCk6KHRoaXMuWWEmJihjbGVhclRpbWVvdXQodGhpcy5ZYSksdGhpcy5ZYT1udWxsKSx0aGlzLlImJnRoaXMubWQoKSl9O1xuaC5pYj1mdW5jdGlvbigpe3RoaXMuVGE9ITA7dGhpcy5zYT0xRTM7dGhpcy5SfHxrZCh0aGlzLDApfTtmdW5jdGlvbiB5ZChhLGIsYyl7Yz1jP3RiKGMsZnVuY3Rpb24oYSl7cmV0dXJuIExhKGEpfSkuam9pbihcIiRcIik6XCJ7fVwiOyhhPW9kKGEsYixjKSkmJmEuRCYmYS5EKFwicGVybWlzc2lvbl9kZW5pZWRcIil9ZnVuY3Rpb24gb2QoYSxiLGMpe2I9KG5ldyBGKGIpKS50b1N0cmluZygpO2N8fChjPVwie31cIik7dmFyIGQ9YS5oYVtiXVtjXTtkZWxldGUgYS5oYVtiXVtjXTtyZXR1cm4gZH07ZnVuY3Rpb24gQWQoKXt0aGlzLm49dGhpcy5GPW51bGx9ZnVuY3Rpb24gQmQoYSxiLGMpe2lmKGIuZigpKWEuRj1jLGEubj1udWxsO2Vsc2UgaWYobnVsbCE9PWEuRilhLkY9YS5GLnlhKGIsYyk7ZWxzZXtudWxsPT1hLm4mJihhLm49bmV3IEljKTt2YXIgZD1DKGIpO2Eubi5jb250YWlucyhkKXx8YS5uLmFkZChkLG5ldyBBZCk7YT1hLm4uZ2V0KGQpO2I9TWEoYik7QmQoYSxiLGMpfX1mdW5jdGlvbiBDZChhLGIpe2lmKGIuZigpKXJldHVybiBhLkY9bnVsbCxhLm49bnVsbCwhMDtpZihudWxsIT09YS5GKXtpZihhLkYuTygpKXJldHVybiExO3ZhciBjPWEuRjthLkY9bnVsbDtjLkEoZnVuY3Rpb24oYixjKXtCZChhLG5ldyBGKGIpLGMpfSk7cmV0dXJuIENkKGEsYil9cmV0dXJuIG51bGwhPT1hLm4/KGM9QyhiKSxiPU1hKGIpLGEubi5jb250YWlucyhjKSYmQ2QoYS5uLmdldChjKSxiKSYmYS5uLnJlbW92ZShjKSxhLm4uZigpPyhhLm49bnVsbCwhMCk6ITEpOiEwfVxuZnVuY3Rpb24gRGQoYSxiLGMpe251bGwhPT1hLkY/YyhiLGEuRik6YS5BKGZ1bmN0aW9uKGEsZSl7dmFyIGY9bmV3IEYoYi50b1N0cmluZygpK1wiL1wiK2EpO0RkKGUsZixjKX0pfUFkLnByb3RvdHlwZS5BPWZ1bmN0aW9uKGEpe251bGwhPT10aGlzLm4mJlIodGhpcy5uLGZ1bmN0aW9uKGIsYyl7YShiLGMpfSl9O2Z1bmN0aW9uIEVkKCl7dGhpcy4kPU19ZnVuY3Rpb24gUyhhLGIpe3JldHVybiBhLiQuSyhiKX1mdW5jdGlvbiBUKGEsYixjKXthLiQ9YS4kLnlhKGIsYyl9RWQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC50b1N0cmluZygpfTtmdW5jdGlvbiBGZCgpe3RoaXMudGE9bmV3IEVkO3RoaXMuTD1uZXcgRWQ7dGhpcy5vYT1uZXcgRWQ7dGhpcy5FYj1uZXcgUWF9ZnVuY3Rpb24gR2QoYSxiLGMpe1QoYS50YSxiLGMpO3JldHVybiBIZChhLGIpfWZ1bmN0aW9uIEhkKGEsYil7Zm9yKHZhciBjPVMoYS50YSxiKSxkPVMoYS5MLGIpLGU9SShhLkViLGIpLGY9ITEsZz1lO251bGwhPT1nOyl7aWYobnVsbCE9PWcuaigpKXtmPSEwO2JyZWFrfWc9Zy5wYXJlbnQoKX1pZihmKXJldHVybiExO2M9SWQoYyxkLGUpO3JldHVybiBjIT09ZD8oVChhLkwsYixjKSwhMCk6ITF9ZnVuY3Rpb24gSWQoYSxiLGMpe2lmKGMuZigpKXJldHVybiBhO2lmKG51bGwhPT1jLmooKSlyZXR1cm4gYjthPWF8fE07Yy5BKGZ1bmN0aW9uKGQpe2Q9ZC5uYW1lKCk7dmFyIGU9YS5OKGQpLGY9Yi5OKGQpLGc9SShjLGQpLGU9SWQoZSxmLGcpO2E9YS5IKGQsZSl9KTtyZXR1cm4gYX1cbkZkLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9W107c2IoYixmdW5jdGlvbihhKXt2YXIgYj1hLnBhdGg7YT1hLnJhO3ZhciBnPUhiKCk7SihJKGMuRWIsYiksZyk7VChjLkwsYixhKTtkLnB1c2goe3BhdGg6YixaZDpnfSl9KTtyZXR1cm4gZH07ZnVuY3Rpb24gSmQoYSxiKXtzYihiLGZ1bmN0aW9uKGIpe3ZhciBkPWIuWmQ7Yj1JKGEuRWIsYi5wYXRoKTt2YXIgZT1iLmooKTt2KG51bGwhPT1lLFwicGVuZGluZ1B1dCBzaG91bGQgbm90IGJlIG51bGwuXCIpO2U9PT1kJiZKKGIsbnVsbCl9KX07ZnVuY3Rpb24gS2QoYSxiKXtyZXR1cm4gYSYmXCJvYmplY3RcIj09PXR5cGVvZiBhPyh2KFwiLnN2XCJpbiBhLFwiVW5leHBlY3RlZCBsZWFmIG5vZGUgb3IgcHJpb3JpdHkgY29udGVudHNcIiksYlthW1wiLnN2XCJdXSk6YX1mdW5jdGlvbiBMZChhLGIpe3ZhciBjPW5ldyBBZDtEZChhLG5ldyBGKFwiXCIpLGZ1bmN0aW9uKGEsZSl7QmQoYyxhLE1kKGUsYikpfSk7cmV0dXJuIGN9ZnVuY3Rpb24gTWQoYSxiKXt2YXIgYz1LZChhLmsoKSxiKSxkO2lmKGEuTygpKXt2YXIgZT1LZChhLmooKSxiKTtyZXR1cm4gZSE9PWEuaigpfHxjIT09YS5rKCk/bmV3IGJjKGUsYyk6YX1kPWE7YyE9PWEuaygpJiYoZD1kLkhhKGMpKTthLkEoZnVuY3Rpb24oYSxjKXt2YXIgZT1NZChjLGIpO2UhPT1jJiYoZD1kLkgoYSxlKSl9KTtyZXR1cm4gZH07ZnVuY3Rpb24gTmQoKXt0aGlzLlphPVtdfWZ1bmN0aW9uIE9kKGEsYil7aWYoMCE9PWIubGVuZ3RoKWZvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKWEuWmEucHVzaChiW2NdKX1OZC5wcm90b3R5cGUuSGI9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuWmEubGVuZ3RoO2ErKylpZih0aGlzLlphW2FdKXt2YXIgYj10aGlzLlphW2FdO3RoaXMuWmFbYV09bnVsbDtQZChiKX10aGlzLlphPVtdfTtmdW5jdGlvbiBQZChhKXt2YXIgYj1hLmFhLGM9YS52ZCxkPWEuR2I7YWMoZnVuY3Rpb24oKXtiKGMsZCl9KX07ZnVuY3Rpb24gVShhLGIsYyxkKXt0aGlzLnR5cGU9YTt0aGlzLnVhPWI7dGhpcy5iYT1jO3RoaXMuR2I9ZH07ZnVuY3Rpb24gUWQoYSl7dGhpcy5RPWE7dGhpcy5wYT1bXTt0aGlzLkFjPW5ldyBOZH1mdW5jdGlvbiBSZChhLGIsYyxkLGUpe2EucGEucHVzaCh7dHlwZTpiLGFhOmMsY2FuY2VsOmQsWTplfSk7ZD1bXTt2YXIgZj1TZChhLmkpO2Euc2ImJmYucHVzaChuZXcgVShcInZhbHVlXCIsYS5pKSk7Zm9yKHZhciBnPTA7ZzxmLmxlbmd0aDtnKyspaWYoZltnXS50eXBlPT09Yil7dmFyIGs9bmV3IEUoYS5RLm0sYS5RLnBhdGgpO2ZbZ10uYmEmJihrPWsuRyhmW2ddLmJhKSk7ZC5wdXNoKHthYTpYYihjLGUpLHZkOm5ldyBQKGZbZ10udWEsayksR2I6ZltnXS5HYn0pfU9kKGEuQWMsZCl9UWQucHJvdG90eXBlLmljPWZ1bmN0aW9uKGEsYil7Yj10aGlzLmpjKGEsYik7bnVsbCE9YiYmVGQodGhpcyxiKX07XG5mdW5jdGlvbiBUZChhLGIpe2Zvcih2YXIgYz1bXSxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0sZj1lLnR5cGUsZz1uZXcgRShhLlEubSxhLlEucGF0aCk7YltkXS5iYSYmKGc9Zy5HKGJbZF0uYmEpKTtnPW5ldyBQKGJbZF0udWEsZyk7XCJ2YWx1ZVwiIT09ZS50eXBlfHxnLnJiKCk/XCJ2YWx1ZVwiIT09ZS50eXBlJiYoZis9XCIgXCIrZy5uYW1lKCkpOmYrPVwiKFwiK2cuVigpK1wiKVwiO0soYS5RLm0udS5pZCtcIjogZXZlbnQ6XCIrYS5RLnBhdGgrXCI6XCIrYS5RLlJhKCkrXCI6XCIrZik7Zm9yKGY9MDtmPGEucGEubGVuZ3RoO2YrKyl7dmFyIGs9YS5wYVtmXTtiW2RdLnR5cGU9PT1rLnR5cGUmJmMucHVzaCh7YWE6WGIoay5hYSxrLlkpLHZkOmcsR2I6ZS5HYn0pfX1PZChhLkFjLGMpfVFkLnByb3RvdHlwZS5IYj1mdW5jdGlvbigpe3RoaXMuQWMuSGIoKX07XG5mdW5jdGlvbiBTZChhKXt2YXIgYj1bXTtpZighYS5PKCkpe3ZhciBjPW51bGw7YS5BKGZ1bmN0aW9uKGEsZSl7Yi5wdXNoKG5ldyBVKFwiY2hpbGRfYWRkZWRcIixlLGEsYykpO2M9YX0pfXJldHVybiBifWZ1bmN0aW9uIFVkKGEpe2Euc2J8fChhLnNiPSEwLFRkKGEsW25ldyBVKFwidmFsdWVcIixhLmkpXSkpfTtmdW5jdGlvbiBWZChhLGIpe1FkLmNhbGwodGhpcyxhKTt0aGlzLmk9Yn1rYShWZCxRZCk7VmQucHJvdG90eXBlLmpjPWZ1bmN0aW9uKGEsYil7dGhpcy5pPWE7dGhpcy5zYiYmbnVsbCE9YiYmYi5wdXNoKG5ldyBVKFwidmFsdWVcIix0aGlzLmkpKTtyZXR1cm4gYn07VmQucHJvdG90eXBlLnBiPWZ1bmN0aW9uKCl7cmV0dXJue319O2Z1bmN0aW9uIFdkKGEsYil7dGhpcy5UYj1hO3RoaXMuSWM9Yn1mdW5jdGlvbiBYZChhLGIsYyxkLGUpe3ZhciBmPWEuSyhjKSxnPWIuSyhjKTtkPW5ldyBXZChkLGUpO2U9WWQoZCxjLGYsZyk7Zz0hZi5mKCkmJiFnLmYoKSYmZi5rKCkhPT1nLmsoKTtpZihlfHxnKWZvcihmPWMsYz1lO251bGwhPT1mLnBhcmVudCgpOyl7dmFyIGs9YS5LKGYpO2U9Yi5LKGYpO3ZhciBsPWYucGFyZW50KCk7aWYoIWQuVGJ8fEkoZC5UYixsKS5qKCkpe3ZhciBuPWIuSyhsKSxyPVtdLGY9TmEoZik7ay5mKCk/KGs9bi5mYShmLGUpLHIucHVzaChuZXcgVShcImNoaWxkX2FkZGVkXCIsZSxmLGspKSk6ZS5mKCk/ci5wdXNoKG5ldyBVKFwiY2hpbGRfcmVtb3ZlZFwiLGssZikpOihrPW4uZmEoZixlKSxnJiZyLnB1c2gobmV3IFUoXCJjaGlsZF9tb3ZlZFwiLGUsZixrKSksYyYmci5wdXNoKG5ldyBVKFwiY2hpbGRfY2hhbmdlZFwiLGUsZixrKSkpO2QuSWMobCxuLHIpfWcmJihnPSExLGM9ITApO2Y9bH19XG5mdW5jdGlvbiBZZChhLGIsYyxkKXt2YXIgZSxmPVtdO2M9PT1kP2U9ITE6Yy5PKCkmJmQuTygpP2U9Yy5qKCkhPT1kLmooKTpjLk8oKT8oWmQoYSxiLE0sZCxmKSxlPSEwKTpkLk8oKT8oWmQoYSxiLGMsTSxmKSxlPSEwKTplPVpkKGEsYixjLGQsZik7ZT9hLkljKGIsZCxmKTpjLmsoKSE9PWQuaygpJiZhLkljKGIsZCxudWxsKTtyZXR1cm4gZX1cbmZ1bmN0aW9uIFpkKGEsYixjLGQsZSl7dmFyIGY9ITEsZz0hYS5UYnx8IUkoYS5UYixiKS5mKCksaz1bXSxsPVtdLG49W10scj1bXSx0PXt9LHM9e30sdyxWLEcsSDt3PWMuJGEoKTtHPVphKHcpO1Y9ZC4kYSgpO2ZvcihIPVphKFYpO251bGwhPT1HfHxudWxsIT09SDspe2M9SDtjPW51bGw9PT1HPzE6bnVsbD09PWM/LTE6Ry5rZXk9PT1jLmtleT8wOmRjKHtuYW1lOkcua2V5LGphOkcudmFsdWUuaygpfSx7bmFtZTpjLmtleSxqYTpjLnZhbHVlLmsoKX0pO2lmKDA+YylmPXdhKHQsRy5rZXkpLG0oZik/KG4ucHVzaCh7Q2M6RyxXYzprW2ZdfSksa1tmXT1udWxsKTooc1tHLmtleV09bC5sZW5ndGgsbC5wdXNoKEcpKSxmPSEwLEc9WmEodyk7ZWxzZXtpZigwPGMpZj13YShzLEgua2V5KSxtKGYpPyhuLnB1c2goe0NjOmxbZl0sV2M6SH0pLGxbZl09bnVsbCk6KHRbSC5rZXldPWsubGVuZ3RoLGsucHVzaChIKSksZj0hMDtlbHNle2M9Yi5HKEgua2V5KTtpZihjPVlkKGEsYyxHLnZhbHVlLFxuSC52YWx1ZSkpci5wdXNoKEgpLGY9ITA7Ry52YWx1ZS5rKCkhPT1ILnZhbHVlLmsoKSYmKG4ucHVzaCh7Q2M6RyxXYzpIfSksZj0hMCk7Rz1aYSh3KX1IPVphKFYpfWlmKCFnJiZmKXJldHVybiEwfWZvcihnPTA7ZzxsLmxlbmd0aDtnKyspaWYodD1sW2ddKWM9Yi5HKHQua2V5KSxZZChhLGMsdC52YWx1ZSxNKSxlLnB1c2gobmV3IFUoXCJjaGlsZF9yZW1vdmVkXCIsdC52YWx1ZSx0LmtleSkpO2ZvcihnPTA7ZzxrLmxlbmd0aDtnKyspaWYodD1rW2ddKWM9Yi5HKHQua2V5KSxsPWQuZmEodC5rZXksdC52YWx1ZSksWWQoYSxjLE0sdC52YWx1ZSksZS5wdXNoKG5ldyBVKFwiY2hpbGRfYWRkZWRcIix0LnZhbHVlLHQua2V5LGwpKTtmb3IoZz0wO2c8bi5sZW5ndGg7ZysrKXQ9bltnXS5DYyxrPW5bZ10uV2MsYz1iLkcoay5rZXkpLGw9ZC5mYShrLmtleSxrLnZhbHVlKSxlLnB1c2gobmV3IFUoXCJjaGlsZF9tb3ZlZFwiLGsudmFsdWUsay5rZXksbCkpLChjPVlkKGEsYyx0LnZhbHVlLGsudmFsdWUpKSYmXG5yLnB1c2goayk7Zm9yKGc9MDtnPHIubGVuZ3RoO2crKylhPXJbZ10sbD1kLmZhKGEua2V5LGEudmFsdWUpLGUucHVzaChuZXcgVShcImNoaWxkX2NoYW5nZWRcIixhLnZhbHVlLGEua2V5LGwpKTtyZXR1cm4gZn07ZnVuY3Rpb24gJGQoKXt0aGlzLlg9dGhpcy54YT1udWxsO3RoaXMuc2V0PXt9fWthKCRkLEljKTtoPSRkLnByb3RvdHlwZTtoLnNldEFjdGl2ZT1mdW5jdGlvbihhKXt0aGlzLnhhPWF9O2Z1bmN0aW9uIGFlKGEsYixjKXthLmFkZChiLGMpO2EuWHx8KGEuWD1jLlEucGF0aCl9ZnVuY3Rpb24gYmUoYSl7dmFyIGI9YS54YTthLnhhPW51bGw7cmV0dXJuIGJ9ZnVuY3Rpb24gY2UoYSl7cmV0dXJuIGEuY29udGFpbnMoXCJkZWZhdWx0XCIpfWZ1bmN0aW9uIGRlKGEpe3JldHVybiBudWxsIT1hLnhhJiZjZShhKX1oLmRlZmF1bHRWaWV3PWZ1bmN0aW9uKCl7cmV0dXJuIGNlKHRoaXMpP3RoaXMuZ2V0KFwiZGVmYXVsdFwiKTpudWxsfTtoLnBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5YfTtoLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRiKHRoaXMua2V5cygpLGZ1bmN0aW9uKGEpe3JldHVyblwiZGVmYXVsdFwiPT09YT9cInt9XCI6YX0pLmpvaW4oXCIkXCIpfTtcbmguZ2I9ZnVuY3Rpb24oKXt2YXIgYT1bXTtSKHRoaXMsZnVuY3Rpb24oYixjKXthLnB1c2goYy5RKX0pO3JldHVybiBhfTtmdW5jdGlvbiBlZShhLGIpe1FkLmNhbGwodGhpcyxhKTt0aGlzLmk9TTt0aGlzLmpjKGIsU2QoYikpfWthKGVlLFFkKTtcbmVlLnByb3RvdHlwZS5qYz1mdW5jdGlvbihhLGIpe2lmKG51bGw9PT1iKXJldHVybiBiO3ZhciBjPVtdLGQ9dGhpcy5RO20oZC5kYSkmJihtKGQud2EpJiZudWxsIT1kLndhP2MucHVzaChmdW5jdGlvbihhLGIpe3ZhciBjPVFiKGIsZC5kYSk7cmV0dXJuIDA8Y3x8MD09PWMmJjA8PVJiKGEsZC53YSl9KTpjLnB1c2goZnVuY3Rpb24oYSxiKXtyZXR1cm4gMDw9UWIoYixkLmRhKX0pKTttKGQuQmEpJiYobShkLlhhKT9jLnB1c2goZnVuY3Rpb24oYSxiKXt2YXIgYz1RYihiLGQuQmEpO3JldHVybiAwPmN8fDA9PT1jJiYwPj1SYihhLGQuWGEpfSk6Yy5wdXNoKGZ1bmN0aW9uKGEsYil7cmV0dXJuIDA+PVFiKGIsZC5CYSl9KSk7dmFyIGU9bnVsbCxmPW51bGw7aWYobSh0aGlzLlEuRGEpKWlmKG0odGhpcy5RLmRhKSl7aWYoZT1mZShhLGMsdGhpcy5RLkRhLCExKSl7dmFyIGc9YS5OKGUpLmsoKTtjLnB1c2goZnVuY3Rpb24oYSxiKXt2YXIgYz1RYihiLGcpO3JldHVybiAwPmN8fDA9PT1jJiZcbjA+PVJiKGEsZSl9KX19ZWxzZSBpZihmPWZlKGEsYyx0aGlzLlEuRGEsITApKXt2YXIgaz1hLk4oZikuaygpO2MucHVzaChmdW5jdGlvbihhLGIpe3ZhciBjPVFiKGIsayk7cmV0dXJuIDA8Y3x8MD09PWMmJjA8PVJiKGEsZil9KX1mb3IodmFyIGw9W10sbj1bXSxyPVtdLHQ9W10scz0wO3M8Yi5sZW5ndGg7cysrKXt2YXIgdz1iW3NdLmJhLFY9YltzXS51YTtzd2l0Y2goYltzXS50eXBlKXtjYXNlIFwiY2hpbGRfYWRkZWRcIjpnZShjLHcsVikmJih0aGlzLmk9dGhpcy5pLkgodyxWKSxuLnB1c2goYltzXSkpO2JyZWFrO2Nhc2UgXCJjaGlsZF9yZW1vdmVkXCI6dGhpcy5pLk4odykuZigpfHwodGhpcy5pPXRoaXMuaS5IKHcsbnVsbCksbC5wdXNoKGJbc10pKTticmVhaztjYXNlIFwiY2hpbGRfY2hhbmdlZFwiOiF0aGlzLmkuTih3KS5mKCkmJmdlKGMsdyxWKSYmKHRoaXMuaT10aGlzLmkuSCh3LFYpLHQucHVzaChiW3NdKSk7YnJlYWs7Y2FzZSBcImNoaWxkX21vdmVkXCI6dmFyIEc9IXRoaXMuaS5OKHcpLmYoKSxcbkg9Z2UoYyx3LFYpO0c/SD8odGhpcy5pPXRoaXMuaS5IKHcsViksci5wdXNoKGJbc10pKToobC5wdXNoKG5ldyBVKFwiY2hpbGRfcmVtb3ZlZFwiLHRoaXMuaS5OKHcpLHcpKSx0aGlzLmk9dGhpcy5pLkgodyxudWxsKSk6SCYmKHRoaXMuaT10aGlzLmkuSCh3LFYpLG4ucHVzaChiW3NdKSl9fXZhciBRYz1lfHxmO2lmKFFjKXt2YXIgUmM9KHM9bnVsbCE9PWYpP3RoaXMuaS5lZCgpOnRoaXMuaS5nZCgpLGhjPSExLGFiPSExLGJiPXRoaXM7KHM/YS5CYzphLkEpLmNhbGwoYSxmdW5jdGlvbihhLGIpe2FifHxudWxsIT09UmN8fChhYj0hMCk7aWYoYWImJmhjKXJldHVybiEwO2hjPyhsLnB1c2gobmV3IFUoXCJjaGlsZF9yZW1vdmVkXCIsYmIuaS5OKGEpLGEpKSxiYi5pPWJiLmkuSChhLG51bGwpKTphYiYmKG4ucHVzaChuZXcgVShcImNoaWxkX2FkZGVkXCIsYixhKSksYmIuaT1iYi5pLkgoYSxiKSk7UmM9PT1hJiYoYWI9ITApO2E9PT1RYyYmKGhjPSEwKX0pfWZvcihzPTA7czxuLmxlbmd0aDtzKyspYz1cbm5bc10sdz10aGlzLmkuZmEoYy5iYSxjLnVhKSxsLnB1c2gobmV3IFUoXCJjaGlsZF9hZGRlZFwiLGMudWEsYy5iYSx3KSk7Zm9yKHM9MDtzPHIubGVuZ3RoO3MrKyljPXJbc10sdz10aGlzLmkuZmEoYy5iYSxjLnVhKSxsLnB1c2gobmV3IFUoXCJjaGlsZF9tb3ZlZFwiLGMudWEsYy5iYSx3KSk7Zm9yKHM9MDtzPHQubGVuZ3RoO3MrKyljPXRbc10sdz10aGlzLmkuZmEoYy5iYSxjLnVhKSxsLnB1c2gobmV3IFUoXCJjaGlsZF9jaGFuZ2VkXCIsYy51YSxjLmJhLHcpKTt0aGlzLnNiJiYwPGwubGVuZ3RoJiZsLnB1c2gobmV3IFUoXCJ2YWx1ZVwiLHRoaXMuaSkpO3JldHVybiBsfTtmdW5jdGlvbiBmZShhLGIsYyxkKXtpZihhLk8oKSlyZXR1cm4gbnVsbDt2YXIgZT1udWxsOyhkP2EuQmM6YS5BKS5jYWxsKGEsZnVuY3Rpb24oYSxkKXtpZihnZShiLGEsZCkmJihlPWEsYy0tLDA9PT1jKSlyZXR1cm4hMH0pO3JldHVybiBlfVxuZnVuY3Rpb24gZ2UoYSxiLGMpe2Zvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKWlmKCFhW2RdKGIsYy5rKCkpKXJldHVybiExO3JldHVybiEwfWVlLnByb3RvdHlwZS5FYz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pLk4oYSkhPT1NfTtcbmVlLnByb3RvdHlwZS5wYj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9e307dGhpcy5pLk8oKXx8dGhpcy5pLkEoZnVuY3Rpb24oYSl7ZFthXT0zfSk7dmFyIGU9dGhpcy5pO2M9UyhjLG5ldyBGKFwiXCIpKTt2YXIgZj1uZXcgUWE7SihJKGYsdGhpcy5RLnBhdGgpLCEwKTtiPU0ueWEoYSxiKTt2YXIgZz10aGlzO1hkKGMsYixhLGYsZnVuY3Rpb24oYSxiLGMpe251bGwhPT1jJiZhLnRvU3RyaW5nKCk9PT1nLlEucGF0aC50b1N0cmluZygpJiZnLmpjKGIsYyl9KTt0aGlzLmkuTygpP1diKGQsZnVuY3Rpb24oYSxiKXtkW2JdPTJ9KToodGhpcy5pLkEoZnVuY3Rpb24oYSl7QShkLGEpfHwoZFthXT0xKX0pLFdiKGQsZnVuY3Rpb24oYSxiKXtnLmkuTihiKS5mKCkmJihkW2JdPTIpfSkpO3RoaXMuaT1lO3JldHVybiBkfTtmdW5jdGlvbiBoZShhLGIpe3RoaXMudT1hO3RoaXMuZz1iO3RoaXMuYmM9Yi4kO3RoaXMubmE9bmV3IFFhfWhlLnByb3RvdHlwZS5RYj1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEucGF0aCxnPUkodGhpcy5uYSxmKSxrPWcuaigpO251bGw9PT1rPyhrPW5ldyAkZCxKKGcsaykpOnYoIWsuZigpLFwiV2Ugc2hvdWxkbid0IGJlIHN0b3JpbmcgZW1wdHkgUXVlcnlNYXBzXCIpO3ZhciBsPWEuUmEoKTtpZihrLmNvbnRhaW5zKGwpKWE9ay5nZXQobCksUmQoYSxiLGMsZCxlKTtlbHNle3ZhciBuPXRoaXMuZy4kLksoZik7YT1pZShhLG4pO2plKHRoaXMsZyxrLGwsYSk7UmQoYSxiLGMsZCxlKTsoYj0oYj1UYShJKHRoaXMubmEsZiksZnVuY3Rpb24oYSl7dmFyIGI7aWYoYj1hLmooKSYmYS5qKCkuZGVmYXVsdFZpZXcoKSliPWEuaigpLmRlZmF1bHRWaWV3KCkuc2I7aWYoYilyZXR1cm4hMH0sITApKXx8bnVsbD09PXRoaXMudSYmIVModGhpcy5nLGYpLmYoKSkmJlVkKGEpfWEuSGIoKX07XG5mdW5jdGlvbiBrZShhLGIsYyxkLGUpe3ZhciBmPWEuZ2V0KGIpLGc7aWYoZz1mKXtnPSExO2Zvcih2YXIgaz1mLnBhLmxlbmd0aC0xOzA8PWs7ay0tKXt2YXIgbD1mLnBhW2tdO2lmKCEoYyYmbC50eXBlIT09Y3x8ZCYmbC5hYSE9PWR8fGUmJmwuWSE9PWUpJiYoZi5wYS5zcGxpY2UoaywxKSxnPSEwLGMmJmQpKWJyZWFrfX0oYz1nJiYhKDA8Zi5wYS5sZW5ndGgpKSYmYS5yZW1vdmUoYik7cmV0dXJuIGN9ZnVuY3Rpb24gbGUoYSxiLGMsZCxlKXtiPWI/Yi5SYSgpOm51bGw7dmFyIGY9W107YiYmXCJkZWZhdWx0XCIhPT1iP2tlKGEsYixjLGQsZSkmJmYucHVzaChiKTpzYihhLmtleXMoKSxmdW5jdGlvbihiKXtrZShhLGIsYyxkLGUpJiZmLnB1c2goYil9KTtyZXR1cm4gZn1oZS5wcm90b3R5cGUubGM9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9SSh0aGlzLm5hLGEucGF0aCkuaigpO3JldHVybiBudWxsPT09ZT9udWxsOm1lKHRoaXMsZSxhLGIsYyxkKX07XG5mdW5jdGlvbiBtZShhLGIsYyxkLGUsZil7dmFyIGc9Yi5wYXRoKCksZz1JKGEubmEsZyk7Yz1sZShiLGMsZCxlLGYpO2IuZigpJiZKKGcsbnVsbCk7ZD1uZShnKTtpZigwPGMubGVuZ3RoJiYhZCl7ZD1nO2U9Zy5wYXJlbnQoKTtmb3IoYz0hMTshYyYmZTspe2lmKGY9ZS5qKCkpe3YoIWRlKGYpKTt2YXIgaz1kLm5hbWUoKSxsPSExO1IoZixmdW5jdGlvbihhLGIpe2w9Yi5FYyhrKXx8bH0pO2wmJihjPSEwKX1kPWU7ZT1lLnBhcmVudCgpfWQ9bnVsbDtkZShiKXx8KGI9YmUoYiksZD1vZShhLGcpLGImJmIoKSk7cmV0dXJuIGM/bnVsbDpkfXJldHVybiBudWxsfWZ1bmN0aW9uIHBlKGEsYixjKXtTYShJKGEubmEsYiksZnVuY3Rpb24oYSl7KGE9YS5qKCkpJiZSKGEsZnVuY3Rpb24oYSxiKXtVZChiKX0pfSxjLCEwKX1cbmZ1bmN0aW9uIFcoYSxiLGMpe2Z1bmN0aW9uIGQoYSl7ZG97aWYoZ1thLnRvU3RyaW5nKCldKXJldHVybiEwO2E9YS5wYXJlbnQoKX13aGlsZShudWxsIT09YSk7cmV0dXJuITF9dmFyIGU9YS5iYyxmPWEuZy4kO2EuYmM9Zjtmb3IodmFyIGc9e30saz0wO2s8Yy5sZW5ndGg7aysrKWdbY1trXS50b1N0cmluZygpXT0hMDtYZChlLGYsYixhLm5hLGZ1bmN0aW9uKGMsZSxmKXtpZihiLmNvbnRhaW5zKGMpKXt2YXIgZz1kKGMpO2cmJnBlKGEsYywhMSk7YS5pYyhjLGUsZik7ZyYmcGUoYSxjLCEwKX1lbHNlIGEuaWMoYyxlLGYpfSk7ZChiKSYmcGUoYSxiLCEwKTtxZShhLGIpfWZ1bmN0aW9uIHFlKGEsYil7dmFyIGM9SShhLm5hLGIpO1NhKGMsZnVuY3Rpb24oYSl7KGE9YS5qKCkpJiZSKGEsZnVuY3Rpb24oYSxiKXtiLkhiKCl9KX0sITAsITApO1RhKGMsZnVuY3Rpb24oYSl7KGE9YS5qKCkpJiZSKGEsZnVuY3Rpb24oYSxiKXtiLkhiKCl9KX0sITEpfVxuaGUucHJvdG90eXBlLmljPWZ1bmN0aW9uKGEsYixjKXthPUkodGhpcy5uYSxhKS5qKCk7bnVsbCE9PWEmJlIoYSxmdW5jdGlvbihhLGUpe2UuaWMoYixjKX0pfTtmdW5jdGlvbiBuZShhKXtyZXR1cm4gVGEoYSxmdW5jdGlvbihhKXtyZXR1cm4gYS5qKCkmJmRlKGEuaigpKX0pfWZ1bmN0aW9uIGplKGEsYixjLGQsZSl7aWYoZGUoYyl8fG5lKGIpKWFlKGMsZCxlKTtlbHNle3ZhciBmLGc7Yy5mKCl8fChmPWMudG9TdHJpbmcoKSxnPWMuZ2IoKSk7YWUoYyxkLGUpO2Muc2V0QWN0aXZlKHJlKGEsYykpO2YmJmcmJnFkKGEudSxjLnBhdGgoKSxmLGcpfWRlKGMpJiZTYShiLGZ1bmN0aW9uKGEpe2lmKGE9YS5qKCkpYS54YSYmYS54YSgpLGEueGE9bnVsbH0pfVxuZnVuY3Rpb24gb2UoYSxiKXtmdW5jdGlvbiBjKGIpe3ZhciBmPWIuaigpO2lmKGYmJmNlKGYpKWQucHVzaChmLnBhdGgoKSksbnVsbD09Zi54YSYmZi5zZXRBY3RpdmUocmUoYSxmKSk7ZWxzZXtpZihmKXtudWxsIT1mLnhhfHxmLnNldEFjdGl2ZShyZShhLGYpKTt2YXIgZz17fTtSKGYsZnVuY3Rpb24oYSxiKXtiLmkuQShmdW5jdGlvbihhKXtBKGcsYSl8fChnW2FdPSEwLGE9Zi5wYXRoKCkuRyhhKSxkLnB1c2goYSkpfSl9KX1iLkEoYyl9fXZhciBkPVtdO2MoYik7cmV0dXJuIGR9XG5mdW5jdGlvbiByZShhLGIpe2lmKGEudSl7dmFyIGM9YS51LGQ9Yi5wYXRoKCksZT1iLnRvU3RyaW5nKCksZj1iLmdiKCksZyxrPWIua2V5cygpLGw9Y2UoYik7bWQoYS51LGIsZnVuY3Rpb24oYyl7XCJva1wiIT09Yz8oYz1aYihjKSxMKFwib24oKSBvciBvbmNlKCkgZm9yIFwiK2IucGF0aCgpLnRvU3RyaW5nKCkrXCIgZmFpbGVkOiBcIitjLnRvU3RyaW5nKCkpLHNlKGEsYixjKSk6Z3x8KGw/cGUoYSxiLnBhdGgoKSwhMCk6c2IoayxmdW5jdGlvbihhKXsoYT1iLmdldChhKSkmJlVkKGEpfSkscWUoYSxiLnBhdGgoKSkpfSk7cmV0dXJuIGZ1bmN0aW9uKCl7Zz0hMDtxZChjLGQsZSxmKX19cmV0dXJuIGJhfWZ1bmN0aW9uIHNlKGEsYixjKXtiJiYoUihiLGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBmPTA7ZjxiLnBhLmxlbmd0aDtmKyspe3ZhciBnPWIucGFbZl07Zy5jYW5jZWwmJlhiKGcuY2FuY2VsLGcuWSkoYyl9fSksbWUoYSxiKSl9XG5mdW5jdGlvbiBpZShhLGIpe3JldHVyblwiZGVmYXVsdFwiPT09YS5SYSgpP25ldyBWZChhLGIpOm5ldyBlZShhLGIpfWhlLnByb3RvdHlwZS5wYj1mdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBlKGEpe1diKGEsZnVuY3Rpb24oYSxiKXtmW2JdPTM9PT1hPzM6KHdhKGYsYil8fGEpPT09YT9hOjN9KX12YXIgZj17fTtSKGIsZnVuY3Rpb24oYixmKXtlKGYucGIoYSxjLGQpKX0pO2MuTygpfHxjLkEoZnVuY3Rpb24oYSl7QShmLGEpfHwoZlthXT00KX0pO3JldHVybiBmfTtmdW5jdGlvbiB0ZShhLGIsYyxkLGUpe3ZhciBmPWIucGF0aCgpO2I9YS5wYihmLGIsZCxlKTt2YXIgZz1NLGs9W107V2IoYixmdW5jdGlvbihiLG4pe3ZhciByPW5ldyBGKG4pOzM9PT1ifHwxPT09Yj9nPWcuSChuLGQuSyhyKSk6KDI9PT1iJiZrLnB1c2goe3BhdGg6Zi5HKG4pLHJhOk19KSxrPWsuY29uY2F0KHVlKGEsZC5LKHIpLEkoYyxyKSxlKSkpfSk7cmV0dXJuW3twYXRoOmYscmE6Z31dLmNvbmNhdChrKX1cbmZ1bmN0aW9uIHZlKGEsYixjLGQpe3ZhciBlO2E6e3ZhciBmPUkoYS5uYSxiKTtlPWYucGFyZW50KCk7Zm9yKHZhciBnPVtdO251bGwhPT1lOyl7dmFyIGs9ZS5qKCk7aWYobnVsbCE9PWspe2lmKGNlKGspKXtlPVt7cGF0aDpiLHJhOmN9XTticmVhayBhfWs9YS5wYihiLGssYyxkKTtmPXdhKGssZi5uYW1lKCkpO2lmKDM9PT1mfHwxPT09Zil7ZT1be3BhdGg6YixyYTpjfV07YnJlYWsgYX0yPT09ZiYmZy5wdXNoKHtwYXRoOmIscmE6TX0pfWY9ZTtlPWUucGFyZW50KCl9ZT1nfWlmKDE9PWUubGVuZ3RoJiYoIWVbMF0ucmEuZigpfHxjLmYoKSkpcmV0dXJuIGU7Zz1JKGEubmEsYik7Zj1nLmooKTtudWxsIT09Zj9jZShmKT9lLnB1c2goe3BhdGg6YixyYTpjfSk6ZT1lLmNvbmNhdCh0ZShhLGYsZyxjLGQpKTplPWUuY29uY2F0KHVlKGEsYyxnLGQpKTtyZXR1cm4gZX1cbmZ1bmN0aW9uIHVlKGEsYixjLGQpe3ZhciBlPWMuaigpO2lmKG51bGwhPT1lKXJldHVybiBjZShlKT9be3BhdGg6Yy5wYXRoKCkscmE6Yn1dOnRlKGEsZSxjLGIsZCk7dmFyIGY9W107Yy5BKGZ1bmN0aW9uKGMpe3ZhciBlPWIuTygpP006Yi5OKGMubmFtZSgpKTtjPXVlKGEsZSxjLGQpO2Y9Zi5jb25jYXQoYyl9KTtyZXR1cm4gZn07ZnVuY3Rpb24gd2UoYSl7dGhpcy5NPWE7dGhpcy5lYT16YyhhKTt0aGlzLnU9bmV3IGlkKHRoaXMuTSxxKHRoaXMuZWMsdGhpcykscSh0aGlzLmNjLHRoaXMpLHEodGhpcy55Yix0aGlzKSxxKHRoaXMuTWMsdGhpcykscSh0aGlzLkRjLHRoaXMpKTt0aGlzLnhkPUFjKGEscShmdW5jdGlvbigpe3JldHVybiBuZXcgd2ModGhpcy5lYSx0aGlzLnUpfSx0aGlzKSk7dGhpcy5VYT1uZXcgUWE7dGhpcy5HYT1uZXcgRWQ7dGhpcy5nPW5ldyBGZDt0aGlzLkk9bmV3IGhlKHRoaXMudSx0aGlzLmcub2EpO3RoaXMuRmM9bmV3IEVkO3RoaXMuR2M9bmV3IGhlKG51bGwsdGhpcy5GYyk7eGUodGhpcyxcImNvbm5lY3RlZFwiLCExKTt4ZSh0aGlzLFwiYXV0aGVudGljYXRlZFwiLCExKTt0aGlzLlM9bmV3IEFkO3RoaXMuU2I9MH1oPXdlLnByb3RvdHlwZTtoLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuTS5uYz9cImh0dHBzOi8vXCI6XCJodHRwOi8vXCIpK3RoaXMuTS5ob3N0fTtoLm5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5NLlpifTtcbmZ1bmN0aW9uIHllKGEpe2E9UyhhLkZjLG5ldyBGKFwiLmluZm8vc2VydmVyVGltZU9mZnNldFwiKSkuVigpfHwwO3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpK2F9ZnVuY3Rpb24gemUoYSl7YT1hPXt0aW1lc3RhbXA6eWUoYSl9O2EudGltZXN0YW1wPWEudGltZXN0YW1wfHwobmV3IERhdGUpLmdldFRpbWUoKTtyZXR1cm4gYX1cbmguZWM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuU2IrKzt0aGlzLmpkJiYoYj10aGlzLmpkKGEsYikpO3ZhciBkLGUsZj1bXTs5PD1hLmxlbmd0aCYmYS5sYXN0SW5kZXhPZihcIi5wcmlvcml0eVwiKT09PWEubGVuZ3RoLTk/KGQ9bmV3IEYoYS5zdWJzdHJpbmcoMCxhLmxlbmd0aC05KSksZT1TKHRoaXMuZy50YSxkKS5IYShiKSxmLnB1c2goZCkpOmM/KGQ9bmV3IEYoYSksZT1TKHRoaXMuZy50YSxkKSxXYihiLGZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IEYoYik7XCIucHJpb3JpdHlcIj09PWI/ZT1lLkhhKGEpOihlPWUueWEoYyxPKGEpKSxmLnB1c2goZC5HKGIpKSl9KSk6KGQ9bmV3IEYoYSksZT1PKGIpLGYucHVzaChkKSk7YT12ZSh0aGlzLkksZCxlLHRoaXMuZy5MKTtiPSExO2ZvcihjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBnPWFbY107Yj1HZCh0aGlzLmcsZy5wYXRoLGcucmEpfHxifWImJihkPUFlKHRoaXMsZCkpO1codGhpcy5JLGQsZil9O1xuaC5jYz1mdW5jdGlvbihhKXt4ZSh0aGlzLFwiY29ubmVjdGVkXCIsYSk7ITE9PT1hJiZCZSh0aGlzKX07aC5NYz1mdW5jdGlvbihhKXt2YXIgYj10aGlzO1ZiKGEsZnVuY3Rpb24oYSxkKXt4ZShiLGQsYSl9KX07aC5EYz1mdW5jdGlvbihhKXthPW5ldyBGKGEpO3JldHVybiBTKHRoaXMuZy50YSxhKS5oYXNoKCl9O2gueWI9ZnVuY3Rpb24oYSl7eGUodGhpcyxcImF1dGhlbnRpY2F0ZWRcIixhKX07ZnVuY3Rpb24geGUoYSxiLGMpe2I9bmV3IEYoXCIvLmluZm8vXCIrYik7VChhLkZjLGIsTyhjKSk7VyhhLkdjLGIsW2JdKX1cbmgubGI9ZnVuY3Rpb24oYSxiLGMpe1wiZmlyZWJhc2Vpby1kZW1vLmNvbVwiPT09dGhpcy5NLmRvbWFpbiYmTChcIkZpcmViYXNlUmVmLmF1dGgoKSBub3Qgc3VwcG9ydGVkIG9uIGRlbW8gKCouZmlyZWJhc2Vpby1kZW1vLmNvbSkgRmlyZWJhc2VzLiBQbGVhc2UgdXNlIG9uIHByb2R1Y3Rpb24gKCouZmlyZWJhc2Vpby5jb20pIEZpcmViYXNlcyBvbmx5LlwiKTt0aGlzLnUubGIoYSxmdW5jdGlvbihhLGMpe1goYixhLGMpfSxmdW5jdGlvbihhLGIpe0woXCJhdXRoKCkgd2FzIGNhbmNlbGVkOiBcIitiKTtpZihjKXt2YXIgZj1FcnJvcihiKTtmLmNvZGU9YS50b1VwcGVyQ2FzZSgpO2MoZil9fSl9O2guT2I9ZnVuY3Rpb24oYSl7dGhpcy51Lk9iKGZ1bmN0aW9uKGIsYyl7WChhLGIsYyl9KX07XG5oLmpiPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuZShcInNldFwiLHtwYXRoOmEudG9TdHJpbmcoKSx2YWx1ZTpiLGphOmN9KTt2YXIgZT16ZSh0aGlzKTtiPU8oYixjKTt2YXIgZT1NZChiLGUpLGU9dmUodGhpcy5JLGEsZSx0aGlzLmcuTCksZj10aGlzLmcuc2V0KGEsZSksZz10aGlzO3RoaXMudS5wdXQoYS50b1N0cmluZygpLGIuVighMCksZnVuY3Rpb24oYixjKXtcIm9rXCIhPT1iJiZMKFwic2V0IGF0IFwiK2ErXCIgZmFpbGVkOiBcIitiKTtKZChnLmcsZik7SGQoZy5nLGEpO3ZhciBlPUFlKGcsYSk7VyhnLkksZSxbXSk7WChkLGIsYyl9KTtlPUNlKHRoaXMsYSk7QWUodGhpcyxlKTtXKHRoaXMuSSxlLFthXSl9O1xuaC51cGRhdGU9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuZShcInVwZGF0ZVwiLHtwYXRoOmEudG9TdHJpbmcoKSx2YWx1ZTpifSk7dmFyIGQ9Uyh0aGlzLmcub2EsYSksZT0hMCxmPVtdLGc9emUodGhpcyksaz1bXSxsO2ZvcihsIGluIGIpe3ZhciBlPSExLG49TyhiW2xdKSxuPU1kKG4sZyksZD1kLkgobCxuKSxyPWEuRyhsKTtmLnB1c2gocik7bj12ZSh0aGlzLkkscixuLHRoaXMuZy5MKTtrPWsuY29uY2F0KHRoaXMuZy5zZXQoYSxuKSl9aWYoZSlLKFwidXBkYXRlKCkgY2FsbGVkIHdpdGggZW1wdHkgZGF0YS4gIERvbid0IGRvIGFueXRoaW5nLlwiKSxYKGMsXCJva1wiKTtlbHNle3ZhciB0PXRoaXM7d2QodGhpcy51LGEudG9TdHJpbmcoKSxiLGZ1bmN0aW9uKGIsZCl7XCJva1wiIT09YiYmTChcInVwZGF0ZSBhdCBcIithK1wiIGZhaWxlZDogXCIrYik7SmQodC5nLGspO0hkKHQuZyxhKTt2YXIgZT1BZSh0LGEpO1codC5JLGUsW10pO1goYyxiLGQpfSk7Yj1DZSh0aGlzLGEpO0FlKHRoaXMsYik7Vyh0LkksXG5iLGYpfX07aC5TYz1mdW5jdGlvbihhLGIsYyl7dGhpcy5lKFwic2V0UHJpb3JpdHlcIix7cGF0aDphLnRvU3RyaW5nKCksamE6Yn0pO3ZhciBkPXplKHRoaXMpLGQ9S2QoYixkKSxkPVModGhpcy5nLkwsYSkuSGEoZCksZD12ZSh0aGlzLkksYSxkLHRoaXMuZy5MKSxlPXRoaXMuZy5zZXQoYSxkKSxmPXRoaXM7dGhpcy51LnB1dChhLnRvU3RyaW5nKCkrXCIvLnByaW9yaXR5XCIsYixmdW5jdGlvbihiLGQpe1wicGVybWlzc2lvbl9kZW5pZWRcIj09PWImJkwoXCJzZXRQcmlvcml0eSBhdCBcIithK1wiIGZhaWxlZDogXCIrYik7SmQoZi5nLGUpO0hkKGYuZyxhKTt2YXIgbD1BZShmLGEpO1coZi5JLGwsW10pO1goYyxiLGQpfSk7Yj1BZSh0aGlzLGEpO1coZi5JLGIsW10pfTtcbmZ1bmN0aW9uIEJlKGEpe2EuZShcIm9uRGlzY29ubmVjdEV2ZW50c1wiKTt2YXIgYj1bXSxjPXplKGEpO0RkKExkKGEuUyxjKSxuZXcgRihcIlwiKSxmdW5jdGlvbihjLGUpe3ZhciBmPXZlKGEuSSxjLGUsYS5nLkwpO2IucHVzaC5hcHBseShiLGEuZy5zZXQoYyxmKSk7Zj1DZShhLGMpO0FlKGEsZik7VyhhLkksZixbY10pfSk7SmQoYS5nLGIpO2EuUz1uZXcgQWR9aC5KYz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7dGhpcy51LkpjKGEudG9TdHJpbmcoKSxmdW5jdGlvbihkLGUpe1wib2tcIj09PWQmJkNkKGMuUyxhKTtYKGIsZCxlKX0pfTtmdW5jdGlvbiBEZShhLGIsYyxkKXt2YXIgZT1PKGMpO3NkKGEudSxiLnRvU3RyaW5nKCksZS5WKCEwKSxmdW5jdGlvbihjLGcpe1wib2tcIj09PWMmJkJkKGEuUyxiLGUpO1goZCxjLGcpfSl9XG5mdW5jdGlvbiBFZShhLGIsYyxkLGUpe3ZhciBmPU8oYyxkKTtzZChhLnUsYi50b1N0cmluZygpLGYuVighMCksZnVuY3Rpb24oYyxkKXtcIm9rXCI9PT1jJiZCZChhLlMsYixmKTtYKGUsYyxkKX0pfWZ1bmN0aW9uIEZlKGEsYixjLGQpe3ZhciBlPSEwLGY7Zm9yKGYgaW4gYyllPSExO2U/KEsoXCJvbkRpc2Nvbm5lY3QoKS51cGRhdGUoKSBjYWxsZWQgd2l0aCBlbXB0eSBkYXRhLiAgRG9uJ3QgZG8gYW55dGhpbmcuXCIpLFgoZCxcIm9rXCIpKTp1ZChhLnUsYi50b1N0cmluZygpLGMsZnVuY3Rpb24oZSxmKXtpZihcIm9rXCI9PT1lKWZvcih2YXIgbCBpbiBjKXt2YXIgbj1PKGNbbF0pO0JkKGEuUyxiLkcobCksbil9WChkLGUsZil9KX1mdW5jdGlvbiBHZShhKXt1YyhhLmVhLFwiZGVwcmVjYXRlZF9vbl9kaXNjb25uZWN0XCIpO2EueGQuVmMuZGVwcmVjYXRlZF9vbl9kaXNjb25uZWN0PSEwfVxuaC5RYj1mdW5jdGlvbihhLGIsYyxkLGUpe1wiLmluZm9cIj09PUMoYS5wYXRoKT90aGlzLkdjLlFiKGEsYixjLGQsZSk6dGhpcy5JLlFiKGEsYixjLGQsZSl9O2gubGM9ZnVuY3Rpb24oYSxiLGMsZCl7aWYoXCIuaW5mb1wiPT09QyhhLnBhdGgpKXRoaXMuR2MubGMoYSxiLGMsZCk7ZWxzZXtiPXRoaXMuSS5sYyhhLGIsYyxkKTtpZihjPW51bGwhPT1iKXtjPXRoaXMuZztkPWEucGF0aDtmb3IodmFyIGU9W10sZj0wO2Y8Yi5sZW5ndGg7KytmKWVbZl09UyhjLnRhLGJbZl0pO1QoYy50YSxkLE0pO2ZvcihmPTA7ZjxiLmxlbmd0aDsrK2YpVChjLnRhLGJbZl0sZVtmXSk7Yz1IZChjLGQpfWMmJih2KHRoaXMuZy5vYS4kPT09dGhpcy5JLmJjLFwiV2Ugc2hvdWxkIGhhdmUgcmFpc2VkIGFueSBvdXRzdGFuZGluZyBldmVudHMgYnkgbm93LiAgRWxzZSwgd2UnbGwgYmxvdyB0aGVtIGF3YXkuXCIpLFQodGhpcy5nLm9hLGEucGF0aCxTKHRoaXMuZy5MLGEucGF0aCkpLHRoaXMuSS5iYz10aGlzLmcub2EuJCl9fTtcbmguTWE9ZnVuY3Rpb24oKXt0aGlzLnUuTWEoKX07aC5pYj1mdW5jdGlvbigpe3RoaXMudS5pYigpfTtoLlRjPWZ1bmN0aW9uKGEpe2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgY29uc29sZSl7YT8odGhpcy5xY3x8KHRoaXMucWM9bmV3IHZjKHRoaXMuZWEpKSxhPXRoaXMucWMuZ2V0KCkpOmE9dGhpcy5lYS5nZXQoKTt2YXIgYj11YihyYyhhKSxmdW5jdGlvbihhLGIpe3JldHVybiBNYXRoLm1heChiLmxlbmd0aCxhKX0sMCksYztmb3IoYyBpbiBhKXtmb3IodmFyIGQ9YVtjXSxlPWMubGVuZ3RoO2U8YisyO2UrKyljKz1cIiBcIjtjb25zb2xlLmxvZyhjK2QpfX19O2guVWM9ZnVuY3Rpb24oYSl7dWModGhpcy5lYSxhKTt0aGlzLnhkLlZjW2FdPSEwfTtoLmU9ZnVuY3Rpb24oKXtLKFwicjpcIit0aGlzLnUuaWQrXCI6XCIsYXJndW1lbnRzKX07XG5mdW5jdGlvbiBYKGEsYixjKXthJiZhYyhmdW5jdGlvbigpe2lmKFwib2tcIj09YilhKG51bGwsYyk7ZWxzZXt2YXIgZD0oYnx8XCJlcnJvclwiKS50b1VwcGVyQ2FzZSgpLGU9ZDtjJiYoZSs9XCI6IFwiK2MpO2U9RXJyb3IoZSk7ZS5jb2RlPWQ7YShlKX19KX07ZnVuY3Rpb24gSGUoYSxiLGMsZCxlKXtmdW5jdGlvbiBmKCl7fWEuZShcInRyYW5zYWN0aW9uIG9uIFwiK2IpO3ZhciBnPW5ldyBFKGEsYik7Zy5lYihcInZhbHVlXCIsZik7Yz17cGF0aDpiLHVwZGF0ZTpjLEQ6ZCxzdGF0dXM6bnVsbCxuZDpIYigpLHZjOmUsc2Q6MCxzYzpmdW5jdGlvbigpe2cueGIoXCJ2YWx1ZVwiLGYpfSx0YzpudWxsfTthLkdhLiQ9SWUoYSxhLkdhLiQsYS5nLkwuJCxhLlVhKTtkPWMudXBkYXRlKFMoYS5HYSxiKS5WKCkpO2lmKG0oZCkpe0JhKFwidHJhbnNhY3Rpb24gZmFpbGVkOiBEYXRhIHJldHVybmVkIFwiLGQpO2Muc3RhdHVzPTE7ZT1JKGEuVWEsYik7dmFyIGs9ZS5qKCl8fFtdO2sucHVzaChjKTtKKGUsayk7az1cIm9iamVjdFwiPT09dHlwZW9mIGQmJm51bGwhPT1kJiZBKGQsXCIucHJpb3JpdHlcIik/ZFtcIi5wcmlvcml0eVwiXTpTKGEuZy5MLGIpLmsoKTtlPXplKGEpO2Q9TyhkLGspO2Q9TWQoZCxlKTtUKGEuR2EsYixkKTtjLnZjJiYoVChhLmcub2EsYixkKSxXKGEuSSxcbmIsW2JdKSk7SmUoYSl9ZWxzZSBjLnNjKCksYy5EJiYoYT1LZShhLGIpLGMuRChudWxsLCExLGEpKX1mdW5jdGlvbiBKZShhLGIpe3ZhciBjPWJ8fGEuVWE7Ynx8TGUoYSxjKTtpZihudWxsIT09Yy5qKCkpe3ZhciBkPU1lKGEsYyk7digwPGQubGVuZ3RoKTt2YihkLGZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5zdGF0dXN9KSYmTmUoYSxjLnBhdGgoKSxkKX1lbHNlIGMucmIoKSYmYy5BKGZ1bmN0aW9uKGIpe0plKGEsYil9KX1cbmZ1bmN0aW9uIE5lKGEsYixjKXtmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyl2KDE9PT1jW2RdLnN0YXR1cyxcInRyeVRvU2VuZFRyYW5zYWN0aW9uUXVldWVfOiBpdGVtcyBpbiBxdWV1ZSBzaG91bGQgYWxsIGJlIHJ1bi5cIiksY1tkXS5zdGF0dXM9MixjW2RdLnNkKys7dmFyIGU9UyhhLmcuTCxiKS5oYXNoKCk7VChhLmcuTCxiLFMoYS5nLm9hLGIpKTtmb3IodmFyIGY9UyhhLkdhLGIpLlYoITApLGc9SGIoKSxrPU9lKGMpLGQ9MDtkPGsubGVuZ3RoO2QrKylKKEkoYS5nLkViLGtbZF0pLGcpO2EudS5wdXQoYi50b1N0cmluZygpLGYsZnVuY3Rpb24oZSl7YS5lKFwidHJhbnNhY3Rpb24gcHV0IHJlc3BvbnNlXCIse3BhdGg6Yi50b1N0cmluZygpLHN0YXR1czplfSk7Zm9yKGQ9MDtkPGsubGVuZ3RoO2QrKyl7dmFyIGY9SShhLmcuRWIsa1tkXSkscj1mLmooKTt2KG51bGwhPT1yLFwic2VuZFRyYW5zYWN0aW9uUXVldWVfOiBwZW5kaW5nUHV0IHNob3VsZCBub3QgYmUgbnVsbC5cIik7cj09PVxuZyYmKEooZixudWxsKSxUKGEuZy5MLGtbZF0sUyhhLmcudGEsa1tkXSkpKX1pZihcIm9rXCI9PT1lKXtlPVtdO2ZvcihkPTA7ZDxjLmxlbmd0aDtkKyspY1tkXS5zdGF0dXM9MyxjW2RdLkQmJihmPUtlKGEsY1tkXS5wYXRoKSxlLnB1c2gocShjW2RdLkQsbnVsbCxudWxsLCEwLGYpKSksY1tkXS5zYygpO0xlKGEsSShhLlVhLGIpKTtKZShhKTtmb3IoZD0wO2Q8ZS5sZW5ndGg7ZCsrKWFjKGVbZF0pfWVsc2V7aWYoXCJkYXRhc3RhbGVcIj09PWUpZm9yKGQ9MDtkPGMubGVuZ3RoO2QrKyljW2RdLnN0YXR1cz00PT09Y1tkXS5zdGF0dXM/NToxO2Vsc2UgZm9yKEwoXCJ0cmFuc2FjdGlvbiBhdCBcIitiK1wiIGZhaWxlZDogXCIrZSksZD0wO2Q8Yy5sZW5ndGg7ZCsrKWNbZF0uc3RhdHVzPTUsY1tkXS50Yz1lO2U9QWUoYSxiKTtXKGEuSSxlLFtiXSl9fSxlKX1cbmZ1bmN0aW9uIE9lKGEpe2Zvcih2YXIgYj17fSxjPTA7YzxhLmxlbmd0aDtjKyspYVtjXS52YyYmKGJbYVtjXS5wYXRoLnRvU3RyaW5nKCldPWFbY10ucGF0aCk7YT1bXTtmb3IodmFyIGQgaW4gYilhLnB1c2goYltkXSk7cmV0dXJuIGF9XG5mdW5jdGlvbiBBZShhLGIpe3ZhciBjPVBlKGEsYiksZD1jLnBhdGgoKSxjPU1lKGEsYyk7VChhLmcub2EsZCxTKGEuZy5MLGQpKTtUKGEuR2EsZCxTKGEuZy5MLGQpKTtpZigwIT09Yy5sZW5ndGgpe2Zvcih2YXIgZT1TKGEuZy5vYSxkKSxmPWUsZz1bXSxrPTA7azxjLmxlbmd0aDtrKyspe3ZhciBsPU9hKGQsY1trXS5wYXRoKSxuPSExLHI7dihudWxsIT09bCxcInJlcnVuVHJhbnNhY3Rpb25zVW5kZXJOb2RlXzogcmVsYXRpdmVQYXRoIHNob3VsZCBub3QgYmUgbnVsbC5cIik7aWYoNT09PWNba10uc3RhdHVzKW49ITAscj1jW2tdLnRjO2Vsc2UgaWYoMT09PWNba10uc3RhdHVzKWlmKDI1PD1jW2tdLnNkKW49ITAscj1cIm1heHJldHJ5XCI7ZWxzZXt2YXIgdD1lLksobCkscz1jW2tdLnVwZGF0ZSh0LlYoKSk7aWYobShzKSl7QmEoXCJ0cmFuc2FjdGlvbiBmYWlsZWQ6IERhdGEgcmV0dXJuZWQgXCIscyk7dmFyIHc9TyhzKTtcIm9iamVjdFwiPT09dHlwZW9mIHMmJm51bGwhPXMmJkEocyxcIi5wcmlvcml0eVwiKXx8XG4odz13LkhhKHQuaygpKSk7ZT1lLnlhKGwsdyk7Y1trXS52YyYmKGY9Zi55YShsLHcpKX1lbHNlIG49ITAscj1cIm5vZGF0YVwifW4mJihjW2tdLnN0YXR1cz0zLHNldFRpbWVvdXQoY1trXS5zYyxNYXRoLmZsb29yKDApKSxjW2tdLkQmJihuPW5ldyBFKGEsY1trXS5wYXRoKSxsPW5ldyBQKGUuSyhsKSxuKSxcIm5vZGF0YVwiPT09cj9nLnB1c2gocShjW2tdLkQsbnVsbCxudWxsLCExLGwpKTpnLnB1c2gocShjW2tdLkQsbnVsbCxFcnJvcihyKSwhMSxsKSkpKX1UKGEuR2EsZCxlKTtUKGEuZy5vYSxkLGYpO0xlKGEsYS5VYSk7Zm9yKGs9MDtrPGcubGVuZ3RoO2srKylhYyhnW2tdKTtKZShhKX1yZXR1cm4gZH1mdW5jdGlvbiBQZShhLGIpe2Zvcih2YXIgYyxkPWEuVWE7bnVsbCE9PShjPUMoYikpJiZudWxsPT09ZC5qKCk7KWQ9SShkLGMpLGI9TWEoYik7cmV0dXJuIGR9XG5mdW5jdGlvbiBNZShhLGIpe3ZhciBjPVtdO1FlKGEsYixjKTtjLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5uZC1iLm5kfSk7cmV0dXJuIGN9ZnVuY3Rpb24gUWUoYSxiLGMpe3ZhciBkPWIuaigpO2lmKG51bGwhPT1kKWZvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKWMucHVzaChkW2VdKTtiLkEoZnVuY3Rpb24oYil7UWUoYSxiLGMpfSl9ZnVuY3Rpb24gTGUoYSxiKXt2YXIgYz1iLmooKTtpZihjKXtmb3IodmFyIGQ9MCxlPTA7ZTxjLmxlbmd0aDtlKyspMyE9PWNbZV0uc3RhdHVzJiYoY1tkXT1jW2VdLGQrKyk7Yy5sZW5ndGg9ZDtKKGIsMDxjLmxlbmd0aD9jOm51bGwpfWIuQShmdW5jdGlvbihiKXtMZShhLGIpfSl9ZnVuY3Rpb24gQ2UoYSxiKXt2YXIgYz1QZShhLGIpLnBhdGgoKSxkPUkoYS5VYSxiKTtUYShkLGZ1bmN0aW9uKGEpe1JlKGEpfSk7UmUoZCk7U2EoZCxmdW5jdGlvbihhKXtSZShhKX0pO3JldHVybiBjfVxuZnVuY3Rpb24gUmUoYSl7dmFyIGI9YS5qKCk7aWYobnVsbCE9PWIpe2Zvcih2YXIgYz1bXSxkPS0xLGU9MDtlPGIubGVuZ3RoO2UrKyk0IT09YltlXS5zdGF0dXMmJigyPT09YltlXS5zdGF0dXM/KHYoZD09PWUtMSxcIkFsbCBTRU5UIGl0ZW1zIHNob3VsZCBiZSBhdCBiZWdpbm5pbmcgb2YgcXVldWUuXCIpLGQ9ZSxiW2VdLnN0YXR1cz00LGJbZV0udGM9XCJzZXRcIik6KHYoMT09PWJbZV0uc3RhdHVzKSxiW2VdLnNjKCksYltlXS5EJiZjLnB1c2gocShiW2VdLkQsbnVsbCxFcnJvcihcInNldFwiKSwhMSxudWxsKSkpKTstMT09PWQ/SihhLG51bGwpOmIubGVuZ3RoPWQrMTtmb3IoZT0wO2U8Yy5sZW5ndGg7ZSsrKWFjKGNbZV0pfX1mdW5jdGlvbiBLZShhLGIpe3ZhciBjPW5ldyBFKGEsYik7cmV0dXJuIG5ldyBQKFMoYS5HYSxiKSxjKX1cbmZ1bmN0aW9uIEllKGEsYixjLGQpe2lmKGQuZigpKXJldHVybiBjO2lmKG51bGwhPWQuaigpKXJldHVybiBiO3ZhciBlPWM7ZC5BKGZ1bmN0aW9uKGQpe3ZhciBnPWQubmFtZSgpLGs9bmV3IEYoZyk7ZD1JZShhLGIuSyhrKSxjLksoayksZCk7ZT1lLkgoZyxkKX0pO3JldHVybiBlfTtmdW5jdGlvbiBZKCl7dGhpcy5oYj17fX1jYShZKTtZLnByb3RvdHlwZS5NYT1mdW5jdGlvbigpe2Zvcih2YXIgYSBpbiB0aGlzLmhiKXRoaXMuaGJbYV0uTWEoKX07WS5wcm90b3R5cGUuaW50ZXJydXB0PVkucHJvdG90eXBlLk1hO1kucHJvdG90eXBlLmliPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuaGIpdGhpcy5oYlthXS5pYigpfTtZLnByb3RvdHlwZS5yZXN1bWU9WS5wcm90b3R5cGUuaWI7dmFyIFo9e0tkOmZ1bmN0aW9uKGEpe3ZhciBiPU4ucHJvdG90eXBlLmhhc2g7Ti5wcm90b3R5cGUuaGFzaD1hO3ZhciBjPWJjLnByb3RvdHlwZS5oYXNoO2JjLnByb3RvdHlwZS5oYXNoPWE7cmV0dXJuIGZ1bmN0aW9uKCl7Ti5wcm90b3R5cGUuaGFzaD1iO2JjLnByb3RvdHlwZS5oYXNoPWN9fX07Wi5oaWphY2tIYXNoPVouS2Q7Wi5SYT1mdW5jdGlvbihhKXtyZXR1cm4gYS5SYSgpfTtaLnF1ZXJ5SWRlbnRpZmllcj1aLlJhO1ouTmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEubS51LmhhfTtaLmxpc3RlbnM9Wi5OZDtaLlZkPWZ1bmN0aW9uKGEpe3JldHVybiBhLm0udS5rYX07Wi5yZWZDb25uZWN0aW9uPVouVmQ7Wi5BZD1pZDtaLkRhdGFDb25uZWN0aW9uPVouQWQ7aWQucHJvdG90eXBlLnNlbmRSZXF1ZXN0PWlkLnByb3RvdHlwZS5GYTtpZC5wcm90b3R5cGUuaW50ZXJydXB0PWlkLnByb3RvdHlwZS5NYTtaLkJkPVhjO1ouUmVhbFRpbWVDb25uZWN0aW9uPVouQmQ7XG5YYy5wcm90b3R5cGUuc2VuZFJlcXVlc3Q9WGMucHJvdG90eXBlLnVkO1hjLnByb3RvdHlwZS5jbG9zZT1YYy5wcm90b3R5cGUuY2xvc2U7Wi56ZD1wYjtaLkNvbm5lY3Rpb25UYXJnZXQ9Wi56ZDtaLklkPWZ1bmN0aW9uKCl7S2M9Q2M9ITB9O1ouZm9yY2VMb25nUG9sbGluZz1aLklkO1ouSmQ9ZnVuY3Rpb24oKXtMYz0hMH07Wi5mb3JjZVdlYlNvY2tldHM9Wi5KZDtaLmFlPWZ1bmN0aW9uKGEsYil7YS5tLnUuUmM9Yn07Wi5zZXRTZWN1cml0eURlYnVnQ2FsbGJhY2s9Wi5hZTtaLlRjPWZ1bmN0aW9uKGEsYil7YS5tLlRjKGIpfTtaLnN0YXRzPVouVGM7Wi5VYz1mdW5jdGlvbihhLGIpe2EubS5VYyhiKX07Wi5zdGF0c0luY3JlbWVudENvdW50ZXI9Wi5VYztaLlNiPWZ1bmN0aW9uKGEpe3JldHVybiBhLm0uU2J9O1ouZGF0YVVwZGF0ZUNvdW50PVouU2I7Wi5MZD1mdW5jdGlvbihhLGIpe2EubS5qZD1ifTtaLmludGVyY2VwdFNlcnZlckRhdGE9Wi5MZDtmdW5jdGlvbiAkKGEsYixjKXt0aGlzLkliPWE7dGhpcy5YPWI7dGhpcy5FYT1jfSQucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbihhKXt4KFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuY2FuY2VsXCIsMCwxLGFyZ3VtZW50cy5sZW5ndGgpO3ooXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5jYW5jZWxcIiwxLGEsITApO3RoaXMuSWIuSmModGhpcy5YLGEpfTskLnByb3RvdHlwZS5jYW5jZWw9JC5wcm90b3R5cGUuY2FuY2VsOyQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihhKXt4KFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkucmVtb3ZlXCIsMCwxLGFyZ3VtZW50cy5sZW5ndGgpO0IoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5yZW1vdmVcIix0aGlzLlgpO3ooXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5yZW1vdmVcIiwxLGEsITApO0RlKHRoaXMuSWIsdGhpcy5YLG51bGwsYSl9OyQucHJvdG90eXBlLnJlbW92ZT0kLnByb3RvdHlwZS5yZW1vdmU7XG4kLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXt4KFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0XCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO0IoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRcIix0aGlzLlgpO0FhKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0XCIsYSwhMSk7eihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFwiLDIsYiwhMCk7RGUodGhpcy5JYix0aGlzLlgsYSxiKX07JC5wcm90b3R5cGUuc2V0PSQucHJvdG90eXBlLnNldDtcbiQucHJvdG90eXBlLmpiPWZ1bmN0aW9uKGEsYixjKXt4KFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0V2l0aFByaW9yaXR5XCIsMiwzLGFyZ3VtZW50cy5sZW5ndGgpO0IoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRXaXRoUHJpb3JpdHlcIix0aGlzLlgpO0FhKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0V2l0aFByaW9yaXR5XCIsYSwhMSk7RmEoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRXaXRoUHJpb3JpdHlcIiwyLGIsITEpO3ooXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRXaXRoUHJpb3JpdHlcIiwzLGMsITApO2lmKFwiLmxlbmd0aFwiPT09dGhpcy5FYXx8XCIua2V5c1wiPT09dGhpcy5FYSl0aHJvd1wiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0V2l0aFByaW9yaXR5IGZhaWxlZDogXCIrdGhpcy5FYStcIiBpcyBhIHJlYWQtb25seSBvYmplY3QuXCI7RWUodGhpcy5JYix0aGlzLlgsYSxiLGMpfTskLnByb3RvdHlwZS5zZXRXaXRoUHJpb3JpdHk9JC5wcm90b3R5cGUuamI7XG4kLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oYSxiKXt4KFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkudXBkYXRlXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO0IoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS51cGRhdGVcIix0aGlzLlgpO2lmKGVhKGEpKXtmb3IodmFyIGM9e30sZD0wO2Q8YS5sZW5ndGg7KytkKWNbXCJcIitkXT1hW2RdO2E9YztMKFwiUGFzc2luZyBhbiBBcnJheSB0byBGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS51cGRhdGUoKSBpcyBkZXByZWNhdGVkLiBVc2Ugc2V0KCkgaWYgeW91IHdhbnQgdG8gb3ZlcndyaXRlIHRoZSBleGlzdGluZyBkYXRhLCBvciBhbiBPYmplY3Qgd2l0aCBpbnRlZ2VyIGtleXMgaWYgeW91IHJlYWxseSBkbyB3YW50IHRvIG9ubHkgdXBkYXRlIHNvbWUgb2YgdGhlIGNoaWxkcmVuLlwiKX1FYShcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnVwZGF0ZVwiLGEpO3ooXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS51cGRhdGVcIiwyLGIsITApO0ZlKHRoaXMuSWIsXG50aGlzLlgsYSxiKX07JC5wcm90b3R5cGUudXBkYXRlPSQucHJvdG90eXBlLnVwZGF0ZTt2YXIgU2U9ZnVuY3Rpb24oKXt2YXIgYT0wLGI9W107cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPWM9PT1hO2E9Yztmb3IodmFyIGU9QXJyYXkoOCksZj03OzA8PWY7Zi0tKWVbZl09XCItMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaX2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIuY2hhckF0KGMlNjQpLGM9TWF0aC5mbG9vcihjLzY0KTt2KDA9PT1jLFwiQ2Fubm90IHB1c2ggYXQgdGltZSA9PSAwXCIpO2M9ZS5qb2luKFwiXCIpO2lmKGQpe2ZvcihmPTExOzA8PWYmJjYzPT09YltmXTtmLS0pYltmXT0wO2JbZl0rK31lbHNlIGZvcihmPTA7MTI+ZjtmKyspYltmXT1NYXRoLmZsb29yKDY0Kk1hdGgucmFuZG9tKCkpO2ZvcihmPTA7MTI+ZjtmKyspYys9XCItMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaX2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIuY2hhckF0KGJbZl0pO3YoMjA9PT1jLmxlbmd0aCxcIk5leHRQdXNoSWQ6IExlbmd0aCBzaG91bGQgYmUgMjAuXCIpO1xucmV0dXJuIGN9fSgpO2Z1bmN0aW9uIEUoYSxiKXt2YXIgYyxkO2lmKGEgaW5zdGFuY2VvZiB3ZSljPWEsZD1iO2Vsc2V7eChcIm5ldyBGaXJlYmFzZVwiLDEsMixhcmd1bWVudHMubGVuZ3RoKTt2YXIgZT1hcmd1bWVudHNbMF07ZD1jPVwiXCI7dmFyIGY9ITAsZz1cIlwiO2lmKHAoZSkpe3ZhciBrPWUuaW5kZXhPZihcIi8vXCIpO2lmKDA8PWspdmFyIGw9ZS5zdWJzdHJpbmcoMCxrLTEpLGU9ZS5zdWJzdHJpbmcoaysyKTtrPWUuaW5kZXhPZihcIi9cIik7LTE9PT1rJiYoaz1lLmxlbmd0aCk7Yz1lLnN1YnN0cmluZygwLGspO3ZhciBlPWUuc3Vic3RyaW5nKGsrMSksbj1jLnNwbGl0KFwiLlwiKTtpZigzPT1uLmxlbmd0aCl7az1uWzJdLmluZGV4T2YoXCI6XCIpO2Y9MDw9az9cImh0dHBzXCI9PT1sfHxcIndzc1wiPT09bDohMDtpZihcImZpcmViYXNlXCI9PT1uWzFdKU9iKGMrXCIgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC4gUGxlYXNlIHVzZSA8WU9VUiBGSVJFQkFTRT4uZmlyZWJhc2Vpby5jb20gaW5zdGVhZFwiKTtlbHNlIGZvcihkPW5bMF0sXG5nPVwiXCIsZT0oXCIvXCIrZSkuc3BsaXQoXCIvXCIpLGs9MDtrPGUubGVuZ3RoO2srKylpZigwPGVba10ubGVuZ3RoKXtuPWVba107dHJ5e249ZGVjb2RlVVJJQ29tcG9uZW50KG4ucmVwbGFjZSgvXFwrL2csXCIgXCIpKX1jYXRjaChyKXt9Zys9XCIvXCIrbn1kPWQudG9Mb3dlckNhc2UoKX1lbHNlIE9iKFwiQ2Fubm90IHBhcnNlIEZpcmViYXNlIHVybC4gUGxlYXNlIHVzZSBodHRwczovLzxZT1VSIEZJUkVCQVNFPi5maXJlYmFzZWlvLmNvbVwiKX1mfHxcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdyYmd2luZG93LmxvY2F0aW9uJiZ3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wmJi0xIT09d2luZG93LmxvY2F0aW9uLnByb3RvY29sLmluZGV4T2YoXCJodHRwczpcIikmJkwoXCJJbnNlY3VyZSBGaXJlYmFzZSBhY2Nlc3MgZnJvbSBhIHNlY3VyZSBwYWdlLiBQbGVhc2UgdXNlIGh0dHBzIGluIGNhbGxzIHRvIG5ldyBGaXJlYmFzZSgpLlwiKTtjPW5ldyBwYihjLGYsZCxcIndzXCI9PT1sfHxcIndzc1wiPT09bCk7ZD1uZXcgRihnKTtcbmY9ZC50b1N0cmluZygpOyEobD0hcChjLmhvc3QpfHwwPT09Yy5ob3N0Lmxlbmd0aHx8IXphKGMuWmIpKSYmKGw9MCE9PWYubGVuZ3RoKSYmKGYmJihmPWYucmVwbGFjZSgvXlxcLypcXC5pbmZvKFxcL3wkKS8sXCIvXCIpKSxsPSEocChmKSYmMCE9PWYubGVuZ3RoJiYheWEudGVzdChmKSkpO2lmKGwpdGhyb3cgRXJyb3IoeShcIm5ldyBGaXJlYmFzZVwiLDEsITEpKydtdXN0IGJlIGEgdmFsaWQgZmlyZWJhc2UgVVJMIGFuZCB0aGUgcGF0aCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCJbXCIsIG9yIFwiXVwiLicpO2lmKGIpaWYoYiBpbnN0YW5jZW9mIFkpZj1iO2Vsc2UgdGhyb3cgRXJyb3IoXCJFeHBlY3RlZCBhIHZhbGlkIEZpcmViYXNlLkNvbnRleHQgZm9yIHNlY29uZCBhcmd1bWVudCB0byBuZXcgRmlyZWJhc2UoKVwiKTtlbHNlIGY9WS5xYigpO2w9Yy50b1N0cmluZygpO2U9d2EoZi5oYixsKTtlfHwoZT1uZXcgd2UoYyksZi5oYltsXT1lKTtjPWV9RC5jYWxsKHRoaXMsYyxkKX1cbmthKEUsRCk7dmFyIFRlPUUsVWU9W1wiRmlyZWJhc2VcIl0sVmU9YWE7VWVbMF1pbiBWZXx8IVZlLmV4ZWNTY3JpcHR8fFZlLmV4ZWNTY3JpcHQoXCJ2YXIgXCIrVWVbMF0pO2Zvcih2YXIgV2U7VWUubGVuZ3RoJiYoV2U9VWUuc2hpZnQoKSk7KSFVZS5sZW5ndGgmJm0oVGUpP1ZlW1dlXT1UZTpWZT1WZVtXZV0/VmVbV2VdOlZlW1dlXT17fTtFLnByb3RvdHlwZS5uYW1lPWZ1bmN0aW9uKCl7eChcIkZpcmViYXNlLm5hbWVcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMucGF0aC5mKCk/bnVsbDpOYSh0aGlzLnBhdGgpfTtFLnByb3RvdHlwZS5uYW1lPUUucHJvdG90eXBlLm5hbWU7XG5FLnByb3RvdHlwZS5HPWZ1bmN0aW9uKGEpe3goXCJGaXJlYmFzZS5jaGlsZFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTtpZihnYShhKSlhPVN0cmluZyhhKTtlbHNlIGlmKCEoYSBpbnN0YW5jZW9mIEYpKWlmKG51bGw9PT1DKHRoaXMucGF0aCkpe3ZhciBiPWE7YiYmKGI9Yi5yZXBsYWNlKC9eXFwvKlxcLmluZm8oXFwvfCQpLyxcIi9cIikpO0lhKFwiRmlyZWJhc2UuY2hpbGRcIixiKX1lbHNlIElhKFwiRmlyZWJhc2UuY2hpbGRcIixhKTtyZXR1cm4gbmV3IEUodGhpcy5tLHRoaXMucGF0aC5HKGEpKX07RS5wcm90b3R5cGUuY2hpbGQ9RS5wcm90b3R5cGUuRztFLnByb3RvdHlwZS5wYXJlbnQ9ZnVuY3Rpb24oKXt4KFwiRmlyZWJhc2UucGFyZW50XCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3ZhciBhPXRoaXMucGF0aC5wYXJlbnQoKTtyZXR1cm4gbnVsbD09PWE/bnVsbDpuZXcgRSh0aGlzLm0sYSl9O0UucHJvdG90eXBlLnBhcmVudD1FLnByb3RvdHlwZS5wYXJlbnQ7XG5FLnByb3RvdHlwZS5yb290PWZ1bmN0aW9uKCl7eChcIkZpcmViYXNlLnJlZlwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtmb3IodmFyIGE9dGhpcztudWxsIT09YS5wYXJlbnQoKTspYT1hLnBhcmVudCgpO3JldHVybiBhfTtFLnByb3RvdHlwZS5yb290PUUucHJvdG90eXBlLnJvb3Q7RS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt4KFwiRmlyZWJhc2UudG9TdHJpbmdcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7dmFyIGE7aWYobnVsbD09PXRoaXMucGFyZW50KCkpYT10aGlzLm0udG9TdHJpbmcoKTtlbHNle2E9dGhpcy5wYXJlbnQoKS50b1N0cmluZygpK1wiL1wiO3ZhciBiPXRoaXMubmFtZSgpO2ErPWVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoYikpfXJldHVybiBhfTtFLnByb3RvdHlwZS50b1N0cmluZz1FLnByb3RvdHlwZS50b1N0cmluZztcbkUucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe3goXCJGaXJlYmFzZS5zZXRcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7QihcIkZpcmViYXNlLnNldFwiLHRoaXMucGF0aCk7QWEoXCJGaXJlYmFzZS5zZXRcIixhLCExKTt6KFwiRmlyZWJhc2Uuc2V0XCIsMixiLCEwKTt0aGlzLm0uamIodGhpcy5wYXRoLGEsbnVsbCxiKX07RS5wcm90b3R5cGUuc2V0PUUucHJvdG90eXBlLnNldDtcbkUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhLGIpe3goXCJGaXJlYmFzZS51cGRhdGVcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7QihcIkZpcmViYXNlLnVwZGF0ZVwiLHRoaXMucGF0aCk7aWYoZWEoYSkpe2Zvcih2YXIgYz17fSxkPTA7ZDxhLmxlbmd0aDsrK2QpY1tcIlwiK2RdPWFbZF07YT1jO0woXCJQYXNzaW5nIGFuIEFycmF5IHRvIEZpcmViYXNlLnVwZGF0ZSgpIGlzIGRlcHJlY2F0ZWQuIFVzZSBzZXQoKSBpZiB5b3Ugd2FudCB0byBvdmVyd3JpdGUgdGhlIGV4aXN0aW5nIGRhdGEsIG9yIGFuIE9iamVjdCB3aXRoIGludGVnZXIga2V5cyBpZiB5b3UgcmVhbGx5IGRvIHdhbnQgdG8gb25seSB1cGRhdGUgc29tZSBvZiB0aGUgY2hpbGRyZW4uXCIpfUVhKFwiRmlyZWJhc2UudXBkYXRlXCIsYSk7eihcIkZpcmViYXNlLnVwZGF0ZVwiLDIsYiwhMCk7aWYoQShhLFwiLnByaW9yaXR5XCIpKXRocm93IEVycm9yKFwidXBkYXRlKCkgZG9lcyBub3QgY3VycmVudGx5IHN1cHBvcnQgdXBkYXRpbmcgLnByaW9yaXR5LlwiKTtcbnRoaXMubS51cGRhdGUodGhpcy5wYXRoLGEsYil9O0UucHJvdG90eXBlLnVwZGF0ZT1FLnByb3RvdHlwZS51cGRhdGU7RS5wcm90b3R5cGUuamI9ZnVuY3Rpb24oYSxiLGMpe3goXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIiwyLDMsYXJndW1lbnRzLmxlbmd0aCk7QihcIkZpcmViYXNlLnNldFdpdGhQcmlvcml0eVwiLHRoaXMucGF0aCk7QWEoXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIixhLCExKTtGYShcIkZpcmViYXNlLnNldFdpdGhQcmlvcml0eVwiLDIsYiwhMSk7eihcIkZpcmViYXNlLnNldFdpdGhQcmlvcml0eVwiLDMsYywhMCk7aWYoXCIubGVuZ3RoXCI9PT10aGlzLm5hbWUoKXx8XCIua2V5c1wiPT09dGhpcy5uYW1lKCkpdGhyb3dcIkZpcmViYXNlLnNldFdpdGhQcmlvcml0eSBmYWlsZWQ6IFwiK3RoaXMubmFtZSgpK1wiIGlzIGEgcmVhZC1vbmx5IG9iamVjdC5cIjt0aGlzLm0uamIodGhpcy5wYXRoLGEsYixjKX07RS5wcm90b3R5cGUuc2V0V2l0aFByaW9yaXR5PUUucHJvdG90eXBlLmpiO1xuRS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEpe3goXCJGaXJlYmFzZS5yZW1vdmVcIiwwLDEsYXJndW1lbnRzLmxlbmd0aCk7QihcIkZpcmViYXNlLnJlbW92ZVwiLHRoaXMucGF0aCk7eihcIkZpcmViYXNlLnJlbW92ZVwiLDEsYSwhMCk7dGhpcy5zZXQobnVsbCxhKX07RS5wcm90b3R5cGUucmVtb3ZlPUUucHJvdG90eXBlLnJlbW92ZTtcbkUucHJvdG90eXBlLnRyYW5zYWN0aW9uPWZ1bmN0aW9uKGEsYixjKXt4KFwiRmlyZWJhc2UudHJhbnNhY3Rpb25cIiwxLDMsYXJndW1lbnRzLmxlbmd0aCk7QihcIkZpcmViYXNlLnRyYW5zYWN0aW9uXCIsdGhpcy5wYXRoKTt6KFwiRmlyZWJhc2UudHJhbnNhY3Rpb25cIiwxLGEsITEpO3ooXCJGaXJlYmFzZS50cmFuc2FjdGlvblwiLDIsYiwhMCk7aWYobShjKSYmXCJib29sZWFuXCIhPXR5cGVvZiBjKXRocm93IEVycm9yKHkoXCJGaXJlYmFzZS50cmFuc2FjdGlvblwiLDMsITApK1wibXVzdCBiZSBhIGJvb2xlYW4uXCIpO2lmKFwiLmxlbmd0aFwiPT09dGhpcy5uYW1lKCl8fFwiLmtleXNcIj09PXRoaXMubmFtZSgpKXRocm93XCJGaXJlYmFzZS50cmFuc2FjdGlvbiBmYWlsZWQ6IFwiK3RoaXMubmFtZSgpK1wiIGlzIGEgcmVhZC1vbmx5IG9iamVjdC5cIjtcInVuZGVmaW5lZFwiPT09dHlwZW9mIGMmJihjPSEwKTtIZSh0aGlzLm0sdGhpcy5wYXRoLGEsYixjKX07RS5wcm90b3R5cGUudHJhbnNhY3Rpb249RS5wcm90b3R5cGUudHJhbnNhY3Rpb247XG5FLnByb3RvdHlwZS5TYz1mdW5jdGlvbihhLGIpe3goXCJGaXJlYmFzZS5zZXRQcmlvcml0eVwiLDEsMixhcmd1bWVudHMubGVuZ3RoKTtCKFwiRmlyZWJhc2Uuc2V0UHJpb3JpdHlcIix0aGlzLnBhdGgpO0ZhKFwiRmlyZWJhc2Uuc2V0UHJpb3JpdHlcIiwxLGEsITEpO3ooXCJGaXJlYmFzZS5zZXRQcmlvcml0eVwiLDIsYiwhMCk7dGhpcy5tLlNjKHRoaXMucGF0aCxhLGIpfTtFLnByb3RvdHlwZS5zZXRQcmlvcml0eT1FLnByb3RvdHlwZS5TYztFLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGEsYil7eChcIkZpcmViYXNlLnB1c2hcIiwwLDIsYXJndW1lbnRzLmxlbmd0aCk7QihcIkZpcmViYXNlLnB1c2hcIix0aGlzLnBhdGgpO0FhKFwiRmlyZWJhc2UucHVzaFwiLGEsITApO3ooXCJGaXJlYmFzZS5wdXNoXCIsMixiLCEwKTt2YXIgYz15ZSh0aGlzLm0pLGM9U2UoYyksYz10aGlzLkcoYyk7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBhJiZudWxsIT09YSYmYy5zZXQoYSxiKTtyZXR1cm4gY307XG5FLnByb3RvdHlwZS5wdXNoPUUucHJvdG90eXBlLnB1c2g7RS5wcm90b3R5cGUuaWE9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3ICQodGhpcy5tLHRoaXMucGF0aCx0aGlzLm5hbWUoKSl9O0UucHJvdG90eXBlLm9uRGlzY29ubmVjdD1FLnByb3RvdHlwZS5pYTtFLnByb3RvdHlwZS5XZD1mdW5jdGlvbigpe0woXCJGaXJlYmFzZVJlZi5yZW1vdmVPbkRpc2Nvbm5lY3QoKSBiZWluZyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIEZpcmViYXNlUmVmLm9uRGlzY29ubmVjdCgpLnJlbW92ZSgpIGluc3RlYWQuXCIpO3RoaXMuaWEoKS5yZW1vdmUoKTtHZSh0aGlzLm0pfTtFLnByb3RvdHlwZS5yZW1vdmVPbkRpc2Nvbm5lY3Q9RS5wcm90b3R5cGUuV2Q7XG5FLnByb3RvdHlwZS4kZD1mdW5jdGlvbihhKXtMKFwiRmlyZWJhc2VSZWYuc2V0T25EaXNjb25uZWN0KHZhbHVlKSBiZWluZyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIEZpcmViYXNlUmVmLm9uRGlzY29ubmVjdCgpLnNldCh2YWx1ZSkgaW5zdGVhZC5cIik7dGhpcy5pYSgpLnNldChhKTtHZSh0aGlzLm0pfTtFLnByb3RvdHlwZS5zZXRPbkRpc2Nvbm5lY3Q9RS5wcm90b3R5cGUuJGQ7RS5wcm90b3R5cGUubGI9ZnVuY3Rpb24oYSxiLGMpe3goXCJGaXJlYmFzZS5hdXRoXCIsMSwzLGFyZ3VtZW50cy5sZW5ndGgpO2lmKCFwKGEpKXRocm93IEVycm9yKHkoXCJGaXJlYmFzZS5hdXRoXCIsMSwhMSkrXCJtdXN0IGJlIGEgdmFsaWQgY3JlZGVudGlhbCAoYSBzdHJpbmcpLlwiKTt6KFwiRmlyZWJhc2UuYXV0aFwiLDIsYiwhMCk7eihcIkZpcmViYXNlLmF1dGhcIiwzLGIsITApO3RoaXMubS5sYihhLGIsYyl9O0UucHJvdG90eXBlLmF1dGg9RS5wcm90b3R5cGUubGI7XG5FLnByb3RvdHlwZS5PYj1mdW5jdGlvbihhKXt4KFwiRmlyZWJhc2UudW5hdXRoXCIsMCwxLGFyZ3VtZW50cy5sZW5ndGgpO3ooXCJGaXJlYmFzZS51bmF1dGhcIiwxLGEsITApO3RoaXMubS5PYihhKX07RS5wcm90b3R5cGUudW5hdXRoPUUucHJvdG90eXBlLk9iO0UuZ29PZmZsaW5lPWZ1bmN0aW9uKCl7eChcIkZpcmViYXNlLmdvT2ZmbGluZVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtZLnFiKCkuTWEoKX07RS5nb09ubGluZT1mdW5jdGlvbigpe3goXCJGaXJlYmFzZS5nb09ubGluZVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtZLnFiKCkuaWIoKX07XG5mdW5jdGlvbiBMYihhLGIpe3YoIWJ8fCEwPT09YXx8ITE9PT1hLFwiQ2FuJ3QgdHVybiBvbiBjdXN0b20gbG9nZ2VycyBwZXJzaXN0ZW50bHkuXCIpOyEwPT09YT8oXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlJiYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGNvbnNvbGUubG9nP0piPXEoY29uc29sZS5sb2csY29uc29sZSk6XCJvYmplY3RcIj09PXR5cGVvZiBjb25zb2xlLmxvZyYmKEpiPWZ1bmN0aW9uKGEpe2NvbnNvbGUubG9nKGEpfSkpLGImJm9iLnNldChcImxvZ2dpbmdfZW5hYmxlZFwiLCEwKSk6YT9KYj1hOihKYj1udWxsLG9iLnJlbW92ZShcImxvZ2dpbmdfZW5hYmxlZFwiKSl9RS5lbmFibGVMb2dnaW5nPUxiO0UuU2VydmVyVmFsdWU9e1RJTUVTVEFNUDp7XCIuc3ZcIjpcInRpbWVzdGFtcFwifX07RS5TREtfVkVSU0lPTj1cIjEuMC4yNFwiO0UuSU5URVJOQUw9WjtFLkNvbnRleHQ9WTt9KSgpO1xuIiwiKGZ1bmN0aW9uKCkge3ZhciBDT01QSUxFRD0hMCxnb29nPWdvb2d8fHt9O2dvb2cuZ2xvYmFsPXRoaXM7Z29vZy5leHBvcnRQYXRoXz1mdW5jdGlvbihhLGQsZSl7YT1hLnNwbGl0KFwiLlwiKTtlPWV8fGdvb2cuZ2xvYmFsO2FbMF1pbiBlfHwhZS5leGVjU2NyaXB0fHxlLmV4ZWNTY3JpcHQoXCJ2YXIgXCIrYVswXSk7Zm9yKHZhciBmO2EubGVuZ3RoJiYoZj1hLnNoaWZ0KCkpOylhLmxlbmd0aHx8dm9pZCAwPT09ZD9lPWVbZl0/ZVtmXTplW2ZdPXt9OmVbZl09ZH07Z29vZy5kZWZpbmU9ZnVuY3Rpb24oYSxkKXt2YXIgZT1kO0NPTVBJTEVEfHxnb29nLmdsb2JhbC5DTE9TVVJFX0RFRklORVMmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChnb29nLmdsb2JhbC5DTE9TVVJFX0RFRklORVMsYSkmJihlPWdvb2cuZ2xvYmFsLkNMT1NVUkVfREVGSU5FU1thXSk7Z29vZy5leHBvcnRQYXRoXyhhLGUpfTtnb29nLkRFQlVHPSEwO2dvb2cuTE9DQUxFPVwiZW5cIjtnb29nLlRSVVNURURfU0lURT0hMDtcbmdvb2cucHJvdmlkZT1mdW5jdGlvbihhKXtpZighQ09NUElMRUQpe2lmKGdvb2cuaXNQcm92aWRlZF8oYSkpdGhyb3cgRXJyb3IoJ05hbWVzcGFjZSBcIicrYSsnXCIgYWxyZWFkeSBkZWNsYXJlZC4nKTtkZWxldGUgZ29vZy5pbXBsaWNpdE5hbWVzcGFjZXNfW2FdO2Zvcih2YXIgZD1hOyhkPWQuc3Vic3RyaW5nKDAsZC5sYXN0SW5kZXhPZihcIi5cIikpKSYmIWdvb2cuZ2V0T2JqZWN0QnlOYW1lKGQpOylnb29nLmltcGxpY2l0TmFtZXNwYWNlc19bZF09ITB9Z29vZy5leHBvcnRQYXRoXyhhKX07Z29vZy5zZXRUZXN0T25seT1mdW5jdGlvbihhKXtpZihDT01QSUxFRCYmIWdvb2cuREVCVUcpdGhyb3cgYT1hfHxcIlwiLEVycm9yKFwiSW1wb3J0aW5nIHRlc3Qtb25seSBjb2RlIGludG8gbm9uLWRlYnVnIGVudmlyb25tZW50XCIrYT9cIjogXCIrYTpcIi5cIik7fTtnb29nLmZvcndhcmREZWNsYXJlPWZ1bmN0aW9uKGEpe307XG5DT01QSUxFRHx8KGdvb2cuaXNQcm92aWRlZF89ZnVuY3Rpb24oYSl7cmV0dXJuIWdvb2cuaW1wbGljaXROYW1lc3BhY2VzX1thXSYmZ29vZy5pc0RlZkFuZE5vdE51bGwoZ29vZy5nZXRPYmplY3RCeU5hbWUoYSkpfSxnb29nLmltcGxpY2l0TmFtZXNwYWNlc189e30pO2dvb2cuZ2V0T2JqZWN0QnlOYW1lPWZ1bmN0aW9uKGEsZCl7Zm9yKHZhciBlPWEuc3BsaXQoXCIuXCIpLGY9ZHx8Z29vZy5nbG9iYWwsZztnPWUuc2hpZnQoKTspaWYoZ29vZy5pc0RlZkFuZE5vdE51bGwoZltnXSkpZj1mW2ddO2Vsc2UgcmV0dXJuIG51bGw7cmV0dXJuIGZ9O2dvb2cuZ2xvYmFsaXplPWZ1bmN0aW9uKGEsZCl7dmFyIGU9ZHx8Z29vZy5nbG9iYWwsZjtmb3IoZiBpbiBhKWVbZl09YVtmXX07XG5nb29nLmFkZERlcGVuZGVuY3k9ZnVuY3Rpb24oYSxkLGUpe2lmKGdvb2cuREVQRU5ERU5DSUVTX0VOQUJMRUQpe3ZhciBmO2E9YS5yZXBsYWNlKC9cXFxcL2csXCIvXCIpO2Zvcih2YXIgZz1nb29nLmRlcGVuZGVuY2llc18saD0wO2Y9ZFtoXTtoKyspZy5uYW1lVG9QYXRoW2ZdPWEsYSBpbiBnLnBhdGhUb05hbWVzfHwoZy5wYXRoVG9OYW1lc1thXT17fSksZy5wYXRoVG9OYW1lc1thXVtmXT0hMDtmb3IoZj0wO2Q9ZVtmXTtmKyspYSBpbiBnLnJlcXVpcmVzfHwoZy5yZXF1aXJlc1thXT17fSksZy5yZXF1aXJlc1thXVtkXT0hMH19O2dvb2cuRU5BQkxFX0RFQlVHX0xPQURFUj0hMDtcbmdvb2cucmVxdWlyZT1mdW5jdGlvbihhKXtpZighQ09NUElMRUQmJiFnb29nLmlzUHJvdmlkZWRfKGEpKXtpZihnb29nLkVOQUJMRV9ERUJVR19MT0FERVIpe3ZhciBkPWdvb2cuZ2V0UGF0aEZyb21EZXBzXyhhKTtpZihkKXtnb29nLmluY2x1ZGVkX1tkXT0hMDtnb29nLndyaXRlU2NyaXB0c18oKTtyZXR1cm59fWE9XCJnb29nLnJlcXVpcmUgY291bGQgbm90IGZpbmQ6IFwiK2E7Z29vZy5nbG9iYWwuY29uc29sZSYmZ29vZy5nbG9iYWwuY29uc29sZS5lcnJvcihhKTt0aHJvdyBFcnJvcihhKTt9fTtnb29nLmJhc2VQYXRoPVwiXCI7Z29vZy5udWxsRnVuY3Rpb249ZnVuY3Rpb24oKXt9O2dvb2cuaWRlbnRpdHlGdW5jdGlvbj1mdW5jdGlvbihhLGQpe3JldHVybiBhfTtnb29nLmFic3RyYWN0TWV0aG9kPWZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoXCJ1bmltcGxlbWVudGVkIGFic3RyYWN0IG1ldGhvZFwiKTt9O1xuZ29vZy5hZGRTaW5nbGV0b25HZXR0ZXI9ZnVuY3Rpb24oYSl7YS5nZXRJbnN0YW5jZT1mdW5jdGlvbigpe2lmKGEuaW5zdGFuY2VfKXJldHVybiBhLmluc3RhbmNlXztnb29nLkRFQlVHJiYoZ29vZy5pbnN0YW50aWF0ZWRTaW5nbGV0b25zX1tnb29nLmluc3RhbnRpYXRlZFNpbmdsZXRvbnNfLmxlbmd0aF09YSk7cmV0dXJuIGEuaW5zdGFuY2VfPW5ldyBhfX07Z29vZy5pbnN0YW50aWF0ZWRTaW5nbGV0b25zXz1bXTtnb29nLkRFUEVOREVOQ0lFU19FTkFCTEVEPSFDT01QSUxFRCYmZ29vZy5FTkFCTEVfREVCVUdfTE9BREVSO1xuZ29vZy5ERVBFTkRFTkNJRVNfRU5BQkxFRCYmKGdvb2cuaW5jbHVkZWRfPXt9LGdvb2cuZGVwZW5kZW5jaWVzXz17cGF0aFRvTmFtZXM6e30sbmFtZVRvUGF0aDp7fSxyZXF1aXJlczp7fSx2aXNpdGVkOnt9LHdyaXR0ZW46e319LGdvb2cuaW5IdG1sRG9jdW1lbnRfPWZ1bmN0aW9uKCl7dmFyIGE9Z29vZy5nbG9iYWwuZG9jdW1lbnQ7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEmJlwid3JpdGVcImluIGF9LGdvb2cuZmluZEJhc2VQYXRoXz1mdW5jdGlvbigpe2lmKGdvb2cuZ2xvYmFsLkNMT1NVUkVfQkFTRV9QQVRIKWdvb2cuYmFzZVBhdGg9Z29vZy5nbG9iYWwuQ0xPU1VSRV9CQVNFX1BBVEg7ZWxzZSBpZihnb29nLmluSHRtbERvY3VtZW50XygpKWZvcih2YXIgYT1nb29nLmdsb2JhbC5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKSxkPWEubGVuZ3RoLTE7MDw9ZDstLWQpe3ZhciBlPWFbZF0uc3JjLGY9ZS5sYXN0SW5kZXhPZihcIj9cIiksZj0tMT09Zj9lLmxlbmd0aDpcbmY7aWYoXCJiYXNlLmpzXCI9PWUuc3Vic3RyKGYtNyw3KSl7Z29vZy5iYXNlUGF0aD1lLnN1YnN0cigwLGYtNyk7YnJlYWt9fX0sZ29vZy5pbXBvcnRTY3JpcHRfPWZ1bmN0aW9uKGEpe3ZhciBkPWdvb2cuZ2xvYmFsLkNMT1NVUkVfSU1QT1JUX1NDUklQVHx8Z29vZy53cml0ZVNjcmlwdFRhZ187IWdvb2cuZGVwZW5kZW5jaWVzXy53cml0dGVuW2FdJiZkKGEpJiYoZ29vZy5kZXBlbmRlbmNpZXNfLndyaXR0ZW5bYV09ITApfSxnb29nLndyaXRlU2NyaXB0VGFnXz1mdW5jdGlvbihhKXtpZihnb29nLmluSHRtbERvY3VtZW50XygpKXt2YXIgZD1nb29nLmdsb2JhbC5kb2N1bWVudDtpZihcImNvbXBsZXRlXCI9PWQucmVhZHlTdGF0ZSl7aWYoL1xcYmRlcHMuanMkLy50ZXN0KGEpKXJldHVybiExO3Rocm93IEVycm9yKCdDYW5ub3Qgd3JpdGUgXCInK2ErJ1wiIGFmdGVyIGRvY3VtZW50IGxvYWQnKTt9ZC53cml0ZSgnPHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIgc3JjPVwiJythKydcIj5cXHgzYy9zY3JpcHQ+Jyk7XG5yZXR1cm4hMH1yZXR1cm4hMX0sZ29vZy53cml0ZVNjcmlwdHNfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShnKXtpZighKGcgaW4gZi53cml0dGVuKSl7aWYoIShnIGluIGYudmlzaXRlZCkmJihmLnZpc2l0ZWRbZ109ITAsZyBpbiBmLnJlcXVpcmVzKSlmb3IodmFyIGsgaW4gZi5yZXF1aXJlc1tnXSlpZighZ29vZy5pc1Byb3ZpZGVkXyhrKSlpZihrIGluIGYubmFtZVRvUGF0aClhKGYubmFtZVRvUGF0aFtrXSk7ZWxzZSB0aHJvdyBFcnJvcihcIlVuZGVmaW5lZCBuYW1lVG9QYXRoIGZvciBcIitrKTtnIGluIGV8fChlW2ddPSEwLGQucHVzaChnKSl9fXZhciBkPVtdLGU9e30sZj1nb29nLmRlcGVuZGVuY2llc18sZztmb3IoZyBpbiBnb29nLmluY2x1ZGVkXylmLndyaXR0ZW5bZ118fGEoZyk7Zm9yKGc9MDtnPGQubGVuZ3RoO2crKylpZihkW2ddKWdvb2cuaW1wb3J0U2NyaXB0Xyhnb29nLmJhc2VQYXRoK2RbZ10pO2Vsc2UgdGhyb3cgRXJyb3IoXCJVbmRlZmluZWQgc2NyaXB0IGlucHV0XCIpO1xufSxnb29nLmdldFBhdGhGcm9tRGVwc189ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW4gZ29vZy5kZXBlbmRlbmNpZXNfLm5hbWVUb1BhdGg/Z29vZy5kZXBlbmRlbmNpZXNfLm5hbWVUb1BhdGhbYV06bnVsbH0sZ29vZy5maW5kQmFzZVBhdGhfKCksZ29vZy5nbG9iYWwuQ0xPU1VSRV9OT19ERVBTfHxnb29nLmltcG9ydFNjcmlwdF8oZ29vZy5iYXNlUGF0aCtcImRlcHMuanNcIikpO1xuZ29vZy50eXBlT2Y9ZnVuY3Rpb24oYSl7dmFyIGQ9dHlwZW9mIGE7aWYoXCJvYmplY3RcIj09ZClpZihhKXtpZihhIGluc3RhbmNlb2YgQXJyYXkpcmV0dXJuXCJhcnJheVwiO2lmKGEgaW5zdGFuY2VvZiBPYmplY3QpcmV0dXJuIGQ7dmFyIGU9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpO2lmKFwiW29iamVjdCBXaW5kb3ddXCI9PWUpcmV0dXJuXCJvYmplY3RcIjtpZihcIltvYmplY3QgQXJyYXldXCI9PWV8fFwibnVtYmVyXCI9PXR5cGVvZiBhLmxlbmd0aCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuc3BsaWNlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5wcm9wZXJ0eUlzRW51bWVyYWJsZSYmIWEucHJvcGVydHlJc0VudW1lcmFibGUoXCJzcGxpY2VcIikpcmV0dXJuXCJhcnJheVwiO2lmKFwiW29iamVjdCBGdW5jdGlvbl1cIj09ZXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuY2FsbCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEucHJvcGVydHlJc0VudW1lcmFibGUmJiFhLnByb3BlcnR5SXNFbnVtZXJhYmxlKFwiY2FsbFwiKSlyZXR1cm5cImZ1bmN0aW9uXCJ9ZWxzZSByZXR1cm5cIm51bGxcIjtcbmVsc2UgaWYoXCJmdW5jdGlvblwiPT1kJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgYS5jYWxsKXJldHVyblwib2JqZWN0XCI7cmV0dXJuIGR9O2dvb2cuaXNEZWY9ZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMCE9PWF9O2dvb2cuaXNOdWxsPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT09YX07Z29vZy5pc0RlZkFuZE5vdE51bGw9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWF9O2dvb2cuaXNBcnJheT1mdW5jdGlvbihhKXtyZXR1cm5cImFycmF5XCI9PWdvb2cudHlwZU9mKGEpfTtnb29nLmlzQXJyYXlMaWtlPWZ1bmN0aW9uKGEpe3ZhciBkPWdvb2cudHlwZU9mKGEpO3JldHVyblwiYXJyYXlcIj09ZHx8XCJvYmplY3RcIj09ZCYmXCJudW1iZXJcIj09dHlwZW9mIGEubGVuZ3RofTtnb29nLmlzRGF0ZUxpa2U9ZnVuY3Rpb24oYSl7cmV0dXJuIGdvb2cuaXNPYmplY3QoYSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGEuZ2V0RnVsbFllYXJ9O2dvb2cuaXNTdHJpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGF9O1xuZ29vZy5pc0Jvb2xlYW49ZnVuY3Rpb24oYSl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBhfTtnb29nLmlzTnVtYmVyPWZ1bmN0aW9uKGEpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBhfTtnb29nLmlzRnVuY3Rpb249ZnVuY3Rpb24oYSl7cmV0dXJuXCJmdW5jdGlvblwiPT1nb29nLnR5cGVPZihhKX07Z29vZy5pc09iamVjdD1mdW5jdGlvbihhKXt2YXIgZD10eXBlb2YgYTtyZXR1cm5cIm9iamVjdFwiPT1kJiZudWxsIT1hfHxcImZ1bmN0aW9uXCI9PWR9O2dvb2cuZ2V0VWlkPWZ1bmN0aW9uKGEpe3JldHVybiBhW2dvb2cuVUlEX1BST1BFUlRZX118fChhW2dvb2cuVUlEX1BST1BFUlRZX109Kytnb29nLnVpZENvdW50ZXJfKX07Z29vZy5oYXNVaWQ9ZnVuY3Rpb24oYSl7cmV0dXJuISFhW2dvb2cuVUlEX1BST1BFUlRZX119O2dvb2cucmVtb3ZlVWlkPWZ1bmN0aW9uKGEpe1wicmVtb3ZlQXR0cmlidXRlXCJpbiBhJiZhLnJlbW92ZUF0dHJpYnV0ZShnb29nLlVJRF9QUk9QRVJUWV8pO3RyeXtkZWxldGUgYVtnb29nLlVJRF9QUk9QRVJUWV9dfWNhdGNoKGQpe319O1xuZ29vZy5VSURfUFJPUEVSVFlfPVwiY2xvc3VyZV91aWRfXCIrKDFFOSpNYXRoLnJhbmRvbSgpPj4+MCk7Z29vZy51aWRDb3VudGVyXz0wO2dvb2cuZ2V0SGFzaENvZGU9Z29vZy5nZXRVaWQ7Z29vZy5yZW1vdmVIYXNoQ29kZT1nb29nLnJlbW92ZVVpZDtnb29nLmNsb25lT2JqZWN0PWZ1bmN0aW9uKGEpe3ZhciBkPWdvb2cudHlwZU9mKGEpO2lmKFwib2JqZWN0XCI9PWR8fFwiYXJyYXlcIj09ZCl7aWYoYS5jbG9uZSlyZXR1cm4gYS5jbG9uZSgpO3ZhciBkPVwiYXJyYXlcIj09ZD9bXTp7fSxlO2ZvcihlIGluIGEpZFtlXT1nb29nLmNsb25lT2JqZWN0KGFbZV0pO3JldHVybiBkfXJldHVybiBhfTtnb29nLmJpbmROYXRpdmVfPWZ1bmN0aW9uKGEsZCxlKXtyZXR1cm4gYS5jYWxsLmFwcGx5KGEuYmluZCxhcmd1bWVudHMpfTtcbmdvb2cuYmluZEpzXz1mdW5jdGlvbihhLGQsZSl7aWYoIWEpdGhyb3cgRXJyb3IoKTtpZigyPGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBmPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO0FycmF5LnByb3RvdHlwZS51bnNoaWZ0LmFwcGx5KGUsZik7cmV0dXJuIGEuYXBwbHkoZCxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoZCxhcmd1bWVudHMpfX07Z29vZy5iaW5kPWZ1bmN0aW9uKGEsZCxlKXtGdW5jdGlvbi5wcm90b3R5cGUuYmluZCYmLTEhPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLnRvU3RyaW5nKCkuaW5kZXhPZihcIm5hdGl2ZSBjb2RlXCIpP2dvb2cuYmluZD1nb29nLmJpbmROYXRpdmVfOmdvb2cuYmluZD1nb29nLmJpbmRKc187cmV0dXJuIGdvb2cuYmluZC5hcHBseShudWxsLGFyZ3VtZW50cyl9O1xuZ29vZy5wYXJ0aWFsPWZ1bmN0aW9uKGEsZCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe3ZhciBkPWUuc2xpY2UoKTtkLnB1c2guYXBwbHkoZCxhcmd1bWVudHMpO3JldHVybiBhLmFwcGx5KHRoaXMsZCl9fTtnb29nLm1peGluPWZ1bmN0aW9uKGEsZCl7Zm9yKHZhciBlIGluIGQpYVtlXT1kW2VdfTtnb29nLm5vdz1nb29nLlRSVVNURURfU0lURSYmRGF0ZS5ub3d8fGZ1bmN0aW9uKCl7cmV0dXJuK25ldyBEYXRlfTtcbmdvb2cuZ2xvYmFsRXZhbD1mdW5jdGlvbihhKXtpZihnb29nLmdsb2JhbC5leGVjU2NyaXB0KWdvb2cuZ2xvYmFsLmV4ZWNTY3JpcHQoYSxcIkphdmFTY3JpcHRcIik7ZWxzZSBpZihnb29nLmdsb2JhbC5ldmFsKWlmKG51bGw9PWdvb2cuZXZhbFdvcmtzRm9yR2xvYmFsc18mJihnb29nLmdsb2JhbC5ldmFsKFwidmFyIF9ldF8gPSAxO1wiKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ29vZy5nbG9iYWwuX2V0Xz8oZGVsZXRlIGdvb2cuZ2xvYmFsLl9ldF8sZ29vZy5ldmFsV29ya3NGb3JHbG9iYWxzXz0hMCk6Z29vZy5ldmFsV29ya3NGb3JHbG9iYWxzXz0hMSksZ29vZy5ldmFsV29ya3NGb3JHbG9iYWxzXylnb29nLmdsb2JhbC5ldmFsKGEpO2Vsc2V7dmFyIGQ9Z29vZy5nbG9iYWwuZG9jdW1lbnQsZT1kLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7ZS50eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI7ZS5kZWZlcj0hMTtlLmFwcGVuZENoaWxkKGQuY3JlYXRlVGV4dE5vZGUoYSkpO2QuYm9keS5hcHBlbmRDaGlsZChlKTtcbmQuYm9keS5yZW1vdmVDaGlsZChlKX1lbHNlIHRocm93IEVycm9yKFwiZ29vZy5nbG9iYWxFdmFsIG5vdCBhdmFpbGFibGVcIik7fTtnb29nLmV2YWxXb3Jrc0Zvckdsb2JhbHNfPW51bGw7Z29vZy5nZXRDc3NOYW1lPWZ1bmN0aW9uKGEsZCl7dmFyIGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGdvb2cuY3NzTmFtZU1hcHBpbmdfW2FdfHxhfSxmPWZ1bmN0aW9uKGEpe2E9YS5zcGxpdChcIi1cIik7Zm9yKHZhciBkPVtdLGY9MDtmPGEubGVuZ3RoO2YrKylkLnB1c2goZShhW2ZdKSk7cmV0dXJuIGQuam9pbihcIi1cIil9LGY9Z29vZy5jc3NOYW1lTWFwcGluZ18/XCJCWV9XSE9MRVwiPT1nb29nLmNzc05hbWVNYXBwaW5nU3R5bGVfP2U6ZjpmdW5jdGlvbihhKXtyZXR1cm4gYX07cmV0dXJuIGQ/YStcIi1cIitmKGQpOmYoYSl9O2dvb2cuc2V0Q3NzTmFtZU1hcHBpbmc9ZnVuY3Rpb24oYSxkKXtnb29nLmNzc05hbWVNYXBwaW5nXz1hO2dvb2cuY3NzTmFtZU1hcHBpbmdTdHlsZV89ZH07XG4hQ09NUElMRUQmJmdvb2cuZ2xvYmFsLkNMT1NVUkVfQ1NTX05BTUVfTUFQUElORyYmKGdvb2cuY3NzTmFtZU1hcHBpbmdfPWdvb2cuZ2xvYmFsLkNMT1NVUkVfQ1NTX05BTUVfTUFQUElORyk7Z29vZy5nZXRNc2c9ZnVuY3Rpb24oYSxkKXt2YXIgZT1kfHx7fSxmO2ZvcihmIGluIGUpe3ZhciBnPShcIlwiK2VbZl0pLnJlcGxhY2UoL1xcJC9nLFwiJCQkJFwiKTthPWEucmVwbGFjZShSZWdFeHAoXCJcXFxce1xcXFwkXCIrZitcIlxcXFx9XCIsXCJnaVwiKSxnKX1yZXR1cm4gYX07Z29vZy5nZXRNc2dXaXRoRmFsbGJhY2s9ZnVuY3Rpb24oYSxkKXtyZXR1cm4gYX07Z29vZy5leHBvcnRTeW1ib2w9ZnVuY3Rpb24oYSxkLGUpe2dvb2cuZXhwb3J0UGF0aF8oYSxkLGUpfTtnb29nLmV4cG9ydFByb3BlcnR5PWZ1bmN0aW9uKGEsZCxlKXthW2RdPWV9O1xuZ29vZy5pbmhlcml0cz1mdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGUoKXt9ZS5wcm90b3R5cGU9ZC5wcm90b3R5cGU7YS5zdXBlckNsYXNzXz1kLnByb3RvdHlwZTthLnByb3RvdHlwZT1uZXcgZTthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hO2EuYmFzZT1mdW5jdGlvbihhLGUsaCl7dmFyIGs9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBkLnByb3RvdHlwZVtlXS5hcHBseShhLGspfX07XG5nb29nLmJhc2U9ZnVuY3Rpb24oYSxkLGUpe3ZhciBmPWFyZ3VtZW50cy5jYWxsZWUuY2FsbGVyO2lmKGdvb2cuREVCVUcmJiFmKXRocm93IEVycm9yKFwiYXJndW1lbnRzLmNhbGxlciBub3QgZGVmaW5lZC4gIGdvb2cuYmFzZSgpIGV4cGVjdHMgbm90IHRvIGJlIHJ1bm5pbmcgaW4gc3RyaWN0IG1vZGUuIFNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNS4xLyNzZWMtQ1wiKTtpZihmLnN1cGVyQ2xhc3NfKXJldHVybiBmLnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmFwcGx5KGEsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKTtmb3IodmFyIGc9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpLGg9ITEsaz1hLmNvbnN0cnVjdG9yO2s7az1rLnN1cGVyQ2xhc3NfJiZrLnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yKWlmKGsucHJvdG90eXBlW2RdPT09ZiloPSEwO2Vsc2UgaWYoaClyZXR1cm4gay5wcm90b3R5cGVbZF0uYXBwbHkoYSxcbmcpO2lmKGFbZF09PT1mKXJldHVybiBhLmNvbnN0cnVjdG9yLnByb3RvdHlwZVtkXS5hcHBseShhLGcpO3Rocm93IEVycm9yKFwiZ29vZy5iYXNlIGNhbGxlZCBmcm9tIGEgbWV0aG9kIG9mIG9uZSBuYW1lIHRvIGEgbWV0aG9kIG9mIGEgZGlmZmVyZW50IG5hbWVcIik7fTtnb29nLnNjb3BlPWZ1bmN0aW9uKGEpe2EuY2FsbChnb29nLmdsb2JhbCl9O3ZhciBmYj17c2ltcGxlbG9naW46e319O2ZiLnNpbXBsZWxvZ2luLlZhcnNfPWZ1bmN0aW9uKCl7dGhpcy5hcGlIb3N0PVwiaHR0cHM6Ly9hdXRoLmZpcmViYXNlLmNvbVwifTtmYi5zaW1wbGVsb2dpbi5WYXJzXy5wcm90b3R5cGUuc2V0QXBpSG9zdD1mdW5jdGlvbihhKXt0aGlzLmFwaUhvc3Q9YX07ZmIuc2ltcGxlbG9naW4uVmFyc18ucHJvdG90eXBlLmdldEFwaUhvc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcGlIb3N0fTtmYi5zaW1wbGVsb2dpbi5WYXJzPW5ldyBmYi5zaW1wbGVsb2dpbi5WYXJzXztnb29nLmpzb249e307Z29vZy5qc29uLlVTRV9OQVRJVkVfSlNPTj0hMTtnb29nLmpzb24uaXNWYWxpZF89ZnVuY3Rpb24oYSl7cmV0dXJuL15cXHMqJC8udGVzdChhKT8hMTovXltcXF0sOnt9XFxzXFx1MjAyOFxcdTIwMjldKiQvLnRlc3QoYS5yZXBsYWNlKC9cXFxcW1wiXFxcXFxcL2JmbnJ0dV0vZyxcIkBcIikucmVwbGFjZSgvXCJbXlwiXFxcXFxcblxcclxcdTIwMjhcXHUyMDI5XFx4MDAtXFx4MDhcXHgwYS1cXHgxZl0qXCJ8dHJ1ZXxmYWxzZXxudWxsfC0/XFxkKyg/OlxcLlxcZCopPyg/OltlRV1bK1xcLV0/XFxkKyk/L2csXCJdXCIpLnJlcGxhY2UoLyg/Ol58OnwsKSg/OltcXHNcXHUyMDI4XFx1MjAyOV0qXFxbKSsvZyxcIlwiKSl9O1xuZ29vZy5qc29uLnBhcnNlPWdvb2cuanNvbi5VU0VfTkFUSVZFX0pTT04/Z29vZy5nbG9iYWwuSlNPTi5wYXJzZTpmdW5jdGlvbihhKXthPVN0cmluZyhhKTtpZihnb29nLmpzb24uaXNWYWxpZF8oYSkpdHJ5e3JldHVybiBldmFsKFwiKFwiK2ErXCIpXCIpfWNhdGNoKGQpe310aHJvdyBFcnJvcihcIkludmFsaWQgSlNPTiBzdHJpbmc6IFwiK2EpO307Z29vZy5qc29uLnVuc2FmZVBhcnNlPWdvb2cuanNvbi5VU0VfTkFUSVZFX0pTT04/Z29vZy5nbG9iYWwuSlNPTi5wYXJzZTpmdW5jdGlvbihhKXtyZXR1cm4gZXZhbChcIihcIithK1wiKVwiKX07Z29vZy5qc29uLnNlcmlhbGl6ZT1nb29nLmpzb24uVVNFX05BVElWRV9KU09OP2dvb2cuZ2xvYmFsLkpTT04uc3RyaW5naWZ5OmZ1bmN0aW9uKGEsZCl7cmV0dXJuKG5ldyBnb29nLmpzb24uU2VyaWFsaXplcihkKSkuc2VyaWFsaXplKGEpfTtnb29nLmpzb24uU2VyaWFsaXplcj1mdW5jdGlvbihhKXt0aGlzLnJlcGxhY2VyXz1hfTtcbmdvb2cuanNvbi5TZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oYSl7dmFyIGQ9W107dGhpcy5zZXJpYWxpemVfKGEsZCk7cmV0dXJuIGQuam9pbihcIlwiKX07XG5nb29nLmpzb24uU2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplXz1mdW5jdGlvbihhLGQpe3N3aXRjaCh0eXBlb2YgYSl7Y2FzZSBcInN0cmluZ1wiOnRoaXMuc2VyaWFsaXplU3RyaW5nXyhhLGQpO2JyZWFrO2Nhc2UgXCJudW1iZXJcIjp0aGlzLnNlcmlhbGl6ZU51bWJlcl8oYSxkKTticmVhaztjYXNlIFwiYm9vbGVhblwiOmQucHVzaChhKTticmVhaztjYXNlIFwidW5kZWZpbmVkXCI6ZC5wdXNoKFwibnVsbFwiKTticmVhaztjYXNlIFwib2JqZWN0XCI6aWYobnVsbD09YSl7ZC5wdXNoKFwibnVsbFwiKTticmVha31pZihnb29nLmlzQXJyYXkoYSkpe3RoaXMuc2VyaWFsaXplQXJyYXkoYSxkKTticmVha310aGlzLnNlcmlhbGl6ZU9iamVjdF8oYSxkKTticmVhaztjYXNlIFwiZnVuY3Rpb25cIjpicmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiVW5rbm93biB0eXBlOiBcIit0eXBlb2YgYSk7fX07XG5nb29nLmpzb24uU2VyaWFsaXplci5jaGFyVG9Kc29uQ2hhckNhY2hlXz17J1wiJzonXFxcXFwiJyxcIlxcXFxcIjpcIlxcXFxcXFxcXCIsXCIvXCI6XCJcXFxcL1wiLFwiXFxiXCI6XCJcXFxcYlwiLFwiXFxmXCI6XCJcXFxcZlwiLFwiXFxuXCI6XCJcXFxcblwiLFwiXFxyXCI6XCJcXFxcclwiLFwiXFx0XCI6XCJcXFxcdFwiLFwiXFx4MEJcIjpcIlxcXFx1MDAwYlwifTtnb29nLmpzb24uU2VyaWFsaXplci5jaGFyc1RvUmVwbGFjZV89L1xcdWZmZmYvLnRlc3QoXCJcXHVmZmZmXCIpPy9bXFxcXFxcXCJcXHgwMC1cXHgxZlxceDdmLVxcdWZmZmZdL2c6L1tcXFxcXFxcIlxceDAwLVxceDFmXFx4N2YtXFx4ZmZdL2c7XG5nb29nLmpzb24uU2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplU3RyaW5nXz1mdW5jdGlvbihhLGQpe2QucHVzaCgnXCInLGEucmVwbGFjZShnb29nLmpzb24uU2VyaWFsaXplci5jaGFyc1RvUmVwbGFjZV8sZnVuY3Rpb24oYSl7aWYoYSBpbiBnb29nLmpzb24uU2VyaWFsaXplci5jaGFyVG9Kc29uQ2hhckNhY2hlXylyZXR1cm4gZ29vZy5qc29uLlNlcmlhbGl6ZXIuY2hhclRvSnNvbkNoYXJDYWNoZV9bYV07dmFyIGQ9YS5jaGFyQ29kZUF0KDApLGc9XCJcXFxcdVwiOzE2PmQ/Zys9XCIwMDBcIjoyNTY+ZD9nKz1cIjAwXCI6NDA5Nj5kJiYoZys9XCIwXCIpO3JldHVybiBnb29nLmpzb24uU2VyaWFsaXplci5jaGFyVG9Kc29uQ2hhckNhY2hlX1thXT1nK2QudG9TdHJpbmcoMTYpfSksJ1wiJyl9O2dvb2cuanNvbi5TZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemVOdW1iZXJfPWZ1bmN0aW9uKGEsZCl7ZC5wdXNoKGlzRmluaXRlKGEpJiYhaXNOYU4oYSk/YTpcIm51bGxcIil9O1xuZ29vZy5qc29uLlNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZUFycmF5PWZ1bmN0aW9uKGEsZCl7dmFyIGU9YS5sZW5ndGg7ZC5wdXNoKFwiW1wiKTtmb3IodmFyIGY9XCJcIixnPTA7ZzxlO2crKylkLnB1c2goZiksZj1hW2ddLHRoaXMuc2VyaWFsaXplXyh0aGlzLnJlcGxhY2VyXz90aGlzLnJlcGxhY2VyXy5jYWxsKGEsU3RyaW5nKGcpLGYpOmYsZCksZj1cIixcIjtkLnB1c2goXCJdXCIpfTtcbmdvb2cuanNvbi5TZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemVPYmplY3RfPWZ1bmN0aW9uKGEsZCl7ZC5wdXNoKFwie1wiKTt2YXIgZT1cIlwiLGY7Zm9yKGYgaW4gYSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxmKSl7dmFyIGc9YVtmXTtcImZ1bmN0aW9uXCIhPXR5cGVvZiBnJiYoZC5wdXNoKGUpLHRoaXMuc2VyaWFsaXplU3RyaW5nXyhmLGQpLGQucHVzaChcIjpcIiksdGhpcy5zZXJpYWxpemVfKHRoaXMucmVwbGFjZXJfP3RoaXMucmVwbGFjZXJfLmNhbGwoYSxmLGcpOmcsZCksZT1cIixcIil9ZC5wdXNoKFwifVwiKX07ZmIuc2ltcGxlbG9naW4udXRpbD17fTtmYi5zaW1wbGVsb2dpbi51dGlsLmpzb249e307ZmIuc2ltcGxlbG9naW4udXRpbC5qc29uLnBhcnNlPWZ1bmN0aW9uKGEpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgSlNPTiYmZ29vZy5pc0RlZihKU09OLnBhcnNlKT9KU09OLnBhcnNlKGEpOmdvb2cuanNvbi5wYXJzZShhKX07ZmIuc2ltcGxlbG9naW4udXRpbC5qc29uLnN0cmluZ2lmeT1mdW5jdGlvbihhKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIEpTT04mJmdvb2cuaXNEZWYoSlNPTi5zdHJpbmdpZnkpP0pTT04uc3RyaW5naWZ5KGEpOmdvb2cuanNvbi5zZXJpYWxpemUoYSl9O2ZiLnNpbXBsZWxvZ2luLnRyYW5zcG9ydHM9e307ZmIuc2ltcGxlbG9naW4udHJhbnNwb3J0cy5UcmFuc3BvcnQ9e307ZmIuc2ltcGxlbG9naW4uVHJhbnNwb3J0PWZ1bmN0aW9uKCl7fTtmYi5zaW1wbGVsb2dpbi5UcmFuc3BvcnQucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oYSxkLGUpe307ZmIuc2ltcGxlbG9naW4udHJhbnNwb3J0cy5Qb3B1cD17fTtmYi5zaW1wbGVsb2dpbi5Qb3B1cD1mdW5jdGlvbigpe307ZmIuc2ltcGxlbG9naW4uUG9wdXAucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oYSxkLGUpe307ZmIuc2ltcGxlbG9naW4udXRpbC5taXNjPXt9O2ZiLnNpbXBsZWxvZ2luLnV0aWwubWlzYy5wYXJzZVVybD1mdW5jdGlvbihhKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtkLmhyZWY9YTtyZXR1cm57cHJvdG9jb2w6ZC5wcm90b2NvbC5yZXBsYWNlKFwiOlwiLFwiXCIpLGhvc3Q6ZC5ob3N0bmFtZSxwb3J0OmQucG9ydCxxdWVyeTpkLnNlYXJjaCxwYXJhbXM6ZmIuc2ltcGxlbG9naW4udXRpbC5taXNjLnBhcnNlUXVlcnlzdHJpbmcoZC5zZWFyY2gpLGhhc2g6ZC5oYXNoLnJlcGxhY2UoXCIjXCIsXCJcIikscGF0aDpkLnBhdGhuYW1lLnJlcGxhY2UoL14oW15cXC9dKS8sXCIvJDFcIil9fTtmYi5zaW1wbGVsb2dpbi51dGlsLm1pc2MucGFyc2VRdWVyeXN0cmluZz1mdW5jdGlvbihhKXt2YXIgZD17fTthPWEucmVwbGFjZSgvXlxcPy8sXCJcIikuc3BsaXQoXCImXCIpO2Zvcih2YXIgZT0wO2U8YS5sZW5ndGg7ZSsrKWlmKGFbZV0pe3ZhciBmPWFbZV0uc3BsaXQoXCI9XCIpO2RbZlswXV09ZlsxXX1yZXR1cm4gZH07XG5mYi5zaW1wbGVsb2dpbi51dGlsLm1pc2MucGFyc2VTdWJkb21haW49ZnVuY3Rpb24oYSl7dmFyIGQ9XCJcIjt0cnl7dmFyIGU9ZmIuc2ltcGxlbG9naW4udXRpbC5taXNjLnBhcnNlVXJsKGEpLmhvc3Quc3BsaXQoXCIuXCIpOzI8ZS5sZW5ndGgmJihkPWUuc2xpY2UoMCwtMikuam9pbihcIi5cIikpfWNhdGNoKGYpe31yZXR1cm4gZH07ZmIuc2ltcGxlbG9naW4udXRpbC5taXNjLndhcm49ZnVuY3Rpb24oYSl7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlJiYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlLndhcm4/Y29uc29sZS53YXJuKGEpOmNvbnNvbGUubG9nKGEpKX07dmFyIHBvcHVwVGltZW91dD0xMkU0O2ZiLnNpbXBsZWxvZ2luLnRyYW5zcG9ydHMuQ29yZG92YUluQXBwQnJvd3Nlcl89ZnVuY3Rpb24oKXt9O1xuZmIuc2ltcGxlbG9naW4udHJhbnNwb3J0cy5Db3Jkb3ZhSW5BcHBCcm93c2VyXy5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihhLGQsZSl7Y2FsbGJhY2tJbnZva2VkPSExO3ZhciBmPWZ1bmN0aW9uKCl7dmFyIGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KGFyZ3VtZW50cyk7Y2FsbGJhY2tJbnZva2VkfHwoY2FsbGJhY2tJbnZva2VkPSEwLGUuYXBwbHkobnVsbCxhKSl9LGc9d2luZG93Lm9wZW4oYStcIiZ0cmFuc3BvcnQ9aW50ZXJuYWwtcmVkaXJlY3QtaGFzaFwiLFwiYmxhbmtcIixcImxvY2F0aW9uPW5vXCIpO2cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRzdG9wXCIsZnVuY3Rpb24oYSl7dmFyIGQ7aWYoYSYmYS51cmwmJihhPWZiLnNpbXBsZWxvZ2luLnV0aWwubWlzYy5wYXJzZVVybChhLnVybCksXCIvYmxhbmsvcGFnZS5odG1sXCI9PT1hLnBhdGgpKXtnLmNsb3NlKCk7dHJ5e3ZhciBlPWZiLnNpbXBsZWxvZ2luLnV0aWwubWlzYy5wYXJzZVF1ZXJ5c3RyaW5nKGEuaGFzaCk7YT17fTtmb3IodmFyIG4gaW4gZSlhW25dPVxuZmIuc2ltcGxlbG9naW4udXRpbC5qc29uLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChlW25dKSk7ZD1hfWNhdGNoKHEpe31kJiZkLnRva2VuJiZkLnVzZXI/ZihudWxsLGQpOmQmJmQuZXJyb3I/ZihkLmVycm9yKTpmKHtjb2RlOlwiUkVTUE9OU0VfUEFZTE9BRF9FUlJPUlwiLG1lc3NhZ2U6XCJVbmFibGUgdG8gcGFyc2UgcmVzcG9uc2UgcGF5bG9hZCBmb3IgUGhvbmVHYXAuXCJ9KX19KTtnLmFkZEV2ZW50TGlzdGVuZXIoXCJleGl0XCIsZnVuY3Rpb24oYSl7Zih7Y29kZTpcIlVTRVJfREVOSUVEXCIsbWVzc2FnZTpcIlVzZXIgY2FuY2VsbGVkIHRoZSBhdXRoZW50aWNhdGlvbiByZXF1ZXN0LlwifSl9KTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZyYmZy5jbG9zZSYmZy5jbG9zZSgpfSxwb3B1cFRpbWVvdXQpfTtmYi5zaW1wbGVsb2dpbi50cmFuc3BvcnRzLkNvcmRvdmFJbkFwcEJyb3dzZXI9bmV3IGZiLnNpbXBsZWxvZ2luLnRyYW5zcG9ydHMuQ29yZG92YUluQXBwQnJvd3Nlcl87ZmIuc2ltcGxlbG9naW4uRXJyb3JzPXt9O3ZhciBtZXNzYWdlUHJlZml4PVwiRmlyZWJhc2VTaW1wbGVMb2dpbjogXCIsZXJyb3JzPXtVTktOT1dOX0VSUk9SOlwiQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZC5cIixJTlZBTElEX0VNQUlMOlwiSW52YWxpZCBlbWFpbCBzcGVjaWZpZWQuXCIsSU5WQUxJRF9QQVNTV09SRDpcIkludmFsaWQgcGFzc3dvcmQgc3BlY2lmaWVkLlwiLFVTRVJfREVOSUVEOlwiVXNlciBjYW5jZWxsZWQgdGhlIGF1dGhlbnRpY2F0aW9uIHJlcXVlc3QuXCIsUkVTUE9OU0VfUEFZTE9BRF9FUlJPUjpcIlVuYWJsZSB0byBwYXJzZSByZXNwb25zZSBwYXlsb2FkLlwiLFRSSUdHRVJfSU9fVEFCUzonVGhlIFwiZm9yZ2UudGFic1wiIG1vZHVsZSByZXF1aXJlZCB3aGVuIHVzaW5nIEZpcmViYXNlIFNpbXBsZSBMb2dpbiBhbmQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHJpZ2dlci5pby4gV2l0aG91dCB0aGlzIG1vZHVsZSBpbmNsdWRlZCBhbmQgZW5hYmxlZCwgbG9naW4gYXR0ZW1wdHMgdG8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT0F1dGggYXV0aGVudGljYXRpb24gcHJvdmlkZXJzIHdpbGwgbm90IGJlIGFibGUgdG8gY29tcGxldGUuJ307XG5mYi5zaW1wbGVsb2dpbi5FcnJvcnMuZm9ybWF0PWZ1bmN0aW9uKGEsZCl7dmFyIGUsZixnPXt9LGg9YXJndW1lbnRzO2lmKDI9PT1oLmxlbmd0aCllPWhbMF0sZj1oWzFdO2Vsc2UgaWYoMT09PWgubGVuZ3RoKWlmKFwib2JqZWN0XCI9PT10eXBlb2YgaFswXSYmaFswXS5jb2RlJiZoWzBdLm1lc3NhZ2Upe2lmKDA9PT1oWzBdLm1lc3NhZ2UuaW5kZXhPZihtZXNzYWdlUHJlZml4KSlyZXR1cm4gaFswXTtlPWhbMF0uY29kZTtmPWhbMF0ubWVzc2FnZTtnPWhbMF0uZGF0YX1lbHNlXCJzdHJpbmdcIj09PXR5cGVvZiBoWzBdJiYoZT1oWzBdLGY9ZXJyb3JzW2VdKTtlbHNlIGU9XCJVTktOT1dOX0VSUk9SXCIsZj1lcnJvcnNbZV07Zj1FcnJvcihtZXNzYWdlUHJlZml4K2YpO2YuY29kZT1lO2cmJihmLmRhdGE9Zyk7cmV0dXJuIGZ9O3ZhciBSRUxBWV9GUkFNRV9OQU1FPVwiX193aW5jaGFuX3JlbGF5X2ZyYW1lXCIsQ0xPU0VfQ01EPVwiZGllXCI7ZnVuY3Rpb24gYWRkTGlzdGVuZXIoYSxkLGUpe2EuYXR0YWNoRXZlbnQ/YS5hdHRhY2hFdmVudChcIm9uXCIrZCxlKTphLmFkZEV2ZW50TGlzdGVuZXImJmEuYWRkRXZlbnRMaXN0ZW5lcihkLGUsITEpfWZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGEsZCxlKXthLmRldGFjaEV2ZW50P2EuZGV0YWNoRXZlbnQoXCJvblwiK2QsZSk6YS5yZW1vdmVFdmVudExpc3RlbmVyJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCxlLCExKX1mdW5jdGlvbiBleHRyYWN0T3JpZ2luKGEpey9eaHR0cHM/OlxcL1xcLy8udGVzdChhKXx8KGE9d2luZG93LmxvY2F0aW9uLmhyZWYpO3ZhciBkPS9eKGh0dHBzPzpcXC9cXC9bXFwtX2EtekEtWlxcLjAtOTpdKykvLmV4ZWMoYSk7cmV0dXJuIGQ/ZFsxXTphfVxuZnVuY3Rpb24gZmluZFJlbGF5KCl7Zm9yKHZhciBhPXdpbmRvdy5sb2NhdGlvbixkPXdpbmRvdy5vcGVuZXIuZnJhbWVzLGE9YS5wcm90b2NvbCtcIi8vXCIrYS5ob3N0LGU9ZC5sZW5ndGgtMTswPD1lO2UtLSl0cnl7aWYoMD09PWRbZV0ubG9jYXRpb24uaHJlZi5pbmRleE9mKGEpJiZkW2VdLm5hbWU9PT1SRUxBWV9GUkFNRV9OQU1FKXJldHVybiBkW2VdfWNhdGNoKGYpe319XG52YXIgaXNJbnRlcm5ldEV4cGxvcmVyPWZ1bmN0aW9uKCl7dmFyIGEsZD0tMSxlPW5hdmlnYXRvci51c2VyQWdlbnQ7XCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXJcIj09PW5hdmlnYXRvci5hcHBOYW1lPyhhPS9NU0lFIChbMC05XXsxLH1bXFwuMC05XXswLH0pLywoYT1lLm1hdGNoKGEpKSYmMTxhLmxlbmd0aCYmKGQ9cGFyc2VGbG9hdChhWzFdKSkpOi0xPGUuaW5kZXhPZihcIlRyaWRlbnRcIikmJihhPS9ydjooWzAtOV17MiwyfVtcXC4wLTldezAsfSkvLChhPWUubWF0Y2goYSkpJiYxPGEubGVuZ3RoJiYoZD1wYXJzZUZsb2F0KGFbMV0pKSk7cmV0dXJuIDg8PWR9KCk7ZmIuc2ltcGxlbG9naW4udHJhbnNwb3J0cy5XaW5DaGFuXz1mdW5jdGlvbigpe307XG5mYi5zaW1wbGVsb2dpbi50cmFuc3BvcnRzLldpbkNoYW5fLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGEsZCxlKXtmdW5jdGlvbiBmKGEpe2smJmRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoayk7az12b2lkIDA7cyYmKHM9Y2xlYXJJbnRlcnZhbChzKSk7cmVtb3ZlTGlzdGVuZXIod2luZG93LFwibWVzc2FnZVwiLGcpO3JlbW92ZUxpc3RlbmVyKHdpbmRvdyxcInVubG9hZFwiLGYpO2lmKHEmJiFhKXRyeXtxLmNsb3NlKCl9Y2F0Y2goZCl7bi5wb3N0TWVzc2FnZShDTE9TRV9DTUQsbCl9cT1uPXZvaWQgMH1mdW5jdGlvbiBnKGEpe2lmKGEub3JpZ2luPT09bCl0cnl7dmFyIGQ9ZmIuc2ltcGxlbG9naW4udXRpbC5qc29uLnBhcnNlKGEuZGF0YSk7XCJyZWFkeVwiPT09ZC5hP24ucG9zdE1lc3NhZ2UobSxsKTpcImVycm9yXCI9PT1kLmE/KGYoKSxlJiYoZShkLmQpLGU9bnVsbCkpOlwicmVzcG9uc2VcIj09PWQuYSYmKGYoZC5mb3JjZUtlZXBXaW5kb3dPcGVuKSxlJiYoZShudWxsLGQuZCksZT1udWxsKSl9Y2F0Y2goZyl7fX1cbmlmKCFlKXRocm93XCJtaXNzaW5nIHJlcXVpcmVkIGNhbGxiYWNrIGFyZ3VtZW50XCI7ZC51cmw9YTt2YXIgaDtkLnVybHx8KGg9XCJtaXNzaW5nIHJlcXVpcmVkICd1cmwnIHBhcmFtZXRlclwiKTtkLnJlbGF5X3VybHx8KGg9XCJtaXNzaW5nIHJlcXVpcmVkICdyZWxheV91cmwnIHBhcmFtZXRlclwiKTtoJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZShoKX0sMCk7ZC53aW5kb3dfbmFtZXx8KGQud2luZG93X25hbWU9bnVsbCk7aWYoIWQud2luZG93X2ZlYXR1cmVzfHxmYi5zaW1wbGVsb2dpbi51dGlsLmVudi5pc0Zlbm5lYygpKWQud2luZG93X2ZlYXR1cmVzPXZvaWQgMDt2YXIgayxsPWV4dHJhY3RPcmlnaW4oZC51cmwpO2lmKGwhPT1leHRyYWN0T3JpZ2luKGQucmVsYXlfdXJsKSlyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe2UoXCJpbnZhbGlkIGFyZ3VtZW50czogb3JpZ2luIG9mIHVybCBhbmQgcmVsYXlfdXJsIG11c3QgbWF0Y2hcIil9LDApO3ZhciBuO2lzSW50ZXJuZXRFeHBsb3JlciYmXG4oaz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpLGsuc2V0QXR0cmlidXRlKFwic3JjXCIsZC5yZWxheV91cmwpLGsuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixrLnNldEF0dHJpYnV0ZShcIm5hbWVcIixSRUxBWV9GUkFNRV9OQU1FKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGspLG49ay5jb250ZW50V2luZG93KTt2YXIgcT13aW5kb3cub3BlbihkLnVybCxkLndpbmRvd19uYW1lLGQud2luZG93X2ZlYXR1cmVzKTtufHwobj1xKTt2YXIgcz1zZXRJbnRlcnZhbChmdW5jdGlvbigpe3EmJnEuY2xvc2VkJiYoZigpLGUmJihlKFwidW5rbm93biBjbG9zZWQgd2luZG93XCIpLGU9bnVsbCkpfSw1MDApLG09ZmIuc2ltcGxlbG9naW4udXRpbC5qc29uLnN0cmluZ2lmeSh7YTpcInJlcXVlc3RcIixkOmQucGFyYW1zfSk7YWRkTGlzdGVuZXIod2luZG93LFwidW5sb2FkXCIsZik7YWRkTGlzdGVuZXIod2luZG93LFwibWVzc2FnZVwiLGcpO3JldHVybntjbG9zZTpmLGZvY3VzOmZ1bmN0aW9uKCl7aWYocSl0cnl7cS5mb2N1cygpfWNhdGNoKGEpe319fX07XG5nb29nLmV4cG9ydFN5bWJvbChcImZiLnNpbXBsZWxvZ2luLnRyYW5zcG9ydHMuV2luQ2hhbl8ucHJvdG90eXBlLm9wZW5cIixmYi5zaW1wbGVsb2dpbi50cmFuc3BvcnRzLldpbkNoYW5fLnByb3RvdHlwZS5vcGVuKTtcbmZiLnNpbXBsZWxvZ2luLnRyYW5zcG9ydHMuV2luQ2hhbl8ucHJvdG90eXBlLm9uT3Blbj1mdW5jdGlvbihhKXtmdW5jdGlvbiBkKGEpe2E9ZmIuc2ltcGxlbG9naW4udXRpbC5qc29uLnN0cmluZ2lmeShhKTtpc0ludGVybmV0RXhwbG9yZXI/aC5kb1Bvc3QoYSxnKTpoLnBvc3RNZXNzYWdlKGEsZyl9ZnVuY3Rpb24gZShmKXt2YXIgaDt0cnl7aD1mYi5zaW1wbGVsb2dpbi51dGlsLmpzb24ucGFyc2UoZi5kYXRhKX1jYXRjaChuKXt9aCYmXCJyZXF1ZXN0XCI9PT1oLmEmJihyZW1vdmVMaXN0ZW5lcih3aW5kb3csXCJtZXNzYWdlXCIsZSksZz1mLm9yaWdpbixhJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YShnLGguZCxmdW5jdGlvbihlLGYpe2s9IWY7YT12b2lkIDA7ZCh7YTpcInJlc3BvbnNlXCIsZDplLGZvcmNlS2VlcFdpbmRvd09wZW46Zn0pfSl9LDApKX1mdW5jdGlvbiBmKGEpe2lmKGsmJmEuZGF0YT09PUNMT1NFX0NNRCl0cnl7d2luZG93LmNsb3NlKCl9Y2F0Y2goZCl7fX12YXIgZz1cIipcIixcbmg9aXNJbnRlcm5ldEV4cGxvcmVyP2ZpbmRSZWxheSgpOndpbmRvdy5vcGVuZXIsaz0hMDtpZighaCl0aHJvd1wiY2FuJ3QgZmluZCByZWxheSBmcmFtZVwiO2FkZExpc3RlbmVyKGlzSW50ZXJuZXRFeHBsb3Jlcj9oOndpbmRvdyxcIm1lc3NhZ2VcIixlKTthZGRMaXN0ZW5lcihpc0ludGVybmV0RXhwbG9yZXI/aDp3aW5kb3csXCJtZXNzYWdlXCIsZik7dHJ5e2Qoe2E6XCJyZWFkeVwifSl9Y2F0Y2gobCl7YWRkTGlzdGVuZXIoaCxcImxvYWRcIixmdW5jdGlvbihhKXtkKHthOlwicmVhZHlcIn0pfSl9dmFyIG49ZnVuY3Rpb24oKXt0cnl7cmVtb3ZlTGlzdGVuZXIoaXNJbnRlcm5ldEV4cGxvcmVyP2g6d2luZG93LFwibWVzc2FnZVwiLGYpfWNhdGNoKGUpe31hJiZkKHthOlwiZXJyb3JcIixkOlwiY2xpZW50IGNsb3NlZCB3aW5kb3dcIn0pO2E9dm9pZCAwO3RyeXt3aW5kb3cuY2xvc2UoKX1jYXRjaChnKXt9fTthZGRMaXN0ZW5lcih3aW5kb3csXCJ1bmxvYWRcIixuKTtyZXR1cm57ZGV0YWNoOmZ1bmN0aW9uKCl7cmVtb3ZlTGlzdGVuZXIod2luZG93LFxuXCJ1bmxvYWRcIixuKX19fTtnb29nLmV4cG9ydFN5bWJvbChcImZiLnNpbXBsZWxvZ2luLnRyYW5zcG9ydHMuV2luQ2hhbl8ucHJvdG90eXBlLm9uT3BlblwiLGZiLnNpbXBsZWxvZ2luLnRyYW5zcG9ydHMuV2luQ2hhbl8ucHJvdG90eXBlLm9uT3Blbik7ZmIuc2ltcGxlbG9naW4udHJhbnNwb3J0cy5XaW5DaGFuXy5wcm90b3R5cGUuaXNBdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gZmIuc2ltcGxlbG9naW4udXRpbC5qc29uJiZmYi5zaW1wbGVsb2dpbi51dGlsLmpzb24ucGFyc2UmJmZiLnNpbXBsZWxvZ2luLnV0aWwuanNvbi5zdHJpbmdpZnkmJndpbmRvdy5wb3N0TWVzc2FnZX07ZmIuc2ltcGxlbG9naW4udHJhbnNwb3J0cy5XaW5DaGFuPW5ldyBmYi5zaW1wbGVsb2dpbi50cmFuc3BvcnRzLldpbkNoYW5fO2ZiLnNpbXBsZWxvZ2luLnRyYW5zcG9ydHMuVHJpZ2dlcklvVGFiXz1mdW5jdGlvbigpe307XG5mYi5zaW1wbGVsb2dpbi50cmFuc3BvcnRzLlRyaWdnZXJJb1RhYl8ucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oYSxkLGUpe2NhbGxiYWNrSW52b2tlZD0hMTt2YXIgZj1mdW5jdGlvbigpe3ZhciBhPUFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShhcmd1bWVudHMpO2NhbGxiYWNrSW52b2tlZHx8KGNhbGxiYWNrSW52b2tlZD0hMCxlLmFwcGx5KG51bGwsYSkpfTtmb3JnZS50YWJzLm9wZW5XaXRoT3B0aW9ucyh7dXJsOmErXCImdHJhbnNwb3J0PWludGVybmFsLXJlZGlyZWN0LWhhc2hcIixwYXR0ZXJuOmZiLnNpbXBsZWxvZ2luLlZhcnMuZ2V0QXBpSG9zdCgpK1wiL2JsYW5rL3BhZ2UqXCJ9LGZ1bmN0aW9uKGEpe3ZhciBkO2lmKGEmJmEudXJsKXRyeXt2YXIgZT1mYi5zaW1wbGVsb2dpbi51dGlsLm1pc2MucGFyc2VVcmwoYS51cmwpLGw9ZmIuc2ltcGxlbG9naW4udXRpbC5taXNjLnBhcnNlUXVlcnlzdHJpbmcoZS5oYXNoKTthPXt9O2Zvcih2YXIgbiBpbiBsKWFbbl09ZmIuc2ltcGxlbG9naW4udXRpbC5qc29uLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChsW25dKSk7XG5kPWF9Y2F0Y2gocSl7fWQmJmQudG9rZW4mJmQudXNlcj9mKG51bGwsZCk6ZCYmZC5lcnJvcj9mKGQuZXJyb3IpOmYoe2NvZGU6XCJSRVNQT05TRV9QQVlMT0FEX0VSUk9SXCIsbWVzc2FnZTpcIlVuYWJsZSB0byBwYXJzZSByZXNwb25zZSBwYXlsb2FkIGZvciBUcmlnZ2VyLmlvLlwifSl9LGZ1bmN0aW9uKGEpe2Yoe2NvZGU6XCJVTktOT1dOX0VSUk9SXCIsbWVzc2FnZTpcIkFuIHVua25vd24gZXJyb3Igb2NjdXJyZWQgZm9yIFRyaWdnZXIuaW8uXCJ9KX0pfTtmYi5zaW1wbGVsb2dpbi50cmFuc3BvcnRzLlRyaWdnZXJJb1RhYj1uZXcgZmIuc2ltcGxlbG9naW4udHJhbnNwb3J0cy5UcmlnZ2VySW9UYWJfO3ZhciBiLGM7XG4hZnVuY3Rpb24oKXt2YXIgYT17fSxkPXt9O2I9ZnVuY3Rpb24oZCxmLGcpe2FbZF09e2RlcHM6ZixjYWxsYmFjazpnfX07Yz1mdW5jdGlvbihlKXtmdW5jdGlvbiBmKGEpe2lmKFwiLlwiIT09YS5jaGFyQXQoMCkpcmV0dXJuIGE7YT1hLnNwbGl0KFwiL1wiKTtmb3IodmFyIGQ9ZS5zcGxpdChcIi9cIikuc2xpY2UoMCwtMSksZj0wLGc9YS5sZW5ndGg7Zz5mO2YrKyl7dmFyIGs9YVtmXTtcIi4uXCI9PT1rP2QucG9wKCk6XCIuXCIhPT1rJiZkLnB1c2goayl9cmV0dXJuIGQuam9pbihcIi9cIil9aWYoZFtlXSlyZXR1cm4gZFtlXTtpZihkW2VdPXt9LCFhW2VdKXRocm93IEVycm9yKFwiQ291bGQgbm90IGZpbmQgbW9kdWxlIFwiK2UpO2Zvcih2YXIgZyxoPWFbZV0saz1oLmRlcHMsaD1oLmNhbGxiYWNrLGw9W10sbj0wLHE9ay5sZW5ndGg7cT5uO24rKylsLnB1c2goXCJleHBvcnRzXCI9PT1rW25dP2c9e306YyhmKGtbbl0pKSk7az1oLmFwcGx5KHRoaXMsbCk7cmV0dXJuIGRbZV09Z3x8a307Yy5lbnRyaWVzPWF9KCk7XG5iKFwicnN2cC9hbGwtc2V0dGxlZFwiLFtcIi4vcHJvbWlzZVwiLFwiLi91dGlsc1wiLFwiZXhwb3J0c1wiXSxmdW5jdGlvbihhLGQsZSl7dmFyIGY9YVtcImRlZmF1bHRcIl0sZz1kLmlzQXJyYXksaD1kLmlzTm9uVGhlbmFibGU7ZVtcImRlZmF1bHRcIl09ZnVuY3Rpb24oYSxkKXtyZXR1cm4gbmV3IGYoZnVuY3Rpb24oZCl7ZnVuY3Rpb24gZShhKXtyZXR1cm4gZnVuY3Rpb24oZCl7bShhLHtzdGF0ZTpcImZ1bGZpbGxlZFwiLHZhbHVlOmR9KX19ZnVuY3Rpb24gbChhKXtyZXR1cm4gZnVuY3Rpb24oZCl7bShhLHtzdGF0ZTpcInJlamVjdGVkXCIscmVhc29uOmR9KX19ZnVuY3Rpb24gbShhLGUpe3VbYV09ZTswPT09LS1yJiZkKHUpfWlmKCFnKGEpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIGFsbFNldHRsZWQuXCIpO3ZhciBwLHI9YS5sZW5ndGg7aWYoMD09PXIpcmV0dXJuIHZvaWQgZChbXSk7Zm9yKHZhciB1PUFycmF5KHIpLHY9MDt2PGEubGVuZ3RoO3YrKylwPWFbdl0sXG5oKHApP20odix7c3RhdGU6XCJmdWxmaWxsZWRcIix2YWx1ZTpwfSk6Zi5yZXNvbHZlKHApLnRoZW4oZSh2KSxsKHYpKX0sZCl9fSk7YihcInJzdnAvYWxsXCIsW1wiLi9wcm9taXNlXCIsXCJleHBvcnRzXCJdLGZ1bmN0aW9uKGEsZCl7dmFyIGU9YVtcImRlZmF1bHRcIl07ZFtcImRlZmF1bHRcIl09ZnVuY3Rpb24oYSxkKXtyZXR1cm4gZS5hbGwoYSxkKX19KTtcbmIoXCJyc3ZwL2FzYXBcIixbXCJleHBvcnRzXCJdLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGQoKXtyZXR1cm4gZnVuY3Rpb24oKXtwcm9jZXNzLm5leHRUaWNrKGcpfX1mdW5jdGlvbiBlKCl7dmFyIGE9MCxkPW5ldyBrKGcpLGU9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIik7cmV0dXJuIGQub2JzZXJ2ZShlLHtjaGFyYWN0ZXJEYXRhOiEwfSksZnVuY3Rpb24oKXtlLmRhdGE9YT0rK2ElMn19ZnVuY3Rpb24gZigpe3JldHVybiBmdW5jdGlvbigpe3NldFRpbWVvdXQoZywxKX19ZnVuY3Rpb24gZygpe2Zvcih2YXIgYT0wO2E8bC5sZW5ndGg7YSsrKXt2YXIgZD1sW2FdOygwLGRbMF0pKGRbMV0pfWwubGVuZ3RoPTB9YVtcImRlZmF1bHRcIl09ZnVuY3Rpb24oYSxkKXsxPT09bC5wdXNoKFthLGRdKSYmaCgpfTt2YXIgaDthPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9O3ZhciBrPWEuTXV0YXRpb25PYnNlcnZlcnx8YS5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLGw9W107aD1cInVuZGVmaW5lZFwiIT1cbnR5cGVvZiBwcm9jZXNzJiZcIltvYmplY3QgcHJvY2Vzc11cIj09PXt9LnRvU3RyaW5nLmNhbGwocHJvY2Vzcyk/ZCgpOms/ZSgpOmYoKX0pO2IoXCJyc3ZwL2NvbmZpZ1wiLFtcIi4vZXZlbnRzXCIsXCJleHBvcnRzXCJdLGZ1bmN0aW9uKGEsZCl7dmFyIGU9e2luc3RydW1lbnQ6ITF9O2FbXCJkZWZhdWx0XCJdLm1peGluKGUpO2QuY29uZmlnPWU7ZC5jb25maWd1cmU9ZnVuY3Rpb24oYSxkKXtyZXR1cm5cIm9uZXJyb3JcIj09PWE/dm9pZCBlLm9uKFwiZXJyb3JcIixkKToyIT09YXJndW1lbnRzLmxlbmd0aD9lW2FdOnZvaWQoZVthXT1kKX19KTtiKFwicnN2cC9kZWZlclwiLFtcIi4vcHJvbWlzZVwiLFwiZXhwb3J0c1wiXSxmdW5jdGlvbihhLGQpe3ZhciBlPWFbXCJkZWZhdWx0XCJdO2RbXCJkZWZhdWx0XCJdPWZ1bmN0aW9uKGEpe3ZhciBkPXt9O3JldHVybiBkLnByb21pc2U9bmV3IGUoZnVuY3Rpb24oYSxlKXtkLnJlc29sdmU9YTtkLnJlamVjdD1lfSxhKSxkfX0pO1xuYihcInJzdnAvZXZlbnRzXCIsW1wiZXhwb3J0c1wiXSxmdW5jdGlvbihhKXtmdW5jdGlvbiBkKGEsZCl7Zm9yKHZhciBlPTAsaz1hLmxlbmd0aDtrPmU7ZSsrKWlmKGFbZV09PT1kKXJldHVybiBlO3JldHVybi0xfWZ1bmN0aW9uIGUoYSl7dmFyIGQ9YS5fcHJvbWlzZUNhbGxiYWNrcztyZXR1cm4gZHx8KGQ9YS5fcHJvbWlzZUNhbGxiYWNrcz17fSksZH1hW1wiZGVmYXVsdFwiXT17bWl4aW46ZnVuY3Rpb24oYSl7cmV0dXJuIGEub249dGhpcy5vbixhLm9mZj10aGlzLm9mZixhLnRyaWdnZXI9dGhpcy50cmlnZ2VyLGEuX3Byb21pc2VDYWxsYmFja3M9dm9pZCAwLGF9LG9uOmZ1bmN0aW9uKGEsZyl7dmFyIGgsaz1lKHRoaXMpOyhoPWtbYV0pfHwoaD1rW2FdPVtdKTstMT09PWQoaCxnKSYmaC5wdXNoKGcpfSxvZmY6ZnVuY3Rpb24oYSxnKXt2YXIgaCxrLGw9ZSh0aGlzKTtyZXR1cm4gZz8oaD1sW2FdLGs9ZChoLGcpLHZvaWQoLTEhPT1rJiZoLnNwbGljZShrLDEpKSk6dm9pZChsW2FdPVtdKX0sXG50cmlnZ2VyOmZ1bmN0aW9uKGEsZCl7dmFyIGg7aWYoaD1lKHRoaXMpW2FdKWZvcih2YXIgaz0wO2s8aC5sZW5ndGg7aysrKSgwLGhba10pKGQpfX19KTtcbmIoXCJyc3ZwL2ZpbHRlclwiLFtcIi4vcHJvbWlzZVwiLFwiLi91dGlsc1wiLFwiZXhwb3J0c1wiXSxmdW5jdGlvbihhLGQsZSl7dmFyIGY9YVtcImRlZmF1bHRcIl0sZz1kLmlzRnVuY3Rpb247ZVtcImRlZmF1bHRcIl09ZnVuY3Rpb24oYSxkLGUpe3JldHVybiBmLmFsbChhLGUpLnRoZW4oZnVuY3Rpb24oYSl7aWYoIWcoZCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIllvdSBtdXN0IHBhc3MgYSBmdW5jdGlvbiBhcyBmaWx0ZXIncyBzZWNvbmQgYXJndW1lbnQuXCIpO2Zvcih2YXIgaD1hLmxlbmd0aCxzPUFycmF5KGgpLG09MDtoPm07bSsrKXNbbV09ZChhW21dKTtyZXR1cm4gZi5hbGwocyxlKS50aGVuKGZ1bmN0aW9uKGQpe2Zvcih2YXIgZT1BcnJheShoKSxmPTAsZz0wO2g+ZztnKyspITA9PT1kW2ddJiYoZVtmXT1hW2ddLGYrKyk7cmV0dXJuIGUubGVuZ3RoPWYsZX0pfSl9fSk7XG5iKFwicnN2cC9oYXNoLXNldHRsZWRcIixbXCIuL3Byb21pc2VcIixcIi4vdXRpbHNcIixcImV4cG9ydHNcIl0sZnVuY3Rpb24oYSxkLGUpe3ZhciBmPWFbXCJkZWZhdWx0XCJdLGc9ZC5pc05vblRoZW5hYmxlLGg9ZC5rZXlzT2Y7ZVtcImRlZmF1bHRcIl09ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBmKGZ1bmN0aW9uKGQpe2Z1bmN0aW9uIGUoYSl7cmV0dXJuIGZ1bmN0aW9uKGQpe3MoYSx7c3RhdGU6XCJmdWxmaWxsZWRcIix2YWx1ZTpkfSl9fWZ1bmN0aW9uIHEoYSl7cmV0dXJuIGZ1bmN0aW9uKGQpe3MoYSx7c3RhdGU6XCJyZWplY3RlZFwiLHJlYXNvbjpkfSl9fWZ1bmN0aW9uIHMoYSxlKXtyW2FdPWU7MD09PS0tdiYmZChyKX12YXIgbSxwLHI9e30sdT1oKGEpLHY9dS5sZW5ndGg7aWYoMD09PXYpcmV0dXJuIHZvaWQgZChyKTtmb3IodmFyIHQ9MDt0PHUubGVuZ3RoO3QrKylwPXVbdF0sbT1hW3BdLGcobSk/cyhwLHtzdGF0ZTpcImZ1bGZpbGxlZFwiLHZhbHVlOm19KTpmLnJlc29sdmUobSkudGhlbihlKHApLHEocCkpfSl9fSk7XG5iKFwicnN2cC9oYXNoXCIsW1wiLi9wcm9taXNlXCIsXCIuL3V0aWxzXCIsXCJleHBvcnRzXCJdLGZ1bmN0aW9uKGEsZCxlKXt2YXIgZj1hW1wiZGVmYXVsdFwiXSxnPWQuaXNOb25UaGVuYWJsZSxoPWQua2V5c09mO2VbXCJkZWZhdWx0XCJdPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgZihmdW5jdGlvbihkLGUpe2Z1bmN0aW9uIHEoYSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JbYV09ZTswPT09LS12JiZkKHIpfX1mdW5jdGlvbiBzKGEpe3Y9MDtlKGEpfXZhciBtLHAscj17fSx1PWgoYSksdj11Lmxlbmd0aDtpZigwPT09dilyZXR1cm4gdm9pZCBkKHIpO2Zvcih2YXIgdD0wO3Q8dS5sZW5ndGg7dCsrKXA9dVt0XSxtPWFbcF0sZyhtKT8ocltwXT1tLDA9PT0tLXYmJmQocikpOmYucmVzb2x2ZShtKS50aGVuKHEocCkscyl9KX19KTtcbmIoXCJyc3ZwL2luc3RydW1lbnRcIixbXCIuL2NvbmZpZ1wiLFwiLi91dGlsc1wiLFwiZXhwb3J0c1wiXSxmdW5jdGlvbihhLGQsZSl7dmFyIGY9YS5jb25maWcsZz1kLm5vdztlW1wiZGVmYXVsdFwiXT1mdW5jdGlvbihhLGQsZSl7dHJ5e2YudHJpZ2dlcihhLHtndWlkOmQuX2d1aWRLZXkrZC5faWQsZXZlbnROYW1lOmEsZGV0YWlsOmQuX2RldGFpbCxjaGlsZEd1aWQ6ZSYmZC5fZ3VpZEtleStlLl9pZCxsYWJlbDpkLl9sYWJlbCx0aW1lU3RhbXA6ZygpLHN0YWNrOkVycm9yKGQuX2xhYmVsKS5zdGFja30pfWNhdGNoKG4pe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyBuO30sMCl9fX0pO1xuYihcInJzdnAvbWFwXCIsW1wiLi9wcm9taXNlXCIsXCIuL3V0aWxzXCIsXCJleHBvcnRzXCJdLGZ1bmN0aW9uKGEsZCxlKXt2YXIgZj1hW1wiZGVmYXVsdFwiXSxnPShkLmlzQXJyYXksZC5pc0Z1bmN0aW9uKTtlW1wiZGVmYXVsdFwiXT1mdW5jdGlvbihhLGQsZSl7cmV0dXJuIGYuYWxsKGEsZSkudGhlbihmdW5jdGlvbihhKXtpZighZyhkKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiWW91IG11c3QgcGFzcyBhIGZ1bmN0aW9uIGFzIG1hcCdzIHNlY29uZCBhcmd1bWVudC5cIik7Zm9yKHZhciBoPWEubGVuZ3RoLHM9QXJyYXkoaCksbT0wO2g+bTttKyspc1ttXT1kKGFbbV0pO3JldHVybiBmLmFsbChzLGUpfSl9fSk7XG5iKFwicnN2cC9ub2RlXCIsW1wiLi9wcm9taXNlXCIsXCIuL3V0aWxzXCIsXCJleHBvcnRzXCJdLGZ1bmN0aW9uKGEsZCxlKXt2YXIgZj1hW1wiZGVmYXVsdFwiXSxnPWQuaXNBcnJheTtlW1wiZGVmYXVsdFwiXT1mdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGUoKXtmb3IodmFyIGc9YXJndW1lbnRzLmxlbmd0aCxtPUFycmF5KGcpLGw9MDtnPmw7bCsrKW1bbF09YXJndW1lbnRzW2xdO3ZhciByO3JldHVybiBufHxxfHwhZD9yPXRoaXM6KGNvbnNvbGUud2FybignRGVwcmVjYXRpb246IFJTVlAuZGVub2RlaWZ5KCkgZG9lc25cXCd0IGFsbG93IHNldHRpbmcgdGhlIFwidGhpc1wiIGJpbmRpbmcgYW55bW9yZS4gVXNlIHlvdXJGdW5jdGlvbi5iaW5kKHlvdXJUaGlzKSBpbnN0ZWFkLicpLHI9ZCksZi5hbGwobSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGYoZnVuY3Rpb24oZixnKXtlLnB1c2goZnVuY3Rpb24oKXtmb3IodmFyIGE9YXJndW1lbnRzLmxlbmd0aCxlPUFycmF5KGEpLGg9MDthPmg7aCsrKWVbaF09XG5hcmd1bWVudHNbaF07YT1lWzBdO2g9ZVsxXTtpZihhKWcoYSk7ZWxzZSBpZihuKWYoZS5zbGljZSgxKSk7ZWxzZSBpZihxKXtmb3IodmFyIGE9e30sbD1lLnNsaWNlKDEpLGg9MDtoPGQubGVuZ3RoO2grKyllPWRbaF0sYVtlXT1sW2hdO2YoYSl9ZWxzZSBmKGgpfSk7YS5hcHBseShyLGUpfSl9KX12YXIgbj0hMD09PWQscT1nKGQpO3JldHVybiBlLl9fcHJvdG9fXz1hLGV9fSk7XG5iKFwicnN2cC9wcm9taXNlXCIsXCIuL2NvbmZpZyAuL2V2ZW50cyAuL2luc3RydW1lbnQgLi91dGlscyAuL3Byb21pc2UvY2FzdCAuL3Byb21pc2UvYWxsIC4vcHJvbWlzZS9yYWNlIC4vcHJvbWlzZS9yZXNvbHZlIC4vcHJvbWlzZS9yZWplY3QgZXhwb3J0c1wiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhLGQsZSxmLGcsaCxrLGwsbixxKXtmdW5jdGlvbiBzKCl7fWZ1bmN0aW9uIG0oYSxkKXtpZighQihhKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiWW91IG11c3QgcGFzcyBhIHJlc29sdmVyIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvclwiKTtpZighKHRoaXMgaW5zdGFuY2VvZiBtKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUHJvbWlzZSc6IFBsZWFzZSB1c2UgdGhlICduZXcnIG9wZXJhdG9yLCB0aGlzIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO3RoaXMuX2lkPVxuSCsrO3RoaXMuX2xhYmVsPWQ7dGhpcy5fc3Vic2NyaWJlcnM9W107ei5pbnN0cnVtZW50JiZDKFwiY3JlYXRlZFwiLHRoaXMpO3MhPT1hJiZwKGEsdGhpcyl9ZnVuY3Rpb24gcChhLGQpe2Z1bmN0aW9uIGUoYSl7eShkLGEpfWZ1bmN0aW9uIGYoYSl7eChkLGEpfXRyeXthKGUsZil9Y2F0Y2goZyl7ZihnKX19ZnVuY3Rpb24gcihhLGQsZSxmKXthPWEuX3N1YnNjcmliZXJzO3ZhciBnPWEubGVuZ3RoO2FbZ109ZDthW2crQV09ZTthW2crRF09Zn1mdW5jdGlvbiB1KGEsZCl7dmFyIGUsZixnPWEuX3N1YnNjcmliZXJzLGg9YS5fZGV0YWlsO3ouaW5zdHJ1bWVudCYmQyhkPT09QT9cImZ1bGZpbGxlZFwiOlwicmVqZWN0ZWRcIixhKTtmb3IodmFyIGs9MDtrPGcubGVuZ3RoO2srPTMpZT1nW2tdLGY9Z1trK2RdLHYoZCxlLGYsaCk7YS5fc3Vic2NyaWJlcnM9bnVsbH1mdW5jdGlvbiB2KGEsZCxlLGYpe3ZhciBnLGgsayxsLG09QihlKTtpZihtKXRyeXtnPWUoZiksaz0hMH1jYXRjaChuKXtsPSEwLGg9XG5ufWVsc2UgZz1mLGs9ITA7dChkLGcpfHwobSYmaz95KGQsZyk6bD94KGQsaCk6YT09PUE/eShkLGcpOmE9PT1EJiZ4KGQsZykpfWZ1bmN0aW9uIHQoYSxkKXt2YXIgZSxmPW51bGw7dHJ5e2lmKGE9PT1kKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBIHByb21pc2VzIGNhbGxiYWNrIGNhbm5vdCByZXR1cm4gdGhhdCBzYW1lIHByb21pc2UuXCIpO2lmKEkoZCkmJihmPWQudGhlbixCKGYpKSlyZXR1cm4gZi5jYWxsKGQsZnVuY3Rpb24oZil7cmV0dXJuIGU/ITA6KGU9ITAsdm9pZChkIT09Zj95KGEsZik6dyhhLGYpKSl9LGZ1bmN0aW9uKGQpe3JldHVybiBlPyEwOihlPSEwLHZvaWQgeChhLGQpKX0sXCJTZXR0bGU6IFwiKyhhLl9sYWJlbHx8XCIgdW5rbm93biBwcm9taXNlXCIpKSwhMH1jYXRjaChnKXtyZXR1cm4gZT8hMDooeChhLGcpLCEwKX1yZXR1cm4hMX1mdW5jdGlvbiB5KGEsZCl7YT09PWQ/dyhhLGQpOnQoYSxkKXx8dyhhLGQpfWZ1bmN0aW9uIHcoYSxkKXthLl9zdGF0ZT09PUUmJihhLl9zdGF0ZT1cbkYsYS5fZGV0YWlsPWQsei5hc3luYyhHLGEpKX1mdW5jdGlvbiB4KGEsZCl7YS5fc3RhdGU9PT1FJiYoYS5fc3RhdGU9RixhLl9kZXRhaWw9ZCx6LmFzeW5jKEosYSkpfWZ1bmN0aW9uIEcoYSl7dShhLGEuX3N0YXRlPUEpfWZ1bmN0aW9uIEooYSl7YS5fb25lcnJvciYmYS5fb25lcnJvcihhLl9kZXRhaWwpO3UoYSxhLl9zdGF0ZT1EKX12YXIgej1hLmNvbmZpZyxDPShkW1wiZGVmYXVsdFwiXSxlW1wiZGVmYXVsdFwiXSksST1mLm9iamVjdE9yRnVuY3Rpb24sQj1mLmlzRnVuY3Rpb247YT1mLm5vdztnPWdbXCJkZWZhdWx0XCJdO2g9aFtcImRlZmF1bHRcIl07az1rW1wiZGVmYXVsdFwiXTtsPWxbXCJkZWZhdWx0XCJdO249bltcImRlZmF1bHRcIl07YT1cInJzdnBfXCIrYSgpK1wiLVwiO3ZhciBIPTA7cVtcImRlZmF1bHRcIl09bTttLmNhc3Q9ZzttLmFsbD1oO20ucmFjZT1rO20ucmVzb2x2ZT1sO20ucmVqZWN0PW47dmFyIEU9dm9pZCAwLEY9MCxBPTEsRD0yO20ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjptLF9pZDp2b2lkIDAsXG5fZ3VpZEtleTphLF9sYWJlbDp2b2lkIDAsX3N0YXRlOnZvaWQgMCxfZGV0YWlsOnZvaWQgMCxfc3Vic2NyaWJlcnM6dm9pZCAwLF9vbmVycm9yOmZ1bmN0aW9uKGEpe3oudHJpZ2dlcihcImVycm9yXCIsYSl9LHRoZW46ZnVuY3Rpb24oYSxkLGUpe3ZhciBmPXRoaXM7dGhpcy5fb25lcnJvcj1udWxsO3ZhciBnPW5ldyB0aGlzLmNvbnN0cnVjdG9yKHMsZSk7aWYodGhpcy5fc3RhdGUpe3ZhciBoPWFyZ3VtZW50czt6LmFzeW5jKGZ1bmN0aW9uKCl7dihmLl9zdGF0ZSxnLGhbZi5fc3RhdGUtMV0sZi5fZGV0YWlsKX0pfWVsc2Ugcih0aGlzLGcsYSxkKTtyZXR1cm4gei5pbnN0cnVtZW50JiZDKFwiY2hhaW5lZFwiLGYsZyksZ30sXCJjYXRjaFwiOmZ1bmN0aW9uKGEsZCl7cmV0dXJuIHRoaXMudGhlbihudWxsLGEsZCl9LFwiZmluYWxseVwiOmZ1bmN0aW9uKGEsZCl7dmFyIGU9dGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKGQpe3JldHVybiBlLnJlc29sdmUoYSgpKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KX0sXG5mdW5jdGlvbihkKXtyZXR1cm4gZS5yZXNvbHZlKGEoKSkudGhlbihmdW5jdGlvbigpe3Rocm93IGQ7fSl9LGQpfX19KTtcbmIoXCJyc3ZwL3Byb21pc2UvYWxsXCIsW1wiLi4vdXRpbHNcIixcImV4cG9ydHNcIl0sZnVuY3Rpb24oYSxkKXt2YXIgZT1hLmlzQXJyYXksZj1hLmlzTm9uVGhlbmFibGU7ZFtcImRlZmF1bHRcIl09ZnVuY3Rpb24oYSxkKXt2YXIgaz10aGlzO3JldHVybiBuZXcgayhmdW5jdGlvbihkLGgpe2Z1bmN0aW9uIHEoYSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JbYV09ZTswPT09LS1wJiZkKHIpfX1mdW5jdGlvbiBzKGEpe3A9MDtoKGEpfWlmKCFlKGEpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIGFsbC5cIik7dmFyIG0scD1hLmxlbmd0aCxyPUFycmF5KHApO2lmKDA9PT1wKXJldHVybiB2b2lkIGQocik7Zm9yKHZhciB1PTA7dTxhLmxlbmd0aDt1KyspbT1hW3VdLGYobSk/KHJbdV09bSwwPT09LS1wJiZkKHIpKTprLnJlc29sdmUobSkudGhlbihxKHUpLHMpfSxkKX19KTtcbmIoXCJyc3ZwL3Byb21pc2UvY2FzdFwiLFtcImV4cG9ydHNcIl0sZnVuY3Rpb24oYSl7YVtcImRlZmF1bHRcIl09ZnVuY3Rpb24oYSxlKXtyZXR1cm4gYSYmXCJvYmplY3RcIj09dHlwZW9mIGEmJmEuY29uc3RydWN0b3I9PT10aGlzP2E6bmV3IHRoaXMoZnVuY3Rpb24oZSl7ZShhKX0sZSl9fSk7XG5iKFwicnN2cC9wcm9taXNlL3JhY2VcIixbXCIuLi91dGlsc1wiLFwiZXhwb3J0c1wiXSxmdW5jdGlvbihhLGQpe3ZhciBlPWEuaXNBcnJheSxmPShhLmlzRnVuY3Rpb24sYS5pc05vblRoZW5hYmxlKTtkW1wiZGVmYXVsdFwiXT1mdW5jdGlvbihhLGQpe3ZhciBrLGw9dGhpcztyZXR1cm4gbmV3IGwoZnVuY3Rpb24oZCxoKXtmdW5jdGlvbiBzKGEpe3AmJihwPSExLGQoYSkpfWZ1bmN0aW9uIG0oYSl7cCYmKHA9ITEsaChhKSl9aWYoIWUoYSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIllvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gcmFjZS5cIik7Zm9yKHZhciBwPSEwLHI9MDtyPGEubGVuZ3RoO3IrKyl7aWYoaz1hW3JdLGYoaykpcmV0dXJuIHA9ITEsdm9pZCBkKGspO2wucmVzb2x2ZShrKS50aGVuKHMsbSl9fSxkKX19KTtcbmIoXCJyc3ZwL3Byb21pc2UvcmVqZWN0XCIsW1wiZXhwb3J0c1wiXSxmdW5jdGlvbihhKXthW1wiZGVmYXVsdFwiXT1mdW5jdGlvbihhLGUpe3JldHVybiBuZXcgdGhpcyhmdW5jdGlvbihlLGcpe2coYSl9LGUpfX0pO2IoXCJyc3ZwL3Byb21pc2UvcmVzb2x2ZVwiLFtcImV4cG9ydHNcIl0sZnVuY3Rpb24oYSl7YVtcImRlZmF1bHRcIl09ZnVuY3Rpb24oYSxlKXtyZXR1cm4gYSYmXCJvYmplY3RcIj09dHlwZW9mIGEmJmEuY29uc3RydWN0b3I9PT10aGlzP2E6bmV3IHRoaXMoZnVuY3Rpb24oZSl7ZShhKX0sZSl9fSk7YihcInJzdnAvcmFjZVwiLFtcIi4vcHJvbWlzZVwiLFwiZXhwb3J0c1wiXSxmdW5jdGlvbihhLGQpe3ZhciBlPWFbXCJkZWZhdWx0XCJdO2RbXCJkZWZhdWx0XCJdPWZ1bmN0aW9uKGEsZCl7cmV0dXJuIGUucmFjZShhLGQpfX0pO1xuYihcInJzdnAvcmVqZWN0XCIsW1wiLi9wcm9taXNlXCIsXCJleHBvcnRzXCJdLGZ1bmN0aW9uKGEsZCl7dmFyIGU9YVtcImRlZmF1bHRcIl07ZFtcImRlZmF1bHRcIl09ZnVuY3Rpb24oYSxkKXtyZXR1cm4gZS5yZWplY3QoYSxkKX19KTtiKFwicnN2cC9yZXNvbHZlXCIsW1wiLi9wcm9taXNlXCIsXCJleHBvcnRzXCJdLGZ1bmN0aW9uKGEsZCl7dmFyIGU9YVtcImRlZmF1bHRcIl07ZFtcImRlZmF1bHRcIl09ZnVuY3Rpb24oYSxkKXtyZXR1cm4gZS5yZXNvbHZlKGEsZCl9fSk7YihcInJzdnAvcmV0aHJvd1wiLFtcImV4cG9ydHNcIl0sZnVuY3Rpb24oYSl7YVtcImRlZmF1bHRcIl09ZnVuY3Rpb24oYSl7dGhyb3cgc2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IGE7fSksYTt9fSk7XG5iKFwicnN2cC91dGlsc1wiLFtcImV4cG9ydHNcIl0sZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZChhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBhfHxcIm9iamVjdFwiPT10eXBlb2YgYSYmbnVsbCE9PWF9YS5vYmplY3RPckZ1bmN0aW9uPWQ7YS5pc0Z1bmN0aW9uPWZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGF9O2EuaXNOb25UaGVuYWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hZChhKX07YS5pc0FycmF5PUFycmF5LmlzQXJyYXk/QXJyYXkuaXNBcnJheTpmdW5jdGlvbihhKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSl9O2Eubm93PURhdGUubm93fHxmdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfTthLmtleXNPZj1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oYSl7dmFyIGQ9W10sZztmb3IoZyBpbiBhKWQucHVzaChnKTtyZXR1cm4gZH19KTtcbmIoXCJyc3ZwXCIsXCIuL3JzdnAvcHJvbWlzZSAuL3JzdnAvZXZlbnRzIC4vcnN2cC9ub2RlIC4vcnN2cC9hbGwgLi9yc3ZwL2FsbC1zZXR0bGVkIC4vcnN2cC9yYWNlIC4vcnN2cC9oYXNoIC4vcnN2cC9oYXNoLXNldHRsZWQgLi9yc3ZwL3JldGhyb3cgLi9yc3ZwL2RlZmVyIC4vcnN2cC9jb25maWcgLi9yc3ZwL21hcCAuL3JzdnAvcmVzb2x2ZSAuL3JzdnAvcmVqZWN0IC4vcnN2cC9maWx0ZXIgLi9yc3ZwL2FzYXAgZXhwb3J0c1wiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhLGQsZSxmLGcsaCxrLGwsbixxLHMsbSxwLHIsdSx2LHQpe2Z1bmN0aW9uIHkoKXt3Lm9uLmFwcGx5KHcsYXJndW1lbnRzKX1hPWFbXCJkZWZhdWx0XCJdO2Q9ZFtcImRlZmF1bHRcIl07ZT1lW1wiZGVmYXVsdFwiXTtmPWZbXCJkZWZhdWx0XCJdO2c9Z1tcImRlZmF1bHRcIl07aD1oW1wiZGVmYXVsdFwiXTtrPWtbXCJkZWZhdWx0XCJdO2w9bFtcImRlZmF1bHRcIl07bj1uW1wiZGVmYXVsdFwiXTtxPXFbXCJkZWZhdWx0XCJdO3ZhciB3PXMuY29uZmlnO3M9XG5zLmNvbmZpZ3VyZTttPW1bXCJkZWZhdWx0XCJdO3A9cFtcImRlZmF1bHRcIl07cj1yW1wiZGVmYXVsdFwiXTt1PXVbXCJkZWZhdWx0XCJdO2lmKHcuYXN5bmM9dltcImRlZmF1bHRcIl0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdy5fX1BST01JU0VfSU5TVFJVTUVOVEFUSU9OX18pe3Y9d2luZG93Ll9fUFJPTUlTRV9JTlNUUlVNRU5UQVRJT05fXztzKFwiaW5zdHJ1bWVudFwiLCEwKTtmb3IodmFyIHggaW4gdil2Lmhhc093blByb3BlcnR5KHgpJiZ5KHgsdlt4XSl9dC5Qcm9taXNlPWE7dC5FdmVudFRhcmdldD1kO3QuYWxsPWY7dC5hbGxTZXR0bGVkPWc7dC5yYWNlPWg7dC5oYXNoPWs7dC5oYXNoU2V0dGxlZD1sO3QucmV0aHJvdz1uO3QuZGVmZXI9cTt0LmRlbm9kZWlmeT1lO3QuY29uZmlndXJlPXM7dC5vbj15O3Qub2ZmPWZ1bmN0aW9uKCl7dy5vZmYuYXBwbHkodyxhcmd1bWVudHMpfTt0LnJlc29sdmU9cDt0LnJlamVjdD1yO3QuYXN5bmM9ZnVuY3Rpb24oYSxcbmQpe3cuYXN5bmMoYSxkKX07dC5tYXA9bTt0LmZpbHRlcj11fSk7ZmIuc2ltcGxlbG9naW4udXRpbC5SU1ZQPWMoXCJyc3ZwXCIpO2ZiLnNpbXBsZWxvZ2luLnV0aWwuZW52PXt9O2ZiLnNpbXBsZWxvZ2luLnV0aWwuZW52Lmhhc0xvY2FsU3RvcmFnZT1mdW5jdGlvbihhKXt0cnl7aWYobG9jYWxTdG9yYWdlKXtsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImZpcmViYXNlLXNlbnRpbmVsXCIsXCJ0ZXN0XCIpO3ZhciBkPWxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiZmlyZWJhc2Utc2VudGluZWxcIik7bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJmaXJlYmFzZS1zZW50aW5lbFwiKTtyZXR1cm5cInRlc3RcIj09PWR9fWNhdGNoKGUpe31yZXR1cm4hMX07XG5mYi5zaW1wbGVsb2dpbi51dGlsLmVudi5oYXNTZXNzaW9uU3RvcmFnZT1mdW5jdGlvbihhKXt0cnl7aWYoc2Vzc2lvblN0b3JhZ2Upe3Nlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJmaXJlYmFzZS1zZW50aW5lbFwiLFwidGVzdFwiKTt2YXIgZD1zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiZmlyZWJhc2Utc2VudGluZWxcIik7c2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShcImZpcmViYXNlLXNlbnRpbmVsXCIpO3JldHVyblwidGVzdFwiPT09ZH19Y2F0Y2goZSl7fXJldHVybiExfTtmYi5zaW1wbGVsb2dpbi51dGlsLmVudi5pc01vYmlsZUNvcmRvdmFJbkFwcEJyb3dzZXI9ZnVuY3Rpb24oKXtyZXR1cm4od2luZG93LmNvcmRvdmF8fHdpbmRvdy5Db3Jkb3ZhSW5BcHBCcm93c2VyfHx3aW5kb3cucGhvbmVnYXApJiYvaW9zfGlwaG9uZXxpcG9kfGlwYWR8YW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9O1xuZmIuc2ltcGxlbG9naW4udXRpbC5lbnYuaXNNb2JpbGVUcmlnZ2VySW9UYWI9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmZvcmdlJiYvaW9zfGlwaG9uZXxpcG9kfGlwYWR8YW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9O2ZiLnNpbXBsZWxvZ2luLnV0aWwuZW52LmlzV2luZG93c01ldHJvPWZ1bmN0aW9uKCl7cmV0dXJuISF3aW5kb3cuV2luZG93cyYmL15tcy1hcHB4Oi8udGVzdChsb2NhdGlvbi5ocmVmKX07ZmIuc2ltcGxlbG9naW4udXRpbC5lbnYuaXNDaHJvbWVpT1M9ZnVuY3Rpb24oKXtyZXR1cm4hIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0NyaU9TLyl9O2ZiLnNpbXBsZWxvZ2luLnV0aWwuZW52LmlzVHdpdHRlcmlPUz1mdW5jdGlvbigpe3JldHVybiEhbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvVHdpdHRlciBmb3IgaVBob25lLyl9O2ZiLnNpbXBsZWxvZ2luLnV0aWwuZW52LmlzRmFjZWJvb2tpT1M9ZnVuY3Rpb24oKXtyZXR1cm4hIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0ZCQU5cXC9GQklPUy8pfTtcbmZiLnNpbXBsZWxvZ2luLnV0aWwuZW52LmlzV2luZG93c1Bob25lPWZ1bmN0aW9uKCl7cmV0dXJuISFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9XaW5kb3dzIFBob25lLyl9O2ZiLnNpbXBsZWxvZ2luLnV0aWwuZW52LmlzU3RhbmRhbG9uZWlPUz1mdW5jdGlvbigpe3JldHVybiEhd2luZG93Lm5hdmlnYXRvci5zdGFuZGFsb25lfTtmYi5zaW1wbGVsb2dpbi51dGlsLmVudi5pc1BoYW50b21KUz1mdW5jdGlvbigpe3JldHVybiEhbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvUGhhbnRvbUpTLyl9O1xuZmIuc2ltcGxlbG9naW4udXRpbC5lbnYuaXNJZUxUMTA9ZnVuY3Rpb24oKXt2YXIgYSxkPS0xLGU9bmF2aWdhdG9yLnVzZXJBZ2VudDtyZXR1cm5cIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlclwiPT09bmF2aWdhdG9yLmFwcE5hbWUmJihhPS9NU0lFIChbMC05XXsxLH1bXFwuMC05XXswLH0pLywoYT1lLm1hdGNoKGEpKSYmMTxhLmxlbmd0aCYmKGQ9cGFyc2VGbG9hdChhWzFdKSksMTA+ZCk/ITA6ITF9O2ZiLnNpbXBsZWxvZ2luLnV0aWwuZW52LmlzRmVubmVjPWZ1bmN0aW9uKCl7dHJ5e3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQ7cmV0dXJuLTEhPWEuaW5kZXhPZihcIkZlbm5lYy9cIil8fC0xIT1hLmluZGV4T2YoXCJGaXJlZm94L1wiKSYmLTEhPWEuaW5kZXhPZihcIkFuZHJvaWRcIil9Y2F0Y2goZCl7fXJldHVybiExfTtmYi5zaW1wbGVsb2dpbi50cmFuc3BvcnRzLlhIUl89ZnVuY3Rpb24oKXt9O1xuZmIuc2ltcGxlbG9naW4udHJhbnNwb3J0cy5YSFJfLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGEsZCxlKXt2YXIgZj17Y29udGVudFR5cGU6XCJhcHBsaWNhdGlvbi9qc29uXCJ9LGc9bmV3IFhNTEh0dHBSZXF1ZXN0LGg9KGYubWV0aG9kfHxcIkdFVFwiKS50b1VwcGVyQ2FzZSgpLGs9Zi5jb250ZW50VHlwZXx8XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIixsPSExLG47Zy5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZighbCYmND09PWcucmVhZHlTdGF0ZSl7dmFyIGEsZDtsPSEwO2lmKDIwMDw9Zy5zdGF0dXMmJjMwMD5nLnN0YXR1c3x8MzA0PT1nLnN0YXR1c3x8MTIyMz09Zy5zdGF0dXMpdHJ5e2E9ZmIuc2ltcGxlbG9naW4udXRpbC5qc29uLnBhcnNlKGcucmVzcG9uc2VUZXh0KSxkPWEuZXJyb3J8fG51bGwsZGVsZXRlIGEuZXJyb3J9Y2F0Y2goZil7ZD1cIlVOS05PV05fRVJST1JcIn1lbHNlIGQ9XCJSRVNQT05TRV9QQVlMT0FEX0VSUk9SXCI7cmV0dXJuIGUmJlxuZShkLGEpfX07ZCYmKFwiR0VUXCI9PT1oPygtMT09PWEuaW5kZXhPZihcIj9cIikmJihhKz1cIj9cIiksYSs9dGhpcy5mb3JtYXRRdWVyeVN0cmluZyhkKSxkPW51bGwpOihcImFwcGxpY2F0aW9uL2pzb25cIj09PWsmJihkPWZiLnNpbXBsZWxvZ2luLnV0aWwuanNvbi5zdHJpbmdpZnkoZCkpLFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCI9PT1rJiYoZD10aGlzLmZvcm1hdFF1ZXJ5U3RyaW5nKGQpKSkpO2cub3BlbihoLGEsITApO2E9e1wiWC1SZXF1ZXN0ZWQtV2l0aFwiOlwiWE1MSHR0cFJlcXVlc3RcIixBY2NlcHQ6XCJhcHBsaWNhdGlvbi9qc29uO3RleHQvcGxhaW5cIixcIkNvbnRlbnQtVHlwZVwiOmt9O2YuaGVhZGVycz1mLmhlYWRlcnN8fHt9O2ZvcihuIGluIGYuaGVhZGVycylhW25dPWYuaGVhZGVyc1tuXTtmb3IobiBpbiBhKWcuc2V0UmVxdWVzdEhlYWRlcihuLGFbbl0pO2cuc2VuZChkKX07XG5mYi5zaW1wbGVsb2dpbi50cmFuc3BvcnRzLlhIUl8ucHJvdG90eXBlLmlzQXZhaWxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5YTUxIdHRwUmVxdWVzdCYmXCJmdW5jdGlvblwiPT09dHlwZW9mIHdpbmRvdy5YTUxIdHRwUmVxdWVzdCYmIWZiLnNpbXBsZWxvZ2luLnV0aWwuZW52LmlzSWVMVDEwKCl9O2ZiLnNpbXBsZWxvZ2luLnRyYW5zcG9ydHMuWEhSXy5wcm90b3R5cGUuZm9ybWF0UXVlcnlTdHJpbmc9ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuXCJcIjt2YXIgZD1bXSxlO2ZvcihlIGluIGEpZC5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChlKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQoYVtlXSkpO3JldHVybiBkLmpvaW4oXCImXCIpfTtmYi5zaW1wbGVsb2dpbi50cmFuc3BvcnRzLlhIUj1uZXcgZmIuc2ltcGxlbG9naW4udHJhbnNwb3J0cy5YSFJfO2ZiLnNpbXBsZWxvZ2luLnV0aWwudmFsaWRhdGlvbj17fTt2YXIgVkFMSURfRU1BSUxfUkVHRVhfPS9eKFthLXpBLVowLTlfXFwuXFwtXFwrXSkrXFxAKChbYS16QS1aMC05XFwtXSkrXFwuKSsoW2EtekEtWjAtOV17Miw2fSkrJC87ZmIuc2ltcGxlbG9naW4udXRpbC52YWxpZGF0aW9uLnZhbGlkYXRlQXJnQ291bnQ9ZnVuY3Rpb24oYSxkLGUsZil7dmFyIGc7ZjxkP2c9XCJhdCBsZWFzdCBcIitkOmY+ZSYmKGc9MD09PWU/XCJub25lXCI6XCJubyBtb3JlIHRoYW4gXCIrZSk7aWYoZyl0aHJvdyBFcnJvcihhK1wiIGZhaWxlZDogV2FzIGNhbGxlZCB3aXRoIFwiK2YrKDE9PT1mP1wiIGFyZ3VtZW50LlwiOlwiIGFyZ3VtZW50cy5cIikrXCIgRXhwZWN0cyBcIitnK1wiLlwiKTt9O2ZiLnNpbXBsZWxvZ2luLnV0aWwudmFsaWRhdGlvbi5pc1ZhbGlkRW1haWw9ZnVuY3Rpb24oYSl7cmV0dXJuIGdvb2cuaXNTdHJpbmcoYSkmJlZBTElEX0VNQUlMX1JFR0VYXy50ZXN0KGEpfTtcbmZiLnNpbXBsZWxvZ2luLnV0aWwudmFsaWRhdGlvbi5pc1ZhbGlkUGFzc3dvcmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGdvb2cuaXNTdHJpbmcoYSl9O2ZiLnNpbXBsZWxvZ2luLnV0aWwudmFsaWRhdGlvbi5pc1ZhbGlkTmFtZXNwYWNlPWZ1bmN0aW9uKGEpe3JldHVybiBnb29nLmlzU3RyaW5nKGEpfTtcbmZiLnNpbXBsZWxvZ2luLnV0aWwudmFsaWRhdGlvbi5lcnJvclByZWZpeF89ZnVuY3Rpb24oYSxkLGUpe3ZhciBmPVwiXCI7c3dpdGNoKGQpe2Nhc2UgMTpmPWU/XCJmaXJzdFwiOlwiRmlyc3RcIjticmVhaztjYXNlIDI6Zj1lP1wic2Vjb25kXCI6XCJTZWNvbmRcIjticmVhaztjYXNlIDM6Zj1lP1widGhpcmRcIjpcIlRoaXJkXCI7YnJlYWs7Y2FzZSA0OmY9ZT9cImZvdXJ0aFwiOlwiRm91cnRoXCI7YnJlYWs7ZGVmYXVsdDpmYi5jb3JlLnV0aWwudmFsaWRhdGlvbi5hc3NlcnQoITEsXCJlcnJvclByZWZpeF8gY2FsbGVkIHdpdGggYXJndW1lbnROdW1iZXIgPiA0LiAgTmVlZCB0byB1cGRhdGUgaXQ/XCIpfXJldHVybiBhPWErXCIgZmFpbGVkOiBcIisoZitcIiBhcmd1bWVudCBcIil9O1xuZmIuc2ltcGxlbG9naW4udXRpbC52YWxpZGF0aW9uLnZhbGlkYXRlTmFtZXNwYWNlPWZ1bmN0aW9uKGEsZCxlLGYpe2lmKCghZnx8Z29vZy5pc0RlZihlKSkmJiFnb29nLmlzU3RyaW5nKGUpKXRocm93IEVycm9yKGZiLnNpbXBsZWxvZ2luLnV0aWwudmFsaWRhdGlvbi5lcnJvclByZWZpeF8oYSxkLGYpK1wibXVzdCBiZSBhIHZhbGlkIGZpcmViYXNlIG5hbWVzcGFjZS5cIik7fTtmYi5zaW1wbGVsb2dpbi51dGlsLnZhbGlkYXRpb24udmFsaWRhdGVDYWxsYmFjaz1mdW5jdGlvbihhLGQsZSxmKXtpZigoIWZ8fGdvb2cuaXNEZWYoZSkpJiYhZ29vZy5pc0Z1bmN0aW9uKGUpKXRocm93IEVycm9yKGZiLnNpbXBsZWxvZ2luLnV0aWwudmFsaWRhdGlvbi5lcnJvclByZWZpeF8oYSxkLGYpK1wibXVzdCBiZSBhIHZhbGlkIGZ1bmN0aW9uLlwiKTt9O1xuZmIuc2ltcGxlbG9naW4udXRpbC52YWxpZGF0aW9uLnZhbGlkYXRlU3RyaW5nPWZ1bmN0aW9uKGEsZCxlLGYpe2lmKCghZnx8Z29vZy5pc0RlZihlKSkmJiFnb29nLmlzU3RyaW5nKGUpKXRocm93IEVycm9yKGZiLnNpbXBsZWxvZ2luLnV0aWwudmFsaWRhdGlvbi5lcnJvclByZWZpeF8oYSxkLGYpK1wibXVzdCBiZSBhIHZhbGlkIHN0cmluZy5cIik7fTtmYi5zaW1wbGVsb2dpbi51dGlsLnZhbGlkYXRpb24udmFsaWRhdGVDb250ZXh0T2JqZWN0PWZ1bmN0aW9uKGEsZCxlLGYpe2lmKCFmfHxnb29nLmlzRGVmKGUpKWlmKCFnb29nLmlzT2JqZWN0KGUpfHxudWxsPT09ZSl0aHJvdyBFcnJvcihmYi5zaW1wbGVsb2dpbi51dGlsLnZhbGlkYXRpb24uZXJyb3JQcmVmaXhfKGEsZCxmKStcIm11c3QgYmUgYSB2YWxpZCBjb250ZXh0IG9iamVjdC5cIik7fTt2YXIgQ0FMTEJBQ0tfTkFNRVNQQUNFPVwiX0ZpcmViYXNlU2ltcGxlTG9naW5KU09OUFwiO2ZiLnNpbXBsZWxvZ2luLnRyYW5zcG9ydHMuSlNPTlBfPWZ1bmN0aW9uKCl7d2luZG93W0NBTExCQUNLX05BTUVTUEFDRV09d2luZG93W0NBTExCQUNLX05BTUVTUEFDRV18fHt9fTtmYi5zaW1wbGVsb2dpbi50cmFuc3BvcnRzLkpTT05QXy5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihhLGQsZSl7YSs9L1xcPy8udGVzdChhKT9cIlwiOlwiP1wiO2ErPVwiJnRyYW5zcG9ydD1qc29ucFwiO2Zvcih2YXIgZiBpbiBkKWErPVwiJlwiK2VuY29kZVVSSUNvbXBvbmVudChmKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQoZFtmXSk7ZD10aGlzLmdlbmVyYXRlUmVxdWVzdElkXygpO2ErPVwiJmNhbGxiYWNrPVwiK2VuY29kZVVSSUNvbXBvbmVudChDQUxMQkFDS19OQU1FU1BBQ0UrXCIuXCIrZCk7dGhpcy5yZWdpc3RlckNhbGxiYWNrXyhkLGUpO3RoaXMud3JpdGVTY3JpcHRUYWdfKGQsYSxlKX07XG5mYi5zaW1wbGVsb2dpbi50cmFuc3BvcnRzLkpTT05QXy5wcm90b3R5cGUuZ2VuZXJhdGVSZXF1ZXN0SWRfPWZ1bmN0aW9uKCl7cmV0dXJuXCJfRmlyZWJhc2VKU09OUFwiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpK01hdGguZmxvb3IoMTAwKk1hdGgucmFuZG9tKCkpfTtmYi5zaW1wbGVsb2dpbi50cmFuc3BvcnRzLkpTT05QXy5wcm90b3R5cGUucmVnaXN0ZXJDYWxsYmFja189ZnVuY3Rpb24oYSxkKXt2YXIgZT10aGlzO3dpbmRvd1tDQUxMQkFDS19OQU1FU1BBQ0VdW2FdPWZ1bmN0aW9uKGYpe3ZhciBnPWYuZXJyb3J8fG51bGw7ZGVsZXRlIGYuZXJyb3I7ZChnLGYpO2UucmVtb3ZlQ2FsbGJhY2tfKGEpfX07XG5mYi5zaW1wbGVsb2dpbi50cmFuc3BvcnRzLkpTT05QXy5wcm90b3R5cGUucmVtb3ZlQ2FsbGJhY2tfPWZ1bmN0aW9uKGEpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtkZWxldGUgd2luZG93W0NBTExCQUNLX05BTUVTUEFDRV1bYV07dmFyIGQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSk7ZCYmZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpfSwwKX07XG5mYi5zaW1wbGVsb2dpbi50cmFuc3BvcnRzLkpTT05QXy5wcm90b3R5cGUud3JpdGVTY3JpcHRUYWdfPWZ1bmN0aW9uKGEsZCxlKXt2YXIgZj10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0cnl7dmFyIGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtnLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIjtnLmlkPWE7Zy5hc3luYz0hMDtnLnNyYz1kO2cub25lcnJvcj1mdW5jdGlvbigpe3ZhciBkPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpO251bGwhPT1kJiZkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZCk7ZSYmZShmLmZvcm1hdEVycm9yXyh7Y29kZTpcIlNFUlZFUl9FUlJPUlwiLG1lc3NhZ2U6XCJBbiB1bmtub3duIHNlcnZlciBlcnJvciBvY2N1cnJlZC5cIn0pKX07ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKGcpfWNhdGNoKGgpe2UmJmUoZi5mb3JtYXRFcnJvcl8oe2NvZGU6XCJTRVJWRVJfRVJST1JcIixtZXNzYWdlOlwiQW4gdW5rbm93biBzZXJ2ZXIgZXJyb3Igb2NjdXJyZWQuXCJ9KSl9fSxcbjApfTtmYi5zaW1wbGVsb2dpbi50cmFuc3BvcnRzLkpTT05QXy5wcm90b3R5cGUuZm9ybWF0RXJyb3JfPWZ1bmN0aW9uKGEpe3ZhciBkO2E/KGQ9RXJyb3IoYS5tZXNzYWdlKSxkLmNvZGU9YS5jb2RlfHxcIlVOS05PV05fRVJST1JcIik6KGQ9RXJyb3IoKSxkLmNvZGU9XCJVTktOT1dOX0VSUk9SXCIpO3JldHVybiBkfTtmYi5zaW1wbGVsb2dpbi50cmFuc3BvcnRzLkpTT05QPW5ldyBmYi5zaW1wbGVsb2dpbi50cmFuc3BvcnRzLkpTT05QXztmYi5zaW1wbGVsb2dpbi5wcm92aWRlcnM9e307ZmIuc2ltcGxlbG9naW4ucHJvdmlkZXJzLlBhc3N3b3JkXz1mdW5jdGlvbigpe307ZmIuc2ltcGxlbG9naW4ucHJvdmlkZXJzLlBhc3N3b3JkXy5wcm90b3R5cGUuZ2V0VHJhbnNwb3J0Xz1mdW5jdGlvbigpe3JldHVybiBmYi5zaW1wbGVsb2dpbi50cmFuc3BvcnRzLlhIUi5pc0F2YWlsYWJsZSgpP2ZiLnNpbXBsZWxvZ2luLnRyYW5zcG9ydHMuWEhSOmZiLnNpbXBsZWxvZ2luLnRyYW5zcG9ydHMuSlNPTlB9O1xuZmIuc2ltcGxlbG9naW4ucHJvdmlkZXJzLlBhc3N3b3JkXy5wcm90b3R5cGUubG9naW49ZnVuY3Rpb24oYSxkKXt2YXIgZT1mYi5zaW1wbGVsb2dpbi5WYXJzLmdldEFwaUhvc3QoKStcIi9hdXRoL2ZpcmViYXNlXCI7aWYoIWZiLnNpbXBsZWxvZ2luLnV0aWwudmFsaWRhdGlvbi5pc1ZhbGlkTmFtZXNwYWNlKGEuZmlyZWJhc2UpKXJldHVybiBkJiZkKFwiSU5WQUxJRF9GSVJFQkFTRVwiKTt0aGlzLmdldFRyYW5zcG9ydF8oKS5vcGVuKGUsYSxkKX07XG5mYi5zaW1wbGVsb2dpbi5wcm92aWRlcnMuUGFzc3dvcmRfLnByb3RvdHlwZS5jcmVhdGVVc2VyPWZ1bmN0aW9uKGEsZCl7dmFyIGU9ZmIuc2ltcGxlbG9naW4uVmFycy5nZXRBcGlIb3N0KCkrXCIvYXV0aC9maXJlYmFzZS9jcmVhdGVcIjtpZighZmIuc2ltcGxlbG9naW4udXRpbC52YWxpZGF0aW9uLmlzVmFsaWROYW1lc3BhY2UoYS5maXJlYmFzZSkpcmV0dXJuIGQmJmQoXCJJTlZBTElEX0ZJUkVCQVNFXCIpO2lmKCFmYi5zaW1wbGVsb2dpbi51dGlsLnZhbGlkYXRpb24uaXNWYWxpZEVtYWlsKGEuZW1haWwpKXJldHVybiBkJiZkKFwiSU5WQUxJRF9FTUFJTFwiKTtpZighZmIuc2ltcGxlbG9naW4udXRpbC52YWxpZGF0aW9uLmlzVmFsaWRQYXNzd29yZChhLnBhc3N3b3JkKSlyZXR1cm4gZCYmZChcIklOVkFMSURfUEFTU1dPUkRcIik7dGhpcy5nZXRUcmFuc3BvcnRfKCkub3BlbihlLGEsZCl9O1xuZmIuc2ltcGxlbG9naW4ucHJvdmlkZXJzLlBhc3N3b3JkXy5wcm90b3R5cGUuY2hhbmdlUGFzc3dvcmQ9ZnVuY3Rpb24oYSxkKXt2YXIgZT1mYi5zaW1wbGVsb2dpbi5WYXJzLmdldEFwaUhvc3QoKStcIi9hdXRoL2ZpcmViYXNlL3VwZGF0ZVwiO2lmKCFmYi5zaW1wbGVsb2dpbi51dGlsLnZhbGlkYXRpb24uaXNWYWxpZE5hbWVzcGFjZShhLmZpcmViYXNlKSlyZXR1cm4gZCYmZChcIklOVkFMSURfRklSRUJBU0VcIik7aWYoIWZiLnNpbXBsZWxvZ2luLnV0aWwudmFsaWRhdGlvbi5pc1ZhbGlkRW1haWwoYS5lbWFpbCkpcmV0dXJuIGQmJmQoXCJJTlZBTElEX0VNQUlMXCIpO2lmKCFmYi5zaW1wbGVsb2dpbi51dGlsLnZhbGlkYXRpb24uaXNWYWxpZFBhc3N3b3JkKGEubmV3UGFzc3dvcmQpKXJldHVybiBkJiZkKFwiSU5WQUxJRF9QQVNTV09SRFwiKTt0aGlzLmdldFRyYW5zcG9ydF8oKS5vcGVuKGUsYSxkKX07XG5mYi5zaW1wbGVsb2dpbi5wcm92aWRlcnMuUGFzc3dvcmRfLnByb3RvdHlwZS5yZW1vdmVVc2VyPWZ1bmN0aW9uKGEsZCl7dmFyIGU9ZmIuc2ltcGxlbG9naW4uVmFycy5nZXRBcGlIb3N0KCkrXCIvYXV0aC9maXJlYmFzZS9yZW1vdmVcIjtpZighZmIuc2ltcGxlbG9naW4udXRpbC52YWxpZGF0aW9uLmlzVmFsaWROYW1lc3BhY2UoYS5maXJlYmFzZSkpcmV0dXJuIGQmJmQoXCJJTlZBTElEX0ZJUkVCQVNFXCIpO2lmKCFmYi5zaW1wbGVsb2dpbi51dGlsLnZhbGlkYXRpb24uaXNWYWxpZEVtYWlsKGEuZW1haWwpKXJldHVybiBkJiZkKFwiSU5WQUxJRF9FTUFJTFwiKTtpZighZmIuc2ltcGxlbG9naW4udXRpbC52YWxpZGF0aW9uLmlzVmFsaWRQYXNzd29yZChhLnBhc3N3b3JkKSlyZXR1cm4gZCYmZChcIklOVkFMSURfUEFTU1dPUkRcIik7dGhpcy5nZXRUcmFuc3BvcnRfKCkub3BlbihlLGEsZCl9O1xuZmIuc2ltcGxlbG9naW4ucHJvdmlkZXJzLlBhc3N3b3JkXy5wcm90b3R5cGUuc2VuZFBhc3N3b3JkUmVzZXRFbWFpbD1mdW5jdGlvbihhLGQpe3ZhciBlPWZiLnNpbXBsZWxvZ2luLlZhcnMuZ2V0QXBpSG9zdCgpK1wiL2F1dGgvZmlyZWJhc2UvcmVzZXRfcGFzc3dvcmRcIjtpZighZmIuc2ltcGxlbG9naW4udXRpbC52YWxpZGF0aW9uLmlzVmFsaWROYW1lc3BhY2UoYS5maXJlYmFzZSkpcmV0dXJuIGQmJmQoXCJJTlZBTElEX0ZJUkVCQVNFXCIpO2lmKCFmYi5zaW1wbGVsb2dpbi51dGlsLnZhbGlkYXRpb24uaXNWYWxpZEVtYWlsKGEuZW1haWwpKXJldHVybiBkJiZkKFwiSU5WQUxJRF9FTUFJTFwiKTt0aGlzLmdldFRyYW5zcG9ydF8oKS5vcGVuKGUsYSxkKX07ZmIuc2ltcGxlbG9naW4ucHJvdmlkZXJzLlBhc3N3b3JkPW5ldyBmYi5zaW1wbGVsb2dpbi5wcm92aWRlcnMuUGFzc3dvcmRfO2ZiLnNpbXBsZWxvZ2luLnRyYW5zcG9ydHMuV2luZG93c01ldHJvQXV0aEJyb2tlcl89ZnVuY3Rpb24oKXt9O1xuZmIuc2ltcGxlbG9naW4udHJhbnNwb3J0cy5XaW5kb3dzTWV0cm9BdXRoQnJva2VyXy5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihhLGQsZSl7dmFyIGYsZyxoLGssbCxuO3RyeXtmPXdpbmRvdy5XaW5kb3dzLkZvdW5kYXRpb24uVXJpLGc9d2luZG93LldpbmRvd3MuU2VjdXJpdHkuQXV0aGVudGljYXRpb24uV2ViLldlYkF1dGhlbnRpY2F0aW9uT3B0aW9ucyxoPXdpbmRvdy5XaW5kb3dzLlNlY3VyaXR5LkF1dGhlbnRpY2F0aW9uLldlYi5XZWJBdXRoZW50aWNhdGlvbkJyb2tlcixrPWguYXV0aGVudGljYXRlQXN5bmN9Y2F0Y2gocSl7cmV0dXJuIGUoe2NvZGU6XCJXSU5ET1dTX01FVFJPXCIsbWVzc2FnZTonXCJXaW5kb3dzLlNlY3VyaXR5LkF1dGhlbnRpY2F0aW9uLldlYi5XZWJBdXRoZW50aWNhdGlvbkJyb2tlclwiIHJlcXVpcmVkIHdoZW4gdXNpbmcgRmlyZWJhc2UgU2ltcGxlIExvZ2luIGluIFdpbmRvd3MgTWV0cm8gY29udGV4dCd9KX1sPSExO249ZnVuY3Rpb24oKXt2YXIgYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuYXBwbHkoYXJndW1lbnRzKTtcbmx8fChsPSEwLGUuYXBwbHkobnVsbCxhKSl9O2E9bmV3IGYoYStcIiZ0cmFuc3BvcnQ9aW50ZXJuYWwtcmVkaXJlY3QtaGFzaFwiKTtmPW5ldyBmKGZiLnNpbXBsZWxvZ2luLlZhcnMuZ2V0QXBpSG9zdCgpK1wiL2JsYW5rL3BhZ2UuaHRtbFwiKTtrKGcubm9uZSxhLGYpLmRvbmUoZnVuY3Rpb24oYSl7dmFyIGQ7aWYoYSYmYS5yZXNwb25zZURhdGEpdHJ5e3ZhciBlPWZiLnNpbXBsZWxvZ2luLnV0aWwubWlzYy5wYXJzZVVybChhLnJlc3BvbnNlRGF0YSksZj1mYi5zaW1wbGVsb2dpbi51dGlsLm1pc2MucGFyc2VRdWVyeXN0cmluZyhlLmhhc2gpO2E9e307Zm9yKHZhciBnIGluIGYpYVtnXT1mYi5zaW1wbGVsb2dpbi51dGlsLmpzb24ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KGZbZ10pKTtkPWF9Y2F0Y2goaCl7fWQmJmQudG9rZW4mJmQudXNlcj9uKG51bGwsZCk6ZCYmZC5lcnJvcj9uKGQuZXJyb3IpOm4oe2NvZGU6XCJSRVNQT05TRV9QQVlMT0FEX0VSUk9SXCIsbWVzc2FnZTpcIlVuYWJsZSB0byBwYXJzZSByZXNwb25zZSBwYXlsb2FkIGZvciBXaW5kb3dzLlwifSl9LFxuZnVuY3Rpb24oYSl7bih7Y29kZTpcIlVOS05PV05fRVJST1JcIixtZXNzYWdlOlwiQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZCBmb3IgV2luZG93cy5cIn0pfSl9O2ZiLnNpbXBsZWxvZ2luLnRyYW5zcG9ydHMuV2luZG93c01ldHJvQXV0aEJyb2tlcj1uZXcgZmIuc2ltcGxlbG9naW4udHJhbnNwb3J0cy5XaW5kb3dzTWV0cm9BdXRoQnJva2VyXztnb29nLnN0cmluZz17fTtnb29nLnN0cmluZy5Vbmljb2RlPXtOQlNQOlwiXFx1MDBhMFwifTtnb29nLnN0cmluZy5zdGFydHNXaXRoPWZ1bmN0aW9uKGEsZCl7cmV0dXJuIDA9PWEubGFzdEluZGV4T2YoZCwwKX07Z29vZy5zdHJpbmcuZW5kc1dpdGg9ZnVuY3Rpb24oYSxkKXt2YXIgZT1hLmxlbmd0aC1kLmxlbmd0aDtyZXR1cm4gMDw9ZSYmYS5pbmRleE9mKGQsZSk9PWV9O2dvb2cuc3RyaW5nLmNhc2VJbnNlbnNpdGl2ZVN0YXJ0c1dpdGg9ZnVuY3Rpb24oYSxkKXtyZXR1cm4gMD09Z29vZy5zdHJpbmcuY2FzZUluc2Vuc2l0aXZlQ29tcGFyZShkLGEuc3Vic3RyKDAsZC5sZW5ndGgpKX07Z29vZy5zdHJpbmcuY2FzZUluc2Vuc2l0aXZlRW5kc1dpdGg9ZnVuY3Rpb24oYSxkKXtyZXR1cm4gMD09Z29vZy5zdHJpbmcuY2FzZUluc2Vuc2l0aXZlQ29tcGFyZShkLGEuc3Vic3RyKGEubGVuZ3RoLWQubGVuZ3RoLGQubGVuZ3RoKSl9O1xuZ29vZy5zdHJpbmcuY2FzZUluc2Vuc2l0aXZlRXF1YWxzPWZ1bmN0aW9uKGEsZCl7cmV0dXJuIGEudG9Mb3dlckNhc2UoKT09ZC50b0xvd2VyQ2FzZSgpfTtnb29nLnN0cmluZy5zdWJzPWZ1bmN0aW9uKGEsZCl7Zm9yKHZhciBlPWEuc3BsaXQoXCIlc1wiKSxmPVwiXCIsZz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7Zy5sZW5ndGgmJjE8ZS5sZW5ndGg7KWYrPWUuc2hpZnQoKStnLnNoaWZ0KCk7cmV0dXJuIGYrZS5qb2luKFwiJXNcIil9O2dvb2cuc3RyaW5nLmNvbGxhcHNlV2hpdGVzcGFjZT1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9bXFxzXFx4YTBdKy9nLFwiIFwiKS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLFwiXCIpfTtnb29nLnN0cmluZy5pc0VtcHR5PWZ1bmN0aW9uKGEpe3JldHVybi9eW1xcc1xceGEwXSokLy50ZXN0KGEpfTtnb29nLnN0cmluZy5pc0VtcHR5U2FmZT1mdW5jdGlvbihhKXtyZXR1cm4gZ29vZy5zdHJpbmcuaXNFbXB0eShnb29nLnN0cmluZy5tYWtlU2FmZShhKSl9O1xuZ29vZy5zdHJpbmcuaXNCcmVha2luZ1doaXRlc3BhY2U9ZnVuY3Rpb24oYSl7cmV0dXJuIS9bXlxcdFxcblxcciBdLy50ZXN0KGEpfTtnb29nLnN0cmluZy5pc0FscGhhPWZ1bmN0aW9uKGEpe3JldHVybiEvW15hLXpBLVpdLy50ZXN0KGEpfTtnb29nLnN0cmluZy5pc051bWVyaWM9ZnVuY3Rpb24oYSl7cmV0dXJuIS9bXjAtOV0vLnRlc3QoYSl9O2dvb2cuc3RyaW5nLmlzQWxwaGFOdW1lcmljPWZ1bmN0aW9uKGEpe3JldHVybiEvW15hLXpBLVowLTldLy50ZXN0KGEpfTtnb29nLnN0cmluZy5pc1NwYWNlPWZ1bmN0aW9uKGEpe3JldHVyblwiIFwiPT1hfTtnb29nLnN0cmluZy5pc1VuaWNvZGVDaGFyPWZ1bmN0aW9uKGEpe3JldHVybiAxPT1hLmxlbmd0aCYmXCIgXCI8PWEmJlwiflwiPj1hfHxcIlxcdTAwODBcIjw9YSYmXCJcXHVmZmZkXCI+PWF9O2dvb2cuc3RyaW5nLnN0cmlwTmV3bGluZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvKFxcclxcbnxcXHJ8XFxuKSsvZyxcIiBcIil9O1xuZ29vZy5zdHJpbmcuY2Fub25pY2FsaXplTmV3bGluZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvKFxcclxcbnxcXHJ8XFxuKS9nLFwiXFxuXCIpfTtnb29nLnN0cmluZy5ub3JtYWxpemVXaGl0ZXNwYWNlPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL1xceGEwfFxccy9nLFwiIFwiKX07Z29vZy5zdHJpbmcubm9ybWFsaXplU3BhY2VzPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL1xceGEwfFsgXFx0XSsvZyxcIiBcIil9O2dvb2cuc3RyaW5nLmNvbGxhcHNlQnJlYWtpbmdTcGFjZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvW1xcdFxcclxcbiBdKy9nLFwiIFwiKS5yZXBsYWNlKC9eW1xcdFxcclxcbiBdK3xbXFx0XFxyXFxuIF0rJC9nLFwiXCIpfTtnb29nLnN0cmluZy50cmltPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL15bXFxzXFx4YTBdK3xbXFxzXFx4YTBdKyQvZyxcIlwiKX07XG5nb29nLnN0cmluZy50cmltTGVmdD1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9eW1xcc1xceGEwXSsvLFwiXCIpfTtnb29nLnN0cmluZy50cmltUmlnaHQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvW1xcc1xceGEwXSskLyxcIlwiKX07Z29vZy5zdHJpbmcuY2FzZUluc2Vuc2l0aXZlQ29tcGFyZT1mdW5jdGlvbihhLGQpe3ZhciBlPVN0cmluZyhhKS50b0xvd2VyQ2FzZSgpLGY9U3RyaW5nKGQpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGU8Zj8tMTplPT1mPzA6MX07Z29vZy5zdHJpbmcubnVtZXJhdGVDb21wYXJlUmVnRXhwXz0vKFxcLlxcZCspfChcXGQrKXwoXFxEKykvZztcbmdvb2cuc3RyaW5nLm51bWVyYXRlQ29tcGFyZT1mdW5jdGlvbihhLGQpe2lmKGE9PWQpcmV0dXJuIDA7aWYoIWEpcmV0dXJuLTE7aWYoIWQpcmV0dXJuIDE7Zm9yKHZhciBlPWEudG9Mb3dlckNhc2UoKS5tYXRjaChnb29nLnN0cmluZy5udW1lcmF0ZUNvbXBhcmVSZWdFeHBfKSxmPWQudG9Mb3dlckNhc2UoKS5tYXRjaChnb29nLnN0cmluZy5udW1lcmF0ZUNvbXBhcmVSZWdFeHBfKSxnPU1hdGgubWluKGUubGVuZ3RoLGYubGVuZ3RoKSxoPTA7aDxnO2grKyl7dmFyIGs9ZVtoXSxsPWZbaF07aWYoayE9bClyZXR1cm4gZT1wYXJzZUludChrLDEwKSwhaXNOYU4oZSkmJihmPXBhcnNlSW50KGwsMTApLCFpc05hTihmKSYmZS1mKT9lLWY6azxsPy0xOjF9cmV0dXJuIGUubGVuZ3RoIT1mLmxlbmd0aD9lLmxlbmd0aC1mLmxlbmd0aDphPGQ/LTE6MX07Z29vZy5zdHJpbmcudXJsRW5jb2RlPWZ1bmN0aW9uKGEpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGEpKX07XG5nb29nLnN0cmluZy51cmxEZWNvZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChhLnJlcGxhY2UoL1xcKy9nLFwiIFwiKSl9O2dvb2cuc3RyaW5nLm5ld0xpbmVUb0JyPWZ1bmN0aW9uKGEsZCl7cmV0dXJuIGEucmVwbGFjZSgvKFxcclxcbnxcXHJ8XFxuKS9nLGQ/XCI8YnIgLz5cIjpcIjxicj5cIil9O1xuZ29vZy5zdHJpbmcuaHRtbEVzY2FwZT1mdW5jdGlvbihhLGQpe2lmKGQpcmV0dXJuIGEucmVwbGFjZShnb29nLnN0cmluZy5hbXBlclJlXyxcIiZhbXA7XCIpLnJlcGxhY2UoZ29vZy5zdHJpbmcubHRSZV8sXCImbHQ7XCIpLnJlcGxhY2UoZ29vZy5zdHJpbmcuZ3RSZV8sXCImZ3Q7XCIpLnJlcGxhY2UoZ29vZy5zdHJpbmcucXVvdFJlXyxcIiZxdW90O1wiKS5yZXBsYWNlKGdvb2cuc3RyaW5nLnNpbmdsZVF1b3RlUmVfLFwiJiMzOTtcIik7aWYoIWdvb2cuc3RyaW5nLmFsbFJlXy50ZXN0KGEpKXJldHVybiBhOy0xIT1hLmluZGV4T2YoXCImXCIpJiYoYT1hLnJlcGxhY2UoZ29vZy5zdHJpbmcuYW1wZXJSZV8sXCImYW1wO1wiKSk7LTEhPWEuaW5kZXhPZihcIjxcIikmJihhPWEucmVwbGFjZShnb29nLnN0cmluZy5sdFJlXyxcIiZsdDtcIikpOy0xIT1hLmluZGV4T2YoXCI+XCIpJiYoYT1hLnJlcGxhY2UoZ29vZy5zdHJpbmcuZ3RSZV8sXCImZ3Q7XCIpKTstMSE9YS5pbmRleE9mKCdcIicpJiYoYT1hLnJlcGxhY2UoZ29vZy5zdHJpbmcucXVvdFJlXyxcblwiJnF1b3Q7XCIpKTstMSE9YS5pbmRleE9mKFwiJ1wiKSYmKGE9YS5yZXBsYWNlKGdvb2cuc3RyaW5nLnNpbmdsZVF1b3RlUmVfLFwiJiMzOTtcIikpO3JldHVybiBhfTtnb29nLnN0cmluZy5hbXBlclJlXz0vJi9nO2dvb2cuc3RyaW5nLmx0UmVfPS88L2c7Z29vZy5zdHJpbmcuZ3RSZV89Lz4vZztnb29nLnN0cmluZy5xdW90UmVfPS9cIi9nO2dvb2cuc3RyaW5nLnNpbmdsZVF1b3RlUmVfPS8nL2c7Z29vZy5zdHJpbmcuYWxsUmVfPS9bJjw+XCInXS87Z29vZy5zdHJpbmcudW5lc2NhcGVFbnRpdGllcz1mdW5jdGlvbihhKXtyZXR1cm4gZ29vZy5zdHJpbmcuY29udGFpbnMoYSxcIiZcIik/XCJkb2N1bWVudFwiaW4gZ29vZy5nbG9iYWw/Z29vZy5zdHJpbmcudW5lc2NhcGVFbnRpdGllc1VzaW5nRG9tXyhhKTpnb29nLnN0cmluZy51bmVzY2FwZVB1cmVYbWxFbnRpdGllc18oYSk6YX07XG5nb29nLnN0cmluZy51bmVzY2FwZUVudGl0aWVzV2l0aERvY3VtZW50PWZ1bmN0aW9uKGEsZCl7cmV0dXJuIGdvb2cuc3RyaW5nLmNvbnRhaW5zKGEsXCImXCIpP2dvb2cuc3RyaW5nLnVuZXNjYXBlRW50aXRpZXNVc2luZ0RvbV8oYSxkKTphfTtcbmdvb2cuc3RyaW5nLnVuZXNjYXBlRW50aXRpZXNVc2luZ0RvbV89ZnVuY3Rpb24oYSxkKXt2YXIgZT17XCImYW1wO1wiOlwiJlwiLFwiJmx0O1wiOlwiPFwiLFwiJmd0O1wiOlwiPlwiLFwiJnF1b3Q7XCI6J1wiJ30sZjtmPWQ/ZC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIGEucmVwbGFjZShnb29nLnN0cmluZy5IVE1MX0VOVElUWV9QQVRURVJOXyxmdW5jdGlvbihhLGQpe3ZhciBrPWVbYV07aWYoaylyZXR1cm4gaztpZihcIiNcIj09ZC5jaGFyQXQoMCkpe3ZhciBsPU51bWJlcihcIjBcIitkLnN1YnN0cigxKSk7aXNOYU4obCl8fChrPVN0cmluZy5mcm9tQ2hhckNvZGUobCkpfWt8fChmLmlubmVySFRNTD1hK1wiIFwiLGs9Zi5maXJzdENoaWxkLm5vZGVWYWx1ZS5zbGljZSgwLC0xKSk7cmV0dXJuIGVbYV09a30pfTtcbmdvb2cuc3RyaW5nLnVuZXNjYXBlUHVyZVhtbEVudGl0aWVzXz1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC8mKFteO10rKTsvZyxmdW5jdGlvbihhLGUpe3N3aXRjaChlKXtjYXNlIFwiYW1wXCI6cmV0dXJuXCImXCI7Y2FzZSBcImx0XCI6cmV0dXJuXCI8XCI7Y2FzZSBcImd0XCI6cmV0dXJuXCI+XCI7Y2FzZSBcInF1b3RcIjpyZXR1cm4nXCInO2RlZmF1bHQ6aWYoXCIjXCI9PWUuY2hhckF0KDApKXt2YXIgZj1OdW1iZXIoXCIwXCIrZS5zdWJzdHIoMSkpO2lmKCFpc05hTihmKSlyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShmKX1yZXR1cm4gYX19KX07Z29vZy5zdHJpbmcuSFRNTF9FTlRJVFlfUEFUVEVSTl89LyYoW147XFxzPCZdKyk7Py9nO2dvb2cuc3RyaW5nLndoaXRlc3BhY2VFc2NhcGU9ZnVuY3Rpb24oYSxkKXtyZXR1cm4gZ29vZy5zdHJpbmcubmV3TGluZVRvQnIoYS5yZXBsYWNlKC8gIC9nLFwiICYjMTYwO1wiKSxkKX07XG5nb29nLnN0cmluZy5zdHJpcFF1b3Rlcz1mdW5jdGlvbihhLGQpe2Zvcih2YXIgZT1kLmxlbmd0aCxmPTA7ZjxlO2YrKyl7dmFyIGc9MT09ZT9kOmQuY2hhckF0KGYpO2lmKGEuY2hhckF0KDApPT1nJiZhLmNoYXJBdChhLmxlbmd0aC0xKT09ZylyZXR1cm4gYS5zdWJzdHJpbmcoMSxhLmxlbmd0aC0xKX1yZXR1cm4gYX07Z29vZy5zdHJpbmcudHJ1bmNhdGU9ZnVuY3Rpb24oYSxkLGUpe2UmJihhPWdvb2cuc3RyaW5nLnVuZXNjYXBlRW50aXRpZXMoYSkpO2EubGVuZ3RoPmQmJihhPWEuc3Vic3RyaW5nKDAsZC0zKStcIi4uLlwiKTtlJiYoYT1nb29nLnN0cmluZy5odG1sRXNjYXBlKGEpKTtyZXR1cm4gYX07XG5nb29nLnN0cmluZy50cnVuY2F0ZU1pZGRsZT1mdW5jdGlvbihhLGQsZSxmKXtlJiYoYT1nb29nLnN0cmluZy51bmVzY2FwZUVudGl0aWVzKGEpKTtpZihmJiZhLmxlbmd0aD5kKXtmPmQmJihmPWQpO3ZhciBnPWEubGVuZ3RoLWY7YT1hLnN1YnN0cmluZygwLGQtZikrXCIuLi5cIithLnN1YnN0cmluZyhnKX1lbHNlIGEubGVuZ3RoPmQmJihmPU1hdGguZmxvb3IoZC8yKSxnPWEubGVuZ3RoLWYsYT1hLnN1YnN0cmluZygwLGYrZCUyKStcIi4uLlwiK2Euc3Vic3RyaW5nKGcpKTtlJiYoYT1nb29nLnN0cmluZy5odG1sRXNjYXBlKGEpKTtyZXR1cm4gYX07Z29vZy5zdHJpbmcuc3BlY2lhbEVzY2FwZUNoYXJzXz17XCJcXHgwMFwiOlwiXFxcXDBcIixcIlxcYlwiOlwiXFxcXGJcIixcIlxcZlwiOlwiXFxcXGZcIixcIlxcblwiOlwiXFxcXG5cIixcIlxcclwiOlwiXFxcXHJcIixcIlxcdFwiOlwiXFxcXHRcIixcIlxceDBCXCI6XCJcXFxceDBCXCIsJ1wiJzonXFxcXFwiJyxcIlxcXFxcIjpcIlxcXFxcXFxcXCJ9O2dvb2cuc3RyaW5nLmpzRXNjYXBlQ2FjaGVfPXtcIidcIjpcIlxcXFwnXCJ9O1xuZ29vZy5zdHJpbmcucXVvdGU9ZnVuY3Rpb24oYSl7YT1TdHJpbmcoYSk7aWYoYS5xdW90ZSlyZXR1cm4gYS5xdW90ZSgpO2Zvcih2YXIgZD1bJ1wiJ10sZT0wO2U8YS5sZW5ndGg7ZSsrKXt2YXIgZj1hLmNoYXJBdChlKSxnPWYuY2hhckNvZGVBdCgwKTtkW2UrMV09Z29vZy5zdHJpbmcuc3BlY2lhbEVzY2FwZUNoYXJzX1tmXXx8KDMxPGcmJjEyNz5nP2Y6Z29vZy5zdHJpbmcuZXNjYXBlQ2hhcihmKSl9ZC5wdXNoKCdcIicpO3JldHVybiBkLmpvaW4oXCJcIil9O2dvb2cuc3RyaW5nLmVzY2FwZVN0cmluZz1mdW5jdGlvbihhKXtmb3IodmFyIGQ9W10sZT0wO2U8YS5sZW5ndGg7ZSsrKWRbZV09Z29vZy5zdHJpbmcuZXNjYXBlQ2hhcihhLmNoYXJBdChlKSk7cmV0dXJuIGQuam9pbihcIlwiKX07XG5nb29nLnN0cmluZy5lc2NhcGVDaGFyPWZ1bmN0aW9uKGEpe2lmKGEgaW4gZ29vZy5zdHJpbmcuanNFc2NhcGVDYWNoZV8pcmV0dXJuIGdvb2cuc3RyaW5nLmpzRXNjYXBlQ2FjaGVfW2FdO2lmKGEgaW4gZ29vZy5zdHJpbmcuc3BlY2lhbEVzY2FwZUNoYXJzXylyZXR1cm4gZ29vZy5zdHJpbmcuanNFc2NhcGVDYWNoZV9bYV09Z29vZy5zdHJpbmcuc3BlY2lhbEVzY2FwZUNoYXJzX1thXTt2YXIgZD1hLGU9YS5jaGFyQ29kZUF0KDApO2lmKDMxPGUmJjEyNz5lKWQ9YTtlbHNle2lmKDI1Nj5lKXtpZihkPVwiXFxcXHhcIiwxNj5lfHwyNTY8ZSlkKz1cIjBcIn1lbHNlIGQ9XCJcXFxcdVwiLDQwOTY+ZSYmKGQrPVwiMFwiKTtkKz1lLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpfXJldHVybiBnb29nLnN0cmluZy5qc0VzY2FwZUNhY2hlX1thXT1kfTtnb29nLnN0cmluZy50b01hcD1mdW5jdGlvbihhKXtmb3IodmFyIGQ9e30sZT0wO2U8YS5sZW5ndGg7ZSsrKWRbYS5jaGFyQXQoZSldPSEwO3JldHVybiBkfTtcbmdvb2cuc3RyaW5nLmNvbnRhaW5zPWZ1bmN0aW9uKGEsZCl7cmV0dXJuLTEhPWEuaW5kZXhPZihkKX07Z29vZy5zdHJpbmcuY291bnRPZj1mdW5jdGlvbihhLGQpe3JldHVybiBhJiZkP2Euc3BsaXQoZCkubGVuZ3RoLTE6MH07Z29vZy5zdHJpbmcucmVtb3ZlQXQ9ZnVuY3Rpb24oYSxkLGUpe3ZhciBmPWE7MDw9ZCYmZDxhLmxlbmd0aCYmMDxlJiYoZj1hLnN1YnN0cigwLGQpK2Euc3Vic3RyKGQrZSxhLmxlbmd0aC1kLWUpKTtyZXR1cm4gZn07Z29vZy5zdHJpbmcucmVtb3ZlPWZ1bmN0aW9uKGEsZCl7dmFyIGU9UmVnRXhwKGdvb2cuc3RyaW5nLnJlZ0V4cEVzY2FwZShkKSxcIlwiKTtyZXR1cm4gYS5yZXBsYWNlKGUsXCJcIil9O2dvb2cuc3RyaW5nLnJlbW92ZUFsbD1mdW5jdGlvbihhLGQpe3ZhciBlPVJlZ0V4cChnb29nLnN0cmluZy5yZWdFeHBFc2NhcGUoZCksXCJnXCIpO3JldHVybiBhLnJlcGxhY2UoZSxcIlwiKX07XG5nb29nLnN0cmluZy5yZWdFeHBFc2NhcGU9ZnVuY3Rpb24oYSl7cmV0dXJuIFN0cmluZyhhKS5yZXBsYWNlKC8oWy0oKVxcW1xcXXt9Kz8qLiRcXF58LDojPCFcXFxcXSkvZyxcIlxcXFwkMVwiKS5yZXBsYWNlKC9cXHgwOC9nLFwiXFxcXHgwOFwiKX07Z29vZy5zdHJpbmcucmVwZWF0PWZ1bmN0aW9uKGEsZCl7cmV0dXJuIEFycmF5KGQrMSkuam9pbihhKX07Z29vZy5zdHJpbmcucGFkTnVtYmVyPWZ1bmN0aW9uKGEsZCxlKXthPWdvb2cuaXNEZWYoZSk/YS50b0ZpeGVkKGUpOlN0cmluZyhhKTtlPWEuaW5kZXhPZihcIi5cIik7LTE9PWUmJihlPWEubGVuZ3RoKTtyZXR1cm4gZ29vZy5zdHJpbmcucmVwZWF0KFwiMFwiLE1hdGgubWF4KDAsZC1lKSkrYX07Z29vZy5zdHJpbmcubWFrZVNhZmU9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/XCJcIjpTdHJpbmcoYSl9O2dvb2cuc3RyaW5nLmJ1aWxkU3RyaW5nPWZ1bmN0aW9uKGEpe3JldHVybiBBcnJheS5wcm90b3R5cGUuam9pbi5jYWxsKGFyZ3VtZW50cyxcIlwiKX07XG5nb29nLnN0cmluZy5nZXRSYW5kb21TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcigyMTQ3NDgzNjQ4Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDM2KStNYXRoLmFicyhNYXRoLmZsb29yKDIxNDc0ODM2NDgqTWF0aC5yYW5kb20oKSleZ29vZy5ub3coKSkudG9TdHJpbmcoMzYpfTtcbmdvb2cuc3RyaW5nLmNvbXBhcmVWZXJzaW9ucz1mdW5jdGlvbihhLGQpe2Zvcih2YXIgZT0wLGY9Z29vZy5zdHJpbmcudHJpbShTdHJpbmcoYSkpLnNwbGl0KFwiLlwiKSxnPWdvb2cuc3RyaW5nLnRyaW0oU3RyaW5nKGQpKS5zcGxpdChcIi5cIiksaD1NYXRoLm1heChmLmxlbmd0aCxnLmxlbmd0aCksaz0wOzA9PWUmJms8aDtrKyspe3ZhciBsPWZba118fFwiXCIsbj1nW2tdfHxcIlwiLHE9UmVnRXhwKFwiKFxcXFxkKikoXFxcXEQqKVwiLFwiZ1wiKSxzPVJlZ0V4cChcIihcXFxcZCopKFxcXFxEKilcIixcImdcIik7ZG97dmFyIG09cS5leGVjKGwpfHxbXCJcIixcIlwiLFwiXCJdLHA9cy5leGVjKG4pfHxbXCJcIixcIlwiLFwiXCJdO2lmKDA9PW1bMF0ubGVuZ3RoJiYwPT1wWzBdLmxlbmd0aClicmVhazt2YXIgZT0wPT1tWzFdLmxlbmd0aD8wOnBhcnNlSW50KG1bMV0sMTApLHI9MD09cFsxXS5sZW5ndGg/MDpwYXJzZUludChwWzFdLDEwKSxlPWdvb2cuc3RyaW5nLmNvbXBhcmVFbGVtZW50c18oZSxyKXx8Z29vZy5zdHJpbmcuY29tcGFyZUVsZW1lbnRzXygwPT1cbm1bMl0ubGVuZ3RoLDA9PXBbMl0ubGVuZ3RoKXx8Z29vZy5zdHJpbmcuY29tcGFyZUVsZW1lbnRzXyhtWzJdLHBbMl0pfXdoaWxlKDA9PWUpfXJldHVybiBlfTtnb29nLnN0cmluZy5jb21wYXJlRWxlbWVudHNfPWZ1bmN0aW9uKGEsZCl7cmV0dXJuIGE8ZD8tMTphPmQ/MTowfTtnb29nLnN0cmluZy5IQVNIQ09ERV9NQVhfPTQyOTQ5NjcyOTY7Z29vZy5zdHJpbmcuaGFzaENvZGU9ZnVuY3Rpb24oYSl7Zm9yKHZhciBkPTAsZT0wO2U8YS5sZW5ndGg7KytlKWQ9MzEqZCthLmNoYXJDb2RlQXQoZSksZCU9Z29vZy5zdHJpbmcuSEFTSENPREVfTUFYXztyZXR1cm4gZH07Z29vZy5zdHJpbmcudW5pcXVlU3RyaW5nQ291bnRlcl89MjE0NzQ4MzY0OCpNYXRoLnJhbmRvbSgpfDA7Z29vZy5zdHJpbmcuY3JlYXRlVW5pcXVlU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJnb29nX1wiK2dvb2cuc3RyaW5nLnVuaXF1ZVN0cmluZ0NvdW50ZXJfKyt9O1xuZ29vZy5zdHJpbmcudG9OdW1iZXI9ZnVuY3Rpb24oYSl7dmFyIGQ9TnVtYmVyKGEpO3JldHVybiAwPT1kJiZnb29nLnN0cmluZy5pc0VtcHR5KGEpP05hTjpkfTtnb29nLnN0cmluZy5pc0xvd2VyQ2FtZWxDYXNlPWZ1bmN0aW9uKGEpe3JldHVybi9eW2Etel0rKFtBLVpdW2Etel0qKSokLy50ZXN0KGEpfTtnb29nLnN0cmluZy5pc1VwcGVyQ2FtZWxDYXNlPWZ1bmN0aW9uKGEpe3JldHVybi9eKFtBLVpdW2Etel0qKSskLy50ZXN0KGEpfTtnb29nLnN0cmluZy50b0NhbWVsQ2FzZT1mdW5jdGlvbihhKXtyZXR1cm4gU3RyaW5nKGEpLnJlcGxhY2UoL1xcLShbYS16XSkvZyxmdW5jdGlvbihhLGUpe3JldHVybiBlLnRvVXBwZXJDYXNlKCl9KX07Z29vZy5zdHJpbmcudG9TZWxlY3RvckNhc2U9ZnVuY3Rpb24oYSl7cmV0dXJuIFN0cmluZyhhKS5yZXBsYWNlKC8oW0EtWl0pL2csXCItJDFcIikudG9Mb3dlckNhc2UoKX07XG5nb29nLnN0cmluZy50b1RpdGxlQ2FzZT1mdW5jdGlvbihhLGQpe3ZhciBlPWdvb2cuaXNTdHJpbmcoZCk/Z29vZy5zdHJpbmcucmVnRXhwRXNjYXBlKGQpOlwiXFxcXHNcIjtyZXR1cm4gYS5yZXBsYWNlKFJlZ0V4cChcIiheXCIrKGU/XCJ8W1wiK2UrXCJdK1wiOlwiXCIpK1wiKShbYS16XSlcIixcImdcIiksZnVuY3Rpb24oYSxkLGUpe3JldHVybiBkK2UudG9VcHBlckNhc2UoKX0pfTtnb29nLnN0cmluZy5wYXJzZUludD1mdW5jdGlvbihhKXtpc0Zpbml0ZShhKSYmKGE9U3RyaW5nKGEpKTtyZXR1cm4gZ29vZy5pc1N0cmluZyhhKT8vXlxccyotPzB4L2kudGVzdChhKT9wYXJzZUludChhLDE2KTpwYXJzZUludChhLDEwKTpOYU59O2dvb2cuc3RyaW5nLnNwbGl0TGltaXQ9ZnVuY3Rpb24oYSxkLGUpe2E9YS5zcGxpdChkKTtmb3IodmFyIGY9W107MDxlJiZhLmxlbmd0aDspZi5wdXNoKGEuc2hpZnQoKSksZS0tO2EubGVuZ3RoJiZmLnB1c2goYS5qb2luKGQpKTtyZXR1cm4gZn07dmFyIHNlc3Npb25QZXJzaXN0ZW50U3RvcmFnZUtleT1cImZpcmViYXNlU2Vzc2lvblwiLGhhc0xvY2FsU3RvcmFnZT1mYi5zaW1wbGVsb2dpbi51dGlsLmVudi5oYXNMb2NhbFN0b3JhZ2UoKTtmYi5zaW1wbGVsb2dpbi5TZXNzaW9uU3RvcmVfPWZ1bmN0aW9uKCl7fTtmYi5zaW1wbGVsb2dpbi5TZXNzaW9uU3RvcmVfLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxkKXtpZihoYXNMb2NhbFN0b3JhZ2UpdHJ5e2xvY2FsU3RvcmFnZS5zZXRJdGVtKHNlc3Npb25QZXJzaXN0ZW50U3RvcmFnZUtleSxmYi5zaW1wbGVsb2dpbi51dGlsLmpzb24uc3RyaW5naWZ5KGEpKX1jYXRjaChlKXt9fTtmYi5zaW1wbGVsb2dpbi5TZXNzaW9uU3RvcmVfLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtpZihoYXNMb2NhbFN0b3JhZ2Upe3RyeXt2YXIgYT1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShzZXNzaW9uUGVyc2lzdGVudFN0b3JhZ2VLZXkpO2lmKGEpcmV0dXJuIGZiLnNpbXBsZWxvZ2luLnV0aWwuanNvbi5wYXJzZShhKX1jYXRjaChkKXt9cmV0dXJuIG51bGx9fTtcbmZiLnNpbXBsZWxvZ2luLlNlc3Npb25TdG9yZV8ucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7aGFzTG9jYWxTdG9yYWdlJiZsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShzZXNzaW9uUGVyc2lzdGVudFN0b3JhZ2VLZXkpfTtmYi5zaW1wbGVsb2dpbi5TZXNzaW9uU3RvcmU9bmV3IGZiLnNpbXBsZWxvZ2luLlNlc3Npb25TdG9yZV87dmFyIENMSUVOVF9WRVJTSU9OPVwiMS42LjRcIjtcbmZiLnNpbXBsZWxvZ2luLmNsaWVudD1mdW5jdGlvbihhLGQsZSxmKXtmdW5jdGlvbiBnKGEsZCxlKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YShkLGUpfSwwKX10aGlzLm1SZWY9YTt0aGlzLm1OYW1lc3BhY2U9ZmIuc2ltcGxlbG9naW4udXRpbC5taXNjLnBhcnNlU3ViZG9tYWluKGEudG9TdHJpbmcoKSk7dGhpcy5zZXNzaW9uTGVuZ3RoRGF5cz1udWxsO3dpbmRvdy5fRmlyZWJhc2VTaW1wbGVMb2dpbj13aW5kb3cuX0ZpcmViYXNlU2ltcGxlTG9naW58fHt9O3dpbmRvdy5fRmlyZWJhc2VTaW1wbGVMb2dpbi5jYWxsYmFja3M9d2luZG93Ll9GaXJlYmFzZVNpbXBsZUxvZ2luLmNhbGxiYWNrc3x8W107d2luZG93Ll9GaXJlYmFzZVNpbXBsZUxvZ2luLmNhbGxiYWNrcy5wdXNoKHtjYjpkLGN0eDplfSk7XCJmaWxlOlwiIT09d2luZG93LmxvY2F0aW9uLnByb3RvY29sfHxmYi5zaW1wbGVsb2dpbi51dGlsLmVudi5pc1BoYW50b21KUygpfHxmYi5zaW1wbGVsb2dpbi51dGlsLmVudi5pc01vYmlsZUNvcmRvdmFJbkFwcEJyb3dzZXIoKXx8ZmIuc2ltcGxlbG9naW4udXRpbC5taXNjLndhcm4oXCJGaXJlYmFzZVNpbXBsZUxvZ2luKCk6IER1ZSB0byBicm93c2VyIHNlY3VyaXR5IHJlc3RyaWN0aW9ucywgbG9hZGluZyBhcHBsaWNhdGlvbnMgdmlhIGBmaWxlOi8vKmAgVVJMcyB3aWxsIHByZXZlbnQgcG9wdXAtYmFzZWQgYXV0aGVudGljYXRpb24gcHJvdmlkZXJzIGZyb20gd29ya2luZyBwcm9wZXJseS4gV2hlbiB0ZXN0aW5nIGxvY2FsbHksIHlvdSdsbCBuZWVkIHRvIHJ1biBhIGJhcmVib25lcyB3ZWJzZXJ2ZXIgb24geW91ciBtYWNoaW5lIHJhdGhlciB0aGFuIGxvYWRpbmcgeW91ciB0ZXN0IGZpbGVzIHZpYSBgZmlsZTovLypgLiBUaGUgZWFzaWVzdCB3YXkgdG8gcnVuIGEgYmFyZWJvbmVzIHNlcnZlciBvbiB5b3VyIGxvY2FsIG1hY2hpbmUgaXMgdG8gYGNkYCB0byB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgeW91ciBjb2RlIGFuZCBydW4gYHB5dGhvbiAtbSBTaW1wbGVIVFRQU2VydmVyYCwgd2hpY2ggd2lsbCBhbGxvdyB5b3UgdG8gYWNjZXNzIHlvdXIgY29udGVudCB2aWEgYGh0dHA6Ly8xMjcuMC4wLjE6ODAwMC8qYC5cIik7XG5mJiZmYi5zaW1wbGVsb2dpbi5WYXJzLnNldEFwaUhvc3QoZik7dGhpcy5tTG9naW5TdGF0ZUNoYW5nZT1mdW5jdGlvbihhLGQpe3ZhciBlPXdpbmRvdy5fRmlyZWJhc2VTaW1wbGVMb2dpbi5jYWxsYmFja3N8fFtdO0FycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShhcmd1bWVudHMpO2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgcT1lW2ZdLHM9ISFhfHxcInVuZGVmaW5lZFwiPT09dHlwZW9mIHEudXNlcjtpZighcyl7dmFyIG0scDtxLnVzZXImJnEudXNlci5maXJlYmFzZUF1dGhUb2tlbiYmKG09cS51c2VyLmZpcmViYXNlQXV0aFRva2VuKTtkJiZkLmZpcmViYXNlQXV0aFRva2VuJiYocD1kLmZpcmViYXNlQXV0aFRva2VuKTtzPShtfHxwKSYmbSE9PXB9d2luZG93Ll9GaXJlYmFzZVNpbXBsZUxvZ2luLmNhbGxiYWNrc1tmXS51c2VyPWR8fG51bGw7cyYmZyhnb29nLmJpbmQocS5jYixxLmN0eCksYSxkKX19O3RoaXMucmVzdW1lU2Vzc2lvbigpfTtcbmZiLnNpbXBsZWxvZ2luLmNsaWVudC5wcm90b3R5cGUuc2V0QXBpSG9zdD1mdW5jdGlvbihhKXtmYi5zaW1wbGVsb2dpbi5WYXJzLnNldEFwaUhvc3QoYSl9O2dvb2cuZXhwb3J0U3ltYm9sKFwiZmIuc2ltcGxlbG9naW4uY2xpZW50LnByb3RvdHlwZS5zZXRBcGlIb3N0XCIsZmIuc2ltcGxlbG9naW4uY2xpZW50LnByb3RvdHlwZS5zZXRBcGlIb3N0KTtcbmZiLnNpbXBsZWxvZ2luLmNsaWVudC5wcm90b3R5cGUucmVzdW1lU2Vzc2lvbj1mdW5jdGlvbigpe3ZhciBhPXRoaXMsZDt0cnl7ZD1zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiZmlyZWJhc2VSZXF1ZXN0SWRcIiksc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShcImZpcmViYXNlUmVxdWVzdElkXCIpfWNhdGNoKGUpe31pZihkKXt2YXIgZj1mYi5zaW1wbGVsb2dpbi50cmFuc3BvcnRzLkpTT05QO2ZiLnNpbXBsZWxvZ2luLnRyYW5zcG9ydHMuWEhSLmlzQXZhaWxhYmxlKCkmJihmPWZiLnNpbXBsZWxvZ2luLnRyYW5zcG9ydHMuWEhSKTtmLm9wZW4oZmIuc2ltcGxlbG9naW4uVmFycy5nZXRBcGlIb3N0KCkrXCIvYXV0aC9zZXNzaW9uXCIse3JlcXVlc3RJZDpkLGZpcmViYXNlOmEubU5hbWVzcGFjZX0sZnVuY3Rpb24oZCxlKXtlJiZlLnRva2VuJiZlLnVzZXI/YS5hdHRlbXB0QXV0aChlLnRva2VuLGUudXNlciwhMCk6ZD8oZmIuc2ltcGxlbG9naW4uU2Vzc2lvblN0b3JlLmNsZWFyKCksYS5tTG9naW5TdGF0ZUNoYW5nZShkKSk6XG4oZmIuc2ltcGxlbG9naW4uU2Vzc2lvblN0b3JlLmNsZWFyKCksYS5tTG9naW5TdGF0ZUNoYW5nZShudWxsLG51bGwpKX0pfWVsc2UoZD1mYi5zaW1wbGVsb2dpbi5TZXNzaW9uU3RvcmUuZ2V0KCkpJiZkLnRva2VuJiZkLnVzZXI/YS5hdHRlbXB0QXV0aChkLnRva2VuLGQudXNlciwhMSk6YS5tTG9naW5TdGF0ZUNoYW5nZShudWxsLG51bGwpfTtcbmZiLnNpbXBsZWxvZ2luLmNsaWVudC5wcm90b3R5cGUuYXR0ZW1wdEF1dGg9ZnVuY3Rpb24oYSxkLGUsZixnKXt2YXIgaD10aGlzO3RoaXMubVJlZi5hdXRoKGEsZnVuY3Rpb24oayxsKXtrPyhmYi5zaW1wbGVsb2dpbi5TZXNzaW9uU3RvcmUuY2xlYXIoKSxoLm1Mb2dpblN0YXRlQ2hhbmdlKG51bGwsbnVsbCksZyYmZygpKTooZSYmZmIuc2ltcGxlbG9naW4uU2Vzc2lvblN0b3JlLnNldCh7dG9rZW46YSx1c2VyOmQsc2Vzc2lvbktleTpkLnNlc3Npb25LZXl9LGguc2Vzc2lvbkxlbmd0aERheXMpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGwmJmwoKSxkZWxldGUgZC5zZXNzaW9uS2V5LGQuZmlyZWJhc2VBdXRoVG9rZW49YSxoLm1Mb2dpblN0YXRlQ2hhbmdlKG51bGwsZCksZiYmZihkKSl9LGZ1bmN0aW9uKGEpe2ZiLnNpbXBsZWxvZ2luLlNlc3Npb25TdG9yZS5jbGVhcigpO2gubUxvZ2luU3RhdGVDaGFuZ2UobnVsbCxudWxsKTtnJiZnKCl9KX07XG5mYi5zaW1wbGVsb2dpbi5jbGllbnQucHJvdG90eXBlLmxvZ2luPWZ1bmN0aW9uKCl7ZmIuc2ltcGxlbG9naW4udXRpbC52YWxpZGF0aW9uLnZhbGlkYXRlU3RyaW5nKFwiRmlyZWJhc2VTaW1wbGVMb2dpbi5sb2dpbigpXCIsMSxhcmd1bWVudHNbMF0sITEpO2ZiLnNpbXBsZWxvZ2luLnV0aWwudmFsaWRhdGlvbi52YWxpZGF0ZUFyZ0NvdW50KFwiRmlyZWJhc2VTaW1wbGVMb2dpbi5sb2dpbigpXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO3ZhciBhPWFyZ3VtZW50c1swXS50b0xvd2VyQ2FzZSgpLGQ9YXJndW1lbnRzWzFdfHx7fTt0aGlzLnNlc3Npb25MZW5ndGhEYXlzPWQucmVtZW1iZXJNZT8zMDpudWxsO3N3aXRjaChhKXtjYXNlIFwiYW5vbnltb3VzXCI6cmV0dXJuIHRoaXMubG9naW5Bbm9ueW1vdXNseShkKTtjYXNlIFwiZmFjZWJvb2stdG9rZW5cIjpyZXR1cm4gdGhpcy5sb2dpbldpdGhGYWNlYm9va1Rva2VuKGQpO2Nhc2UgXCJnaXRodWJcIjpyZXR1cm4gdGhpcy5sb2dpbldpdGhHaXRodWIoZCk7XG5jYXNlIFwiZ29vZ2xlLXRva2VuXCI6cmV0dXJuIHRoaXMubG9naW5XaXRoR29vZ2xlVG9rZW4oZCk7Y2FzZSBcInBhc3N3b3JkXCI6cmV0dXJuIHRoaXMubG9naW5XaXRoUGFzc3dvcmQoZCk7Y2FzZSBcInR3aXR0ZXItdG9rZW5cIjpyZXR1cm4gdGhpcy5sb2dpbldpdGhUd2l0dGVyVG9rZW4oZCk7Y2FzZSBcImZhY2Vib29rXCI6cmV0dXJuIGQuYWNjZXNzX3Rva2VuP3RoaXMubG9naW5XaXRoRmFjZWJvb2tUb2tlbihkKTp0aGlzLmxvZ2luV2l0aEZhY2Vib29rKGQpO2Nhc2UgXCJnb29nbGVcIjpyZXR1cm4gZC5hY2Nlc3NfdG9rZW4/dGhpcy5sb2dpbldpdGhHb29nbGVUb2tlbihkKTp0aGlzLmxvZ2luV2l0aEdvb2dsZShkKTtjYXNlIFwidHdpdHRlclwiOnJldHVybiBkLm9hdXRoX3Rva2VuJiZkLm9hdXRoX3Rva2VuX3NlY3JldD90aGlzLmxvZ2luV2l0aFR3aXR0ZXJUb2tlbihkKTp0aGlzLmxvZ2luV2l0aFR3aXR0ZXIoZCk7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIkZpcmViYXNlU2ltcGxlTG9naW4ubG9naW4oXCIrXG5hK1wiKSBmYWlsZWQ6IHVucmVjb2duaXplZCBhdXRoZW50aWNhdGlvbiBwcm92aWRlclwiKTt9fTtnb29nLmV4cG9ydFN5bWJvbChcImZiLnNpbXBsZWxvZ2luLmNsaWVudC5wcm90b3R5cGUubG9naW5cIixmYi5zaW1wbGVsb2dpbi5jbGllbnQucHJvdG90eXBlLmxvZ2luKTtcbmZiLnNpbXBsZWxvZ2luLmNsaWVudC5wcm90b3R5cGUubG9naW5Bbm9ueW1vdXNseT1mdW5jdGlvbihhKXt2YXIgZD10aGlzO3JldHVybiBuZXcgZmIuc2ltcGxlbG9naW4udXRpbC5SU1ZQLlByb21pc2UoZnVuY3Rpb24oZSxmKXthLmZpcmViYXNlPWQubU5hbWVzcGFjZTthLnY9Q0xJRU5UX1ZFUlNJT047ZmIuc2ltcGxlbG9naW4udHJhbnNwb3J0cy5KU09OUC5vcGVuKGZiLnNpbXBsZWxvZ2luLlZhcnMuZ2V0QXBpSG9zdCgpK1wiL2F1dGgvYW5vbnltb3VzXCIsYSxmdW5jdGlvbihhLGgpe2lmKGF8fCFoLnRva2VuKXt2YXIgaz1mYi5zaW1wbGVsb2dpbi5FcnJvcnMuZm9ybWF0KGEpO2QubUxvZ2luU3RhdGVDaGFuZ2UoayxudWxsKTtmKGspfWVsc2UgZC5hdHRlbXB0QXV0aChoLnRva2VuLGgudXNlciwhMCxlLGYpfSl9KX07XG5mYi5zaW1wbGVsb2dpbi5jbGllbnQucHJvdG90eXBlLmxvZ2luV2l0aFBhc3N3b3JkPWZ1bmN0aW9uKGEpe3ZhciBkPXRoaXM7cmV0dXJuIG5ldyBmYi5zaW1wbGVsb2dpbi51dGlsLlJTVlAuUHJvbWlzZShmdW5jdGlvbihlLGYpe2EuZmlyZWJhc2U9ZC5tTmFtZXNwYWNlO2Eudj1DTElFTlRfVkVSU0lPTjtmYi5zaW1wbGVsb2dpbi5wcm92aWRlcnMuUGFzc3dvcmQubG9naW4oYSxmdW5jdGlvbihhLGgpe2lmKGF8fCFoLnRva2VuKXt2YXIgaz1mYi5zaW1wbGVsb2dpbi5FcnJvcnMuZm9ybWF0KGEpO2QubUxvZ2luU3RhdGVDaGFuZ2UoayxudWxsKTtmKGspfWVsc2UgZC5hdHRlbXB0QXV0aChoLnRva2VuLGgudXNlciwhMCxlLGYpfSl9KX07ZmIuc2ltcGxlbG9naW4uY2xpZW50LnByb3RvdHlwZS5sb2dpbldpdGhHaXRodWI9ZnVuY3Rpb24oYSl7YS5oZWlnaHQ9ODUwO2Eud2lkdGg9OTUwO3JldHVybiB0aGlzLmxvZ2luVmlhT0F1dGgoXCJnaXRodWJcIixhKX07XG5mYi5zaW1wbGVsb2dpbi5jbGllbnQucHJvdG90eXBlLmxvZ2luV2l0aEdvb2dsZT1mdW5jdGlvbihhKXthLmhlaWdodD02NTA7YS53aWR0aD01NzU7cmV0dXJuIHRoaXMubG9naW5WaWFPQXV0aChcImdvb2dsZVwiLGEpfTtmYi5zaW1wbGVsb2dpbi5jbGllbnQucHJvdG90eXBlLmxvZ2luV2l0aEZhY2Vib29rPWZ1bmN0aW9uKGEpe2EuaGVpZ2h0PTQwMDthLndpZHRoPTUzNTtyZXR1cm4gdGhpcy5sb2dpblZpYU9BdXRoKFwiZmFjZWJvb2tcIixhKX07ZmIuc2ltcGxlbG9naW4uY2xpZW50LnByb3RvdHlwZS5sb2dpbldpdGhUd2l0dGVyPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmxvZ2luVmlhT0F1dGgoXCJ0d2l0dGVyXCIsYSl9O2ZiLnNpbXBsZWxvZ2luLmNsaWVudC5wcm90b3R5cGUubG9naW5XaXRoRmFjZWJvb2tUb2tlbj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5sb2dpblZpYVRva2VuKFwiZmFjZWJvb2tcIixhKX07XG5mYi5zaW1wbGVsb2dpbi5jbGllbnQucHJvdG90eXBlLmxvZ2luV2l0aEdvb2dsZVRva2VuPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmxvZ2luVmlhVG9rZW4oXCJnb29nbGVcIixhKX07ZmIuc2ltcGxlbG9naW4uY2xpZW50LnByb3RvdHlwZS5sb2dpbldpdGhUd2l0dGVyVG9rZW49ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubG9naW5WaWFUb2tlbihcInR3aXR0ZXJcIixhKX07ZmIuc2ltcGxlbG9naW4uY2xpZW50LnByb3RvdHlwZS5sb2dvdXQ9ZnVuY3Rpb24oKXtmYi5zaW1wbGVsb2dpbi5TZXNzaW9uU3RvcmUuY2xlYXIoKTt0aGlzLm1SZWYudW5hdXRoKCk7dGhpcy5tTG9naW5TdGF0ZUNoYW5nZShudWxsLG51bGwpfTtnb29nLmV4cG9ydFN5bWJvbChcImZiLnNpbXBsZWxvZ2luLmNsaWVudC5wcm90b3R5cGUubG9nb3V0XCIsZmIuc2ltcGxlbG9naW4uY2xpZW50LnByb3RvdHlwZS5sb2dvdXQpO1xuZmIuc2ltcGxlbG9naW4uY2xpZW50LnByb3RvdHlwZS5sb2dpblZpYVRva2VuPWZ1bmN0aW9uKGEsZCxlKXtkPWR8fHt9O2Qudj1DTElFTlRfVkVSU0lPTjt2YXIgZj10aGlzLGc9ZmIuc2ltcGxlbG9naW4uVmFycy5nZXRBcGlIb3N0KCkrXCIvYXV0aC9cIithK1wiL3Rva2VuP2ZpcmViYXNlPVwiK2YubU5hbWVzcGFjZTtyZXR1cm4gbmV3IGZiLnNpbXBsZWxvZ2luLnV0aWwuUlNWUC5Qcm9taXNlKGZ1bmN0aW9uKGEsZSl7ZmIuc2ltcGxlbG9naW4udHJhbnNwb3J0cy5KU09OUC5vcGVuKGcsZCxmdW5jdGlvbihkLGcpe2lmKCFkJiZnLnRva2VuJiZnLnVzZXIpZi5hdHRlbXB0QXV0aChnLnRva2VuLGcudXNlciwhMCxhLGUpO2Vsc2V7dmFyIHE9ZmIuc2ltcGxlbG9naW4uRXJyb3JzLmZvcm1hdChkKTtmLm1Mb2dpblN0YXRlQ2hhbmdlKHEpO2UocSl9fSl9KX07XG5mYi5zaW1wbGVsb2dpbi5jbGllbnQucHJvdG90eXBlLmxvZ2luVmlhT0F1dGg9ZnVuY3Rpb24oYSxkLGUpe2Q9ZHx8e307dmFyIGY9dGhpcyxnPWZiLnNpbXBsZWxvZ2luLlZhcnMuZ2V0QXBpSG9zdCgpK1wiL2F1dGgvXCIrYStcIj9maXJlYmFzZT1cIitmLm1OYW1lc3BhY2U7ZC5zY29wZSYmKGcrPVwiJnNjb3BlPVwiK2Quc2NvcGUpO2crPVwiJnY9XCIrZW5jb2RlVVJJQ29tcG9uZW50KENMSUVOVF9WRVJTSU9OKTthPXttZW51YmFyOjAsbG9jYXRpb246MCxyZXNpemFibGU6MCxzY3JvbGxiYXJzOjEsc3RhdHVzOjAsZGlhbG9nOjEsd2lkdGg6NzAwLGhlaWdodDozNzV9O2QuaGVpZ2h0JiYoYS5oZWlnaHQ9ZC5oZWlnaHQsZGVsZXRlIGQuaGVpZ2h0KTtkLndpZHRoJiYoYS53aWR0aD1kLndpZHRoLGRlbGV0ZSBkLndpZHRoKTtlPWZiLnNpbXBsZWxvZ2luLnV0aWwuZW52LmlzTW9iaWxlQ29yZG92YUluQXBwQnJvd3NlcigpP1wibW9iaWxlLXBob25lZ2FwXCI6ZmIuc2ltcGxlbG9naW4udXRpbC5lbnYuaXNNb2JpbGVUcmlnZ2VySW9UYWIoKT9cblwibW9iaWxlLXRyaWdnZXJpb1wiOmZiLnNpbXBsZWxvZ2luLnV0aWwuZW52LmlzV2luZG93c01ldHJvKCk/XCJ3aW5kb3dzLW1ldHJvXCI6XCJkZXNrdG9wXCI7dmFyIGg7aWYoXCJkZXNrdG9wXCI9PT1lKXtoPWZiLnNpbXBsZWxvZ2luLnRyYW5zcG9ydHMuV2luQ2hhbjtlPVtdO2Zvcih2YXIgayBpbiBhKWUucHVzaChrK1wiPVwiK2Fba10pO2QudXJsKz1cIiZ0cmFuc3BvcnQ9d2luY2hhblwiO2QucmVsYXlfdXJsPWZiLnNpbXBsZWxvZ2luLlZhcnMuZ2V0QXBpSG9zdCgpK1wiL2F1dGgvY2hhbm5lbFwiO2Qud2luZG93X2ZlYXR1cmVzPWUuam9pbihcIixcIil9ZWxzZVwibW9iaWxlLXBob25lZ2FwXCI9PT1lP2g9ZmIuc2ltcGxlbG9naW4udHJhbnNwb3J0cy5Db3Jkb3ZhSW5BcHBCcm93c2VyOlwibW9iaWxlLXRyaWdnZXJpb1wiPT09ZT9oPWZiLnNpbXBsZWxvZ2luLnRyYW5zcG9ydHMuVHJpZ2dlcklvVGFiOlwid2luZG93cy1tZXRyb1wiPT09ZSYmKGg9ZmIuc2ltcGxlbG9naW4udHJhbnNwb3J0cy5XaW5kb3dzTWV0cm9BdXRoQnJva2VyKTtcbmlmKGQucHJlZmVyUmVkaXJlY3R8fGZiLnNpbXBsZWxvZ2luLnV0aWwuZW52LmlzQ2hyb21laU9TKCl8fGZiLnNpbXBsZWxvZ2luLnV0aWwuZW52LmlzV2luZG93c1Bob25lKCl8fGZiLnNpbXBsZWxvZ2luLnV0aWwuZW52LmlzU3RhbmRhbG9uZWlPUygpfHxmYi5zaW1wbGVsb2dpbi51dGlsLmVudi5pc1R3aXR0ZXJpT1MoKXx8ZmIuc2ltcGxlbG9naW4udXRpbC5lbnYuaXNGYWNlYm9va2lPUygpKXtrPWdvb2cuc3RyaW5nLmdldFJhbmRvbVN0cmluZygpK2dvb2cuc3RyaW5nLmdldFJhbmRvbVN0cmluZygpO3RyeXtzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwiZmlyZWJhc2VSZXF1ZXN0SWRcIixrKX1jYXRjaChsKXt9Zys9XCImcmVxdWVzdElkPVwiK2srXCImZmJfcmVkaXJlY3RfdXJpPVwiK2VuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaHJlZik7d2luZG93LmxvY2F0aW9uPWd9ZWxzZSByZXR1cm4gbmV3IGZiLnNpbXBsZWxvZ2luLnV0aWwuUlNWUC5Qcm9taXNlKGZ1bmN0aW9uKGEsXG5lKXtoLm9wZW4oZyxkLGZ1bmN0aW9uKGQsZyl7aWYoZyYmZy50b2tlbiYmZy51c2VyKWYuYXR0ZW1wdEF1dGgoZy50b2tlbixnLnVzZXIsITAsYSxlKTtlbHNle3ZhciBoPWR8fHtjb2RlOlwiVU5LTk9XTl9FUlJPUlwiLG1lc3NhZ2U6XCJBbiB1bmtub3duIGVycm9yIG9jY3VycmVkLlwifTtcInVua25vd24gY2xvc2VkIHdpbmRvd1wiPT09ZD9oPXtjb2RlOlwiVVNFUl9ERU5JRURcIixtZXNzYWdlOlwiVXNlciBjYW5jZWxsZWQgdGhlIGF1dGhlbnRpY2F0aW9uIHJlcXVlc3QuXCJ9OmcmJmcuZXJyb3ImJihoPWcuZXJyb3IpO2g9ZmIuc2ltcGxlbG9naW4uRXJyb3JzLmZvcm1hdChoKTtmLm1Mb2dpblN0YXRlQ2hhbmdlKGgpO2UoaCl9fSl9KX07XG5mYi5zaW1wbGVsb2dpbi5jbGllbnQucHJvdG90eXBlLm1hbmFnZUZpcmViYXNlVXNlcnM9ZnVuY3Rpb24oYSxkLGUpe2QuZmlyZWJhc2U9dGhpcy5tTmFtZXNwYWNlO3JldHVybiBuZXcgZmIuc2ltcGxlbG9naW4udXRpbC5SU1ZQLlByb21pc2UoZnVuY3Rpb24oZixnKXtmYi5zaW1wbGVsb2dpbi5wcm92aWRlcnMuUGFzc3dvcmRbYV0oZCxmdW5jdGlvbihhLGQpe2lmKGEpe3ZhciBsPWZiLnNpbXBsZWxvZ2luLkVycm9ycy5mb3JtYXQoYSk7ZyhsKTtyZXR1cm4gZSYmZShsLG51bGwpfWYoZCk7cmV0dXJuIGUmJmUobnVsbCxkKX0pfSl9O2ZiLnNpbXBsZWxvZ2luLmNsaWVudC5wcm90b3R5cGUuY3JlYXRlVXNlcj1mdW5jdGlvbihhLGQsZSl7cmV0dXJuIHRoaXMubWFuYWdlRmlyZWJhc2VVc2VycyhcImNyZWF0ZVVzZXJcIix7ZW1haWw6YSxwYXNzd29yZDpkfSxlKX07Z29vZy5leHBvcnRTeW1ib2woXCJmYi5zaW1wbGVsb2dpbi5jbGllbnQucHJvdG90eXBlLmNyZWF0ZVVzZXJcIixmYi5zaW1wbGVsb2dpbi5jbGllbnQucHJvdG90eXBlLmNyZWF0ZVVzZXIpO1xuZmIuc2ltcGxlbG9naW4uY2xpZW50LnByb3RvdHlwZS5jaGFuZ2VQYXNzd29yZD1mdW5jdGlvbihhLGQsZSxmKXtyZXR1cm4gdGhpcy5tYW5hZ2VGaXJlYmFzZVVzZXJzKFwiY2hhbmdlUGFzc3dvcmRcIix7ZW1haWw6YSxvbGRQYXNzd29yZDpkLG5ld1Bhc3N3b3JkOmV9LGZ1bmN0aW9uKGEpe3JldHVybiBmJiZmKGEpfSl9O2dvb2cuZXhwb3J0U3ltYm9sKFwiZmIuc2ltcGxlbG9naW4uY2xpZW50LnByb3RvdHlwZS5jaGFuZ2VQYXNzd29yZFwiLGZiLnNpbXBsZWxvZ2luLmNsaWVudC5wcm90b3R5cGUuY2hhbmdlUGFzc3dvcmQpO2ZiLnNpbXBsZWxvZ2luLmNsaWVudC5wcm90b3R5cGUucmVtb3ZlVXNlcj1mdW5jdGlvbihhLGQsZSl7cmV0dXJuIHRoaXMubWFuYWdlRmlyZWJhc2VVc2VycyhcInJlbW92ZVVzZXJcIix7ZW1haWw6YSxwYXNzd29yZDpkfSxmdW5jdGlvbihhKXtyZXR1cm4gZSYmZShhKX0pfTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZmIuc2ltcGxlbG9naW4uY2xpZW50LnByb3RvdHlwZS5yZW1vdmVVc2VyXCIsZmIuc2ltcGxlbG9naW4uY2xpZW50LnByb3RvdHlwZS5yZW1vdmVVc2VyKTtmYi5zaW1wbGVsb2dpbi5jbGllbnQucHJvdG90eXBlLnNlbmRQYXNzd29yZFJlc2V0RW1haWw9ZnVuY3Rpb24oYSxkKXtyZXR1cm4gdGhpcy5tYW5hZ2VGaXJlYmFzZVVzZXJzKFwic2VuZFBhc3N3b3JkUmVzZXRFbWFpbFwiLHtlbWFpbDphfSxmdW5jdGlvbihhKXtyZXR1cm4gZCYmZChhKX0pfTtnb29nLmV4cG9ydFN5bWJvbChcImZiLnNpbXBsZWxvZ2luLmNsaWVudC5wcm90b3R5cGUuc2VuZFBhc3N3b3JkUmVzZXRFbWFpbFwiLGZiLnNpbXBsZWxvZ2luLmNsaWVudC5wcm90b3R5cGUuc2VuZFBhc3N3b3JkUmVzZXRFbWFpbCk7ZmIuc2ltcGxlbG9naW4uY2xpZW50Lm9uT3Blbj1mdW5jdGlvbihhKXtmYi5zaW1wbGVsb2dpbi50cmFuc3BvcnRzLldpbkNoYW4ub25PcGVuKGEpfTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZmIuc2ltcGxlbG9naW4uY2xpZW50Lm9uT3BlblwiLGZiLnNpbXBsZWxvZ2luLmNsaWVudC5vbk9wZW4pO2ZiLnNpbXBsZWxvZ2luLmNsaWVudC5WRVJTSU9OPWZ1bmN0aW9uKCl7cmV0dXJuIENMSUVOVF9WRVJTSU9OfTtnb29nLmV4cG9ydFN5bWJvbChcImZiLnNpbXBsZWxvZ2luLmNsaWVudC5WRVJTSU9OXCIsZmIuc2ltcGxlbG9naW4uY2xpZW50LlZFUlNJT04pO3ZhciBGaXJlYmFzZVNpbXBsZUxvZ2luPWZ1bmN0aW9uKGEsZCxlLGYpe2ZiLnNpbXBsZWxvZ2luLnV0aWwudmFsaWRhdGlvbi52YWxpZGF0ZUFyZ0NvdW50KFwibmV3IEZpcmViYXNlU2ltcGxlTG9naW5cIiwxLDQsYXJndW1lbnRzLmxlbmd0aCk7ZmIuc2ltcGxlbG9naW4udXRpbC52YWxpZGF0aW9uLnZhbGlkYXRlQ2FsbGJhY2soXCJuZXcgRmlyZWJhc2VTaW1wbGVMb2dpblwiLDIsZCwhMSk7aWYoZ29vZy5pc1N0cmluZyhhKSl0aHJvdyBFcnJvcihcIm5ldyBGaXJlYmFzZVNpbXBsZUxvZ2luKCk6IE9vcHMsIGl0IGxvb2tzIGxpa2UgeW91IHBhc3NlZCBhIHN0cmluZyBpbnN0ZWFkIG9mIGEgRmlyZWJhc2UgcmVmZXJlbmNlIChpLmUuIG5ldyBGaXJlYmFzZSg8ZmlyZWJhc2VVUkw+KSkuXCIpO3ZhciBnPWZiLnNpbXBsZWxvZ2luLnV0aWwubWlzYy5wYXJzZVN1YmRvbWFpbihhLnRvU3RyaW5nKCkpO2lmKCFnb29nLmlzU3RyaW5nKGcpKXRocm93IEVycm9yKFwibmV3IEZpcmViYXNlU2ltcGxlTG9naW4oKTogRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHZhbGlkIEZpcmViYXNlIHJlZmVyZW5jZSAoaS5lLiBuZXcgRmlyZWJhc2UoPGZpcmViYXNlVVJMPikpLlwiKTtcbnZhciBoPW5ldyBmYi5zaW1wbGVsb2dpbi5jbGllbnQoYSxkLGUsZik7cmV0dXJue3NldEFwaUhvc3Q6ZnVuY3Rpb24oYSl7ZmIuc2ltcGxlbG9naW4udXRpbC52YWxpZGF0aW9uLnZhbGlkYXRlQXJnQ291bnQoXCJGaXJlYmFzZVNpbXBsZUxvZ2luLnNldEFwaUhvc3RcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIGguc2V0QXBpSG9zdChhKX0sbG9naW46ZnVuY3Rpb24oKXtyZXR1cm4gaC5sb2dpbi5hcHBseShoLGFyZ3VtZW50cyl9LGxvZ291dDpmdW5jdGlvbigpe2ZiLnNpbXBsZWxvZ2luLnV0aWwudmFsaWRhdGlvbi52YWxpZGF0ZUFyZ0NvdW50KFwiRmlyZWJhc2VTaW1wbGVMb2dpbi5sb2dvdXRcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIGgubG9nb3V0KCl9LGNyZWF0ZVVzZXI6ZnVuY3Rpb24oYSxkLGUpe2ZiLnNpbXBsZWxvZ2luLnV0aWwudmFsaWRhdGlvbi52YWxpZGF0ZUFyZ0NvdW50KFwiRmlyZWJhc2VTaW1wbGVMb2dpbi5jcmVhdGVVc2VyXCIsMiwzLGFyZ3VtZW50cy5sZW5ndGgpO1xuZmIuc2ltcGxlbG9naW4udXRpbC52YWxpZGF0aW9uLnZhbGlkYXRlQ2FsbGJhY2soXCJGaXJlYmFzZVNpbXBsZUxvZ2luLmNyZWF0ZVVzZXJcIiwzLGUsITApO3JldHVybiBoLmNyZWF0ZVVzZXIoYSxkLGUpfSxjaGFuZ2VQYXNzd29yZDpmdW5jdGlvbihhLGQsZSxmKXtmYi5zaW1wbGVsb2dpbi51dGlsLnZhbGlkYXRpb24udmFsaWRhdGVBcmdDb3VudChcIkZpcmViYXNlU2ltcGxlTG9naW4uY2hhbmdlUGFzc3dvcmRcIiwzLDQsYXJndW1lbnRzLmxlbmd0aCk7ZmIuc2ltcGxlbG9naW4udXRpbC52YWxpZGF0aW9uLnZhbGlkYXRlQ2FsbGJhY2soXCJGaXJlYmFzZVNpbXBsZUxvZ2luLmNoYW5nZVBhc3N3b3JkXCIsNCxmLCEwKTtyZXR1cm4gaC5jaGFuZ2VQYXNzd29yZChhLGQsZSxmKX0scmVtb3ZlVXNlcjpmdW5jdGlvbihhLGQsZSl7ZmIuc2ltcGxlbG9naW4udXRpbC52YWxpZGF0aW9uLnZhbGlkYXRlQXJnQ291bnQoXCJGaXJlYmFzZVNpbXBsZUxvZ2luLnJlbW92ZVVzZXJcIiwyLDMsYXJndW1lbnRzLmxlbmd0aCk7XG5mYi5zaW1wbGVsb2dpbi51dGlsLnZhbGlkYXRpb24udmFsaWRhdGVDYWxsYmFjayhcIkZpcmViYXNlU2ltcGxlTG9naW4ucmVtb3ZlVXNlclwiLDMsZSwhMCk7cmV0dXJuIGgucmVtb3ZlVXNlcihhLGQsZSl9LHNlbmRQYXNzd29yZFJlc2V0RW1haWw6ZnVuY3Rpb24oYSxkKXtmYi5zaW1wbGVsb2dpbi51dGlsLnZhbGlkYXRpb24udmFsaWRhdGVBcmdDb3VudChcIkZpcmViYXNlU2ltcGxlTG9naW4uc2VuZFBhc3N3b3JkUmVzZXRFbWFpbFwiLDEsMixhcmd1bWVudHMubGVuZ3RoKTtmYi5zaW1wbGVsb2dpbi51dGlsLnZhbGlkYXRpb24udmFsaWRhdGVDYWxsYmFjayhcIkZpcmViYXNlU2ltcGxlTG9naW4uc2VuZFBhc3N3b3JkUmVzZXRFbWFpbFwiLDIsZCwhMCk7cmV0dXJuIGguc2VuZFBhc3N3b3JkUmVzZXRFbWFpbChhLGQpfX19O2dvb2cuZXhwb3J0U3ltYm9sKFwiRmlyZWJhc2VTaW1wbGVMb2dpblwiLEZpcmViYXNlU2ltcGxlTG9naW4pO0ZpcmViYXNlU2ltcGxlTG9naW4ub25PcGVuPWZ1bmN0aW9uKGEpe2ZiLnNpbXBsZWxvZ2luLmNsaWVudC5vbk9wZW4oYSl9O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShGaXJlYmFzZVNpbXBsZUxvZ2luLFwib25PcGVuXCIsRmlyZWJhc2VTaW1wbGVMb2dpbi5vbk9wZW4pO0ZpcmViYXNlU2ltcGxlTG9naW4uVkVSU0lPTj1mYi5zaW1wbGVsb2dpbi5jbGllbnQuVkVSU0lPTigpO30pKCk7XG4iLCIvKiogbW9ja2ZpcmViYXNlIC0gdjAuMi45XG5odHRwczovL2dpdGh1Yi5jb20va2F0b3d1bGYvbW9ja2ZpcmViYXNlXG4qIENvcHlyaWdodCAoYykgMjAxNCBLYXRvXG4qIExpY2Vuc2U6IE1JVCAqL1xuIWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgZjtcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P2Y9d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Zj1nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJihmPXNlbGYpLGYubW9ja2ZpcmViYXNlPWUoKX19KGZ1bmN0aW9uKCl7dmFyIGRlZmluZSxtb2R1bGUsZXhwb3J0cztyZXR1cm4gKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChCdWZmZXIpe1xuKGZ1bmN0aW9uKCl7XHJcbiAgdmFyIGNyeXB0ID0gX2RlcmVxXygnY3J5cHQnKSxcclxuICAgICAgdXRmOCA9IF9kZXJlcV8oJ2NoYXJlbmMnKS51dGY4LFxyXG4gICAgICBiaW4gPSBfZGVyZXFfKCdjaGFyZW5jJykuYmluLFxyXG5cclxuICAvLyBUaGUgY29yZVxyXG4gIG1kNSA9IGZ1bmN0aW9uIChtZXNzYWdlLCBvcHRpb25zKSB7XHJcbiAgICAvLyBDb252ZXJ0IHRvIGJ5dGUgYXJyYXlcclxuICAgIGlmIChtZXNzYWdlLmNvbnN0cnVjdG9yID09IFN0cmluZylcclxuICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5lbmNvZGluZyA9PT0gJ2JpbmFyeScpXHJcbiAgICAgICAgbWVzc2FnZSA9IGJpbi5zdHJpbmdUb0J5dGVzKG1lc3NhZ2UpO1xyXG4gICAgICBlbHNlXHJcbiAgICAgICAgbWVzc2FnZSA9IHV0Zjguc3RyaW5nVG9CeXRlcyhtZXNzYWdlKTtcclxuICAgIGVsc2UgaWYgKHR5cGVvZiBCdWZmZXIgIT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgICAgICB0eXBlb2YgQnVmZmVyLmlzQnVmZmVyID09ICdmdW5jdGlvbicgJiYgQnVmZmVyLmlzQnVmZmVyKG1lc3NhZ2UpKVxyXG4gICAgICBtZXNzYWdlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobWVzc2FnZSwgMCk7XHJcbiAgICBlbHNlIGlmICghQXJyYXkuaXNBcnJheShtZXNzYWdlKSlcclxuICAgICAgbWVzc2FnZSA9IG1lc3NhZ2UudG9TdHJpbmcoKTtcclxuICAgIC8vIGVsc2UsIGFzc3VtZSBieXRlIGFycmF5IGFscmVhZHlcclxuXHJcbiAgICB2YXIgbSA9IGNyeXB0LmJ5dGVzVG9Xb3JkcyhtZXNzYWdlKSxcclxuICAgICAgICBsID0gbWVzc2FnZS5sZW5ndGggKiA4LFxyXG4gICAgICAgIGEgPSAgMTczMjU4NDE5MyxcclxuICAgICAgICBiID0gLTI3MTczMzg3OSxcclxuICAgICAgICBjID0gLTE3MzI1ODQxOTQsXHJcbiAgICAgICAgZCA9ICAyNzE3MzM4Nzg7XHJcblxyXG4gICAgLy8gU3dhcCBlbmRpYW5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbS5sZW5ndGg7IGkrKykge1xyXG4gICAgICBtW2ldID0gKChtW2ldIDw8ICA4KSB8IChtW2ldID4+PiAyNCkpICYgMHgwMEZGMDBGRiB8XHJcbiAgICAgICAgICAgICAoKG1baV0gPDwgMjQpIHwgKG1baV0gPj4+ICA4KSkgJiAweEZGMDBGRjAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFBhZGRpbmdcclxuICAgIG1bbCA+Pj4gNV0gfD0gMHg4MCA8PCAobCAlIDMyKTtcclxuICAgIG1bKCgobCArIDY0KSA+Pj4gOSkgPDwgNCkgKyAxNF0gPSBsO1xyXG5cclxuICAgIC8vIE1ldGhvZCBzaG9ydGN1dHNcclxuICAgIHZhciBGRiA9IG1kNS5fZmYsXHJcbiAgICAgICAgR0cgPSBtZDUuX2dnLFxyXG4gICAgICAgIEhIID0gbWQ1Ll9oaCxcclxuICAgICAgICBJSSA9IG1kNS5faWk7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtLmxlbmd0aDsgaSArPSAxNikge1xyXG5cclxuICAgICAgdmFyIGFhID0gYSxcclxuICAgICAgICAgIGJiID0gYixcclxuICAgICAgICAgIGNjID0gYyxcclxuICAgICAgICAgIGRkID0gZDtcclxuXHJcbiAgICAgIGEgPSBGRihhLCBiLCBjLCBkLCBtW2krIDBdLCAgNywgLTY4MDg3NjkzNik7XHJcbiAgICAgIGQgPSBGRihkLCBhLCBiLCBjLCBtW2krIDFdLCAxMiwgLTM4OTU2NDU4Nik7XHJcbiAgICAgIGMgPSBGRihjLCBkLCBhLCBiLCBtW2krIDJdLCAxNywgIDYwNjEwNTgxOSk7XHJcbiAgICAgIGIgPSBGRihiLCBjLCBkLCBhLCBtW2krIDNdLCAyMiwgLTEwNDQ1MjUzMzApO1xyXG4gICAgICBhID0gRkYoYSwgYiwgYywgZCwgbVtpKyA0XSwgIDcsIC0xNzY0MTg4OTcpO1xyXG4gICAgICBkID0gRkYoZCwgYSwgYiwgYywgbVtpKyA1XSwgMTIsICAxMjAwMDgwNDI2KTtcclxuICAgICAgYyA9IEZGKGMsIGQsIGEsIGIsIG1baSsgNl0sIDE3LCAtMTQ3MzIzMTM0MSk7XHJcbiAgICAgIGIgPSBGRihiLCBjLCBkLCBhLCBtW2krIDddLCAyMiwgLTQ1NzA1OTgzKTtcclxuICAgICAgYSA9IEZGKGEsIGIsIGMsIGQsIG1baSsgOF0sICA3LCAgMTc3MDAzNTQxNik7XHJcbiAgICAgIGQgPSBGRihkLCBhLCBiLCBjLCBtW2krIDldLCAxMiwgLTE5NTg0MTQ0MTcpO1xyXG4gICAgICBjID0gRkYoYywgZCwgYSwgYiwgbVtpKzEwXSwgMTcsIC00MjA2Myk7XHJcbiAgICAgIGIgPSBGRihiLCBjLCBkLCBhLCBtW2krMTFdLCAyMiwgLTE5OTA0MDQxNjIpO1xyXG4gICAgICBhID0gRkYoYSwgYiwgYywgZCwgbVtpKzEyXSwgIDcsICAxODA0NjAzNjgyKTtcclxuICAgICAgZCA9IEZGKGQsIGEsIGIsIGMsIG1baSsxM10sIDEyLCAtNDAzNDExMDEpO1xyXG4gICAgICBjID0gRkYoYywgZCwgYSwgYiwgbVtpKzE0XSwgMTcsIC0xNTAyMDAyMjkwKTtcclxuICAgICAgYiA9IEZGKGIsIGMsIGQsIGEsIG1baSsxNV0sIDIyLCAgMTIzNjUzNTMyOSk7XHJcblxyXG4gICAgICBhID0gR0coYSwgYiwgYywgZCwgbVtpKyAxXSwgIDUsIC0xNjU3OTY1MTApO1xyXG4gICAgICBkID0gR0coZCwgYSwgYiwgYywgbVtpKyA2XSwgIDksIC0xMDY5NTAxNjMyKTtcclxuICAgICAgYyA9IEdHKGMsIGQsIGEsIGIsIG1baSsxMV0sIDE0LCAgNjQzNzE3NzEzKTtcclxuICAgICAgYiA9IEdHKGIsIGMsIGQsIGEsIG1baSsgMF0sIDIwLCAtMzczODk3MzAyKTtcclxuICAgICAgYSA9IEdHKGEsIGIsIGMsIGQsIG1baSsgNV0sICA1LCAtNzAxNTU4NjkxKTtcclxuICAgICAgZCA9IEdHKGQsIGEsIGIsIGMsIG1baSsxMF0sICA5LCAgMzgwMTYwODMpO1xyXG4gICAgICBjID0gR0coYywgZCwgYSwgYiwgbVtpKzE1XSwgMTQsIC02NjA0NzgzMzUpO1xyXG4gICAgICBiID0gR0coYiwgYywgZCwgYSwgbVtpKyA0XSwgMjAsIC00MDU1Mzc4NDgpO1xyXG4gICAgICBhID0gR0coYSwgYiwgYywgZCwgbVtpKyA5XSwgIDUsICA1Njg0NDY0MzgpO1xyXG4gICAgICBkID0gR0coZCwgYSwgYiwgYywgbVtpKzE0XSwgIDksIC0xMDE5ODAzNjkwKTtcclxuICAgICAgYyA9IEdHKGMsIGQsIGEsIGIsIG1baSsgM10sIDE0LCAtMTg3MzYzOTYxKTtcclxuICAgICAgYiA9IEdHKGIsIGMsIGQsIGEsIG1baSsgOF0sIDIwLCAgMTE2MzUzMTUwMSk7XHJcbiAgICAgIGEgPSBHRyhhLCBiLCBjLCBkLCBtW2krMTNdLCAgNSwgLTE0NDQ2ODE0NjcpO1xyXG4gICAgICBkID0gR0coZCwgYSwgYiwgYywgbVtpKyAyXSwgIDksIC01MTQwMzc4NCk7XHJcbiAgICAgIGMgPSBHRyhjLCBkLCBhLCBiLCBtW2krIDddLCAxNCwgIDE3MzUzMjg0NzMpO1xyXG4gICAgICBiID0gR0coYiwgYywgZCwgYSwgbVtpKzEyXSwgMjAsIC0xOTI2NjA3NzM0KTtcclxuXHJcbiAgICAgIGEgPSBISChhLCBiLCBjLCBkLCBtW2krIDVdLCAgNCwgLTM3ODU1OCk7XHJcbiAgICAgIGQgPSBISChkLCBhLCBiLCBjLCBtW2krIDhdLCAxMSwgLTIwMjI1NzQ0NjMpO1xyXG4gICAgICBjID0gSEgoYywgZCwgYSwgYiwgbVtpKzExXSwgMTYsICAxODM5MDMwNTYyKTtcclxuICAgICAgYiA9IEhIKGIsIGMsIGQsIGEsIG1baSsxNF0sIDIzLCAtMzUzMDk1NTYpO1xyXG4gICAgICBhID0gSEgoYSwgYiwgYywgZCwgbVtpKyAxXSwgIDQsIC0xNTMwOTkyMDYwKTtcclxuICAgICAgZCA9IEhIKGQsIGEsIGIsIGMsIG1baSsgNF0sIDExLCAgMTI3Mjg5MzM1Myk7XHJcbiAgICAgIGMgPSBISChjLCBkLCBhLCBiLCBtW2krIDddLCAxNiwgLTE1NTQ5NzYzMik7XHJcbiAgICAgIGIgPSBISChiLCBjLCBkLCBhLCBtW2krMTBdLCAyMywgLTEwOTQ3MzA2NDApO1xyXG4gICAgICBhID0gSEgoYSwgYiwgYywgZCwgbVtpKzEzXSwgIDQsICA2ODEyNzkxNzQpO1xyXG4gICAgICBkID0gSEgoZCwgYSwgYiwgYywgbVtpKyAwXSwgMTEsIC0zNTg1MzcyMjIpO1xyXG4gICAgICBjID0gSEgoYywgZCwgYSwgYiwgbVtpKyAzXSwgMTYsIC03MjI1MjE5NzkpO1xyXG4gICAgICBiID0gSEgoYiwgYywgZCwgYSwgbVtpKyA2XSwgMjMsICA3NjAyOTE4OSk7XHJcbiAgICAgIGEgPSBISChhLCBiLCBjLCBkLCBtW2krIDldLCAgNCwgLTY0MDM2NDQ4Nyk7XHJcbiAgICAgIGQgPSBISChkLCBhLCBiLCBjLCBtW2krMTJdLCAxMSwgLTQyMTgxNTgzNSk7XHJcbiAgICAgIGMgPSBISChjLCBkLCBhLCBiLCBtW2krMTVdLCAxNiwgIDUzMDc0MjUyMCk7XHJcbiAgICAgIGIgPSBISChiLCBjLCBkLCBhLCBtW2krIDJdLCAyMywgLTk5NTMzODY1MSk7XHJcblxyXG4gICAgICBhID0gSUkoYSwgYiwgYywgZCwgbVtpKyAwXSwgIDYsIC0xOTg2MzA4NDQpO1xyXG4gICAgICBkID0gSUkoZCwgYSwgYiwgYywgbVtpKyA3XSwgMTAsICAxMTI2ODkxNDE1KTtcclxuICAgICAgYyA9IElJKGMsIGQsIGEsIGIsIG1baSsxNF0sIDE1LCAtMTQxNjM1NDkwNSk7XHJcbiAgICAgIGIgPSBJSShiLCBjLCBkLCBhLCBtW2krIDVdLCAyMSwgLTU3NDM0MDU1KTtcclxuICAgICAgYSA9IElJKGEsIGIsIGMsIGQsIG1baSsxMl0sICA2LCAgMTcwMDQ4NTU3MSk7XHJcbiAgICAgIGQgPSBJSShkLCBhLCBiLCBjLCBtW2krIDNdLCAxMCwgLTE4OTQ5ODY2MDYpO1xyXG4gICAgICBjID0gSUkoYywgZCwgYSwgYiwgbVtpKzEwXSwgMTUsIC0xMDUxNTIzKTtcclxuICAgICAgYiA9IElJKGIsIGMsIGQsIGEsIG1baSsgMV0sIDIxLCAtMjA1NDkyMjc5OSk7XHJcbiAgICAgIGEgPSBJSShhLCBiLCBjLCBkLCBtW2krIDhdLCAgNiwgIDE4NzMzMTMzNTkpO1xyXG4gICAgICBkID0gSUkoZCwgYSwgYiwgYywgbVtpKzE1XSwgMTAsIC0zMDYxMTc0NCk7XHJcbiAgICAgIGMgPSBJSShjLCBkLCBhLCBiLCBtW2krIDZdLCAxNSwgLTE1NjAxOTgzODApO1xyXG4gICAgICBiID0gSUkoYiwgYywgZCwgYSwgbVtpKzEzXSwgMjEsICAxMzA5MTUxNjQ5KTtcclxuICAgICAgYSA9IElJKGEsIGIsIGMsIGQsIG1baSsgNF0sICA2LCAtMTQ1NTIzMDcwKTtcclxuICAgICAgZCA9IElJKGQsIGEsIGIsIGMsIG1baSsxMV0sIDEwLCAtMTEyMDIxMDM3OSk7XHJcbiAgICAgIGMgPSBJSShjLCBkLCBhLCBiLCBtW2krIDJdLCAxNSwgIDcxODc4NzI1OSk7XHJcbiAgICAgIGIgPSBJSShiLCBjLCBkLCBhLCBtW2krIDldLCAyMSwgLTM0MzQ4NTU1MSk7XHJcblxyXG4gICAgICBhID0gKGEgKyBhYSkgPj4+IDA7XHJcbiAgICAgIGIgPSAoYiArIGJiKSA+Pj4gMDtcclxuICAgICAgYyA9IChjICsgY2MpID4+PiAwO1xyXG4gICAgICBkID0gKGQgKyBkZCkgPj4+IDA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNyeXB0LmVuZGlhbihbYSwgYiwgYywgZF0pO1xyXG4gIH07XHJcblxyXG4gIC8vIEF1eGlsaWFyeSBmdW5jdGlvbnNcclxuICBtZDUuX2ZmICA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XHJcbiAgICB2YXIgbiA9IGEgKyAoYiAmIGMgfCB+YiAmIGQpICsgKHggPj4+IDApICsgdDtcclxuICAgIHJldHVybiAoKG4gPDwgcykgfCAobiA+Pj4gKDMyIC0gcykpKSArIGI7XHJcbiAgfTtcclxuICBtZDUuX2dnICA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XHJcbiAgICB2YXIgbiA9IGEgKyAoYiAmIGQgfCBjICYgfmQpICsgKHggPj4+IDApICsgdDtcclxuICAgIHJldHVybiAoKG4gPDwgcykgfCAobiA+Pj4gKDMyIC0gcykpKSArIGI7XHJcbiAgfTtcclxuICBtZDUuX2hoICA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XHJcbiAgICB2YXIgbiA9IGEgKyAoYiBeIGMgXiBkKSArICh4ID4+PiAwKSArIHQ7XHJcbiAgICByZXR1cm4gKChuIDw8IHMpIHwgKG4gPj4+ICgzMiAtIHMpKSkgKyBiO1xyXG4gIH07XHJcbiAgbWQ1Ll9paSAgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgeCwgcywgdCkge1xyXG4gICAgdmFyIG4gPSBhICsgKGMgXiAoYiB8IH5kKSkgKyAoeCA+Pj4gMCkgKyB0O1xyXG4gICAgcmV0dXJuICgobiA8PCBzKSB8IChuID4+PiAoMzIgLSBzKSkpICsgYjtcclxuICB9O1xyXG5cclxuICAvLyBQYWNrYWdlIHByaXZhdGUgYmxvY2tzaXplXHJcbiAgbWQ1Ll9ibG9ja3NpemUgPSAxNjtcclxuICBtZDUuX2RpZ2VzdHNpemUgPSAxNjtcclxuXHJcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobWVzc2FnZSwgb3B0aW9ucykge1xyXG4gICAgaWYodHlwZW9mIG1lc3NhZ2UgPT0gJ3VuZGVmaW5lZCcpXHJcbiAgICAgIHJldHVybjtcclxuXHJcbiAgICB2YXIgZGlnZXN0Ynl0ZXMgPSBjcnlwdC53b3Jkc1RvQnl0ZXMobWQ1KG1lc3NhZ2UsIG9wdGlvbnMpKTtcclxuICAgIHJldHVybiBvcHRpb25zICYmIG9wdGlvbnMuYXNCeXRlcyA/IGRpZ2VzdGJ5dGVzIDpcclxuICAgICAgICBvcHRpb25zICYmIG9wdGlvbnMuYXNTdHJpbmcgPyBiaW4uYnl0ZXNUb1N0cmluZyhkaWdlc3RieXRlcykgOlxyXG4gICAgICAgIGNyeXB0LmJ5dGVzVG9IZXgoZGlnZXN0Ynl0ZXMpO1xyXG4gIH07XHJcblxyXG59KSgpO1xyXG5cbn0pLmNhbGwodGhpcyxfZGVyZXFfKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbn0se1wiYnVmZmVyXCI6NCxcImNoYXJlbmNcIjoyLFwiY3J5cHRcIjozfV0sMjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgY2hhcmVuYyA9IHtcbiAgLy8gVVRGLTggZW5jb2RpbmdcbiAgdXRmODoge1xuICAgIC8vIENvbnZlcnQgYSBzdHJpbmcgdG8gYSBieXRlIGFycmF5XG4gICAgc3RyaW5nVG9CeXRlczogZnVuY3Rpb24oc3RyKSB7XG4gICAgICByZXR1cm4gY2hhcmVuYy5iaW4uc3RyaW5nVG9CeXRlcyh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3RyKSkpO1xuICAgIH0sXG5cbiAgICAvLyBDb252ZXJ0IGEgYnl0ZSBhcnJheSB0byBhIHN0cmluZ1xuICAgIGJ5dGVzVG9TdHJpbmc6IGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShjaGFyZW5jLmJpbi5ieXRlc1RvU3RyaW5nKGJ5dGVzKSkpO1xuICAgIH1cbiAgfSxcblxuICAvLyBCaW5hcnkgZW5jb2RpbmdcbiAgYmluOiB7XG4gICAgLy8gQ29udmVydCBhIHN0cmluZyB0byBhIGJ5dGUgYXJyYXlcbiAgICBzdHJpbmdUb0J5dGVzOiBmdW5jdGlvbihzdHIpIHtcbiAgICAgIGZvciAodmFyIGJ5dGVzID0gW10sIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKVxuICAgICAgICBieXRlcy5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRik7XG4gICAgICByZXR1cm4gYnl0ZXM7XG4gICAgfSxcblxuICAgIC8vIENvbnZlcnQgYSBieXRlIGFycmF5IHRvIGEgc3RyaW5nXG4gICAgYnl0ZXNUb1N0cmluZzogZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGZvciAodmFyIHN0ciA9IFtdLCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICBzdHIucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKSk7XG4gICAgICByZXR1cm4gc3RyLmpvaW4oJycpO1xuICAgIH1cbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjaGFyZW5jO1xuXG59LHt9XSwzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbigpIHtcbiAgdmFyIGJhc2U2NG1hcFxuICAgICAgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLycsXG5cbiAgY3J5cHQgPSB7XG4gICAgLy8gQml0LXdpc2Ugcm90YXRpb24gbGVmdFxuICAgIHJvdGw6IGZ1bmN0aW9uKG4sIGIpIHtcbiAgICAgIHJldHVybiAobiA8PCBiKSB8IChuID4+PiAoMzIgLSBiKSk7XG4gICAgfSxcblxuICAgIC8vIEJpdC13aXNlIHJvdGF0aW9uIHJpZ2h0XG4gICAgcm90cjogZnVuY3Rpb24obiwgYikge1xuICAgICAgcmV0dXJuIChuIDw8ICgzMiAtIGIpKSB8IChuID4+PiBiKTtcbiAgICB9LFxuXG4gICAgLy8gU3dhcCBiaWctZW5kaWFuIHRvIGxpdHRsZS1lbmRpYW4gYW5kIHZpY2UgdmVyc2FcbiAgICBlbmRpYW46IGZ1bmN0aW9uKG4pIHtcbiAgICAgIC8vIElmIG51bWJlciBnaXZlbiwgc3dhcCBlbmRpYW5cbiAgICAgIGlmIChuLmNvbnN0cnVjdG9yID09IE51bWJlcikge1xuICAgICAgICByZXR1cm4gY3J5cHQucm90bChuLCA4KSAmIDB4MDBGRjAwRkYgfCBjcnlwdC5yb3RsKG4sIDI0KSAmIDB4RkYwMEZGMDA7XG4gICAgICB9XG5cbiAgICAgIC8vIEVsc2UsIGFzc3VtZSBhcnJheSBhbmQgc3dhcCBhbGwgaXRlbXNcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbi5sZW5ndGg7IGkrKylcbiAgICAgICAgbltpXSA9IGNyeXB0LmVuZGlhbihuW2ldKTtcbiAgICAgIHJldHVybiBuO1xuICAgIH0sXG5cbiAgICAvLyBHZW5lcmF0ZSBhbiBhcnJheSBvZiBhbnkgbGVuZ3RoIG9mIHJhbmRvbSBieXRlc1xuICAgIHJhbmRvbUJ5dGVzOiBmdW5jdGlvbihuKSB7XG4gICAgICBmb3IgKHZhciBieXRlcyA9IFtdOyBuID4gMDsgbi0tKVxuICAgICAgICBieXRlcy5wdXNoKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1NikpO1xuICAgICAgcmV0dXJuIGJ5dGVzO1xuICAgIH0sXG5cbiAgICAvLyBDb252ZXJ0IGEgYnl0ZSBhcnJheSB0byBiaWctZW5kaWFuIDMyLWJpdCB3b3Jkc1xuICAgIGJ5dGVzVG9Xb3JkczogZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGZvciAodmFyIHdvcmRzID0gW10sIGkgPSAwLCBiID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSsrLCBiICs9IDgpXG4gICAgICAgIHdvcmRzW2IgPj4+IDVdIHw9IGJ5dGVzW2ldIDw8ICgyNCAtIGIgJSAzMik7XG4gICAgICByZXR1cm4gd29yZHM7XG4gICAgfSxcblxuICAgIC8vIENvbnZlcnQgYmlnLWVuZGlhbiAzMi1iaXQgd29yZHMgdG8gYSBieXRlIGFycmF5XG4gICAgd29yZHNUb0J5dGVzOiBmdW5jdGlvbih3b3Jkcykge1xuICAgICAgZm9yICh2YXIgYnl0ZXMgPSBbXSwgYiA9IDA7IGIgPCB3b3Jkcy5sZW5ndGggKiAzMjsgYiArPSA4KVxuICAgICAgICBieXRlcy5wdXNoKCh3b3Jkc1tiID4+PiA1XSA+Pj4gKDI0IC0gYiAlIDMyKSkgJiAweEZGKTtcbiAgICAgIHJldHVybiBieXRlcztcbiAgICB9LFxuXG4gICAgLy8gQ29udmVydCBhIGJ5dGUgYXJyYXkgdG8gYSBoZXggc3RyaW5nXG4gICAgYnl0ZXNUb0hleDogZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGZvciAodmFyIGhleCA9IFtdLCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGhleC5wdXNoKChieXRlc1tpXSA+Pj4gNCkudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgaGV4LnB1c2goKGJ5dGVzW2ldICYgMHhGKS50b1N0cmluZygxNikpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhleC5qb2luKCcnKTtcbiAgICB9LFxuXG4gICAgLy8gQ29udmVydCBhIGhleCBzdHJpbmcgdG8gYSBieXRlIGFycmF5XG4gICAgaGV4VG9CeXRlczogZnVuY3Rpb24oaGV4KSB7XG4gICAgICBmb3IgKHZhciBieXRlcyA9IFtdLCBjID0gMDsgYyA8IGhleC5sZW5ndGg7IGMgKz0gMilcbiAgICAgICAgYnl0ZXMucHVzaChwYXJzZUludChoZXguc3Vic3RyKGMsIDIpLCAxNikpO1xuICAgICAgcmV0dXJuIGJ5dGVzO1xuICAgIH0sXG5cbiAgICAvLyBDb252ZXJ0IGEgYnl0ZSBhcnJheSB0byBhIGJhc2UtNjQgc3RyaW5nXG4gICAgYnl0ZXNUb0Jhc2U2NDogZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGZvciAodmFyIGJhc2U2NCA9IFtdLCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIHZhciB0cmlwbGV0ID0gKGJ5dGVzW2ldIDw8IDE2KSB8IChieXRlc1tpICsgMV0gPDwgOCkgfCBieXRlc1tpICsgMl07XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgNDsgaisrKVxuICAgICAgICAgIGlmIChpICogOCArIGogKiA2IDw9IGJ5dGVzLmxlbmd0aCAqIDgpXG4gICAgICAgICAgICBiYXNlNjQucHVzaChiYXNlNjRtYXAuY2hhckF0KCh0cmlwbGV0ID4+PiA2ICogKDMgLSBqKSkgJiAweDNGKSk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgYmFzZTY0LnB1c2goJz0nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlNjQuam9pbignJyk7XG4gICAgfSxcblxuICAgIC8vIENvbnZlcnQgYSBiYXNlLTY0IHN0cmluZyB0byBhIGJ5dGUgYXJyYXlcbiAgICBiYXNlNjRUb0J5dGVzOiBmdW5jdGlvbihiYXNlNjQpIHtcbiAgICAgIC8vIFJlbW92ZSBub24tYmFzZS02NCBjaGFyYWN0ZXJzXG4gICAgICBiYXNlNjQgPSBiYXNlNjQucmVwbGFjZSgvW15BLVowLTkrXFwvXS9pZywgJycpO1xuXG4gICAgICBmb3IgKHZhciBieXRlcyA9IFtdLCBpID0gMCwgaW1vZDQgPSAwOyBpIDwgYmFzZTY0Lmxlbmd0aDtcbiAgICAgICAgICBpbW9kNCA9ICsraSAlIDQpIHtcbiAgICAgICAgaWYgKGltb2Q0ID09IDApIGNvbnRpbnVlO1xuICAgICAgICBieXRlcy5wdXNoKCgoYmFzZTY0bWFwLmluZGV4T2YoYmFzZTY0LmNoYXJBdChpIC0gMSkpXG4gICAgICAgICAgICAmIChNYXRoLnBvdygyLCAtMiAqIGltb2Q0ICsgOCkgLSAxKSkgPDwgKGltb2Q0ICogMikpXG4gICAgICAgICAgICB8IChiYXNlNjRtYXAuaW5kZXhPZihiYXNlNjQuY2hhckF0KGkpKSA+Pj4gKDYgLSBpbW9kNCAqIDIpKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYnl0ZXM7XG4gICAgfVxuICB9O1xuXG4gIG1vZHVsZS5leHBvcnRzID0gY3J5cHQ7XG59KSgpO1xuXG59LHt9XSw0OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbi8qIVxuICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGZlcm9zc0BmZXJvc3Mub3JnPiA8aHR0cDovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cblxudmFyIGJhc2U2NCA9IF9kZXJlcV8oJ2Jhc2U2NC1qcycpXG52YXIgaWVlZTc1NCA9IF9kZXJlcV8oJ2llZWU3NTQnKVxuXG5leHBvcnRzLkJ1ZmZlciA9IEJ1ZmZlclxuZXhwb3J0cy5TbG93QnVmZmVyID0gQnVmZmVyXG5leHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTID0gNTBcbkJ1ZmZlci5wb29sU2l6ZSA9IDgxOTJcblxuLyoqXG4gKiBJZiBgVFlQRURfQVJSQVlfU1VQUE9SVGA6XG4gKiAgID09PSB0cnVlICAgIFVzZSBVaW50OEFycmF5IGltcGxlbWVudGF0aW9uIChmYXN0ZXN0KVxuICogICA9PT0gZmFsc2UgICBVc2UgT2JqZWN0IGltcGxlbWVudGF0aW9uIChtb3N0IGNvbXBhdGlibGUsIGV2ZW4gSUU2KVxuICpcbiAqIEJyb3dzZXJzIHRoYXQgc3VwcG9ydCB0eXBlZCBhcnJheXMgYXJlIElFIDEwKywgRmlyZWZveCA0KywgQ2hyb21lIDcrLCBTYWZhcmkgNS4xKyxcbiAqIE9wZXJhIDExLjYrLCBpT1MgNC4yKy5cbiAqXG4gKiBOb3RlOlxuICpcbiAqIC0gSW1wbGVtZW50YXRpb24gbXVzdCBzdXBwb3J0IGFkZGluZyBuZXcgcHJvcGVydGllcyB0byBgVWludDhBcnJheWAgaW5zdGFuY2VzLlxuICogICBGaXJlZm94IDQtMjkgbGFja2VkIHN1cHBvcnQsIGZpeGVkIGluIEZpcmVmb3ggMzArLlxuICogICBTZWU6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY5NTQzOC5cbiAqXG4gKiAgLSBDaHJvbWUgOS0xMCBpcyBtaXNzaW5nIHRoZSBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uLlxuICpcbiAqICAtIElFMTAgaGFzIGEgYnJva2VuIGBUeXBlZEFycmF5LnByb3RvdHlwZS5zdWJhcnJheWAgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhcnJheXMgb2ZcbiAqICAgIGluY29ycmVjdCBsZW5ndGggaW4gc29tZSBzaXR1YXRpb25zLlxuICpcbiAqIFdlIGRldGVjdCB0aGVzZSBidWdneSBicm93c2VycyBhbmQgc2V0IGBUWVBFRF9BUlJBWV9TVVBQT1JUYCB0byBgZmFsc2VgIHNvIHRoZXkgd2lsbFxuICogZ2V0IHRoZSBPYmplY3QgaW1wbGVtZW50YXRpb24sIHdoaWNoIGlzIHNsb3dlciBidXQgd2lsbCB3b3JrIGNvcnJlY3RseS5cbiAqL1xudmFyIFRZUEVEX0FSUkFZX1NVUFBPUlQgPSAoZnVuY3Rpb24gKCkge1xuICB0cnkge1xuICAgIHZhciBidWYgPSBuZXcgQXJyYXlCdWZmZXIoMClcbiAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYnVmKVxuICAgIGFyci5mb28gPSBmdW5jdGlvbiAoKSB7IHJldHVybiA0MiB9XG4gICAgcmV0dXJuIDQyID09PSBhcnIuZm9vKCkgJiYgLy8gdHlwZWQgYXJyYXkgaW5zdGFuY2VzIGNhbiBiZSBhdWdtZW50ZWRcbiAgICAgICAgdHlwZW9mIGFyci5zdWJhcnJheSA9PT0gJ2Z1bmN0aW9uJyAmJiAvLyBjaHJvbWUgOS0xMCBsYWNrIGBzdWJhcnJheWBcbiAgICAgICAgbmV3IFVpbnQ4QXJyYXkoMSkuc3ViYXJyYXkoMSwgMSkuYnl0ZUxlbmd0aCA9PT0gMCAvLyBpZTEwIGhhcyBicm9rZW4gYHN1YmFycmF5YFxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn0pKClcblxuLyoqXG4gKiBDbGFzczogQnVmZmVyXG4gKiA9PT09PT09PT09PT09XG4gKlxuICogVGhlIEJ1ZmZlciBjb25zdHJ1Y3RvciByZXR1cm5zIGluc3RhbmNlcyBvZiBgVWludDhBcnJheWAgdGhhdCBhcmUgYXVnbWVudGVkXG4gKiB3aXRoIGZ1bmN0aW9uIHByb3BlcnRpZXMgZm9yIGFsbCB0aGUgbm9kZSBgQnVmZmVyYCBBUEkgZnVuY3Rpb25zLiBXZSB1c2VcbiAqIGBVaW50OEFycmF5YCBzbyB0aGF0IHNxdWFyZSBicmFja2V0IG5vdGF0aW9uIHdvcmtzIGFzIGV4cGVjdGVkIC0tIGl0IHJldHVybnNcbiAqIGEgc2luZ2xlIG9jdGV0LlxuICpcbiAqIEJ5IGF1Z21lbnRpbmcgdGhlIGluc3RhbmNlcywgd2UgY2FuIGF2b2lkIG1vZGlmeWluZyB0aGUgYFVpbnQ4QXJyYXlgXG4gKiBwcm90b3R5cGUuXG4gKi9cbmZ1bmN0aW9uIEJ1ZmZlciAoc3ViamVjdCwgZW5jb2RpbmcsIG5vWmVybykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQnVmZmVyKSlcbiAgICByZXR1cm4gbmV3IEJ1ZmZlcihzdWJqZWN0LCBlbmNvZGluZywgbm9aZXJvKVxuXG4gIHZhciB0eXBlID0gdHlwZW9mIHN1YmplY3RcblxuICAvLyBGaW5kIHRoZSBsZW5ndGhcbiAgdmFyIGxlbmd0aFxuICBpZiAodHlwZSA9PT0gJ251bWJlcicpXG4gICAgbGVuZ3RoID0gc3ViamVjdCA+IDAgPyBzdWJqZWN0ID4+PiAwIDogMFxuICBlbHNlIGlmICh0eXBlID09PSAnc3RyaW5nJykge1xuICAgIGlmIChlbmNvZGluZyA9PT0gJ2Jhc2U2NCcpXG4gICAgICBzdWJqZWN0ID0gYmFzZTY0Y2xlYW4oc3ViamVjdClcbiAgICBsZW5ndGggPSBCdWZmZXIuYnl0ZUxlbmd0aChzdWJqZWN0LCBlbmNvZGluZylcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnb2JqZWN0JyAmJiBzdWJqZWN0ICE9PSBudWxsKSB7IC8vIGFzc3VtZSBvYmplY3QgaXMgYXJyYXktbGlrZVxuICAgIGlmIChzdWJqZWN0LnR5cGUgPT09ICdCdWZmZXInICYmIGlzQXJyYXkoc3ViamVjdC5kYXRhKSlcbiAgICAgIHN1YmplY3QgPSBzdWJqZWN0LmRhdGFcbiAgICBsZW5ndGggPSArc3ViamVjdC5sZW5ndGggPiAwID8gTWF0aC5mbG9vcigrc3ViamVjdC5sZW5ndGgpIDogMFxuICB9IGVsc2VcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG5lZWRzIHRvIGJlIGEgbnVtYmVyLCBhcnJheSBvciBzdHJpbmcuJylcblxuICB2YXIgYnVmXG4gIGlmIChUWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUHJlZmVycmVkOiBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZSBmb3IgYmVzdCBwZXJmb3JtYW5jZVxuICAgIGJ1ZiA9IEJ1ZmZlci5fYXVnbWVudChuZXcgVWludDhBcnJheShsZW5ndGgpKVxuICB9IGVsc2Uge1xuICAgIC8vIEZhbGxiYWNrOiBSZXR1cm4gVEhJUyBpbnN0YW5jZSBvZiBCdWZmZXIgKGNyZWF0ZWQgYnkgYG5ld2ApXG4gICAgYnVmID0gdGhpc1xuICAgIGJ1Zi5sZW5ndGggPSBsZW5ndGhcbiAgICBidWYuX2lzQnVmZmVyID0gdHJ1ZVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKFRZUEVEX0FSUkFZX1NVUFBPUlQgJiYgdHlwZW9mIHN1YmplY3QuYnl0ZUxlbmd0aCA9PT0gJ251bWJlcicpIHtcbiAgICAvLyBTcGVlZCBvcHRpbWl6YXRpb24gLS0gdXNlIHNldCBpZiB3ZSdyZSBjb3B5aW5nIGZyb20gYSB0eXBlZCBhcnJheVxuICAgIGJ1Zi5fc2V0KHN1YmplY3QpXG4gIH0gZWxzZSBpZiAoaXNBcnJheWlzaChzdWJqZWN0KSkge1xuICAgIC8vIFRyZWF0IGFycmF5LWlzaCBvYmplY3RzIGFzIGEgYnl0ZSBhcnJheVxuICAgIGlmIChCdWZmZXIuaXNCdWZmZXIoc3ViamVjdCkpIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKylcbiAgICAgICAgYnVmW2ldID0gc3ViamVjdC5yZWFkVUludDgoaSlcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKVxuICAgICAgICBidWZbaV0gPSAoKHN1YmplY3RbaV0gJSAyNTYpICsgMjU2KSAlIDI1NlxuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlID09PSAnc3RyaW5nJykge1xuICAgIGJ1Zi53cml0ZShzdWJqZWN0LCAwLCBlbmNvZGluZylcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJyAmJiAhVFlQRURfQVJSQVlfU1VQUE9SVCAmJiAhbm9aZXJvKSB7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBidWZbaV0gPSAwXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ1ZlxufVxuXG4vLyBTVEFUSUMgTUVUSE9EU1xuLy8gPT09PT09PT09PT09PT1cblxuQnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHtcbiAgc3dpdGNoIChTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdoZXgnOlxuICAgIGNhc2UgJ3V0ZjgnOlxuICAgIGNhc2UgJ3V0Zi04JzpcbiAgICBjYXNlICdhc2NpaSc6XG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgIGNhc2UgJ3Jhdyc6XG4gICAgY2FzZSAndWNzMic6XG4gICAgY2FzZSAndWNzLTInOlxuICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgIHJldHVybiB0cnVlXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbkJ1ZmZlci5pc0J1ZmZlciA9IGZ1bmN0aW9uIChiKSB7XG4gIHJldHVybiAhIShiICE9IG51bGwgJiYgYi5faXNCdWZmZXIpXG59XG5cbkJ1ZmZlci5ieXRlTGVuZ3RoID0gZnVuY3Rpb24gKHN0ciwgZW5jb2RpbmcpIHtcbiAgdmFyIHJldFxuICBzdHIgPSBzdHIudG9TdHJpbmcoKVxuICBzd2l0Y2ggKGVuY29kaW5nIHx8ICd1dGY4Jykge1xuICAgIGNhc2UgJ2hleCc6XG4gICAgICByZXQgPSBzdHIubGVuZ3RoIC8gMlxuICAgICAgYnJlYWtcbiAgICBjYXNlICd1dGY4JzpcbiAgICBjYXNlICd1dGYtOCc6XG4gICAgICByZXQgPSB1dGY4VG9CeXRlcyhzdHIpLmxlbmd0aFxuICAgICAgYnJlYWtcbiAgICBjYXNlICdhc2NpaSc6XG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICBjYXNlICdyYXcnOlxuICAgICAgcmV0ID0gc3RyLmxlbmd0aFxuICAgICAgYnJlYWtcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgcmV0ID0gYmFzZTY0VG9CeXRlcyhzdHIpLmxlbmd0aFxuICAgICAgYnJlYWtcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1Y3MtMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgcmV0ID0gc3RyLmxlbmd0aCAqIDJcbiAgICAgIGJyZWFrXG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBlbmNvZGluZycpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5CdWZmZXIuY29uY2F0ID0gZnVuY3Rpb24gKGxpc3QsIHRvdGFsTGVuZ3RoKSB7XG4gIGFzc2VydChpc0FycmF5KGxpc3QpLCAnVXNhZ2U6IEJ1ZmZlci5jb25jYXQobGlzdFssIGxlbmd0aF0pJylcblxuICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbmV3IEJ1ZmZlcigwKVxuICB9IGVsc2UgaWYgKGxpc3QubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGxpc3RbMF1cbiAgfVxuXG4gIHZhciBpXG4gIGlmICh0b3RhbExlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdG90YWxMZW5ndGggPSAwXG4gICAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRvdGFsTGVuZ3RoICs9IGxpc3RbaV0ubGVuZ3RoXG4gICAgfVxuICB9XG5cbiAgdmFyIGJ1ZiA9IG5ldyBCdWZmZXIodG90YWxMZW5ndGgpXG4gIHZhciBwb3MgPSAwXG4gIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldXG4gICAgaXRlbS5jb3B5KGJ1ZiwgcG9zKVxuICAgIHBvcyArPSBpdGVtLmxlbmd0aFxuICB9XG4gIHJldHVybiBidWZcbn1cblxuQnVmZmVyLmNvbXBhcmUgPSBmdW5jdGlvbiAoYSwgYikge1xuICBhc3NlcnQoQnVmZmVyLmlzQnVmZmVyKGEpICYmIEJ1ZmZlci5pc0J1ZmZlcihiKSwgJ0FyZ3VtZW50cyBtdXN0IGJlIEJ1ZmZlcnMnKVxuICB2YXIgeCA9IGEubGVuZ3RoXG4gIHZhciB5ID0gYi5sZW5ndGhcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuICYmIGFbaV0gPT09IGJbaV07IGkrKykge31cbiAgaWYgKGkgIT09IGxlbikge1xuICAgIHggPSBhW2ldXG4gICAgeSA9IGJbaV1cbiAgfVxuICBpZiAoeCA8IHkpIHtcbiAgICByZXR1cm4gLTFcbiAgfVxuICBpZiAoeSA8IHgpIHtcbiAgICByZXR1cm4gMVxuICB9XG4gIHJldHVybiAwXG59XG5cbi8vIEJVRkZFUiBJTlNUQU5DRSBNRVRIT0RTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PVxuXG5mdW5jdGlvbiBoZXhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIG9mZnNldCA9IE51bWJlcihvZmZzZXQpIHx8IDBcbiAgdmFyIHJlbWFpbmluZyA9IGJ1Zi5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgfSBlbHNlIHtcbiAgICBsZW5ndGggPSBOdW1iZXIobGVuZ3RoKVxuICAgIGlmIChsZW5ndGggPiByZW1haW5pbmcpIHtcbiAgICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICAgIH1cbiAgfVxuXG4gIC8vIG11c3QgYmUgYW4gZXZlbiBudW1iZXIgb2YgZGlnaXRzXG4gIHZhciBzdHJMZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGFzc2VydChzdHJMZW4gJSAyID09PSAwLCAnSW52YWxpZCBoZXggc3RyaW5nJylcblxuICBpZiAobGVuZ3RoID4gc3RyTGVuIC8gMikge1xuICAgIGxlbmd0aCA9IHN0ckxlbiAvIDJcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGJ5dGUgPSBwYXJzZUludChzdHJpbmcuc3Vic3RyKGkgKiAyLCAyKSwgMTYpXG4gICAgYXNzZXJ0KCFpc05hTihieXRlKSwgJ0ludmFsaWQgaGV4IHN0cmluZycpXG4gICAgYnVmW29mZnNldCArIGldID0gYnl0ZVxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIHV0ZjhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHZhciBjaGFyc1dyaXR0ZW4gPSBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG4gIHJldHVybiBjaGFyc1dyaXR0ZW5cbn1cblxuZnVuY3Rpb24gYXNjaWlXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHZhciBjaGFyc1dyaXR0ZW4gPSBibGl0QnVmZmVyKGFzY2lpVG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxuICByZXR1cm4gY2hhcnNXcml0dGVuXG59XG5cbmZ1bmN0aW9uIGJpbmFyeVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGFzY2lpV3JpdGUoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBiYXNlNjRXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHZhciBjaGFyc1dyaXR0ZW4gPSBibGl0QnVmZmVyKGJhc2U2NFRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbiAgcmV0dXJuIGNoYXJzV3JpdHRlblxufVxuXG5mdW5jdGlvbiB1dGYxNmxlV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICB2YXIgY2hhcnNXcml0dGVuID0gYmxpdEJ1ZmZlcih1dGYxNmxlVG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxuICByZXR1cm4gY2hhcnNXcml0dGVuXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCwgZW5jb2RpbmcpIHtcbiAgLy8gU3VwcG9ydCBib3RoIChzdHJpbmcsIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZylcbiAgLy8gYW5kIHRoZSBsZWdhY3kgKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldCwgbGVuZ3RoKVxuICBpZiAoaXNGaW5pdGUob2Zmc2V0KSkge1xuICAgIGlmICghaXNGaW5pdGUobGVuZ3RoKSkge1xuICAgICAgZW5jb2RpbmcgPSBsZW5ndGhcbiAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZFxuICAgIH1cbiAgfSBlbHNlIHsgIC8vIGxlZ2FjeVxuICAgIHZhciBzd2FwID0gZW5jb2RpbmdcbiAgICBlbmNvZGluZyA9IG9mZnNldFxuICAgIG9mZnNldCA9IGxlbmd0aFxuICAgIGxlbmd0aCA9IHN3YXBcbiAgfVxuXG4gIG9mZnNldCA9IE51bWJlcihvZmZzZXQpIHx8IDBcbiAgdmFyIHJlbWFpbmluZyA9IHRoaXMubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmICghbGVuZ3RoKSB7XG4gICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gIH0gZWxzZSB7XG4gICAgbGVuZ3RoID0gTnVtYmVyKGxlbmd0aClcbiAgICBpZiAobGVuZ3RoID4gcmVtYWluaW5nKSB7XG4gICAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgICB9XG4gIH1cbiAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcgfHwgJ3V0ZjgnKS50b0xvd2VyQ2FzZSgpXG5cbiAgdmFyIHJldFxuICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgY2FzZSAnaGV4JzpcbiAgICAgIHJldCA9IGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3V0ZjgnOlxuICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgIHJldCA9IHV0ZjhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdhc2NpaSc6XG4gICAgICByZXQgPSBhc2NpaVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICByZXQgPSBiaW5hcnlXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgcmV0ID0gYmFzZTY0V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAndWNzMic6XG4gICAgY2FzZSAndWNzLTInOlxuICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgIHJldCA9IHV0ZjE2bGVXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuICAgICAgYnJlYWtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIGVuY29kaW5nJylcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoZW5jb2RpbmcsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG5cbiAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcgfHwgJ3V0ZjgnKS50b0xvd2VyQ2FzZSgpXG4gIHN0YXJ0ID0gTnVtYmVyKHN0YXJ0KSB8fCAwXG4gIGVuZCA9IChlbmQgPT09IHVuZGVmaW5lZCkgPyBzZWxmLmxlbmd0aCA6IE51bWJlcihlbmQpXG5cbiAgLy8gRmFzdHBhdGggZW1wdHkgc3RyaW5nc1xuICBpZiAoZW5kID09PSBzdGFydClcbiAgICByZXR1cm4gJydcblxuICB2YXIgcmV0XG4gIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICBjYXNlICdoZXgnOlxuICAgICAgcmV0ID0gaGV4U2xpY2Uoc2VsZiwgc3RhcnQsIGVuZClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAndXRmOCc6XG4gICAgY2FzZSAndXRmLTgnOlxuICAgICAgcmV0ID0gdXRmOFNsaWNlKHNlbGYsIHN0YXJ0LCBlbmQpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIHJldCA9IGFzY2lpU2xpY2Uoc2VsZiwgc3RhcnQsIGVuZClcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgIHJldCA9IGJpbmFyeVNsaWNlKHNlbGYsIHN0YXJ0LCBlbmQpXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICByZXQgPSBiYXNlNjRTbGljZShzZWxmLCBzdGFydCwgZW5kKVxuICAgICAgYnJlYWtcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1Y3MtMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgcmV0ID0gdXRmMTZsZVNsaWNlKHNlbGYsIHN0YXJ0LCBlbmQpXG4gICAgICBicmVha1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gZW5jb2RpbmcnKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0J1ZmZlcicsXG4gICAgZGF0YTogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyIHx8IHRoaXMsIDApXG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAoYikge1xuICBhc3NlcnQoQnVmZmVyLmlzQnVmZmVyKGIpLCAnQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIHJldHVybiBCdWZmZXIuY29tcGFyZSh0aGlzLCBiKSA9PT0gMFxufVxuXG5CdWZmZXIucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiAoYikge1xuICBhc3NlcnQoQnVmZmVyLmlzQnVmZmVyKGIpLCAnQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIHJldHVybiBCdWZmZXIuY29tcGFyZSh0aGlzLCBiKVxufVxuXG4vLyBjb3B5KHRhcmdldEJ1ZmZlciwgdGFyZ2V0U3RhcnQ9MCwgc291cmNlU3RhcnQ9MCwgc291cmNlRW5kPWJ1ZmZlci5sZW5ndGgpXG5CdWZmZXIucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiAodGFyZ2V0LCB0YXJnZXRfc3RhcnQsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHNvdXJjZSA9IHRoaXNcblxuICBpZiAoIXN0YXJ0KSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgJiYgZW5kICE9PSAwKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAoIXRhcmdldF9zdGFydCkgdGFyZ2V0X3N0YXJ0ID0gMFxuXG4gIC8vIENvcHkgMCBieXRlczsgd2UncmUgZG9uZVxuICBpZiAoZW5kID09PSBzdGFydCkgcmV0dXJuXG4gIGlmICh0YXJnZXQubGVuZ3RoID09PSAwIHx8IHNvdXJjZS5sZW5ndGggPT09IDApIHJldHVyblxuXG4gIC8vIEZhdGFsIGVycm9yIGNvbmRpdGlvbnNcbiAgYXNzZXJ0KGVuZCA+PSBzdGFydCwgJ3NvdXJjZUVuZCA8IHNvdXJjZVN0YXJ0JylcbiAgYXNzZXJ0KHRhcmdldF9zdGFydCA+PSAwICYmIHRhcmdldF9zdGFydCA8IHRhcmdldC5sZW5ndGgsXG4gICAgICAndGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIGFzc2VydChzdGFydCA+PSAwICYmIHN0YXJ0IDwgc291cmNlLmxlbmd0aCwgJ3NvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICBhc3NlcnQoZW5kID49IDAgJiYgZW5kIDw9IHNvdXJjZS5sZW5ndGgsICdzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcycpXG5cbiAgLy8gQXJlIHdlIG9vYj9cbiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKVxuICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0X3N0YXJ0IDwgZW5kIC0gc3RhcnQpXG4gICAgZW5kID0gdGFyZ2V0Lmxlbmd0aCAtIHRhcmdldF9zdGFydCArIHN0YXJ0XG5cbiAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0XG5cbiAgaWYgKGxlbiA8IDEwMCB8fCAhVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0X3N0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0YXJnZXQuX3NldCh0aGlzLnN1YmFycmF5KHN0YXJ0LCBzdGFydCArIGxlbiksIHRhcmdldF9zdGFydClcbiAgfVxufVxuXG5mdW5jdGlvbiBiYXNlNjRTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGlmIChzdGFydCA9PT0gMCAmJiBlbmQgPT09IGJ1Zi5sZW5ndGgpIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYuc2xpY2Uoc3RhcnQsIGVuZCkpXG4gIH1cbn1cblxuZnVuY3Rpb24gdXRmOFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJlcyA9ICcnXG4gIHZhciB0bXAgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICBpZiAoYnVmW2ldIDw9IDB4N0YpIHtcbiAgICAgIHJlcyArPSBkZWNvZGVVdGY4Q2hhcih0bXApICsgU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pXG4gICAgICB0bXAgPSAnJ1xuICAgIH0gZWxzZSB7XG4gICAgICB0bXAgKz0gJyUnICsgYnVmW2ldLnRvU3RyaW5nKDE2KVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXMgKyBkZWNvZGVVdGY4Q2hhcih0bXApXG59XG5cbmZ1bmN0aW9uIGFzY2lpU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gYmluYXJ5U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICByZXR1cm4gYXNjaWlTbGljZShidWYsIHN0YXJ0LCBlbmQpXG59XG5cbmZ1bmN0aW9uIGhleFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcblxuICBpZiAoIXN0YXJ0IHx8IHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW5cblxuICB2YXIgb3V0ID0gJydcbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICBvdXQgKz0gdG9IZXgoYnVmW2ldKVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpXG4gIHZhciByZXMgPSAnJ1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyBieXRlc1tpICsgMV0gKiAyNTYpXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIHN0YXJ0ID0gfn5zdGFydFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IH5+ZW5kXG5cbiAgaWYgKHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ICs9IGxlbjtcbiAgICBpZiAoc3RhcnQgPCAwKVxuICAgICAgc3RhcnQgPSAwXG4gIH0gZWxzZSBpZiAoc3RhcnQgPiBsZW4pIHtcbiAgICBzdGFydCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IDApIHtcbiAgICBlbmQgKz0gbGVuXG4gICAgaWYgKGVuZCA8IDApXG4gICAgICBlbmQgPSAwXG4gIH0gZWxzZSBpZiAoZW5kID4gbGVuKSB7XG4gICAgZW5kID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgc3RhcnQpXG4gICAgZW5kID0gc3RhcnRcblxuICBpZiAoVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHJldHVybiBCdWZmZXIuX2F1Z21lbnQodGhpcy5zdWJhcnJheShzdGFydCwgZW5kKSlcbiAgfSBlbHNlIHtcbiAgICB2YXIgc2xpY2VMZW4gPSBlbmQgLSBzdGFydFxuICAgIHZhciBuZXdCdWYgPSBuZXcgQnVmZmVyKHNsaWNlTGVuLCB1bmRlZmluZWQsIHRydWUpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGljZUxlbjsgaSsrKSB7XG4gICAgICBuZXdCdWZbaV0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gICAgcmV0dXJuIG5ld0J1ZlxuICB9XG59XG5cbi8vIGBnZXRgIHdpbGwgYmUgcmVtb3ZlZCBpbiBOb2RlIDAuMTMrXG5CdWZmZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgY29uc29sZS5sb2coJy5nZXQoKSBpcyBkZXByZWNhdGVkLiBBY2Nlc3MgdXNpbmcgYXJyYXkgaW5kZXhlcyBpbnN0ZWFkLicpXG4gIHJldHVybiB0aGlzLnJlYWRVSW50OChvZmZzZXQpXG59XG5cbi8vIGBzZXRgIHdpbGwgYmUgcmVtb3ZlZCBpbiBOb2RlIDAuMTMrXG5CdWZmZXIucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uICh2LCBvZmZzZXQpIHtcbiAgY29uc29sZS5sb2coJy5zZXQoKSBpcyBkZXByZWNhdGVkLiBBY2Nlc3MgdXNpbmcgYXJyYXkgaW5kZXhlcyBpbnN0ZWFkLicpXG4gIHJldHVybiB0aGlzLndyaXRlVUludDgodiwgb2Zmc2V0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50OCA9IGZ1bmN0aW9uIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBhc3NlcnQob2Zmc2V0ICE9PSB1bmRlZmluZWQgJiYgb2Zmc2V0ICE9PSBudWxsLCAnbWlzc2luZyBvZmZzZXQnKVxuICAgIGFzc2VydChvZmZzZXQgPCB0aGlzLmxlbmd0aCwgJ1RyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbiAgfVxuXG4gIGlmIChvZmZzZXQgPj0gdGhpcy5sZW5ndGgpXG4gICAgcmV0dXJuXG5cbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XVxufVxuXG5mdW5jdGlvbiByZWFkVUludDE2IChidWYsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgYXNzZXJ0KHR5cGVvZiBsaXR0bGVFbmRpYW4gPT09ICdib29sZWFuJywgJ21pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW4nKVxuICAgIGFzc2VydChvZmZzZXQgIT09IHVuZGVmaW5lZCAmJiBvZmZzZXQgIT09IG51bGwsICdtaXNzaW5nIG9mZnNldCcpXG4gICAgYXNzZXJ0KG9mZnNldCArIDEgPCBidWYubGVuZ3RoLCAnVHJ5aW5nIHRvIHJlYWQgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxuICB9XG5cbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcbiAgaWYgKG9mZnNldCA+PSBsZW4pXG4gICAgcmV0dXJuXG5cbiAgdmFyIHZhbFxuICBpZiAobGl0dGxlRW5kaWFuKSB7XG4gICAgdmFsID0gYnVmW29mZnNldF1cbiAgICBpZiAob2Zmc2V0ICsgMSA8IGxlbilcbiAgICAgIHZhbCB8PSBidWZbb2Zmc2V0ICsgMV0gPDwgOFxuICB9IGVsc2Uge1xuICAgIHZhbCA9IGJ1ZltvZmZzZXRdIDw8IDhcbiAgICBpZiAob2Zmc2V0ICsgMSA8IGxlbilcbiAgICAgIHZhbCB8PSBidWZbb2Zmc2V0ICsgMV1cbiAgfVxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkxFID0gZnVuY3Rpb24gKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHJlYWRVSW50MTYodGhpcywgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2QkUgPSBmdW5jdGlvbiAob2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gcmVhZFVJbnQxNih0aGlzLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gcmVhZFVJbnQzMiAoYnVmLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGFzc2VydCh0eXBlb2YgbGl0dGxlRW5kaWFuID09PSAnYm9vbGVhbicsICdtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuJylcbiAgICBhc3NlcnQob2Zmc2V0ICE9PSB1bmRlZmluZWQgJiYgb2Zmc2V0ICE9PSBudWxsLCAnbWlzc2luZyBvZmZzZXQnKVxuICAgIGFzc2VydChvZmZzZXQgKyAzIDwgYnVmLmxlbmd0aCwgJ1RyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbiAgfVxuXG4gIHZhciBsZW4gPSBidWYubGVuZ3RoXG4gIGlmIChvZmZzZXQgPj0gbGVuKVxuICAgIHJldHVyblxuXG4gIHZhciB2YWxcbiAgaWYgKGxpdHRsZUVuZGlhbikge1xuICAgIGlmIChvZmZzZXQgKyAyIDwgbGVuKVxuICAgICAgdmFsID0gYnVmW29mZnNldCArIDJdIDw8IDE2XG4gICAgaWYgKG9mZnNldCArIDEgPCBsZW4pXG4gICAgICB2YWwgfD0gYnVmW29mZnNldCArIDFdIDw8IDhcbiAgICB2YWwgfD0gYnVmW29mZnNldF1cbiAgICBpZiAob2Zmc2V0ICsgMyA8IGxlbilcbiAgICAgIHZhbCA9IHZhbCArIChidWZbb2Zmc2V0ICsgM10gPDwgMjQgPj4+IDApXG4gIH0gZWxzZSB7XG4gICAgaWYgKG9mZnNldCArIDEgPCBsZW4pXG4gICAgICB2YWwgPSBidWZbb2Zmc2V0ICsgMV0gPDwgMTZcbiAgICBpZiAob2Zmc2V0ICsgMiA8IGxlbilcbiAgICAgIHZhbCB8PSBidWZbb2Zmc2V0ICsgMl0gPDwgOFxuICAgIGlmIChvZmZzZXQgKyAzIDwgbGVuKVxuICAgICAgdmFsIHw9IGJ1ZltvZmZzZXQgKyAzXVxuICAgIHZhbCA9IHZhbCArIChidWZbb2Zmc2V0XSA8PCAyNCA+Pj4gMClcbiAgfVxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24gKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHJlYWRVSW50MzIodGhpcywgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyQkUgPSBmdW5jdGlvbiAob2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gcmVhZFVJbnQzMih0aGlzLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50OCA9IGZ1bmN0aW9uIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBhc3NlcnQob2Zmc2V0ICE9PSB1bmRlZmluZWQgJiYgb2Zmc2V0ICE9PSBudWxsLFxuICAgICAgICAnbWlzc2luZyBvZmZzZXQnKVxuICAgIGFzc2VydChvZmZzZXQgPCB0aGlzLmxlbmd0aCwgJ1RyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbiAgfVxuXG4gIGlmIChvZmZzZXQgPj0gdGhpcy5sZW5ndGgpXG4gICAgcmV0dXJuXG5cbiAgdmFyIG5lZyA9IHRoaXNbb2Zmc2V0XSAmIDB4ODBcbiAgaWYgKG5lZylcbiAgICByZXR1cm4gKDB4ZmYgLSB0aGlzW29mZnNldF0gKyAxKSAqIC0xXG4gIGVsc2VcbiAgICByZXR1cm4gdGhpc1tvZmZzZXRdXG59XG5cbmZ1bmN0aW9uIHJlYWRJbnQxNiAoYnVmLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGFzc2VydCh0eXBlb2YgbGl0dGxlRW5kaWFuID09PSAnYm9vbGVhbicsICdtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuJylcbiAgICBhc3NlcnQob2Zmc2V0ICE9PSB1bmRlZmluZWQgJiYgb2Zmc2V0ICE9PSBudWxsLCAnbWlzc2luZyBvZmZzZXQnKVxuICAgIGFzc2VydChvZmZzZXQgKyAxIDwgYnVmLmxlbmd0aCwgJ1RyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbiAgfVxuXG4gIHZhciBsZW4gPSBidWYubGVuZ3RoXG4gIGlmIChvZmZzZXQgPj0gbGVuKVxuICAgIHJldHVyblxuXG4gIHZhciB2YWwgPSByZWFkVUludDE2KGJ1Ziwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIHRydWUpXG4gIHZhciBuZWcgPSB2YWwgJiAweDgwMDBcbiAgaWYgKG5lZylcbiAgICByZXR1cm4gKDB4ZmZmZiAtIHZhbCArIDEpICogLTFcbiAgZWxzZVxuICAgIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZMRSA9IGZ1bmN0aW9uIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiByZWFkSW50MTYodGhpcywgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRSA9IGZ1bmN0aW9uIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiByZWFkSW50MTYodGhpcywgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIHJlYWRJbnQzMiAoYnVmLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGFzc2VydCh0eXBlb2YgbGl0dGxlRW5kaWFuID09PSAnYm9vbGVhbicsICdtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuJylcbiAgICBhc3NlcnQob2Zmc2V0ICE9PSB1bmRlZmluZWQgJiYgb2Zmc2V0ICE9PSBudWxsLCAnbWlzc2luZyBvZmZzZXQnKVxuICAgIGFzc2VydChvZmZzZXQgKyAzIDwgYnVmLmxlbmd0aCwgJ1RyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbiAgfVxuXG4gIHZhciBsZW4gPSBidWYubGVuZ3RoXG4gIGlmIChvZmZzZXQgPj0gbGVuKVxuICAgIHJldHVyblxuXG4gIHZhciB2YWwgPSByZWFkVUludDMyKGJ1Ziwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIHRydWUpXG4gIHZhciBuZWcgPSB2YWwgJiAweDgwMDAwMDAwXG4gIGlmIChuZWcpXG4gICAgcmV0dXJuICgweGZmZmZmZmZmIC0gdmFsICsgMSkgKiAtMVxuICBlbHNlXG4gICAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFID0gZnVuY3Rpb24gKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHJlYWRJbnQzMih0aGlzLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFID0gZnVuY3Rpb24gKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHJlYWRJbnQzMih0aGlzLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gcmVhZEZsb2F0IChidWYsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgYXNzZXJ0KHR5cGVvZiBsaXR0bGVFbmRpYW4gPT09ICdib29sZWFuJywgJ21pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW4nKVxuICAgIGFzc2VydChvZmZzZXQgKyAzIDwgYnVmLmxlbmd0aCwgJ1RyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbiAgfVxuXG4gIHJldHVybiBpZWVlNzU0LnJlYWQoYnVmLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEUgPSBmdW5jdGlvbiAob2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gcmVhZEZsb2F0KHRoaXMsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkUgPSBmdW5jdGlvbiAob2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gcmVhZEZsb2F0KHRoaXMsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG5mdW5jdGlvbiByZWFkRG91YmxlIChidWYsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgYXNzZXJ0KHR5cGVvZiBsaXR0bGVFbmRpYW4gPT09ICdib29sZWFuJywgJ21pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW4nKVxuICAgIGFzc2VydChvZmZzZXQgKyA3IDwgYnVmLmxlbmd0aCwgJ1RyeWluZyB0byByZWFkIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbiAgfVxuXG4gIHJldHVybiBpZWVlNzU0LnJlYWQoYnVmLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgNTIsIDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUxFID0gZnVuY3Rpb24gKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHJlYWREb3VibGUodGhpcywgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlQkUgPSBmdW5jdGlvbiAob2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gcmVhZERvdWJsZSh0aGlzLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQ4ID0gZnVuY3Rpb24gKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBhc3NlcnQodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCwgJ21pc3NpbmcgdmFsdWUnKVxuICAgIGFzc2VydChvZmZzZXQgIT09IHVuZGVmaW5lZCAmJiBvZmZzZXQgIT09IG51bGwsICdtaXNzaW5nIG9mZnNldCcpXG4gICAgYXNzZXJ0KG9mZnNldCA8IHRoaXMubGVuZ3RoLCAndHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbiAgICB2ZXJpZnVpbnQodmFsdWUsIDB4ZmYpXG4gIH1cblxuICBpZiAob2Zmc2V0ID49IHRoaXMubGVuZ3RoKSByZXR1cm5cblxuICB0aGlzW29mZnNldF0gPSB2YWx1ZVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5mdW5jdGlvbiB3cml0ZVVJbnQxNiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBhc3NlcnQodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCwgJ21pc3NpbmcgdmFsdWUnKVxuICAgIGFzc2VydCh0eXBlb2YgbGl0dGxlRW5kaWFuID09PSAnYm9vbGVhbicsICdtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuJylcbiAgICBhc3NlcnQob2Zmc2V0ICE9PSB1bmRlZmluZWQgJiYgb2Zmc2V0ICE9PSBudWxsLCAnbWlzc2luZyBvZmZzZXQnKVxuICAgIGFzc2VydChvZmZzZXQgKyAxIDwgYnVmLmxlbmd0aCwgJ3RyeWluZyB0byB3cml0ZSBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG4gICAgdmVyaWZ1aW50KHZhbHVlLCAweGZmZmYpXG4gIH1cblxuICB2YXIgbGVuID0gYnVmLmxlbmd0aFxuICBpZiAob2Zmc2V0ID49IGxlbilcbiAgICByZXR1cm5cblxuICBmb3IgKHZhciBpID0gMCwgaiA9IE1hdGgubWluKGxlbiAtIG9mZnNldCwgMik7IGkgPCBqOyBpKyspIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPVxuICAgICAgICAodmFsdWUgJiAoMHhmZiA8PCAoOCAqIChsaXR0bGVFbmRpYW4gPyBpIDogMSAtIGkpKSkpID4+PlxuICAgICAgICAgICAgKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkgKiA4XG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFID0gZnVuY3Rpb24gKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFID0gZnVuY3Rpb24gKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIHdyaXRlVUludDMyIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGFzc2VydCh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsLCAnbWlzc2luZyB2YWx1ZScpXG4gICAgYXNzZXJ0KHR5cGVvZiBsaXR0bGVFbmRpYW4gPT09ICdib29sZWFuJywgJ21pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW4nKVxuICAgIGFzc2VydChvZmZzZXQgIT09IHVuZGVmaW5lZCAmJiBvZmZzZXQgIT09IG51bGwsICdtaXNzaW5nIG9mZnNldCcpXG4gICAgYXNzZXJ0KG9mZnNldCArIDMgPCBidWYubGVuZ3RoLCAndHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbiAgICB2ZXJpZnVpbnQodmFsdWUsIDB4ZmZmZmZmZmYpXG4gIH1cblxuICB2YXIgbGVuID0gYnVmLmxlbmd0aFxuICBpZiAob2Zmc2V0ID49IGxlbilcbiAgICByZXR1cm5cblxuICBmb3IgKHZhciBpID0gMCwgaiA9IE1hdGgubWluKGxlbiAtIG9mZnNldCwgNCk7IGkgPCBqOyBpKyspIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPVxuICAgICAgICAodmFsdWUgPj4+IChsaXR0bGVFbmRpYW4gPyBpIDogMyAtIGkpICogOCkgJiAweGZmXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24gKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFID0gZnVuY3Rpb24gKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ4ID0gZnVuY3Rpb24gKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBhc3NlcnQodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCwgJ21pc3NpbmcgdmFsdWUnKVxuICAgIGFzc2VydChvZmZzZXQgIT09IHVuZGVmaW5lZCAmJiBvZmZzZXQgIT09IG51bGwsICdtaXNzaW5nIG9mZnNldCcpXG4gICAgYXNzZXJ0KG9mZnNldCA8IHRoaXMubGVuZ3RoLCAnVHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbiAgICB2ZXJpZnNpbnQodmFsdWUsIDB4N2YsIC0weDgwKVxuICB9XG5cbiAgaWYgKG9mZnNldCA+PSB0aGlzLmxlbmd0aClcbiAgICByZXR1cm5cblxuICBpZiAodmFsdWUgPj0gMClcbiAgICB0aGlzLndyaXRlVUludDgodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpXG4gIGVsc2VcbiAgICB0aGlzLndyaXRlVUludDgoMHhmZiArIHZhbHVlICsgMSwgb2Zmc2V0LCBub0Fzc2VydClcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuZnVuY3Rpb24gd3JpdGVJbnQxNiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBhc3NlcnQodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCwgJ21pc3NpbmcgdmFsdWUnKVxuICAgIGFzc2VydCh0eXBlb2YgbGl0dGxlRW5kaWFuID09PSAnYm9vbGVhbicsICdtaXNzaW5nIG9yIGludmFsaWQgZW5kaWFuJylcbiAgICBhc3NlcnQob2Zmc2V0ICE9PSB1bmRlZmluZWQgJiYgb2Zmc2V0ICE9PSBudWxsLCAnbWlzc2luZyBvZmZzZXQnKVxuICAgIGFzc2VydChvZmZzZXQgKyAxIDwgYnVmLmxlbmd0aCwgJ1RyeWluZyB0byB3cml0ZSBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG4gICAgdmVyaWZzaW50KHZhbHVlLCAweDdmZmYsIC0weDgwMDApXG4gIH1cblxuICB2YXIgbGVuID0gYnVmLmxlbmd0aFxuICBpZiAob2Zmc2V0ID49IGxlbilcbiAgICByZXR1cm5cblxuICBpZiAodmFsdWUgPj0gMClcbiAgICB3cml0ZVVJbnQxNihidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpXG4gIGVsc2VcbiAgICB3cml0ZVVJbnQxNihidWYsIDB4ZmZmZiArIHZhbHVlICsgMSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRSA9IGZ1bmN0aW9uICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkUgPSBmdW5jdGlvbiAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG5mdW5jdGlvbiB3cml0ZUludDMyIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGFzc2VydCh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsLCAnbWlzc2luZyB2YWx1ZScpXG4gICAgYXNzZXJ0KHR5cGVvZiBsaXR0bGVFbmRpYW4gPT09ICdib29sZWFuJywgJ21pc3Npbmcgb3IgaW52YWxpZCBlbmRpYW4nKVxuICAgIGFzc2VydChvZmZzZXQgIT09IHVuZGVmaW5lZCAmJiBvZmZzZXQgIT09IG51bGwsICdtaXNzaW5nIG9mZnNldCcpXG4gICAgYXNzZXJ0KG9mZnNldCArIDMgPCBidWYubGVuZ3RoLCAnVHJ5aW5nIHRvIHdyaXRlIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbiAgICB2ZXJpZnNpbnQodmFsdWUsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICB9XG5cbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcbiAgaWYgKG9mZnNldCA+PSBsZW4pXG4gICAgcmV0dXJuXG5cbiAgaWYgKHZhbHVlID49IDApXG4gICAgd3JpdGVVSW50MzIoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KVxuICBlbHNlXG4gICAgd3JpdGVVSW50MzIoYnVmLCAweGZmZmZmZmZmICsgdmFsdWUgKyAxLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkxFID0gZnVuY3Rpb24gKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRSA9IGZ1bmN0aW9uICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvYXQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgYXNzZXJ0KHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwsICdtaXNzaW5nIHZhbHVlJylcbiAgICBhc3NlcnQodHlwZW9mIGxpdHRsZUVuZGlhbiA9PT0gJ2Jvb2xlYW4nLCAnbWlzc2luZyBvciBpbnZhbGlkIGVuZGlhbicpXG4gICAgYXNzZXJ0KG9mZnNldCAhPT0gdW5kZWZpbmVkICYmIG9mZnNldCAhPT0gbnVsbCwgJ21pc3Npbmcgb2Zmc2V0JylcbiAgICBhc3NlcnQob2Zmc2V0ICsgMyA8IGJ1Zi5sZW5ndGgsICdUcnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxuICAgIHZlcmlmSUVFRTc1NCh2YWx1ZSwgMy40MDI4MjM0NjYzODUyODg2ZSszOCwgLTMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgpXG4gIH1cblxuICB2YXIgbGVuID0gYnVmLmxlbmd0aFxuICBpZiAob2Zmc2V0ID49IGxlbilcbiAgICByZXR1cm5cblxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCAyMywgNClcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0TEUgPSBmdW5jdGlvbiAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdEJFID0gZnVuY3Rpb24gKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gd3JpdGVEb3VibGUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgYXNzZXJ0KHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwsICdtaXNzaW5nIHZhbHVlJylcbiAgICBhc3NlcnQodHlwZW9mIGxpdHRsZUVuZGlhbiA9PT0gJ2Jvb2xlYW4nLCAnbWlzc2luZyBvciBpbnZhbGlkIGVuZGlhbicpXG4gICAgYXNzZXJ0KG9mZnNldCAhPT0gdW5kZWZpbmVkICYmIG9mZnNldCAhPT0gbnVsbCwgJ21pc3Npbmcgb2Zmc2V0JylcbiAgICBhc3NlcnQob2Zmc2V0ICsgNyA8IGJ1Zi5sZW5ndGgsXG4gICAgICAgICdUcnlpbmcgdG8gd3JpdGUgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxuICAgIHZlcmlmSUVFRTc1NCh2YWx1ZSwgMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgsIC0xLjc5NzY5MzEzNDg2MjMxNTdFKzMwOClcbiAgfVxuXG4gIHZhciBsZW4gPSBidWYubGVuZ3RoXG4gIGlmIChvZmZzZXQgPj0gbGVuKVxuICAgIHJldHVyblxuXG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDUyLCA4KVxuICByZXR1cm4gb2Zmc2V0ICsgOFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlTEUgPSBmdW5jdGlvbiAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlQkUgPSBmdW5jdGlvbiAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuLy8gZmlsbCh2YWx1ZSwgc3RhcnQ9MCwgZW5kPWJ1ZmZlci5sZW5ndGgpXG5CdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiAodmFsdWUsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKCF2YWx1ZSkgdmFsdWUgPSAwXG4gIGlmICghc3RhcnQpIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCkgZW5kID0gdGhpcy5sZW5ndGhcblxuICBhc3NlcnQoZW5kID49IHN0YXJ0LCAnZW5kIDwgc3RhcnQnKVxuXG4gIC8vIEZpbGwgMCBieXRlczsgd2UncmUgZG9uZVxuICBpZiAoZW5kID09PSBzdGFydCkgcmV0dXJuXG4gIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuXG5cbiAgYXNzZXJ0KHN0YXJ0ID49IDAgJiYgc3RhcnQgPCB0aGlzLmxlbmd0aCwgJ3N0YXJ0IG91dCBvZiBib3VuZHMnKVxuICBhc3NlcnQoZW5kID49IDAgJiYgZW5kIDw9IHRoaXMubGVuZ3RoLCAnZW5kIG91dCBvZiBib3VuZHMnKVxuXG4gIHZhciBpXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7IGkrKykge1xuICAgICAgdGhpc1tpXSA9IHZhbHVlXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBieXRlcyA9IHV0ZjhUb0J5dGVzKHZhbHVlLnRvU3RyaW5nKCkpXG4gICAgdmFyIGxlbiA9IGJ5dGVzLmxlbmd0aFxuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICAgIHRoaXNbaV0gPSBieXRlc1tpICUgbGVuXVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIG91dCA9IFtdXG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgb3V0W2ldID0gdG9IZXgodGhpc1tpXSlcbiAgICBpZiAoaSA9PT0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFUykge1xuICAgICAgb3V0W2kgKyAxXSA9ICcuLi4nXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuICByZXR1cm4gJzxCdWZmZXIgJyArIG91dC5qb2luKCcgJykgKyAnPidcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGBBcnJheUJ1ZmZlcmAgd2l0aCB0aGUgKmNvcGllZCogbWVtb3J5IG9mIHRoZSBidWZmZXIgaW5zdGFuY2UuXG4gKiBBZGRlZCBpbiBOb2RlIDAuMTIuIE9ubHkgYXZhaWxhYmxlIGluIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBBcnJheUJ1ZmZlci5cbiAqL1xuQnVmZmVyLnByb3RvdHlwZS50b0FycmF5QnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICBpZiAodHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKFRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAgIHJldHVybiAobmV3IEJ1ZmZlcih0aGlzKSkuYnVmZmVyXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBidWYgPSBuZXcgVWludDhBcnJheSh0aGlzLmxlbmd0aClcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBidWYubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgICAgYnVmW2ldID0gdGhpc1tpXVxuICAgICAgfVxuICAgICAgcmV0dXJuIGJ1Zi5idWZmZXJcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdCdWZmZXIudG9BcnJheUJ1ZmZlciBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlcicpXG4gIH1cbn1cblxuLy8gSEVMUEVSIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PVxuXG52YXIgQlAgPSBCdWZmZXIucHJvdG90eXBlXG5cbi8qKlxuICogQXVnbWVudCBhIFVpbnQ4QXJyYXkgKmluc3RhbmNlKiAobm90IHRoZSBVaW50OEFycmF5IGNsYXNzISkgd2l0aCBCdWZmZXIgbWV0aG9kc1xuICovXG5CdWZmZXIuX2F1Z21lbnQgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIGFyci5faXNCdWZmZXIgPSB0cnVlXG5cbiAgLy8gc2F2ZSByZWZlcmVuY2UgdG8gb3JpZ2luYWwgVWludDhBcnJheSBnZXQvc2V0IG1ldGhvZHMgYmVmb3JlIG92ZXJ3cml0aW5nXG4gIGFyci5fZ2V0ID0gYXJyLmdldFxuICBhcnIuX3NldCA9IGFyci5zZXRcblxuICAvLyBkZXByZWNhdGVkLCB3aWxsIGJlIHJlbW92ZWQgaW4gbm9kZSAwLjEzK1xuICBhcnIuZ2V0ID0gQlAuZ2V0XG4gIGFyci5zZXQgPSBCUC5zZXRcblxuICBhcnIud3JpdGUgPSBCUC53cml0ZVxuICBhcnIudG9TdHJpbmcgPSBCUC50b1N0cmluZ1xuICBhcnIudG9Mb2NhbGVTdHJpbmcgPSBCUC50b1N0cmluZ1xuICBhcnIudG9KU09OID0gQlAudG9KU09OXG4gIGFyci5lcXVhbHMgPSBCUC5lcXVhbHNcbiAgYXJyLmNvbXBhcmUgPSBCUC5jb21wYXJlXG4gIGFyci5jb3B5ID0gQlAuY29weVxuICBhcnIuc2xpY2UgPSBCUC5zbGljZVxuICBhcnIucmVhZFVJbnQ4ID0gQlAucmVhZFVJbnQ4XG4gIGFyci5yZWFkVUludDE2TEUgPSBCUC5yZWFkVUludDE2TEVcbiAgYXJyLnJlYWRVSW50MTZCRSA9IEJQLnJlYWRVSW50MTZCRVxuICBhcnIucmVhZFVJbnQzMkxFID0gQlAucmVhZFVJbnQzMkxFXG4gIGFyci5yZWFkVUludDMyQkUgPSBCUC5yZWFkVUludDMyQkVcbiAgYXJyLnJlYWRJbnQ4ID0gQlAucmVhZEludDhcbiAgYXJyLnJlYWRJbnQxNkxFID0gQlAucmVhZEludDE2TEVcbiAgYXJyLnJlYWRJbnQxNkJFID0gQlAucmVhZEludDE2QkVcbiAgYXJyLnJlYWRJbnQzMkxFID0gQlAucmVhZEludDMyTEVcbiAgYXJyLnJlYWRJbnQzMkJFID0gQlAucmVhZEludDMyQkVcbiAgYXJyLnJlYWRGbG9hdExFID0gQlAucmVhZEZsb2F0TEVcbiAgYXJyLnJlYWRGbG9hdEJFID0gQlAucmVhZEZsb2F0QkVcbiAgYXJyLnJlYWREb3VibGVMRSA9IEJQLnJlYWREb3VibGVMRVxuICBhcnIucmVhZERvdWJsZUJFID0gQlAucmVhZERvdWJsZUJFXG4gIGFyci53cml0ZVVJbnQ4ID0gQlAud3JpdGVVSW50OFxuICBhcnIud3JpdGVVSW50MTZMRSA9IEJQLndyaXRlVUludDE2TEVcbiAgYXJyLndyaXRlVUludDE2QkUgPSBCUC53cml0ZVVJbnQxNkJFXG4gIGFyci53cml0ZVVJbnQzMkxFID0gQlAud3JpdGVVSW50MzJMRVxuICBhcnIud3JpdGVVSW50MzJCRSA9IEJQLndyaXRlVUludDMyQkVcbiAgYXJyLndyaXRlSW50OCA9IEJQLndyaXRlSW50OFxuICBhcnIud3JpdGVJbnQxNkxFID0gQlAud3JpdGVJbnQxNkxFXG4gIGFyci53cml0ZUludDE2QkUgPSBCUC53cml0ZUludDE2QkVcbiAgYXJyLndyaXRlSW50MzJMRSA9IEJQLndyaXRlSW50MzJMRVxuICBhcnIud3JpdGVJbnQzMkJFID0gQlAud3JpdGVJbnQzMkJFXG4gIGFyci53cml0ZUZsb2F0TEUgPSBCUC53cml0ZUZsb2F0TEVcbiAgYXJyLndyaXRlRmxvYXRCRSA9IEJQLndyaXRlRmxvYXRCRVxuICBhcnIud3JpdGVEb3VibGVMRSA9IEJQLndyaXRlRG91YmxlTEVcbiAgYXJyLndyaXRlRG91YmxlQkUgPSBCUC53cml0ZURvdWJsZUJFXG4gIGFyci5maWxsID0gQlAuZmlsbFxuICBhcnIuaW5zcGVjdCA9IEJQLmluc3BlY3RcbiAgYXJyLnRvQXJyYXlCdWZmZXIgPSBCUC50b0FycmF5QnVmZmVyXG5cbiAgcmV0dXJuIGFyclxufVxuXG52YXIgSU5WQUxJRF9CQVNFNjRfUkUgPSAvW14rXFwvMC05QS16XS9nXG5cbmZ1bmN0aW9uIGJhc2U2NGNsZWFuIChzdHIpIHtcbiAgLy8gTm9kZSBzdHJpcHMgb3V0IGludmFsaWQgY2hhcmFjdGVycyBsaWtlIFxcbiBhbmQgXFx0IGZyb20gdGhlIHN0cmluZywgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHN0ciA9IHN0cmluZ3RyaW0oc3RyKS5yZXBsYWNlKElOVkFMSURfQkFTRTY0X1JFLCAnJylcbiAgLy8gTm9kZSBhbGxvd3MgZm9yIG5vbi1wYWRkZWQgYmFzZTY0IHN0cmluZ3MgKG1pc3NpbmcgdHJhaWxpbmcgPT09KSwgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHdoaWxlIChzdHIubGVuZ3RoICUgNCAhPT0gMCkge1xuICAgIHN0ciA9IHN0ciArICc9J1xuICB9XG4gIHJldHVybiBzdHJcbn1cblxuZnVuY3Rpb24gc3RyaW5ndHJpbSAoc3RyKSB7XG4gIGlmIChzdHIudHJpbSkgcmV0dXJuIHN0ci50cmltKClcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJylcbn1cblxuZnVuY3Rpb24gaXNBcnJheSAoc3ViamVjdCkge1xuICByZXR1cm4gKEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHN1YmplY3QpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHN1YmplY3QpID09PSAnW29iamVjdCBBcnJheV0nXG4gIH0pKHN1YmplY3QpXG59XG5cbmZ1bmN0aW9uIGlzQXJyYXlpc2ggKHN1YmplY3QpIHtcbiAgcmV0dXJuIGlzQXJyYXkoc3ViamVjdCkgfHwgQnVmZmVyLmlzQnVmZmVyKHN1YmplY3QpIHx8XG4gICAgICBzdWJqZWN0ICYmIHR5cGVvZiBzdWJqZWN0ID09PSAnb2JqZWN0JyAmJlxuICAgICAgdHlwZW9mIHN1YmplY3QubGVuZ3RoID09PSAnbnVtYmVyJ1xufVxuXG5mdW5jdGlvbiB0b0hleCAobikge1xuICBpZiAobiA8IDE2KSByZXR1cm4gJzAnICsgbi50b1N0cmluZygxNilcbiAgcmV0dXJuIG4udG9TdHJpbmcoMTYpXG59XG5cbmZ1bmN0aW9uIHV0ZjhUb0J5dGVzIChzdHIpIHtcbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGIgPSBzdHIuY2hhckNvZGVBdChpKVxuICAgIGlmIChiIDw9IDB4N0YpIHtcbiAgICAgIGJ5dGVBcnJheS5wdXNoKGIpXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzdGFydCA9IGlcbiAgICAgIGlmIChiID49IDB4RDgwMCAmJiBiIDw9IDB4REZGRikgaSsrXG4gICAgICB2YXIgaCA9IGVuY29kZVVSSUNvbXBvbmVudChzdHIuc2xpY2Uoc3RhcnQsIGkrMSkpLnN1YnN0cigxKS5zcGxpdCgnJScpXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGgubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgYnl0ZUFycmF5LnB1c2gocGFyc2VJbnQoaFtqXSwgMTYpKVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIGFzY2lpVG9CeXRlcyAoc3RyKSB7XG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxuICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRilcbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzIChzdHIpIHtcbiAgdmFyIGMsIGhpLCBsb1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSlcbiAgICBoaSA9IGMgPj4gOFxuICAgIGxvID0gYyAlIDI1NlxuICAgIGJ5dGVBcnJheS5wdXNoKGxvKVxuICAgIGJ5dGVBcnJheS5wdXNoKGhpKVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiBiYXNlNjRUb0J5dGVzIChzdHIpIHtcbiAgcmV0dXJuIGJhc2U2NC50b0J5dGVBcnJheShzdHIpXG59XG5cbmZ1bmN0aW9uIGJsaXRCdWZmZXIgKHNyYywgZHN0LCBvZmZzZXQsIGxlbmd0aCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKChpICsgb2Zmc2V0ID49IGRzdC5sZW5ndGgpIHx8IChpID49IHNyYy5sZW5ndGgpKVxuICAgICAgYnJlYWtcbiAgICBkc3RbaSArIG9mZnNldF0gPSBzcmNbaV1cbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiBkZWNvZGVVdGY4Q2hhciAoc3RyKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzdHIpXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4RkZGRCkgLy8gVVRGIDggaW52YWxpZCBjaGFyXG4gIH1cbn1cblxuLypcbiAqIFdlIGhhdmUgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIHZhbHVlIGlzIGEgdmFsaWQgaW50ZWdlci4gVGhpcyBtZWFucyB0aGF0IGl0XG4gKiBpcyBub24tbmVnYXRpdmUuIEl0IGhhcyBubyBmcmFjdGlvbmFsIGNvbXBvbmVudCBhbmQgdGhhdCBpdCBkb2VzIG5vdFxuICogZXhjZWVkIHRoZSBtYXhpbXVtIGFsbG93ZWQgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHZlcmlmdWludCAodmFsdWUsIG1heCkge1xuICBhc3NlcnQodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJywgJ2Nhbm5vdCB3cml0ZSBhIG5vbi1udW1iZXIgYXMgYSBudW1iZXInKVxuICBhc3NlcnQodmFsdWUgPj0gMCwgJ3NwZWNpZmllZCBhIG5lZ2F0aXZlIHZhbHVlIGZvciB3cml0aW5nIGFuIHVuc2lnbmVkIHZhbHVlJylcbiAgYXNzZXJ0KHZhbHVlIDw9IG1heCwgJ3ZhbHVlIGlzIGxhcmdlciB0aGFuIG1heGltdW0gdmFsdWUgZm9yIHR5cGUnKVxuICBhc3NlcnQoTWF0aC5mbG9vcih2YWx1ZSkgPT09IHZhbHVlLCAndmFsdWUgaGFzIGEgZnJhY3Rpb25hbCBjb21wb25lbnQnKVxufVxuXG5mdW5jdGlvbiB2ZXJpZnNpbnQgKHZhbHVlLCBtYXgsIG1pbikge1xuICBhc3NlcnQodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJywgJ2Nhbm5vdCB3cml0ZSBhIG5vbi1udW1iZXIgYXMgYSBudW1iZXInKVxuICBhc3NlcnQodmFsdWUgPD0gbWF4LCAndmFsdWUgbGFyZ2VyIHRoYW4gbWF4aW11bSBhbGxvd2VkIHZhbHVlJylcbiAgYXNzZXJ0KHZhbHVlID49IG1pbiwgJ3ZhbHVlIHNtYWxsZXIgdGhhbiBtaW5pbXVtIGFsbG93ZWQgdmFsdWUnKVxuICBhc3NlcnQoTWF0aC5mbG9vcih2YWx1ZSkgPT09IHZhbHVlLCAndmFsdWUgaGFzIGEgZnJhY3Rpb25hbCBjb21wb25lbnQnKVxufVxuXG5mdW5jdGlvbiB2ZXJpZklFRUU3NTQgKHZhbHVlLCBtYXgsIG1pbikge1xuICBhc3NlcnQodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJywgJ2Nhbm5vdCB3cml0ZSBhIG5vbi1udW1iZXIgYXMgYSBudW1iZXInKVxuICBhc3NlcnQodmFsdWUgPD0gbWF4LCAndmFsdWUgbGFyZ2VyIHRoYW4gbWF4aW11bSBhbGxvd2VkIHZhbHVlJylcbiAgYXNzZXJ0KHZhbHVlID49IG1pbiwgJ3ZhbHVlIHNtYWxsZXIgdGhhbiBtaW5pbXVtIGFsbG93ZWQgdmFsdWUnKVxufVxuXG5mdW5jdGlvbiBhc3NlcnQgKHRlc3QsIG1lc3NhZ2UpIHtcbiAgaWYgKCF0ZXN0KSB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSB8fCAnRmFpbGVkIGFzc2VydGlvbicpXG59XG5cbn0se1wiYmFzZTY0LWpzXCI6NSxcImllZWU3NTRcIjo2fV0sNTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG52YXIgbG9va3VwID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nO1xuXG47KGZ1bmN0aW9uIChleHBvcnRzKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuICB2YXIgQXJyID0gKHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJylcbiAgICA/IFVpbnQ4QXJyYXlcbiAgICA6IEFycmF5XG5cblx0dmFyIFBMVVMgICA9ICcrJy5jaGFyQ29kZUF0KDApXG5cdHZhciBTTEFTSCAgPSAnLycuY2hhckNvZGVBdCgwKVxuXHR2YXIgTlVNQkVSID0gJzAnLmNoYXJDb2RlQXQoMClcblx0dmFyIExPV0VSICA9ICdhJy5jaGFyQ29kZUF0KDApXG5cdHZhciBVUFBFUiAgPSAnQScuY2hhckNvZGVBdCgwKVxuXG5cdGZ1bmN0aW9uIGRlY29kZSAoZWx0KSB7XG5cdFx0dmFyIGNvZGUgPSBlbHQuY2hhckNvZGVBdCgwKVxuXHRcdGlmIChjb2RlID09PSBQTFVTKVxuXHRcdFx0cmV0dXJuIDYyIC8vICcrJ1xuXHRcdGlmIChjb2RlID09PSBTTEFTSClcblx0XHRcdHJldHVybiA2MyAvLyAnLydcblx0XHRpZiAoY29kZSA8IE5VTUJFUilcblx0XHRcdHJldHVybiAtMSAvL25vIG1hdGNoXG5cdFx0aWYgKGNvZGUgPCBOVU1CRVIgKyAxMClcblx0XHRcdHJldHVybiBjb2RlIC0gTlVNQkVSICsgMjYgKyAyNlxuXHRcdGlmIChjb2RlIDwgVVBQRVIgKyAyNilcblx0XHRcdHJldHVybiBjb2RlIC0gVVBQRVJcblx0XHRpZiAoY29kZSA8IExPV0VSICsgMjYpXG5cdFx0XHRyZXR1cm4gY29kZSAtIExPV0VSICsgMjZcblx0fVxuXG5cdGZ1bmN0aW9uIGI2NFRvQnl0ZUFycmF5IChiNjQpIHtcblx0XHR2YXIgaSwgaiwgbCwgdG1wLCBwbGFjZUhvbGRlcnMsIGFyclxuXG5cdFx0aWYgKGI2NC5sZW5ndGggJSA0ID4gMCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0Jylcblx0XHR9XG5cblx0XHQvLyB0aGUgbnVtYmVyIG9mIGVxdWFsIHNpZ25zIChwbGFjZSBob2xkZXJzKVxuXHRcdC8vIGlmIHRoZXJlIGFyZSB0d28gcGxhY2Vob2xkZXJzLCB0aGFuIHRoZSB0d28gY2hhcmFjdGVycyBiZWZvcmUgaXRcblx0XHQvLyByZXByZXNlbnQgb25lIGJ5dGVcblx0XHQvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSwgdGhlbiB0aGUgdGhyZWUgY2hhcmFjdGVycyBiZWZvcmUgaXQgcmVwcmVzZW50IDIgYnl0ZXNcblx0XHQvLyB0aGlzIGlzIGp1c3QgYSBjaGVhcCBoYWNrIHRvIG5vdCBkbyBpbmRleE9mIHR3aWNlXG5cdFx0dmFyIGxlbiA9IGI2NC5sZW5ndGhcblx0XHRwbGFjZUhvbGRlcnMgPSAnPScgPT09IGI2NC5jaGFyQXQobGVuIC0gMikgPyAyIDogJz0nID09PSBiNjQuY2hhckF0KGxlbiAtIDEpID8gMSA6IDBcblxuXHRcdC8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuXHRcdGFyciA9IG5ldyBBcnIoYjY0Lmxlbmd0aCAqIDMgLyA0IC0gcGxhY2VIb2xkZXJzKVxuXG5cdFx0Ly8gaWYgdGhlcmUgYXJlIHBsYWNlaG9sZGVycywgb25seSBnZXQgdXAgdG8gdGhlIGxhc3QgY29tcGxldGUgNCBjaGFyc1xuXHRcdGwgPSBwbGFjZUhvbGRlcnMgPiAwID8gYjY0Lmxlbmd0aCAtIDQgOiBiNjQubGVuZ3RoXG5cblx0XHR2YXIgTCA9IDBcblxuXHRcdGZ1bmN0aW9uIHB1c2ggKHYpIHtcblx0XHRcdGFycltMKytdID0gdlxuXHRcdH1cblxuXHRcdGZvciAoaSA9IDAsIGogPSAwOyBpIDwgbDsgaSArPSA0LCBqICs9IDMpIHtcblx0XHRcdHRtcCA9IChkZWNvZGUoYjY0LmNoYXJBdChpKSkgPDwgMTgpIHwgKGRlY29kZShiNjQuY2hhckF0KGkgKyAxKSkgPDwgMTIpIHwgKGRlY29kZShiNjQuY2hhckF0KGkgKyAyKSkgPDwgNikgfCBkZWNvZGUoYjY0LmNoYXJBdChpICsgMykpXG5cdFx0XHRwdXNoKCh0bXAgJiAweEZGMDAwMCkgPj4gMTYpXG5cdFx0XHRwdXNoKCh0bXAgJiAweEZGMDApID4+IDgpXG5cdFx0XHRwdXNoKHRtcCAmIDB4RkYpXG5cdFx0fVxuXG5cdFx0aWYgKHBsYWNlSG9sZGVycyA9PT0gMikge1xuXHRcdFx0dG1wID0gKGRlY29kZShiNjQuY2hhckF0KGkpKSA8PCAyKSB8IChkZWNvZGUoYjY0LmNoYXJBdChpICsgMSkpID4+IDQpXG5cdFx0XHRwdXNoKHRtcCAmIDB4RkYpXG5cdFx0fSBlbHNlIGlmIChwbGFjZUhvbGRlcnMgPT09IDEpIHtcblx0XHRcdHRtcCA9IChkZWNvZGUoYjY0LmNoYXJBdChpKSkgPDwgMTApIHwgKGRlY29kZShiNjQuY2hhckF0KGkgKyAxKSkgPDwgNCkgfCAoZGVjb2RlKGI2NC5jaGFyQXQoaSArIDIpKSA+PiAyKVxuXHRcdFx0cHVzaCgodG1wID4+IDgpICYgMHhGRilcblx0XHRcdHB1c2godG1wICYgMHhGRilcblx0XHR9XG5cblx0XHRyZXR1cm4gYXJyXG5cdH1cblxuXHRmdW5jdGlvbiB1aW50OFRvQmFzZTY0ICh1aW50OCkge1xuXHRcdHZhciBpLFxuXHRcdFx0ZXh0cmFCeXRlcyA9IHVpbnQ4Lmxlbmd0aCAlIDMsIC8vIGlmIHdlIGhhdmUgMSBieXRlIGxlZnQsIHBhZCAyIGJ5dGVzXG5cdFx0XHRvdXRwdXQgPSBcIlwiLFxuXHRcdFx0dGVtcCwgbGVuZ3RoXG5cblx0XHRmdW5jdGlvbiBlbmNvZGUgKG51bSkge1xuXHRcdFx0cmV0dXJuIGxvb2t1cC5jaGFyQXQobnVtKVxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NCAobnVtKSB7XG5cdFx0XHRyZXR1cm4gZW5jb2RlKG51bSA+PiAxOCAmIDB4M0YpICsgZW5jb2RlKG51bSA+PiAxMiAmIDB4M0YpICsgZW5jb2RlKG51bSA+PiA2ICYgMHgzRikgKyBlbmNvZGUobnVtICYgMHgzRilcblx0XHR9XG5cblx0XHQvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG5cdFx0Zm9yIChpID0gMCwgbGVuZ3RoID0gdWludDgubGVuZ3RoIC0gZXh0cmFCeXRlczsgaSA8IGxlbmd0aDsgaSArPSAzKSB7XG5cdFx0XHR0ZW1wID0gKHVpbnQ4W2ldIDw8IDE2KSArICh1aW50OFtpICsgMV0gPDwgOCkgKyAodWludDhbaSArIDJdKVxuXHRcdFx0b3V0cHV0ICs9IHRyaXBsZXRUb0Jhc2U2NCh0ZW1wKVxuXHRcdH1cblxuXHRcdC8vIHBhZCB0aGUgZW5kIHdpdGggemVyb3MsIGJ1dCBtYWtlIHN1cmUgdG8gbm90IGZvcmdldCB0aGUgZXh0cmEgYnl0ZXNcblx0XHRzd2l0Y2ggKGV4dHJhQnl0ZXMpIHtcblx0XHRcdGNhc2UgMTpcblx0XHRcdFx0dGVtcCA9IHVpbnQ4W3VpbnQ4Lmxlbmd0aCAtIDFdXG5cdFx0XHRcdG91dHB1dCArPSBlbmNvZGUodGVtcCA+PiAyKVxuXHRcdFx0XHRvdXRwdXQgKz0gZW5jb2RlKCh0ZW1wIDw8IDQpICYgMHgzRilcblx0XHRcdFx0b3V0cHV0ICs9ICc9PSdcblx0XHRcdFx0YnJlYWtcblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0dGVtcCA9ICh1aW50OFt1aW50OC5sZW5ndGggLSAyXSA8PCA4KSArICh1aW50OFt1aW50OC5sZW5ndGggLSAxXSlcblx0XHRcdFx0b3V0cHV0ICs9IGVuY29kZSh0ZW1wID4+IDEwKVxuXHRcdFx0XHRvdXRwdXQgKz0gZW5jb2RlKCh0ZW1wID4+IDQpICYgMHgzRilcblx0XHRcdFx0b3V0cHV0ICs9IGVuY29kZSgodGVtcCA8PCAyKSAmIDB4M0YpXG5cdFx0XHRcdG91dHB1dCArPSAnPSdcblx0XHRcdFx0YnJlYWtcblx0XHR9XG5cblx0XHRyZXR1cm4gb3V0cHV0XG5cdH1cblxuXHRleHBvcnRzLnRvQnl0ZUFycmF5ID0gYjY0VG9CeXRlQXJyYXlcblx0ZXhwb3J0cy5mcm9tQnl0ZUFycmF5ID0gdWludDhUb0Jhc2U2NFxufSh0eXBlb2YgZXhwb3J0cyA9PT0gJ3VuZGVmaW5lZCcgPyAodGhpcy5iYXNlNjRqcyA9IHt9KSA6IGV4cG9ydHMpKVxuXG59LHt9XSw2OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbmV4cG9ydHMucmVhZCA9IGZ1bmN0aW9uKGJ1ZmZlciwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG0sXG4gICAgICBlTGVuID0gbkJ5dGVzICogOCAtIG1MZW4gLSAxLFxuICAgICAgZU1heCA9ICgxIDw8IGVMZW4pIC0gMSxcbiAgICAgIGVCaWFzID0gZU1heCA+PiAxLFxuICAgICAgbkJpdHMgPSAtNyxcbiAgICAgIGkgPSBpc0xFID8gKG5CeXRlcyAtIDEpIDogMCxcbiAgICAgIGQgPSBpc0xFID8gLTEgOiAxLFxuICAgICAgcyA9IGJ1ZmZlcltvZmZzZXQgKyBpXTtcblxuICBpICs9IGQ7XG5cbiAgZSA9IHMgJiAoKDEgPDwgKC1uQml0cykpIC0gMSk7XG4gIHMgPj49ICgtbkJpdHMpO1xuICBuQml0cyArPSBlTGVuO1xuICBmb3IgKDsgbkJpdHMgPiAwOyBlID0gZSAqIDI1NiArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KTtcblxuICBtID0gZSAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKTtcbiAgZSA+Pj0gKC1uQml0cyk7XG4gIG5CaXRzICs9IG1MZW47XG4gIGZvciAoOyBuQml0cyA+IDA7IG0gPSBtICogMjU2ICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpO1xuXG4gIGlmIChlID09PSAwKSB7XG4gICAgZSA9IDEgLSBlQmlhcztcbiAgfSBlbHNlIGlmIChlID09PSBlTWF4KSB7XG4gICAgcmV0dXJuIG0gPyBOYU4gOiAoKHMgPyAtMSA6IDEpICogSW5maW5pdHkpO1xuICB9IGVsc2Uge1xuICAgIG0gPSBtICsgTWF0aC5wb3coMiwgbUxlbik7XG4gICAgZSA9IGUgLSBlQmlhcztcbiAgfVxuICByZXR1cm4gKHMgPyAtMSA6IDEpICogbSAqIE1hdGgucG93KDIsIGUgLSBtTGVuKTtcbn07XG5cbmV4cG9ydHMud3JpdGUgPSBmdW5jdGlvbihidWZmZXIsIHZhbHVlLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbSwgYyxcbiAgICAgIGVMZW4gPSBuQnl0ZXMgKiA4IC0gbUxlbiAtIDEsXG4gICAgICBlTWF4ID0gKDEgPDwgZUxlbikgLSAxLFxuICAgICAgZUJpYXMgPSBlTWF4ID4+IDEsXG4gICAgICBydCA9IChtTGVuID09PSAyMyA/IE1hdGgucG93KDIsIC0yNCkgLSBNYXRoLnBvdygyLCAtNzcpIDogMCksXG4gICAgICBpID0gaXNMRSA/IDAgOiAobkJ5dGVzIC0gMSksXG4gICAgICBkID0gaXNMRSA/IDEgOiAtMSxcbiAgICAgIHMgPSB2YWx1ZSA8IDAgfHwgKHZhbHVlID09PSAwICYmIDEgLyB2YWx1ZSA8IDApID8gMSA6IDA7XG5cbiAgdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSk7XG5cbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDA7XG4gICAgZSA9IGVNYXg7XG4gIH0gZWxzZSB7XG4gICAgZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpO1xuICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcbiAgICAgIGUtLTtcbiAgICAgIGMgKj0gMjtcbiAgICB9XG4gICAgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICB2YWx1ZSArPSBydCAvIGM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKTtcbiAgICB9XG4gICAgaWYgKHZhbHVlICogYyA+PSAyKSB7XG4gICAgICBlKys7XG4gICAgICBjIC89IDI7XG4gICAgfVxuXG4gICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG4gICAgICBtID0gMDtcbiAgICAgIGUgPSBlTWF4O1xuICAgIH0gZWxzZSBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIG0gPSAodmFsdWUgKiBjIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKTtcbiAgICAgIGUgPSBlICsgZUJpYXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSB2YWx1ZSAqIE1hdGgucG93KDIsIGVCaWFzIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKTtcbiAgICAgIGUgPSAwO1xuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBtTGVuID49IDg7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IG0gJiAweGZmLCBpICs9IGQsIG0gLz0gMjU2LCBtTGVuIC09IDgpO1xuXG4gIGUgPSAoZSA8PCBtTGVuKSB8IG07XG4gIGVMZW4gKz0gbUxlbjtcbiAgZm9yICg7IGVMZW4gPiAwOyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBlICYgMHhmZiwgaSArPSBkLCBlIC89IDI1NiwgZUxlbiAtPSA4KTtcblxuICBidWZmZXJbb2Zmc2V0ICsgaSAtIGRdIHw9IHMgKiAxMjg7XG59O1xuXG59LHt9XSw3OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoZ2xvYmFsKXtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIExvLURhc2ggMi40LjEgKEN1c3RvbSBCdWlsZCkgPGh0dHA6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZGVybiAtbyAuL2Rpc3QvbG9kYXNoLmpzYFxuICogQ29weXJpZ2h0IDIwMTItMjAxMyBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS41LjIgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDEzIEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHA6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKi9cbjsoZnVuY3Rpb24oKSB7XG5cbiAgLyoqIFVzZWQgYXMgYSBzYWZlIHJlZmVyZW5jZSBmb3IgYHVuZGVmaW5lZGAgaW4gcHJlIEVTNSBlbnZpcm9ubWVudHMgKi9cbiAgdmFyIHVuZGVmaW5lZDtcblxuICAvKiogVXNlZCB0byBwb29sIGFycmF5cyBhbmQgb2JqZWN0cyB1c2VkIGludGVybmFsbHkgKi9cbiAgdmFyIGFycmF5UG9vbCA9IFtdLFxuICAgICAgb2JqZWN0UG9vbCA9IFtdO1xuXG4gIC8qKiBVc2VkIHRvIGdlbmVyYXRlIHVuaXF1ZSBJRHMgKi9cbiAgdmFyIGlkQ291bnRlciA9IDA7XG5cbiAgLyoqIFVzZWQgdG8gcHJlZml4IGtleXMgdG8gYXZvaWQgaXNzdWVzIHdpdGggYF9fcHJvdG9fX2AgYW5kIHByb3BlcnRpZXMgb24gYE9iamVjdC5wcm90b3R5cGVgICovXG4gIHZhciBrZXlQcmVmaXggPSArbmV3IERhdGUgKyAnJztcblxuICAvKiogVXNlZCBhcyB0aGUgc2l6ZSB3aGVuIG9wdGltaXphdGlvbnMgYXJlIGVuYWJsZWQgZm9yIGxhcmdlIGFycmF5cyAqL1xuICB2YXIgbGFyZ2VBcnJheVNpemUgPSA3NTtcblxuICAvKiogVXNlZCBhcyB0aGUgbWF4IHNpemUgb2YgdGhlIGBhcnJheVBvb2xgIGFuZCBgb2JqZWN0UG9vbGAgKi9cbiAgdmFyIG1heFBvb2xTaXplID0gNDA7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGFuZCB0ZXN0IHdoaXRlc3BhY2UgKi9cbiAgdmFyIHdoaXRlc3BhY2UgPSAoXG4gICAgLy8gd2hpdGVzcGFjZVxuICAgICcgXFx0XFx4MEJcXGZcXHhBMFxcdWZlZmYnICtcblxuICAgIC8vIGxpbmUgdGVybWluYXRvcnNcbiAgICAnXFxuXFxyXFx1MjAyOFxcdTIwMjknICtcblxuICAgIC8vIHVuaWNvZGUgY2F0ZWdvcnkgXCJac1wiIHNwYWNlIHNlcGFyYXRvcnNcbiAgICAnXFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMCdcbiAgKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBlbXB0eSBzdHJpbmcgbGl0ZXJhbHMgaW4gY29tcGlsZWQgdGVtcGxhdGUgc291cmNlICovXG4gIHZhciByZUVtcHR5U3RyaW5nTGVhZGluZyA9IC9cXGJfX3AgXFwrPSAnJzsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdNaWRkbGUgPSAvXFxiKF9fcCBcXCs9KSAnJyBcXCsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdUcmFpbGluZyA9IC8oX19lXFwoLio/XFwpfFxcYl9fdFxcKSkgXFwrXFxuJyc7L2c7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2ggRVM2IHRlbXBsYXRlIGRlbGltaXRlcnNcbiAgICogaHR0cDovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtbGl0ZXJhbHMtc3RyaW5nLWxpdGVyYWxzXG4gICAqL1xuICB2YXIgcmVFc1RlbXBsYXRlID0gL1xcJFxceyhbXlxcXFx9XSooPzpcXFxcLlteXFxcXH1dKikqKVxcfS9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHJlZ2V4cCBmbGFncyBmcm9tIHRoZWlyIGNvZXJjZWQgc3RyaW5nIHZhbHVlcyAqL1xuICB2YXIgcmVGbGFncyA9IC9cXHcqJC87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0ZWQgbmFtZWQgZnVuY3Rpb25zICovXG4gIHZhciByZUZ1bmNOYW1lID0gL15cXHMqZnVuY3Rpb25bIFxcblxcclxcdF0rXFx3LztcblxuICAvKiogVXNlZCB0byBtYXRjaCBcImludGVycG9sYXRlXCIgdGVtcGxhdGUgZGVsaW1pdGVycyAqL1xuICB2YXIgcmVJbnRlcnBvbGF0ZSA9IC88JT0oW1xcc1xcU10rPyklPi9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGxlYWRpbmcgd2hpdGVzcGFjZSBhbmQgemVyb3MgdG8gYmUgcmVtb3ZlZCAqL1xuICB2YXIgcmVMZWFkaW5nU3BhY2VzQW5kWmVyb3MgPSBSZWdFeHAoJ15bJyArIHdoaXRlc3BhY2UgKyAnXSowKyg/PS4kKScpO1xuXG4gIC8qKiBVc2VkIHRvIGVuc3VyZSBjYXB0dXJpbmcgb3JkZXIgb2YgdGVtcGxhdGUgZGVsaW1pdGVycyAqL1xuICB2YXIgcmVOb01hdGNoID0gLygkXikvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBmdW5jdGlvbnMgY29udGFpbmluZyBhIGB0aGlzYCByZWZlcmVuY2UgKi9cbiAgdmFyIHJlVGhpcyA9IC9cXGJ0aGlzXFxiLztcblxuICAvKiogVXNlZCB0byBtYXRjaCB1bmVzY2FwZWQgY2hhcmFjdGVycyBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMgKi9cbiAgdmFyIHJlVW5lc2NhcGVkU3RyaW5nID0gL1snXFxuXFxyXFx0XFx1MjAyOFxcdTIwMjlcXFxcXS9nO1xuXG4gIC8qKiBVc2VkIHRvIGFzc2lnbiBkZWZhdWx0IGBjb250ZXh0YCBvYmplY3QgcHJvcGVydGllcyAqL1xuICB2YXIgY29udGV4dFByb3BzID0gW1xuICAgICdBcnJheScsICdCb29sZWFuJywgJ0RhdGUnLCAnRnVuY3Rpb24nLCAnTWF0aCcsICdOdW1iZXInLCAnT2JqZWN0JyxcbiAgICAnUmVnRXhwJywgJ1N0cmluZycsICdfJywgJ2F0dGFjaEV2ZW50JywgJ2NsZWFyVGltZW91dCcsICdpc0Zpbml0ZScsICdpc05hTicsXG4gICAgJ3BhcnNlSW50JywgJ3NldFRpbWVvdXQnXG4gIF07XG5cbiAgLyoqIFVzZWQgdG8gbWFrZSB0ZW1wbGF0ZSBzb3VyY2VVUkxzIGVhc2llciB0byBpZGVudGlmeSAqL1xuICB2YXIgdGVtcGxhdGVDb3VudGVyID0gMDtcblxuICAvKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHNob3J0Y3V0cyAqL1xuICB2YXIgYXJnc0NsYXNzID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgICBhcnJheUNsYXNzID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICAgIGJvb2xDbGFzcyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICAgIGRhdGVDbGFzcyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICAgIGZ1bmNDbGFzcyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgICBudW1iZXJDbGFzcyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgICAgb2JqZWN0Q2xhc3MgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICAgIHJlZ2V4cENsYXNzID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgICBzdHJpbmdDbGFzcyA9ICdbb2JqZWN0IFN0cmluZ10nO1xuXG4gIC8qKiBVc2VkIHRvIGlkZW50aWZ5IG9iamVjdCBjbGFzc2lmaWNhdGlvbnMgdGhhdCBgXy5jbG9uZWAgc3VwcG9ydHMgKi9cbiAgdmFyIGNsb25lYWJsZUNsYXNzZXMgPSB7fTtcbiAgY2xvbmVhYmxlQ2xhc3Nlc1tmdW5jQ2xhc3NdID0gZmFsc2U7XG4gIGNsb25lYWJsZUNsYXNzZXNbYXJnc0NsYXNzXSA9IGNsb25lYWJsZUNsYXNzZXNbYXJyYXlDbGFzc10gPVxuICBjbG9uZWFibGVDbGFzc2VzW2Jvb2xDbGFzc10gPSBjbG9uZWFibGVDbGFzc2VzW2RhdGVDbGFzc10gPVxuICBjbG9uZWFibGVDbGFzc2VzW251bWJlckNsYXNzXSA9IGNsb25lYWJsZUNsYXNzZXNbb2JqZWN0Q2xhc3NdID1cbiAgY2xvbmVhYmxlQ2xhc3Nlc1tyZWdleHBDbGFzc10gPSBjbG9uZWFibGVDbGFzc2VzW3N0cmluZ0NsYXNzXSA9IHRydWU7XG5cbiAgLyoqIFVzZWQgYXMgYW4gaW50ZXJuYWwgYF8uZGVib3VuY2VgIG9wdGlvbnMgb2JqZWN0ICovXG4gIHZhciBkZWJvdW5jZU9wdGlvbnMgPSB7XG4gICAgJ2xlYWRpbmcnOiBmYWxzZSxcbiAgICAnbWF4V2FpdCc6IDAsXG4gICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAgfTtcblxuICAvKiogVXNlZCBhcyB0aGUgcHJvcGVydHkgZGVzY3JpcHRvciBmb3IgYF9fYmluZERhdGFfX2AgKi9cbiAgdmFyIGRlc2NyaXB0b3IgPSB7XG4gICAgJ2NvbmZpZ3VyYWJsZSc6IGZhbHNlLFxuICAgICdlbnVtZXJhYmxlJzogZmFsc2UsXG4gICAgJ3ZhbHVlJzogbnVsbCxcbiAgICAnd3JpdGFibGUnOiBmYWxzZVxuICB9O1xuXG4gIC8qKiBVc2VkIHRvIGRldGVybWluZSBpZiB2YWx1ZXMgYXJlIG9mIHRoZSBsYW5ndWFnZSB0eXBlIE9iamVjdCAqL1xuICB2YXIgb2JqZWN0VHlwZXMgPSB7XG4gICAgJ2Jvb2xlYW4nOiBmYWxzZSxcbiAgICAnZnVuY3Rpb24nOiB0cnVlLFxuICAgICdvYmplY3QnOiB0cnVlLFxuICAgICdudW1iZXInOiBmYWxzZSxcbiAgICAnc3RyaW5nJzogZmFsc2UsXG4gICAgJ3VuZGVmaW5lZCc6IGZhbHNlXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gZXNjYXBlIGNoYXJhY3RlcnMgZm9yIGluY2x1c2lvbiBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMgKi9cbiAgdmFyIHN0cmluZ0VzY2FwZXMgPSB7XG4gICAgJ1xcXFwnOiAnXFxcXCcsXG4gICAgXCInXCI6IFwiJ1wiLFxuICAgICdcXG4nOiAnbicsXG4gICAgJ1xccic6ICdyJyxcbiAgICAnXFx0JzogJ3QnLFxuICAgICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgICAnXFx1MjAyOSc6ICd1MjAyOSdcbiAgfTtcblxuICAvKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdCAqL1xuICB2YXIgcm9vdCA9IChvYmplY3RUeXBlc1t0eXBlb2Ygd2luZG93XSAmJiB3aW5kb3cpIHx8IHRoaXM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYCAqL1xuICB2YXIgZnJlZUV4cG9ydHMgPSBvYmplY3RUeXBlc1t0eXBlb2YgZXhwb3J0c10gJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYCAqL1xuICB2YXIgZnJlZU1vZHVsZSA9IG9iamVjdFR5cGVzW3R5cGVvZiBtb2R1bGVdICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuICAvKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgICovXG4gIHZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzICYmIGZyZWVFeHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMgb3IgQnJvd3NlcmlmaWVkIGNvZGUgYW5kIHVzZSBpdCBhcyBgcm9vdGAgKi9cbiAgdmFyIGZyZWVHbG9iYWwgPSBvYmplY3RUeXBlc1t0eXBlb2YgZ2xvYmFsXSAmJiBnbG9iYWw7XG4gIGlmIChmcmVlR2xvYmFsICYmIChmcmVlR2xvYmFsLmdsb2JhbCA9PT0gZnJlZUdsb2JhbCB8fCBmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCkpIHtcbiAgICByb290ID0gZnJlZUdsb2JhbDtcbiAgfVxuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbmRleE9mYCB3aXRob3V0IHN1cHBvcnQgZm9yIGJpbmFyeSBzZWFyY2hlc1xuICAgKiBvciBgZnJvbUluZGV4YCBjb25zdHJhaW50cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNlYXJjaC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSBvciBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgaW5kZXggPSAoZnJvbUluZGV4IHx8IDApIC0gMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIEFuIGltcGxlbWVudGF0aW9uIG9mIGBfLmNvbnRhaW5zYCBmb3IgY2FjaGUgb2JqZWN0cyB0aGF0IG1pbWljcyB0aGUgcmV0dXJuXG4gICAqIHNpZ25hdHVyZSBvZiBgXy5pbmRleE9mYCBieSByZXR1cm5pbmcgYDBgIGlmIHRoZSB2YWx1ZSBpcyBmb3VuZCwgZWxzZSBgLTFgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gY2FjaGUgVGhlIGNhY2hlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGAwYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBjYWNoZUluZGV4T2YoY2FjaGUsIHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgY2FjaGUgPSBjYWNoZS5jYWNoZTtcblxuICAgIGlmICh0eXBlID09ICdib29sZWFuJyB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gY2FjaGVbdmFsdWVdID8gMCA6IC0xO1xuICAgIH1cbiAgICBpZiAodHlwZSAhPSAnbnVtYmVyJyAmJiB0eXBlICE9ICdzdHJpbmcnKSB7XG4gICAgICB0eXBlID0gJ29iamVjdCc7XG4gICAgfVxuICAgIHZhciBrZXkgPSB0eXBlID09ICdudW1iZXInID8gdmFsdWUgOiBrZXlQcmVmaXggKyB2YWx1ZTtcbiAgICBjYWNoZSA9IChjYWNoZSA9IGNhY2hlW3R5cGVdKSAmJiBjYWNoZVtrZXldO1xuXG4gICAgcmV0dXJuIHR5cGUgPT0gJ29iamVjdCdcbiAgICAgID8gKGNhY2hlICYmIGJhc2VJbmRleE9mKGNhY2hlLCB2YWx1ZSkgPiAtMSA/IDAgOiAtMSlcbiAgICAgIDogKGNhY2hlID8gMCA6IC0xKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgZ2l2ZW4gdmFsdWUgdG8gdGhlIGNvcnJlc3BvbmRpbmcgY2FjaGUgb2JqZWN0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhZGQgdG8gdGhlIGNhY2hlLlxuICAgKi9cbiAgZnVuY3Rpb24gY2FjaGVQdXNoKHZhbHVlKSB7XG4gICAgdmFyIGNhY2hlID0gdGhpcy5jYWNoZSxcbiAgICAgICAgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcblxuICAgIGlmICh0eXBlID09ICdib29sZWFuJyB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgICBjYWNoZVt2YWx1ZV0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodHlwZSAhPSAnbnVtYmVyJyAmJiB0eXBlICE9ICdzdHJpbmcnKSB7XG4gICAgICAgIHR5cGUgPSAnb2JqZWN0JztcbiAgICAgIH1cbiAgICAgIHZhciBrZXkgPSB0eXBlID09ICdudW1iZXInID8gdmFsdWUgOiBrZXlQcmVmaXggKyB2YWx1ZSxcbiAgICAgICAgICB0eXBlQ2FjaGUgPSBjYWNoZVt0eXBlXSB8fCAoY2FjaGVbdHlwZV0gPSB7fSk7XG5cbiAgICAgIGlmICh0eXBlID09ICdvYmplY3QnKSB7XG4gICAgICAgICh0eXBlQ2FjaGVba2V5XSB8fCAodHlwZUNhY2hlW2tleV0gPSBbXSkpLnB1c2godmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHlwZUNhY2hlW2tleV0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLm1heGAgYW5kIGBfLm1pbmAgYXMgdGhlIGRlZmF1bHQgY2FsbGJhY2sgd2hlbiBhIGdpdmVuXG4gICAqIGNvbGxlY3Rpb24gaXMgYSBzdHJpbmcgdmFsdWUuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBUaGUgY2hhcmFjdGVyIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvZGUgdW5pdCBvZiBnaXZlbiBjaGFyYWN0ZXIuXG4gICAqL1xuICBmdW5jdGlvbiBjaGFyQXRDYWxsYmFjayh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5jaGFyQ29kZUF0KDApO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYHNvcnRCeWAgdG8gY29tcGFyZSB0cmFuc2Zvcm1lZCBgY29sbGVjdGlvbmAgZWxlbWVudHMsIHN0YWJsZSBzb3J0aW5nXG4gICAqIHRoZW0gaW4gYXNjZW5kaW5nIG9yZGVyLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gYSBUaGUgb2JqZWN0IHRvIGNvbXBhcmUgdG8gYGJgLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYiBUaGUgb2JqZWN0IHRvIGNvbXBhcmUgdG8gYGFgLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBvZiBgMWAgb3IgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGNvbXBhcmVBc2NlbmRpbmcoYSwgYikge1xuICAgIHZhciBhYyA9IGEuY3JpdGVyaWEsXG4gICAgICAgIGJjID0gYi5jcml0ZXJpYSxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYWMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFjW2luZGV4XSxcbiAgICAgICAgICBvdGhlciA9IGJjW2luZGV4XTtcblxuICAgICAgaWYgKHZhbHVlICE9PSBvdGhlcikge1xuICAgICAgICBpZiAodmFsdWUgPiBvdGhlciB8fCB0eXBlb2YgdmFsdWUgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPCBvdGhlciB8fCB0eXBlb2Ygb3RoZXIgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gRml4ZXMgYW4gYEFycmF5I3NvcnRgIGJ1ZyBpbiB0aGUgSlMgZW5naW5lIGVtYmVkZGVkIGluIEFkb2JlIGFwcGxpY2F0aW9uc1xuICAgIC8vIHRoYXQgY2F1c2VzIGl0LCB1bmRlciBjZXJ0YWluIGNpcmN1bXN0YW5jZXMsIHRvIHJldHVybiB0aGUgc2FtZSB2YWx1ZSBmb3JcbiAgICAvLyBgYWAgYW5kIGBiYC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXNoa2VuYXMvdW5kZXJzY29yZS9wdWxsLzEyNDdcbiAgICAvL1xuICAgIC8vIFRoaXMgYWxzbyBlbnN1cmVzIGEgc3RhYmxlIHNvcnQgaW4gVjggYW5kIG90aGVyIGVuZ2luZXMuXG4gICAgLy8gU2VlIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTkwXG4gICAgcmV0dXJuIGEuaW5kZXggLSBiLmluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjYWNoZSBvYmplY3QgdG8gb3B0aW1pemUgbGluZWFyIHNlYXJjaGVzIG9mIGxhcmdlIGFycmF5cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5PVtdXSBUaGUgYXJyYXkgdG8gc2VhcmNoLlxuICAgKiBAcmV0dXJucyB7bnVsbHxPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIG9iamVjdCBvciBgbnVsbGAgaWYgY2FjaGluZyBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAqL1xuICBmdW5jdGlvbiBjcmVhdGVDYWNoZShhcnJheSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIGZpcnN0ID0gYXJyYXlbMF0sXG4gICAgICAgIG1pZCA9IGFycmF5WyhsZW5ndGggLyAyKSB8IDBdLFxuICAgICAgICBsYXN0ID0gYXJyYXlbbGVuZ3RoIC0gMV07XG5cbiAgICBpZiAoZmlyc3QgJiYgdHlwZW9mIGZpcnN0ID09ICdvYmplY3QnICYmXG4gICAgICAgIG1pZCAmJiB0eXBlb2YgbWlkID09ICdvYmplY3QnICYmIGxhc3QgJiYgdHlwZW9mIGxhc3QgPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIGNhY2hlID0gZ2V0T2JqZWN0KCk7XG4gICAgY2FjaGVbJ2ZhbHNlJ10gPSBjYWNoZVsnbnVsbCddID0gY2FjaGVbJ3RydWUnXSA9IGNhY2hlWyd1bmRlZmluZWQnXSA9IGZhbHNlO1xuXG4gICAgdmFyIHJlc3VsdCA9IGdldE9iamVjdCgpO1xuICAgIHJlc3VsdC5hcnJheSA9IGFycmF5O1xuICAgIHJlc3VsdC5jYWNoZSA9IGNhY2hlO1xuICAgIHJlc3VsdC5wdXNoID0gY2FjaGVQdXNoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGFycmF5W2luZGV4XSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgdGVtcGxhdGVgIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWRcbiAgICogc3RyaW5nIGxpdGVyYWxzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWF0Y2ggVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICBmdW5jdGlvbiBlc2NhcGVTdHJpbmdDaGFyKG1hdGNoKSB7XG4gICAgcmV0dXJuICdcXFxcJyArIHN0cmluZ0VzY2FwZXNbbWF0Y2hdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYW4gYXJyYXkgZnJvbSB0aGUgYXJyYXkgcG9vbCBvciBjcmVhdGVzIGEgbmV3IG9uZSBpZiB0aGUgcG9vbCBpcyBlbXB0eS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybnMge0FycmF5fSBUaGUgYXJyYXkgZnJvbSB0aGUgcG9vbC5cbiAgICovXG4gIGZ1bmN0aW9uIGdldEFycmF5KCkge1xuICAgIHJldHVybiBhcnJheVBvb2wucG9wKCkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhbiBvYmplY3QgZnJvbSB0aGUgb2JqZWN0IHBvb2wgb3IgY3JlYXRlcyBhIG5ldyBvbmUgaWYgdGhlIHBvb2wgaXMgZW1wdHkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBvYmplY3QgZnJvbSB0aGUgcG9vbC5cbiAgICovXG4gIGZ1bmN0aW9uIGdldE9iamVjdCgpIHtcbiAgICByZXR1cm4gb2JqZWN0UG9vbC5wb3AoKSB8fCB7XG4gICAgICAnYXJyYXknOiBudWxsLFxuICAgICAgJ2NhY2hlJzogbnVsbCxcbiAgICAgICdjcml0ZXJpYSc6IG51bGwsXG4gICAgICAnZmFsc2UnOiBmYWxzZSxcbiAgICAgICdpbmRleCc6IDAsXG4gICAgICAnbnVsbCc6IGZhbHNlLFxuICAgICAgJ251bWJlcic6IG51bGwsXG4gICAgICAnb2JqZWN0JzogbnVsbCxcbiAgICAgICdwdXNoJzogbnVsbCxcbiAgICAgICdzdHJpbmcnOiBudWxsLFxuICAgICAgJ3RydWUnOiBmYWxzZSxcbiAgICAgICd1bmRlZmluZWQnOiBmYWxzZSxcbiAgICAgICd2YWx1ZSc6IG51bGxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbGVhc2VzIHRoZSBnaXZlbiBhcnJheSBiYWNrIHRvIHRoZSBhcnJheSBwb29sLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byByZWxlYXNlLlxuICAgKi9cbiAgZnVuY3Rpb24gcmVsZWFzZUFycmF5KGFycmF5KSB7XG4gICAgYXJyYXkubGVuZ3RoID0gMDtcbiAgICBpZiAoYXJyYXlQb29sLmxlbmd0aCA8IG1heFBvb2xTaXplKSB7XG4gICAgICBhcnJheVBvb2wucHVzaChhcnJheSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbGVhc2VzIHRoZSBnaXZlbiBvYmplY3QgYmFjayB0byB0aGUgb2JqZWN0IHBvb2wuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHJlbGVhc2UuXG4gICAqL1xuICBmdW5jdGlvbiByZWxlYXNlT2JqZWN0KG9iamVjdCkge1xuICAgIHZhciBjYWNoZSA9IG9iamVjdC5jYWNoZTtcbiAgICBpZiAoY2FjaGUpIHtcbiAgICAgIHJlbGVhc2VPYmplY3QoY2FjaGUpO1xuICAgIH1cbiAgICBvYmplY3QuYXJyYXkgPSBvYmplY3QuY2FjaGUgPSBvYmplY3QuY3JpdGVyaWEgPSBvYmplY3Qub2JqZWN0ID0gb2JqZWN0Lm51bWJlciA9IG9iamVjdC5zdHJpbmcgPSBvYmplY3QudmFsdWUgPSBudWxsO1xuICAgIGlmIChvYmplY3RQb29sLmxlbmd0aCA8IG1heFBvb2xTaXplKSB7XG4gICAgICBvYmplY3RQb29sLnB1c2gob2JqZWN0KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2xpY2VzIHRoZSBgY29sbGVjdGlvbmAgZnJvbSB0aGUgYHN0YXJ0YCBpbmRleCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsXG4gICAqIHRoZSBgZW5kYCBpbmRleC5cbiAgICpcbiAgICogTm90ZTogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIGluc3RlYWQgb2YgYEFycmF5I3NsaWNlYCB0byBzdXBwb3J0IG5vZGUgbGlzdHNcbiAgICogaW4gSUUgPCA5IGFuZCB0byBlbnN1cmUgZGVuc2UgYXJyYXlzIGFyZSByZXR1cm5lZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNsaWNlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IGluZGV4LlxuICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgaW5kZXguXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gc2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICBzdGFydCB8fCAoc3RhcnQgPSAwKTtcbiAgICBpZiAodHlwZW9mIGVuZCA9PSAndW5kZWZpbmVkJykge1xuICAgICAgZW5kID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuICAgIH1cbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gZW5kIC0gc3RhcnQgfHwgMCxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoIDwgMCA/IDAgOiBsZW5ndGgpO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBhcnJheVtzdGFydCArIGluZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgYGxvZGFzaGAgZnVuY3Rpb24gdXNpbmcgdGhlIGdpdmVuIGNvbnRleHQgb2JqZWN0LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0PXJvb3RdIFRoZSBjb250ZXh0IG9iamVjdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIHJ1bkluQ29udGV4dChjb250ZXh0KSB7XG4gICAgLy8gQXZvaWQgaXNzdWVzIHdpdGggc29tZSBFUzMgZW52aXJvbm1lbnRzIHRoYXQgYXR0ZW1wdCB0byB1c2UgdmFsdWVzLCBuYW1lZFxuICAgIC8vIGFmdGVyIGJ1aWx0LWluIGNvbnN0cnVjdG9ycyBsaWtlIGBPYmplY3RgLCBmb3IgdGhlIGNyZWF0aW9uIG9mIGxpdGVyYWxzLlxuICAgIC8vIEVTNSBjbGVhcnMgdGhpcyB1cCBieSBzdGF0aW5nIHRoYXQgbGl0ZXJhbHMgbXVzdCB1c2UgYnVpbHQtaW4gY29uc3RydWN0b3JzLlxuICAgIC8vIFNlZSBodHRwOi8vZXM1LmdpdGh1Yi5pby8jeDExLjEuNS5cbiAgICBjb250ZXh0ID0gY29udGV4dCA/IF8uZGVmYXVsdHMocm9vdC5PYmplY3QoKSwgY29udGV4dCwgXy5waWNrKHJvb3QsIGNvbnRleHRQcm9wcykpIDogcm9vdDtcblxuICAgIC8qKiBOYXRpdmUgY29uc3RydWN0b3IgcmVmZXJlbmNlcyAqL1xuICAgIHZhciBBcnJheSA9IGNvbnRleHQuQXJyYXksXG4gICAgICAgIEJvb2xlYW4gPSBjb250ZXh0LkJvb2xlYW4sXG4gICAgICAgIERhdGUgPSBjb250ZXh0LkRhdGUsXG4gICAgICAgIEZ1bmN0aW9uID0gY29udGV4dC5GdW5jdGlvbixcbiAgICAgICAgTWF0aCA9IGNvbnRleHQuTWF0aCxcbiAgICAgICAgTnVtYmVyID0gY29udGV4dC5OdW1iZXIsXG4gICAgICAgIE9iamVjdCA9IGNvbnRleHQuT2JqZWN0LFxuICAgICAgICBSZWdFeHAgPSBjb250ZXh0LlJlZ0V4cCxcbiAgICAgICAgU3RyaW5nID0gY29udGV4dC5TdHJpbmcsXG4gICAgICAgIFR5cGVFcnJvciA9IGNvbnRleHQuVHlwZUVycm9yO1xuXG4gICAgLyoqXG4gICAgICogVXNlZCBmb3IgYEFycmF5YCBtZXRob2QgcmVmZXJlbmNlcy5cbiAgICAgKlxuICAgICAqIE5vcm1hbGx5IGBBcnJheS5wcm90b3R5cGVgIHdvdWxkIHN1ZmZpY2UsIGhvd2V2ZXIsIHVzaW5nIGFuIGFycmF5IGxpdGVyYWxcbiAgICAgKiBhdm9pZHMgaXNzdWVzIGluIE5hcndoYWwuXG4gICAgICovXG4gICAgdmFyIGFycmF5UmVmID0gW107XG5cbiAgICAvKiogVXNlZCBmb3IgbmF0aXZlIG1ldGhvZCByZWZlcmVuY2VzICovXG4gICAgdmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuICAgIC8qKiBVc2VkIHRvIHJlc3RvcmUgdGhlIG9yaWdpbmFsIGBfYCByZWZlcmVuY2UgaW4gYG5vQ29uZmxpY3RgICovXG4gICAgdmFyIG9sZERhc2ggPSBjb250ZXh0Ll87XG5cbiAgICAvKiogVXNlZCB0byByZXNvbHZlIHRoZSBpbnRlcm5hbCBbW0NsYXNzXV0gb2YgdmFsdWVzICovXG4gICAgdmFyIHRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlICovXG4gICAgdmFyIHJlTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gICAgICBTdHJpbmcodG9TdHJpbmcpXG4gICAgICAgIC5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgJ1xcXFwkJicpXG4gICAgICAgIC5yZXBsYWNlKC90b1N0cmluZ3wgZm9yIFteXFxdXSsvZywgJy4qPycpICsgJyQnXG4gICAgKTtcblxuICAgIC8qKiBOYXRpdmUgbWV0aG9kIHNob3J0Y3V0cyAqL1xuICAgIHZhciBjZWlsID0gTWF0aC5jZWlsLFxuICAgICAgICBjbGVhclRpbWVvdXQgPSBjb250ZXh0LmNsZWFyVGltZW91dCxcbiAgICAgICAgZmxvb3IgPSBNYXRoLmZsb29yLFxuICAgICAgICBmblRvU3RyaW5nID0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLFxuICAgICAgICBnZXRQcm90b3R5cGVPZiA9IGlzTmF0aXZlKGdldFByb3RvdHlwZU9mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKSAmJiBnZXRQcm90b3R5cGVPZixcbiAgICAgICAgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eSxcbiAgICAgICAgcHVzaCA9IGFycmF5UmVmLnB1c2gsXG4gICAgICAgIHNldFRpbWVvdXQgPSBjb250ZXh0LnNldFRpbWVvdXQsXG4gICAgICAgIHNwbGljZSA9IGFycmF5UmVmLnNwbGljZSxcbiAgICAgICAgdW5zaGlmdCA9IGFycmF5UmVmLnVuc2hpZnQ7XG5cbiAgICAvKiogVXNlZCB0byBzZXQgbWV0YSBkYXRhIG9uIGZ1bmN0aW9ucyAqL1xuICAgIHZhciBkZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgICAgIC8vIElFIDggb25seSBhY2NlcHRzIERPTSBlbGVtZW50c1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIG8gPSB7fSxcbiAgICAgICAgICAgIGZ1bmMgPSBpc05hdGl2ZShmdW5jID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KSAmJiBmdW5jLFxuICAgICAgICAgICAgcmVzdWx0ID0gZnVuYyhvLCBvLCBvKSAmJiBmdW5jO1xuICAgICAgfSBjYXRjaChlKSB7IH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSgpKTtcblxuICAgIC8qIE5hdGl2ZSBtZXRob2Qgc2hvcnRjdXRzIGZvciBtZXRob2RzIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzICovXG4gICAgdmFyIG5hdGl2ZUNyZWF0ZSA9IGlzTmF0aXZlKG5hdGl2ZUNyZWF0ZSA9IE9iamVjdC5jcmVhdGUpICYmIG5hdGl2ZUNyZWF0ZSxcbiAgICAgICAgbmF0aXZlSXNBcnJheSA9IGlzTmF0aXZlKG5hdGl2ZUlzQXJyYXkgPSBBcnJheS5pc0FycmF5KSAmJiBuYXRpdmVJc0FycmF5LFxuICAgICAgICBuYXRpdmVJc0Zpbml0ZSA9IGNvbnRleHQuaXNGaW5pdGUsXG4gICAgICAgIG5hdGl2ZUlzTmFOID0gY29udGV4dC5pc05hTixcbiAgICAgICAgbmF0aXZlS2V5cyA9IGlzTmF0aXZlKG5hdGl2ZUtleXMgPSBPYmplY3Qua2V5cykgJiYgbmF0aXZlS2V5cyxcbiAgICAgICAgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluLFxuICAgICAgICBuYXRpdmVQYXJzZUludCA9IGNvbnRleHQucGFyc2VJbnQsXG4gICAgICAgIG5hdGl2ZVJhbmRvbSA9IE1hdGgucmFuZG9tO1xuXG4gICAgLyoqIFVzZWQgdG8gbG9va3VwIGEgYnVpbHQtaW4gY29uc3RydWN0b3IgYnkgW1tDbGFzc11dICovXG4gICAgdmFyIGN0b3JCeUNsYXNzID0ge307XG4gICAgY3RvckJ5Q2xhc3NbYXJyYXlDbGFzc10gPSBBcnJheTtcbiAgICBjdG9yQnlDbGFzc1tib29sQ2xhc3NdID0gQm9vbGVhbjtcbiAgICBjdG9yQnlDbGFzc1tkYXRlQ2xhc3NdID0gRGF0ZTtcbiAgICBjdG9yQnlDbGFzc1tmdW5jQ2xhc3NdID0gRnVuY3Rpb247XG4gICAgY3RvckJ5Q2xhc3Nbb2JqZWN0Q2xhc3NdID0gT2JqZWN0O1xuICAgIGN0b3JCeUNsYXNzW251bWJlckNsYXNzXSA9IE51bWJlcjtcbiAgICBjdG9yQnlDbGFzc1tyZWdleHBDbGFzc10gPSBSZWdFeHA7XG4gICAgY3RvckJ5Q2xhc3Nbc3RyaW5nQ2xhc3NdID0gU3RyaW5nO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgb2JqZWN0IHdoaWNoIHdyYXBzIHRoZSBnaXZlbiB2YWx1ZSB0byBlbmFibGUgaW50dWl0aXZlXG4gICAgICogbWV0aG9kIGNoYWluaW5nLlxuICAgICAqXG4gICAgICogSW4gYWRkaXRpb24gdG8gTG8tRGFzaCBtZXRob2RzLCB3cmFwcGVycyBhbHNvIGhhdmUgdGhlIGZvbGxvd2luZyBgQXJyYXlgIG1ldGhvZHM6XG4gICAgICogYGNvbmNhdGAsIGBqb2luYCwgYHBvcGAsIGBwdXNoYCwgYHJldmVyc2VgLCBgc2hpZnRgLCBgc2xpY2VgLCBgc29ydGAsIGBzcGxpY2VgLFxuICAgICAqIGFuZCBgdW5zaGlmdGBcbiAgICAgKlxuICAgICAqIENoYWluaW5nIGlzIHN1cHBvcnRlZCBpbiBjdXN0b20gYnVpbGRzIGFzIGxvbmcgYXMgdGhlIGB2YWx1ZWAgbWV0aG9kIGlzXG4gICAgICogaW1wbGljaXRseSBvciBleHBsaWNpdGx5IGluY2x1ZGVkIGluIHRoZSBidWlsZC5cbiAgICAgKlxuICAgICAqIFRoZSBjaGFpbmFibGUgd3JhcHBlciBmdW5jdGlvbnMgYXJlOlxuICAgICAqIGBhZnRlcmAsIGBhc3NpZ25gLCBgYmluZGAsIGBiaW5kQWxsYCwgYGJpbmRLZXlgLCBgY2hhaW5gLCBgY29tcGFjdGAsXG4gICAgICogYGNvbXBvc2VgLCBgY29uY2F0YCwgYGNvdW50QnlgLCBgY3JlYXRlYCwgYGNyZWF0ZUNhbGxiYWNrYCwgYGN1cnJ5YCxcbiAgICAgKiBgZGVib3VuY2VgLCBgZGVmYXVsdHNgLCBgZGVmZXJgLCBgZGVsYXlgLCBgZGlmZmVyZW5jZWAsIGBmaWx0ZXJgLCBgZmxhdHRlbmAsXG4gICAgICogYGZvckVhY2hgLCBgZm9yRWFjaFJpZ2h0YCwgYGZvckluYCwgYGZvckluUmlnaHRgLCBgZm9yT3duYCwgYGZvck93blJpZ2h0YCxcbiAgICAgKiBgZnVuY3Rpb25zYCwgYGdyb3VwQnlgLCBgaW5kZXhCeWAsIGBpbml0aWFsYCwgYGludGVyc2VjdGlvbmAsIGBpbnZlcnRgLFxuICAgICAqIGBpbnZva2VgLCBga2V5c2AsIGBtYXBgLCBgbWF4YCwgYG1lbW9pemVgLCBgbWVyZ2VgLCBgbWluYCwgYG9iamVjdGAsIGBvbWl0YCxcbiAgICAgKiBgb25jZWAsIGBwYWlyc2AsIGBwYXJ0aWFsYCwgYHBhcnRpYWxSaWdodGAsIGBwaWNrYCwgYHBsdWNrYCwgYHB1bGxgLCBgcHVzaGAsXG4gICAgICogYHJhbmdlYCwgYHJlamVjdGAsIGByZW1vdmVgLCBgcmVzdGAsIGByZXZlcnNlYCwgYHNodWZmbGVgLCBgc2xpY2VgLCBgc29ydGAsXG4gICAgICogYHNvcnRCeWAsIGBzcGxpY2VgLCBgdGFwYCwgYHRocm90dGxlYCwgYHRpbWVzYCwgYHRvQXJyYXlgLCBgdHJhbnNmb3JtYCxcbiAgICAgKiBgdW5pb25gLCBgdW5pcWAsIGB1bnNoaWZ0YCwgYHVuemlwYCwgYHZhbHVlc2AsIGB3aGVyZWAsIGB3aXRob3V0YCwgYHdyYXBgLFxuICAgICAqIGFuZCBgemlwYFxuICAgICAqXG4gICAgICogVGhlIG5vbi1jaGFpbmFibGUgd3JhcHBlciBmdW5jdGlvbnMgYXJlOlxuICAgICAqIGBjbG9uZWAsIGBjbG9uZURlZXBgLCBgY29udGFpbnNgLCBgZXNjYXBlYCwgYGV2ZXJ5YCwgYGZpbmRgLCBgZmluZEluZGV4YCxcbiAgICAgKiBgZmluZEtleWAsIGBmaW5kTGFzdGAsIGBmaW5kTGFzdEluZGV4YCwgYGZpbmRMYXN0S2V5YCwgYGhhc2AsIGBpZGVudGl0eWAsXG4gICAgICogYGluZGV4T2ZgLCBgaXNBcmd1bWVudHNgLCBgaXNBcnJheWAsIGBpc0Jvb2xlYW5gLCBgaXNEYXRlYCwgYGlzRWxlbWVudGAsXG4gICAgICogYGlzRW1wdHlgLCBgaXNFcXVhbGAsIGBpc0Zpbml0ZWAsIGBpc0Z1bmN0aW9uYCwgYGlzTmFOYCwgYGlzTnVsbGAsIGBpc051bWJlcmAsXG4gICAgICogYGlzT2JqZWN0YCwgYGlzUGxhaW5PYmplY3RgLCBgaXNSZWdFeHBgLCBgaXNTdHJpbmdgLCBgaXNVbmRlZmluZWRgLCBgam9pbmAsXG4gICAgICogYGxhc3RJbmRleE9mYCwgYG1peGluYCwgYG5vQ29uZmxpY3RgLCBgcGFyc2VJbnRgLCBgcG9wYCwgYHJhbmRvbWAsIGByZWR1Y2VgLFxuICAgICAqIGByZWR1Y2VSaWdodGAsIGByZXN1bHRgLCBgc2hpZnRgLCBgc2l6ZWAsIGBzb21lYCwgYHNvcnRlZEluZGV4YCwgYHJ1bkluQ29udGV4dGAsXG4gICAgICogYHRlbXBsYXRlYCwgYHVuZXNjYXBlYCwgYHVuaXF1ZUlkYCwgYW5kIGB2YWx1ZWBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIGZ1bmN0aW9ucyBgZmlyc3RgIGFuZCBgbGFzdGAgcmV0dXJuIHdyYXBwZWQgdmFsdWVzIHdoZW4gYG5gIGlzXG4gICAgICogcHJvdmlkZWQsIG90aGVyd2lzZSB0aGV5IHJldHVybiB1bndyYXBwZWQgdmFsdWVzLlxuICAgICAqXG4gICAgICogRXhwbGljaXQgY2hhaW5pbmcgY2FuIGJlIGVuYWJsZWQgYnkgdXNpbmcgdGhlIGBfLmNoYWluYCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAbmFtZSBfXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQGNhdGVnb3J5IENoYWluaW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcCBpbiBhIGBsb2Rhc2hgIGluc3RhbmNlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYSBgbG9kYXNoYCBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyLCAzXSk7XG4gICAgICpcbiAgICAgKiAvLyByZXR1cm5zIGFuIHVud3JhcHBlZCB2YWx1ZVxuICAgICAqIHdyYXBwZWQucmVkdWNlKGZ1bmN0aW9uKHN1bSwgbnVtKSB7XG4gICAgICogICByZXR1cm4gc3VtICsgbnVtO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IDZcbiAgICAgKlxuICAgICAqIC8vIHJldHVybnMgYSB3cmFwcGVkIHZhbHVlXG4gICAgICogdmFyIHNxdWFyZXMgPSB3cmFwcGVkLm1hcChmdW5jdGlvbihudW0pIHtcbiAgICAgKiAgIHJldHVybiBudW0gKiBudW07XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShzcXVhcmVzLnZhbHVlKCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2Rhc2godmFsdWUpIHtcbiAgICAgIC8vIGRvbid0IHdyYXAgaWYgYWxyZWFkeSB3cmFwcGVkLCBldmVuIGlmIHdyYXBwZWQgYnkgYSBkaWZmZXJlbnQgYGxvZGFzaGAgY29uc3RydWN0b3JcbiAgICAgIHJldHVybiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnICYmICFpc0FycmF5KHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnX193cmFwcGVkX18nKSlcbiAgICAgICA/IHZhbHVlXG4gICAgICAgOiBuZXcgbG9kYXNoV3JhcHBlcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBmYXN0IHBhdGggZm9yIGNyZWF0aW5nIGBsb2Rhc2hgIHdyYXBwZXIgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcCBpbiBhIGBsb2Rhc2hgIGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2hhaW5BbGwgQSBmbGFnIHRvIGVuYWJsZSBjaGFpbmluZyBmb3IgYWxsIG1ldGhvZHNcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGEgYGxvZGFzaGAgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbG9kYXNoV3JhcHBlcih2YWx1ZSwgY2hhaW5BbGwpIHtcbiAgICAgIHRoaXMuX19jaGFpbl9fID0gISFjaGFpbkFsbDtcbiAgICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICB9XG4gICAgLy8gZW5zdXJlIGBuZXcgbG9kYXNoV3JhcHBlcmAgaXMgYW4gaW5zdGFuY2Ugb2YgYGxvZGFzaGBcbiAgICBsb2Rhc2hXcmFwcGVyLnByb3RvdHlwZSA9IGxvZGFzaC5wcm90b3R5cGU7XG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgdXNlZCB0byBmbGFnIGVudmlyb25tZW50cyBmZWF0dXJlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAqL1xuICAgIHZhciBzdXBwb3J0ID0gbG9kYXNoLnN1cHBvcnQgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIERldGVjdCBpZiBmdW5jdGlvbnMgY2FuIGJlIGRlY29tcGlsZWQgYnkgYEZ1bmN0aW9uI3RvU3RyaW5nYFxuICAgICAqIChhbGwgYnV0IFBTMyBhbmQgb2xkZXIgT3BlcmEgbW9iaWxlIGJyb3dzZXJzICYgYXZvaWRlZCBpbiBXaW5kb3dzIDggYXBwcykuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgXy5zdXBwb3J0XG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqL1xuICAgIHN1cHBvcnQuZnVuY0RlY29tcCA9ICFpc05hdGl2ZShjb250ZXh0LldpblJURXJyb3IpICYmIHJlVGhpcy50ZXN0KHJ1bkluQ29udGV4dCk7XG5cbiAgICAvKipcbiAgICAgKiBEZXRlY3QgaWYgYEZ1bmN0aW9uI25hbWVgIGlzIHN1cHBvcnRlZCAoYWxsIGJ1dCBJRSkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgXy5zdXBwb3J0XG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqL1xuICAgIHN1cHBvcnQuZnVuY05hbWVzID0gdHlwZW9mIEZ1bmN0aW9uLm5hbWUgPT0gJ3N0cmluZyc7XG5cbiAgICAvKipcbiAgICAgKiBCeSBkZWZhdWx0LCB0aGUgdGVtcGxhdGUgZGVsaW1pdGVycyB1c2VkIGJ5IExvLURhc2ggYXJlIHNpbWlsYXIgdG8gdGhvc2UgaW5cbiAgICAgKiBlbWJlZGRlZCBSdWJ5IChFUkIpLiBDaGFuZ2UgdGhlIGZvbGxvd2luZyB0ZW1wbGF0ZSBzZXR0aW5ncyB0byB1c2UgYWx0ZXJuYXRpdmVcbiAgICAgKiBkZWxpbWl0ZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUgT2JqZWN0XG4gICAgICovXG4gICAgbG9kYXNoLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBiZSBIVE1MLWVzY2FwZWQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUgUmVnRXhwXG4gICAgICAgKi9cbiAgICAgICdlc2NhcGUnOiAvPCUtKFtcXHNcXFNdKz8pJT4vZyxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBjb2RlIHRvIGJlIGV2YWx1YXRlZC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSBSZWdFeHBcbiAgICAgICAqL1xuICAgICAgJ2V2YWx1YXRlJzogLzwlKFtcXHNcXFNdKz8pJT4vZyxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBgZGF0YWAgcHJvcGVydHkgdmFsdWVzIHRvIGluamVjdC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSBSZWdFeHBcbiAgICAgICAqL1xuICAgICAgJ2ludGVycG9sYXRlJzogcmVJbnRlcnBvbGF0ZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIHJlZmVyZW5jZSB0aGUgZGF0YSBvYmplY3QgaW4gdGhlIHRlbXBsYXRlIHRleHQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUgc3RyaW5nXG4gICAgICAgKi9cbiAgICAgICd2YXJpYWJsZSc6ICcnLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gaW1wb3J0IHZhcmlhYmxlcyBpbnRvIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgICAqL1xuICAgICAgJ2ltcG9ydHMnOiB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5ncy5pbXBvcnRzXG4gICAgICAgICAqIEB0eXBlIEZ1bmN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICAnXyc6IGxvZGFzaFxuICAgICAgfVxuICAgIH07XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmJpbmRgIHRoYXQgY3JlYXRlcyB0aGUgYm91bmQgZnVuY3Rpb24gYW5kXG4gICAgICogc2V0cyBpdHMgbWV0YSBkYXRhLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBiaW5kRGF0YSBUaGUgYmluZCBkYXRhIGFycmF5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJvdW5kIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VCaW5kKGJpbmREYXRhKSB7XG4gICAgICB2YXIgZnVuYyA9IGJpbmREYXRhWzBdLFxuICAgICAgICAgIHBhcnRpYWxBcmdzID0gYmluZERhdGFbMl0sXG4gICAgICAgICAgdGhpc0FyZyA9IGJpbmREYXRhWzRdO1xuXG4gICAgICBmdW5jdGlvbiBib3VuZCgpIHtcbiAgICAgICAgLy8gYEZ1bmN0aW9uI2JpbmRgIHNwZWNcbiAgICAgICAgLy8gaHR0cDovL2VzNS5naXRodWIuaW8vI3gxNS4zLjQuNVxuICAgICAgICBpZiAocGFydGlhbEFyZ3MpIHtcbiAgICAgICAgICAvLyBhdm9pZCBgYXJndW1lbnRzYCBvYmplY3QgZGVvcHRpbWl6YXRpb25zIGJ5IHVzaW5nIGBzbGljZWAgaW5zdGVhZFxuICAgICAgICAgIC8vIG9mIGBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbGAgYW5kIG5vdCBhc3NpZ25pbmcgYGFyZ3VtZW50c2AgdG8gYVxuICAgICAgICAgIC8vIHZhcmlhYmxlIGFzIGEgdGVybmFyeSBleHByZXNzaW9uXG4gICAgICAgICAgdmFyIGFyZ3MgPSBzbGljZShwYXJ0aWFsQXJncyk7XG4gICAgICAgICAgcHVzaC5hcHBseShhcmdzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1pbWljIHRoZSBjb25zdHJ1Y3RvcidzIGByZXR1cm5gIGJlaGF2aW9yXG4gICAgICAgIC8vIGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4MTMuMi4yXG4gICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgYm91bmQpIHtcbiAgICAgICAgICAvLyBlbnN1cmUgYG5ldyBib3VuZGAgaXMgYW4gaW5zdGFuY2Ugb2YgYGZ1bmNgXG4gICAgICAgICAgdmFyIHRoaXNCaW5kaW5nID0gYmFzZUNyZWF0ZShmdW5jLnByb3RvdHlwZSksXG4gICAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MgfHwgYXJndW1lbnRzKTtcbiAgICAgICAgICByZXR1cm4gaXNPYmplY3QocmVzdWx0KSA/IHJlc3VsdCA6IHRoaXNCaW5kaW5nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MgfHwgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHNldEJpbmREYXRhKGJvdW5kLCBiaW5kRGF0YSk7XG4gICAgICByZXR1cm4gYm91bmQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY2xvbmVgIHdpdGhvdXQgYXJndW1lbnQganVnZ2xpbmcgb3Igc3VwcG9ydFxuICAgICAqIGZvciBgdGhpc0FyZ2AgYmluZGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwPWZhbHNlXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZyB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3N0YWNrQT1bXV0gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbc3RhY2tCPVtdXSBBc3NvY2lhdGVzIGNsb25lcyB3aXRoIHNvdXJjZSBjb3VudGVycGFydHMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ2xvbmUodmFsdWUsIGlzRGVlcCwgY2FsbGJhY2ssIHN0YWNrQSwgc3RhY2tCKSB7XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrKHZhbHVlKTtcbiAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBpbnNwZWN0IFtbQ2xhc3NdXVxuICAgICAgdmFyIGlzT2JqID0gaXNPYmplY3QodmFsdWUpO1xuICAgICAgaWYgKGlzT2JqKSB7XG4gICAgICAgIHZhciBjbGFzc05hbWUgPSB0b1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgICAgaWYgKCFjbG9uZWFibGVDbGFzc2VzW2NsYXNzTmFtZV0pIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN0b3IgPSBjdG9yQnlDbGFzc1tjbGFzc05hbWVdO1xuICAgICAgICBzd2l0Y2ggKGNsYXNzTmFtZSkge1xuICAgICAgICAgIGNhc2UgYm9vbENsYXNzOlxuICAgICAgICAgIGNhc2UgZGF0ZUNsYXNzOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBjdG9yKCt2YWx1ZSk7XG5cbiAgICAgICAgICBjYXNlIG51bWJlckNsYXNzOlxuICAgICAgICAgIGNhc2Ugc3RyaW5nQ2xhc3M6XG4gICAgICAgICAgICByZXR1cm4gbmV3IGN0b3IodmFsdWUpO1xuXG4gICAgICAgICAgY2FzZSByZWdleHBDbGFzczpcbiAgICAgICAgICAgIHJlc3VsdCA9IGN0b3IodmFsdWUuc291cmNlLCByZUZsYWdzLmV4ZWModmFsdWUpKTtcbiAgICAgICAgICAgIHJlc3VsdC5sYXN0SW5kZXggPSB2YWx1ZS5sYXN0SW5kZXg7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKTtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgLy8gY2hlY2sgZm9yIGNpcmN1bGFyIHJlZmVyZW5jZXMgYW5kIHJldHVybiBjb3JyZXNwb25kaW5nIGNsb25lXG4gICAgICAgIHZhciBpbml0ZWRTdGFjayA9ICFzdGFja0E7XG4gICAgICAgIHN0YWNrQSB8fCAoc3RhY2tBID0gZ2V0QXJyYXkoKSk7XG4gICAgICAgIHN0YWNrQiB8fCAoc3RhY2tCID0gZ2V0QXJyYXkoKSk7XG5cbiAgICAgICAgdmFyIGxlbmd0aCA9IHN0YWNrQS5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICAgIGlmIChzdGFja0FbbGVuZ3RoXSA9PSB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YWNrQltsZW5ndGhdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSBpc0FyciA/IGN0b3IodmFsdWUubGVuZ3RoKSA6IHt9O1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGlzQXJyID8gc2xpY2UodmFsdWUpIDogYXNzaWduKHt9LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICAvLyBhZGQgYXJyYXkgcHJvcGVydGllcyBhc3NpZ25lZCBieSBgUmVnRXhwI2V4ZWNgXG4gICAgICBpZiAoaXNBcnIpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdpbmRleCcpKSB7XG4gICAgICAgICAgcmVzdWx0LmluZGV4ID0gdmFsdWUuaW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdpbnB1dCcpKSB7XG4gICAgICAgICAgcmVzdWx0LmlucHV0ID0gdmFsdWUuaW5wdXQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIGV4aXQgZm9yIHNoYWxsb3cgY2xvbmVcbiAgICAgIGlmICghaXNEZWVwKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICAvLyBhZGQgdGhlIHNvdXJjZSB2YWx1ZSB0byB0aGUgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHNcbiAgICAgIC8vIGFuZCBhc3NvY2lhdGUgaXQgd2l0aCBpdHMgY2xvbmVcbiAgICAgIHN0YWNrQS5wdXNoKHZhbHVlKTtcbiAgICAgIHN0YWNrQi5wdXNoKHJlc3VsdCk7XG5cbiAgICAgIC8vIHJlY3Vyc2l2ZWx5IHBvcHVsYXRlIGNsb25lIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cylcbiAgICAgIChpc0FyciA/IGZvckVhY2ggOiBmb3JPd24pKHZhbHVlLCBmdW5jdGlvbihvYmpWYWx1ZSwga2V5KSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gYmFzZUNsb25lKG9ialZhbHVlLCBpc0RlZXAsIGNhbGxiYWNrLCBzdGFja0EsIHN0YWNrQik7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGluaXRlZFN0YWNrKSB7XG4gICAgICAgIHJlbGVhc2VBcnJheShzdGFja0EpO1xuICAgICAgICByZWxlYXNlQXJyYXkoc3RhY2tCKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY3JlYXRlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGFzc2lnbmluZ1xuICAgICAqIHByb3BlcnRpZXMgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG90eXBlIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNyZWF0ZShwcm90b3R5cGUsIHByb3BlcnRpZXMpIHtcbiAgICAgIHJldHVybiBpc09iamVjdChwcm90b3R5cGUpID8gbmF0aXZlQ3JlYXRlKHByb3RvdHlwZSkgOiB7fTtcbiAgICB9XG4gICAgLy8gZmFsbGJhY2sgZm9yIGJyb3dzZXJzIHdpdGhvdXQgYE9iamVjdC5jcmVhdGVgXG4gICAgaWYgKCFuYXRpdmVDcmVhdGUpIHtcbiAgICAgIGJhc2VDcmVhdGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgIGZ1bmN0aW9uIE9iamVjdCgpIHt9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihwcm90b3R5cGUpIHtcbiAgICAgICAgICBpZiAoaXNPYmplY3QocHJvdG90eXBlKSkge1xuICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQgfHwgY29udGV4dC5PYmplY3QoKTtcbiAgICAgICAgfTtcbiAgICAgIH0oKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY3JlYXRlQ2FsbGJhY2tgIHdpdGhvdXQgc3VwcG9ydCBmb3IgY3JlYXRpbmdcbiAgICAgKiBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW2Z1bmM9aWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGEgY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGNhbGxiYWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJnQ291bnRdIFRoZSBudW1iZXIgb2YgYXJndW1lbnRzIHRoZSBjYWxsYmFjayBhY2NlcHRzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBhIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDcmVhdGVDYWxsYmFjayhmdW5jLCB0aGlzQXJnLCBhcmdDb3VudCkge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xuICAgICAgfVxuICAgICAgLy8gZXhpdCBlYXJseSBmb3Igbm8gYHRoaXNBcmdgIG9yIGFscmVhZHkgYm91bmQgYnkgYEZ1bmN0aW9uI2JpbmRgXG4gICAgICBpZiAodHlwZW9mIHRoaXNBcmcgPT0gJ3VuZGVmaW5lZCcgfHwgISgncHJvdG90eXBlJyBpbiBmdW5jKSkge1xuICAgICAgICByZXR1cm4gZnVuYztcbiAgICAgIH1cbiAgICAgIHZhciBiaW5kRGF0YSA9IGZ1bmMuX19iaW5kRGF0YV9fO1xuICAgICAgaWYgKHR5cGVvZiBiaW5kRGF0YSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAoc3VwcG9ydC5mdW5jTmFtZXMpIHtcbiAgICAgICAgICBiaW5kRGF0YSA9ICFmdW5jLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgYmluZERhdGEgPSBiaW5kRGF0YSB8fCAhc3VwcG9ydC5mdW5jRGVjb21wO1xuICAgICAgICBpZiAoIWJpbmREYXRhKSB7XG4gICAgICAgICAgdmFyIHNvdXJjZSA9IGZuVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICAgICAgICBpZiAoIXN1cHBvcnQuZnVuY05hbWVzKSB7XG4gICAgICAgICAgICBiaW5kRGF0YSA9ICFyZUZ1bmNOYW1lLnRlc3Qoc291cmNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFiaW5kRGF0YSkge1xuICAgICAgICAgICAgLy8gY2hlY2tzIGlmIGBmdW5jYCByZWZlcmVuY2VzIHRoZSBgdGhpc2Aga2V5d29yZCBhbmQgc3RvcmVzIHRoZSByZXN1bHRcbiAgICAgICAgICAgIGJpbmREYXRhID0gcmVUaGlzLnRlc3Qoc291cmNlKTtcbiAgICAgICAgICAgIHNldEJpbmREYXRhKGZ1bmMsIGJpbmREYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIGV4aXQgZWFybHkgaWYgdGhlcmUgYXJlIG5vIGB0aGlzYCByZWZlcmVuY2VzIG9yIGBmdW5jYCBpcyBib3VuZFxuICAgICAgaWYgKGJpbmREYXRhID09PSBmYWxzZSB8fCAoYmluZERhdGEgIT09IHRydWUgJiYgYmluZERhdGFbMV0gJiAxKSkge1xuICAgICAgICByZXR1cm4gZnVuYztcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoYXJnQ291bnQpIHtcbiAgICAgICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIHZhbHVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgIHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYSwgYik7XG4gICAgICAgIH07XG4gICAgICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICAgIHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgfTtcbiAgICAgICAgY2FzZSA0OiByZXR1cm4gZnVuY3Rpb24oYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICAgIHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gYmluZChmdW5jLCB0aGlzQXJnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgY3JlYXRlV3JhcHBlcmAgdGhhdCBjcmVhdGVzIHRoZSB3cmFwcGVyIGFuZFxuICAgICAqIHNldHMgaXRzIG1ldGEgZGF0YS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYmluZERhdGEgVGhlIGJpbmQgZGF0YSBhcnJheS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ3JlYXRlV3JhcHBlcihiaW5kRGF0YSkge1xuICAgICAgdmFyIGZ1bmMgPSBiaW5kRGF0YVswXSxcbiAgICAgICAgICBiaXRtYXNrID0gYmluZERhdGFbMV0sXG4gICAgICAgICAgcGFydGlhbEFyZ3MgPSBiaW5kRGF0YVsyXSxcbiAgICAgICAgICBwYXJ0aWFsUmlnaHRBcmdzID0gYmluZERhdGFbM10sXG4gICAgICAgICAgdGhpc0FyZyA9IGJpbmREYXRhWzRdLFxuICAgICAgICAgIGFyaXR5ID0gYmluZERhdGFbNV07XG5cbiAgICAgIHZhciBpc0JpbmQgPSBiaXRtYXNrICYgMSxcbiAgICAgICAgICBpc0JpbmRLZXkgPSBiaXRtYXNrICYgMixcbiAgICAgICAgICBpc0N1cnJ5ID0gYml0bWFzayAmIDQsXG4gICAgICAgICAgaXNDdXJyeUJvdW5kID0gYml0bWFzayAmIDgsXG4gICAgICAgICAga2V5ID0gZnVuYztcblxuICAgICAgZnVuY3Rpb24gYm91bmQoKSB7XG4gICAgICAgIHZhciB0aGlzQmluZGluZyA9IGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzO1xuICAgICAgICBpZiAocGFydGlhbEFyZ3MpIHtcbiAgICAgICAgICB2YXIgYXJncyA9IHNsaWNlKHBhcnRpYWxBcmdzKTtcbiAgICAgICAgICBwdXNoLmFwcGx5KGFyZ3MsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRpYWxSaWdodEFyZ3MgfHwgaXNDdXJyeSkge1xuICAgICAgICAgIGFyZ3MgfHwgKGFyZ3MgPSBzbGljZShhcmd1bWVudHMpKTtcbiAgICAgICAgICBpZiAocGFydGlhbFJpZ2h0QXJncykge1xuICAgICAgICAgICAgcHVzaC5hcHBseShhcmdzLCBwYXJ0aWFsUmlnaHRBcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzQ3VycnkgJiYgYXJncy5sZW5ndGggPCBhcml0eSkge1xuICAgICAgICAgICAgYml0bWFzayB8PSAxNiAmIH4zMjtcbiAgICAgICAgICAgIHJldHVybiBiYXNlQ3JlYXRlV3JhcHBlcihbZnVuYywgKGlzQ3VycnlCb3VuZCA/IGJpdG1hc2sgOiBiaXRtYXNrICYgfjMpLCBhcmdzLCBudWxsLCB0aGlzQXJnLCBhcml0eV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhcmdzIHx8IChhcmdzID0gYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKGlzQmluZEtleSkge1xuICAgICAgICAgIGZ1bmMgPSB0aGlzQmluZGluZ1trZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgYm91bmQpIHtcbiAgICAgICAgICB0aGlzQmluZGluZyA9IGJhc2VDcmVhdGUoZnVuYy5wcm90b3R5cGUpO1xuICAgICAgICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcbiAgICAgICAgICByZXR1cm4gaXNPYmplY3QocmVzdWx0KSA/IHJlc3VsdCA6IHRoaXNCaW5kaW5nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHNldEJpbmREYXRhKGJvdW5kLCBiaW5kRGF0YSk7XG4gICAgICByZXR1cm4gYm91bmQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZGlmZmVyZW5jZWAgdGhhdCBhY2NlcHRzIGEgc2luZ2xlIGFycmF5XG4gICAgICogb2YgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXNdIFRoZSBhcnJheSBvZiB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VEaWZmZXJlbmNlKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluZGV4T2YgPSBnZXRJbmRleE9mKCksXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgICAgIGlzTGFyZ2UgPSBsZW5ndGggPj0gbGFyZ2VBcnJheVNpemUgJiYgaW5kZXhPZiA9PT0gYmFzZUluZGV4T2YsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIGlmIChpc0xhcmdlKSB7XG4gICAgICAgIHZhciBjYWNoZSA9IGNyZWF0ZUNhY2hlKHZhbHVlcyk7XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgIGluZGV4T2YgPSBjYWNoZUluZGV4T2Y7XG4gICAgICAgICAgdmFsdWVzID0gY2FjaGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXNMYXJnZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChpbmRleE9mKHZhbHVlcywgdmFsdWUpIDwgMCkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGlzTGFyZ2UpIHtcbiAgICAgICAgcmVsZWFzZU9iamVjdCh2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mbGF0dGVuYCB3aXRob3V0IHN1cHBvcnQgZm9yIGNhbGxiYWNrXG4gICAgICogc2hvcnRoYW5kcyBvciBgdGhpc0FyZ2AgYmluZGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTaGFsbG93PWZhbHNlXSBBIGZsYWcgdG8gcmVzdHJpY3QgZmxhdHRlbmluZyB0byBhIHNpbmdsZSBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0cmljdD1mYWxzZV0gQSBmbGFnIHRvIHJlc3RyaWN0IGZsYXR0ZW5pbmcgdG8gYXJyYXlzIGFuZCBgYXJndW1lbnRzYCBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzdGFydCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZsYXR0ZW4oYXJyYXksIGlzU2hhbGxvdywgaXNTdHJpY3QsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGluZGV4ID0gKGZyb21JbmRleCB8fCAwKSAtIDEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG5cbiAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUubGVuZ3RoID09ICdudW1iZXInXG4gICAgICAgICAgICAmJiAoaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpKSkge1xuICAgICAgICAgIC8vIHJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cylcbiAgICAgICAgICBpZiAoIWlzU2hhbGxvdykge1xuICAgICAgICAgICAgdmFsdWUgPSBiYXNlRmxhdHRlbih2YWx1ZSwgaXNTaGFsbG93LCBpc1N0cmljdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciB2YWxJbmRleCA9IC0xLFxuICAgICAgICAgICAgICB2YWxMZW5ndGggPSB2YWx1ZS5sZW5ndGgsXG4gICAgICAgICAgICAgIHJlc0luZGV4ID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgICAgICAgIHJlc3VsdC5sZW5ndGggKz0gdmFsTGVuZ3RoO1xuICAgICAgICAgIHdoaWxlICgrK3ZhbEluZGV4IDwgdmFsTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZVt2YWxJbmRleF07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFpc1N0cmljdCkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0VxdWFsYCwgd2l0aG91dCBzdXBwb3J0IGZvciBgdGhpc0FyZ2AgYmluZGluZyxcbiAgICAgKiB0aGF0IGFsbG93cyBwYXJ0aWFsIFwiXy53aGVyZVwiIHN0eWxlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IGEgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBiIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpbmcgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpc1doZXJlPWZhbHNlXSBBIGZsYWcgdG8gaW5kaWNhdGUgcGVyZm9ybWluZyBwYXJ0aWFsIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtzdGFja0E9W11dIFRyYWNrcyB0cmF2ZXJzZWQgYGFgIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3N0YWNrQj1bXV0gVHJhY2tzIHRyYXZlcnNlZCBgYmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0VxdWFsKGEsIGIsIGNhbGxiYWNrLCBpc1doZXJlLCBzdGFja0EsIHN0YWNrQikge1xuICAgICAgLy8gdXNlZCB0byBpbmRpY2F0ZSB0aGF0IHdoZW4gY29tcGFyaW5nIG9iamVjdHMsIGBhYCBoYXMgYXQgbGVhc3QgdGhlIHByb3BlcnRpZXMgb2YgYGJgXG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrKGEsIGIpO1xuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHJldHVybiAhIXJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gZXhpdCBlYXJseSBmb3IgaWRlbnRpY2FsIHZhbHVlc1xuICAgICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgLy8gdHJlYXQgYCswYCB2cy4gYC0wYCBhcyBub3QgZXF1YWxcbiAgICAgICAgcmV0dXJuIGEgIT09IDAgfHwgKDEgLyBhID09IDEgLyBiKTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIGEsXG4gICAgICAgICAgb3RoZXJUeXBlID0gdHlwZW9mIGI7XG5cbiAgICAgIC8vIGV4aXQgZWFybHkgZm9yIHVubGlrZSBwcmltaXRpdmUgdmFsdWVzXG4gICAgICBpZiAoYSA9PT0gYSAmJlxuICAgICAgICAgICEoYSAmJiBvYmplY3RUeXBlc1t0eXBlXSkgJiZcbiAgICAgICAgICAhKGIgJiYgb2JqZWN0VHlwZXNbb3RoZXJUeXBlXSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gZXhpdCBlYXJseSBmb3IgYG51bGxgIGFuZCBgdW5kZWZpbmVkYCBhdm9pZGluZyBFUzMncyBGdW5jdGlvbiNjYWxsIGJlaGF2aW9yXG4gICAgICAvLyBodHRwOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjMuNC40XG4gICAgICBpZiAoYSA9PSBudWxsIHx8IGIgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gYSA9PT0gYjtcbiAgICAgIH1cbiAgICAgIC8vIGNvbXBhcmUgW1tDbGFzc11dIG5hbWVzXG4gICAgICB2YXIgY2xhc3NOYW1lID0gdG9TdHJpbmcuY2FsbChhKSxcbiAgICAgICAgICBvdGhlckNsYXNzID0gdG9TdHJpbmcuY2FsbChiKTtcblxuICAgICAgaWYgKGNsYXNzTmFtZSA9PSBhcmdzQ2xhc3MpIHtcbiAgICAgICAgY2xhc3NOYW1lID0gb2JqZWN0Q2xhc3M7XG4gICAgICB9XG4gICAgICBpZiAob3RoZXJDbGFzcyA9PSBhcmdzQ2xhc3MpIHtcbiAgICAgICAgb3RoZXJDbGFzcyA9IG9iamVjdENsYXNzO1xuICAgICAgfVxuICAgICAgaWYgKGNsYXNzTmFtZSAhPSBvdGhlckNsYXNzKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoY2xhc3NOYW1lKSB7XG4gICAgICAgIGNhc2UgYm9vbENsYXNzOlxuICAgICAgICBjYXNlIGRhdGVDbGFzczpcbiAgICAgICAgICAvLyBjb2VyY2UgZGF0ZXMgYW5kIGJvb2xlYW5zIHRvIG51bWJlcnMsIGRhdGVzIHRvIG1pbGxpc2Vjb25kcyBhbmQgYm9vbGVhbnNcbiAgICAgICAgICAvLyB0byBgMWAgb3IgYDBgIHRyZWF0aW5nIGludmFsaWQgZGF0ZXMgY29lcmNlZCB0byBgTmFOYCBhcyBub3QgZXF1YWxcbiAgICAgICAgICByZXR1cm4gK2EgPT0gK2I7XG5cbiAgICAgICAgY2FzZSBudW1iZXJDbGFzczpcbiAgICAgICAgICAvLyB0cmVhdCBgTmFOYCB2cy4gYE5hTmAgYXMgZXF1YWxcbiAgICAgICAgICByZXR1cm4gKGEgIT0gK2EpXG4gICAgICAgICAgICA/IGIgIT0gK2JcbiAgICAgICAgICAgIC8vIGJ1dCB0cmVhdCBgKzBgIHZzLiBgLTBgIGFzIG5vdCBlcXVhbFxuICAgICAgICAgICAgOiAoYSA9PSAwID8gKDEgLyBhID09IDEgLyBiKSA6IGEgPT0gK2IpO1xuXG4gICAgICAgIGNhc2UgcmVnZXhwQ2xhc3M6XG4gICAgICAgIGNhc2Ugc3RyaW5nQ2xhc3M6XG4gICAgICAgICAgLy8gY29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyAoaHR0cDovL2VzNS5naXRodWIuaW8vI3gxNS4xMC42LjQpXG4gICAgICAgICAgLy8gdHJlYXQgc3RyaW5nIHByaW1pdGl2ZXMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgb2JqZWN0IGluc3RhbmNlcyBhcyBlcXVhbFxuICAgICAgICAgIHJldHVybiBhID09IFN0cmluZyhiKTtcbiAgICAgIH1cbiAgICAgIHZhciBpc0FyciA9IGNsYXNzTmFtZSA9PSBhcnJheUNsYXNzO1xuICAgICAgaWYgKCFpc0Fycikge1xuICAgICAgICAvLyB1bndyYXAgYW55IGBsb2Rhc2hgIHdyYXBwZWQgdmFsdWVzXG4gICAgICAgIHZhciBhV3JhcHBlZCA9IGhhc093blByb3BlcnR5LmNhbGwoYSwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgICAgICBiV3JhcHBlZCA9IGhhc093blByb3BlcnR5LmNhbGwoYiwgJ19fd3JhcHBlZF9fJyk7XG5cbiAgICAgICAgaWYgKGFXcmFwcGVkIHx8IGJXcmFwcGVkKSB7XG4gICAgICAgICAgcmV0dXJuIGJhc2VJc0VxdWFsKGFXcmFwcGVkID8gYS5fX3dyYXBwZWRfXyA6IGEsIGJXcmFwcGVkID8gYi5fX3dyYXBwZWRfXyA6IGIsIGNhbGxiYWNrLCBpc1doZXJlLCBzdGFja0EsIHN0YWNrQik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXhpdCBmb3IgZnVuY3Rpb25zIGFuZCBET00gbm9kZXNcbiAgICAgICAgaWYgKGNsYXNzTmFtZSAhPSBvYmplY3RDbGFzcykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbiBvbGRlciB2ZXJzaW9ucyBvZiBPcGVyYSwgYGFyZ3VtZW50c2Agb2JqZWN0cyBoYXZlIGBBcnJheWAgY29uc3RydWN0b3JzXG4gICAgICAgIHZhciBjdG9yQSA9IGEuY29uc3RydWN0b3IsXG4gICAgICAgICAgICBjdG9yQiA9IGIuY29uc3RydWN0b3I7XG5cbiAgICAgICAgLy8gbm9uIGBPYmplY3RgIG9iamVjdCBpbnN0YW5jZXMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1YWxcbiAgICAgICAgaWYgKGN0b3JBICE9IGN0b3JCICYmXG4gICAgICAgICAgICAgICEoaXNGdW5jdGlvbihjdG9yQSkgJiYgY3RvckEgaW5zdGFuY2VvZiBjdG9yQSAmJiBpc0Z1bmN0aW9uKGN0b3JCKSAmJiBjdG9yQiBpbnN0YW5jZW9mIGN0b3JCKSAmJlxuICAgICAgICAgICAgICAoJ2NvbnN0cnVjdG9yJyBpbiBhICYmICdjb25zdHJ1Y3RvcicgaW4gYilcbiAgICAgICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gYXNzdW1lIGN5Y2xpYyBzdHJ1Y3R1cmVzIGFyZSBlcXVhbFxuICAgICAgLy8gdGhlIGFsZ29yaXRobSBmb3IgZGV0ZWN0aW5nIGN5Y2xpYyBzdHJ1Y3R1cmVzIGlzIGFkYXB0ZWQgZnJvbSBFUyA1LjFcbiAgICAgIC8vIHNlY3Rpb24gMTUuMTIuMywgYWJzdHJhY3Qgb3BlcmF0aW9uIGBKT2AgKGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMTIuMylcbiAgICAgIHZhciBpbml0ZWRTdGFjayA9ICFzdGFja0E7XG4gICAgICBzdGFja0EgfHwgKHN0YWNrQSA9IGdldEFycmF5KCkpO1xuICAgICAgc3RhY2tCIHx8IChzdGFja0IgPSBnZXRBcnJheSgpKTtcblxuICAgICAgdmFyIGxlbmd0aCA9IHN0YWNrQS5sZW5ndGg7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgaWYgKHN0YWNrQVtsZW5ndGhdID09IGEpIHtcbiAgICAgICAgICByZXR1cm4gc3RhY2tCW2xlbmd0aF0gPT0gYjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIHNpemUgPSAwO1xuICAgICAgcmVzdWx0ID0gdHJ1ZTtcblxuICAgICAgLy8gYWRkIGBhYCBhbmQgYGJgIHRvIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0c1xuICAgICAgc3RhY2tBLnB1c2goYSk7XG4gICAgICBzdGFja0IucHVzaChiKTtcblxuICAgICAgLy8gcmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKVxuICAgICAgaWYgKGlzQXJyKSB7XG4gICAgICAgIC8vIGNvbXBhcmUgbGVuZ3RocyB0byBkZXRlcm1pbmUgaWYgYSBkZWVwIGNvbXBhcmlzb24gaXMgbmVjZXNzYXJ5XG4gICAgICAgIGxlbmd0aCA9IGEubGVuZ3RoO1xuICAgICAgICBzaXplID0gYi5sZW5ndGg7XG4gICAgICAgIHJlc3VsdCA9IHNpemUgPT0gbGVuZ3RoO1xuXG4gICAgICAgIGlmIChyZXN1bHQgfHwgaXNXaGVyZSkge1xuICAgICAgICAgIC8vIGRlZXAgY29tcGFyZSB0aGUgY29udGVudHMsIGlnbm9yaW5nIG5vbi1udW1lcmljIHByb3BlcnRpZXNcbiAgICAgICAgICB3aGlsZSAoc2l6ZS0tKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBsZW5ndGgsXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBiW3NpemVdO1xuXG4gICAgICAgICAgICBpZiAoaXNXaGVyZSkge1xuICAgICAgICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgICAgICAgIGlmICgocmVzdWx0ID0gYmFzZUlzRXF1YWwoYVtpbmRleF0sIHZhbHVlLCBjYWxsYmFjaywgaXNXaGVyZSwgc3RhY2tBLCBzdGFja0IpKSkge1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCEocmVzdWx0ID0gYmFzZUlzRXF1YWwoYVtzaXplXSwgdmFsdWUsIGNhbGxiYWNrLCBpc1doZXJlLCBzdGFja0EsIHN0YWNrQikpKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIGRlZXAgY29tcGFyZSBvYmplY3RzIHVzaW5nIGBmb3JJbmAsIGluc3RlYWQgb2YgYGZvck93bmAsIHRvIGF2b2lkIGBPYmplY3Qua2V5c2BcbiAgICAgICAgLy8gd2hpY2gsIGluIHRoaXMgY2FzZSwgaXMgbW9yZSBjb3N0bHlcbiAgICAgICAgZm9ySW4oYiwgZnVuY3Rpb24odmFsdWUsIGtleSwgYikge1xuICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIGtleSkpIHtcbiAgICAgICAgICAgIC8vIGNvdW50IHRoZSBudW1iZXIgb2YgcHJvcGVydGllcy5cbiAgICAgICAgICAgIHNpemUrKztcbiAgICAgICAgICAgIC8vIGRlZXAgY29tcGFyZSBlYWNoIHByb3BlcnR5IHZhbHVlLlxuICAgICAgICAgICAgcmV0dXJuIChyZXN1bHQgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIGtleSkgJiYgYmFzZUlzRXF1YWwoYVtrZXldLCB2YWx1ZSwgY2FsbGJhY2ssIGlzV2hlcmUsIHN0YWNrQSwgc3RhY2tCKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocmVzdWx0ICYmICFpc1doZXJlKSB7XG4gICAgICAgICAgLy8gZW5zdXJlIGJvdGggb2JqZWN0cyBoYXZlIHRoZSBzYW1lIG51bWJlciBvZiBwcm9wZXJ0aWVzXG4gICAgICAgICAgZm9ySW4oYSwgZnVuY3Rpb24odmFsdWUsIGtleSwgYSkge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoYSwga2V5KSkge1xuICAgICAgICAgICAgICAvLyBgc2l6ZWAgd2lsbCBiZSBgLTFgIGlmIGBhYCBoYXMgbW9yZSBwcm9wZXJ0aWVzIHRoYW4gYGJgXG4gICAgICAgICAgICAgIHJldHVybiAocmVzdWx0ID0gLS1zaXplID4gLTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdGFja0EucG9wKCk7XG4gICAgICBzdGFja0IucG9wKCk7XG5cbiAgICAgIGlmIChpbml0ZWRTdGFjaykge1xuICAgICAgICByZWxlYXNlQXJyYXkoc3RhY2tBKTtcbiAgICAgICAgcmVsZWFzZUFycmF5KHN0YWNrQik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lcmdlYCB3aXRob3V0IGFyZ3VtZW50IGp1Z2dsaW5nIG9yIHN1cHBvcnRcbiAgICAgKiBmb3IgYHRoaXNBcmdgIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBtZXJnaW5nIHByb3BlcnRpZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3N0YWNrQT1bXV0gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbc3RhY2tCPVtdXSBBc3NvY2lhdGVzIHZhbHVlcyB3aXRoIHNvdXJjZSBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBjYWxsYmFjaywgc3RhY2tBLCBzdGFja0IpIHtcbiAgICAgIChpc0FycmF5KHNvdXJjZSkgPyBmb3JFYWNoIDogZm9yT3duKShzb3VyY2UsIGZ1bmN0aW9uKHNvdXJjZSwga2V5KSB7XG4gICAgICAgIHZhciBmb3VuZCxcbiAgICAgICAgICAgIGlzQXJyLFxuICAgICAgICAgICAgcmVzdWx0ID0gc291cmNlLFxuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICBpZiAoc291cmNlICYmICgoaXNBcnIgPSBpc0FycmF5KHNvdXJjZSkpIHx8IGlzUGxhaW5PYmplY3Qoc291cmNlKSkpIHtcbiAgICAgICAgICAvLyBhdm9pZCBtZXJnaW5nIHByZXZpb3VzbHkgbWVyZ2VkIGN5Y2xpYyBzb3VyY2VzXG4gICAgICAgICAgdmFyIHN0YWNrTGVuZ3RoID0gc3RhY2tBLmxlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoc3RhY2tMZW5ndGgtLSkge1xuICAgICAgICAgICAgaWYgKChmb3VuZCA9IHN0YWNrQVtzdGFja0xlbmd0aF0gPT0gc291cmNlKSkge1xuICAgICAgICAgICAgICB2YWx1ZSA9IHN0YWNrQltzdGFja0xlbmd0aF07XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICB2YXIgaXNTaGFsbG93O1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIHJlc3VsdCA9IGNhbGxiYWNrKHZhbHVlLCBzb3VyY2UpO1xuICAgICAgICAgICAgICBpZiAoKGlzU2hhbGxvdyA9IHR5cGVvZiByZXN1bHQgIT0gJ3VuZGVmaW5lZCcpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSByZXN1bHQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNTaGFsbG93KSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gaXNBcnJcbiAgICAgICAgICAgICAgICA/IChpc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW10pXG4gICAgICAgICAgICAgICAgOiAoaXNQbGFpbk9iamVjdCh2YWx1ZSkgPyB2YWx1ZSA6IHt9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFkZCBgc291cmNlYCBhbmQgYXNzb2NpYXRlZCBgdmFsdWVgIHRvIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0c1xuICAgICAgICAgICAgc3RhY2tBLnB1c2goc291cmNlKTtcbiAgICAgICAgICAgIHN0YWNrQi5wdXNoKHZhbHVlKTtcblxuICAgICAgICAgICAgLy8gcmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cylcbiAgICAgICAgICAgIGlmICghaXNTaGFsbG93KSB7XG4gICAgICAgICAgICAgIGJhc2VNZXJnZSh2YWx1ZSwgc291cmNlLCBjYWxsYmFjaywgc3RhY2tBLCBzdGFja0IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGNhbGxiYWNrKHZhbHVlLCBzb3VyY2UpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgcmVzdWx0ID0gc291cmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdmFsdWUgPSByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5kb21gIHdpdGhvdXQgYXJndW1lbnQganVnZ2xpbmcgb3Igc3VwcG9ydFxuICAgICAqIGZvciByZXR1cm5pbmcgZmxvYXRpbmctcG9pbnQgbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbiBUaGUgbWluaW11bSBwb3NzaWJsZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4IFRoZSBtYXhpbXVtIHBvc3NpYmxlIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYSByYW5kb20gbnVtYmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSYW5kb20obWluLCBtYXgpIHtcbiAgICAgIHJldHVybiBtaW4gKyBmbG9vcihuYXRpdmVSYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5pcWAgd2l0aG91dCBzdXBwb3J0IGZvciBjYWxsYmFjayBzaG9ydGhhbmRzXG4gICAgICogb3IgYHRoaXNBcmdgIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU29ydGVkPWZhbHNlXSBBIGZsYWcgdG8gaW5kaWNhdGUgdGhhdCBgYXJyYXlgIGlzIHNvcnRlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBkdXBsaWNhdGUtdmFsdWUtZnJlZSBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVW5pcShhcnJheSwgaXNTb3J0ZWQsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmRleE9mID0gZ2V0SW5kZXhPZigpLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgdmFyIGlzTGFyZ2UgPSAhaXNTb3J0ZWQgJiYgbGVuZ3RoID49IGxhcmdlQXJyYXlTaXplICYmIGluZGV4T2YgPT09IGJhc2VJbmRleE9mLFxuICAgICAgICAgIHNlZW4gPSAoY2FsbGJhY2sgfHwgaXNMYXJnZSkgPyBnZXRBcnJheSgpIDogcmVzdWx0O1xuXG4gICAgICBpZiAoaXNMYXJnZSkge1xuICAgICAgICB2YXIgY2FjaGUgPSBjcmVhdGVDYWNoZShzZWVuKTtcbiAgICAgICAgaW5kZXhPZiA9IGNhY2hlSW5kZXhPZjtcbiAgICAgICAgc2VlbiA9IGNhY2hlO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBjYWxsYmFjayA/IGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgYXJyYXkpIDogdmFsdWU7XG5cbiAgICAgICAgaWYgKGlzU29ydGVkXG4gICAgICAgICAgICAgID8gIWluZGV4IHx8IHNlZW5bc2Vlbi5sZW5ndGggLSAxXSAhPT0gY29tcHV0ZWRcbiAgICAgICAgICAgICAgOiBpbmRleE9mKHNlZW4sIGNvbXB1dGVkKSA8IDBcbiAgICAgICAgICAgICkge1xuICAgICAgICAgIGlmIChjYWxsYmFjayB8fCBpc0xhcmdlKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpc0xhcmdlKSB7XG4gICAgICAgIHJlbGVhc2VBcnJheShzZWVuLmFycmF5KTtcbiAgICAgICAgcmVsZWFzZU9iamVjdChzZWVuKTtcbiAgICAgIH0gZWxzZSBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgcmVsZWFzZUFycmF5KHNlZW4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBhZ2dyZWdhdGVzIGEgY29sbGVjdGlvbiwgY3JlYXRpbmcgYW4gb2JqZWN0IGNvbXBvc2VkXG4gICAgICogb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nIGVhY2ggZWxlbWVudCBvZiB0aGUgY29sbGVjdGlvblxuICAgICAqIHRocm91Z2ggYSBjYWxsYmFjay4gVGhlIGdpdmVuIGBzZXR0ZXJgIGZ1bmN0aW9uIHNldHMgdGhlIGtleXMgYW5kIHZhbHVlc1xuICAgICAqIG9mIHRoZSBjb21wb3NlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgc2V0dGVyIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFnZ3JlZ2F0b3IgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQWdncmVnYXRvcihzZXR0ZXIpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcblxuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDA7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicpIHtcbiAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gY29sbGVjdGlvbltpbmRleF07XG4gICAgICAgICAgICBzZXR0ZXIocmVzdWx0LCB2YWx1ZSwgY2FsbGJhY2sodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSwgY29sbGVjdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvck93bihjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICBzZXR0ZXIocmVzdWx0LCB2YWx1ZSwgY2FsbGJhY2sodmFsdWUsIGtleSwgY29sbGVjdGlvbiksIGNvbGxlY3Rpb24pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCwgZWl0aGVyIGN1cnJpZXMgb3IgaW52b2tlcyBgZnVuY2BcbiAgICAgKiB3aXRoIGFuIG9wdGlvbmFsIGB0aGlzYCBiaW5kaW5nIGFuZCBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBmdW5jIFRoZSBmdW5jdGlvbiBvciBtZXRob2QgbmFtZSB0byByZWZlcmVuY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgb2YgbWV0aG9kIGZsYWdzIHRvIGNvbXBvc2UuXG4gICAgICogIFRoZSBiaXRtYXNrIG1heSBiZSBjb21wb3NlZCBvZiB0aGUgZm9sbG93aW5nIGZsYWdzOlxuICAgICAqICAxIC0gYF8uYmluZGBcbiAgICAgKiAgMiAtIGBfLmJpbmRLZXlgXG4gICAgICogIDQgLSBgXy5jdXJyeWBcbiAgICAgKiAgOCAtIGBfLmN1cnJ5YCAoYm91bmQpXG4gICAgICogIDE2IC0gYF8ucGFydGlhbGBcbiAgICAgKiAgMzIgLSBgXy5wYXJ0aWFsUmlnaHRgXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxBcmdzXSBBbiBhcnJheSBvZiBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZVxuICAgICAqICBwcm92aWRlZCB0byB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsUmlnaHRBcmdzXSBBbiBhcnJheSBvZiBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlXG4gICAgICogIHByb3ZpZGVkIHRvIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVdyYXBwZXIoZnVuYywgYml0bWFzaywgcGFydGlhbEFyZ3MsIHBhcnRpYWxSaWdodEFyZ3MsIHRoaXNBcmcsIGFyaXR5KSB7XG4gICAgICB2YXIgaXNCaW5kID0gYml0bWFzayAmIDEsXG4gICAgICAgICAgaXNCaW5kS2V5ID0gYml0bWFzayAmIDIsXG4gICAgICAgICAgaXNDdXJyeSA9IGJpdG1hc2sgJiA0LFxuICAgICAgICAgIGlzQ3VycnlCb3VuZCA9IGJpdG1hc2sgJiA4LFxuICAgICAgICAgIGlzUGFydGlhbCA9IGJpdG1hc2sgJiAxNixcbiAgICAgICAgICBpc1BhcnRpYWxSaWdodCA9IGJpdG1hc2sgJiAzMjtcblxuICAgICAgaWYgKCFpc0JpbmRLZXkgJiYgIWlzRnVuY3Rpb24oZnVuYykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcjtcbiAgICAgIH1cbiAgICAgIGlmIChpc1BhcnRpYWwgJiYgIXBhcnRpYWxBcmdzLmxlbmd0aCkge1xuICAgICAgICBiaXRtYXNrICY9IH4xNjtcbiAgICAgICAgaXNQYXJ0aWFsID0gcGFydGlhbEFyZ3MgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1BhcnRpYWxSaWdodCAmJiAhcGFydGlhbFJpZ2h0QXJncy5sZW5ndGgpIHtcbiAgICAgICAgYml0bWFzayAmPSB+MzI7XG4gICAgICAgIGlzUGFydGlhbFJpZ2h0ID0gcGFydGlhbFJpZ2h0QXJncyA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGJpbmREYXRhID0gZnVuYyAmJiBmdW5jLl9fYmluZERhdGFfXztcbiAgICAgIGlmIChiaW5kRGF0YSAmJiBiaW5kRGF0YSAhPT0gdHJ1ZSkge1xuICAgICAgICAvLyBjbG9uZSBgYmluZERhdGFgXG4gICAgICAgIGJpbmREYXRhID0gc2xpY2UoYmluZERhdGEpO1xuICAgICAgICBpZiAoYmluZERhdGFbMl0pIHtcbiAgICAgICAgICBiaW5kRGF0YVsyXSA9IHNsaWNlKGJpbmREYXRhWzJdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmluZERhdGFbM10pIHtcbiAgICAgICAgICBiaW5kRGF0YVszXSA9IHNsaWNlKGJpbmREYXRhWzNdKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgYHRoaXNCaW5kaW5nYCBpcyBub3QgcHJldmlvdXNseSBib3VuZFxuICAgICAgICBpZiAoaXNCaW5kICYmICEoYmluZERhdGFbMV0gJiAxKSkge1xuICAgICAgICAgIGJpbmREYXRhWzRdID0gdGhpc0FyZztcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgaWYgcHJldmlvdXNseSBib3VuZCBidXQgbm90IGN1cnJlbnRseSAoc3Vic2VxdWVudCBjdXJyaWVkIGZ1bmN0aW9ucylcbiAgICAgICAgaWYgKCFpc0JpbmQgJiYgYmluZERhdGFbMV0gJiAxKSB7XG4gICAgICAgICAgYml0bWFzayB8PSA4O1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCBjdXJyaWVkIGFyaXR5IGlmIG5vdCB5ZXQgc2V0XG4gICAgICAgIGlmIChpc0N1cnJ5ICYmICEoYmluZERhdGFbMV0gJiA0KSkge1xuICAgICAgICAgIGJpbmREYXRhWzVdID0gYXJpdHk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXBwZW5kIHBhcnRpYWwgbGVmdCBhcmd1bWVudHNcbiAgICAgICAgaWYgKGlzUGFydGlhbCkge1xuICAgICAgICAgIHB1c2guYXBwbHkoYmluZERhdGFbMl0gfHwgKGJpbmREYXRhWzJdID0gW10pLCBwYXJ0aWFsQXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXBwZW5kIHBhcnRpYWwgcmlnaHQgYXJndW1lbnRzXG4gICAgICAgIGlmIChpc1BhcnRpYWxSaWdodCkge1xuICAgICAgICAgIHVuc2hpZnQuYXBwbHkoYmluZERhdGFbM10gfHwgKGJpbmREYXRhWzNdID0gW10pLCBwYXJ0aWFsUmlnaHRBcmdzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtZXJnZSBmbGFnc1xuICAgICAgICBiaW5kRGF0YVsxXSB8PSBiaXRtYXNrO1xuICAgICAgICByZXR1cm4gY3JlYXRlV3JhcHBlci5hcHBseShudWxsLCBiaW5kRGF0YSk7XG4gICAgICB9XG4gICAgICAvLyBmYXN0IHBhdGggZm9yIGBfLmJpbmRgXG4gICAgICB2YXIgY3JlYXRlciA9IChiaXRtYXNrID09IDEgfHwgYml0bWFzayA9PT0gMTcpID8gYmFzZUJpbmQgOiBiYXNlQ3JlYXRlV3JhcHBlcjtcbiAgICAgIHJldHVybiBjcmVhdGVyKFtmdW5jLCBiaXRtYXNrLCBwYXJ0aWFsQXJncywgcGFydGlhbFJpZ2h0QXJncywgdGhpc0FyZywgYXJpdHldKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBlc2NhcGVgIHRvIGNvbnZlcnQgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWF0Y2ggVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGVIdG1sQ2hhcihtYXRjaCkge1xuICAgICAgcmV0dXJuIGh0bWxFc2NhcGVzW21hdGNoXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhcHByb3ByaWF0ZSBcImluZGV4T2ZcIiBmdW5jdGlvbi4gSWYgdGhlIGBfLmluZGV4T2ZgIG1ldGhvZCBpc1xuICAgICAqIGN1c3RvbWl6ZWQsIHRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGN1c3RvbSBtZXRob2QsIG90aGVyd2lzZSBpdCByZXR1cm5zXG4gICAgICogdGhlIGBiYXNlSW5kZXhPZmAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgXCJpbmRleE9mXCIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SW5kZXhPZigpIHtcbiAgICAgIHZhciByZXN1bHQgPSAocmVzdWx0ID0gbG9kYXNoLmluZGV4T2YpID09PSBpbmRleE9mID8gYmFzZUluZGV4T2YgOiByZXN1bHQ7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05hdGl2ZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nICYmIHJlTmF0aXZlLnRlc3QodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgYHRoaXNgIGJpbmRpbmcgZGF0YSBvbiBhIGdpdmVuIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBzZXQgZGF0YSBvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZSBUaGUgZGF0YSBhcnJheSB0byBzZXQuXG4gICAgICovXG4gICAgdmFyIHNldEJpbmREYXRhID0gIWRlZmluZVByb3BlcnR5ID8gbm9vcCA6IGZ1bmN0aW9uKGZ1bmMsIHZhbHVlKSB7XG4gICAgICBkZXNjcmlwdG9yLnZhbHVlID0gdmFsdWU7XG4gICAgICBkZWZpbmVQcm9wZXJ0eShmdW5jLCAnX19iaW5kRGF0YV9fJywgZGVzY3JpcHRvcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgZmFsbGJhY2sgaW1wbGVtZW50YXRpb24gb2YgYGlzUGxhaW5PYmplY3RgIHdoaWNoIGNoZWNrcyBpZiBhIGdpdmVuIHZhbHVlXG4gICAgICogaXMgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLCBhc3N1bWluZyBvYmplY3RzIGNyZWF0ZWRcbiAgICAgKiBieSB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IgaGF2ZSBubyBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0aWVzIGFuZCB0aGF0XG4gICAgICogdGhlcmUgYXJlIG5vIGBPYmplY3QucHJvdG90eXBlYCBleHRlbnNpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNoaW1Jc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgICB2YXIgY3RvcixcbiAgICAgICAgICByZXN1bHQ7XG5cbiAgICAgIC8vIGF2b2lkIG5vbiBPYmplY3Qgb2JqZWN0cywgYGFyZ3VtZW50c2Agb2JqZWN0cywgYW5kIERPTSBlbGVtZW50c1xuICAgICAgaWYgKCEodmFsdWUgJiYgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gb2JqZWN0Q2xhc3MpIHx8XG4gICAgICAgICAgKGN0b3IgPSB2YWx1ZS5jb25zdHJ1Y3RvciwgaXNGdW5jdGlvbihjdG9yKSAmJiAhKGN0b3IgaW5zdGFuY2VvZiBjdG9yKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gSW4gbW9zdCBlbnZpcm9ubWVudHMgYW4gb2JqZWN0J3Mgb3duIHByb3BlcnRpZXMgYXJlIGl0ZXJhdGVkIGJlZm9yZVxuICAgICAgLy8gaXRzIGluaGVyaXRlZCBwcm9wZXJ0aWVzLiBJZiB0aGUgbGFzdCBpdGVyYXRlZCBwcm9wZXJ0eSBpcyBhbiBvYmplY3Qnc1xuICAgICAgLy8gb3duIHByb3BlcnR5IHRoZW4gdGhlcmUgYXJlIG5vIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gICAgICBmb3JJbih2YWx1ZSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICByZXN1bHQgPSBrZXk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0eXBlb2YgcmVzdWx0ID09ICd1bmRlZmluZWQnIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHJlc3VsdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgdW5lc2NhcGVgIHRvIGNvbnZlcnQgSFRNTCBlbnRpdGllcyB0byBjaGFyYWN0ZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWF0Y2ggVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIHVuZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5lc2NhcGVIdG1sQ2hhcihtYXRjaCkge1xuICAgICAgcmV0dXJuIGh0bWxVbmVzY2FwZXNbbWF0Y2hdO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIChmdW5jdGlvbigpIHsgcmV0dXJuIF8uaXNBcmd1bWVudHMoYXJndW1lbnRzKTsgfSkoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBcmd1bWVudHModmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlLmxlbmd0aCA9PSAnbnVtYmVyJyAmJlxuICAgICAgICB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PSBhcmdzQ2xhc3MgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSBGdW5jdGlvblxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIChmdW5jdGlvbigpIHsgcmV0dXJuIF8uaXNBcnJheShhcmd1bWVudHMpOyB9KSgpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgdmFyIGlzQXJyYXkgPSBuYXRpdmVJc0FycmF5IHx8IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZS5sZW5ndGggPT0gJ251bWJlcicgJiZcbiAgICAgICAgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gYXJyYXlDbGFzcyB8fCBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBmYWxsYmFjayBpbXBsZW1lbnRhdGlvbiBvZiBgT2JqZWN0LmtleXNgIHdoaWNoIHByb2R1Y2VzIGFuIGFycmF5IG9mIHRoZVxuICAgICAqIGdpdmVuIG9iamVjdCdzIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhbiBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICB2YXIgc2hpbUtleXMgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciBpbmRleCwgaXRlcmFibGUgPSBvYmplY3QsIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKCFpdGVyYWJsZSkgcmV0dXJuIHJlc3VsdDtcbiAgICAgIGlmICghKG9iamVjdFR5cGVzW3R5cGVvZiBvYmplY3RdKSkgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgZm9yIChpbmRleCBpbiBpdGVyYWJsZSkge1xuICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0ZXJhYmxlLCBpbmRleCkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGluZGV4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBjb21wb3NlZCBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ua2V5cyh7ICdvbmUnOiAxLCAndHdvJzogMiwgJ3RocmVlJzogMyB9KTtcbiAgICAgKiAvLyA9PiBbJ29uZScsICd0d28nLCAndGhyZWUnXSAocHJvcGVydHkgb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQgYWNyb3NzIGVudmlyb25tZW50cylcbiAgICAgKi9cbiAgICB2YXIga2V5cyA9ICFuYXRpdmVLZXlzID8gc2hpbUtleXMgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGNvbnZlcnQgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzOlxuICAgICAqXG4gICAgICogVGhvdWdoIHRoZSBgPmAgY2hhcmFjdGVyIGlzIGVzY2FwZWQgZm9yIHN5bW1ldHJ5LCBjaGFyYWN0ZXJzIGxpa2UgYD5gIGFuZCBgL2BcbiAgICAgKiBkb24ndCByZXF1aXJlIGVzY2FwaW5nIGluIEhUTUwgYW5kIGhhdmUgbm8gc3BlY2lhbCBtZWFuaW5nIHVubGVzcyB0aGV5J3JlIHBhcnRcbiAgICAgKiBvZiBhIHRhZyBvciBhbiB1bnF1b3RlZCBhdHRyaWJ1dGUgdmFsdWUuXG4gICAgICogaHR0cDovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvYW1iaWd1b3VzLWFtcGVyc2FuZHMgKHVuZGVyIFwic2VtaS1yZWxhdGVkIGZ1biBmYWN0XCIpXG4gICAgICovXG4gICAgdmFyIGh0bWxFc2NhcGVzID0ge1xuICAgICAgJyYnOiAnJmFtcDsnLFxuICAgICAgJzwnOiAnJmx0OycsXG4gICAgICAnPic6ICcmZ3Q7JyxcbiAgICAgICdcIic6ICcmcXVvdDsnLFxuICAgICAgXCInXCI6ICcmIzM5OydcbiAgICB9O1xuXG4gICAgLyoqIFVzZWQgdG8gY29udmVydCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMgKi9cbiAgICB2YXIgaHRtbFVuZXNjYXBlcyA9IGludmVydChodG1sRXNjYXBlcyk7XG5cbiAgICAvKiogVXNlZCB0byBtYXRjaCBIVE1MIGVudGl0aWVzIGFuZCBIVE1MIGNoYXJhY3RlcnMgKi9cbiAgICB2YXIgcmVFc2NhcGVkSHRtbCA9IFJlZ0V4cCgnKCcgKyBrZXlzKGh0bWxVbmVzY2FwZXMpLmpvaW4oJ3wnKSArICcpJywgJ2cnKSxcbiAgICAgICAgcmVVbmVzY2FwZWRIdG1sID0gUmVnRXhwKCdbJyArIGtleXMoaHRtbEVzY2FwZXMpLmpvaW4oJycpICsgJ10nLCAnZycpO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdChzKSB0byB0aGUgZGVzdGluYXRpb25cbiAgICAgKiBvYmplY3QuIFN1YnNlcXVlbnQgc291cmNlcyB3aWxsIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91c1xuICAgICAqIHNvdXJjZXMuIElmIGEgY2FsbGJhY2sgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSBleGVjdXRlZCB0byBwcm9kdWNlIHRoZVxuICAgICAqIGFzc2lnbmVkIHZhbHVlcy4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHR3b1xuICAgICAqIGFyZ3VtZW50czsgKG9iamVjdFZhbHVlLCBzb3VyY2VWYWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSBGdW5jdGlvblxuICAgICAqIEBhbGlhcyBleHRlbmRcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZV0gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25pbmcgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnbmFtZSc6ICdmcmVkJyB9LCB7ICdlbXBsb3llcic6ICdzbGF0ZScgfSk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdmcmVkJywgJ2VtcGxveWVyJzogJ3NsYXRlJyB9XG4gICAgICpcbiAgICAgKiB2YXIgZGVmYXVsdHMgPSBfLnBhcnRpYWxSaWdodChfLmFzc2lnbiwgZnVuY3Rpb24oYSwgYikge1xuICAgICAqICAgcmV0dXJuIHR5cGVvZiBhID09ICd1bmRlZmluZWQnID8gYiA6IGE7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnbmFtZSc6ICdiYXJuZXknIH07XG4gICAgICogZGVmYXVsdHMob2JqZWN0LCB7ICduYW1lJzogJ2ZyZWQnLCAnZW1wbG95ZXInOiAnc2xhdGUnIH0pO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAnYmFybmV5JywgJ2VtcGxveWVyJzogJ3NsYXRlJyB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbiA9IGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBndWFyZCkge1xuICAgICAgdmFyIGluZGV4LCBpdGVyYWJsZSA9IG9iamVjdCwgcmVzdWx0ID0gaXRlcmFibGU7XG4gICAgICBpZiAoIWl0ZXJhYmxlKSByZXR1cm4gcmVzdWx0O1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgYXJnc0luZGV4ID0gMCxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gdHlwZW9mIGd1YXJkID09ICdudW1iZXInID8gMiA6IGFyZ3MubGVuZ3RoO1xuICAgICAgaWYgKGFyZ3NMZW5ndGggPiAzICYmIHR5cGVvZiBhcmdzW2FyZ3NMZW5ndGggLSAyXSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGJhc2VDcmVhdGVDYWxsYmFjayhhcmdzWy0tYXJnc0xlbmd0aCAtIDFdLCBhcmdzW2FyZ3NMZW5ndGgtLV0sIDIpO1xuICAgICAgfSBlbHNlIGlmIChhcmdzTGVuZ3RoID4gMiAmJiB0eXBlb2YgYXJnc1thcmdzTGVuZ3RoIC0gMV0gPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYWxsYmFjayA9IGFyZ3NbLS1hcmdzTGVuZ3RoXTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgaXRlcmFibGUgPSBhcmdzW2FyZ3NJbmRleF07XG4gICAgICAgIGlmIChpdGVyYWJsZSAmJiBvYmplY3RUeXBlc1t0eXBlb2YgaXRlcmFibGVdKSB7XG4gICAgICAgIHZhciBvd25JbmRleCA9IC0xLFxuICAgICAgICAgICAgb3duUHJvcHMgPSBvYmplY3RUeXBlc1t0eXBlb2YgaXRlcmFibGVdICYmIGtleXMoaXRlcmFibGUpLFxuICAgICAgICAgICAgbGVuZ3RoID0gb3duUHJvcHMgPyBvd25Qcm9wcy5sZW5ndGggOiAwO1xuXG4gICAgICAgIHdoaWxlICgrK293bkluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgaW5kZXggPSBvd25Qcm9wc1tvd25JbmRleF07XG4gICAgICAgICAgcmVzdWx0W2luZGV4XSA9IGNhbGxiYWNrID8gY2FsbGJhY2socmVzdWx0W2luZGV4XSwgaXRlcmFibGVbaW5kZXhdKSA6IGl0ZXJhYmxlW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgdmFsdWVgLiBJZiBgaXNEZWVwYCBpcyBgdHJ1ZWAgbmVzdGVkIG9iamVjdHMgd2lsbCBhbHNvXG4gICAgICogYmUgY2xvbmVkLCBvdGhlcndpc2UgdGhleSB3aWxsIGJlIGFzc2lnbmVkIGJ5IHJlZmVyZW5jZS4gSWYgYSBjYWxsYmFja1xuICAgICAqIGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgZXhlY3V0ZWQgdG8gcHJvZHVjZSB0aGUgY2xvbmVkIHZhbHVlcy4gSWYgdGhlXG4gICAgICogY2FsbGJhY2sgcmV0dXJucyBgdW5kZWZpbmVkYCBjbG9uaW5nIHdpbGwgYmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuXG4gICAgICogVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwPWZhbHNlXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZyB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiB2YXIgc2hhbGxvdyA9IF8uY2xvbmUoY2hhcmFjdGVycyk7XG4gICAgICogc2hhbGxvd1swXSA9PT0gY2hhcmFjdGVyc1swXTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiB2YXIgZGVlcCA9IF8uY2xvbmUoY2hhcmFjdGVycywgdHJ1ZSk7XG4gICAgICogZGVlcFswXSA9PT0gY2hhcmFjdGVyc1swXTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5taXhpbih7XG4gICAgICogICAnY2xvbmUnOiBfLnBhcnRpYWxSaWdodChfLmNsb25lLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgICByZXR1cm4gXy5pc0VsZW1lbnQodmFsdWUpID8gdmFsdWUuY2xvbmVOb2RlKGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICAgKiAgIH0pXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiB2YXIgY2xvbmUgPSBfLmNsb25lKGRvY3VtZW50LmJvZHkpO1xuICAgICAqIGNsb25lLmNoaWxkTm9kZXMubGVuZ3RoO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZSh2YWx1ZSwgaXNEZWVwLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgLy8gYWxsb3dzIHdvcmtpbmcgd2l0aCBcIkNvbGxlY3Rpb25zXCIgbWV0aG9kcyB3aXRob3V0IHVzaW5nIHRoZWlyIGBpbmRleGBcbiAgICAgIC8vIGFuZCBgY29sbGVjdGlvbmAgYXJndW1lbnRzIGZvciBgaXNEZWVwYCBhbmQgYGNhbGxiYWNrYFxuICAgICAgaWYgKHR5cGVvZiBpc0RlZXAgIT0gJ2Jvb2xlYW4nICYmIGlzRGVlcCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXNBcmcgPSBjYWxsYmFjaztcbiAgICAgICAgY2FsbGJhY2sgPSBpc0RlZXA7XG4gICAgICAgIGlzRGVlcCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgaXNEZWVwLCB0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJyAmJiBiYXNlQ3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZGVlcCBjbG9uZSBvZiBgdmFsdWVgLiBJZiBhIGNhbGxiYWNrIGlzIHByb3ZpZGVkIGl0IHdpbGwgYmVcbiAgICAgKiBleGVjdXRlZCB0byBwcm9kdWNlIHRoZSBjbG9uZWQgdmFsdWVzLiBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBgdW5kZWZpbmVkYFxuICAgICAqIGNsb25pbmcgd2lsbCBiZSBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvXG4gICAgICogYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLlxuICAgICAqXG4gICAgICogTm90ZTogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvbiB0aGUgc3RydWN0dXJlZCBjbG9uZSBhbGdvcml0aG0uIEZ1bmN0aW9uc1xuICAgICAqIGFuZCBET00gbm9kZXMgYXJlICoqbm90KiogY2xvbmVkLiBUaGUgZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGBhcmd1bWVudHNgIG9iamVjdHMgYW5kXG4gICAgICogb2JqZWN0cyBjcmVhdGVkIGJ5IGNvbnN0cnVjdG9ycyBvdGhlciB0aGFuIGBPYmplY3RgIGFyZSBjbG9uZWQgdG8gcGxhaW4gYE9iamVjdGAgb2JqZWN0cy5cbiAgICAgKiBTZWUgaHR0cDovL3d3dy53My5vcmcvVFIvaHRtbDUvaW5mcmFzdHJ1Y3R1cmUuaHRtbCNpbnRlcm5hbC1zdHJ1Y3R1cmVkLWNsb25pbmctYWxnb3JpdGhtLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBkZWVwIGNsb25lLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZGVlcCBjbG9uZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogdmFyIGRlZXAgPSBfLmNsb25lRGVlcChjaGFyYWN0ZXJzKTtcbiAgICAgKiBkZWVwWzBdID09PSBjaGFyYWN0ZXJzWzBdO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiB2YXIgdmlldyA9IHtcbiAgICAgKiAgICdsYWJlbCc6ICdkb2NzJyxcbiAgICAgKiAgICdub2RlJzogZWxlbWVudFxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgY2xvbmUgPSBfLmNsb25lRGVlcCh2aWV3LCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuIF8uaXNFbGVtZW50KHZhbHVlKSA/IHZhbHVlLmNsb25lTm9kZSh0cnVlKSA6IHVuZGVmaW5lZDtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGNsb25lLm5vZGUgPT0gdmlldy5ub2RlO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEZWVwKHZhbHVlLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgdHJ1ZSwgdHlwZW9mIGNhbGxiYWNrID09ICdmdW5jdGlvbicgJiYgYmFzZUNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIHRoZSBnaXZlbiBgcHJvdG90eXBlYCBvYmplY3QuIElmIGFcbiAgICAgKiBgcHJvcGVydGllc2Agb2JqZWN0IGlzIHByb3ZpZGVkIGl0cyBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIGFyZSBhc3NpZ25lZFxuICAgICAqIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvdHlwZSBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXNdIFRoZSBwcm9wZXJ0aWVzIHRvIGFzc2lnbiB0byB0aGUgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIFNoYXBlKCkge1xuICAgICAqICAgdGhpcy54ID0gMDtcbiAgICAgKiAgIHRoaXMueSA9IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQ2lyY2xlKCkge1xuICAgICAqICAgU2hhcGUuY2FsbCh0aGlzKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBDaXJjbGUucHJvdG90eXBlID0gXy5jcmVhdGUoU2hhcGUucHJvdG90eXBlLCB7ICdjb25zdHJ1Y3Rvcic6IENpcmNsZSB9KTtcbiAgICAgKlxuICAgICAqIHZhciBjaXJjbGUgPSBuZXcgQ2lyY2xlO1xuICAgICAqIGNpcmNsZSBpbnN0YW5jZW9mIENpcmNsZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBTaGFwZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHByb3RvdHlwZSwgcHJvcGVydGllcykge1xuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VDcmVhdGUocHJvdG90eXBlKTtcbiAgICAgIHJldHVybiBwcm9wZXJ0aWVzID8gYXNzaWduKHJlc3VsdCwgcHJvcGVydGllcykgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3QocykgdG8gdGhlIGRlc3RpbmF0aW9uXG4gICAgICogb2JqZWN0IGZvciBhbGwgZGVzdGluYXRpb24gcHJvcGVydGllcyB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAuIE9uY2UgYVxuICAgICAqIHByb3BlcnR5IGlzIHNldCwgYWRkaXRpb25hbCBkZWZhdWx0cyBvZiB0aGUgc2FtZSBwcm9wZXJ0eSB3aWxsIGJlIGlnbm9yZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSBGdW5jdGlvblxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEFsbG93cyB3b3JraW5nIHdpdGggYF8ucmVkdWNlYCB3aXRob3V0IHVzaW5nIGl0c1xuICAgICAqICBga2V5YCBhbmQgYG9iamVjdGAgYXJndW1lbnRzIGFzIHNvdXJjZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnbmFtZSc6ICdiYXJuZXknIH07XG4gICAgICogXy5kZWZhdWx0cyhvYmplY3QsIHsgJ25hbWUnOiAnZnJlZCcsICdlbXBsb3llcic6ICdzbGF0ZScgfSk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdiYXJuZXknLCAnZW1wbG95ZXInOiAnc2xhdGUnIH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHMgPSBmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgZ3VhcmQpIHtcbiAgICAgIHZhciBpbmRleCwgaXRlcmFibGUgPSBvYmplY3QsIHJlc3VsdCA9IGl0ZXJhYmxlO1xuICAgICAgaWYgKCFpdGVyYWJsZSkgcmV0dXJuIHJlc3VsdDtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgIGFyZ3NJbmRleCA9IDAsXG4gICAgICAgICAgYXJnc0xlbmd0aCA9IHR5cGVvZiBndWFyZCA9PSAnbnVtYmVyJyA/IDIgOiBhcmdzLmxlbmd0aDtcbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgaXRlcmFibGUgPSBhcmdzW2FyZ3NJbmRleF07XG4gICAgICAgIGlmIChpdGVyYWJsZSAmJiBvYmplY3RUeXBlc1t0eXBlb2YgaXRlcmFibGVdKSB7XG4gICAgICAgIHZhciBvd25JbmRleCA9IC0xLFxuICAgICAgICAgICAgb3duUHJvcHMgPSBvYmplY3RUeXBlc1t0eXBlb2YgaXRlcmFibGVdICYmIGtleXMoaXRlcmFibGUpLFxuICAgICAgICAgICAgbGVuZ3RoID0gb3duUHJvcHMgPyBvd25Qcm9wcy5sZW5ndGggOiAwO1xuXG4gICAgICAgIHdoaWxlICgrK293bkluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgaW5kZXggPSBvd25Qcm9wc1tvd25JbmRleF07XG4gICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHRbaW5kZXhdID09ICd1bmRlZmluZWQnKSByZXN1bHRbaW5kZXhdID0gaXRlcmFibGVbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGtleSBvZiB0aGVcbiAgICAgKiBmaXJzdCBlbGVtZW50IHRoYXQgcGFzc2VzIHRoZSBjYWxsYmFjayBjaGVjaywgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHNlYXJjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXJcbiAgICAgKiAgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZCB0b1xuICAgICAqICBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBrZXkgb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0ge1xuICAgICAqICAgJ2Jhcm5leSc6IHsgICdhZ2UnOiAzNiwgJ2Jsb2NrZWQnOiBmYWxzZSB9LFxuICAgICAqICAgJ2ZyZWQnOiB7ICAgICdhZ2UnOiA0MCwgJ2Jsb2NrZWQnOiB0cnVlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYmxvY2tlZCc6IGZhbHNlIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5maW5kS2V5KGNoYXJhY3RlcnMsIGZ1bmN0aW9uKGNocikge1xuICAgICAqICAgcmV0dXJuIGNoci5hZ2UgPCA0MDtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnYmFybmV5JyAocHJvcGVydHkgb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQgYWNyb3NzIGVudmlyb25tZW50cylcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZmluZEtleShjaGFyYWN0ZXJzLCB7ICdhZ2UnOiAxIH0pO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maW5kS2V5KGNoYXJhY3RlcnMsICdibG9ja2VkJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEtleShvYmplY3QsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgZm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIGlmIChjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0ID0ga2V5O1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZEtleWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgICAqIG9mIGEgYGNvbGxlY3Rpb25gIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gc2VhcmNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlclxuICAgICAqICBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkIHRvXG4gICAgICogIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogeyAgJ2FnZSc6IDM2LCAnYmxvY2tlZCc6IHRydWUgfSxcbiAgICAgKiAgICdmcmVkJzogeyAgICAnYWdlJzogNDAsICdibG9ja2VkJzogZmFsc2UgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAnYWdlJzogMSwgICdibG9ja2VkJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RLZXkoY2hhcmFjdGVycywgZnVuY3Rpb24oY2hyKSB7XG4gICAgICogICByZXR1cm4gY2hyLmFnZSA8IDQwO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHJldHVybnMgYHBlYmJsZXNgLCBhc3N1bWluZyBgXy5maW5kS2V5YCByZXR1cm5zIGBiYXJuZXlgXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ud2hlcmVcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmZpbmRMYXN0S2V5KGNoYXJhY3RlcnMsIHsgJ2FnZSc6IDQwIH0pO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maW5kTGFzdEtleShjaGFyYWN0ZXJzLCAnYmxvY2tlZCcpO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0S2V5KG9iamVjdCwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICBmb3JPd25SaWdodChvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBpZiAoY2FsbGJhY2sodmFsdWUsIGtleSwgb2JqZWN0KSkge1xuICAgICAgICAgIHJlc3VsdCA9IGtleTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBhbiBvYmplY3QsXG4gICAgICogZXhlY3V0aW5nIHRoZSBjYWxsYmFjayBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYFxuICAgICAqIGFuZCBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOyAodmFsdWUsIGtleSwgb2JqZWN0KS4gQ2FsbGJhY2tzIG1heSBleGl0XG4gICAgICogaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSBGdW5jdGlvblxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBTaGFwZSgpIHtcbiAgICAgKiAgIHRoaXMueCA9IDA7XG4gICAgICogICB0aGlzLnkgPSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIFNoYXBlLnByb3RvdHlwZS5tb3ZlID0gZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgdGhpcy54ICs9IHg7XG4gICAgICogICB0aGlzLnkgKz0geTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5mb3JJbihuZXcgU2hhcGUsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gbG9ncyAneCcsICd5JywgYW5kICdtb3ZlJyAocHJvcGVydHkgb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQgYWNyb3NzIGVudmlyb25tZW50cylcbiAgICAgKi9cbiAgICB2YXIgZm9ySW4gPSBmdW5jdGlvbihjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIGluZGV4LCBpdGVyYWJsZSA9IGNvbGxlY3Rpb24sIHJlc3VsdCA9IGl0ZXJhYmxlO1xuICAgICAgaWYgKCFpdGVyYWJsZSkgcmV0dXJuIHJlc3VsdDtcbiAgICAgIGlmICghb2JqZWN0VHlwZXNbdHlwZW9mIGl0ZXJhYmxlXSkgcmV0dXJuIHJlc3VsdDtcbiAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgJiYgdHlwZW9mIHRoaXNBcmcgPT0gJ3VuZGVmaW5lZCcgPyBjYWxsYmFjayA6IGJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICAgIGZvciAoaW5kZXggaW4gaXRlcmFibGUpIHtcbiAgICAgICAgICBpZiAoY2FsbGJhY2soaXRlcmFibGVbaW5kZXhdLCBpbmRleCwgY29sbGVjdGlvbikgPT09IGZhbHNlKSByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9ySW5gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHNcbiAgICAgKiBvZiBhIGBjb2xsZWN0aW9uYCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gU2hhcGUoKSB7XG4gICAgICogICB0aGlzLnggPSAwO1xuICAgICAqICAgdGhpcy55ID0gMDtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBTaGFwZS5wcm90b3R5cGUubW92ZSA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgKiAgIHRoaXMueCArPSB4O1xuICAgICAqICAgdGhpcy55ICs9IHk7XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZm9ySW5SaWdodChuZXcgU2hhcGUsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gbG9ncyAnbW92ZScsICd5JywgYW5kICd4JyBhc3N1bWluZyBgXy5mb3JJbiBgIGxvZ3MgJ3gnLCAneScsIGFuZCAnbW92ZSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JJblJpZ2h0KG9iamVjdCwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBwYWlycyA9IFtdO1xuXG4gICAgICBmb3JJbihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgcGFpcnMucHVzaChrZXksIHZhbHVlKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgbGVuZ3RoID0gcGFpcnMubGVuZ3RoO1xuICAgICAgY2FsbGJhY2sgPSBiYXNlQ3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGlmIChjYWxsYmFjayhwYWlyc1tsZW5ndGgtLV0sIHBhaXJzW2xlbmd0aF0sIG9iamVjdCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdCwgZXhlY3V0aW5nIHRoZSBjYWxsYmFja1xuICAgICAqIGZvciBlYWNoIHByb3BlcnR5LiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM7ICh2YWx1ZSwga2V5LCBvYmplY3QpLiBDYWxsYmFja3MgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5XG4gICAgICogZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIEZ1bmN0aW9uXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZm9yT3duKHsgJzAnOiAnemVybycsICcxJzogJ29uZScsICdsZW5ndGgnOiAyIH0sIGZ1bmN0aW9uKG51bSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IGxvZ3MgJzAnLCAnMScsIGFuZCAnbGVuZ3RoJyAocHJvcGVydHkgb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQgYWNyb3NzIGVudmlyb25tZW50cylcbiAgICAgKi9cbiAgICB2YXIgZm9yT3duID0gZnVuY3Rpb24oY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBpbmRleCwgaXRlcmFibGUgPSBjb2xsZWN0aW9uLCByZXN1bHQgPSBpdGVyYWJsZTtcbiAgICAgIGlmICghaXRlcmFibGUpIHJldHVybiByZXN1bHQ7XG4gICAgICBpZiAoIW9iamVjdFR5cGVzW3R5cGVvZiBpdGVyYWJsZV0pIHJldHVybiByZXN1bHQ7XG4gICAgICBjYWxsYmFjayA9IGNhbGxiYWNrICYmIHR5cGVvZiB0aGlzQXJnID09ICd1bmRlZmluZWQnID8gY2FsbGJhY2sgOiBiYXNlQ3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgICB2YXIgb3duSW5kZXggPSAtMSxcbiAgICAgICAgICAgIG93blByb3BzID0gb2JqZWN0VHlwZXNbdHlwZW9mIGl0ZXJhYmxlXSAmJiBrZXlzKGl0ZXJhYmxlKSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG93blByb3BzID8gb3duUHJvcHMubGVuZ3RoIDogMDtcblxuICAgICAgICB3aGlsZSAoKytvd25JbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGluZGV4ID0gb3duUHJvcHNbb3duSW5kZXhdO1xuICAgICAgICAgIGlmIChjYWxsYmFjayhpdGVyYWJsZVtpbmRleF0sIGluZGV4LCBjb2xsZWN0aW9uKSA9PT0gZmFsc2UpIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JPd25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHNcbiAgICAgKiBvZiBhIGBjb2xsZWN0aW9uYCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JPd25SaWdodCh7ICcwJzogJ3plcm8nLCAnMSc6ICdvbmUnLCAnbGVuZ3RoJzogMiB9LCBmdW5jdGlvbihudW0sIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBsb2dzICdsZW5ndGgnLCAnMScsIGFuZCAnMCcgYXNzdW1pbmcgYF8uZm9yT3duYCBsb2dzICcwJywgJzEnLCBhbmQgJ2xlbmd0aCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JPd25SaWdodChvYmplY3QsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgcHJvcHMgPSBrZXlzKG9iamVjdCksXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICBjYWxsYmFjayA9IGJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGtleSA9IHByb3BzW2xlbmd0aF07XG4gICAgICAgIGlmIChjYWxsYmFjayhvYmplY3Rba2V5XSwga2V5LCBvYmplY3QpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzb3J0ZWQgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgb2YgYWxsIGVudW1lcmFibGUgcHJvcGVydGllcyxcbiAgICAgKiBvd24gYW5kIGluaGVyaXRlZCwgb2YgYG9iamVjdGAgdGhhdCBoYXZlIGZ1bmN0aW9uIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyBtZXRob2RzXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgdGhhdCBoYXZlIGZ1bmN0aW9uIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mdW5jdGlvbnMoXyk7XG4gICAgICogLy8gPT4gWydhbGwnLCAnYW55JywgJ2JpbmQnLCAnYmluZEFsbCcsICdjbG9uZScsICdjb21wYWN0JywgJ2NvbXBvc2UnLCAuLi5dXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgZm9ySW4ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdC5zb3J0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBzcGVjaWZpZWQgcHJvcGVydHkgbmFtZSBleGlzdHMgYXMgYSBkaXJlY3QgcHJvcGVydHkgb2YgYG9iamVjdGAsXG4gICAgICogaW5zdGVhZCBvZiBhbiBpbmhlcml0ZWQgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBrZXkgaXMgYSBkaXJlY3QgcHJvcGVydHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5oYXMoeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sICdiJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhcyhvYmplY3QsIGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA/IGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpIDogZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGludmVydGVkIGtleXMgYW5kIHZhbHVlcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW52ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNyZWF0ZWQgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludmVydCh7ICdmaXJzdCc6ICdmcmVkJywgJ3NlY29uZCc6ICdiYXJuZXknIH0pO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiAnZmlyc3QnLCAnYmFybmV5JzogJ3NlY29uZCcgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGludmVydChvYmplY3QpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHByb3BzID0ga2V5cyhvYmplY3QpLFxuICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcbiAgICAgICAgcmVzdWx0W29iamVjdFtrZXldXSA9IGtleTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBib29sZWFuIHZhbHVlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYSBib29sZWFuIHZhbHVlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNCb29sZWFuKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNCb29sZWFuKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09IGZhbHNlIHx8XG4gICAgICAgIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PSBib29sQ2xhc3MgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBkYXRlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYSBkYXRlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNEYXRlKG5ldyBEYXRlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNEYXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnICYmIHRvU3RyaW5nLmNhbGwodmFsdWUpID09IGRhdGVDbGFzcyB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYSBET00gZWxlbWVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudChkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFbGVtZW50KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgJiYgdmFsdWUubm9kZVR5cGUgPT09IDEgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZW1wdHkuIEFycmF5cywgc3RyaW5ncywgb3IgYGFyZ3VtZW50c2Agb2JqZWN0cyB3aXRoIGFcbiAgICAgKiBsZW5ndGggb2YgYDBgIGFuZCBvYmplY3RzIHdpdGggbm8gb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBhcmUgY29uc2lkZXJlZFxuICAgICAqIFwiZW1wdHlcIi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgZW1wdHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh7fSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KCcnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFbXB0eSh2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICB2YXIgY2xhc3NOYW1lID0gdG9TdHJpbmcuY2FsbCh2YWx1ZSksXG4gICAgICAgICAgbGVuZ3RoID0gdmFsdWUubGVuZ3RoO1xuXG4gICAgICBpZiAoKGNsYXNzTmFtZSA9PSBhcnJheUNsYXNzIHx8IGNsYXNzTmFtZSA9PSBzdHJpbmdDbGFzcyB8fCBjbGFzc05hbWUgPT0gYXJnc0NsYXNzICkgfHxcbiAgICAgICAgICAoY2xhc3NOYW1lID09IG9iamVjdENsYXNzICYmIHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicgJiYgaXNGdW5jdGlvbih2YWx1ZS5zcGxpY2UpKSkge1xuICAgICAgICByZXR1cm4gIWxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGZvck93bih2YWx1ZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAocmVzdWx0ID0gZmFsc2UpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmVcbiAgICAgKiBlcXVpdmFsZW50IHRvIGVhY2ggb3RoZXIuIElmIGEgY2FsbGJhY2sgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSBleGVjdXRlZFxuICAgICAqIHRvIGNvbXBhcmUgdmFsdWVzLiBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBgdW5kZWZpbmVkYCBjb21wYXJpc29ucyB3aWxsXG4gICAgICogYmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kXG4gICAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM7IChhLCBiKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSBhIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gYiBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaW5nIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnbmFtZSc6ICdmcmVkJyB9O1xuICAgICAqIHZhciBjb3B5ID0geyAnbmFtZSc6ICdmcmVkJyB9O1xuICAgICAqXG4gICAgICogb2JqZWN0ID09IGNvcHk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbChvYmplY3QsIGNvcHkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIHZhciB3b3JkcyA9IFsnaGVsbG8nLCAnZ29vZGJ5ZSddO1xuICAgICAqIHZhciBvdGhlcldvcmRzID0gWydoaScsICdnb29kYnllJ107XG4gICAgICpcbiAgICAgKiBfLmlzRXF1YWwod29yZHMsIG90aGVyV29yZHMsIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgKiAgIHZhciByZUdyZWV0ID0gL14oPzpoZWxsb3xoaSkkL2ksXG4gICAgICogICAgICAgYUdyZWV0ID0gXy5pc1N0cmluZyhhKSAmJiByZUdyZWV0LnRlc3QoYSksXG4gICAgICogICAgICAgYkdyZWV0ID0gXy5pc1N0cmluZyhiKSAmJiByZUdyZWV0LnRlc3QoYik7XG4gICAgICpcbiAgICAgKiAgIHJldHVybiAoYUdyZWV0IHx8IGJHcmVldCkgPyAoYUdyZWV0ID09IGJHcmVldCkgOiB1bmRlZmluZWQ7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXF1YWwoYSwgYiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbChhLCBiLCB0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJyAmJiBiYXNlQ3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcywgb3IgY2FuIGJlIGNvZXJjZWQgdG8sIGEgZmluaXRlIG51bWJlci5cbiAgICAgKlxuICAgICAqIE5vdGU6IFRoaXMgaXMgbm90IHRoZSBzYW1lIGFzIG5hdGl2ZSBgaXNGaW5pdGVgIHdoaWNoIHdpbGwgcmV0dXJuIHRydWUgZm9yXG4gICAgICogYm9vbGVhbnMgYW5kIGVtcHR5IHN0cmluZ3MuIFNlZSBodHRwOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjEuMi41LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgZmluaXRlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoLTEwMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZSgnMTAnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKHRydWUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKCcnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZShJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Zpbml0ZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIG5hdGl2ZUlzRmluaXRlKHZhbHVlKSAmJiAhbmF0aXZlSXNOYU4ocGFyc2VGbG9hdCh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNGdW5jdGlvbihfKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZSBsYW5ndWFnZSB0eXBlIG9mIE9iamVjdC5cbiAgICAgKiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KHt9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdCgxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgICAvLyBjaGVjayBpZiB0aGUgdmFsdWUgaXMgdGhlIEVDTUFTY3JpcHQgbGFuZ3VhZ2UgdHlwZSBvZiBPYmplY3RcbiAgICAgIC8vIGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4OFxuICAgICAgLy8gYW5kIGF2b2lkIGEgVjggYnVnXG4gICAgICAvLyBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMjkxXG4gICAgICByZXR1cm4gISEodmFsdWUgJiYgb2JqZWN0VHlwZXNbdHlwZW9mIHZhbHVlXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYE5hTmAuXG4gICAgICpcbiAgICAgKiBOb3RlOiBUaGlzIGlzIG5vdCB0aGUgc2FtZSBhcyBuYXRpdmUgYGlzTmFOYCB3aGljaCB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yXG4gICAgICogYHVuZGVmaW5lZGAgYW5kIG90aGVyIG5vbi1udW1lcmljIHZhbHVlcy4gU2VlIGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMS4yLjQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBgTmFOYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKE5hTik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hTihuZXcgTnVtYmVyKE5hTikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGlzTmFOKHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOYU4odmFsdWUpIHtcbiAgICAgIC8vIGBOYU5gIGFzIGEgcHJpbWl0aXZlIGlzIHRoZSBvbmx5IHZhbHVlIHRoYXQgaXMgbm90IGVxdWFsIHRvIGl0c2VsZlxuICAgICAgLy8gKHBlcmZvcm0gdGhlIFtbQ2xhc3NdXSBjaGVjayBmaXJzdCB0byBhdm9pZCBlcnJvcnMgd2l0aCBzb21lIGhvc3Qgb2JqZWN0cyBpbiBJRSlcbiAgICAgIHJldHVybiBpc051bWJlcih2YWx1ZSkgJiYgdmFsdWUgIT0gK3ZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGBudWxsYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTnVsbChudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVsbCh1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOdWxsKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBOb3RlOiBgTmFOYCBpcyBjb25zaWRlcmVkIGEgbnVtYmVyLiBTZWUgaHR0cDovL2VzNS5naXRodWIuaW8vI3g4LjUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKDguNCAqIDUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgICB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gbnVtYmVyQ2xhc3MgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBTaGFwZSgpIHtcbiAgICAgKiAgIHRoaXMueCA9IDA7XG4gICAgICogICB0aGlzLnkgPSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChuZXcgU2hhcGUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIHZhciBpc1BsYWluT2JqZWN0ID0gIWdldFByb3RvdHlwZU9mID8gc2hpbUlzUGxhaW5PYmplY3QgOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKCEodmFsdWUgJiYgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gb2JqZWN0Q2xhc3MpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZU9mID0gdmFsdWUudmFsdWVPZixcbiAgICAgICAgICBvYmpQcm90byA9IGlzTmF0aXZlKHZhbHVlT2YpICYmIChvYmpQcm90byA9IGdldFByb3RvdHlwZU9mKHZhbHVlT2YpKSAmJiBnZXRQcm90b3R5cGVPZihvYmpQcm90byk7XG5cbiAgICAgIHJldHVybiBvYmpQcm90b1xuICAgICAgICA/ICh2YWx1ZSA9PSBvYmpQcm90byB8fCBnZXRQcm90b3R5cGVPZih2YWx1ZSkgPT0gb2JqUHJvdG8pXG4gICAgICAgIDogc2hpbUlzUGxhaW5PYmplY3QodmFsdWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGEgcmVndWxhciBleHByZXNzaW9uLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNSZWdFeHAoL2ZyZWQvKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNSZWdFeHAodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gcmVnZXhwQ2xhc3MgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhIHN0cmluZywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU3RyaW5nKCdmcmVkJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8XG4gICAgICAgIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzdHJpbmdDbGFzcyB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNVbmRlZmluZWQodm9pZCAwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3VuZGVmaW5lZCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBrZXlzIGFzIGBvYmplY3RgIGFuZCB2YWx1ZXMgZ2VuZXJhdGVkIGJ5XG4gICAgICogcnVubmluZyBlYWNoIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocm91Z2ggdGhlIGNhbGxiYWNrLlxuICAgICAqIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7XG4gICAgICogKHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBvYmplY3Qgd2l0aCB2YWx1ZXMgb2YgdGhlIHJlc3VsdHMgb2YgZWFjaCBgY2FsbGJhY2tgIGV4ZWN1dGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXBWYWx1ZXMoeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzfSAsIGZ1bmN0aW9uKG51bSkgeyByZXR1cm4gbnVtICogMzsgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDMsICdiJzogNiwgJ2MnOiA5IH1cbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0ge1xuICAgICAqICAgJ2ZyZWQnOiB7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAnbmFtZSc6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLm1hcFZhbHVlcyhjaGFyYWN0ZXJzLCAnYWdlJyk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDQwLCAncGViYmxlcyc6IDEgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcFZhbHVlcyhvYmplY3QsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG5cbiAgICAgIGZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICByZXN1bHRba2V5XSA9IGNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgbWVyZ2VzIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgdGhlIHNvdXJjZSBvYmplY3QocyksIHRoYXRcbiAgICAgKiBkb24ndCByZXNvbHZlIHRvIGB1bmRlZmluZWRgIGludG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdC4gU3Vic2VxdWVudCBzb3VyY2VzXG4gICAgICogd2lsbCBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy4gSWYgYSBjYWxsYmFjayBpc1xuICAgICAqIHByb3ZpZGVkIGl0IHdpbGwgYmUgZXhlY3V0ZWQgdG8gcHJvZHVjZSB0aGUgbWVyZ2VkIHZhbHVlcyBvZiB0aGUgZGVzdGluYXRpb25cbiAgICAgKiBhbmQgc291cmNlIHByb3BlcnRpZXMuIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIGB1bmRlZmluZWRgIG1lcmdpbmcgd2lsbFxuICAgICAqIGJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZFxuICAgICAqIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOyAob2JqZWN0VmFsdWUsIHNvdXJjZVZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIG1lcmdpbmcgcHJvcGVydGllcy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBuYW1lcyA9IHtcbiAgICAgKiAgICdjaGFyYWN0ZXJzJzogW1xuICAgICAqICAgICB7ICduYW1lJzogJ2Jhcm5leScgfSxcbiAgICAgKiAgICAgeyAnbmFtZSc6ICdmcmVkJyB9XG4gICAgICogICBdXG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBhZ2VzID0ge1xuICAgICAqICAgJ2NoYXJhY3RlcnMnOiBbXG4gICAgICogICAgIHsgJ2FnZSc6IDM2IH0sXG4gICAgICogICAgIHsgJ2FnZSc6IDQwIH1cbiAgICAgKiAgIF1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5tZXJnZShuYW1lcywgYWdlcyk7XG4gICAgICogLy8gPT4geyAnY2hhcmFjdGVycyc6IFt7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LCB7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAgfV0gfVxuICAgICAqXG4gICAgICogdmFyIGZvb2QgPSB7XG4gICAgICogICAnZnJ1aXRzJzogWydhcHBsZSddLFxuICAgICAqICAgJ3ZlZ2V0YWJsZXMnOiBbJ2JlZXQnXVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgb3RoZXJGb29kID0ge1xuICAgICAqICAgJ2ZydWl0cyc6IFsnYmFuYW5hJ10sXG4gICAgICogICAndmVnZXRhYmxlcyc6IFsnY2Fycm90J11cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5tZXJnZShmb29kLCBvdGhlckZvb2QsIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzQXJyYXkoYSkgPyBhLmNvbmNhdChiKSA6IHVuZGVmaW5lZDtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdmcnVpdHMnOiBbJ2FwcGxlJywgJ2JhbmFuYSddLCAndmVnZXRhYmxlcyc6IFsnYmVldCcsICdjYXJyb3RdIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZXJnZShvYmplY3QpIHtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgIGxlbmd0aCA9IDI7XG5cbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfVxuICAgICAgLy8gYWxsb3dzIHdvcmtpbmcgd2l0aCBgXy5yZWR1Y2VgIGFuZCBgXy5yZWR1Y2VSaWdodGAgd2l0aG91dCB1c2luZ1xuICAgICAgLy8gdGhlaXIgYGluZGV4YCBhbmQgYGNvbGxlY3Rpb25gIGFyZ3VtZW50c1xuICAgICAgaWYgKHR5cGVvZiBhcmdzWzJdICE9ICdudW1iZXInKSB7XG4gICAgICAgIGxlbmd0aCA9IGFyZ3MubGVuZ3RoO1xuICAgICAgfVxuICAgICAgaWYgKGxlbmd0aCA+IDMgJiYgdHlwZW9mIGFyZ3NbbGVuZ3RoIC0gMl0gPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBiYXNlQ3JlYXRlQ2FsbGJhY2soYXJnc1stLWxlbmd0aCAtIDFdLCBhcmdzW2xlbmd0aC0tXSwgMik7XG4gICAgICB9IGVsc2UgaWYgKGxlbmd0aCA+IDIgJiYgdHlwZW9mIGFyZ3NbbGVuZ3RoIC0gMV0gPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYWxsYmFjayA9IGFyZ3NbLS1sZW5ndGhdO1xuICAgICAgfVxuICAgICAgdmFyIHNvdXJjZXMgPSBzbGljZShhcmd1bWVudHMsIDEsIGxlbmd0aCksXG4gICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICBzdGFja0EgPSBnZXRBcnJheSgpLFxuICAgICAgICAgIHN0YWNrQiA9IGdldEFycmF5KCk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZXNbaW5kZXhdLCBjYWxsYmFjaywgc3RhY2tBLCBzdGFja0IpO1xuICAgICAgfVxuICAgICAgcmVsZWFzZUFycmF5KHN0YWNrQSk7XG4gICAgICByZWxlYXNlQXJyYXkoc3RhY2tCKTtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNoYWxsb3cgY2xvbmUgb2YgYG9iamVjdGAgZXhjbHVkaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgKiBQcm9wZXJ0eSBuYW1lcyBtYXkgYmUgc3BlY2lmaWVkIGFzIGluZGl2aWR1YWwgYXJndW1lbnRzIG9yIGFzIGFycmF5cyBvZlxuICAgICAqIHByb3BlcnR5IG5hbWVzLiBJZiBhIGNhbGxiYWNrIGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgZXhlY3V0ZWQgZm9yIGVhY2hcbiAgICAgKiBwcm9wZXJ0eSBvZiBgb2JqZWN0YCBvbWl0dGluZyB0aGUgcHJvcGVydGllcyB0aGUgY2FsbGJhY2sgcmV0dXJucyB0cnVleVxuICAgICAqIGZvci4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50cztcbiAgICAgKiAodmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufC4uLnN0cmluZ3xzdHJpbmdbXX0gW2NhbGxiYWNrXSBUaGUgcHJvcGVydGllcyB0byBvbWl0IG9yIHRoZVxuICAgICAqICBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGFuIG9iamVjdCB3aXRob3V0IHRoZSBvbWl0dGVkIHByb3BlcnRpZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ub21pdCh7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAgfSwgJ2FnZScpO1xuICAgICAqIC8vID0+IHsgJ25hbWUnOiAnZnJlZCcgfVxuICAgICAqXG4gICAgICogXy5vbWl0KHsgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCB9LCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJztcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ2ZyZWQnIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbWl0KG9iamVjdCwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgcHJvcHMgPSBbXTtcbiAgICAgICAgZm9ySW4ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgcHJvcHMucHVzaChrZXkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcHJvcHMgPSBiYXNlRGlmZmVyZW5jZShwcm9wcywgYmFzZUZsYXR0ZW4oYXJndW1lbnRzLCB0cnVlLCBmYWxzZSwgMSkpO1xuXG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcbiAgICAgICAgICByZXN1bHRba2V5XSA9IG9iamVjdFtrZXldO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICAgIGZvckluKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgICAgaWYgKCFjYWxsYmFjayh2YWx1ZSwga2V5LCBvYmplY3QpKSB7XG4gICAgICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0d28gZGltZW5zaW9uYWwgYXJyYXkgb2YgYW4gb2JqZWN0J3Mga2V5LXZhbHVlIHBhaXJzLFxuICAgICAqIGkuZS4gYFtba2V5MSwgdmFsdWUxXSwgW2tleTIsIHZhbHVlMl1dYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIG5ldyBhcnJheSBvZiBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFpcnMoeyAnYmFybmV5JzogMzYsICdmcmVkJzogNDAgfSk7XG4gICAgICogLy8gPT4gW1snYmFybmV5JywgMzZdLCBbJ2ZyZWQnLCA0MF1dIChwcm9wZXJ0eSBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCBhY3Jvc3MgZW52aXJvbm1lbnRzKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhaXJzKG9iamVjdCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcHJvcHMgPSBrZXlzKG9iamVjdCksXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBba2V5LCBvYmplY3Rba2V5XV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzaGFsbG93IGNsb25lIG9mIGBvYmplY3RgIGNvbXBvc2VkIG9mIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICAgKiBQcm9wZXJ0eSBuYW1lcyBtYXkgYmUgc3BlY2lmaWVkIGFzIGluZGl2aWR1YWwgYXJndW1lbnRzIG9yIGFzIGFycmF5cyBvZlxuICAgICAqIHByb3BlcnR5IG5hbWVzLiBJZiBhIGNhbGxiYWNrIGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgZXhlY3V0ZWQgZm9yIGVhY2hcbiAgICAgKiBwcm9wZXJ0eSBvZiBgb2JqZWN0YCBwaWNraW5nIHRoZSBwcm9wZXJ0aWVzIHRoZSBjYWxsYmFjayByZXR1cm5zIHRydWV5XG4gICAgICogZm9yLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzO1xuICAgICAqICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258Li4uc3RyaW5nfHN0cmluZ1tdfSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyXG4gICAgICogIGl0ZXJhdGlvbiBvciBwcm9wZXJ0eSBuYW1lcyB0byBwaWNrLCBzcGVjaWZpZWQgYXMgaW5kaXZpZHVhbCBwcm9wZXJ0eVxuICAgICAqICBuYW1lcyBvciBhcnJheXMgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIHBpY2tlZCBwcm9wZXJ0aWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBpY2soeyAnbmFtZSc6ICdmcmVkJywgJ191c2VyaWQnOiAnZnJlZDEnIH0sICduYW1lJyk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdmcmVkJyB9XG4gICAgICpcbiAgICAgKiBfLnBpY2soeyAnbmFtZSc6ICdmcmVkJywgJ191c2VyaWQnOiAnZnJlZDEnIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIHJldHVybiBrZXkuY2hhckF0KDApICE9ICdfJztcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ2ZyZWQnIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwaWNrKG9iamVjdCwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIHByb3BzID0gYmFzZUZsYXR0ZW4oYXJndW1lbnRzLCB0cnVlLCBmYWxzZSwgMSksXG4gICAgICAgICAgICBsZW5ndGggPSBpc09iamVjdChvYmplY3QpID8gcHJvcHMubGVuZ3RoIDogMDtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG4gICAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgIHJlc3VsdFtrZXldID0gb2JqZWN0W2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICAgIGZvckluKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBrZXksIG9iamVjdCkpIHtcbiAgICAgICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQW4gYWx0ZXJuYXRpdmUgdG8gYF8ucmVkdWNlYCB0aGlzIG1ldGhvZCB0cmFuc2Zvcm1zIGBvYmplY3RgIHRvIGEgbmV3XG4gICAgICogYGFjY3VtdWxhdG9yYCBvYmplY3Qgd2hpY2ggaXMgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGVhY2ggb2YgaXRzIG93blxuICAgICAqIGVudW1lcmFibGUgcHJvcGVydGllcyB0aHJvdWdoIGEgY2FsbGJhY2ssIHdpdGggZWFjaCBjYWxsYmFjayBleGVjdXRpb25cbiAgICAgKiBwb3RlbnRpYWxseSBtdXRhdGluZyB0aGUgYGFjY3VtdWxhdG9yYCBvYmplY3QuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0b1xuICAgICAqIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIGZvdXIgYXJndW1lbnRzOyAoYWNjdW11bGF0b3IsIHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICogQ2FsbGJhY2tzIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgY3VzdG9tIGFjY3VtdWxhdG9yIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNxdWFyZXMgPSBfLnRyYW5zZm9ybShbMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTBdLCBmdW5jdGlvbihyZXN1bHQsIG51bSkge1xuICAgICAqICAgbnVtICo9IG51bTtcbiAgICAgKiAgIGlmIChudW0gJSAyKSB7XG4gICAgICogICAgIHJldHVybiByZXN1bHQucHVzaChudW0pIDwgMztcbiAgICAgKiAgIH1cbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBbMSwgOSwgMjVdXG4gICAgICpcbiAgICAgKiB2YXIgbWFwcGVkID0gXy50cmFuc2Zvcm0oeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sIGZ1bmN0aW9uKHJlc3VsdCwgbnVtLCBrZXkpIHtcbiAgICAgKiAgIHJlc3VsdFtrZXldID0gbnVtICogMztcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMywgJ2InOiA2LCAnYyc6IDkgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybShvYmplY3QsIGNhbGxiYWNrLCBhY2N1bXVsYXRvciwgdGhpc0FyZykge1xuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShvYmplY3QpO1xuICAgICAgaWYgKGFjY3VtdWxhdG9yID09IG51bGwpIHtcbiAgICAgICAgaWYgKGlzQXJyKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBbXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgY3RvciA9IG9iamVjdCAmJiBvYmplY3QuY29uc3RydWN0b3IsXG4gICAgICAgICAgICAgIHByb3RvID0gY3RvciAmJiBjdG9yLnByb3RvdHlwZTtcblxuICAgICAgICAgIGFjY3VtdWxhdG9yID0gYmFzZUNyZWF0ZShwcm90byk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgNCk7XG4gICAgICAgIChpc0FyciA/IGZvckVhY2ggOiBmb3JPd24pKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgb2JqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBjb21wb3NlZCBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnZhbHVlcyh7ICdvbmUnOiAxLCAndHdvJzogMiwgJ3RocmVlJzogMyB9KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM10gKHByb3BlcnR5IG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkIGFjcm9zcyBlbnZpcm9ubWVudHMpXG4gICAgICovXG4gICAgZnVuY3Rpb24gdmFsdWVzKG9iamVjdCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcHJvcHMgPSBrZXlzKG9iamVjdCksXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBvYmplY3RbcHJvcHNbaW5kZXhdXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzIGZyb20gdGhlIHNwZWNpZmllZCBpbmRleGVzLCBvciBrZXlzLCBvZiB0aGVcbiAgICAgKiBgY29sbGVjdGlvbmAuIEluZGV4ZXMgbWF5IGJlIHNwZWNpZmllZCBhcyBpbmRpdmlkdWFsIGFyZ3VtZW50cyBvciBhcyBhcnJheXNcbiAgICAgKiBvZiBpbmRleGVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0gey4uLihudW1iZXJ8bnVtYmVyW118c3RyaW5nfHN0cmluZ1tdKX0gW2luZGV4XSBUaGUgaW5kZXhlcyBvZiBgY29sbGVjdGlvbmBcbiAgICAgKiAgIHRvIHJldHJpZXZlLCBzcGVjaWZpZWQgYXMgaW5kaXZpZHVhbCBpbmRleGVzIG9yIGFycmF5cyBvZiBpbmRleGVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiBlbGVtZW50cyBjb3JyZXNwb25kaW5nIHRvIHRoZVxuICAgICAqICBwcm92aWRlZCBpbmRleGVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmF0KFsnYScsICdiJywgJ2MnLCAnZCcsICdlJ10sIFswLCAyLCA0XSk7XG4gICAgICogLy8gPT4gWydhJywgJ2MnLCAnZSddXG4gICAgICpcbiAgICAgKiBfLmF0KFsnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcyddLCAwLCAyKTtcbiAgICAgKiAvLyA9PiBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXQoY29sbGVjdGlvbikge1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICBwcm9wcyA9IGJhc2VGbGF0dGVuKGFyZ3MsIHRydWUsIGZhbHNlLCAxKSxcbiAgICAgICAgICBsZW5ndGggPSAoYXJnc1syXSAmJiBhcmdzWzJdW2FyZ3NbMV1dID09PSBjb2xsZWN0aW9uKSA/IDEgOiBwcm9wcy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgd2hpbGUoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gY29sbGVjdGlvbltwcm9wc1tpbmRleF1dO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBnaXZlbiB2YWx1ZSBpcyBwcmVzZW50IGluIGEgY29sbGVjdGlvbiB1c2luZyBzdHJpY3QgZXF1YWxpdHlcbiAgICAgKiBmb3IgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuIElmIGBmcm9tSW5kZXhgIGlzIG5lZ2F0aXZlLCBpdCBpcyB1c2VkIGFzIHRoZVxuICAgICAqIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgaW5jbHVkZVxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHsqfSB0YXJnZXQgVGhlIHZhbHVlIHRvIGNoZWNrIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdGFyZ2V0YCBlbGVtZW50IGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY29udGFpbnMoWzEsIDIsIDNdLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmNvbnRhaW5zKFsxLCAyLCAzXSwgMSwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uY29udGFpbnMoeyAnbmFtZSc6ICdmcmVkJywgJ2FnZSc6IDQwIH0sICdmcmVkJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5jb250YWlucygncGViYmxlcycsICdlYicpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb250YWlucyhjb2xsZWN0aW9uLCB0YXJnZXQsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5kZXhPZiA9IGdldEluZGV4T2YoKSxcbiAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5sZW5ndGggOiAwLFxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuXG4gICAgICBmcm9tSW5kZXggPSAoZnJvbUluZGV4IDwgMCA/IG5hdGl2ZU1heCgwLCBsZW5ndGggKyBmcm9tSW5kZXgpIDogZnJvbUluZGV4KSB8fCAwO1xuICAgICAgaWYgKGlzQXJyYXkoY29sbGVjdGlvbikpIHtcbiAgICAgICAgcmVzdWx0ID0gaW5kZXhPZihjb2xsZWN0aW9uLCB0YXJnZXQsIGZyb21JbmRleCkgPiAtMTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICByZXN1bHQgPSAoaXNTdHJpbmcoY29sbGVjdGlvbikgPyBjb2xsZWN0aW9uLmluZGV4T2YodGFyZ2V0LCBmcm9tSW5kZXgpIDogaW5kZXhPZihjb2xsZWN0aW9uLCB0YXJnZXQsIGZyb21JbmRleCkpID4gLTE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JPd24oY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBpZiAoKytpbmRleCA+PSBmcm9tSW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiAhKHJlc3VsdCA9IHZhbHVlID09PSB0YXJnZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhyb3VnaCB0aGUgY2FsbGJhY2suIFRoZSBjb3JyZXNwb25kaW5nIHZhbHVlXG4gICAgICogb2YgZWFjaCBrZXkgaXMgdGhlIG51bWJlciBvZiB0aW1lcyB0aGUga2V5IHdhcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2suXG4gICAgICogVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50cztcbiAgICAgKiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvdW50QnkoWzQuMywgNi4xLCA2LjRdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIE1hdGguZmxvb3IobnVtKTsgfSk7XG4gICAgICogLy8gPT4geyAnNCc6IDEsICc2JzogMiB9XG4gICAgICpcbiAgICAgKiBfLmNvdW50QnkoWzQuMywgNi4xLCA2LjRdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIHRoaXMuZmxvb3IobnVtKTsgfSwgTWF0aCk7XG4gICAgICogLy8gPT4geyAnNCc6IDEsICc2JzogMiB9XG4gICAgICpcbiAgICAgKiBfLmNvdW50QnkoWydvbmUnLCAndHdvJywgJ3RocmVlJ10sICdsZW5ndGgnKTtcbiAgICAgKiAvLyA9PiB7ICczJzogMiwgJzUnOiAxIH1cbiAgICAgKi9cbiAgICB2YXIgY291bnRCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIGtleSkgPyByZXN1bHRba2V5XSsrIDogcmVzdWx0W2tleV0gPSAxKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gY2FsbGJhY2sgcmV0dXJucyB0cnVleSB2YWx1ZSBmb3IgKiphbGwqKiBlbGVtZW50cyBvZlxuICAgICAqIGEgY29sbGVjdGlvbi4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOyAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyBhbGxcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzZWQgdGhlIGNhbGxiYWNrIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXZlcnkoW3RydWUsIDEsIG51bGwsICd5ZXMnXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5ldmVyeShjaGFyYWN0ZXJzLCAnYWdlJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLndoZXJlXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5ldmVyeShjaGFyYWN0ZXJzLCB7ICdhZ2UnOiAzNiB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGV2ZXJ5KGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicpIHtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBpZiAoIShyZXN1bHQgPSAhIWNhbGxiYWNrKGNvbGxlY3Rpb25baW5kZXhdLCBpbmRleCwgY29sbGVjdGlvbikpKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvck93bihjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICByZXR1cm4gKHJlc3VsdCA9ICEhY2FsbGJhY2sodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGEgY29sbGVjdGlvbiwgcmV0dXJuaW5nIGFuIGFycmF5IG9mIGFsbCBlbGVtZW50c1xuICAgICAqIHRoZSBjYWxsYmFjayByZXR1cm5zIHRydWV5IGZvci4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmRcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOyAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyBzZWxlY3RcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IG9mIGVsZW1lbnRzIHRoYXQgcGFzc2VkIHRoZSBjYWxsYmFjayBjaGVjay5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGV2ZW5zID0gXy5maWx0ZXIoWzEsIDIsIDMsIDQsIDUsIDZdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIG51bSAlIDIgPT0gMDsgfSk7XG4gICAgICogLy8gPT4gWzIsIDQsIDZdXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYmxvY2tlZCc6IGZhbHNlIH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2Jsb2NrZWQnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maWx0ZXIoY2hhcmFjdGVycywgJ2Jsb2NrZWQnKTtcbiAgICAgKiAvLyA9PiBbeyAnbmFtZSc6ICdmcmVkJywgJ2FnZSc6IDQwLCAnYmxvY2tlZCc6IHRydWUgfV1cbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZmlsdGVyKGNoYXJhY3RlcnMsIHsgJ2FnZSc6IDM2IH0pO1xuICAgICAqIC8vID0+IFt7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2Jsb2NrZWQnOiBmYWxzZSB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbHRlcihjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5sZW5ndGggOiAwO1xuXG4gICAgICBpZiAodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGNvbGxlY3Rpb25baW5kZXhdO1xuICAgICAgICAgIGlmIChjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JPd24oY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGEgY29sbGVjdGlvbiwgcmV0dXJuaW5nIHRoZSBmaXJzdCBlbGVtZW50IHRoYXRcbiAgICAgKiB0aGUgY2FsbGJhY2sgcmV0dXJucyB0cnVleSBmb3IuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgZGV0ZWN0LCBmaW5kV2hlcmVcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYmxvY2tlZCc6IGZhbHNlIH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAsICdibG9ja2VkJzogdHJ1ZSB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYmxvY2tlZCc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kKGNoYXJhY3RlcnMsIGZ1bmN0aW9uKGNocikge1xuICAgICAqICAgcmV0dXJuIGNoci5hZ2UgPCA0MDtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2Jsb2NrZWQnOiBmYWxzZSB9XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ud2hlcmVcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmZpbmQoY2hhcmFjdGVycywgeyAnYWdlJzogMSB9KTtcbiAgICAgKiAvLyA9PiAgeyAnbmFtZSc6ICdwZWJibGVzJywgJ2FnZSc6IDEsICdibG9ja2VkJzogZmFsc2UgfVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maW5kKGNoYXJhY3RlcnMsICdibG9ja2VkJyk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdmcmVkJywgJ2FnZSc6IDQwLCAnYmxvY2tlZCc6IHRydWUgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmQoY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicpIHtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBjb2xsZWN0aW9uW2luZGV4XTtcbiAgICAgICAgICBpZiAoY2FsbGJhY2sodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgZm9yT3duKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICAgIGlmIChjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgICAqIG9mIGEgYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5maW5kTGFzdChbMSwgMiwgMywgNF0sIGZ1bmN0aW9uKG51bSkge1xuICAgICAqICAgcmV0dXJuIG51bSAlIDIgPT0gMTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZExhc3QoY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICBmb3JFYWNoUmlnaHQoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIGlmIChjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBhIGNvbGxlY3Rpb24sIGV4ZWN1dGluZyB0aGUgY2FsbGJhY2sgZm9yIGVhY2hcbiAgICAgKiBlbGVtZW50LiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzO1xuICAgICAqICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS4gQ2FsbGJhY2tzIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieVxuICAgICAqIGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBOb3RlOiBBcyB3aXRoIG90aGVyIFwiQ29sbGVjdGlvbnNcIiBtZXRob2RzLCBvYmplY3RzIHdpdGggYSBgbGVuZ3RoYCBwcm9wZXJ0eVxuICAgICAqIGFyZSBpdGVyYXRlZCBsaWtlIGFycmF5cy4gVG8gYXZvaWQgdGhpcyBiZWhhdmlvciBgXy5mb3JJbmAgb3IgYF8uZm9yT3duYFxuICAgICAqIG1heSBiZSB1c2VkIGZvciBvYmplY3QgaXRlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIGVhY2hcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R8c3RyaW5nfSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pLmZvckVhY2goZnVuY3Rpb24obnVtKSB7IGNvbnNvbGUubG9nKG51bSk7IH0pLmpvaW4oJywnKTtcbiAgICAgKiAvLyA9PiBsb2dzIGVhY2ggbnVtYmVyIGFuZCByZXR1cm5zICcxLDIsMydcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaCh7ICdvbmUnOiAxLCAndHdvJzogMiwgJ3RocmVlJzogMyB9LCBmdW5jdGlvbihudW0pIHsgY29uc29sZS5sb2cobnVtKTsgfSk7XG4gICAgICogLy8gPT4gbG9ncyBlYWNoIG51bWJlciBhbmQgcmV0dXJucyB0aGUgb2JqZWN0IChwcm9wZXJ0eSBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCBhY3Jvc3MgZW52aXJvbm1lbnRzKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2goY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDA7XG5cbiAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgJiYgdHlwZW9mIHRoaXNBcmcgPT0gJ3VuZGVmaW5lZCcgPyBjYWxsYmFjayA6IGJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICBpZiAodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGlmIChjYWxsYmFjayhjb2xsZWN0aW9uW2luZGV4XSwgaW5kZXgsIGNvbGxlY3Rpb24pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JPd24oY29sbGVjdGlvbiwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JFYWNoYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzXG4gICAgICogb2YgYSBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIGVhY2hSaWdodFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdHxzdHJpbmd9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSkuZm9yRWFjaFJpZ2h0KGZ1bmN0aW9uKG51bSkgeyBjb25zb2xlLmxvZyhudW0pOyB9KS5qb2luKCcsJyk7XG4gICAgICogLy8gPT4gbG9ncyBlYWNoIG51bWJlciBmcm9tIHJpZ2h0IHRvIGxlZnQgYW5kIHJldHVybnMgJzMsMiwxJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2hSaWdodChjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDA7XG4gICAgICBjYWxsYmFjayA9IGNhbGxiYWNrICYmIHR5cGVvZiB0aGlzQXJnID09ICd1bmRlZmluZWQnID8gY2FsbGJhY2sgOiBiYXNlQ3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgaWYgKHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicpIHtcbiAgICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKGNvbGxlY3Rpb25bbGVuZ3RoXSwgbGVuZ3RoLCBjb2xsZWN0aW9uKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHByb3BzID0ga2V5cyhjb2xsZWN0aW9uKTtcbiAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuICAgICAgICBmb3JPd24oY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICAgIGtleSA9IHByb3BzID8gcHJvcHNbLS1sZW5ndGhdIDogLS1sZW5ndGg7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGNvbGxlY3Rpb25ba2V5XSwga2V5LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYSBjb2xsZWN0aW9uIHRocm91Z2ggdGhlIGNhbGxiYWNrLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZVxuICAgICAqIG9mIGVhY2gga2V5IGlzIGFuIGFycmF5IG9mIHRoZSBlbGVtZW50cyByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUga2V5LlxuICAgICAqIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7XG4gICAgICogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWBcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmdyb3VwQnkoWzQuMiwgNi4xLCA2LjRdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIE1hdGguZmxvb3IobnVtKTsgfSk7XG4gICAgICogLy8gPT4geyAnNCc6IFs0LjJdLCAnNic6IFs2LjEsIDYuNF0gfVxuICAgICAqXG4gICAgICogXy5ncm91cEJ5KFs0LjIsIDYuMSwgNi40XSwgZnVuY3Rpb24obnVtKSB7IHJldHVybiB0aGlzLmZsb29yKG51bSk7IH0sIE1hdGgpO1xuICAgICAqIC8vID0+IHsgJzQnOiBbNC4yXSwgJzYnOiBbNi4xLCA2LjRdIH1cbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZ3JvdXBCeShbJ29uZScsICd0d28nLCAndGhyZWUnXSwgJ2xlbmd0aCcpO1xuICAgICAqIC8vID0+IHsgJzMnOiBbJ29uZScsICd0d28nXSwgJzUnOiBbJ3RocmVlJ10gfVxuICAgICAqL1xuICAgIHZhciBncm91cEJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwga2V5KSA/IHJlc3VsdFtrZXldIDogcmVzdWx0W2tleV0gPSBbXSkucHVzaCh2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgdGhlIGNvbGxlY3Rpb24gdGhyb3VnaCB0aGUgZ2l2ZW4gY2FsbGJhY2suIFRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogdmFsdWUgb2YgZWFjaCBrZXkgaXMgdGhlIGxhc3QgZWxlbWVudCByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUga2V5LlxuICAgICAqIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7XG4gICAgICogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGtleXMgPSBbXG4gICAgICogICB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSxcbiAgICAgKiAgIHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5pbmRleEJ5KGtleXMsICdkaXInKTtcbiAgICAgKiAvLyA9PiB7ICdsZWZ0JzogeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sICdyaWdodCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgICAqXG4gICAgICogXy5pbmRleEJ5KGtleXMsIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShrZXkuY29kZSk7IH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ2QnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICAgKlxuICAgICAqIF8uaW5kZXhCeShjaGFyYWN0ZXJzLCBmdW5jdGlvbihrZXkpIHsgdGhpcy5mcm9tQ2hhckNvZGUoa2V5LmNvZGUpOyB9LCBTdHJpbmcpO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ2QnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICAgKi9cbiAgICB2YXIgaW5kZXhCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgbWV0aG9kIG5hbWVkIGJ5IGBtZXRob2ROYW1lYCBvbiBlYWNoIGVsZW1lbnQgaW4gdGhlIGBjb2xsZWN0aW9uYFxuICAgICAqIHJldHVybmluZyBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZiBlYWNoIGludm9rZWQgbWV0aG9kLiBBZGRpdGlvbmFsIGFyZ3VtZW50c1xuICAgICAqIHdpbGwgYmUgcHJvdmlkZWQgdG8gZWFjaCBpbnZva2VkIG1ldGhvZC4gSWYgYG1ldGhvZE5hbWVgIGlzIGEgZnVuY3Rpb24gaXRcbiAgICAgKiB3aWxsIGJlIGludm9rZWQgZm9yLCBhbmQgYHRoaXNgIGJvdW5kIHRvLCBlYWNoIGVsZW1lbnQgaW4gdGhlIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIG1ldGhvZCB0byBpbnZva2Ugb3JcbiAgICAgKiAgdGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmddIEFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZiBlYWNoIGludm9rZWQgbWV0aG9kLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludm9rZShbWzUsIDEsIDddLCBbMywgMiwgMV1dLCAnc29ydCcpO1xuICAgICAqIC8vID0+IFtbMSwgNSwgN10sIFsxLCAyLCAzXV1cbiAgICAgKlxuICAgICAqIF8uaW52b2tlKFsxMjMsIDQ1Nl0sIFN0cmluZy5wcm90b3R5cGUuc3BsaXQsICcnKTtcbiAgICAgKiAvLyA9PiBbWycxJywgJzInLCAnMyddLCBbJzQnLCAnNScsICc2J11dXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW52b2tlKGNvbGxlY3Rpb24sIG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBhcmdzID0gc2xpY2UoYXJndW1lbnRzLCAyKSxcbiAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgIGlzRnVuYyA9IHR5cGVvZiBtZXRob2ROYW1lID09ICdmdW5jdGlvbicsXG4gICAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheSh0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInID8gbGVuZ3RoIDogMCk7XG5cbiAgICAgIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmVzdWx0WysraW5kZXhdID0gKGlzRnVuYyA/IG1ldGhvZE5hbWUgOiB2YWx1ZVttZXRob2ROYW1lXSkuYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdmFsdWVzIGJ5IHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIHRoZSBjb2xsZWN0aW9uXG4gICAgICogdGhyb3VnaCB0aGUgY2FsbGJhY2suIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aFxuICAgICAqIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgY29sbGVjdFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgdGhlIHJlc3VsdHMgb2YgZWFjaCBgY2FsbGJhY2tgIGV4ZWN1dGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXAoWzEsIDIsIDNdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIG51bSAqIDM7IH0pO1xuICAgICAqIC8vID0+IFszLCA2LCA5XVxuICAgICAqXG4gICAgICogXy5tYXAoeyAnb25lJzogMSwgJ3R3byc6IDIsICd0aHJlZSc6IDMgfSwgZnVuY3Rpb24obnVtKSB7IHJldHVybiBudW0gKiAzOyB9KTtcbiAgICAgKiAvLyA9PiBbMywgNiwgOV0gKHByb3BlcnR5IG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkIGFjcm9zcyBlbnZpcm9ubWVudHMpXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8ubWFwKGNoYXJhY3RlcnMsICduYW1lJyk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwKGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5sZW5ndGggOiAwO1xuXG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICBpZiAodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICByZXN1bHRbaW5kZXhdID0gY2FsbGJhY2soY29sbGVjdGlvbltpbmRleF0sIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gW107XG4gICAgICAgIGZvck93bihjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgcmVzdWx0WysraW5kZXhdID0gY2FsbGJhY2sodmFsdWUsIGtleSwgY29sbGVjdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIG1heGltdW0gdmFsdWUgb2YgYSBjb2xsZWN0aW9uLiBJZiB0aGUgY29sbGVjdGlvbiBpcyBlbXB0eSBvclxuICAgICAqIGZhbHNleSBgLUluZmluaXR5YCBpcyByZXR1cm5lZC4gSWYgYSBjYWxsYmFjayBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIGV4ZWN1dGVkXG4gICAgICogZm9yIGVhY2ggdmFsdWUgaW4gdGhlIGNvbGxlY3Rpb24gdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaCB0aGUgdmFsdWVcbiAgICAgKiBpcyByYW5rZWQuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXgoWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA4XG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ubWF4KGNoYXJhY3RlcnMsIGZ1bmN0aW9uKGNocikgeyByZXR1cm4gY2hyLmFnZTsgfSk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdmcmVkJywgJ2FnZSc6IDQwIH07XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLm1heChjaGFyYWN0ZXJzLCAnYWdlJyk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdmcmVkJywgJ2FnZSc6IDQwIH07XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF4KGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgY29tcHV0ZWQgPSAtSW5maW5pdHksXG4gICAgICAgICAgcmVzdWx0ID0gY29tcHV0ZWQ7XG5cbiAgICAgIC8vIGFsbG93cyB3b3JraW5nIHdpdGggZnVuY3Rpb25zIGxpa2UgYF8ubWFwYCB3aXRob3V0IHVzaW5nXG4gICAgICAvLyB0aGVpciBgaW5kZXhgIGFyZ3VtZW50IGFzIGEgY2FsbGJhY2tcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT0gJ2Z1bmN0aW9uJyAmJiB0aGlzQXJnICYmIHRoaXNBcmdbY2FsbGJhY2tdID09PSBjb2xsZWN0aW9uKSB7XG4gICAgICAgIGNhbGxiYWNrID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChjYWxsYmFjayA9PSBudWxsICYmIGlzQXJyYXkoY29sbGVjdGlvbikpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGNvbGxlY3Rpb25baW5kZXhdO1xuICAgICAgICAgIGlmICh2YWx1ZSA+IHJlc3VsdCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayA9IChjYWxsYmFjayA9PSBudWxsICYmIGlzU3RyaW5nKGNvbGxlY3Rpb24pKVxuICAgICAgICAgID8gY2hhckF0Q2FsbGJhY2tcbiAgICAgICAgICA6IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG5cbiAgICAgICAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICB2YXIgY3VycmVudCA9IGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgICAgaWYgKGN1cnJlbnQgPiBjb21wdXRlZCkge1xuICAgICAgICAgICAgY29tcHV0ZWQgPSBjdXJyZW50O1xuICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBtaW5pbXVtIHZhbHVlIG9mIGEgY29sbGVjdGlvbi4gSWYgdGhlIGNvbGxlY3Rpb24gaXMgZW1wdHkgb3JcbiAgICAgKiBmYWxzZXkgYEluZmluaXR5YCBpcyByZXR1cm5lZC4gSWYgYSBjYWxsYmFjayBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIGV4ZWN1dGVkXG4gICAgICogZm9yIGVhY2ggdmFsdWUgaW4gdGhlIGNvbGxlY3Rpb24gdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaCB0aGUgdmFsdWVcbiAgICAgKiBpcyByYW5rZWQuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5taW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ubWluKGNoYXJhY3RlcnMsIGZ1bmN0aW9uKGNocikgeyByZXR1cm4gY2hyLmFnZTsgfSk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfTtcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8ubWluKGNoYXJhY3RlcnMsICdhZ2UnKTtcbiAgICAgKiAvLyA9PiB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9O1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbihjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIGNvbXB1dGVkID0gSW5maW5pdHksXG4gICAgICAgICAgcmVzdWx0ID0gY29tcHV0ZWQ7XG5cbiAgICAgIC8vIGFsbG93cyB3b3JraW5nIHdpdGggZnVuY3Rpb25zIGxpa2UgYF8ubWFwYCB3aXRob3V0IHVzaW5nXG4gICAgICAvLyB0aGVpciBgaW5kZXhgIGFyZ3VtZW50IGFzIGEgY2FsbGJhY2tcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT0gJ2Z1bmN0aW9uJyAmJiB0aGlzQXJnICYmIHRoaXNBcmdbY2FsbGJhY2tdID09PSBjb2xsZWN0aW9uKSB7XG4gICAgICAgIGNhbGxiYWNrID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChjYWxsYmFjayA9PSBudWxsICYmIGlzQXJyYXkoY29sbGVjdGlvbikpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGNvbGxlY3Rpb25baW5kZXhdO1xuICAgICAgICAgIGlmICh2YWx1ZSA8IHJlc3VsdCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayA9IChjYWxsYmFjayA9PSBudWxsICYmIGlzU3RyaW5nKGNvbGxlY3Rpb24pKVxuICAgICAgICAgID8gY2hhckF0Q2FsbGJhY2tcbiAgICAgICAgICA6IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG5cbiAgICAgICAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICB2YXIgY3VycmVudCA9IGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgICAgaWYgKGN1cnJlbnQgPCBjb21wdXRlZCkge1xuICAgICAgICAgICAgY29tcHV0ZWQgPSBjdXJyZW50O1xuICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSB2YWx1ZSBvZiBhIHNwZWNpZmllZCBwcm9wZXJ0eSBmcm9tIGFsbCBlbGVtZW50cyBpbiB0aGUgY29sbGVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIEZ1bmN0aW9uXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHBsdWNrLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5wbHVjayhjaGFyYWN0ZXJzLCAnbmFtZScpO1xuICAgICAqIC8vID0+IFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqL1xuICAgIHZhciBwbHVjayA9IG1hcDtcblxuICAgIC8qKlxuICAgICAqIFJlZHVjZXMgYSBjb2xsZWN0aW9uIHRvIGEgdmFsdWUgd2hpY2ggaXMgdGhlIGFjY3VtdWxhdGVkIHJlc3VsdCBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IGluIHRoZSBjb2xsZWN0aW9uIHRocm91Z2ggdGhlIGNhbGxiYWNrLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBjYWxsYmFjayBleGVjdXRpb24gY29uc3VtZXMgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMgZXhlY3V0aW9uLiBJZlxuICAgICAqIGBhY2N1bXVsYXRvcmAgaXMgbm90IHByb3ZpZGVkIHRoZSBmaXJzdCBlbGVtZW50IG9mIHRoZSBjb2xsZWN0aW9uIHdpbGwgYmVcbiAgICAgKiB1c2VkIGFzIHRoZSBpbml0aWFsIGBhY2N1bXVsYXRvcmAgdmFsdWUuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2BcbiAgICAgKiBhbmQgaW52b2tlZCB3aXRoIGZvdXIgYXJndW1lbnRzOyAoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIGZvbGRsLCBpbmplY3RcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBJbml0aWFsIHZhbHVlIG9mIHRoZSBhY2N1bXVsYXRvci5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzdW0gPSBfLnJlZHVjZShbMSwgMiwgM10sIGZ1bmN0aW9uKHN1bSwgbnVtKSB7XG4gICAgICogICByZXR1cm4gc3VtICsgbnVtO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IDZcbiAgICAgKlxuICAgICAqIHZhciBtYXBwZWQgPSBfLnJlZHVjZSh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSwgZnVuY3Rpb24ocmVzdWx0LCBudW0sIGtleSkge1xuICAgICAqICAgcmVzdWx0W2tleV0gPSBudW0gKiAzO1xuICAgICAqICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnYSc6IDMsICdiJzogNiwgJ2MnOiA5IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWR1Y2UoY29sbGVjdGlvbiwgY2FsbGJhY2ssIGFjY3VtdWxhdG9yLCB0aGlzQXJnKSB7XG4gICAgICBpZiAoIWNvbGxlY3Rpb24pIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICAgIHZhciBub2FjY3VtID0gYXJndW1lbnRzLmxlbmd0aCA8IDM7XG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgNCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuXG4gICAgICBpZiAodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICBpZiAobm9hY2N1bSkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gY29sbGVjdGlvblsrK2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gY2FsbGJhY2soYWNjdW11bGF0b3IsIGNvbGxlY3Rpb25baW5kZXhdLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvck93bihjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IG5vYWNjdW1cbiAgICAgICAgICAgID8gKG5vYWNjdW0gPSBmYWxzZSwgdmFsdWUpXG4gICAgICAgICAgICA6IGNhbGxiYWNrKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucmVkdWNlYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzXG4gICAgICogb2YgYSBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIGZvbGRyXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gSW5pdGlhbCB2YWx1ZSBvZiB0aGUgYWNjdW11bGF0b3IuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgbGlzdCA9IFtbMCwgMV0sIFsyLCAzXSwgWzQsIDVdXTtcbiAgICAgKiB2YXIgZmxhdCA9IF8ucmVkdWNlUmlnaHQobGlzdCwgZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gYS5jb25jYXQoYik7IH0sIFtdKTtcbiAgICAgKiAvLyA9PiBbNCwgNSwgMiwgMywgMCwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWR1Y2VSaWdodChjb2xsZWN0aW9uLCBjYWxsYmFjaywgYWNjdW11bGF0b3IsIHRoaXNBcmcpIHtcbiAgICAgIHZhciBub2FjY3VtID0gYXJndW1lbnRzLmxlbmd0aCA8IDM7XG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgNCk7XG4gICAgICBmb3JFYWNoUmlnaHQoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIGFjY3VtdWxhdG9yID0gbm9hY2N1bVxuICAgICAgICAgID8gKG5vYWNjdW0gPSBmYWxzZSwgdmFsdWUpXG4gICAgICAgICAgOiBjYWxsYmFjayhhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5maWx0ZXJgIHRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGVsZW1lbnRzIG9mIGFcbiAgICAgKiBjb2xsZWN0aW9uIHRoYXQgdGhlIGNhbGxiYWNrIGRvZXMgKipub3QqKiByZXR1cm4gdHJ1ZXkgZm9yLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IG9mIGVsZW1lbnRzIHRoYXQgZmFpbGVkIHRoZSBjYWxsYmFjayBjaGVjay5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9kZHMgPSBfLnJlamVjdChbMSwgMiwgMywgNCwgNSwgNl0sIGZ1bmN0aW9uKG51bSkgeyByZXR1cm4gbnVtICUgMiA9PSAwOyB9KTtcbiAgICAgKiAvLyA9PiBbMSwgMywgNV1cbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYsICdibG9ja2VkJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYmxvY2tlZCc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLnJlamVjdChjaGFyYWN0ZXJzLCAnYmxvY2tlZCcpO1xuICAgICAqIC8vID0+IFt7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2Jsb2NrZWQnOiBmYWxzZSB9XVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLndoZXJlXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5yZWplY3QoY2hhcmFjdGVycywgeyAnYWdlJzogMzYgfSk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCwgJ2Jsb2NrZWQnOiB0cnVlIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVqZWN0KGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICByZXR1cm4gZmlsdGVyKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXR1cm4gIWNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSByYW5kb20gZWxlbWVudCBvciBgbmAgcmFuZG9tIGVsZW1lbnRzIGZyb20gYSBjb2xsZWN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW25dIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBBbGxvd3Mgd29ya2luZyB3aXRoIGZ1bmN0aW9ucyBsaWtlIGBfLm1hcGBcbiAgICAgKiAgd2l0aG91dCB1c2luZyB0aGVpciBgaW5kZXhgIGFyZ3VtZW50cyBhcyBgbmAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gc2FtcGxlKHMpIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zYW1wbGUoWzEsIDIsIDMsIDRdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZShbMSwgMiwgMywgNF0sIDIpO1xuICAgICAqIC8vID0+IFszLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhbXBsZShjb2xsZWN0aW9uLCBuLCBndWFyZCkge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gJiYgdHlwZW9mIGNvbGxlY3Rpb24ubGVuZ3RoICE9ICdudW1iZXInKSB7XG4gICAgICAgIGNvbGxlY3Rpb24gPSB2YWx1ZXMoY29sbGVjdGlvbik7XG4gICAgICB9XG4gICAgICBpZiAobiA9PSBudWxsIHx8IGd1YXJkKSB7XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uID8gY29sbGVjdGlvbltiYXNlUmFuZG9tKDAsIGNvbGxlY3Rpb24ubGVuZ3RoIC0gMSldIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHNodWZmbGUoY29sbGVjdGlvbik7XG4gICAgICByZXN1bHQubGVuZ3RoID0gbmF0aXZlTWluKG5hdGl2ZU1heCgwLCBuKSwgcmVzdWx0Lmxlbmd0aCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygc2h1ZmZsZWQgdmFsdWVzLCB1c2luZyBhIHZlcnNpb24gb2YgdGhlIEZpc2hlci1ZYXRlc1xuICAgICAqIHNodWZmbGUuIFNlZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlci1ZYXRlc19zaHVmZmxlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IHNodWZmbGVkIGNvbGxlY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2h1ZmZsZShbMSwgMiwgMywgNCwgNSwgNl0pO1xuICAgICAqIC8vID0+IFs0LCAxLCA2LCAzLCA1LCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNodWZmbGUoY29sbGVjdGlvbikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheSh0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInID8gbGVuZ3RoIDogMCk7XG5cbiAgICAgIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBiYXNlUmFuZG9tKDAsICsraW5kZXgpO1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gcmVzdWx0W3JhbmRdO1xuICAgICAgICByZXN1bHRbcmFuZF0gPSB2YWx1ZTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzaXplIG9mIHRoZSBgY29sbGVjdGlvbmAgYnkgcmV0dXJuaW5nIGBjb2xsZWN0aW9uLmxlbmd0aGAgZm9yIGFycmF5c1xuICAgICAqIGFuZCBhcnJheS1saWtlIG9iamVjdHMgb3IgdGhlIG51bWJlciBvZiBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIGZvciBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgY29sbGVjdGlvbi5sZW5ndGhgIG9yIG51bWJlciBvZiBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNpemUoWzEsIDJdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiBfLnNpemUoeyAnb25lJzogMSwgJ3R3byc6IDIsICd0aHJlZSc6IDMgfSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5zaXplKCdwZWJibGVzJyk7XG4gICAgICogLy8gPT4gN1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNpemUoY29sbGVjdGlvbikge1xuICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDA7XG4gICAgICByZXR1cm4gdHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJyA/IGxlbmd0aCA6IGtleXMoY29sbGVjdGlvbikubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBhIHRydWV5IHZhbHVlIGZvciAqKmFueSoqIGVsZW1lbnQgb2YgYVxuICAgICAqIGNvbGxlY3Rpb24uIFRoZSBmdW5jdGlvbiByZXR1cm5zIGFzIHNvb24gYXMgaXQgZmluZHMgYSBwYXNzaW5nIHZhbHVlIGFuZFxuICAgICAqIGRvZXMgbm90IGl0ZXJhdGUgb3ZlciB0aGUgZW50aXJlIGNvbGxlY3Rpb24uIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0b1xuICAgICAqIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgYW55XG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZWQgdGhlIGNhbGxiYWNrIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29tZShbbnVsbCwgMCwgJ3llcycsIGZhbHNlXSwgQm9vbGVhbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2Jsb2NrZWQnOiBmYWxzZSB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAsICdibG9ja2VkJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uc29tZShjaGFyYWN0ZXJzLCAnYmxvY2tlZCcpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uc29tZShjaGFyYWN0ZXJzLCB7ICdhZ2UnOiAxIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29tZShjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicpIHtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBpZiAoKHJlc3VsdCA9IGNhbGxiYWNrKGNvbGxlY3Rpb25baW5kZXhdLCBpbmRleCwgY29sbGVjdGlvbikpKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvck93bihjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICByZXR1cm4gIShyZXN1bHQgPSBjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gISFyZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cywgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlciBieSB0aGUgcmVzdWx0cyBvZlxuICAgICAqIHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGEgY29sbGVjdGlvbiB0aHJvdWdoIHRoZSBjYWxsYmFjay4gVGhpcyBtZXRob2RcbiAgICAgKiBwZXJmb3JtcyBhIHN0YWJsZSBzb3J0LCB0aGF0IGlzLCBpdCB3aWxsIHByZXNlcnZlIHRoZSBvcmlnaW5hbCBzb3J0IG9yZGVyXG4gICAgICogb2YgZXF1YWwgZWxlbWVudHMuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aFxuICAgICAqIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNvbGxlY3Rpb25cbiAgICAgKiB3aWxsIGJlIHNvcnRlZCBieSBlYWNoIHByb3BlcnR5IHZhbHVlLlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IG9mIHNvcnRlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0QnkoWzEsIDIsIDNdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIE1hdGguc2luKG51bSk7IH0pO1xuICAgICAqIC8vID0+IFszLCAxLCAyXVxuICAgICAqXG4gICAgICogXy5zb3J0QnkoWzEsIDIsIDNdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIHRoaXMuc2luKG51bSk7IH0sIE1hdGgpO1xuICAgICAqIC8vID0+IFszLCAxLCAyXVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAgJ2FnZSc6IDI2IH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICAnYWdlJzogMzAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLm1hcChfLnNvcnRCeShjaGFyYWN0ZXJzLCAnYWdlJyksIF8udmFsdWVzKTtcbiAgICAgKiAvLyA9PiBbWydiYXJuZXknLCAyNl0sIFsnZnJlZCcsIDMwXSwgWydiYXJuZXknLCAzNl0sIFsnZnJlZCcsIDQwXV1cbiAgICAgKlxuICAgICAqIC8vIHNvcnRpbmcgYnkgbXVsdGlwbGUgcHJvcGVydGllc1xuICAgICAqIF8ubWFwKF8uc29ydEJ5KGNoYXJhY3RlcnMsIFsnbmFtZScsICdhZ2UnXSksIF8udmFsdWVzKTtcbiAgICAgKiAvLyA9ID4gW1snYmFybmV5JywgMjZdLCBbJ2Jhcm5leScsIDM2XSwgWydmcmVkJywgMzBdLCBbJ2ZyZWQnLCA0MF1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydEJ5KGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpc0FyciA9IGlzQXJyYXkoY2FsbGJhY2spLFxuICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDAsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJyA/IGxlbmd0aCA6IDApO1xuXG4gICAgICBpZiAoIWlzQXJyKSB7XG4gICAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgIH1cbiAgICAgIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgb2JqZWN0ID0gcmVzdWx0WysraW5kZXhdID0gZ2V0T2JqZWN0KCk7XG4gICAgICAgIGlmIChpc0Fycikge1xuICAgICAgICAgIG9iamVjdC5jcml0ZXJpYSA9IG1hcChjYWxsYmFjaywgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAob2JqZWN0LmNyaXRlcmlhID0gZ2V0QXJyYXkoKSlbMF0gPSBjYWxsYmFjayh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QuaW5kZXggPSBpbmRleDtcbiAgICAgICAgb2JqZWN0LnZhbHVlID0gdmFsdWU7XG4gICAgICB9KTtcblxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcbiAgICAgIHJlc3VsdC5zb3J0KGNvbXBhcmVBc2NlbmRpbmcpO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBvYmplY3QgPSByZXN1bHRbbGVuZ3RoXTtcbiAgICAgICAgcmVzdWx0W2xlbmd0aF0gPSBvYmplY3QudmFsdWU7XG4gICAgICAgIGlmICghaXNBcnIpIHtcbiAgICAgICAgICByZWxlYXNlQXJyYXkob2JqZWN0LmNyaXRlcmlhKTtcbiAgICAgICAgfVxuICAgICAgICByZWxlYXNlT2JqZWN0KG9iamVjdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBgY29sbGVjdGlvbmAgdG8gYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBjb252ZXJ0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIChmdW5jdGlvbigpIHsgcmV0dXJuIF8udG9BcnJheShhcmd1bWVudHMpLnNsaWNlKDEpOyB9KSgxLCAyLCAzLCA0KTtcbiAgICAgKiAvLyA9PiBbMiwgMywgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0FycmF5KGNvbGxlY3Rpb24pIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uICYmIHR5cGVvZiBjb2xsZWN0aW9uLmxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gc2xpY2UoY29sbGVjdGlvbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgZGVlcCBjb21wYXJpc29uIG9mIGVhY2ggZWxlbWVudCBpbiBhIGBjb2xsZWN0aW9uYCB0byB0aGUgZ2l2ZW5cbiAgICAgKiBgcHJvcGVydGllc2Agb2JqZWN0LCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgYWxsIGVsZW1lbnRzIHRoYXQgaGF2ZSBlcXVpdmFsZW50XG4gICAgICogcHJvcGVydHkgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUgRnVuY3Rpb25cbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBmaWx0ZXIgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IG9mIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgZ2l2ZW4gcHJvcGVydGllcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ3BldHMnOiBbJ2hvcHB5J10gfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAncGV0cyc6IFsnYmFieSBwdXNzJywgJ2Rpbm8nXSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ud2hlcmUoY2hhcmFjdGVycywgeyAnYWdlJzogMzYgfSk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAncGV0cyc6IFsnaG9wcHknXSB9XVxuICAgICAqXG4gICAgICogXy53aGVyZShjaGFyYWN0ZXJzLCB7ICdwZXRzJzogWydkaW5vJ10gfSk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCwgJ3BldHMnOiBbJ2JhYnkgcHVzcycsICdkaW5vJ10gfV1cbiAgICAgKi9cbiAgICB2YXIgd2hlcmUgPSBmaWx0ZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgZmFsc2V5IHZhbHVlcyByZW1vdmVkLiBUaGUgdmFsdWVzIGBmYWxzZWAsIGBudWxsYCxcbiAgICAgKiBgMGAsIGBcIlwiYCwgYHVuZGVmaW5lZGAsIGFuZCBgTmFOYCBhcmUgYWxsIGZhbHNleS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvbXBhY3QoWzAsIDEsIGZhbHNlLCAyLCAnJywgM10pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhY3QoYXJyYXkpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBleGNsdWRpbmcgYWxsIHZhbHVlcyBvZiB0aGUgcHJvdmlkZWQgYXJyYXlzIHVzaW5nIHN0cmljdFxuICAgICAqIGVxdWFsaXR5IGZvciBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgYXJyYXlzIG9mIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZShbMSwgMiwgMywgNCwgNV0sIFs1LCAyLCAxMF0pO1xuICAgICAqIC8vID0+IFsxLCAzLCA0XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRpZmZlcmVuY2UoYXJyYXkpIHtcbiAgICAgIHJldHVybiBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4oYXJndW1lbnRzLCB0cnVlLCB0cnVlLCAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50IHRoYXQgcGFzc2VzIHRoZSBjYWxsYmFjayBjaGVjaywgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2VhcmNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdibG9ja2VkJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgICdhZ2UnOiA0MCwgJ2Jsb2NrZWQnOiB0cnVlIH0sXG4gICAgICogICB7ICduYW1lJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdibG9ja2VkJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmRJbmRleChjaGFyYWN0ZXJzLCBmdW5jdGlvbihjaHIpIHtcbiAgICAgKiAgIHJldHVybiBjaHIuYWdlIDwgMjA7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLndoZXJlXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maW5kSW5kZXgoY2hhcmFjdGVycywgeyAnYWdlJzogMzYgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maW5kSW5kZXgoY2hhcmFjdGVycywgJ2Jsb2NrZWQnKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEluZGV4KGFycmF5LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBpZiAoY2FsbGJhY2soYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHNcbiAgICAgKiBvZiBhIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2VhcmNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdibG9ja2VkJzogdHJ1ZSB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYmxvY2tlZCc6IGZhbHNlIH0sXG4gICAgICogICB7ICduYW1lJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdibG9ja2VkJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RJbmRleChjaGFyYWN0ZXJzLCBmdW5jdGlvbihjaHIpIHtcbiAgICAgKiAgIHJldHVybiBjaHIuYWdlID4gMzA7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLndoZXJlXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5maW5kTGFzdEluZGV4KGNoYXJhY3RlcnMsIHsgJ2FnZSc6IDM2IH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8uZmluZExhc3RJbmRleChjaGFyYWN0ZXJzLCAnYmxvY2tlZCcpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kTGFzdEluZGV4KGFycmF5LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcbiAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBpZiAoY2FsbGJhY2soYXJyYXlbbGVuZ3RoXSwgbGVuZ3RoLCBhcnJheSkpIHtcbiAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZmlyc3QgZWxlbWVudCBvciBmaXJzdCBgbmAgZWxlbWVudHMgb2YgYW4gYXJyYXkuIElmIGEgY2FsbGJhY2tcbiAgICAgKiBpcyBwcm92aWRlZCBlbGVtZW50cyBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheSBhcmUgcmV0dXJuZWQgYXMgbG9uZ1xuICAgICAqIGFzIHRoZSBjYWxsYmFjayByZXR1cm5zIHRydWV5LiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZFxuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGFsaWFzIGhlYWQsIHRha2VcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fG51bWJlcnxzdHJpbmd9IFtjYWxsYmFja10gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgZWxlbWVudCBvciB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHJldHVybi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yXG4gICAgICogIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWQgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCJcbiAgICAgKiAgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZmlyc3QgZWxlbWVudChzKSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZpcnN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5maXJzdChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy5maXJzdChbMSwgMiwgM10sIGZ1bmN0aW9uKG51bSkge1xuICAgICAqICAgcmV0dXJuIG51bSA8IDM7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgICdibG9ja2VkJzogdHJ1ZSwgICdlbXBsb3llcic6ICdzbGF0ZScgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgICdibG9ja2VkJzogZmFsc2UsICdlbXBsb3llcic6ICdzbGF0ZScgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAncGViYmxlcycsICdibG9ja2VkJzogdHJ1ZSwgICdlbXBsb3llcic6ICduYScgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLmZpcnN0KGNoYXJhY3RlcnMsICdibG9ja2VkJyk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAnYmFybmV5JywgJ2Jsb2NrZWQnOiB0cnVlLCAnZW1wbG95ZXInOiAnc2xhdGUnIH1dXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ud2hlcmVcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLnBsdWNrKF8uZmlyc3QoY2hhcmFjdGVycywgeyAnZW1wbG95ZXInOiAnc2xhdGUnIH0pLCAnbmFtZScpO1xuICAgICAqIC8vID0+IFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpcnN0KGFycmF5LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIG4gPSAwLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPSAnbnVtYmVyJyAmJiBjYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoICYmIGNhbGxiYWNrKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICAgIG4rKztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IGNhbGxiYWNrO1xuICAgICAgICBpZiAobiA9PSBudWxsIHx8IHRoaXNBcmcpIHtcbiAgICAgICAgICByZXR1cm4gYXJyYXkgPyBhcnJheVswXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHNsaWNlKGFycmF5LCAwLCBuYXRpdmVNaW4obmF0aXZlTWF4KDAsIG4pLCBsZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGbGF0dGVucyBhIG5lc3RlZCBhcnJheSAodGhlIG5lc3RpbmcgY2FuIGJlIHRvIGFueSBkZXB0aCkuIElmIGBpc1NoYWxsb3dgXG4gICAgICogaXMgdHJ1ZXksIHRoZSBhcnJheSB3aWxsIG9ubHkgYmUgZmxhdHRlbmVkIGEgc2luZ2xlIGxldmVsLiBJZiBhIGNhbGxiYWNrXG4gICAgICogaXMgcHJvdmlkZWQgZWFjaCBlbGVtZW50IG9mIHRoZSBhcnJheSBpcyBwYXNzZWQgdGhyb3VnaCB0aGUgY2FsbGJhY2sgYmVmb3JlXG4gICAgICogZmxhdHRlbmluZy4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOyAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1NoYWxsb3c9ZmFsc2VdIEEgZmxhZyB0byByZXN0cmljdCBmbGF0dGVuaW5nIHRvIGEgc2luZ2xlIGxldmVsLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuKFsxLCBbMl0sIFszLCBbWzRdXV1dKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNF07XG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW4oWzEsIFsyXSwgWzMsIFtbNF1dXV0sIHRydWUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCBbWzRdXV07XG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDMwLCAncGV0cyc6IFsnaG9wcHknXSB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAsICdwZXRzJzogWydiYWJ5IHB1c3MnLCAnZGlubyddIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5mbGF0dGVuKGNoYXJhY3RlcnMsICdwZXRzJyk7XG4gICAgICogLy8gPT4gWydob3BweScsICdiYWJ5IHB1c3MnLCAnZGlubyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbihhcnJheSwgaXNTaGFsbG93LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgLy8ganVnZ2xlIGFyZ3VtZW50c1xuICAgICAgaWYgKHR5cGVvZiBpc1NoYWxsb3cgIT0gJ2Jvb2xlYW4nICYmIGlzU2hhbGxvdyAhPSBudWxsKSB7XG4gICAgICAgIHRoaXNBcmcgPSBjYWxsYmFjaztcbiAgICAgICAgY2FsbGJhY2sgPSAodHlwZW9mIGlzU2hhbGxvdyAhPSAnZnVuY3Rpb24nICYmIHRoaXNBcmcgJiYgdGhpc0FyZ1tpc1NoYWxsb3ddID09PSBhcnJheSkgPyBudWxsIDogaXNTaGFsbG93O1xuICAgICAgICBpc1NoYWxsb3cgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgIGFycmF5ID0gbWFwKGFycmF5LCBjYWxsYmFjaywgdGhpc0FyZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4oYXJyYXksIGlzU2hhbGxvdyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYHZhbHVlYCBpcyBmb3VuZCB1c2luZ1xuICAgICAqIHN0cmljdCBlcXVhbGl0eSBmb3IgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuIElmIHRoZSBhcnJheSBpcyBhbHJlYWR5IHNvcnRlZFxuICAgICAqIHByb3ZpZGluZyBgdHJ1ZWAgZm9yIGBmcm9tSW5kZXhgIHdpbGwgcnVuIGEgZmFzdGVyIGJpbmFyeSBzZWFyY2guXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNlYXJjaC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tIG9yIGB0cnVlYFxuICAgICAqICB0byBwZXJmb3JtIGEgYmluYXJ5IHNlYXJjaCBvbiBhIHNvcnRlZCBhcnJheS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSBvciBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDMsIDEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDMsIDEsIDIsIDNdLCAyLCAzKTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLmluZGV4T2YoWzEsIDEsIDIsIDIsIDMsIDNdLCAyLCB0cnVlKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgaWYgKHR5cGVvZiBmcm9tSW5kZXggPT0gJ251bWJlcicpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcbiAgICAgICAgZnJvbUluZGV4ID0gKGZyb21JbmRleCA8IDAgPyBuYXRpdmVNYXgoMCwgbGVuZ3RoICsgZnJvbUluZGV4KSA6IGZyb21JbmRleCB8fCAwKTtcbiAgICAgIH0gZWxzZSBpZiAoZnJvbUluZGV4KSB7XG4gICAgICAgIHZhciBpbmRleCA9IHNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBhcnJheVtpbmRleF0gPT09IHZhbHVlID8gaW5kZXggOiAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgYnV0IHRoZSBsYXN0IGVsZW1lbnQgb3IgbGFzdCBgbmAgZWxlbWVudHMgb2YgYW4gYXJyYXkuIElmIGFcbiAgICAgKiBjYWxsYmFjayBpcyBwcm92aWRlZCBlbGVtZW50cyBhdCB0aGUgZW5kIG9mIHRoZSBhcnJheSBhcmUgZXhjbHVkZWQgZnJvbVxuICAgICAqIHRoZSByZXN1bHQgYXMgbG9uZyBhcyB0aGUgY2FsbGJhY2sgcmV0dXJucyB0cnVleS4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kXG4gICAgICogdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOyAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8bnVtYmVyfHN0cmluZ30gW2NhbGxiYWNrPTFdIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGVsZW1lbnQgb3IgdGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBleGNsdWRlLiBJZiBhIHByb3BlcnR5IG5hbWUgb3JcbiAgICAgKiAgb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZCB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIlxuICAgICAqICBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5pdGlhbChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy5pbml0aWFsKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLmluaXRpYWwoWzEsIDIsIDNdLCBmdW5jdGlvbihudW0pIHtcbiAgICAgKiAgIHJldHVybiBudW0gPiAxO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICAnYmxvY2tlZCc6IGZhbHNlLCAnZW1wbG95ZXInOiAnc2xhdGUnIH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICAnYmxvY2tlZCc6IHRydWUsICAnZW1wbG95ZXInOiAnc2xhdGUnIH0sXG4gICAgICogICB7ICduYW1lJzogJ3BlYmJsZXMnLCAnYmxvY2tlZCc6IHRydWUsICAnZW1wbG95ZXInOiAnbmEnIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5pbml0aWFsKGNoYXJhY3RlcnMsICdibG9ja2VkJyk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAnYmFybmV5JywgICdibG9ja2VkJzogZmFsc2UsICdlbXBsb3llcic6ICdzbGF0ZScgfV1cbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8ucGx1Y2soXy5pbml0aWFsKGNoYXJhY3RlcnMsIHsgJ2VtcGxveWVyJzogJ25hJyB9KSwgJ25hbWUnKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0aWFsKGFycmF5LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIG4gPSAwLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPSAnbnVtYmVyJyAmJiBjYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGxlbmd0aDtcbiAgICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgICB3aGlsZSAoaW5kZXgtLSAmJiBjYWxsYmFjayhhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgICBuKys7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSAoY2FsbGJhY2sgPT0gbnVsbCB8fCB0aGlzQXJnKSA/IDEgOiBjYWxsYmFjayB8fCBuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNsaWNlKGFycmF5LCAwLCBuYXRpdmVNaW4obmF0aXZlTWF4KDAsIGxlbmd0aCAtIG4pLCBsZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMgcHJlc2VudCBpbiBhbGwgcHJvdmlkZWQgYXJyYXlzIHVzaW5nXG4gICAgICogc3RyaWN0IGVxdWFsaXR5IGZvciBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXldIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2Ygc2hhcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb24oWzEsIDIsIDNdLCBbNSwgMiwgMSwgNF0sIFsyLCAxXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW50ZXJzZWN0aW9uKCkge1xuICAgICAgdmFyIGFyZ3MgPSBbXSxcbiAgICAgICAgICBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICBjYWNoZXMgPSBnZXRBcnJheSgpLFxuICAgICAgICAgIGluZGV4T2YgPSBnZXRJbmRleE9mKCksXG4gICAgICAgICAgdHJ1c3RJbmRleE9mID0gaW5kZXhPZiA9PT0gYmFzZUluZGV4T2YsXG4gICAgICAgICAgc2VlbiA9IGdldEFycmF5KCk7XG5cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzW2FyZ3NJbmRleF07XG4gICAgICAgIGlmIChpc0FycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkpIHtcbiAgICAgICAgICBhcmdzLnB1c2godmFsdWUpO1xuICAgICAgICAgIGNhY2hlcy5wdXNoKHRydXN0SW5kZXhPZiAmJiB2YWx1ZS5sZW5ndGggPj0gbGFyZ2VBcnJheVNpemUgJiZcbiAgICAgICAgICAgIGNyZWF0ZUNhY2hlKGFyZ3NJbmRleCA/IGFyZ3NbYXJnc0luZGV4XSA6IHNlZW4pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGFycmF5ID0gYXJnc1swXSxcbiAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgY2FjaGUgPSBjYWNoZXNbMF07XG4gICAgICAgIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuXG4gICAgICAgIGlmICgoY2FjaGUgPyBjYWNoZUluZGV4T2YoY2FjaGUsIHZhbHVlKSA6IGluZGV4T2Yoc2VlbiwgdmFsdWUpKSA8IDApIHtcbiAgICAgICAgICBhcmdzSW5kZXggPSBhcmdzTGVuZ3RoO1xuICAgICAgICAgIChjYWNoZSB8fCBzZWVuKS5wdXNoKHZhbHVlKTtcbiAgICAgICAgICB3aGlsZSAoLS1hcmdzSW5kZXgpIHtcbiAgICAgICAgICAgIGNhY2hlID0gY2FjaGVzW2FyZ3NJbmRleF07XG4gICAgICAgICAgICBpZiAoKGNhY2hlID8gY2FjaGVJbmRleE9mKGNhY2hlLCB2YWx1ZSkgOiBpbmRleE9mKGFyZ3NbYXJnc0luZGV4XSwgdmFsdWUpKSA8IDApIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKGFyZ3NMZW5ndGgtLSkge1xuICAgICAgICBjYWNoZSA9IGNhY2hlc1thcmdzTGVuZ3RoXTtcbiAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgcmVsZWFzZU9iamVjdChjYWNoZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlbGVhc2VBcnJheShjYWNoZXMpO1xuICAgICAgcmVsZWFzZUFycmF5KHNlZW4pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsYXN0IGVsZW1lbnQgb3IgbGFzdCBgbmAgZWxlbWVudHMgb2YgYW4gYXJyYXkuIElmIGEgY2FsbGJhY2sgaXNcbiAgICAgKiBwcm92aWRlZCBlbGVtZW50cyBhdCB0aGUgZW5kIG9mIHRoZSBhcnJheSBhcmUgcmV0dXJuZWQgYXMgbG9uZyBhcyB0aGVcbiAgICAgKiBjYWxsYmFjayByZXR1cm5zIHRydWV5LiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM7ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAgICogZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxudW1iZXJ8c3RyaW5nfSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGVsZW1lbnQgb3IgdGhlIG51bWJlciBvZiBlbGVtZW50cyB0byByZXR1cm4uIElmIGEgcHJvcGVydHkgbmFtZSBvclxuICAgICAqICBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiXG4gICAgICogIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGxhc3QgZWxlbWVudChzKSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLmxhc3QoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKlxuICAgICAqIF8ubGFzdChbMSwgMiwgM10sIGZ1bmN0aW9uKG51bSkge1xuICAgICAqICAgcmV0dXJuIG51bSA+IDE7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgICdibG9ja2VkJzogZmFsc2UsICdlbXBsb3llcic6ICdzbGF0ZScgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgICdibG9ja2VkJzogdHJ1ZSwgICdlbXBsb3llcic6ICdzbGF0ZScgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAncGViYmxlcycsICdibG9ja2VkJzogdHJ1ZSwgICdlbXBsb3llcic6ICduYScgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLnBsdWNrKF8ubGFzdChjaGFyYWN0ZXJzLCAnYmxvY2tlZCcpLCAnbmFtZScpO1xuICAgICAqIC8vID0+IFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8ubGFzdChjaGFyYWN0ZXJzLCB7ICdlbXBsb3llcic6ICduYScgfSk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAncGViYmxlcycsICdibG9ja2VkJzogdHJ1ZSwgJ2VtcGxveWVyJzogJ25hJyB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3QoYXJyYXksIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgbiA9IDAsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9ICdudW1iZXInICYmIGNhbGxiYWNrICE9IG51bGwpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoO1xuICAgICAgICBjYWxsYmFjayA9IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICAgIHdoaWxlIChpbmRleC0tICYmIGNhbGxiYWNrKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICAgIG4rKztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IGNhbGxiYWNrO1xuICAgICAgICBpZiAobiA9PSBudWxsIHx8IHRoaXNBcmcpIHtcbiAgICAgICAgICByZXR1cm4gYXJyYXkgPyBhcnJheVtsZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHNsaWNlKGFycmF5LCBuYXRpdmVNYXgoMCwgbGVuZ3RoIC0gbikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBsYXN0IG9jY3VycmVuY2Ugb2YgYHZhbHVlYCBpcyBmb3VuZCB1c2luZyBzdHJpY3RcbiAgICAgKiBlcXVhbGl0eSBmb3IgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuIElmIGBmcm9tSW5kZXhgIGlzIG5lZ2F0aXZlLCBpdCBpcyB1c2VkXG4gICAgICogYXMgdGhlIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2VhcmNoLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSBvciBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3RJbmRleE9mKFsxLCAyLCAzLCAxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5sYXN0SW5kZXhPZihbMSwgMiwgMywgMSwgMiwgM10sIDIsIDMpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGluZGV4ID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuICAgICAgaWYgKHR5cGVvZiBmcm9tSW5kZXggPT0gJ251bWJlcicpIHtcbiAgICAgICAgaW5kZXggPSAoZnJvbUluZGV4IDwgMCA/IG5hdGl2ZU1heCgwLCBpbmRleCArIGZyb21JbmRleCkgOiBuYXRpdmVNaW4oZnJvbUluZGV4LCBpbmRleCAtIDEpKSArIDE7XG4gICAgICB9XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHByb3ZpZGVkIHZhbHVlcyBmcm9tIHRoZSBnaXZlbiBhcnJheSB1c2luZyBzdHJpY3QgZXF1YWxpdHkgZm9yXG4gICAgICogY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZV0gVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzLCAxLCAyLCAzXTtcbiAgICAgKiBfLnB1bGwoYXJyYXksIDIsIDMpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsKGFycmF5KSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBhcmdzSW5kZXggPSAwLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICB2YWx1ZSA9IGFyZ3NbYXJnc0luZGV4XTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgc3BsaWNlLmNhbGwoYXJyYXksIGluZGV4LS0sIDEpO1xuICAgICAgICAgICAgbGVuZ3RoLS07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBudW1iZXJzIChwb3NpdGl2ZSBhbmQvb3IgbmVnYXRpdmUpIHByb2dyZXNzaW5nIGZyb21cbiAgICAgKiBgc3RhcnRgIHVwIHRvIGJ1dCBub3QgaW5jbHVkaW5nIGBlbmRgLiBJZiBgc3RhcnRgIGlzIGxlc3MgdGhhbiBgc3RvcGAgYVxuICAgICAqIHplcm8tbGVuZ3RoIHJhbmdlIGlzIGNyZWF0ZWQgdW5sZXNzIGEgbmVnYXRpdmUgYHN0ZXBgIGlzIHNwZWNpZmllZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IHJhbmdlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDQpO1xuICAgICAqIC8vID0+IFswLCAxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgxLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFswLCA1LCAxMCwgMTVdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDQsIDApO1xuICAgICAqIC8vID0+IFsxLCAxLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXApIHtcbiAgICAgIHN0YXJ0ID0gK3N0YXJ0IHx8IDA7XG4gICAgICBzdGVwID0gdHlwZW9mIHN0ZXAgPT0gJ251bWJlcicgPyBzdGVwIDogKCtzdGVwIHx8IDEpO1xuXG4gICAgICBpZiAoZW5kID09IG51bGwpIHtcbiAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgIH1cbiAgICAgIC8vIHVzZSBgQXJyYXkobGVuZ3RoKWAgc28gZW5naW5lcyBsaWtlIENoYWtyYSBhbmQgVjggYXZvaWQgc2xvd2VyIG1vZGVzXG4gICAgICAvLyBodHRwOi8veW91dHUuYmUvWEFxSXBHVThaWmsjdD0xN20yNXNcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heCgwLCBjZWlsKChlbmQgLSBzdGFydCkgLyAoc3RlcCB8fCAxKSkpLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBzdGFydDtcbiAgICAgICAgc3RhcnQgKz0gc3RlcDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZWxlbWVudHMgZnJvbSBhbiBhcnJheSB0aGF0IHRoZSBjYWxsYmFjayByZXR1cm5zIHRydWV5IGZvclxuICAgICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2BcbiAgICAgKiBhbmQgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgMywgNCwgNSwgNl07XG4gICAgICogdmFyIGV2ZW5zID0gXy5yZW1vdmUoYXJyYXksIGZ1bmN0aW9uKG51bSkgeyByZXR1cm4gbnVtICUgMiA9PSAwOyB9KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMywgNV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGV2ZW5zKTtcbiAgICAgKiAvLyA9PiBbMiwgNCwgNl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW1vdmUoYXJyYXksIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIGNhbGxiYWNrID0gbG9kYXNoLmNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBpbmRleC0tLCAxKTtcbiAgICAgICAgICBsZW5ndGgtLTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uaW5pdGlhbGAgdGhpcyBtZXRob2QgZ2V0cyBhbGwgYnV0IHRoZSBmaXJzdCBlbGVtZW50IG9yXG4gICAgICogZmlyc3QgYG5gIGVsZW1lbnRzIG9mIGFuIGFycmF5LiBJZiBhIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIHByb3ZpZGVkIGVsZW1lbnRzXG4gICAgICogYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXkgYXJlIGV4Y2x1ZGVkIGZyb20gdGhlIHJlc3VsdCBhcyBsb25nIGFzIHRoZVxuICAgICAqIGNhbGxiYWNrIHJldHVybnMgdHJ1ZXkuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgZHJvcCwgdGFpbFxuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8bnVtYmVyfHN0cmluZ30gW2NhbGxiYWNrPTFdIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICAgKiAgcGVyIGVsZW1lbnQgb3IgdGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBleGNsdWRlLiBJZiBhIHByb3BlcnR5IG5hbWUgb3JcbiAgICAgKiAgb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZCB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIlxuICAgICAqICBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVzdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqXG4gICAgICogXy5yZXN0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICpcbiAgICAgKiBfLnJlc3QoWzEsIDIsIDNdLCBmdW5jdGlvbihudW0pIHtcbiAgICAgKiAgIHJldHVybiBudW0gPCAzO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqXG4gICAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICAnYmxvY2tlZCc6IHRydWUsICAnZW1wbG95ZXInOiAnc2xhdGUnIH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICAnYmxvY2tlZCc6IGZhbHNlLCAgJ2VtcGxveWVyJzogJ3NsYXRlJyB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdwZWJibGVzJywgJ2Jsb2NrZWQnOiB0cnVlLCAnZW1wbG95ZXInOiAnbmEnIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAgICogXy5wbHVjayhfLnJlc3QoY2hhcmFjdGVycywgJ2Jsb2NrZWQnKSwgJ25hbWUnKTtcbiAgICAgKiAvLyA9PiBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ud2hlcmVcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLnJlc3QoY2hhcmFjdGVycywgeyAnZW1wbG95ZXInOiAnc2xhdGUnIH0pO1xuICAgICAqIC8vID0+IFt7ICduYW1lJzogJ3BlYmJsZXMnLCAnYmxvY2tlZCc6IHRydWUsICdlbXBsb3llcic6ICduYScgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXN0KGFycmF5LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPSAnbnVtYmVyJyAmJiBjYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgIHZhciBuID0gMCxcbiAgICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiBjYWxsYmFjayhhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgICBuKys7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSAoY2FsbGJhY2sgPT0gbnVsbCB8fCB0aGlzQXJnKSA/IDEgOiBuYXRpdmVNYXgoMCwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNsaWNlKGFycmF5LCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VzIGEgYmluYXJ5IHNlYXJjaCB0byBkZXRlcm1pbmUgdGhlIHNtYWxsZXN0IGluZGV4IGF0IHdoaWNoIGEgdmFsdWVcbiAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBhIGdpdmVuIHNvcnRlZCBhcnJheSBpbiBvcmRlciB0byBtYWludGFpbiB0aGUgc29ydFxuICAgICAqIG9yZGVyIG9mIHRoZSBhcnJheS4gSWYgYSBjYWxsYmFjayBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIGV4ZWN1dGVkIGZvclxuICAgICAqIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGUgdGhlaXIgc29ydCByYW5raW5nLiBUaGVcbiAgICAgKiBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgICAqIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleChbMjAsIDMwLCA1MF0sIDQwKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICAgKiBfLnNvcnRlZEluZGV4KFt7ICd4JzogMjAgfSwgeyAneCc6IDMwIH0sIHsgJ3gnOiA1MCB9XSwgeyAneCc6IDQwIH0sICd4Jyk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogdmFyIGRpY3QgPSB7XG4gICAgICogICAnd29yZFRvTnVtYmVyJzogeyAndHdlbnR5JzogMjAsICd0aGlydHknOiAzMCwgJ2ZvdXJ0eSc6IDQwLCAnZmlmdHknOiA1MCB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXgoWyd0d2VudHknLCAndGhpcnR5JywgJ2ZpZnR5J10sICdmb3VydHknLCBmdW5jdGlvbih3b3JkKSB7XG4gICAgICogICByZXR1cm4gZGljdC53b3JkVG9OdW1iZXJbd29yZF07XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleChbJ3R3ZW50eScsICd0aGlydHknLCAnZmlmdHknXSwgJ2ZvdXJ0eScsIGZ1bmN0aW9uKHdvcmQpIHtcbiAgICAgKiAgIHJldHVybiB0aGlzLndvcmRUb051bWJlclt3b3JkXTtcbiAgICAgKiB9LCBkaWN0KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIGxvdyA9IDAsXG4gICAgICAgICAgaGlnaCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogbG93O1xuXG4gICAgICAvLyBleHBsaWNpdGx5IHJlZmVyZW5jZSBgaWRlbnRpdHlgIGZvciBiZXR0ZXIgaW5saW5pbmcgaW4gRmlyZWZveFxuICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayA/IGxvZGFzaC5jcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMSkgOiBpZGVudGl0eTtcbiAgICAgIHZhbHVlID0gY2FsbGJhY2sodmFsdWUpO1xuXG4gICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICB2YXIgbWlkID0gKGxvdyArIGhpZ2gpID4+PiAxO1xuICAgICAgICAoY2FsbGJhY2soYXJyYXlbbWlkXSkgPCB2YWx1ZSlcbiAgICAgICAgICA/IGxvdyA9IG1pZCArIDFcbiAgICAgICAgICA6IGhpZ2ggPSBtaWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gbG93O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcywgaW4gb3JkZXIsIG9mIHRoZSBwcm92aWRlZCBhcnJheXMgdXNpbmdcbiAgICAgKiBzdHJpY3QgZXF1YWxpdHkgZm9yIGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheV0gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhbiBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pb24oWzEsIDIsIDNdLCBbNSwgMiwgMSwgNF0sIFsyLCAxXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIDUsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pb24oKSB7XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJndW1lbnRzLCB0cnVlLCB0cnVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGR1cGxpY2F0ZS12YWx1ZS1mcmVlIHZlcnNpb24gb2YgYW4gYXJyYXkgdXNpbmcgc3RyaWN0IGVxdWFsaXR5XG4gICAgICogZm9yIGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLiBJZiB0aGUgYXJyYXkgaXMgc29ydGVkLCBwcm92aWRpbmdcbiAgICAgKiBgdHJ1ZWAgZm9yIGBpc1NvcnRlZGAgd2lsbCB1c2UgYSBmYXN0ZXIgYWxnb3JpdGhtLiBJZiBhIGNhbGxiYWNrIGlzIHByb3ZpZGVkXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgaXMgcGFzc2VkIHRocm91Z2ggdGhlIGNhbGxiYWNrIGJlZm9yZSB1bmlxdWVuZXNzXG4gICAgICogaXMgY29tcHV0ZWQuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICAgKiBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgdW5pcXVlXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU29ydGVkPWZhbHNlXSBBIGZsYWcgdG8gaW5kaWNhdGUgdGhhdCBgYXJyYXlgIGlzIHNvcnRlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIGR1cGxpY2F0ZS12YWx1ZS1mcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXEoWzEsIDIsIDEsIDMsIDFdKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8udW5pcShbMSwgMSwgMiwgMiwgM10sIHRydWUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy51bmlxKFsnQScsICdiJywgJ0MnLCAnYScsICdCJywgJ2MnXSwgZnVuY3Rpb24obGV0dGVyKSB7IHJldHVybiBsZXR0ZXIudG9Mb3dlckNhc2UoKTsgfSk7XG4gICAgICogLy8gPT4gWydBJywgJ2InLCAnQyddXG4gICAgICpcbiAgICAgKiBfLnVuaXEoWzEsIDIuNSwgMywgMS41LCAyLCAzLjVdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIHRoaXMuZmxvb3IobnVtKTsgfSwgTWF0aCk7XG4gICAgICogLy8gPT4gWzEsIDIuNSwgM11cbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgICAqIF8udW5pcShbeyAneCc6IDEgfSwgeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcShhcnJheSwgaXNTb3J0ZWQsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICAvLyBqdWdnbGUgYXJndW1lbnRzXG4gICAgICBpZiAodHlwZW9mIGlzU29ydGVkICE9ICdib29sZWFuJyAmJiBpc1NvcnRlZCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXNBcmcgPSBjYWxsYmFjaztcbiAgICAgICAgY2FsbGJhY2sgPSAodHlwZW9mIGlzU29ydGVkICE9ICdmdW5jdGlvbicgJiYgdGhpc0FyZyAmJiB0aGlzQXJnW2lzU29ydGVkXSA9PT0gYXJyYXkpID8gbnVsbCA6IGlzU29ydGVkO1xuICAgICAgICBpc1NvcnRlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBsb2Rhc2guY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VVbmlxKGFycmF5LCBpc1NvcnRlZCwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgZXhjbHVkaW5nIGFsbCBwcm92aWRlZCB2YWx1ZXMgdXNpbmcgc3RyaWN0IGVxdWFsaXR5IGZvclxuICAgICAqIGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndpdGhvdXQoWzEsIDIsIDEsIDAsIDMsIDEsIDRdLCAwLCAxKTtcbiAgICAgKiAvLyA9PiBbMiwgMywgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3aXRob3V0KGFycmF5KSB7XG4gICAgICByZXR1cm4gYmFzZURpZmZlcmVuY2UoYXJyYXksIHNsaWNlKGFyZ3VtZW50cywgMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgdGhhdCBpcyB0aGUgc3ltbWV0cmljIGRpZmZlcmVuY2Ugb2YgdGhlIHByb3ZpZGVkIGFycmF5cy5cbiAgICAgKiBTZWUgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TeW1tZXRyaWNfZGlmZmVyZW5jZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXldIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2YgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnhvcihbMSwgMiwgM10sIFs1LCAyLCAxLCA0XSk7XG4gICAgICogLy8gPT4gWzMsIDUsIDRdXG4gICAgICpcbiAgICAgKiBfLnhvcihbMSwgMiwgNV0sIFsyLCAzLCA1XSwgWzMsIDQsIDVdKTtcbiAgICAgKiAvLyA9PiBbMSwgNCwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB4b3IoKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICBpZiAoaXNBcnJheShhcnJheSkgfHwgaXNBcmd1bWVudHMoYXJyYXkpKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3VsdFxuICAgICAgICAgICAgPyBiYXNlVW5pcShiYXNlRGlmZmVyZW5jZShyZXN1bHQsIGFycmF5KS5jb25jYXQoYmFzZURpZmZlcmVuY2UoYXJyYXksIHJlc3VsdCkpKVxuICAgICAgICAgICAgOiBhcnJheTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdCB8fCBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMsIHRoZSBmaXJzdCBvZiB3aGljaCBjb250YWlucyB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCB0aGUgc2Vjb25kIG9mIHdoaWNoIGNvbnRhaW5zIHRoZSBzZWNvbmRcbiAgICAgKiBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAYWxpYXMgdW56aXBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5XSBBcnJheXMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXAoWydmcmVkJywgJ2Jhcm5leSddLCBbMzAsIDQwXSwgW3RydWUsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gW1snZnJlZCcsIDMwLCB0cnVlXSwgWydiYXJuZXknLCA0MCwgZmFsc2VdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHppcCgpIHtcbiAgICAgIHZhciBhcnJheSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzIDogYXJndW1lbnRzWzBdLFxuICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBtYXgocGx1Y2soYXJyYXksICdsZW5ndGgnKSkgOiAwLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCA8IDAgPyAwIDogbGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IHBsdWNrKGFycmF5LCBpbmRleCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIGZyb20gYXJyYXlzIG9mIGBrZXlzYCBhbmQgYHZhbHVlc2AuIFByb3ZpZGVcbiAgICAgKiBlaXRoZXIgYSBzaW5nbGUgdHdvIGRpbWVuc2lvbmFsIGFycmF5LCBpLmUuIGBbW2tleTEsIHZhbHVlMV0sIFtrZXkyLCB2YWx1ZTJdXWBcbiAgICAgKiBvciB0d28gYXJyYXlzLCBvbmUgb2YgYGtleXNgIGFuZCBvbmUgb2YgY29ycmVzcG9uZGluZyBgdmFsdWVzYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyBvYmplY3RcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAgICogQHBhcmFtIHtBcnJheX0ga2V5cyBUaGUgYXJyYXkgb2Yga2V5cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgYXJyYXkgb2YgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBnaXZlbiBrZXlzIGFuZFxuICAgICAqICBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBPYmplY3QoWydmcmVkJywgJ2Jhcm5leSddLCBbMzAsIDQwXSk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDMwLCAnYmFybmV5JzogNDAgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHppcE9iamVjdChrZXlzLCB2YWx1ZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGtleXMgPyBrZXlzLmxlbmd0aCA6IDAsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIGlmICghdmFsdWVzICYmIGxlbmd0aCAmJiAhaXNBcnJheShrZXlzWzBdKSkge1xuICAgICAgICB2YWx1ZXMgPSBbXTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2luZGV4XTtcbiAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWVzW2luZGV4XTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkpIHtcbiAgICAgICAgICByZXN1bHRba2V5WzBdXSA9IGtleVsxXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGV4ZWN1dGVzIGBmdW5jYCwgd2l0aCAgdGhlIGB0aGlzYCBiaW5kaW5nIGFuZFxuICAgICAqIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbiwgb25seSBhZnRlciBiZWluZyBjYWxsZWQgYG5gIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdGhlIGZ1bmN0aW9uIG11c3QgYmUgY2FsbGVkIGJlZm9yZVxuICAgICAqICBgZnVuY2AgaXMgZXhlY3V0ZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNhdmVzID0gWydwcm9maWxlJywgJ3NldHRpbmdzJ107XG4gICAgICpcbiAgICAgKiB2YXIgZG9uZSA9IF8uYWZ0ZXIoc2F2ZXMubGVuZ3RoLCBmdW5jdGlvbigpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKCdEb25lIHNhdmluZyEnKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaChzYXZlcywgZnVuY3Rpb24odHlwZSkge1xuICAgICAqICAgYXN5bmNTYXZlKHsgJ3R5cGUnOiB0eXBlLCAnY29tcGxldGUnOiBkb25lIH0pO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IGxvZ3MgJ0RvbmUgc2F2aW5nIScsIGFmdGVyIGFsbCBzYXZlcyBoYXZlIGNvbXBsZXRlZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFmdGVyKG4sIGZ1bmMpIHtcbiAgICAgIGlmICghaXNGdW5jdGlvbihmdW5jKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoLS1uIDwgMSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgcHJlcGVuZHMgYW55IGFkZGl0aW9uYWwgYGJpbmRgIGFyZ3VtZW50cyB0byB0aG9zZVxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBib3VuZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBiaW5kLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnXSBBcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gZnVuY3Rpb24oZ3JlZXRpbmcpIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMubmFtZTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogZnVuYyA9IF8uYmluZChmdW5jLCB7ICduYW1lJzogJ2ZyZWQnIH0sICdoaScpO1xuICAgICAqIGZ1bmMoKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiaW5kKGZ1bmMsIHRoaXNBcmcpIHtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMlxuICAgICAgICA/IGNyZWF0ZVdyYXBwZXIoZnVuYywgMTcsIHNsaWNlKGFyZ3VtZW50cywgMiksIG51bGwsIHRoaXNBcmcpXG4gICAgICAgIDogY3JlYXRlV3JhcHBlcihmdW5jLCAxLCBudWxsLCBudWxsLCB0aGlzQXJnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyBtZXRob2RzIG9mIGFuIG9iamVjdCB0byB0aGUgb2JqZWN0IGl0c2VsZiwgb3ZlcndyaXRpbmcgdGhlIGV4aXN0aW5nXG4gICAgICogbWV0aG9kLiBNZXRob2QgbmFtZXMgbWF5IGJlIHNwZWNpZmllZCBhcyBpbmRpdmlkdWFsIGFyZ3VtZW50cyBvciBhcyBhcnJheXNcbiAgICAgKiBvZiBtZXRob2QgbmFtZXMuIElmIG5vIG1ldGhvZCBuYW1lcyBhcmUgcHJvdmlkZWQgYWxsIHRoZSBmdW5jdGlvbiBwcm9wZXJ0aWVzXG4gICAgICogb2YgYG9iamVjdGAgd2lsbCBiZSBib3VuZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmluZCBhbmQgYXNzaWduIHRoZSBib3VuZCBtZXRob2RzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uc3RyaW5nfSBbbWV0aG9kTmFtZV0gVGhlIG9iamVjdCBtZXRob2QgbmFtZXMgdG9cbiAgICAgKiAgYmluZCwgc3BlY2lmaWVkIGFzIGluZGl2aWR1YWwgbWV0aG9kIG5hbWVzIG9yIGFycmF5cyBvZiBtZXRob2QgbmFtZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHZpZXcgPSB7XG4gICAgICogICAnbGFiZWwnOiAnZG9jcycsXG4gICAgICogICAnb25DbGljayc6IGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnY2xpY2tlZCAnICsgdGhpcy5sYWJlbCk7IH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5iaW5kQWxsKHZpZXcpO1xuICAgICAqIGpRdWVyeSgnI2RvY3MnKS5vbignY2xpY2snLCB2aWV3Lm9uQ2xpY2spO1xuICAgICAqIC8vID0+IGxvZ3MgJ2NsaWNrZWQgZG9jcycsIHdoZW4gdGhlIGJ1dHRvbiBpcyBjbGlja2VkXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmluZEFsbChvYmplY3QpIHtcbiAgICAgIHZhciBmdW5jcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYmFzZUZsYXR0ZW4oYXJndW1lbnRzLCB0cnVlLCBmYWxzZSwgMSkgOiBmdW5jdGlvbnMob2JqZWN0KSxcbiAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGZ1bmNzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGZ1bmNzW2luZGV4XTtcbiAgICAgICAgb2JqZWN0W2tleV0gPSBjcmVhdGVXcmFwcGVyKG9iamVjdFtrZXldLCAxLCBudWxsLCBudWxsLCBvYmplY3QpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsIGludm9rZXMgdGhlIG1ldGhvZCBhdCBgb2JqZWN0W2tleV1gXG4gICAgICogYW5kIHByZXBlbmRzIGFueSBhZGRpdGlvbmFsIGBiaW5kS2V5YCBhcmd1bWVudHMgdG8gdGhvc2UgcHJvdmlkZWQgdG8gdGhlIGJvdW5kXG4gICAgICogZnVuY3Rpb24uIFRoaXMgbWV0aG9kIGRpZmZlcnMgZnJvbSBgXy5iaW5kYCBieSBhbGxvd2luZyBib3VuZCBmdW5jdGlvbnMgdG9cbiAgICAgKiByZWZlcmVuY2UgbWV0aG9kcyB0aGF0IHdpbGwgYmUgcmVkZWZpbmVkIG9yIGRvbid0IHlldCBleGlzdC5cbiAgICAgKiBTZWUgaHR0cDovL21pY2hhdXguY2EvYXJ0aWNsZXMvbGF6eS1mdW5jdGlvbi1kZWZpbml0aW9uLXBhdHRlcm4uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRoZSBtZXRob2QgYmVsb25ncyB0by5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmddIEFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHtcbiAgICAgKiAgICduYW1lJzogJ2ZyZWQnLFxuICAgICAqICAgJ2dyZWV0JzogZnVuY3Rpb24oZ3JlZXRpbmcpIHtcbiAgICAgKiAgICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy5uYW1lO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsICdoaScpO1xuICAgICAqIGZ1bmMoKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKlxuICAgICAqIG9iamVjdC5ncmVldCA9IGZ1bmN0aW9uKGdyZWV0aW5nKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAneWEgJyArIHRoaXMubmFtZSArICchJztcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogZnVuYygpO1xuICAgICAqIC8vID0+ICdoaXlhIGZyZWQhJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJpbmRLZXkob2JqZWN0LCBrZXkpIHtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMlxuICAgICAgICA/IGNyZWF0ZVdyYXBwZXIoa2V5LCAxOSwgc2xpY2UoYXJndW1lbnRzLCAyKSwgbnVsbCwgb2JqZWN0KVxuICAgICAgICA6IGNyZWF0ZVdyYXBwZXIoa2V5LCAzLCBudWxsLCBudWxsLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGlzIHRoZSBjb21wb3NpdGlvbiBvZiB0aGUgcHJvdmlkZWQgZnVuY3Rpb25zLFxuICAgICAqIHdoZXJlIGVhY2ggZnVuY3Rpb24gY29uc3VtZXMgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZnVuY3Rpb24gdGhhdCBmb2xsb3dzLlxuICAgICAqIEZvciBleGFtcGxlLCBjb21wb3NpbmcgdGhlIGZ1bmN0aW9ucyBgZigpYCwgYGcoKWAsIGFuZCBgaCgpYCBwcm9kdWNlcyBgZihnKGgoKSkpYC5cbiAgICAgKiBFYWNoIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjb21wb3NlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBbZnVuY10gRnVuY3Rpb25zIHRvIGNvbXBvc2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciByZWFsTmFtZU1hcCA9IHtcbiAgICAgKiAgICdwZWJibGVzJzogJ3BlbmVsb3BlJ1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgZm9ybWF0ID0gZnVuY3Rpb24obmFtZSkge1xuICAgICAqICAgbmFtZSA9IHJlYWxOYW1lTWFwW25hbWUudG9Mb3dlckNhc2UoKV0gfHwgbmFtZTtcbiAgICAgKiAgIHJldHVybiBuYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSgxKS50b0xvd2VyQ2FzZSgpO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgZ3JlZXQgPSBmdW5jdGlvbihmb3JtYXR0ZWQpIHtcbiAgICAgKiAgIHJldHVybiAnSGl5YSAnICsgZm9ybWF0dGVkICsgJyEnO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgd2VsY29tZSA9IF8uY29tcG9zZShncmVldCwgZm9ybWF0KTtcbiAgICAgKiB3ZWxjb21lKCdwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ0hpeWEgUGVuZWxvcGUhJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBvc2UoKSB7XG4gICAgICB2YXIgZnVuY3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgbGVuZ3RoID0gZnVuY3MubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKGZ1bmNzW2xlbmd0aF0pKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGxlbmd0aCA9IGZ1bmNzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgICBhcmdzID0gW2Z1bmNzW2xlbmd0aF0uYXBwbHkodGhpcywgYXJncyldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcmdzWzBdO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gd2hpY2ggYWNjZXB0cyBvbmUgb3IgbW9yZSBhcmd1bWVudHMgb2YgYGZ1bmNgIHRoYXQgd2hlblxuICAgICAqIGludm9rZWQgZWl0aGVyIGV4ZWN1dGVzIGBmdW5jYCByZXR1cm5pbmcgaXRzIHJlc3VsdCwgaWYgYWxsIGBmdW5jYCBhcmd1bWVudHNcbiAgICAgKiBoYXZlIGJlZW4gcHJvdmlkZWQsIG9yIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgb25lIG9yIG1vcmUgb2YgdGhlXG4gICAgICogcmVtYWluaW5nIGBmdW5jYCBhcmd1bWVudHMsIGFuZCBzbyBvbi4gVGhlIGFyaXR5IG9mIGBmdW5jYCBjYW4gYmUgc3BlY2lmaWVkXG4gICAgICogaWYgYGZ1bmMubGVuZ3RoYCBpcyBub3Qgc3VmZmljaWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeShmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICBjb25zb2xlLmxvZyhhICsgYiArIGMpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogY3VycmllZCgxKSgyKSgzKTtcbiAgICAgKiAvLyA9PiA2XG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIpKDMpO1xuICAgICAqIC8vID0+IDZcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gNlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1cnJ5KGZ1bmMsIGFyaXR5KSB7XG4gICAgICBhcml0eSA9IHR5cGVvZiBhcml0eSA9PSAnbnVtYmVyJyA/IGFyaXR5IDogKCthcml0eSB8fCBmdW5jLmxlbmd0aCk7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcHBlcihmdW5jLCA0LCBudWxsLCBudWxsLCBudWxsLCBhcml0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBkZWxheSB0aGUgZXhlY3V0aW9uIG9mIGBmdW5jYCB1bnRpbCBhZnRlclxuICAgICAqIGB3YWl0YCBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgaXQgd2FzIGludm9rZWQuXG4gICAgICogUHJvdmlkZSBhbiBvcHRpb25zIG9iamVjdCB0byBpbmRpY2F0ZSB0aGF0IGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvblxuICAgICAqIHRoZSBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gU3Vic2VxdWVudCBjYWxsc1xuICAgICAqIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2lsbCByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgY2FsbC5cbiAgICAgKlxuICAgICAqIE5vdGU6IElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAgYGZ1bmNgIHdpbGwgYmUgY2FsbGVkXG4gICAgICogb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiBpc1xuICAgICAqIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdIFNwZWNpZnkgZXhlY3V0aW9uIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBjYWxsZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXSBTcGVjaWZ5IGV4ZWN1dGlvbiBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIGF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXhcbiAgICAgKiB2YXIgbGF6eUxheW91dCA9IF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApO1xuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBsYXp5TGF5b3V0KTtcbiAgICAgKlxuICAgICAqIC8vIGV4ZWN1dGUgYHNlbmRNYWlsYCB3aGVuIHRoZSBjbGljayBldmVudCBpcyBmaXJlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzXG4gICAgICogalF1ZXJ5KCcjcG9zdGJveCcpLm9uKCdjbGljaycsIF8uZGVib3VuY2Uoc2VuZE1haWwsIDMwMCwge1xuICAgICAqICAgJ2xlYWRpbmcnOiB0cnVlLFxuICAgICAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIC8vIGVuc3VyZSBgYmF0Y2hMb2dgIGlzIGV4ZWN1dGVkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzXG4gICAgICogdmFyIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSgnL3N0cmVhbScpO1xuICAgICAqIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7XG4gICAgICogICAnbWF4V2FpdCc6IDEwMDBcbiAgICAgKiB9LCBmYWxzZSk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGFyZ3MsXG4gICAgICAgICAgbWF4VGltZW91dElkLFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICBzdGFtcCxcbiAgICAgICAgICB0aGlzQXJnLFxuICAgICAgICAgIHRpbWVvdXRJZCxcbiAgICAgICAgICB0cmFpbGluZ0NhbGwsXG4gICAgICAgICAgbGFzdENhbGxlZCA9IDAsXG4gICAgICAgICAgbWF4V2FpdCA9IGZhbHNlLFxuICAgICAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICAgICAgaWYgKCFpc0Z1bmN0aW9uKGZ1bmMpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3I7XG4gICAgICB9XG4gICAgICB3YWl0ID0gbmF0aXZlTWF4KDAsIHdhaXQpIHx8IDA7XG4gICAgICBpZiAob3B0aW9ucyA9PT0gdHJ1ZSkge1xuICAgICAgICB2YXIgbGVhZGluZyA9IHRydWU7XG4gICAgICAgIHRyYWlsaW5nID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSBvcHRpb25zLmxlYWRpbmc7XG4gICAgICAgIG1heFdhaXQgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucyAmJiAobmF0aXZlTWF4KHdhaXQsIG9wdGlvbnMubWF4V2FpdCkgfHwgMCk7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgICAgfVxuICAgICAgdmFyIGRlbGF5ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlbWFpbmluZyA9IHdhaXQgLSAobm93KCkgLSBzdGFtcCk7XG4gICAgICAgIGlmIChyZW1haW5pbmcgPD0gMCkge1xuICAgICAgICAgIGlmIChtYXhUaW1lb3V0SWQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChtYXhUaW1lb3V0SWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgaXNDYWxsZWQgPSB0cmFpbGluZ0NhbGw7XG4gICAgICAgICAgbWF4VGltZW91dElkID0gdGltZW91dElkID0gdHJhaWxpbmdDYWxsID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChpc0NhbGxlZCkge1xuICAgICAgICAgICAgbGFzdENhbGxlZCA9IG5vdygpO1xuICAgICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgICAgIGlmICghdGltZW91dElkICYmICFtYXhUaW1lb3V0SWQpIHtcbiAgICAgICAgICAgICAgYXJncyA9IHRoaXNBcmcgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGRlbGF5ZWQsIHJlbWFpbmluZyk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBtYXhEZWxheWVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aW1lb3V0SWQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgfVxuICAgICAgICBtYXhUaW1lb3V0SWQgPSB0aW1lb3V0SWQgPSB0cmFpbGluZ0NhbGwgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0cmFpbGluZyB8fCAobWF4V2FpdCAhPT0gd2FpdCkpIHtcbiAgICAgICAgICBsYXN0Q2FsbGVkID0gbm93KCk7XG4gICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgICBpZiAoIXRpbWVvdXRJZCAmJiAhbWF4VGltZW91dElkKSB7XG4gICAgICAgICAgICBhcmdzID0gdGhpc0FyZyA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN0YW1wID0gbm93KCk7XG4gICAgICAgIHRoaXNBcmcgPSB0aGlzO1xuICAgICAgICB0cmFpbGluZ0NhbGwgPSB0cmFpbGluZyAmJiAodGltZW91dElkIHx8ICFsZWFkaW5nKTtcblxuICAgICAgICBpZiAobWF4V2FpdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICB2YXIgbGVhZGluZ0NhbGwgPSBsZWFkaW5nICYmICF0aW1lb3V0SWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFtYXhUaW1lb3V0SWQgJiYgIWxlYWRpbmcpIHtcbiAgICAgICAgICAgIGxhc3RDYWxsZWQgPSBzdGFtcDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHJlbWFpbmluZyA9IG1heFdhaXQgLSAoc3RhbXAgLSBsYXN0Q2FsbGVkKSxcbiAgICAgICAgICAgICAgaXNDYWxsZWQgPSByZW1haW5pbmcgPD0gMDtcblxuICAgICAgICAgIGlmIChpc0NhbGxlZCkge1xuICAgICAgICAgICAgaWYgKG1heFRpbWVvdXRJZCkge1xuICAgICAgICAgICAgICBtYXhUaW1lb3V0SWQgPSBjbGVhclRpbWVvdXQobWF4VGltZW91dElkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RDYWxsZWQgPSBzdGFtcDtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKCFtYXhUaW1lb3V0SWQpIHtcbiAgICAgICAgICAgIG1heFRpbWVvdXRJZCA9IHNldFRpbWVvdXQobWF4RGVsYXllZCwgcmVtYWluaW5nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ2FsbGVkICYmIHRpbWVvdXRJZCkge1xuICAgICAgICAgIHRpbWVvdXRJZCA9IGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF0aW1lb3V0SWQgJiYgd2FpdCAhPT0gbWF4V2FpdCkge1xuICAgICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZGVsYXllZCwgd2FpdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlYWRpbmdDYWxsKSB7XG4gICAgICAgICAgaXNDYWxsZWQgPSB0cnVlO1xuICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ2FsbGVkICYmICF0aW1lb3V0SWQgJiYgIW1heFRpbWVvdXRJZCkge1xuICAgICAgICAgIGFyZ3MgPSB0aGlzQXJnID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZlcnMgZXhlY3V0aW5nIHRoZSBgZnVuY2AgZnVuY3Rpb24gdW50aWwgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXMgY2xlYXJlZC5cbiAgICAgKiBBZGRpdGlvbmFsIGFyZ3VtZW50cyB3aWxsIGJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0IGlzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVmZXIuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnXSBBcmd1bWVudHMgdG8gaW52b2tlIHRoZSBmdW5jdGlvbiB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHRleHQpIHsgY29uc29sZS5sb2codGV4dCk7IH0sICdkZWZlcnJlZCcpO1xuICAgICAqIC8vIGxvZ3MgJ2RlZmVycmVkJyBhZnRlciBvbmUgb3IgbW9yZSBtaWxsaXNlY29uZHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWZlcihmdW5jKSB7XG4gICAgICBpZiAoIWlzRnVuY3Rpb24oZnVuYykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcjtcbiAgICAgIH1cbiAgICAgIHZhciBhcmdzID0gc2xpY2UoYXJndW1lbnRzLCAxKTtcbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7IH0sIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBgZnVuY2AgZnVuY3Rpb24gYWZ0ZXIgYHdhaXRgIG1pbGxpc2Vjb25kcy4gQWRkaXRpb25hbCBhcmd1bWVudHNcbiAgICAgKiB3aWxsIGJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0IGlzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgZXhlY3V0aW9uLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ10gQXJndW1lbnRzIHRvIGludm9rZSB0aGUgZnVuY3Rpb24gd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lciBpZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWxheShmdW5jdGlvbih0ZXh0KSB7IGNvbnNvbGUubG9nKHRleHQpOyB9LCAxMDAwLCAnbGF0ZXInKTtcbiAgICAgKiAvLyA9PiBsb2dzICdsYXRlcicgYWZ0ZXIgb25lIHNlY29uZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlbGF5KGZ1bmMsIHdhaXQpIHtcbiAgICAgIGlmICghaXNGdW5jdGlvbihmdW5jKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yO1xuICAgICAgfVxuICAgICAgdmFyIGFyZ3MgPSBzbGljZShhcmd1bWVudHMsIDIpO1xuICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTsgfSwgd2FpdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbWVtb2l6ZXMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuIElmIGByZXNvbHZlcmAgaXNcbiAgICAgKiBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBjYWNoZSBrZXkgZm9yIHN0b3JpbmcgdGhlIHJlc3VsdFxuICAgICAqIGJhc2VkIG9uIHRoZSBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uLiBCeSBkZWZhdWx0LCB0aGVcbiAgICAgKiBmaXJzdCBhcmd1bWVudCBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24gaXMgdXNlZCBhcyB0aGUgY2FjaGUga2V5LlxuICAgICAqIFRoZSBgZnVuY2AgaXMgZXhlY3V0ZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqIFRoZSByZXN1bHQgY2FjaGUgaXMgZXhwb3NlZCBhcyB0aGUgYGNhY2hlYCBwcm9wZXJ0eSBvbiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gQSBmdW5jdGlvbiB1c2VkIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXppbmcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmaWJvbmFjY2kgPSBfLm1lbW9pemUoZnVuY3Rpb24obikge1xuICAgICAqICAgcmV0dXJuIG4gPCAyID8gbiA6IGZpYm9uYWNjaShuIC0gMSkgKyBmaWJvbmFjY2kobiAtIDIpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogZmlib25hY2NpKDkpXG4gICAgICogLy8gPT4gMzRcbiAgICAgKlxuICAgICAqIHZhciBkYXRhID0ge1xuICAgICAqICAgJ2ZyZWQnOiB7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAnbmFtZSc6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiAvLyBtb2RpZnlpbmcgdGhlIHJlc3VsdCBjYWNoZVxuICAgICAqIHZhciBnZXQgPSBfLm1lbW9pemUoZnVuY3Rpb24obmFtZSkgeyByZXR1cm4gZGF0YVtuYW1lXTsgfSwgXy5pZGVudGl0eSk7XG4gICAgICogZ2V0KCdwZWJibGVzJyk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqXG4gICAgICogZ2V0LmNhY2hlLnBlYmJsZXMubmFtZSA9ICdwZW5lbG9wZSc7XG4gICAgICogZ2V0KCdwZWJibGVzJyk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdwZW5lbG9wZScsICdhZ2UnOiAxIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZW1vaXplKGZ1bmMsIHJlc29sdmVyKSB7XG4gICAgICBpZiAoIWlzRnVuY3Rpb24oZnVuYykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcjtcbiAgICAgIH1cbiAgICAgIHZhciBtZW1vaXplZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY2FjaGUgPSBtZW1vaXplZC5jYWNoZSxcbiAgICAgICAgICAgIGtleSA9IHJlc29sdmVyID8gcmVzb2x2ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IGtleVByZWZpeCArIGFyZ3VtZW50c1swXTtcblxuICAgICAgICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChjYWNoZSwga2V5KVxuICAgICAgICAgID8gY2FjaGVba2V5XVxuICAgICAgICAgIDogKGNhY2hlW2tleV0gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgfVxuICAgICAgbWVtb2l6ZWQuY2FjaGUgPSB7fTtcbiAgICAgIHJldHVybiBtZW1vaXplZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpcyByZXN0cmljdGVkIHRvIGV4ZWN1dGUgYGZ1bmNgIG9uY2UuIFJlcGVhdCBjYWxscyB0b1xuICAgICAqIHRoZSBmdW5jdGlvbiB3aWxsIHJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGNhbGwuIFRoZSBgZnVuY2AgaXMgZXhlY3V0ZWRcbiAgICAgKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgaW5pdGlhbGl6ZSA9IF8ub25jZShjcmVhdGVBcHBsaWNhdGlvbik7XG4gICAgICogaW5pdGlhbGl6ZSgpO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiAvLyBgaW5pdGlhbGl6ZWAgZXhlY3V0ZXMgYGNyZWF0ZUFwcGxpY2F0aW9uYCBvbmNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25jZShmdW5jKSB7XG4gICAgICB2YXIgcmFuLFxuICAgICAgICAgIHJlc3VsdDtcblxuICAgICAgaWYgKCFpc0Z1bmN0aW9uKGZ1bmMpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3I7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChyYW4pIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJhbiA9IHRydWU7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgICAgICAvLyBjbGVhciB0aGUgYGZ1bmNgIHZhcmlhYmxlIHNvIHRoZSBmdW5jdGlvbiBtYXkgYmUgZ2FyYmFnZSBjb2xsZWN0ZWRcbiAgICAgICAgZnVuYyA9IG51bGw7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCwgaW52b2tlcyBgZnVuY2Agd2l0aCBhbnkgYWRkaXRpb25hbFxuICAgICAqIGBwYXJ0aWFsYCBhcmd1bWVudHMgcHJlcGVuZGVkIHRvIHRob3NlIHByb3ZpZGVkIHRvIHRoZSBuZXcgZnVuY3Rpb24uIFRoaXNcbiAgICAgKiBtZXRob2QgaXMgc2ltaWxhciB0byBgXy5iaW5kYCBleGNlcHQgaXQgZG9lcyAqKm5vdCoqIGFsdGVyIHRoZSBgdGhpc2AgYmluZGluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ10gQXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZ3JlZXQgPSBmdW5jdGlvbihncmVldGluZywgbmFtZSkgeyByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lOyB9O1xuICAgICAqIHZhciBoaSA9IF8ucGFydGlhbChncmVldCwgJ2hpJyk7XG4gICAgICogaGkoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJ0aWFsKGZ1bmMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwcGVyKGZ1bmMsIDE2LCBzbGljZShhcmd1bWVudHMsIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnBhcnRpYWxgIGV4Y2VwdCB0aGF0IGBwYXJ0aWFsYCBhcmd1bWVudHMgYXJlXG4gICAgICogYXBwZW5kZWQgdG8gdGhvc2UgcHJvdmlkZWQgdG8gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ10gQXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZGVmYXVsdHNEZWVwID0gXy5wYXJ0aWFsUmlnaHQoXy5tZXJnZSwgXy5kZWZhdWx0cyk7XG4gICAgICpcbiAgICAgKiB2YXIgb3B0aW9ucyA9IHtcbiAgICAgKiAgICd2YXJpYWJsZSc6ICdkYXRhJyxcbiAgICAgKiAgICdpbXBvcnRzJzogeyAnanEnOiAkIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogZGVmYXVsdHNEZWVwKG9wdGlvbnMsIF8udGVtcGxhdGVTZXR0aW5ncyk7XG4gICAgICpcbiAgICAgKiBvcHRpb25zLnZhcmlhYmxlXG4gICAgICogLy8gPT4gJ2RhdGEnXG4gICAgICpcbiAgICAgKiBvcHRpb25zLmltcG9ydHNcbiAgICAgKiAvLyA9PiB7ICdfJzogXywgJ2pxJzogJCB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFydGlhbFJpZ2h0KGZ1bmMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwcGVyKGZ1bmMsIDMyLCBudWxsLCBzbGljZShhcmd1bWVudHMsIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBleGVjdXRlZCwgd2lsbCBvbmx5IGNhbGwgdGhlIGBmdW5jYCBmdW5jdGlvblxuICAgICAqIGF0IG1vc3Qgb25jZSBwZXIgZXZlcnkgYHdhaXRgIG1pbGxpc2Vjb25kcy4gUHJvdmlkZSBhbiBvcHRpb25zIG9iamVjdCB0b1xuICAgICAqIGluZGljYXRlIHRoYXQgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZSBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlXG4gICAgICogb2YgdGhlIGB3YWl0YCB0aW1lb3V0LiBTdWJzZXF1ZW50IGNhbGxzIHRvIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gd2lsbFxuICAgICAqIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBjYWxsLlxuICAgICAqXG4gICAgICogTm90ZTogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCBgZnVuY2Agd2lsbCBiZSBjYWxsZWRcbiAgICAgKiBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGlzXG4gICAgICogaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHRocm90dGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGV4ZWN1dGlvbnMgdG8uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPXRydWVdIFNwZWNpZnkgZXhlY3V0aW9uIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXSBTcGVjaWZ5IGV4ZWN1dGlvbiBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB0aHJvdHRsZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIGF2b2lkIGV4Y2Vzc2l2ZWx5IHVwZGF0aW5nIHRoZSBwb3NpdGlvbiB3aGlsZSBzY3JvbGxpbmdcbiAgICAgKiB2YXIgdGhyb3R0bGVkID0gXy50aHJvdHRsZSh1cGRhdGVQb3NpdGlvbiwgMTAwKTtcbiAgICAgKiBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgdGhyb3R0bGVkKTtcbiAgICAgKlxuICAgICAqIC8vIGV4ZWN1dGUgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlc1xuICAgICAqIGpRdWVyeSgnLmludGVyYWN0aXZlJykub24oJ2NsaWNrJywgXy50aHJvdHRsZShyZW5ld1Rva2VuLCAzMDAwMDAsIHtcbiAgICAgKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gICAgICogfSkpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZWFkaW5nID0gdHJ1ZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICghaXNGdW5jdGlvbihmdW5jKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgICAgIGxlYWRpbmcgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgbGVhZGluZyA9ICdsZWFkaW5nJyBpbiBvcHRpb25zID8gb3B0aW9ucy5sZWFkaW5nIDogbGVhZGluZztcbiAgICAgICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyBvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG4gICAgICBkZWJvdW5jZU9wdGlvbnMubGVhZGluZyA9IGxlYWRpbmc7XG4gICAgICBkZWJvdW5jZU9wdGlvbnMubWF4V2FpdCA9IHdhaXQ7XG4gICAgICBkZWJvdW5jZU9wdGlvbnMudHJhaWxpbmcgPSB0cmFpbGluZztcblxuICAgICAgcmV0dXJuIGRlYm91bmNlKGZ1bmMsIHdhaXQsIGRlYm91bmNlT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcHJvdmlkZXMgYHZhbHVlYCB0byB0aGUgd3JhcHBlciBmdW5jdGlvbiBhcyBpdHNcbiAgICAgKiBmaXJzdCBhcmd1bWVudC4gQWRkaXRpb25hbCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGZ1bmN0aW9uIGFyZSBhcHBlbmRlZFxuICAgICAqIHRvIHRob3NlIHByb3ZpZGVkIHRvIHRoZSB3cmFwcGVyIGZ1bmN0aW9uLiBUaGUgd3JhcHBlciBpcyBleGVjdXRlZCB3aXRoXG4gICAgICogdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcHBlciBUaGUgd3JhcHBlciBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHAgPSBfLndyYXAoXy5lc2NhcGUsIGZ1bmN0aW9uKGZ1bmMsIHRleHQpIHtcbiAgICAgKiAgIHJldHVybiAnPHA+JyArIGZ1bmModGV4dCkgKyAnPC9wPic7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBwKCdGcmVkLCBXaWxtYSwgJiBQZWJibGVzJyk7XG4gICAgICogLy8gPT4gJzxwPkZyZWQsIFdpbG1hLCAmYW1wOyBQZWJibGVzPC9wPidcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwKHZhbHVlLCB3cmFwcGVyKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcHBlcih3cmFwcGVyLCAxNiwgW3ZhbHVlXSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ25hbWUnOiAnZnJlZCcgfTtcbiAgICAgKiB2YXIgZ2V0dGVyID0gXy5jb25zdGFudChvYmplY3QpO1xuICAgICAqIGdldHRlcigpID09PSBvYmplY3Q7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbnN0YW50KHZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYSBjYWxsYmFjayBib3VuZCB0byBhbiBvcHRpb25hbCBgdGhpc0FyZ2AuIElmIGBmdW5jYCBpcyBhIHByb3BlcnR5XG4gICAgICogbmFtZSB0aGUgY3JlYXRlZCBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgZm9yIGEgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKiBJZiBgZnVuY2AgaXMgYW4gb2JqZWN0IHRoZSBjcmVhdGVkIGNhbGxiYWNrIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHNcbiAgICAgKiB0aGF0IGNvbnRhaW4gdGhlIGVxdWl2YWxlbnQgb2JqZWN0IHByb3BlcnRpZXMsIG90aGVyd2lzZSBpdCB3aWxsIHJldHVybiBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBwYXJhbSB7Kn0gW2Z1bmM9aWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGEgY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGNhbGxiYWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJnQ291bnRdIFRoZSBudW1iZXIgb2YgYXJndW1lbnRzIHRoZSBjYWxsYmFjayBhY2NlcHRzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBhIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIHdyYXAgdG8gY3JlYXRlIGN1c3RvbSBjYWxsYmFjayBzaG9ydGhhbmRzXG4gICAgICogXy5jcmVhdGVDYWxsYmFjayA9IF8ud3JhcChfLmNyZWF0ZUNhbGxiYWNrLCBmdW5jdGlvbihmdW5jLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAqICAgdmFyIG1hdGNoID0gL14oLis/KV9fKFtnbF10KSguKykkLy5leGVjKGNhbGxiYWNrKTtcbiAgICAgKiAgIHJldHVybiAhbWF0Y2ggPyBmdW5jKGNhbGxiYWNrLCB0aGlzQXJnKSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAqICAgICByZXR1cm4gbWF0Y2hbMl0gPT0gJ2d0JyA/IG9iamVjdFttYXRjaFsxXV0gPiBtYXRjaFszXSA6IG9iamVjdFttYXRjaFsxXV0gPCBtYXRjaFszXTtcbiAgICAgKiAgIH07XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihjaGFyYWN0ZXJzLCAnYWdlX19ndDM4Jyk7XG4gICAgICogLy8gPT4gW3sgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhbGxiYWNrKGZ1bmMsIHRoaXNBcmcsIGFyZ0NvdW50KSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiBmdW5jO1xuICAgICAgaWYgKGZ1bmMgPT0gbnVsbCB8fCB0eXBlID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VDcmVhdGVDYWxsYmFjayhmdW5jLCB0aGlzQXJnLCBhcmdDb3VudCk7XG4gICAgICB9XG4gICAgICAvLyBoYW5kbGUgXCJfLnBsdWNrXCIgc3R5bGUgY2FsbGJhY2sgc2hvcnRoYW5kc1xuICAgICAgaWYgKHR5cGUgIT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIHByb3BlcnR5KGZ1bmMpO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BzID0ga2V5cyhmdW5jKSxcbiAgICAgICAgICBrZXkgPSBwcm9wc1swXSxcbiAgICAgICAgICBhID0gZnVuY1trZXldO1xuXG4gICAgICAvLyBoYW5kbGUgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2sgc2hvcnRoYW5kc1xuICAgICAgaWYgKHByb3BzLmxlbmd0aCA9PSAxICYmIGEgPT09IGEgJiYgIWlzT2JqZWN0KGEpKSB7XG4gICAgICAgIC8vIGZhc3QgcGF0aCB0aGUgY29tbW9uIGNhc2Ugb2YgcHJvdmlkaW5nIGFuIG9iamVjdCB3aXRoIGEgc2luZ2xlXG4gICAgICAgIC8vIHByb3BlcnR5IGNvbnRhaW5pbmcgYSBwcmltaXRpdmUgdmFsdWVcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICAgIHZhciBiID0gb2JqZWN0W2tleV07XG4gICAgICAgICAgcmV0dXJuIGEgPT09IGIgJiYgKGEgIT09IDAgfHwgKDEgLyBhID09IDEgLyBiKSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBwcm9wcy5sZW5ndGgsXG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcblxuICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgICBpZiAoIShyZXN1bHQgPSBiYXNlSXNFcXVhbChvYmplY3RbcHJvcHNbbGVuZ3RoXV0sIGZ1bmNbcHJvcHNbbGVuZ3RoXV0sIG51bGwsIHRydWUpKSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBjaGFyYWN0ZXJzIGAmYCwgYDxgLCBgPmAsIGBcImAsIGFuZCBgJ2AgaW4gYHN0cmluZ2AgdG8gdGhlaXJcbiAgICAgKiBjb3JyZXNwb25kaW5nIEhUTUwgZW50aXRpZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGUoJ0ZyZWQsIFdpbG1hLCAmIFBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCwgV2lsbWEsICZhbXA7IFBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXNjYXBlKHN0cmluZykge1xuICAgICAgcmV0dXJuIHN0cmluZyA9PSBudWxsID8gJycgOiBTdHJpbmcoc3RyaW5nKS5yZXBsYWNlKHJlVW5lc2NhcGVkSHRtbCwgZXNjYXBlSHRtbENoYXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IHByb3ZpZGVkIHRvIGl0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgQW55IHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICduYW1lJzogJ2ZyZWQnIH07XG4gICAgICogXy5pZGVudGl0eShvYmplY3QpID09PSBvYmplY3Q7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBmdW5jdGlvbiBwcm9wZXJ0aWVzIG9mIGEgc291cmNlIG9iamVjdCB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIElmIGBvYmplY3RgIGlzIGEgZnVuY3Rpb24gbWV0aG9kcyB3aWxsIGJlIGFkZGVkIHRvIGl0cyBwcm90b3R5cGUgYXMgd2VsbC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gW29iamVjdD1sb2Rhc2hdIG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBmdW5jdGlvbnMgdG8gYWRkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hhaW49dHJ1ZV0gU3BlY2lmeSB3aGV0aGVyIHRoZSBmdW5jdGlvbnMgYWRkZWQgYXJlIGNoYWluYWJsZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHJpbmcpIHtcbiAgICAgKiAgIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSkudG9Mb3dlckNhc2UoKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1peGluKHsgJ2NhcGl0YWxpemUnOiBjYXBpdGFsaXplIH0pO1xuICAgICAqIF8uY2FwaXRhbGl6ZSgnZnJlZCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqXG4gICAgICogXygnZnJlZCcpLmNhcGl0YWxpemUoKS52YWx1ZSgpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqXG4gICAgICogXy5taXhpbih7ICdjYXBpdGFsaXplJzogY2FwaXRhbGl6ZSB9LCB7ICdjaGFpbic6IGZhbHNlIH0pO1xuICAgICAqIF8oJ2ZyZWQnKS5jYXBpdGFsaXplKCk7XG4gICAgICogLy8gPT4gJ0ZyZWQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWl4aW4ob2JqZWN0LCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBjaGFpbiA9IHRydWUsXG4gICAgICAgICAgbWV0aG9kTmFtZXMgPSBzb3VyY2UgJiYgZnVuY3Rpb25zKHNvdXJjZSk7XG5cbiAgICAgIGlmICghc291cmNlIHx8ICghb3B0aW9ucyAmJiAhbWV0aG9kTmFtZXMubGVuZ3RoKSkge1xuICAgICAgICBpZiAob3B0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgICAgb3B0aW9ucyA9IHNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBjdG9yID0gbG9kYXNoV3JhcHBlcjtcbiAgICAgICAgc291cmNlID0gb2JqZWN0O1xuICAgICAgICBvYmplY3QgPSBsb2Rhc2g7XG4gICAgICAgIG1ldGhvZE5hbWVzID0gZnVuY3Rpb25zKHNvdXJjZSk7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgY2hhaW4gPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qob3B0aW9ucykgJiYgJ2NoYWluJyBpbiBvcHRpb25zKSB7XG4gICAgICAgIGNoYWluID0gb3B0aW9ucy5jaGFpbjtcbiAgICAgIH1cbiAgICAgIHZhciBjdG9yID0gb2JqZWN0LFxuICAgICAgICAgIGlzRnVuYyA9IGlzRnVuY3Rpb24oY3Rvcik7XG5cbiAgICAgIGZvckVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgICAgdmFyIGZ1bmMgPSBvYmplY3RbbWV0aG9kTmFtZV0gPSBzb3VyY2VbbWV0aG9kTmFtZV07XG4gICAgICAgIGlmIChpc0Z1bmMpIHtcbiAgICAgICAgICBjdG9yLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX18sXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fLFxuICAgICAgICAgICAgICAgIGFyZ3MgPSBbdmFsdWVdO1xuXG4gICAgICAgICAgICBwdXNoLmFwcGx5KGFyZ3MsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseShvYmplY3QsIGFyZ3MpO1xuICAgICAgICAgICAgaWYgKGNoYWluIHx8IGNoYWluQWxsKSB7XG4gICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gcmVzdWx0ICYmIGlzT2JqZWN0KHJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgY3RvcihyZXN1bHQpO1xuICAgICAgICAgICAgICByZXN1bHQuX19jaGFpbl9fID0gY2hhaW5BbGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVydHMgdGhlICdfJyB2YXJpYWJsZSB0byBpdHMgcHJldmlvdXMgdmFsdWUgYW5kIHJldHVybnMgYSByZWZlcmVuY2UgdG9cbiAgICAgKiB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGxvZGFzaCA9IF8ubm9Db25mbGljdCgpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7XG4gICAgICBjb250ZXh0Ll8gPSBvbGREYXNoO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBuby1vcGVyYXRpb24gZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICduYW1lJzogJ2ZyZWQnIH07XG4gICAgICogXy5ub29wKG9iamVjdCkgPT09IHVuZGVmaW5lZDtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9vcCgpIHtcbiAgICAgIC8vIG5vIG9wZXJhdGlvbiBwZXJmb3JtZWRcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBVbml4IGVwb2NoXG4gICAgICogKDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzdGFtcCA9IF8ubm93KCk7XG4gICAgICogXy5kZWZlcihmdW5jdGlvbigpIHsgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTsgfSk7XG4gICAgICogLy8gPT4gbG9ncyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpdCB0b29rIGZvciB0aGUgZGVmZXJyZWQgZnVuY3Rpb24gdG8gYmUgY2FsbGVkXG4gICAgICovXG4gICAgdmFyIG5vdyA9IGlzTmF0aXZlKG5vdyA9IERhdGUubm93KSAmJiBub3cgfHwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBnaXZlbiB2YWx1ZSBpbnRvIGFuIGludGVnZXIgb2YgdGhlIHNwZWNpZmllZCByYWRpeC5cbiAgICAgKiBJZiBgcmFkaXhgIGlzIGB1bmRlZmluZWRgIG9yIGAwYCBhIGByYWRpeGAgb2YgYDEwYCBpcyB1c2VkIHVubGVzcyB0aGVcbiAgICAgKiBgdmFsdWVgIGlzIGEgaGV4YWRlY2ltYWwsIGluIHdoaWNoIGNhc2UgYSBgcmFkaXhgIG9mIGAxNmAgaXMgdXNlZC5cbiAgICAgKlxuICAgICAqIE5vdGU6IFRoaXMgbWV0aG9kIGF2b2lkcyBkaWZmZXJlbmNlcyBpbiBuYXRpdmUgRVMzIGFuZCBFUzUgYHBhcnNlSW50YFxuICAgICAqIGltcGxlbWVudGF0aW9ucy4gU2VlIGh0dHA6Ly9lczUuZ2l0aHViLmlvLyNFLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFyc2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpeF0gVGhlIHJhZGl4IHVzZWQgdG8gaW50ZXJwcmV0IHRoZSB2YWx1ZSB0byBwYXJzZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBuZXcgaW50ZWdlciB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYXJzZUludCgnMDgnKTtcbiAgICAgKiAvLyA9PiA4XG4gICAgICovXG4gICAgdmFyIHBhcnNlSW50ID0gbmF0aXZlUGFyc2VJbnQod2hpdGVzcGFjZSArICcwOCcpID09IDggPyBuYXRpdmVQYXJzZUludCA6IGZ1bmN0aW9uKHZhbHVlLCByYWRpeCkge1xuICAgICAgLy8gRmlyZWZveCA8IDIxIGFuZCBPcGVyYSA8IDE1IGZvbGxvdyB0aGUgRVMzIHNwZWNpZmllZCBpbXBsZW1lbnRhdGlvbiBvZiBgcGFyc2VJbnRgXG4gICAgICByZXR1cm4gbmF0aXZlUGFyc2VJbnQoaXNTdHJpbmcodmFsdWUpID8gdmFsdWUucmVwbGFjZShyZUxlYWRpbmdTcGFjZXNBbmRaZXJvcywgJycpIDogdmFsdWUsIHJhZGl4IHx8IDApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgXCJfLnBsdWNrXCIgc3R5bGUgZnVuY3Rpb24sIHdoaWNoIHJldHVybnMgdGhlIGBrZXlgIHZhbHVlIG9mIGFcbiAgICAgKiBnaXZlbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gcmV0cmlldmUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogdmFyIGdldE5hbWUgPSBfLnByb3BlcnR5KCduYW1lJyk7XG4gICAgICpcbiAgICAgKiBfLm1hcChjaGFyYWN0ZXJzLCBnZXROYW1lKTtcbiAgICAgKiAvLyA9PiBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIF8uc29ydEJ5KGNoYXJhY3RlcnMsIGdldE5hbWUpO1xuICAgICAqIC8vID0+IFt7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LCB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHByb3BlcnR5KGtleSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0W2tleV07XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2R1Y2VzIGEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIGBtaW5gIGFuZCBgbWF4YCAoaW5jbHVzaXZlKS4gSWYgb25seSBvbmVcbiAgICAgKiBhcmd1bWVudCBpcyBwcm92aWRlZCBhIG51bWJlciBiZXR3ZWVuIGAwYCBhbmQgdGhlIGdpdmVuIG51bWJlciB3aWxsIGJlXG4gICAgICogcmV0dXJuZWQuIElmIGBmbG9hdGluZ2AgaXMgdHJ1ZXkgb3IgZWl0aGVyIGBtaW5gIG9yIGBtYXhgIGFyZSBmbG9hdHMgYVxuICAgICAqIGZsb2F0aW5nLXBvaW50IG51bWJlciB3aWxsIGJlIHJldHVybmVkIGluc3RlYWQgb2YgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW21pbj0wXSBUaGUgbWluaW11bSBwb3NzaWJsZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW21heD0xXSBUaGUgbWF4aW11bSBwb3NzaWJsZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmbG9hdGluZz1mYWxzZV0gU3BlY2lmeSByZXR1cm5pbmcgYSBmbG9hdGluZy1wb2ludCBudW1iZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBhIHJhbmRvbSBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDAsIDUpO1xuICAgICAqIC8vID0+IGFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSg1KTtcbiAgICAgKiAvLyA9PiBhbHNvIGFuIGludGVnZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSg1LCB0cnVlKTtcbiAgICAgKiAvLyA9PiBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDEuMiwgNS4yKTtcbiAgICAgKiAvLyA9PiBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBiZXR3ZWVuIDEuMiBhbmQgNS4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmFuZG9tKG1pbiwgbWF4LCBmbG9hdGluZykge1xuICAgICAgdmFyIG5vTWluID0gbWluID09IG51bGwsXG4gICAgICAgICAgbm9NYXggPSBtYXggPT0gbnVsbDtcblxuICAgICAgaWYgKGZsb2F0aW5nID09IG51bGwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBtaW4gPT0gJ2Jvb2xlYW4nICYmIG5vTWF4KSB7XG4gICAgICAgICAgZmxvYXRpbmcgPSBtaW47XG4gICAgICAgICAgbWluID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghbm9NYXggJiYgdHlwZW9mIG1heCA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IG1heDtcbiAgICAgICAgICBub01heCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChub01pbiAmJiBub01heCkge1xuICAgICAgICBtYXggPSAxO1xuICAgICAgfVxuICAgICAgbWluID0gK21pbiB8fCAwO1xuICAgICAgaWYgKG5vTWF4KSB7XG4gICAgICAgIG1heCA9IG1pbjtcbiAgICAgICAgbWluID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1heCA9ICttYXggfHwgMDtcbiAgICAgIH1cbiAgICAgIGlmIChmbG9hdGluZyB8fCBtaW4gJSAxIHx8IG1heCAlIDEpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBuYXRpdmVSYW5kb20oKTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZU1pbihtaW4gKyAocmFuZCAqIChtYXggLSBtaW4gKyBwYXJzZUZsb2F0KCcxZS0nICsgKChyYW5kICsnJykubGVuZ3RoIC0gMSkpKSksIG1heCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVJhbmRvbShtaW4sIG1heCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzb2x2ZXMgdGhlIHZhbHVlIG9mIHByb3BlcnR5IGBrZXlgIG9uIGBvYmplY3RgLiBJZiBga2V5YCBpcyBhIGZ1bmN0aW9uXG4gICAgICogaXQgd2lsbCBiZSBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBvYmplY3RgIGFuZCBpdHMgcmVzdWx0IHJldHVybmVkLFxuICAgICAqIGVsc2UgdGhlIHByb3BlcnR5IHZhbHVlIGlzIHJldHVybmVkLiBJZiBgb2JqZWN0YCBpcyBmYWxzZXkgdGhlbiBgdW5kZWZpbmVkYFxuICAgICAqIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHJlc29sdmUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge1xuICAgICAqICAgJ2NoZWVzZSc6ICdjcnVtcGV0cycsXG4gICAgICogICAnc3R1ZmYnOiBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgcmV0dXJuICdub25zZW5zZSc7XG4gICAgICogICB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2NoZWVzZScpO1xuICAgICAqIC8vID0+ICdjcnVtcGV0cydcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ3N0dWZmJyk7XG4gICAgICogLy8gPT4gJ25vbnNlbnNlJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc3VsdChvYmplY3QsIGtleSkge1xuICAgICAgaWYgKG9iamVjdCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24odmFsdWUpID8gb2JqZWN0W2tleV0oKSA6IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgbWljcm8tdGVtcGxhdGluZyBtZXRob2QgdGhhdCBoYW5kbGVzIGFyYml0cmFyeSBkZWxpbWl0ZXJzLCBwcmVzZXJ2ZXNcbiAgICAgKiB3aGl0ZXNwYWNlLCBhbmQgY29ycmVjdGx5IGVzY2FwZXMgcXVvdGVzIHdpdGhpbiBpbnRlcnBvbGF0ZWQgY29kZS5cbiAgICAgKlxuICAgICAqIE5vdGU6IEluIHRoZSBkZXZlbG9wbWVudCBidWlsZCwgYF8udGVtcGxhdGVgIHV0aWxpemVzIHNvdXJjZVVSTHMgZm9yIGVhc2llclxuICAgICAqIGRlYnVnZ2luZy4gU2VlIGh0dHA6Ly93d3cuaHRtbDVyb2Nrcy5jb20vZW4vdHV0b3JpYWxzL2RldmVsb3BlcnRvb2xzL3NvdXJjZW1hcHMvI3RvYy1zb3VyY2V1cmxcbiAgICAgKlxuICAgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHByZWNvbXBpbGluZyB0ZW1wbGF0ZXMgc2VlOlxuICAgICAqIGh0dHA6Ly9sb2Rhc2guY29tL2N1c3RvbS1idWlsZHNcbiAgICAgKlxuICAgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIENocm9tZSBleHRlbnNpb24gc2FuZGJveGVzIHNlZTpcbiAgICAgKiBodHRwOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vc3RhYmxlL2V4dGVuc2lvbnMvc2FuZGJveGluZ0V2YWwuaHRtbFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRoZSB0ZW1wbGF0ZSB0ZXh0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFRoZSBkYXRhIG9iamVjdCB1c2VkIHRvIHBvcHVsYXRlIHRoZSB0ZXh0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5lc2NhcGVdIFRoZSBcImVzY2FwZVwiIGRlbGltaXRlci5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuZXZhbHVhdGVdIFRoZSBcImV2YWx1YXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5pbXBvcnRzXSBBbiBvYmplY3QgdG8gaW1wb3J0IGludG8gdGhlIHRlbXBsYXRlIGFzIGxvY2FsIHZhcmlhYmxlcy5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuaW50ZXJwb2xhdGVdIFRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc291cmNlVVJMXSBUaGUgc291cmNlVVJMIG9mIHRoZSB0ZW1wbGF0ZSdzIGNvbXBpbGVkIHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZhcmlhYmxlXSBUaGUgZGF0YSBvYmplY3QgdmFyaWFibGUgbmFtZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb258c3RyaW5nfSBSZXR1cm5zIGEgY29tcGlsZWQgZnVuY3Rpb24gd2hlbiBubyBgZGF0YWAgb2JqZWN0XG4gICAgICogIGlzIGdpdmVuLCBlbHNlIGl0IHJldHVybnMgdGhlIGludGVycG9sYXRlZCB0ZXh0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyB0aGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlciB0byBjcmVhdGUgYSBjb21waWxlZCB0ZW1wbGF0ZVxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIDwlPSBuYW1lICU+Jyk7XG4gICAgICogY29tcGlsZWQoeyAnbmFtZSc6ICdmcmVkJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIHRoZSBcImVzY2FwZVwiIGRlbGltaXRlciB0byBlc2NhcGUgSFRNTCBpbiBkYXRhIHByb3BlcnR5IHZhbHVlc1xuICAgICAqIF8udGVtcGxhdGUoJzxiPjwlLSB2YWx1ZSAlPjwvYj4nLCB7ICd2YWx1ZSc6ICc8c2NyaXB0PicgfSk7XG4gICAgICogLy8gPT4gJzxiPiZsdDtzY3JpcHQmZ3Q7PC9iPidcbiAgICAgKlxuICAgICAqIC8vIHVzaW5nIHRoZSBcImV2YWx1YXRlXCIgZGVsaW1pdGVyIHRvIGdlbmVyYXRlIEhUTUxcbiAgICAgKiB2YXIgbGlzdCA9ICc8JSBfLmZvckVhY2gocGVvcGxlLCBmdW5jdGlvbihuYW1lKSB7ICU+PGxpPjwlLSBuYW1lICU+PC9saT48JSB9KTsgJT4nO1xuICAgICAqIF8udGVtcGxhdGUobGlzdCwgeyAncGVvcGxlJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgdGhlIEVTNiBkZWxpbWl0ZXIgYXMgYW4gYWx0ZXJuYXRpdmUgdG8gdGhlIGRlZmF1bHQgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlclxuICAgICAqIF8udGVtcGxhdGUoJ2hlbGxvICR7IG5hbWUgfScsIHsgJ25hbWUnOiAncGViYmxlcycgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIHBlYmJsZXMnXG4gICAgICpcbiAgICAgKiAvLyB1c2luZyB0aGUgaW50ZXJuYWwgYHByaW50YCBmdW5jdGlvbiBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVyc1xuICAgICAqIF8udGVtcGxhdGUoJzwlIHByaW50KFwiaGVsbG8gXCIgKyBuYW1lKTsgJT4hJywgeyAnbmFtZSc6ICdiYXJuZXknIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBiYXJuZXkhJ1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgYSBjdXN0b20gdGVtcGxhdGUgZGVsaW1pdGVyc1xuICAgICAqIF8udGVtcGxhdGVTZXR0aW5ncyA9IHtcbiAgICAgKiAgICdpbnRlcnBvbGF0ZSc6IC97eyhbXFxzXFxTXSs/KX19L2dcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy50ZW1wbGF0ZSgnaGVsbG8ge3sgbmFtZSB9fSEnLCB7ICduYW1lJzogJ211c3RhY2hlJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gbXVzdGFjaGUhJ1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgdGhlIGBpbXBvcnRzYCBvcHRpb24gdG8gaW1wb3J0IGpRdWVyeVxuICAgICAqIHZhciBsaXN0ID0gJzwlIGpxLmVhY2gocGVvcGxlLCBmdW5jdGlvbihuYW1lKSB7ICU+PGxpPjwlLSBuYW1lICU+PC9saT48JSB9KTsgJT4nO1xuICAgICAqIF8udGVtcGxhdGUobGlzdCwgeyAncGVvcGxlJzogWydmcmVkJywgJ2Jhcm5leSddIH0sIHsgJ2ltcG9ydHMnOiB7ICdqcSc6IGpRdWVyeSB9IH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gdXNpbmcgdGhlIGBzb3VyY2VVUkxgIG9wdGlvbiB0byBzcGVjaWZ5IGEgY3VzdG9tIHNvdXJjZVVSTCBmb3IgdGhlIHRlbXBsYXRlXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IG5hbWUgJT4nLCBudWxsLCB7ICdzb3VyY2VVUkwnOiAnL2Jhc2ljL2dyZWV0aW5nLmpzdCcgfSk7XG4gICAgICogY29tcGlsZWQoZGF0YSk7XG4gICAgICogLy8gPT4gZmluZCB0aGUgc291cmNlIG9mIFwiZ3JlZXRpbmcuanN0XCIgdW5kZXIgdGhlIFNvdXJjZXMgdGFiIG9yIFJlc291cmNlcyBwYW5lbCBvZiB0aGUgd2ViIGluc3BlY3RvclxuICAgICAqXG4gICAgICogLy8gdXNpbmcgdGhlIGB2YXJpYWJsZWAgb3B0aW9uIHRvIGVuc3VyZSBhIHdpdGgtc3RhdGVtZW50IGlzbid0IHVzZWQgaW4gdGhlIGNvbXBpbGVkIHRlbXBsYXRlXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGkgPCU9IGRhdGEubmFtZSAlPiEnLCBudWxsLCB7ICd2YXJpYWJsZSc6ICdkYXRhJyB9KTtcbiAgICAgKiBjb21waWxlZC5zb3VyY2U7XG4gICAgICogLy8gPT4gZnVuY3Rpb24oZGF0YSkge1xuICAgICAqICAgdmFyIF9fdCwgX19wID0gJycsIF9fZSA9IF8uZXNjYXBlO1xuICAgICAqICAgX19wICs9ICdoaSAnICsgKChfX3QgPSAoIGRhdGEubmFtZSApKSA9PSBudWxsID8gJycgOiBfX3QpICsgJyEnO1xuICAgICAqICAgcmV0dXJuIF9fcDtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiAvLyB1c2luZyB0aGUgYHNvdXJjZWAgcHJvcGVydHkgdG8gaW5saW5lIGNvbXBpbGVkIHRlbXBsYXRlcyBmb3IgbWVhbmluZ2Z1bFxuICAgICAqIC8vIGxpbmUgbnVtYmVycyBpbiBlcnJvciBtZXNzYWdlcyBhbmQgYSBzdGFjayB0cmFjZVxuICAgICAqIGZzLndyaXRlRmlsZVN5bmMocGF0aC5qb2luKGN3ZCwgJ2pzdC5qcycpLCAnXFxcbiAgICAgKiAgIHZhciBKU1QgPSB7XFxcbiAgICAgKiAgICAgXCJtYWluXCI6ICcgKyBfLnRlbXBsYXRlKG1haW5UZXh0KS5zb3VyY2UgKyAnXFxcbiAgICAgKiAgIH07XFxcbiAgICAgKiAnKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0ZW1wbGF0ZSh0ZXh0LCBkYXRhLCBvcHRpb25zKSB7XG4gICAgICAvLyBiYXNlZCBvbiBKb2huIFJlc2lnJ3MgYHRtcGxgIGltcGxlbWVudGF0aW9uXG4gICAgICAvLyBodHRwOi8vZWpvaG4ub3JnL2Jsb2cvamF2YXNjcmlwdC1taWNyby10ZW1wbGF0aW5nL1xuICAgICAgLy8gYW5kIExhdXJhIERva3Rvcm92YSdzIGRvVC5qc1xuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL29sYWRvL2RvVFxuICAgICAgdmFyIHNldHRpbmdzID0gbG9kYXNoLnRlbXBsYXRlU2V0dGluZ3M7XG4gICAgICB0ZXh0ID0gU3RyaW5nKHRleHQgfHwgJycpO1xuXG4gICAgICAvLyBhdm9pZCBtaXNzaW5nIGRlcGVuZGVuY2llcyB3aGVuIGBpdGVyYXRvclRlbXBsYXRlYCBpcyBub3QgZGVmaW5lZFxuICAgICAgb3B0aW9ucyA9IGRlZmF1bHRzKHt9LCBvcHRpb25zLCBzZXR0aW5ncyk7XG5cbiAgICAgIHZhciBpbXBvcnRzID0gZGVmYXVsdHMoe30sIG9wdGlvbnMuaW1wb3J0cywgc2V0dGluZ3MuaW1wb3J0cyksXG4gICAgICAgICAgaW1wb3J0c0tleXMgPSBrZXlzKGltcG9ydHMpLFxuICAgICAgICAgIGltcG9ydHNWYWx1ZXMgPSB2YWx1ZXMoaW1wb3J0cyk7XG5cbiAgICAgIHZhciBpc0V2YWx1YXRpbmcsXG4gICAgICAgICAgaW5kZXggPSAwLFxuICAgICAgICAgIGludGVycG9sYXRlID0gb3B0aW9ucy5pbnRlcnBvbGF0ZSB8fCByZU5vTWF0Y2gsXG4gICAgICAgICAgc291cmNlID0gXCJfX3AgKz0gJ1wiO1xuXG4gICAgICAvLyBjb21waWxlIHRoZSByZWdleHAgdG8gbWF0Y2ggZWFjaCBkZWxpbWl0ZXJcbiAgICAgIHZhciByZURlbGltaXRlcnMgPSBSZWdFeHAoXG4gICAgICAgIChvcHRpb25zLmVzY2FwZSB8fCByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIGludGVycG9sYXRlLnNvdXJjZSArICd8JyArXG4gICAgICAgIChpbnRlcnBvbGF0ZSA9PT0gcmVJbnRlcnBvbGF0ZSA/IHJlRXNUZW1wbGF0ZSA6IHJlTm9NYXRjaCkuc291cmNlICsgJ3wnICtcbiAgICAgICAgKG9wdGlvbnMuZXZhbHVhdGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCQnXG4gICAgICAsICdnJyk7XG5cbiAgICAgIHRleHQucmVwbGFjZShyZURlbGltaXRlcnMsIGZ1bmN0aW9uKG1hdGNoLCBlc2NhcGVWYWx1ZSwgaW50ZXJwb2xhdGVWYWx1ZSwgZXNUZW1wbGF0ZVZhbHVlLCBldmFsdWF0ZVZhbHVlLCBvZmZzZXQpIHtcbiAgICAgICAgaW50ZXJwb2xhdGVWYWx1ZSB8fCAoaW50ZXJwb2xhdGVWYWx1ZSA9IGVzVGVtcGxhdGVWYWx1ZSk7XG5cbiAgICAgICAgLy8gZXNjYXBlIGNoYXJhY3RlcnMgdGhhdCBjYW5ub3QgYmUgaW5jbHVkZWQgaW4gc3RyaW5nIGxpdGVyYWxzXG4gICAgICAgIHNvdXJjZSArPSB0ZXh0LnNsaWNlKGluZGV4LCBvZmZzZXQpLnJlcGxhY2UocmVVbmVzY2FwZWRTdHJpbmcsIGVzY2FwZVN0cmluZ0NoYXIpO1xuXG4gICAgICAgIC8vIHJlcGxhY2UgZGVsaW1pdGVycyB3aXRoIHNuaXBwZXRzXG4gICAgICAgIGlmIChlc2NhcGVWYWx1ZSkge1xuICAgICAgICAgIHNvdXJjZSArPSBcIicgK1xcbl9fZShcIiArIGVzY2FwZVZhbHVlICsgXCIpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2YWx1YXRlVmFsdWUpIHtcbiAgICAgICAgICBpc0V2YWx1YXRpbmcgPSB0cnVlO1xuICAgICAgICAgIHNvdXJjZSArPSBcIic7XFxuXCIgKyBldmFsdWF0ZVZhbHVlICsgXCI7XFxuX19wICs9ICdcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW50ZXJwb2xhdGVWYWx1ZSkge1xuICAgICAgICAgIHNvdXJjZSArPSBcIicgK1xcbigoX190ID0gKFwiICsgaW50ZXJwb2xhdGVWYWx1ZSArIFwiKSkgPT0gbnVsbCA/ICcnIDogX190KSArXFxuJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gb2Zmc2V0ICsgbWF0Y2gubGVuZ3RoO1xuXG4gICAgICAgIC8vIHRoZSBKUyBlbmdpbmUgZW1iZWRkZWQgaW4gQWRvYmUgcHJvZHVjdHMgcmVxdWlyZXMgcmV0dXJuaW5nIHRoZSBgbWF0Y2hgXG4gICAgICAgIC8vIHN0cmluZyBpbiBvcmRlciB0byBwcm9kdWNlIHRoZSBjb3JyZWN0IGBvZmZzZXRgIHZhbHVlXG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgIH0pO1xuXG4gICAgICBzb3VyY2UgKz0gXCInO1xcblwiO1xuXG4gICAgICAvLyBpZiBgdmFyaWFibGVgIGlzIG5vdCBzcGVjaWZpZWQsIHdyYXAgYSB3aXRoLXN0YXRlbWVudCBhcm91bmQgdGhlIGdlbmVyYXRlZFxuICAgICAgLy8gY29kZSB0byBhZGQgdGhlIGRhdGEgb2JqZWN0IHRvIHRoZSB0b3Agb2YgdGhlIHNjb3BlIGNoYWluXG4gICAgICB2YXIgdmFyaWFibGUgPSBvcHRpb25zLnZhcmlhYmxlLFxuICAgICAgICAgIGhhc1ZhcmlhYmxlID0gdmFyaWFibGU7XG5cbiAgICAgIGlmICghaGFzVmFyaWFibGUpIHtcbiAgICAgICAgdmFyaWFibGUgPSAnb2JqJztcbiAgICAgICAgc291cmNlID0gJ3dpdGggKCcgKyB2YXJpYWJsZSArICcpIHtcXG4nICsgc291cmNlICsgJ1xcbn1cXG4nO1xuICAgICAgfVxuICAgICAgLy8gY2xlYW51cCBjb2RlIGJ5IHN0cmlwcGluZyBlbXB0eSBzdHJpbmdzXG4gICAgICBzb3VyY2UgPSAoaXNFdmFsdWF0aW5nID8gc291cmNlLnJlcGxhY2UocmVFbXB0eVN0cmluZ0xlYWRpbmcsICcnKSA6IHNvdXJjZSlcbiAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ01pZGRsZSwgJyQxJylcbiAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ1RyYWlsaW5nLCAnJDE7Jyk7XG5cbiAgICAgIC8vIGZyYW1lIGNvZGUgYXMgdGhlIGZ1bmN0aW9uIGJvZHlcbiAgICAgIHNvdXJjZSA9ICdmdW5jdGlvbignICsgdmFyaWFibGUgKyAnKSB7XFxuJyArXG4gICAgICAgIChoYXNWYXJpYWJsZSA/ICcnIDogdmFyaWFibGUgKyAnIHx8ICgnICsgdmFyaWFibGUgKyAnID0ge30pO1xcbicpICtcbiAgICAgICAgXCJ2YXIgX190LCBfX3AgPSAnJywgX19lID0gXy5lc2NhcGVcIiArXG4gICAgICAgIChpc0V2YWx1YXRpbmdcbiAgICAgICAgICA/ICcsIF9faiA9IEFycmF5LnByb3RvdHlwZS5qb2luO1xcbicgK1xuICAgICAgICAgICAgXCJmdW5jdGlvbiBwcmludCgpIHsgX19wICs9IF9fai5jYWxsKGFyZ3VtZW50cywgJycpIH1cXG5cIlxuICAgICAgICAgIDogJztcXG4nXG4gICAgICAgICkgK1xuICAgICAgICBzb3VyY2UgK1xuICAgICAgICAncmV0dXJuIF9fcFxcbn0nO1xuXG4gICAgICAvLyBVc2UgYSBzb3VyY2VVUkwgZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gICAgICAvLyBodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9kZXZlbG9wZXJ0b29scy9zb3VyY2VtYXBzLyN0b2Mtc291cmNldXJsXG4gICAgICB2YXIgc291cmNlVVJMID0gJ1xcbi8qXFxuLy8jIHNvdXJjZVVSTD0nICsgKG9wdGlvbnMuc291cmNlVVJMIHx8ICcvbG9kYXNoL3RlbXBsYXRlL3NvdXJjZVsnICsgKHRlbXBsYXRlQ291bnRlcisrKSArICddJykgKyAnXFxuKi8nO1xuXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gRnVuY3Rpb24oaW1wb3J0c0tleXMsICdyZXR1cm4gJyArIHNvdXJjZSArIHNvdXJjZVVSTCkuYXBwbHkodW5kZWZpbmVkLCBpbXBvcnRzVmFsdWVzKTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBlLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQoZGF0YSk7XG4gICAgICB9XG4gICAgICAvLyBwcm92aWRlIHRoZSBjb21waWxlZCBmdW5jdGlvbidzIHNvdXJjZSBieSBpdHMgYHRvU3RyaW5nYCBtZXRob2QsIGluXG4gICAgICAvLyBzdXBwb3J0ZWQgZW52aXJvbm1lbnRzLCBvciB0aGUgYHNvdXJjZWAgcHJvcGVydHkgYXMgYSBjb252ZW5pZW5jZSBmb3JcbiAgICAgIC8vIGlubGluaW5nIGNvbXBpbGVkIHRlbXBsYXRlcyBkdXJpbmcgdGhlIGJ1aWxkIHByb2Nlc3NcbiAgICAgIHJlc3VsdC5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBjYWxsYmFjayBgbmAgdGltZXMsIHJldHVybmluZyBhbiBhcnJheSBvZiB0aGUgcmVzdWx0c1xuICAgICAqIG9mIGVhY2ggY2FsbGJhY2sgZXhlY3V0aW9uLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkXG4gICAgICogd2l0aCBvbmUgYXJndW1lbnQ7IChpbmRleCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBleGVjdXRlIHRoZSBjYWxsYmFjay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzIG9mIGVhY2ggYGNhbGxiYWNrYCBleGVjdXRpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBkaWNlUm9sbHMgPSBfLnRpbWVzKDMsIF8ucGFydGlhbChfLnJhbmRvbSwgMSwgNikpO1xuICAgICAqIC8vID0+IFszLCA2LCA0XVxuICAgICAqXG4gICAgICogXy50aW1lcygzLCBmdW5jdGlvbihuKSB7IG1hZ2UuY2FzdFNwZWxsKG4pOyB9KTtcbiAgICAgKiAvLyA9PiBjYWxscyBgbWFnZS5jYXN0U3BlbGwobilgIHRocmVlIHRpbWVzLCBwYXNzaW5nIGBuYCBvZiBgMGAsIGAxYCwgYW5kIGAyYCByZXNwZWN0aXZlbHlcbiAgICAgKlxuICAgICAqIF8udGltZXMoMywgZnVuY3Rpb24obikgeyB0aGlzLmNhc3Qobik7IH0sIG1hZ2UpO1xuICAgICAqIC8vID0+IGFsc28gY2FsbHMgYG1hZ2UuY2FzdFNwZWxsKG4pYCB0aHJlZSB0aW1lc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRpbWVzKG4sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgICBuID0gKG4gPSArbikgPiAtMSA/IG4gOiAwO1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgICAgIGNhbGxiYWNrID0gYmFzZUNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAxKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gY2FsbGJhY2soaW5kZXgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy5lc2NhcGVgIHRoaXMgbWV0aG9kIGNvbnZlcnRzIHRoZSBIVE1MIGVudGl0aWVzXG4gICAgICogYCZhbXA7YCwgYCZsdDtgLCBgJmd0O2AsIGAmcXVvdDtgLCBhbmQgYCYjMzk7YCBpbiBgc3RyaW5nYCB0byB0aGVpclxuICAgICAqIGNvcnJlc3BvbmRpbmcgY2hhcmFjdGVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gdW5lc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmVzY2FwZSgnRnJlZCwgQmFybmV5ICZhbXA7IFBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCwgQmFybmV5ICYgUGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmVzY2FwZShzdHJpbmcpIHtcbiAgICAgIHJldHVybiBzdHJpbmcgPT0gbnVsbCA/ICcnIDogU3RyaW5nKHN0cmluZykucmVwbGFjZShyZUVzY2FwZWRIdG1sLCB1bmVzY2FwZUh0bWxDaGFyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSB1bmlxdWUgSUQuIElmIGBwcmVmaXhgIGlzIHByb3ZpZGVkIHRoZSBJRCB3aWxsIGJlIGFwcGVuZGVkIHRvIGl0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcHJlZml4XSBUaGUgdmFsdWUgdG8gcHJlZml4IHRoZSBJRCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuaXF1ZSBJRC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgnY29udGFjdF8nKTtcbiAgICAgKiAvLyA9PiAnY29udGFjdF8xMDQnXG4gICAgICpcbiAgICAgKiBfLnVuaXF1ZUlkKCk7XG4gICAgICogLy8gPT4gJzEwNSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxdWVJZChwcmVmaXgpIHtcbiAgICAgIHZhciBpZCA9ICsraWRDb3VudGVyO1xuICAgICAgcmV0dXJuIFN0cmluZyhwcmVmaXggPT0gbnVsbCA/ICcnIDogcHJlZml4KSArIGlkO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIG9iamVjdCB0aGF0IHdyYXBzIHRoZSBnaXZlbiB2YWx1ZSB3aXRoIGV4cGxpY2l0XG4gICAgICogbWV0aG9kIGNoYWluaW5nIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ2hhaW5pbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHdyYXBwZXIgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICduYW1lJzogJ3BlYmJsZXMnLCAnYWdlJzogMSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIHZhciB5b3VuZ2VzdCA9IF8uY2hhaW4oY2hhcmFjdGVycylcbiAgICAgKiAgICAgLnNvcnRCeSgnYWdlJylcbiAgICAgKiAgICAgLm1hcChmdW5jdGlvbihjaHIpIHsgcmV0dXJuIGNoci5uYW1lICsgJyBpcyAnICsgY2hyLmFnZTsgfSlcbiAgICAgKiAgICAgLmZpcnN0KClcbiAgICAgKiAgICAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMgaXMgMSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaGFpbih2YWx1ZSkge1xuICAgICAgdmFsdWUgPSBuZXcgbG9kYXNoV3JhcHBlcih2YWx1ZSk7XG4gICAgICB2YWx1ZS5fX2NoYWluX18gPSB0cnVlO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgYGludGVyY2VwdG9yYCB3aXRoIHRoZSBgdmFsdWVgIGFzIHRoZSBmaXJzdCBhcmd1bWVudCBhbmQgdGhlblxuICAgICAqIHJldHVybnMgYHZhbHVlYC4gVGhlIHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gXCJ0YXAgaW50b1wiIGEgbWV0aG9kXG4gICAgICogY2hhaW4gaW4gb3JkZXIgdG8gcGVyZm9ybSBvcGVyYXRpb25zIG9uIGludGVybWVkaWF0ZSByZXN1bHRzIHdpdGhpblxuICAgICAqIHRoZSBjaGFpbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBDaGFpbmluZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb3ZpZGUgdG8gYGludGVyY2VwdG9yYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbnRlcmNlcHRvciBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDMsIDRdKVxuICAgICAqICAudGFwKGZ1bmN0aW9uKGFycmF5KSB7IGFycmF5LnBvcCgpOyB9KVxuICAgICAqICAucmV2ZXJzZSgpXG4gICAgICogIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRhcCh2YWx1ZSwgaW50ZXJjZXB0b3IpIHtcbiAgICAgIGludGVyY2VwdG9yKHZhbHVlKTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIGV4cGxpY2l0IG1ldGhvZCBjaGFpbmluZyBvbiB0aGUgd3JhcHBlciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbmFtZSBjaGFpblxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IENoYWluaW5nXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHdyYXBwZXIgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIHdpdGhvdXQgZXhwbGljaXQgY2hhaW5pbmdcbiAgICAgKiBfKGNoYXJhY3RlcnMpLmZpcnN0KCk7XG4gICAgICogLy8gPT4geyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfVxuICAgICAqXG4gICAgICogLy8gd2l0aCBleHBsaWNpdCBjaGFpbmluZ1xuICAgICAqIF8oY2hhcmFjdGVycykuY2hhaW4oKVxuICAgICAqICAgLmZpcnN0KClcbiAgICAgKiAgIC5waWNrKCdhZ2UnKVxuICAgICAqICAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4geyAnYWdlJzogMzYgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDaGFpbigpIHtcbiAgICAgIHRoaXMuX19jaGFpbl9fID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2R1Y2VzIHRoZSBgdG9TdHJpbmdgIHJlc3VsdCBvZiB0aGUgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHRvU3RyaW5nXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgQ2hhaW5pbmdcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcgcmVzdWx0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSkudG9TdHJpbmcoKTtcbiAgICAgKiAvLyA9PiAnMSwyLDMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclRvU3RyaW5nKCkge1xuICAgICAgcmV0dXJuIFN0cmluZyh0aGlzLl9fd3JhcHBlZF9fKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB0aGUgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHZhbHVlT2ZcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBhbGlhcyB2YWx1ZVxuICAgICAqIEBjYXRlZ29yeSBDaGFpbmluZ1xuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB3cmFwcGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSkudmFsdWVPZigpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJWYWx1ZU9mKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX193cmFwcGVkX187XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBhZGQgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIHdyYXBwZWQgdmFsdWVzIHdoZW4gY2hhaW5pbmdcbiAgICBsb2Rhc2guYWZ0ZXIgPSBhZnRlcjtcbiAgICBsb2Rhc2guYXNzaWduID0gYXNzaWduO1xuICAgIGxvZGFzaC5hdCA9IGF0O1xuICAgIGxvZGFzaC5iaW5kID0gYmluZDtcbiAgICBsb2Rhc2guYmluZEFsbCA9IGJpbmRBbGw7XG4gICAgbG9kYXNoLmJpbmRLZXkgPSBiaW5kS2V5O1xuICAgIGxvZGFzaC5jaGFpbiA9IGNoYWluO1xuICAgIGxvZGFzaC5jb21wYWN0ID0gY29tcGFjdDtcbiAgICBsb2Rhc2guY29tcG9zZSA9IGNvbXBvc2U7XG4gICAgbG9kYXNoLmNvbnN0YW50ID0gY29uc3RhbnQ7XG4gICAgbG9kYXNoLmNvdW50QnkgPSBjb3VudEJ5O1xuICAgIGxvZGFzaC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgbG9kYXNoLmNyZWF0ZUNhbGxiYWNrID0gY3JlYXRlQ2FsbGJhY2s7XG4gICAgbG9kYXNoLmN1cnJ5ID0gY3Vycnk7XG4gICAgbG9kYXNoLmRlYm91bmNlID0gZGVib3VuY2U7XG4gICAgbG9kYXNoLmRlZmF1bHRzID0gZGVmYXVsdHM7XG4gICAgbG9kYXNoLmRlZmVyID0gZGVmZXI7XG4gICAgbG9kYXNoLmRlbGF5ID0gZGVsYXk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2UgPSBkaWZmZXJlbmNlO1xuICAgIGxvZGFzaC5maWx0ZXIgPSBmaWx0ZXI7XG4gICAgbG9kYXNoLmZsYXR0ZW4gPSBmbGF0dGVuO1xuICAgIGxvZGFzaC5mb3JFYWNoID0gZm9yRWFjaDtcbiAgICBsb2Rhc2guZm9yRWFjaFJpZ2h0ID0gZm9yRWFjaFJpZ2h0O1xuICAgIGxvZGFzaC5mb3JJbiA9IGZvckluO1xuICAgIGxvZGFzaC5mb3JJblJpZ2h0ID0gZm9ySW5SaWdodDtcbiAgICBsb2Rhc2guZm9yT3duID0gZm9yT3duO1xuICAgIGxvZGFzaC5mb3JPd25SaWdodCA9IGZvck93blJpZ2h0O1xuICAgIGxvZGFzaC5mdW5jdGlvbnMgPSBmdW5jdGlvbnM7XG4gICAgbG9kYXNoLmdyb3VwQnkgPSBncm91cEJ5O1xuICAgIGxvZGFzaC5pbmRleEJ5ID0gaW5kZXhCeTtcbiAgICBsb2Rhc2guaW5pdGlhbCA9IGluaXRpYWw7XG4gICAgbG9kYXNoLmludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbjtcbiAgICBsb2Rhc2guaW52ZXJ0ID0gaW52ZXJ0O1xuICAgIGxvZGFzaC5pbnZva2UgPSBpbnZva2U7XG4gICAgbG9kYXNoLmtleXMgPSBrZXlzO1xuICAgIGxvZGFzaC5tYXAgPSBtYXA7XG4gICAgbG9kYXNoLm1hcFZhbHVlcyA9IG1hcFZhbHVlcztcbiAgICBsb2Rhc2gubWF4ID0gbWF4O1xuICAgIGxvZGFzaC5tZW1vaXplID0gbWVtb2l6ZTtcbiAgICBsb2Rhc2gubWVyZ2UgPSBtZXJnZTtcbiAgICBsb2Rhc2gubWluID0gbWluO1xuICAgIGxvZGFzaC5vbWl0ID0gb21pdDtcbiAgICBsb2Rhc2gub25jZSA9IG9uY2U7XG4gICAgbG9kYXNoLnBhaXJzID0gcGFpcnM7XG4gICAgbG9kYXNoLnBhcnRpYWwgPSBwYXJ0aWFsO1xuICAgIGxvZGFzaC5wYXJ0aWFsUmlnaHQgPSBwYXJ0aWFsUmlnaHQ7XG4gICAgbG9kYXNoLnBpY2sgPSBwaWNrO1xuICAgIGxvZGFzaC5wbHVjayA9IHBsdWNrO1xuICAgIGxvZGFzaC5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgIGxvZGFzaC5wdWxsID0gcHVsbDtcbiAgICBsb2Rhc2gucmFuZ2UgPSByYW5nZTtcbiAgICBsb2Rhc2gucmVqZWN0ID0gcmVqZWN0O1xuICAgIGxvZGFzaC5yZW1vdmUgPSByZW1vdmU7XG4gICAgbG9kYXNoLnJlc3QgPSByZXN0O1xuICAgIGxvZGFzaC5zaHVmZmxlID0gc2h1ZmZsZTtcbiAgICBsb2Rhc2guc29ydEJ5ID0gc29ydEJ5O1xuICAgIGxvZGFzaC50YXAgPSB0YXA7XG4gICAgbG9kYXNoLnRocm90dGxlID0gdGhyb3R0bGU7XG4gICAgbG9kYXNoLnRpbWVzID0gdGltZXM7XG4gICAgbG9kYXNoLnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIGxvZGFzaC50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgbG9kYXNoLnVuaW9uID0gdW5pb247XG4gICAgbG9kYXNoLnVuaXEgPSB1bmlxO1xuICAgIGxvZGFzaC52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgbG9kYXNoLndoZXJlID0gd2hlcmU7XG4gICAgbG9kYXNoLndpdGhvdXQgPSB3aXRob3V0O1xuICAgIGxvZGFzaC53cmFwID0gd3JhcDtcbiAgICBsb2Rhc2gueG9yID0geG9yO1xuICAgIGxvZGFzaC56aXAgPSB6aXA7XG4gICAgbG9kYXNoLnppcE9iamVjdCA9IHppcE9iamVjdDtcblxuICAgIC8vIGFkZCBhbGlhc2VzXG4gICAgbG9kYXNoLmNvbGxlY3QgPSBtYXA7XG4gICAgbG9kYXNoLmRyb3AgPSByZXN0O1xuICAgIGxvZGFzaC5lYWNoID0gZm9yRWFjaDtcbiAgICBsb2Rhc2guZWFjaFJpZ2h0ID0gZm9yRWFjaFJpZ2h0O1xuICAgIGxvZGFzaC5leHRlbmQgPSBhc3NpZ247XG4gICAgbG9kYXNoLm1ldGhvZHMgPSBmdW5jdGlvbnM7XG4gICAgbG9kYXNoLm9iamVjdCA9IHppcE9iamVjdDtcbiAgICBsb2Rhc2guc2VsZWN0ID0gZmlsdGVyO1xuICAgIGxvZGFzaC50YWlsID0gcmVzdDtcbiAgICBsb2Rhc2gudW5pcXVlID0gdW5pcTtcbiAgICBsb2Rhc2gudW56aXAgPSB6aXA7XG5cbiAgICAvLyBhZGQgZnVuY3Rpb25zIHRvIGBsb2Rhc2gucHJvdG90eXBlYFxuICAgIG1peGluKGxvZGFzaCk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8vIGFkZCBmdW5jdGlvbnMgdGhhdCByZXR1cm4gdW53cmFwcGVkIHZhbHVlcyB3aGVuIGNoYWluaW5nXG4gICAgbG9kYXNoLmNsb25lID0gY2xvbmU7XG4gICAgbG9kYXNoLmNsb25lRGVlcCA9IGNsb25lRGVlcDtcbiAgICBsb2Rhc2guY29udGFpbnMgPSBjb250YWlucztcbiAgICBsb2Rhc2guZXNjYXBlID0gZXNjYXBlO1xuICAgIGxvZGFzaC5ldmVyeSA9IGV2ZXJ5O1xuICAgIGxvZGFzaC5maW5kID0gZmluZDtcbiAgICBsb2Rhc2guZmluZEluZGV4ID0gZmluZEluZGV4O1xuICAgIGxvZGFzaC5maW5kS2V5ID0gZmluZEtleTtcbiAgICBsb2Rhc2guZmluZExhc3QgPSBmaW5kTGFzdDtcbiAgICBsb2Rhc2guZmluZExhc3RJbmRleCA9IGZpbmRMYXN0SW5kZXg7XG4gICAgbG9kYXNoLmZpbmRMYXN0S2V5ID0gZmluZExhc3RLZXk7XG4gICAgbG9kYXNoLmhhcyA9IGhhcztcbiAgICBsb2Rhc2guaWRlbnRpdHkgPSBpZGVudGl0eTtcbiAgICBsb2Rhc2guaW5kZXhPZiA9IGluZGV4T2Y7XG4gICAgbG9kYXNoLmlzQXJndW1lbnRzID0gaXNBcmd1bWVudHM7XG4gICAgbG9kYXNoLmlzQXJyYXkgPSBpc0FycmF5O1xuICAgIGxvZGFzaC5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG4gICAgbG9kYXNoLmlzRGF0ZSA9IGlzRGF0ZTtcbiAgICBsb2Rhc2guaXNFbGVtZW50ID0gaXNFbGVtZW50O1xuICAgIGxvZGFzaC5pc0VtcHR5ID0gaXNFbXB0eTtcbiAgICBsb2Rhc2guaXNFcXVhbCA9IGlzRXF1YWw7XG4gICAgbG9kYXNoLmlzRmluaXRlID0gaXNGaW5pdGU7XG4gICAgbG9kYXNoLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuICAgIGxvZGFzaC5pc05hTiA9IGlzTmFOO1xuICAgIGxvZGFzaC5pc051bGwgPSBpc051bGw7XG4gICAgbG9kYXNoLmlzTnVtYmVyID0gaXNOdW1iZXI7XG4gICAgbG9kYXNoLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG4gICAgbG9kYXNoLmlzUGxhaW5PYmplY3QgPSBpc1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuICAgIGxvZGFzaC5pc1N0cmluZyA9IGlzU3RyaW5nO1xuICAgIGxvZGFzaC5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuICAgIGxvZGFzaC5sYXN0SW5kZXhPZiA9IGxhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5taXhpbiA9IG1peGluO1xuICAgIGxvZGFzaC5ub0NvbmZsaWN0ID0gbm9Db25mbGljdDtcbiAgICBsb2Rhc2gubm9vcCA9IG5vb3A7XG4gICAgbG9kYXNoLm5vdyA9IG5vdztcbiAgICBsb2Rhc2gucGFyc2VJbnQgPSBwYXJzZUludDtcbiAgICBsb2Rhc2gucmFuZG9tID0gcmFuZG9tO1xuICAgIGxvZGFzaC5yZWR1Y2UgPSByZWR1Y2U7XG4gICAgbG9kYXNoLnJlZHVjZVJpZ2h0ID0gcmVkdWNlUmlnaHQ7XG4gICAgbG9kYXNoLnJlc3VsdCA9IHJlc3VsdDtcbiAgICBsb2Rhc2gucnVuSW5Db250ZXh0ID0gcnVuSW5Db250ZXh0O1xuICAgIGxvZGFzaC5zaXplID0gc2l6ZTtcbiAgICBsb2Rhc2guc29tZSA9IHNvbWU7XG4gICAgbG9kYXNoLnNvcnRlZEluZGV4ID0gc29ydGVkSW5kZXg7XG4gICAgbG9kYXNoLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgbG9kYXNoLnVuZXNjYXBlID0gdW5lc2NhcGU7XG4gICAgbG9kYXNoLnVuaXF1ZUlkID0gdW5pcXVlSWQ7XG5cbiAgICAvLyBhZGQgYWxpYXNlc1xuICAgIGxvZGFzaC5hbGwgPSBldmVyeTtcbiAgICBsb2Rhc2guYW55ID0gc29tZTtcbiAgICBsb2Rhc2guZGV0ZWN0ID0gZmluZDtcbiAgICBsb2Rhc2guZmluZFdoZXJlID0gZmluZDtcbiAgICBsb2Rhc2guZm9sZGwgPSByZWR1Y2U7XG4gICAgbG9kYXNoLmZvbGRyID0gcmVkdWNlUmlnaHQ7XG4gICAgbG9kYXNoLmluY2x1ZGUgPSBjb250YWlucztcbiAgICBsb2Rhc2guaW5qZWN0ID0gcmVkdWNlO1xuXG4gICAgbWl4aW4oZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc291cmNlID0ge31cbiAgICAgIGZvck93bihsb2Rhc2gsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgaWYgKCFsb2Rhc2gucHJvdG90eXBlW21ldGhvZE5hbWVdKSB7XG4gICAgICAgICAgc291cmNlW21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gc291cmNlO1xuICAgIH0oKSwgZmFsc2UpO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBhZGQgZnVuY3Rpb25zIGNhcGFibGUgb2YgcmV0dXJuaW5nIHdyYXBwZWQgYW5kIHVud3JhcHBlZCB2YWx1ZXMgd2hlbiBjaGFpbmluZ1xuICAgIGxvZGFzaC5maXJzdCA9IGZpcnN0O1xuICAgIGxvZGFzaC5sYXN0ID0gbGFzdDtcbiAgICBsb2Rhc2guc2FtcGxlID0gc2FtcGxlO1xuXG4gICAgLy8gYWRkIGFsaWFzZXNcbiAgICBsb2Rhc2gudGFrZSA9IGZpcnN0O1xuICAgIGxvZGFzaC5oZWFkID0gZmlyc3Q7XG5cbiAgICBmb3JPd24obG9kYXNoLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgY2FsbGJhY2thYmxlID0gbWV0aG9kTmFtZSAhPT0gJ3NhbXBsZSc7XG4gICAgICBpZiAoIWxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0pIHtcbiAgICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXT0gZnVuY3Rpb24obiwgZ3VhcmQpIHtcbiAgICAgICAgICB2YXIgY2hhaW5BbGwgPSB0aGlzLl9fY2hhaW5fXyxcbiAgICAgICAgICAgICAgcmVzdWx0ID0gZnVuYyh0aGlzLl9fd3JhcHBlZF9fLCBuLCBndWFyZCk7XG5cbiAgICAgICAgICByZXR1cm4gIWNoYWluQWxsICYmIChuID09IG51bGwgfHwgKGd1YXJkICYmICEoY2FsbGJhY2thYmxlICYmIHR5cGVvZiBuID09ICdmdW5jdGlvbicpKSlcbiAgICAgICAgICAgID8gcmVzdWx0XG4gICAgICAgICAgICA6IG5ldyBsb2Rhc2hXcmFwcGVyKHJlc3VsdCwgY2hhaW5BbGwpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKi9cbiAgICBsb2Rhc2guVkVSU0lPTiA9ICcyLjQuMSc7XG5cbiAgICAvLyBhZGQgXCJDaGFpbmluZ1wiIGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlclxuICAgIGxvZGFzaC5wcm90b3R5cGUuY2hhaW4gPSB3cmFwcGVyQ2hhaW47XG4gICAgbG9kYXNoLnByb3RvdHlwZS50b1N0cmluZyA9IHdyYXBwZXJUb1N0cmluZztcbiAgICBsb2Rhc2gucHJvdG90eXBlLnZhbHVlID0gd3JhcHBlclZhbHVlT2Y7XG4gICAgbG9kYXNoLnByb3RvdHlwZS52YWx1ZU9mID0gd3JhcHBlclZhbHVlT2Y7XG5cbiAgICAvLyBhZGQgYEFycmF5YCBmdW5jdGlvbnMgdGhhdCByZXR1cm4gdW53cmFwcGVkIHZhbHVlc1xuICAgIGZvckVhY2goWydqb2luJywgJ3BvcCcsICdzaGlmdCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IGFycmF5UmVmW21ldGhvZE5hbWVdO1xuICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY2hhaW5BbGwgPSB0aGlzLl9fY2hhaW5fXyxcbiAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcy5fX3dyYXBwZWRfXywgYXJndW1lbnRzKTtcblxuICAgICAgICByZXR1cm4gY2hhaW5BbGxcbiAgICAgICAgICA/IG5ldyBsb2Rhc2hXcmFwcGVyKHJlc3VsdCwgY2hhaW5BbGwpXG4gICAgICAgICAgOiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gYWRkIGBBcnJheWAgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIHRoZSBleGlzdGluZyB3cmFwcGVkIHZhbHVlXG4gICAgZm9yRWFjaChbJ3B1c2gnLCAncmV2ZXJzZScsICdzb3J0JywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBhcnJheVJlZlttZXRob2ROYW1lXTtcbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZnVuYy5hcHBseSh0aGlzLl9fd3JhcHBlZF9fLCBhcmd1bWVudHMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBhZGQgYEFycmF5YCBmdW5jdGlvbnMgdGhhdCByZXR1cm4gbmV3IHdyYXBwZWQgdmFsdWVzXG4gICAgZm9yRWFjaChbJ2NvbmNhdCcsICdzbGljZScsICdzcGxpY2UnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBhcnJheVJlZlttZXRob2ROYW1lXTtcbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBsb2Rhc2hXcmFwcGVyKGZ1bmMuYXBwbHkodGhpcy5fX3dyYXBwZWRfXywgYXJndW1lbnRzKSwgdGhpcy5fX2NoYWluX18pO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIHJldHVybiBsb2Rhc2g7XG4gIH1cblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvLyBleHBvc2UgTG8tRGFzaFxuICB2YXIgXyA9IHJ1bkluQ29udGV4dCgpO1xuXG4gIC8vIHNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMgbGlrZSByLmpzIGNoZWNrIGZvciBjb25kaXRpb24gcGF0dGVybnMgbGlrZSB0aGUgZm9sbG93aW5nOlxuICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBFeHBvc2UgTG8tRGFzaCB0byB0aGUgZ2xvYmFsIG9iamVjdCBldmVuIHdoZW4gYW4gQU1EIGxvYWRlciBpcyBwcmVzZW50IGluXG4gICAgLy8gY2FzZSBMby1EYXNoIGlzIGxvYWRlZCB3aXRoIGEgUmVxdWlyZUpTIHNoaW0gY29uZmlnLlxuICAgIC8vIFNlZSBodHRwOi8vcmVxdWlyZWpzLm9yZy9kb2NzL2FwaS5odG1sI2NvbmZpZy1zaGltXG4gICAgcm9vdC5fID0gXztcblxuICAgIC8vIGRlZmluZSBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHNvLCB0aHJvdWdoIHBhdGggbWFwcGluZywgaXQgY2FuIGJlXG4gICAgLy8gcmVmZXJlbmNlZCBhcyB0aGUgXCJ1bmRlcnNjb3JlXCIgbW9kdWxlXG4gICAgZGVmaW5lKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIF87XG4gICAgfSk7XG4gIH1cbiAgLy8gY2hlY2sgZm9yIGBleHBvcnRzYCBhZnRlciBgZGVmaW5lYCBpbiBjYXNlIGEgYnVpbGQgb3B0aW1pemVyIGFkZHMgYW4gYGV4cG9ydHNgIG9iamVjdFxuICBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7XG4gICAgLy8gaW4gTm9kZS5qcyBvciBSaW5nb0pTXG4gICAgaWYgKG1vZHVsZUV4cG9ydHMpIHtcbiAgICAgIChmcmVlTW9kdWxlLmV4cG9ydHMgPSBfKS5fID0gXztcbiAgICB9XG4gICAgLy8gaW4gTmFyd2hhbCBvciBSaGlubyAtcmVxdWlyZVxuICAgIGVsc2Uge1xuICAgICAgZnJlZUV4cG9ydHMuXyA9IF87XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIC8vIGluIGEgYnJvd3NlciBvciBSaGlub1xuICAgIHJvb3QuXyA9IF87XG4gIH1cbn0uY2FsbCh0aGlzKSk7XG5cbn0pLmNhbGwodGhpcyx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG59LHt9XSw4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoZ2xvYmFsKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIERFQlVHID0gZmFsc2U7IC8vIGVuYWJsZSBsb3RzIG9mIGNvbnNvbGUgbG9nZ2luZyAoYmVzdCB1c2VkIHdoaWxlIGlzb2xhdGluZyBvbmUgdGVzdCBjYXNlKVxuXG52YXIgXyAgICAgPSBfZGVyZXFfKCdsb2Rhc2gnKTtcbnZhciBtZDUgICA9IF9kZXJlcV8oJ01ENScpO1xuXG4vKipcbiAqIEEgbW9jayB0aGF0IHNpbXVsYXRlcyBGaXJlYmFzZSBvcGVyYXRpb25zIGZvciB1c2UgaW4gdW5pdCB0ZXN0cy5cbiAqXG4gKiAjIyBTZXR1cFxuICpcbiAqICAgICAvLyBpbiB3aW5kb3dzXG4gKiAgICAgPHNjcmlwdCBzcmM9XCJsaWIvbG9kYXNoLmpzXCI+PC9zY3JpcHQ+IDwhLS0gZGVwZW5kZW5jeSAtLT5cbiAqICAgICA8c2NyaXB0IHNyYz1cImxpYi9Nb2NrRmlyZWJhc2UuanNcIj48L3NjcmlwdD4gPCEtLSB0aGUgbGliIC0tPlxuICogICAgIDxzY3JpcHQ+XG4gKiAgICAgICAvLyB0byBvdmVycmlkZSBhbGwgY2FsbHMgdG8gbmV3IEZpcmViYXNlOlxuICogICAgICAgTW9ja0ZpcmViYXNlLm92ZXJyaWRlKCk7XG4gKiAgICAgICAvLyB0ZXN0IHVuaXRzIGNhbiBiZSBpbnZva2VkIG5vdy4uLlxuICogICAgIDwvc2NyaXB0PlxuICpcbiAqICAgICAvLyBpbiBub2RlLmpzXG4gKiAgICAgdmFyIEZpcmViYXNlID0gcmVxdWlyZSgnLi4vbGliL01vY2tGaXJlYmFzZScpO1xuICpcbiAqICMjIFVzYWdlIEV4YW1wbGVzXG4gKlxuICogICAgIHZhciBmYiA9IG5ldyBNb2NrRmlyZWJhc2UoJ01vY2s6Ly9mb28vYmFyJyk7XG4gKiAgICAgZmIub24oJ3ZhbHVlJywgZnVuY3Rpb24oc25hcCkge1xuICAqICAgICAgICBjb25zb2xlLmxvZyhzbmFwLnZhbCgpKTtcbiAgKiAgICAgfSk7XG4gKlxuICogICAgIC8vIGRvIHRoaW5ncyBhc3luYyBvciBzeW5jaHJvbm91c2x5LCBsaWtlIGZiLmNoaWxkKCdmb28nKS5zZXQoJ2JhcicpLi4uXG4gKlxuICogICAgIC8vIHRyaWdnZXIgY2FsbGJhY2tzIGFuZCBldmVudCBsaXN0ZW5lcnNcbiAqICAgICBmYi5mbHVzaCgpO1xuICpcbiAqICAgICAvLyBzcHkgb24gbWV0aG9kc1xuICogICAgIGV4cGVjdChmYi5vbi5jYWxsZWQpLnRvQmUodHJ1ZSk7XG4gKlxuICogIyMgVHJpZ2dlciBldmVudHMgYXV0b21hZ2ljYWxseSBpbnN0ZWFkIG9mIGNhbGxpbmcgZmx1c2goKVxuICpcbiAqICAgICB2YXIgZmIgPSBuZXcgTW9ja0ZpcmViYXNlKCdNb2NrOi8vaGVsbG8vd29ybGQnKTtcbiAqICAgICBmYi5hdXRvRmx1c2goMTAwMCk7IC8vIHRyaWdnZXJzIGV2ZW50cyBhZnRlciAxIHNlY29uZCAoYXN5bmNocm9ub3VzKVxuICogICAgIGZiLmF1dG9GbHVzaCgpOyAvLyB0cmlnZ2VycyBldmVudHMgaW1tZWRpYXRlbHkgKHN5bmNocm9ub3VzKVxuICpcbiAqICMjIFNpbXVsYXRpbmcgRXJyb3JzXG4gKlxuICogICAgIHZhciBmYiA9IG5ldyBNb2NrRmlyZWJhc2UoJ01vY2s6Ly9mYWlscy9hL2xvdCcpO1xuICogICAgIGZiLmZhaWxOZXh0KCdzZXQnLCBuZXcgRXJyb3IoJ1BFUk1JU1NJT05fREVOSUVEJyk7IC8vIGNyZWF0ZSBhbiBlcnJvciB0byBiZSBpbnZva2VkIG9uIHRoZSBuZXh0IHNldCgpIG9wXG4gKiAgICAgZmIuc2V0KHtmb286IGJhcn0sIGZ1bmN0aW9uKGVycikge1xuICogICAgICAgICAvLyBlcnIubWVzc2FnZSA9PT0gJ1BFUk1JU1NJT05fREVOSUVEJ1xuICogICAgIH0pO1xuICogICAgIGZiLmZsdXNoKCk7XG4gKlxuICogIyMgQnVpbGRpbmcgd2l0aCBjdXN0b20gZGF0YVxuICpcbiAqICAgICAvLyBjaGFuZ2UgZGF0YSBmb3IgYWxsIG1vY2tzXG4gKiAgICAgTW9ja0ZpcmViYXNlLkRFRkFVTFRfREFUQSA9IHtmb286IHsgYmFyOiAnYmF6J319O1xuICogICAgIHZhciBmYiA9IG5ldyBNb2NrRmlyZWJhc2UoJ01vY2s6Ly9mb28nKTtcbiAqICAgICBmYi5vbmNlKCd2YWx1ZScsIGZ1bmN0aW9uKHNuYXApIHtcbiAqICAgICAgICBzbmFwLm5hbWUoKTsgLy8gZm9vXG4gKiAgICAgICAgc25hcC52YWwoKTsgLy8gIHtiYXI6ICdiYXonfVxuICogICAgIH0pO1xuICpcbiAqICAgICAvLyBjdXN0b21pemUgZm9yIGEgc2luZ2xlIGluc3RhbmNlXG4gKiAgICAgdmFyIGZiID0gbmV3IE1vY2tGaXJlYmFzZSgnTW9jazovL2ZvbycsIHtmb286ICdiYXInfSk7XG4gKiAgICAgZmIub25jZSgndmFsdWUnLCBmdW5jdGlvbihzbmFwKSB7XG4gKiAgICAgICAgc25hcC5uYW1lKCk7IC8vIGZvb1xuICogICAgICAgIHNuYXAudmFsKCk7IC8vICAnYmFyJ1xuICogICAgIH0pO1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBbY3VycmVudFBhdGhdIHVzZSBhIHJlbGF0aXZlIHBhdGggaGVyZSBvciBhIHVybCwgYWxsIC5jaGlsZCgpIGNhbGxzIHdpbGwgYXBwZW5kIHRvIHRoaXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBbZGF0YV0gc3BlY2lmeSB0aGUgZGF0YSBpbiB0aGlzIEZpcmViYXNlIGluc3RhbmNlIChkZWZhdWx0cyB0byBNb2NrRmlyZWJhc2UuREVGQVVMVF9EQVRBKVxuICogQHBhcmFtIHtNb2NrRmlyZWJhc2V9IFtwYXJlbnRdIGZvciBpbnRlcm5hbCB1c2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV0gZm9yIGludGVybmFsIHVzZVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIE1vY2tGaXJlYmFzZShjdXJyZW50UGF0aCwgZGF0YSwgcGFyZW50LCBuYW1lKSB7XG4gIC8vIHJlcHJlc2VudHMgdGhlIGZha2UgdXJsXG4gIC8vdG9kbyBzaG91bGQgdW53cmFwIG5lc3RlZCBwYXRoczsgRmlyZWJhc2VcbiAgLy90b2RvIGFjY2VwdHMgc3ViLXBhdGhzLCBtb2NrIHNob3VsZCB0b29cbiAgdGhpcy5jdXJyZW50UGF0aCA9IGN1cnJlbnRQYXRoIHx8ICdNb2NrOi8vJztcblxuICAvLyBzZWUgZmFpbE5leHQoKVxuICB0aGlzLmVycnMgPSB7fTtcblxuICAvLyB1c2VkIGZvciBzZXRQcmlvcnR5IGFuZCBtb3ZpbmcgcmVjb3Jkc1xuICB0aGlzLnByaW9yaXR5ID0gbnVsbDtcblxuICAvLyBudWxsIGZvciB0aGUgcm9vdCBwYXRoXG4gIHRoaXMubXlOYW1lID0gcGFyZW50PyBuYW1lIDogZXh0cmFjdE5hbWUoY3VycmVudFBhdGgpO1xuXG4gIC8vIHNlZSBhdXRvRmx1c2goKSBhbmQgZmx1c2goKVxuICB0aGlzLmZsdXNoRGVsYXkgPSBwYXJlbnQ/IHBhcmVudC5mbHVzaERlbGF5IDogZmFsc2U7XG4gIHRoaXMuZmx1c2hRdWV1ZSA9IHBhcmVudD8gcGFyZW50LmZsdXNoUXVldWUgOiBuZXcgRmx1c2hRdWV1ZSgpO1xuXG4gIC8vIHN0b3JlcyB0aGUgbGlzdGVuZXJzIGZvciB2YXJpb3VzIGV2ZW50IHR5cGVzXG4gIHRoaXMuX2V2ZW50cyA9IHsgdmFsdWU6IFtdLCBjaGlsZF9hZGRlZDogW10sIGNoaWxkX3JlbW92ZWQ6IFtdLCBjaGlsZF9jaGFuZ2VkOiBbXSwgY2hpbGRfbW92ZWQ6IFtdIH07XG5cbiAgLy8gYWxsb3dzIGNoYW5nZXMgdG8gYmUgcHJvcGFnYXRlZCBiZXR3ZWVuIGNoaWxkL3BhcmVudCBpbnN0YW5jZXNcbiAgdGhpcy5wYXJlbnRSZWYgPSBwYXJlbnR8fG51bGw7XG4gIHRoaXMuY2hpbGRyZW4gPSB7fTtcbiAgaWYgKHBhcmVudCkgcGFyZW50LmNoaWxkcmVuW3RoaXMubmFtZSgpXSA9IHRoaXM7XG5cbiAgLy8gc3RvcmVzIHNvcnRlZCBrZXlzIGluIGRhdGEgZm9yIHByaW9yaXR5IG9yZGVyaW5nXG4gIHRoaXMuc29ydGVkRGF0YUtleXMgPSBbXTtcblxuICAvLyBkbyBub3QgbW9kaWZ5IHRoaXMgZGlyZWN0bHksIHVzZSBzZXQoKSBhbmQgZmx1c2godHJ1ZSlcbiAgdGhpcy5kYXRhID0gbnVsbDtcbiAgdGhpcy5fZGF0YUNoYW5nZWQoXy5jbG9uZURlZXAoYXJndW1lbnRzLmxlbmd0aCA+IDE/IGRhdGF8fG51bGwgOiBNb2NrRmlyZWJhc2UuREVGQVVMVF9EQVRBKSk7XG5cbiAgLy8gc3RvcmVzIHRoZSBsYXN0IGF1dG8gaWQgZ2VuZXJhdGVkIGJ5IHB1c2goKSBmb3IgdGVzdHNcbiAgdGhpcy5fbGFzdEF1dG9JZCA9IG51bGw7XG5cbiAgLy8gdHVybiBhbGwgb3VyIHB1YmxpYyBtZXRob2RzIGludG8gc3BpZXMgc28gdGhleSBjYW4gYmUgbW9uaXRvcmVkIGZvciBjYWxscyBhbmQgcmV0dXJuIHZhbHVlc1xuICAvLyBzZWUgamFzbWluZSBzcGllczogaHR0cHM6Ly9naXRodWIuY29tL3Bpdm90YWwvamFzbWluZS93aWtpL1NwaWVzXG4gIC8vIHRoZSBGaXJlYmFzZSBjb25zdHJ1Y3RvciBjYW4gYmUgc3BpZWQgb24gdXNpbmcgc3B5T24od2luZG93LCAnRmlyZWJhc2UnKSBmcm9tIHdpdGhpbiB0aGUgdGVzdCB1bml0XG4gIGZvcih2YXIga2V5IGluIHRoaXMpIHtcbiAgICBpZiggIWtleS5tYXRjaCgvXl8vKSAmJiB0eXBlb2YodGhpc1trZXldKSA9PT0gJ2Z1bmN0aW9uJyApIHtcbiAgICAgIHNweUZhY3RvcnkodGhpcywga2V5KTtcbiAgICB9XG4gIH1cbn1cblxuTW9ja0ZpcmViYXNlLnByb3RvdHlwZSA9IHtcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAqIFRlc3QgVW5pdCB0b29scyAobm90IHBhcnQgb2YgRmlyZWJhc2UgQVBJKVxuICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgLyoqXG4gICAqIEludm9rZSBhbGwgdGhlIG9wZXJhdGlvbnMgdGhhdCBoYXZlIGJlZW4gcXVldWVkIHRodXMgZmFyLiBJZiBhIG51bWVyaWMgZGVsYXkgaXMgc3BlY2lmaWVkLCB0aGlzXG4gICAqIG9jY3VycyBhc3luY2hyb25vdXNseS4gT3RoZXJ3aXNlLCBpdCBpcyBhIHN5bmNocm9ub3VzIGV2ZW50LlxuICAgKlxuICAgKiBUaGlzIGFsbG93cyBGaXJlYmFzZSB0byBiZSB1c2VkIGluIHN5bmNocm9ub3VzIHRlc3RzIHdpdGhvdXQgd2FpdGluZyBmb3IgYXN5bmMgY2FsbGJhY2tzLiBJdCBhbHNvXG4gICAqIHByb3ZpZGVzIGEgcnVkaW1lbnRhcnkgbWVjaGFuaXNtIGZvciBzaW11bGF0aW5nIGxvY2FsbHkgY2FjaGVkIGRhdGEgKGV2ZW50cyBhcmUgdHJpZ2dlcmVkXG4gICAqIHN5bmNocm9ub3VzbHkgd2hlbiB5b3UgZG8gb24oJ3ZhbHVlJykgb3Igb24oJ2NoaWxkX2FkZGVkJykgYWdhaW5zdCBsb2NhbGx5IGNhY2hlZCBkYXRhKVxuICAgKlxuICAgKiBJZiB5b3UgY2FsbCB0aGlzIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IGRlbGF5IHZhbHVlcywgeW91IGNvdWxkIGludm9rZSB0aGUgZXZlbnRzIG91dFxuICAgKiBvZiBvcmRlcjsgbWFrZSBzdXJlIHRoYXQgaXMgeW91ciBpbnRlbnRpb24uXG4gICAqXG4gICAqIFRoaXMgYWxzbyBhZmZlY3RzIGFsbCBjaGlsZCBhbmQgcGFyZW50IHBhdGhzIHRoYXQgd2VyZSBjcmVhdGVkIHVzaW5nIC5jaGlsZCBmcm9tIHRoZSBvcmlnaW5hbFxuICAgKiBNb2NrRmlyZWJhc2UgaW5zdGFuY2U7IGFsbCBldmVudHMgcXVldWVkIGJlZm9yZSBhIGZsdXNoLCByZWdhcmRsZXNzIG9mIHRoZSBub2RlIGxldmVsIGluIGhpZXJhcmNoeSxcbiAgICogYXJlIHByb2Nlc3NlZCB0b2dldGhlci4gVG8gbWFrZSBjaGlsZCBhbmQgcGFyZW50IHBhdGhzIGZpcmUgb24gYSBkaWZmZXJlbnQgdGltZWxpbmUgb3Igb3V0IG9mIG9yZGVyLFxuICAgKiBjaGVjayBvdXQgc3BsaXRGbHVzaFF1ZXVlKCkgYmVsb3cuXG4gICAqXG4gICAqIDxjb2RlPlxuICAgKiAgIHZhciBmYlJlZiA9IG5ldyBNb2NrRmlyZWJhc2UoKTtcbiAgICogICB2YXIgY2hpbGRSZWYgPSBmYlJlZi5jaGlsZCgnYScpO1xuICAgKiAgIGZiUmVmLnVwZGF0ZSh7YTogJ2Zvbyd9KTtcbiAgICogICBjaGlsZFJlZi5zZXQoJ2JhcicpO1xuICAgKiAgIGZiUmVmLmZsdXNoKCk7IC8vIGEgPT09ICdiYXInXG4gICAqXG4gICAqICAgZmJSZWYudXBkYXRlKHthOiAnZm9vJ30pO1xuICAgKiAgIGZiUmVmLmZsdXNoKDApOyAvLyBhc3luYyBmbHVzaFxuICAgKlxuICAgKiAgIGNoaWxkUmVmLnNldCgnYmFyJyk7XG4gICAqICAgY2hpbGRSZWYuZmx1c2goKTsgLy8gc3luYyBmbHVzaCAoY291bGQgYWxzbyBkbyBmYlJlZi5mbHVzaCgpLS1zYW1lIHRoaW5nKVxuICAgKiAgIC8vIGFmdGVyIHRoZSBhc3luYyBmbHVzaCBjb21wbGV0ZXMsIGEgPT09ICdmb28nIVxuICAgKiAgIC8vIHRoZSBjaGlsZF9jaGFuZ2VkIGFuZCB2YWx1ZSBldmVudHMgYWxzbyBoYXBwZW4gaW4gcmV2ZXJzZWQgb3JkZXJcbiAgICogPC9jb2RlPlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW58aW50fSBbZGVsYXldXG4gICAqIEByZXR1cm5zIHtNb2NrRmlyZWJhc2V9XG4gICAqL1xuICBmbHVzaDogZnVuY3Rpb24oZGVsYXkpIHtcbiAgICB0aGlzLmZsdXNoUXVldWUuZmx1c2goZGVsYXkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBBdXRvbWF0aWNhbGx5IHRyaWdnZXIgYSBmbHVzaCBldmVudCBhZnRlciBlYWNoIG9wZXJhdGlvbi4gSWYgYSBudW1lcmljIGRlbGF5IGlzIHNwZWNpZmllZCwgdGhpcyBpcyBhblxuICAgKiBhc3luY2hyb25vdXMgZXZlbnQuIElmIHZhbHVlIGlzIHNldCB0byB0cnVlLCBpdCBpcyBzeW5jaHJvbm91cyAoZmx1c2ggaXMgdHJpZ2dlcmVkIGltbWVkaWF0ZWx5KS4gU2V0dGluZ1xuICAgKiB0aGlzIHRvIGZhbHNlIGRpc2FibGVzIGF1dG9GbHVzaFxuICAgKlxuICAgKiBAcGFyYW0ge2ludHxib29sZWFufSBbZGVsYXldXG4gICAqIEByZXR1cm5zIHtNb2NrRmlyZWJhc2V9XG4gICAqL1xuICBhdXRvRmx1c2g6IGZ1bmN0aW9uKGRlbGF5KXtcbiAgICBpZihfLmlzVW5kZWZpbmVkKGRlbGF5KSkgeyBkZWxheSA9IHRydWU7IH1cbiAgICBpZiggdGhpcy5mbHVzaERlbGF5ICE9PSBkZWxheSApIHtcbiAgICAgIHRoaXMuZmx1c2hEZWxheSA9IGRlbGF5O1xuICAgICAgXy5lYWNoKHRoaXMuY2hpbGRyZW4sIGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgYy5hdXRvRmx1c2goZGVsYXkpO1xuICAgICAgfSk7XG4gICAgICBpZiggdGhpcy5wYXJlbnRSZWYgKSB7IHRoaXMucGFyZW50UmVmLmF1dG9GbHVzaChkZWxheSk7IH1cbiAgICAgIGlmIChkZWxheSAhPT0gZmFsc2UpIHRoaXMuZmx1c2goZGVsYXkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogSWYgd2UgY2FuJ3QgdXNlIGZha2VFdmVudCgpIGFuZCB3ZSBuZWVkIHRvIHRlc3QgZXZlbnRzIG91dCBvZiBvcmRlciwgd2UgY2FuIGdpdmUgYSBjaGlsZCBpdHMgb3duIGZsdXNoIHF1ZXVlXG4gICAqIHNvIHRoYXQgY2FsbGluZyBmbHVzaCgpIGRvZXMgbm90IGFsc28gdHJpZ2dlciBwYXJlbnQgYW5kIHNpYmxpbmdzIGluIHRoZSBxdWV1ZS5cbiAgICovXG4gIHNwbGl0Rmx1c2hRdWV1ZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5mbHVzaFF1ZXVlID0gbmV3IEZsdXNoUXVldWUoKTtcbiAgfSxcblxuICAvKipcbiAgICogUmVzdG9yZSB0aGUgZmx1c2ggcXVldWUgYWZ0ZXIgdXNpbmcgc3BsaXRGbHVzaFF1ZXVlKCkgc28gdGhhdCBjaGlsZC9zaWJsaW5nL3BhcmVudCBxdWV1ZXMgYXJlIGZsdXNoZWQgaW4gb3JkZXIuXG4gICAqL1xuICBqb2luRmx1c2hRdWV1ZTogZnVuY3Rpb24oKSB7XG4gICAgaWYoIHRoaXMucGFyZW50ICkge1xuICAgICAgdGhpcy5mbHVzaFF1ZXVlID0gdGhpcy5wYXJlbnQuZmx1c2hRdWV1ZTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNpbXVsYXRlIGEgZmFpbHVyZSBieSBzcGVjaWZ5aW5nIHRoYXQgdGhlIG5leHQgaW52b2NhdGlvbiBvZiBtZXRob2ROYW1lIHNob3VsZFxuICAgKiBmYWlsIHdpdGggdGhlIHByb3ZpZGVkIGVycm9yLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kTmFtZSBjdXJyZW50bHkgb25seSBzdXBwb3J0cyBgc2V0YCwgYHVwZGF0ZWAsIGBwdXNoYCAod2l0aCBkYXRhKSBhbmQgYHRyYW5zYWN0aW9uYFxuICAgKiBAcGFyYW0ge1N0cmluZ3xFcnJvcn0gZXJyb3JcbiAgICovXG4gIGZhaWxOZXh0OiBmdW5jdGlvbihtZXRob2ROYW1lLCBlcnJvcikge1xuICAgIHRoaXMuZXJyc1ttZXRob2ROYW1lXSA9IGVycm9yO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTaW11bGF0ZSBhIHNlY3VyaXR5IGVycm9yIGJ5IGNhbmNlbGxpbmcgYW55IG9wZW5lZCBsaXN0ZW5lcnMgb24gdGhlIGdpdmVuIHBhdGhcbiAgICogYW5kIHJldHVybmluZyB0aGUgZXJyb3IgcHJvdmlkZWQuIElmIGV2ZW50L2NhbGxiYWNrL2NvbnRleHQgYXJlIHByb3ZpZGVkLCB0aGVuXG4gICAqIG9ubHkgbGlzdGVuZXJzIGV4YWN0bHkgbWF0Y2hpbmcgdGhpcyBzaWduYXR1cmUgKHNhbWUgcnVsZXMgYXMgb2ZmKCkpIHdpbGwgYmUgY2FuY2VsbGVkLlxuICAgKlxuICAgKiBUaGlzIGFsc28gaW52b2tlcyBvZmYoKSBvbiB0aGUgZXZlbnRzLS10aGV5IHdvbid0IGJlIG5vdGlmaWVkIG9mIGZ1dHVyZSBjaGFuZ2VzLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ3xFcnJvcn0gZXJyb3JcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtldmVudF1cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXVxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHRdXG4gICAqL1xuICBmb3JjZUNhbmNlbDogZnVuY3Rpb24oZXJyb3IsIGV2ZW50LCBjYWxsYmFjaywgY29udGV4dCkge1xuICAgIHZhciBzZWxmID0gdGhpcywgZXZlbnRzID0gc2VsZi5fZXZlbnRzO1xuICAgIF8uZWFjaChldmVudD8gW2V2ZW50XSA6IF8ua2V5cyhldmVudHMpLCBmdW5jdGlvbihldmVudFR5cGUpIHtcbiAgICAgIHZhciBsaXN0ID0gXy5maWx0ZXIoZXZlbnRzW2V2ZW50VHlwZV0sIGZ1bmN0aW9uKHBhcnRzKSB7XG4gICAgICAgIHJldHVybiAhZXZlbnQgfHwgIWNhbGxiYWNrIHx8IChjYWxsYmFjayA9PT0gcGFydHNbMF0gJiYgY29udGV4dCA9PT0gcGFydHNbMV0pO1xuICAgICAgfSk7XG4gICAgICBfLmVhY2gobGlzdCwgZnVuY3Rpb24ocGFydHMpIHtcbiAgICAgICAgcGFydHNbMl0uY2FsbChwYXJ0c1sxXSwgZXJyb3IpO1xuICAgICAgICBzZWxmLm9mZihldmVudCwgY2FsbGJhY2ssIGNvbnRleHQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBjb3B5IG9mIHRoZSBjdXJyZW50IGRhdGFcbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBnZXREYXRhOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXy5jbG9uZURlZXAodGhpcy5kYXRhKTtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBrZXlzIGZyb20gdGhlIGRhdGEgaW4gdGhpcyBwYXRoXG4gICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICovXG4gIGdldEtleXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnNvcnRlZERhdGFLZXlzLnNsaWNlKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGxhc3QgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgSURcbiAgICogQHJldHVybnMge3N0cmluZ3xzdHJpbmd8Kn1cbiAgICovXG4gIGdldExhc3RBdXRvSWQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9sYXN0QXV0b0lkO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgYSBmYWtlIGV2ZW50IHRoYXQgZG9lcyBub3QgYWZmZWN0IG9yIGRlcml2ZSBmcm9tIHRoZSBhY3R1YWwgZGF0YSBpbiB0aGlzXG4gICAqIG1vY2suIEdyZWF0IGZvciBxdWljayBldmVudCBoYW5kbGluZyB0ZXN0cyB0aGF0IHdvbid0IHJlbHkgb24gbG9uZ2VyLXRlcm0gY29uc2lzdGVuY3lcbiAgICogb3IgZm9yIGNyZWF0aW5nIG91dC1vZi1vcmRlciBuZXR3b3JraW5nIGNvbmRpdGlvbnMgdGhhdCBhcmUgaGFyZCB0byBwcm9kdWNlXG4gICAqIHVzaW5nIHNldC9yZW1vdmUvc2V0UHJpb3JpdHlcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICogQHBhcmFtIGRhdGFcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtwcmV2Q2hpbGRdXG4gICAqIEBwYXJhbSBbcHJpXVxuICAgKiBAcmV0dXJucyB7TW9ja0ZpcmViYXNlfVxuICAgKi9cbiAgZmFrZUV2ZW50OiBmdW5jdGlvbihldmVudCwga2V5LCBkYXRhLCBwcmV2Q2hpbGQsIHByaSkge1xuICAgIGlmIChERUJVRykgY29uc29sZS5sb2coJ2Zha2VFdmVudCcsIGV2ZW50LCB0aGlzLnRvU3RyaW5nKCksIGtleSk7XG4gICAgaWYoIGFyZ3VtZW50cy5sZW5ndGggPCA1ICkgeyBwcmkgPSBudWxsOyB9XG4gICAgaWYoIGFyZ3VtZW50cy5sZW5ndGggPCA0ICkgeyBwcmV2Q2hpbGQgPSBudWxsOyB9XG4gICAgaWYoIGFyZ3VtZW50cy5sZW5ndGggPCAzICkgeyBkYXRhID0gbnVsbDsgfVxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgcmVmID0gZXZlbnQ9PT0ndmFsdWUnPyBzZWxmIDogc2VsZi5jaGlsZChrZXkpO1xuICAgIHZhciBzbmFwID0gbWFrZVNuYXAocmVmLCBkYXRhLCBwcmkpO1xuICAgIHNlbGYuX2RlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgXy5lYWNoKHNlbGYuX2V2ZW50c1tldmVudF0sIGZ1bmN0aW9uIChwYXJ0cykge1xuICAgICAgICB2YXIgZm4gPSBwYXJ0c1swXSwgY29udGV4dCA9IHBhcnRzWzFdO1xuICAgICAgICBpZiAoXy5jb250YWlucyhbJ2NoaWxkX2FkZGVkJywgJ2NoaWxkX21vdmVkJ10sIGV2ZW50KSkge1xuICAgICAgICAgIGZuLmNhbGwoY29udGV4dCwgc25hcCwgcHJldkNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBmbi5jYWxsKGNvbnRleHQsIHNuYXApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICogRmlyZWJhc2UgQVBJIG1ldGhvZHNcbiAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50UGF0aDtcbiAgfSxcblxuICBjaGlsZDogZnVuY3Rpb24oY2hpbGRQYXRoKSB7XG4gICAgaWYoICFjaGlsZFBhdGggKSB7IHRocm93IG5ldyBFcnJvcignYmFkIGNoaWxkIHBhdGggJyt0aGlzLnRvU3RyaW5nKCkpOyB9XG4gICAgdmFyIHBhcnRzID0gXy5pc0FycmF5KGNoaWxkUGF0aCk/IGNoaWxkUGF0aCA6IGNoaWxkUGF0aC5zcGxpdCgnLycpO1xuICAgIHZhciBjaGlsZEtleSA9IHBhcnRzLnNoaWZ0KCk7XG4gICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltjaGlsZEtleV07XG4gICAgaWYoICFjaGlsZCApIHtcbiAgICAgIGNoaWxkID0gbmV3IE1vY2tGaXJlYmFzZShtZXJnZVBhdGhzKHRoaXMuY3VycmVudFBhdGgsIGNoaWxkS2V5KSwgdGhpcy5fY2hpbGREYXRhKGNoaWxkS2V5KSwgdGhpcywgY2hpbGRLZXkpO1xuICAgICAgdGhpcy5jaGlsZHJlbltjaGlsZC5uYW1lKCldID0gY2hpbGQ7XG4gICAgfVxuICAgIGlmKCBwYXJ0cy5sZW5ndGggKSB7XG4gICAgICBjaGlsZCA9IGNoaWxkLmNoaWxkKHBhcnRzKTtcbiAgICB9XG4gICAgcmV0dXJuIGNoaWxkO1xuICB9LFxuXG4gIHNldDogZnVuY3Rpb24oZGF0YSwgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGVyciA9IHRoaXMuX25leHRFcnIoJ3NldCcpO1xuICAgIGRhdGEgPSBfLmNsb25lRGVlcChkYXRhKTtcbiAgICBpZiAoREVCVUcpIGNvbnNvbGUubG9nKCdzZXQgY2FsbGVkJyx0aGlzLnRvU3RyaW5nKCksIGRhdGEpO1xuICAgIHRoaXMuX2RlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKERFQlVHKSBjb25zb2xlLmxvZygnc2V0IGNvbXBsZXRlZCcsc2VsZi50b1N0cmluZygpLCBkYXRhKTtcbiAgICAgIGlmKCBlcnIgPT09IG51bGwgKSB7XG4gICAgICAgIHNlbGYuX2RhdGFDaGFuZ2VkKGRhdGEpO1xuICAgICAgfVxuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhlcnIpO1xuICAgIH0pO1xuICB9LFxuXG4gIHVwZGF0ZTogZnVuY3Rpb24oY2hhbmdlcywgY2FsbGJhY2spIHtcbiAgICBpZiggIV8uaXNPYmplY3QoY2hhbmdlcykgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0IHdoZW4gY2FsbGluZyAkdXBkYXRlJyk7XG4gICAgfVxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgZXJyID0gdGhpcy5fbmV4dEVycigndXBkYXRlJyk7XG4gICAgdmFyIGJhc2UgPSB0aGlzLmdldERhdGEoKTtcbiAgICB2YXIgZGF0YSA9IF8uYXNzaWduKF8uaXNPYmplY3QoYmFzZSk/IGJhc2UgOiB7fSwgY2hhbmdlcyk7XG4gICAgaWYgKERFQlVHKSBjb25zb2xlLmxvZygndXBkYXRlIGNhbGxlZCcsIHRoaXMudG9TdHJpbmcoKSwgZGF0YSk7XG4gICAgdGhpcy5fZGVmZXIoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoREVCVUcpIGNvbnNvbGUubG9nKCd1cGRhdGUgZmx1c2hlZCcsIHNlbGYudG9TdHJpbmcoKSwgZGF0YSk7XG4gICAgICBpZiggZXJyID09PSBudWxsICkge1xuICAgICAgICBzZWxmLl9kYXRhQ2hhbmdlZChkYXRhKTtcbiAgICAgIH1cbiAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soZXJyKTtcbiAgICB9KTtcbiAgfSxcblxuICBzZXRQcmlvcml0eTogZnVuY3Rpb24obmV3UHJpb3JpdHksIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBlcnIgPSB0aGlzLl9uZXh0RXJyKCdzZXRQcmlvcml0eScpO1xuICAgIGlmIChERUJVRykgY29uc29sZS5sb2coJ3NldFByaW9yaXR5IGNhbGxlZCcsIHNlbGYudG9TdHJpbmcoKSwgbmV3UHJpb3JpdHkpO1xuICAgIHNlbGYuX2RlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKERFQlVHKSBjb25zb2xlLmxvZygnc2V0UHJpb3JpdHkgZmx1c2hlZCcsIHNlbGYudG9TdHJpbmcoKSwgbmV3UHJpb3JpdHkpO1xuICAgICAgc2VsZi5fcHJpQ2hhbmdlZChuZXdQcmlvcml0eSk7XG4gICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKGVycik7XG4gICAgfSk7XG4gIH0sXG5cbiAgc2V0V2l0aFByaW9yaXR5OiBmdW5jdGlvbihkYXRhLCBwcmksIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5zZXRQcmlvcml0eShwcmkpO1xuICAgIHRoaXMuc2V0KGRhdGEsIGNhbGxiYWNrKTtcbiAgfSxcblxuICBuYW1lOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5teU5hbWU7XG4gIH0sXG5cbiAgcmVmOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBwYXJlbnQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnBhcmVudFJlZjtcbiAgfSxcblxuICByb290OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmV4dCA9IHRoaXM7XG4gICAgd2hpbGUobmV4dC5wYXJlbnRSZWYpIHtcbiAgICAgIG5leHQgPSBuZXh0LnBhcmVudFJlZjtcbiAgICB9XG4gICAgcmV0dXJuIG5leHQ7XG4gIH0sXG5cbiAgcHVzaDogZnVuY3Rpb24oZGF0YSwgY2FsbGJhY2spIHtcbiAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkKHRoaXMuX25ld0F1dG9JZCgpKTtcbiAgICB2YXIgZXJyID0gdGhpcy5fbmV4dEVycigncHVzaCcpO1xuICAgIGlmKCBlcnIgKSB7IGNoaWxkLmZhaWxOZXh0KCdzZXQnLCBlcnIpOyB9XG4gICAgaWYoIGFyZ3VtZW50cy5sZW5ndGggJiYgZGF0YSAhPT0gbnVsbCApIHtcbiAgICAgIC8vIGN1cnJlbnRseSwgY2FsbGJhY2sgb25seSBpbnZva2VkIGlmIGNoaWxkIGV4aXN0c1xuICAgICAgY2hpbGQuc2V0KGRhdGEsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgcmV0dXJuIGNoaWxkO1xuICB9LFxuXG4gIG9uY2U6IGZ1bmN0aW9uKGV2ZW50LCBjYWxsYmFjaywgY2FuY2VsLCBjb250ZXh0KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGlmKCBhcmd1bWVudHMubGVuZ3RoID09PSAzICYmICFfLmlzRnVuY3Rpb24oY2FuY2VsKSApIHtcbiAgICAgIGNvbnRleHQgPSBjYW5jZWw7XG4gICAgICBjYW5jZWwgPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbiAgICBlbHNlIGlmKCBhcmd1bWVudHMubGVuZ3RoIDwgMyApIHtcbiAgICAgIGNhbmNlbCA9IGZ1bmN0aW9uKCkge307XG4gICAgICBjb250ZXh0ID0gbnVsbDtcbiAgICB9XG4gICAgdmFyIGVyciA9IHRoaXMuX25leHRFcnIoJ29uY2UnKTtcbiAgICBpZiggZXJyICkge1xuICAgICAgdGhpcy5fZGVmZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgIGNhbmNlbC5jYWxsKGNvbnRleHQsIGVycik7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB2YXIgZm4gPSBmdW5jdGlvbiAoc25hcCkge1xuICAgICAgICBzZWxmLm9mZihldmVudCwgZm4sIGNvbnRleHQpO1xuICAgICAgICBjYWxsYmFjay5jYWxsKGNvbnRleHQsIHNuYXApO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5vbihldmVudCwgZm4sIGNvbnRleHQpO1xuICAgIH1cbiAgfSxcblxuICByZW1vdmU6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBlcnIgPSB0aGlzLl9uZXh0RXJyKCdyZW1vdmUnKTtcbiAgICBpZiAoREVCVUcpIGNvbnNvbGUubG9nKCdyZW1vdmUgY2FsbGVkJywgdGhpcy50b1N0cmluZygpKTtcbiAgICB0aGlzLl9kZWZlcihmdW5jdGlvbigpIHtcbiAgICAgIGlmIChERUJVRykgY29uc29sZS5sb2coJ3JlbW92ZSBjb21wbGV0ZWQnLHNlbGYudG9TdHJpbmcoKSk7XG4gICAgICBpZiggZXJyID09PSBudWxsICkge1xuICAgICAgICBzZWxmLl9kYXRhQ2hhbmdlZChudWxsKTtcbiAgICAgIH1cbiAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soZXJyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBvbjogZnVuY3Rpb24oZXZlbnQsIGNhbGxiYWNrLCBjYW5jZWwsIGNvbnRleHQpIHtcbiAgICBpZiggYXJndW1lbnRzLmxlbmd0aCA9PT0gMyAmJiAhXy5pc0Z1bmN0aW9uKGNhbmNlbCkgKSB7XG4gICAgICBjb250ZXh0ID0gY2FuY2VsO1xuICAgICAgY2FuY2VsID0gZnVuY3Rpb24oKSB7fTtcbiAgICB9XG4gICAgZWxzZSBpZiggYXJndW1lbnRzLmxlbmd0aCA8IDMgKSB7XG4gICAgICBjYW5jZWwgPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cblxuICAgIHZhciBlcnIgPSB0aGlzLl9uZXh0RXJyKCdvbicpO1xuICAgIGlmKCBlcnIgKSB7XG4gICAgICB0aGlzLl9kZWZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgY2FuY2VsLmNhbGwoY29udGV4dCwgZXJyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHZhciBldmVudEFyciA9IFtjYWxsYmFjaywgY29udGV4dCwgY2FuY2VsXTtcbiAgICAgIHRoaXMuX2V2ZW50c1tldmVudF0ucHVzaChldmVudEFycik7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICBpZiggZXZlbnQgPT09ICd2YWx1ZScgKSB7XG4gICAgICAgIHNlbGYuX2RlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIC8vIG1ha2Ugc3VyZSBvZmYoKSB3YXNuJ3QgY2FsbGVkIGluIHRoZSBpbnRlcmltXG4gICAgICAgICAgaWYoIHNlbGYuX2V2ZW50c1tldmVudF0uaW5kZXhPZihldmVudEFycikgPiAtMSkge1xuICAgICAgICAgICAgY2FsbGJhY2suY2FsbChjb250ZXh0LCBtYWtlU25hcChzZWxmLCBzZWxmLmdldERhdGEoKSwgc2VsZi5wcmlvcml0eSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmKCBldmVudCA9PT0gJ2NoaWxkX2FkZGVkJyApIHtcbiAgICAgICAgc2VsZi5fZGVmZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYoIHNlbGYuX2V2ZW50c1tldmVudF0uaW5kZXhPZihldmVudEFycikgPiAtMSkge1xuICAgICAgICAgICAgdmFyIHByZXYgPSBudWxsO1xuICAgICAgICAgICAgXy5lYWNoKHNlbGYuc29ydGVkRGF0YUtleXMsIGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgICAgIHZhciBjaGlsZCA9IHNlbGYuY2hpbGQoayk7XG4gICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoY29udGV4dCwgbWFrZVNuYXAoY2hpbGQsIGNoaWxkLmdldERhdGEoKSwgY2hpbGQucHJpb3JpdHkpLCBwcmV2KTtcbiAgICAgICAgICAgICAgcHJldiA9IGs7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBvZmY6IGZ1bmN0aW9uKGV2ZW50LCBjYWxsYmFjaywgY29udGV4dCkge1xuICAgIGlmKCAhZXZlbnQgKSB7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5fZXZlbnRzKVxuICAgICAgICBpZiggdGhpcy5fZXZlbnRzLmhhc093blByb3BlcnR5KGtleSkgKVxuICAgICAgICAgIHRoaXMub2ZmKGtleSk7XG4gICAgfVxuICAgIGVsc2UgaWYoIGNhbGxiYWNrICkge1xuICAgICAgdmFyIGxpc3QgPSB0aGlzLl9ldmVudHNbZXZlbnRdO1xuICAgICAgdmFyIG5ld0xpc3QgPSB0aGlzLl9ldmVudHNbZXZlbnRdID0gW107XG4gICAgICBfLmVhY2gobGlzdCwgZnVuY3Rpb24ocGFydHMpIHtcbiAgICAgICAgaWYoIHBhcnRzWzBdICE9PSBjYWxsYmFjayB8fCBwYXJ0c1sxXSAhPT0gY29udGV4dCApIHtcbiAgICAgICAgICBuZXdMaXN0LnB1c2gocGFydHMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl9ldmVudHNbZXZlbnRdID0gW107XG4gICAgfVxuICB9LFxuXG4gIHRyYW5zYWN0aW9uOiBmdW5jdGlvbih2YWx1ZUZuLCBmaW5pc2hlZEZuLCBhcHBseUxvY2FsbHkpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHZhbHVlU3B5ID0gc3B5RmFjdG9yeSh2YWx1ZUZuLCAndHJ4bjp2YWx1ZUZuJyk7XG4gICAgdmFyIGZpbmlzaGVkU3B5ID0gc3B5RmFjdG9yeShmaW5pc2hlZEZuLCAndHJ4bjpmaW5pc2hlZEZuJyk7XG4gICAgdGhpcy5fZGVmZXIoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZXJyID0gc2VsZi5fbmV4dEVycigndHJhbnNhY3Rpb24nKTtcbiAgICAgIC8vIHVubGlrZSBtb3N0IGRlZmVyIG1ldGhvZHMsIHNlbGYgd2lsbCB1c2UgdGhlIHZhbHVlIGFzIGl0IGV4aXN0cyBhdCB0aGUgdGltZVxuICAgICAgLy8gdGhlIHRyYW5zYWN0aW9uIGlzIGFjdHVhbGx5IGludm9rZWQsIHdoaWNoIGlzIHRoZSBldmVudHVhbCBjb25zaXN0ZW50IHZhbHVlXG4gICAgICAvLyBpdCB3b3VsZCBoYXZlIGluIHJlYWxpdHlcbiAgICAgIHZhciByZXMgPSB2YWx1ZVNweShzZWxmLmdldERhdGEoKSk7XG4gICAgICB2YXIgbmV3RGF0YSA9IF8uaXNVbmRlZmluZWQocmVzKSB8fCBlcnI/IHNlbGYuZ2V0RGF0YSgpIDogcmVzO1xuICAgICAgc2VsZi5fZGF0YUNoYW5nZWQobmV3RGF0YSk7XG4gICAgICBmaW5pc2hlZFNweShlcnIsIGVyciA9PT0gbnVsbCAmJiAhXy5pc1VuZGVmaW5lZChyZXMpLCBtYWtlU25hcChzZWxmLCBuZXdEYXRhLCBzZWxmLnByaW9yaXR5KSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFt2YWx1ZVNweSwgZmluaXNoZWRTcHksIGFwcGx5TG9jYWxseV07XG4gIH0sXG5cbiAgLyoqXG4gICAqIElmIHRva2VuIGlzIHZhbGlkIGFuZCBwYXJzZXMsIHJldHVybnMgdGhlIGNvbnRlbnRzIG9mIHRva2VuIGFzIGV4ZWN0ZWQuIElmIG5vdCwgdGhlIGVycm9yIGlzIHJldHVybmVkLlxuICAgKiBEb2VzIG5vdCBjaGFuZ2UgYmVoYXZpb3IgaW4gYW55IHdheSAoc2luY2Ugd2UgZG9uJ3QgcmVhbGx5IGF1dGggYW55d2hlcmUpXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0b2tlblxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdXG4gICAqL1xuICBhdXRoOiBmdW5jdGlvbih0b2tlbiwgY2FsbGJhY2spIHtcbiAgICAvL3RvZG8gaW52b2tlIGNhbGxiYWNrIHdpdGggdGhlIHBhcnNlZCB0b2tlbiBjb250ZW50c1xuICAgIGlmIChjYWxsYmFjaykgdGhpcy5fZGVmZXIoY2FsbGJhY2spO1xuICB9LFxuXG4gIC8qKlxuICAgKiBKdXN0IGEgc3R1YiBhdCB0aGlzIHBvaW50LlxuICAgKiBAcGFyYW0ge2ludH0gbGltaXRcbiAgICovXG4gIGxpbWl0OiBmdW5jdGlvbihsaW1pdCkge1xuICAgIHJldHVybiBuZXcgTW9ja1F1ZXJ5KHRoaXMpLmxpbWl0KGxpbWl0KTtcbiAgfSxcblxuICBzdGFydEF0OiBmdW5jdGlvbihwcmlvcml0eSwga2V5KSB7XG4gICAgcmV0dXJuIG5ldyBNb2NrUXVlcnkodGhpcykuc3RhcnRBdChwcmlvcml0eSwga2V5KTtcbiAgfSxcblxuICBlbmRBdDogZnVuY3Rpb24ocHJpb3JpdHksIGtleSkge1xuICAgIHJldHVybiBuZXcgTW9ja1F1ZXJ5KHRoaXMpLmVuZEF0KHByaW9yaXR5LCBrZXkpO1xuICB9LFxuXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgKiBQcml2YXRlL2ludGVybmFsIG1ldGhvZHNcbiAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIF9jaGlsZENoYW5nZWQ6IGZ1bmN0aW9uKHJlZikge1xuICAgIHZhciBldmVudHMgPSBbXTtcbiAgICB2YXIgY2hpbGRLZXkgPSByZWYubmFtZSgpO1xuICAgIHZhciBkYXRhID0gcmVmLmdldERhdGEoKTtcbiAgICBpZiAoREVCVUcpIGNvbnNvbGUubG9nKCdfY2hpbGRDaGFuZ2VkJywgdGhpcy50b1N0cmluZygpICsgJyAtPiAnICsgY2hpbGRLZXksIGRhdGEpO1xuICAgIGlmKCBkYXRhID09PSBudWxsICkge1xuICAgICAgdGhpcy5fcmVtb3ZlQ2hpbGQoY2hpbGRLZXksIGV2ZW50cyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5fdXBkYXRlT3JBZGQoY2hpbGRLZXksIGRhdGEsIGV2ZW50cyk7XG4gICAgfVxuICAgIHRoaXMuX3RyaWdnZXJBbGwoZXZlbnRzKTtcbiAgfSxcblxuICBfZGF0YUNoYW5nZWQ6IGZ1bmN0aW9uKHVucGFyc2VkRGF0YSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgcHJpID0gZ2V0TWV0YSh1bnBhcnNlZERhdGEsICdwcmlvcml0eScsIHNlbGYucHJpb3JpdHkpO1xuICAgIHZhciBkYXRhID0gY2xlYW5EYXRhKHVucGFyc2VkRGF0YSk7XG4gICAgaWYoIHByaSAhPT0gc2VsZi5wcmlvcml0eSApIHtcbiAgICAgIHNlbGYuX3ByaUNoYW5nZWQocHJpKTtcbiAgICB9XG4gICAgaWYoICFfLmlzRXF1YWwoZGF0YSwgc2VsZi5kYXRhKSApIHtcbiAgICAgIGlmIChERUJVRykgY29uc29sZS5sb2coJ19kYXRhQ2hhbmdlZCcsIHNlbGYudG9TdHJpbmcoKSwgZGF0YSk7XG4gICAgICB2YXIgb2xkS2V5cyA9IF8ua2V5cyhzZWxmLmRhdGEpLnNvcnQoKTtcbiAgICAgIHZhciBuZXdLZXlzID0gXy5rZXlzKGRhdGEpLnNvcnQoKTtcbiAgICAgIHZhciBrZXlzVG9SZW1vdmUgPSBfLmRpZmZlcmVuY2Uob2xkS2V5cywgbmV3S2V5cyk7XG4gICAgICB2YXIga2V5c1RvQ2hhbmdlID0gXy5kaWZmZXJlbmNlKG5ld0tleXMsIGtleXNUb1JlbW92ZSk7XG4gICAgICB2YXIgZXZlbnRzID0gW107XG5cbiAgICAgIF8uZWFjaChrZXlzVG9SZW1vdmUsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBzZWxmLl9yZW1vdmVDaGlsZChrZXksIGV2ZW50cyk7XG4gICAgICB9KTtcblxuICAgICAgaWYoIV8uaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgICAgZXZlbnRzLnB1c2goZmFsc2UpO1xuICAgICAgICBzZWxmLmRhdGEgPSBkYXRhO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIF8uZWFjaChrZXlzVG9DaGFuZ2UsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgIHNlbGYuX3VwZGF0ZU9yQWRkKGtleSwgdW5wYXJzZWREYXRhW2tleV0sIGV2ZW50cyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyB1cGRhdGUgb3JkZXIgb2YgbXkgY2hpbGQga2V5c1xuICAgICAgc2VsZi5fcmVzb3J0KCk7XG5cbiAgICAgIC8vIHRyaWdnZXIgcGFyZW50IG5vdGlmaWNhdGlvbnMgYWZ0ZXIgYWxsIGNoaWxkcmVuIGhhdmVcbiAgICAgIC8vIGJlZW4gcHJvY2Vzc2VkXG4gICAgICBzZWxmLl90cmlnZ2VyQWxsKGV2ZW50cyk7XG4gICAgfVxuICB9LFxuXG4gIF9wcmlDaGFuZ2VkOiBmdW5jdGlvbihuZXdQcmlvcml0eSkge1xuICAgIGlmIChERUJVRykgY29uc29sZS5sb2coJ19wcmlDaGFuZ2VkJywgdGhpcy50b1N0cmluZygpLCBuZXdQcmlvcml0eSk7XG4gICAgdGhpcy5wcmlvcml0eSA9IG5ld1ByaW9yaXR5O1xuICAgIGlmKCB0aGlzLnBhcmVudFJlZiApIHtcbiAgICAgIHRoaXMucGFyZW50UmVmLl9yZXNvcnQodGhpcy5uYW1lKCkpO1xuICAgIH1cbiAgfSxcblxuICBfZ2V0UHJpOiBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gXy5oYXModGhpcy5jaGlsZHJlbiwga2V5KT8gdGhpcy5jaGlsZHJlbltrZXldLnByaW9yaXR5IDogbnVsbDtcbiAgfSxcblxuICBfcmVzb3J0OiBmdW5jdGlvbihjaGlsZEtleU1vdmVkKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNlbGYuc29ydGVkRGF0YUtleXMuc29ydChzZWxmLmNoaWxkQ29tcGFyYXRvci5iaW5kKHNlbGYpKTtcbiAgICAvLyByZXNvcnQgdGhlIGRhdGEgb2JqZWN0IHRvIG1hdGNoIG91ciBrZXlzIHNvIHZhbHVlIGV2ZW50cyByZXR1cm4gb3JkZXJlZCBjb250ZW50XG4gICAgdmFyIG9sZERhdCA9IF8uYXNzaWduKHt9LCBzZWxmLmRhdGEpO1xuICAgIF8uZWFjaChvbGREYXQsIGZ1bmN0aW9uKHYsaykgeyBkZWxldGUgc2VsZi5kYXRhW2tdOyB9KTtcbiAgICBfLmVhY2goc2VsZi5zb3J0ZWREYXRhS2V5cywgZnVuY3Rpb24oaykge1xuICAgICAgc2VsZi5kYXRhW2tdID0gb2xkRGF0W2tdO1xuICAgIH0pO1xuICAgIGlmKCAhXy5pc1VuZGVmaW5lZChjaGlsZEtleU1vdmVkKSAmJiBfLmhhcyhzZWxmLmRhdGEsIGNoaWxkS2V5TW92ZWQpICkge1xuICAgICAgc2VsZi5fdHJpZ2dlcignY2hpbGRfbW92ZWQnLCBzZWxmLmRhdGFbY2hpbGRLZXlNb3ZlZF0sIHNlbGYuX2dldFByaShjaGlsZEtleU1vdmVkKSwgY2hpbGRLZXlNb3ZlZCk7XG4gICAgfVxuICB9LFxuXG4gIF9hZGRLZXk6IGZ1bmN0aW9uKG5ld0tleSkge1xuICAgIGlmKF8uaW5kZXhPZih0aGlzLnNvcnRlZERhdGFLZXlzLCBuZXdLZXkpID09PSAtMSkge1xuICAgICAgdGhpcy5zb3J0ZWREYXRhS2V5cy5wdXNoKG5ld0tleSk7XG4gICAgICB0aGlzLl9yZXNvcnQoKTtcbiAgICB9XG4gIH0sXG5cbiAgX2Ryb3BLZXk6IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciBpID0gXy5pbmRleE9mKHRoaXMuc29ydGVkRGF0YUtleXMsIGtleSk7XG4gICAgaWYoIGkgPiAtMSApIHtcbiAgICAgIHRoaXMuc29ydGVkRGF0YUtleXMuc3BsaWNlKGksIDEpO1xuICAgIH1cbiAgfSxcblxuICBfZGVmZXI6IGZ1bmN0aW9uKCkge1xuICAgIC8vdG9kbyBzaG91bGQgcHJvYmFibHkgYmUgdGFraW5nIHNvbWUgc29ydCBvZiBzbmFwc2hvdCBvZiBteSBkYXRhIGhlcmUgYW5kIHBhc3NpbmdcbiAgICAvL3RvZG8gdGhhdCBpbnRvIGBmbmAgZm9yIHJlZmVyZW5jZVxuICAgIHRoaXMuZmx1c2hRdWV1ZS5hZGQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSk7XG4gICAgaWYoIHRoaXMuZmx1c2hEZWxheSAhPT0gZmFsc2UgKSB7IHRoaXMuZmx1c2godGhpcy5mbHVzaERlbGF5KTsgfVxuICB9LFxuXG4gIF90cmlnZ2VyOiBmdW5jdGlvbihldmVudCwgZGF0YSwgcHJpLCBrZXkpIHtcbiAgICBpZiAoREVCVUcpIGNvbnNvbGUubG9nKCdfdHJpZ2dlcicsIGV2ZW50LCB0aGlzLnRvU3RyaW5nKCksIGtleSk7XG4gICAgdmFyIHNlbGYgPSB0aGlzLCByZWYgPSBldmVudD09PSd2YWx1ZSc/IHNlbGYgOiBzZWxmLmNoaWxkKGtleSk7XG4gICAgdmFyIHNuYXAgPSBtYWtlU25hcChyZWYsIGRhdGEsIHByaSk7XG4gICAgXy5lYWNoKHNlbGYuX2V2ZW50c1tldmVudF0sIGZ1bmN0aW9uKHBhcnRzKSB7XG4gICAgICB2YXIgZm4gPSBwYXJ0c1swXSwgY29udGV4dCA9IHBhcnRzWzFdO1xuICAgICAgaWYoXy5jb250YWlucyhbJ2NoaWxkX2FkZGVkJywgJ2NoaWxkX21vdmVkJ10sIGV2ZW50KSkge1xuICAgICAgICBmbi5jYWxsKGNvbnRleHQsIHNuYXAsIHNlbGYuX2dldFByZXZDaGlsZChrZXkpKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBmbi5jYWxsKGNvbnRleHQsIHNuYXApO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIF90cmlnZ2VyQWxsOiBmdW5jdGlvbihldmVudHMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgaWYoICFldmVudHMubGVuZ3RoICkgeyByZXR1cm47IH1cbiAgICBfLmVhY2goZXZlbnRzLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgaWYgKGV2ZW50ICE9PSBmYWxzZSkgc2VsZi5fdHJpZ2dlci5hcHBseShzZWxmLCBldmVudCk7XG4gICAgfSk7XG4gICAgc2VsZi5fdHJpZ2dlcigndmFsdWUnLCBzZWxmLmRhdGEsIHNlbGYucHJpb3JpdHkpO1xuICAgIGlmKCBzZWxmLnBhcmVudFJlZiApIHtcbiAgICAgIHNlbGYucGFyZW50UmVmLl9jaGlsZENoYW5nZWQoc2VsZik7XG4gICAgfVxuICB9LFxuXG4gIF91cGRhdGVPckFkZDogZnVuY3Rpb24oa2V5LCBkYXRhLCBldmVudHMpIHtcbiAgICB2YXIgZXhpc3RzID0gXy5pc09iamVjdCh0aGlzLmRhdGEpICYmIHRoaXMuZGF0YS5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgIGlmKCAhZXhpc3RzICkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FkZENoaWxkKGtleSwgZGF0YSwgZXZlbnRzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fdXBkYXRlQ2hpbGQoa2V5LCBkYXRhLCBldmVudHMpO1xuICAgIH1cbiAgfSxcblxuICBfYWRkQ2hpbGQ6IGZ1bmN0aW9uKGtleSwgZGF0YSwgZXZlbnRzKSB7XG4gICAgaWYodGhpcy5faGFzQ2hpbGQoa2V5KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUcmllZCB0byBhZGQgZXhpc3Rpbmcgb2JqZWN0Jywga2V5KTtcbiAgICB9XG4gICAgaWYoICFfLmlzT2JqZWN0KHRoaXMuZGF0YSkgKSB7XG4gICAgICB0aGlzLmRhdGEgPSB7fTtcbiAgICB9XG4gICAgdGhpcy5fYWRkS2V5KGtleSk7XG4gICAgdGhpcy5kYXRhW2tleV0gPSBjbGVhbkRhdGEoZGF0YSk7XG4gICAgdmFyIGMgPSB0aGlzLmNoaWxkKGtleSk7XG4gICAgYy5fZGF0YUNoYW5nZWQoZGF0YSk7XG4gICAgaWYgKGV2ZW50cykgZXZlbnRzLnB1c2goWydjaGlsZF9hZGRlZCcsIGMuZ2V0RGF0YSgpLCBjLnByaW9yaXR5LCBrZXldKTtcbiAgfSxcblxuICBfcmVtb3ZlQ2hpbGQ6IGZ1bmN0aW9uKGtleSwgZXZlbnRzKSB7XG4gICAgaWYodGhpcy5faGFzQ2hpbGQoa2V5KSkge1xuICAgICAgdGhpcy5fZHJvcEtleShrZXkpO1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLmRhdGFba2V5XTtcbiAgICAgIGRlbGV0ZSB0aGlzLmRhdGFba2V5XTtcbiAgICAgIGlmKF8uaXNFbXB0eSh0aGlzLmRhdGEpKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZihfLmhhcyh0aGlzLmNoaWxkcmVuLCBrZXkpKSB7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5ba2V5XS5fZGF0YUNoYW5nZWQobnVsbCk7XG4gICAgICB9XG4gICAgICBpZiAoZXZlbnRzKSBldmVudHMucHVzaChbJ2NoaWxkX3JlbW92ZWQnLCBkYXRhLCBudWxsLCBrZXldKTtcbiAgICB9XG4gIH0sXG5cbiAgX3VwZGF0ZUNoaWxkOiBmdW5jdGlvbihrZXksIGRhdGEsIGV2ZW50cykge1xuICAgIHZhciBjZGF0YSA9IGNsZWFuRGF0YShkYXRhKTtcbiAgICBpZihfLmlzT2JqZWN0KHRoaXMuZGF0YSkgJiYgXy5oYXModGhpcy5kYXRhLGtleSkgJiYgIV8uaXNFcXVhbCh0aGlzLmRhdGFba2V5XSwgY2RhdGEpKSB7XG4gICAgICB0aGlzLmRhdGFba2V5XSA9IGNkYXRhO1xuICAgICAgdmFyIGMgPSB0aGlzLmNoaWxkKGtleSk7XG4gICAgICBjLl9kYXRhQ2hhbmdlZChkYXRhKTtcbiAgICAgIGlmIChldmVudHMpIGV2ZW50cy5wdXNoKFsnY2hpbGRfY2hhbmdlZCcsIGMuZ2V0RGF0YSgpLCBjLnByaW9yaXR5LCBrZXldKTtcbiAgICB9XG4gIH0sXG5cbiAgX25ld0F1dG9JZDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fbGFzdEF1dG9JZCA9ICdtb2NrLScrRGF0ZS5ub3coKSsnLScrTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwMDAwKTtcbiAgICByZXR1cm4gdGhpcy5fbGFzdEF1dG9JZDtcbiAgfSxcblxuICBfbmV4dEVycjogZnVuY3Rpb24odHlwZSkge1xuICAgIHZhciBlcnIgPSB0aGlzLmVycnNbdHlwZV07XG4gICAgZGVsZXRlIHRoaXMuZXJyc1t0eXBlXTtcbiAgICByZXR1cm4gZXJyfHxudWxsO1xuICB9LFxuXG4gIF9oYXNDaGlsZDogZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIF8uaXNPYmplY3QodGhpcy5kYXRhKSAmJiBfLmhhcyh0aGlzLmRhdGEsIGtleSk7XG4gIH0sXG5cbiAgX2NoaWxkRGF0YTogZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuX2hhc0NoaWxkKGtleSk/IHRoaXMuZGF0YVtrZXldIDogbnVsbDtcbiAgfSxcblxuICBfZ2V0UHJldkNoaWxkOiBmdW5jdGlvbihrZXkpIHtcbi8vICAgICAgdGhpcy5fcmVzb3J0KCk7XG4gICAgdmFyIGtleXMgPSB0aGlzLnNvcnRlZERhdGFLZXlzO1xuICAgIHZhciBpID0gXy5pbmRleE9mKGtleXMsIGtleSk7XG4gICAgaWYoIGkgPT09IC0xICkge1xuICAgICAga2V5cyA9IGtleXMuc2xpY2UoKTtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAga2V5cy5zb3J0KHRoaXMuY2hpbGRDb21wYXJhdG9yLmJpbmQodGhpcykpO1xuICAgICAgaSA9IF8uaW5kZXhPZihrZXlzLCBrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gaSA9PT0gMD8gbnVsbCA6IGtleXNbaS0xXTtcbiAgfSxcblxuICBjaGlsZENvbXBhcmF0b3I6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICB2YXIgYVByaSA9IHRoaXMuX2dldFByaShhKTtcbiAgICB2YXIgYlByaSA9IHRoaXMuX2dldFByaShiKTtcbiAgICB2YXIgeCA9IHByaW9yaXR5Q29tcGFyYXRvcihhUHJpLCBiUHJpKTtcbiAgICBpZiggeCA9PT0gMCApIHtcbiAgICAgIGlmKCBhICE9PSBiICkge1xuICAgICAgICB4ID0gYSA8IGI/IC0xIDogMTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHg7XG4gIH1cbn07XG5cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIE1PQ0sgUVVFUllcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5mdW5jdGlvbiBNb2NrUXVlcnkocmVmKSB7XG4gIHRoaXMuX3JlZiA9IHJlZjtcbiAgdGhpcy5fc3VicyA9IFtdO1xuICAvLyBzdGFydFByaSwgZW5kUHJpLCBzdGFydEtleSwgZW5kS2V5LCBhbmQgbGltaXRcbiAgdGhpcy5fcSA9IHt9O1xufVxuXG5Nb2NrUXVlcnkucHJvdG90eXBlID0ge1xuICAvKioqKioqKioqKioqKioqKioqKlxuICAgKiBVVElMSVRZIEZVTkNUSU9OU1xuICAgKioqKioqKioqKioqKioqKioqKi9cbiAgZmx1c2g6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVmKCkuZmx1c2guYXBwbHkodGhpcy5yZWYoKSwgYXJndW1lbnRzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBhdXRvRmx1c2g6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVmKCkuYXV0b0ZsdXNoLmFwcGx5KHRoaXMucmVmKCksIGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgc2xpY2U6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgU2xpY2UodGhpcyk7XG4gIH0sXG5cbiAgZ2V0RGF0YTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuc2xpY2UoKS5kYXRhO1xuICB9LFxuXG4gIGZha2VFdmVudDogZnVuY3Rpb24oZXZlbnQsIHNuYXApIHtcbiAgICBfLmVhY2godGhpcy5fc3VicywgZnVuY3Rpb24ocGFydHMpIHtcbiAgICAgIGlmKCBwYXJ0c1swXSA9PT0gJ2V2ZW50JyApIHtcbiAgICAgICAgcGFydHNbMV0uY2FsbChwYXJ0c1syXSwgc25hcCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqKioqKioqKioqKioqKioqKipcbiAgICogICBBUEkgRlVOQ1RJT05TXG4gICAqKioqKioqKioqKioqKioqKioqL1xuICBvbjogZnVuY3Rpb24oZXZlbnQsIGNhbGxiYWNrLCBjYW5jZWxDYWxsYmFjaywgY29udGV4dCkge1xuICAgIHZhciBzZWxmID0gdGhpcywgaXNGaXJzdCA9IHRydWUsIGxhc3RTbGljZSA9IHRoaXMuc2xpY2UoKSwgbWFwO1xuICAgIHZhciBmbiA9IGZ1bmN0aW9uKHNuYXAsIHByZXZDaGlsZCkge1xuICAgICAgdmFyIHNsaWNlID0gbmV3IFNsaWNlKHNlbGYsIGV2ZW50PT09J3ZhbHVlJz8gc25hcCA6IG1ha2VSZWZTbmFwKHNuYXAucmVmKCkucGFyZW50KCkpKTtcbiAgICAgIHN3aXRjaChldmVudCkge1xuICAgICAgICBjYXNlICd2YWx1ZSc6XG4gICAgICAgICAgaWYoIGlzRmlyc3QgfHwgIWxhc3RTbGljZS5lcXVhbHMoc2xpY2UpICkge1xuICAgICAgICAgICAgY2FsbGJhY2suY2FsbChjb250ZXh0LCBzbGljZS5zbmFwKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2hpbGRfbW92ZWQnOlxuICAgICAgICAgIHZhciB4ID0gc2xpY2UucG9zKHNuYXAubmFtZSgpKTtcbiAgICAgICAgICB2YXIgeSA9IHNsaWNlLmluc2VydFBvcyhzbmFwLm5hbWUoKSk7XG4gICAgICAgICAgaWYoIHggPiAtMSAmJiB5ID4gLTEgKSB7XG4gICAgICAgICAgICBjYWxsYmFjay5jYWxsKGNvbnRleHQsIHNuYXAsIHByZXZDaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYoIHggPiAtMSB8fCB5ID4gLTEgKSB7XG4gICAgICAgICAgICBtYXAgPSBsYXN0U2xpY2UuY2hhbmdlTWFwKHNsaWNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2NoaWxkX2FkZGVkJzpcbiAgICAgICAgICBpZiggc2xpY2UuaGFzKHNuYXAubmFtZSgpKSAmJiBsYXN0U2xpY2UuaGFzKHNuYXAubmFtZSgpKSApIHtcbiAgICAgICAgICAgIC8vIGlzIGEgY2hpbGRfYWRkZWQgZm9yIGV4aXN0aW5nIGV2ZW50IHNvIGFsbG93IGl0XG4gICAgICAgICAgICBjYWxsYmFjay5jYWxsKGNvbnRleHQsIHNuYXAsIHByZXZDaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1hcCA9IGxhc3RTbGljZS5jaGFuZ2VNYXAoc2xpY2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjaGlsZF9yZW1vdmVkJzpcbiAgICAgICAgICBtYXAgPSBsYXN0U2xpY2UuY2hhbmdlTWFwKHNsaWNlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2hpbGRfY2hhbmdlZCc6XG4gICAgICAgICAgY2FsbGJhY2suY2FsbChjb250ZXh0LCBzbmFwKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZXZlbnQ6ICcrZXZlbnQpO1xuICAgICAgfVxuXG4gICAgICBpZiggbWFwICkge1xuICAgICAgICB2YXIgbmV3U25hcCA9IHNsaWNlLnNuYXAoKTtcbiAgICAgICAgdmFyIG9sZFNuYXAgPSBsYXN0U2xpY2Uuc25hcCgpO1xuICAgICAgICBfLmVhY2gobWFwLmFkZGVkLCBmdW5jdGlvbihhZGRLZXkpIHtcbiAgICAgICAgICBzZWxmLmZha2VFdmVudCgnY2hpbGRfYWRkZWQnLCBuZXdTbmFwLmNoaWxkKGFkZEtleSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgXy5lYWNoKG1hcC5yZW1vdmVkLCBmdW5jdGlvbihyZW1LZXkpIHtcbiAgICAgICAgICBzZWxmLmZha2VFdmVudCgnY2hpbGRfcmVtb3ZlZCcsIG9sZFNuYXAuY2hpbGQocmVtS2V5KSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpc0ZpcnN0ID0gZmFsc2U7XG4gICAgICBsYXN0U2xpY2UgPSBzbGljZTtcbiAgICB9O1xuICAgIHZhciBjYW5jZWxGbiA9IGZ1bmN0aW9uKGVycikge1xuICAgICAgY2FuY2VsQ2FsbGJhY2suY2FsbChjb250ZXh0LCBlcnIpO1xuICAgIH07XG4gICAgc2VsZi5fc3Vicy5wdXNoKFtldmVudCwgY2FsbGJhY2ssIGNvbnRleHQsIGZuXSk7XG4gICAgdGhpcy5yZWYoKS5vbihldmVudCwgZm4sIGNhbmNlbEZuKTtcbiAgfSxcblxuICBvZmY6IGZ1bmN0aW9uKGV2ZW50LCBjYWxsYmFjaywgY29udGV4dCkge1xuICAgIHZhciByZWYgPSB0aGlzLnJlZigpO1xuICAgIF8uZWFjaCh0aGlzLl9zdWJzLCBmdW5jdGlvbihwYXJ0cykge1xuICAgICAgaWYoIHBhcnRzWzBdID09PSBldmVudCAmJiBwYXJ0c1sxXSA9PT0gY2FsbGJhY2sgJiYgcGFydHNbMl0gPT09IGNvbnRleHQgKSB7XG4gICAgICAgIHJlZi5vZmYoZXZlbnQsIHBhcnRzWzNdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBvbmNlOiBmdW5jdGlvbihldmVudCwgY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgLy8gb25jZSBpcyB0cmlja3kgYmVjYXVzZSB3ZSB3YW50IHRoZSBmaXJzdCBtYXRjaCB3aXRoaW4gb3VyIHJhbmdlXG4gICAgLy8gc28gd2UgdXNlIHRoZSBvbigpIG1ldGhvZCBhYm92ZSB3aGljaCBhbHJlYWR5IGRvZXMgdGhlIG5lZWRlZCBsZWd3b3JrXG4gICAgZnVuY3Rpb24gZm4oKSB7XG4gICAgICBzZWxmLm9mZihldmVudCwgZm4pO1xuICAgICAgLy8gdGhlIHNuYXAgaXMgYWxyZWFkeSBzbGljZWQgaW4gb24oKSBzbyB3ZSBjYW4ganVzdCBwYXNzIGl0IG9uIGhlcmVcbiAgICAgIGNhbGxiYWNrLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIHNlbGYub24oZXZlbnQsIGZuKTtcbiAgfSxcblxuICBsaW1pdDogZnVuY3Rpb24oaW50VmFsKSB7XG4gICAgaWYoIHR5cGVvZiBpbnRWYWwgIT09ICdudW1iZXInICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdRdWVyeS5saW1pdDogRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIuJyk7XG4gICAgfVxuICAgIHZhciBxID0gbmV3IE1vY2tRdWVyeSh0aGlzLnJlZigpKTtcbiAgICBfLmV4dGVuZChxLl9xLCB0aGlzLl9xLCB7bGltaXQ6IGludFZhbH0pO1xuICAgIHJldHVybiBxO1xuICB9LFxuXG4gIHN0YXJ0QXQ6IGZ1bmN0aW9uKHByaW9yaXR5LCBrZXkpIHtcbiAgICBhc3NlcnRRdWVyeSgnUXVlcnkuc3RhcnRBdCcsIHByaW9yaXR5LCBrZXkpO1xuICAgIHZhciBxID0gbmV3IE1vY2tRdWVyeSh0aGlzLnJlZigpKTtcbiAgICBfLmV4dGVuZChxLl9xLCB0aGlzLl9xLCB7c3RhcnRLZXk6IGtleSwgc3RhcnRQcmk6IHByaW9yaXR5fSk7XG4gICAgcmV0dXJuIHE7XG4gIH0sXG5cbiAgZW5kQXQ6IGZ1bmN0aW9uKHByaW9yaXR5LCBrZXkpIHtcbiAgICBhc3NlcnRRdWVyeSgnUXVlcnkuZW5kQXQnLCBwcmlvcml0eSwga2V5KTtcbiAgICB2YXIgcSA9IG5ldyBNb2NrUXVlcnkodGhpcy5yZWYoKSk7XG4gICAgXy5leHRlbmQocS5fcSwgdGhpcy5fcSwge2VuZEtleToga2V5LCBlbmRQcmk6IHByaW9yaXR5fSk7XG4gICAgcmV0dXJuIHE7XG4gIH0sXG5cbiAgcmVmOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVmO1xuICB9XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKiBTSU1QTEUgTE9HSU5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5mdW5jdGlvbiBNb2NrRmlyZWJhc2VTaW1wbGVMb2dpbihyZWYsIGNhbGxiYWNrLCB1c2VyRGF0YSkge1xuICAvLyBhbGxvd3MgdGVzdCB1bml0cyB0byBtb25pdG9yIHRoZSBjYWxsYmFjayBmdW5jdGlvbiB0byBtYWtlIHN1cmVcbiAgLy8gaXQgaXMgaW52b2tlZCAoZXZlbiBpZiBvbmUgaXMgbm90IGRlY2xhcmVkKVxuICB0aGlzLmNhbGxiYWNrID0gZnVuY3Rpb24oKSB7IGNhbGxiYWNrLmFwcGx5KG51bGwsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCkpOyB9O1xuICB0aGlzLmF0dGVtcHRzID0gW107XG4gIHRoaXMuZmFpbE1ldGhvZCA9IE1vY2tGaXJlYmFzZVNpbXBsZUxvZ2luLkRFRkFVTFRfRkFJTF9XSEVOO1xuICB0aGlzLnJlZiA9IHJlZjsgLy8gd2UgZG9uJ3QgdXNlIHJlZiBmb3IgYW55dGhpbmdcbiAgdGhpcy5hdXRvRmx1c2hUaW1lID0gTW9ja0ZpcmViYXNlU2ltcGxlTG9naW4uREVGQVVMVF9BVVRPX0ZMVVNIO1xuICB0aGlzLnVzZXJEYXRhID0gXy5jbG9uZURlZXAoTW9ja0ZpcmViYXNlU2ltcGxlTG9naW4uREVGQVVMVF9VU0VSX0RBVEEpO1xuICBpZiAodXNlckRhdGEpIF8uYXNzaWduKHRoaXMudXNlckRhdGEsIHVzZXJEYXRhKTtcblxuICAvLyB0dXJuIGFsbCBvdXIgcHVibGljIG1ldGhvZHMgaW50byBzcGllcyBzbyB0aGV5IGNhbiBiZSBtb25pdG9yZWQgZm9yIGNhbGxzIGFuZCByZXR1cm4gdmFsdWVzXG4gIC8vIHNlZSBqYXNtaW5lIHNwaWVzOiBodHRwczovL2dpdGh1Yi5jb20vcGl2b3RhbC9qYXNtaW5lL3dpa2kvU3BpZXNcbiAgLy8gdGhlIGNvbnN0cnVjdG9yIGNhbiBiZSBzcGllZCBvbiB1c2luZyBzcHlPbih3aW5kb3csICdGaXJlYmFzZVNpbXBsZUxvZ2luJykgZnJvbSB3aXRoaW4gdGhlIHRlc3QgdW5pdFxuICBmb3IodmFyIGtleSBpbiB0aGlzKSB7XG4gICAgaWYoICFrZXkubWF0Y2goL15fLykgJiYgdHlwZW9mKHRoaXNba2V5XSkgPT09ICdmdW5jdGlvbicgKSB7XG4gICAgICBzcHlGYWN0b3J5KHRoaXMsIGtleSk7XG4gICAgfVxuICB9XG59XG5cbk1vY2tGaXJlYmFzZVNpbXBsZUxvZ2luLnByb3RvdHlwZSA9IHtcblxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICogVGVzdCBVbml0IE1ldGhvZHNcbiAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gIC8qKlxuICAgKiBXaGVuIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCwgYW55IG91dHN0YW5kaW5nIGxvZ2luKClcbiAgICogYXR0ZW1wdHMgd2lsbCBiZSBpbW1lZGlhdGVseSByZXNvbHZlZC4gSWYgdGhpcyBtZXRob2RcbiAgICogaXMgY2FsbGVkIHdpdGggYW4gaW50ZWdlciB2YWx1ZSwgdGhlbiB0aGUgbG9naW4gYXR0ZW1wdFxuICAgKiB3aWxsIHJlc29sdmUgYXN5bmNocm9ub3VzbHkgYWZ0ZXIgdGhhdCBtYW55IG1pbGxpc2Vjb25kcy5cbiAgICpcbiAgICogQHBhcmFtIHtpbnR8Ym9vbGVhbn0gW21pbGxpc2Vjb25kc11cbiAgICogQHJldHVybnMge01vY2tGaXJlYmFzZVNpbXBsZUxvZ2lufVxuICAgKi9cbiAgZmx1c2g6IGZ1bmN0aW9uKG1pbGxpc2Vjb25kcykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZihfLmlzTnVtYmVyKG1pbGxpc2Vjb25kcykgKSB7XG4gICAgICBzZXRUaW1lb3V0KHNlbGYuZmx1c2guYmluZChzZWxmKSwgbWlsbGlzZWNvbmRzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB2YXIgYXR0ZW1wdHMgPSBzZWxmLmF0dGVtcHRzO1xuICAgICAgc2VsZi5hdHRlbXB0cyA9IFtdO1xuICAgICAgXy5lYWNoKGF0dGVtcHRzLCBmdW5jdGlvbih4KSB7XG4gICAgICAgIHhbMF0uYXBwbHkoc2VsZiwgeC5zbGljZSgxKSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHNlbGY7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEF1dG9tYXRpY2FsbHkgcXVldWUgdGhlIGZsdXNoKCkgZXZlbnRcbiAgICogZWFjaCB0aW1lIGxvZ2luKCkgaXMgY2FsbGVkLiBJZiB0aGlzIG1ldGhvZFxuICAgKiBpcyBjYWxsZWQgd2l0aCBgdHJ1ZWAsIHRoZW4gdGhlIGNhbGxiYWNrXG4gICAqIGlzIGludm9rZWQgc3luY2hyb25vdXNseS5cbiAgICpcbiAgICogSWYgdGhpcyBtZXRob2QgaXMgY2FsbGVkIHdpdGggYW4gaW50ZWdlcixcbiAgICogdGhlIGNhbGxiYWNrIGlzIHRyaWdnZXJlZCBhc3luY2hyb25vdXNseVxuICAgKiBhZnRlciB0aGF0IG1hbnkgbWlsbGlzZWNvbmRzLlxuICAgKlxuICAgKiBJZiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgd2l0aCBmYWxzZSwgdGhlblxuICAgKiBhdXRvRmx1c2goKSBpcyBkaXNhYmxlZC5cbiAgICpcbiAgICogQHBhcmFtIHtpbnR8Ym9vbGVhbn0gW21pbGxpc2Vjb25kc11cbiAgICogQHJldHVybnMge01vY2tGaXJlYmFzZVNpbXBsZUxvZ2lufVxuICAgKi9cbiAgYXV0b0ZsdXNoOiBmdW5jdGlvbihtaWxsaXNlY29uZHMpIHtcbiAgICB0aGlzLmF1dG9GbHVzaFRpbWUgPSBtaWxsaXNlY29uZHM7XG4gICAgaWYoIHRoaXMuYXV0b0ZsdXNoVGltZSAhPT0gZmFsc2UgKSB7XG4gICAgICB0aGlzLmZsdXNoKHRoaXMuYXV0b0ZsdXNoVGltZSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBgdGVzdE1ldGhvZGAgaXMgcGFzc2VkIHRoZSB7c3RyaW5nfXByb3ZpZGVyLCB7b2JqZWN0fW9wdGlvbnMsIHtvYmplY3R9dXNlclxuICAgKiBmb3IgZWFjaCBjYWxsIHRvIGxvZ2luKCkuIElmIGl0IHJldHVybnMgYW55dGhpbmcgb3RoZXIgdGhhblxuICAgKiBudWxsLCB0aGVuIHRoYXQgaXMgcGFzc2VkIGFzIHRoZSBlcnJvciBtZXNzYWdlIHRvIHRoZVxuICAgKiBjYWxsYmFjayBhbmQgdGhlIGxvZ2luIGNhbGwgZmFpbHMuXG4gICAqXG4gICAqIDxjb2RlPlxuICAgKiAgIC8vIHRoaXMgaXMgYSBzaW1wbGlmaWVkIGV4YW1wbGUgb2YgdGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gKE1vY2tGaXJlYmFzZVNpbXBsZUxvZ2luLkRFRkFVTFRfRkFJTF9XSEVOKVxuICAgKiAgIGF1dGguZmFpbFdoZW4oZnVuY3Rpb24ocHJvdmlkZXIsIG9wdGlvbnMsIHVzZXIpIHtcbiAgICogICAgICBpZiggdXNlci5lbWFpbCAhPT0gb3B0aW9ucy5lbWFpbCApIHtcbiAgICogICAgICAgICByZXR1cm4gTW9ja0ZpcmViYXNlU2ltcGxlTG9naW4uY3JlYXRlRXJyb3IoJ0lOVkFMSURfVVNFUicpO1xuICAgKiAgICAgIH1cbiAgICogICAgICBlbHNlIGlmKCB1c2VyLnBhc3N3b3JkICE9PSBvcHRpb25zLnBhc3N3b3JkICkge1xuICAgKiAgICAgICAgIHJldHVybiBNb2NrRmlyZWJhc2VTaW1wbGVMb2dpbi5jcmVhdGVFcnJvcignSU5WQUxJRF9QQVNTV09SRCcpO1xuICAgKiAgICAgIH1cbiAgICogICAgICBlbHNlIHtcbiAgICogICAgICAgICByZXR1cm4gbnVsbDtcbiAgICogICAgICB9XG4gICAqICAgfSk7XG4gICAqIDwvY29kZT5cbiAgICpcbiAgICogTXVsdGlwbGUgY2FsbHMgdG8gdGhpcyBtZXRob2QgcmVwbGFjZSB0aGUgb2xkIGZhaWxXaGVuIGNyaXRlcmlhLlxuICAgKlxuICAgKiBAcGFyYW0gdGVzdE1ldGhvZFxuICAgKiBAcmV0dXJucyB7TW9ja0ZpcmViYXNlU2ltcGxlTG9naW59XG4gICAqL1xuICBmYWlsV2hlbjogZnVuY3Rpb24odGVzdE1ldGhvZCkge1xuICAgIHRoaXMuZmFpbE1ldGhvZCA9IHRlc3RNZXRob2Q7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBhIHVzZXIgYWNjb3VudCBmcm9tIHRoZSBtb2NrIHVzZXIgZGF0YSBvbiB0aGlzIG9iamVjdFxuICAgKlxuICAgKiBAcGFyYW0gcHJvdmlkZXJcbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICovXG4gIGdldFVzZXI6IGZ1bmN0aW9uKHByb3ZpZGVyLCBvcHRpb25zKSB7XG4gICAgdmFyIGRhdGEgPSB0aGlzLnVzZXJEYXRhW3Byb3ZpZGVyXTtcbiAgICBpZiggcHJvdmlkZXIgPT09ICdwYXNzd29yZCcgKSB7XG4gICAgICBkYXRhID0gKGRhdGF8fHt9KVtvcHRpb25zLmVtYWlsXTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGF8fG51bGw7XG4gIH0sXG5cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAqIFB1YmxpYyBBUElcbiAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICBsb2dpbjogZnVuY3Rpb24ocHJvdmlkZXIsIG9wdGlvbnMpIHtcbiAgICB2YXIgZXJyID0gdGhpcy5mYWlsTWV0aG9kKHByb3ZpZGVyLCBvcHRpb25zfHx7fSwgdGhpcy5nZXRVc2VyKHByb3ZpZGVyLCBvcHRpb25zKSk7XG4gICAgdGhpcy5fbm90aWZ5KGVyciwgZXJyPT09bnVsbD8gdGhpcy51c2VyRGF0YVtwcm92aWRlcl06IG51bGwpO1xuICB9LFxuXG4gIGxvZ291dDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fbm90aWZ5KG51bGwsIG51bGwpO1xuICB9LFxuXG4gIGNyZWF0ZVVzZXI6IGZ1bmN0aW9uKGVtYWlsLCBwYXNzd29yZCwgY2FsbGJhY2spIHtcbiAgICBpZiAoIWNhbGxiYWNrKSBjYWxsYmFjayA9IF8ubm9vcDtcbiAgICB0aGlzLl9kZWZlcihmdW5jdGlvbigpIHtcbiAgICAgIHZhciB1c2VyID0gbnVsbCwgZXJyID0gbnVsbDtcbiAgICAgIGlmKCB0aGlzLnVzZXJEYXRhLnBhc3N3b3JkLmhhc093blByb3BlcnR5KGVtYWlsKSApIHtcbiAgICAgICAgZXJyID0gY3JlYXRlRXJyb3IoJ0VNQUlMX1RBS0VOJywgJ1RoZSBzcGVjaWZpZWQgZW1haWwgYWRkcmVzcyBpcyBhbHJlYWR5IGluIHVzZS4nKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB1c2VyID0gY3JlYXRlRW1haWxVc2VyKGVtYWlsLCBwYXNzd29yZCk7XG4gICAgICAgIHRoaXMudXNlckRhdGEucGFzc3dvcmRbZW1haWxdID0gdXNlcjtcbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrKGVyciwgdXNlcik7XG4gICAgfSk7XG4gIH0sXG5cbiAgY2hhbmdlUGFzc3dvcmQ6IGZ1bmN0aW9uKGVtYWlsLCBvbGRQYXNzd29yZCwgbmV3UGFzc3dvcmQsIGNhbGxiYWNrKSB7XG4gICAgaWYgKCFjYWxsYmFjaykgY2FsbGJhY2sgPSBfLm5vb3A7XG4gICAgdGhpcy5fZGVmZXIoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdXNlciA9IHRoaXMuZ2V0VXNlcigncGFzc3dvcmQnLCB7ZW1haWw6IGVtYWlsfSk7XG4gICAgICB2YXIgZXJyID0gdGhpcy5mYWlsTWV0aG9kKCdwYXNzd29yZCcsIHtlbWFpbDogZW1haWwsIHBhc3N3b3JkOiBvbGRQYXNzd29yZH0sIHVzZXIpO1xuICAgICAgaWYoIGVyciApIHtcbiAgICAgICAgY2FsbGJhY2soZXJyLCBmYWxzZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdXNlci5wYXNzd29yZCA9IG5ld1Bhc3N3b3JkO1xuICAgICAgICBjYWxsYmFjayhudWxsLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBzZW5kUGFzc3dvcmRSZXNldEVtYWlsOiBmdW5jdGlvbihlbWFpbCwgY2FsbGJhY2spIHtcbiAgICBpZiAoIWNhbGxiYWNrKSBjYWxsYmFjayA9IF8ubm9vcDtcbiAgICB0aGlzLl9kZWZlcihmdW5jdGlvbigpIHtcbiAgICAgIHZhciB1c2VyID0gdGhpcy5nZXRVc2VyKCdwYXNzd29yZCcsIHtlbWFpbDogZW1haWx9KTtcbiAgICAgIGlmKCAhdXNlciApIHtcbiAgICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoJ0lOVkFMSURfVVNFUicpLCBmYWxzZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgcmVtb3ZlVXNlcjogZnVuY3Rpb24oZW1haWwsIHBhc3N3b3JkLCBjYWxsYmFjaykge1xuICAgIGlmICghY2FsbGJhY2spIGNhbGxiYWNrID0gXy5ub29wO1xuICAgIHRoaXMuX2RlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHVzZXIgPSB0aGlzLmdldFVzZXIoJ3Bhc3N3b3JkJywge2VtYWlsOiBlbWFpbH0pO1xuICAgICAgaWYoICF1c2VyICkge1xuICAgICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcignSU5WQUxJRF9VU0VSJyksIGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYoIHVzZXIucGFzc3dvcmQgIT09IHBhc3N3b3JkICkge1xuICAgICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcignSU5WQUxJRF9QQVNTV09SRCcpLCBmYWxzZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZGVsZXRlIHRoaXMudXNlckRhdGEucGFzc3dvcmRbZW1haWxdO1xuICAgICAgICBjYWxsYmFjayhudWxsLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICogUHJpdmF0ZS9pbnRlcm5hbCBtZXRob2RzXG4gICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgX25vdGlmeTogZnVuY3Rpb24oZXJyb3IsIHVzZXIpIHtcbiAgICB0aGlzLl9kZWZlcih0aGlzLmNhbGxiYWNrLCBlcnJvciwgdXNlcik7XG4gIH0sXG5cbiAgX2RlZmVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IF8udG9BcnJheShhcmd1bWVudHMpO1xuICAgIHRoaXMuYXR0ZW1wdHMucHVzaChhcmdzKTtcbiAgICBpZiggdGhpcy5hdXRvRmx1c2hUaW1lICE9PSBmYWxzZSApIHtcbiAgICAgIHRoaXMuZmx1c2godGhpcy5hdXRvRmx1c2hUaW1lKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKipcbiAqIERBVEEgU0xJQ0VcbiAqIEEgdXRpbGl0eSB0byBoYW5kbGUgbGltaXRzLCBzdGFydEF0cywgYW5kIGVuZEF0c1xuICovXG5mdW5jdGlvbiBTbGljZShxdWV1ZSwgc25hcCkge1xuICB2YXIgZGF0YSA9IHNuYXA/IHNuYXAudmFsKCkgOiBxdWV1ZS5yZWYoKS5nZXREYXRhKCk7XG4gIHRoaXMucmVmID0gc25hcD8gc25hcC5yZWYoKSA6IHF1ZXVlLnJlZigpO1xuICB0aGlzLnByaW9yaXR5ID0gc25hcD8gc25hcC5nZXRQcmlvcml0eSgpIDogdGhpcy5yZWYucHJpb3JpdHk7XG4gIHRoaXMucHJpcyA9IHt9O1xuICB0aGlzLmRhdGEgPSB7fTtcbiAgdGhpcy5tYXAgPSB7fTtcbiAgdGhpcy5vdXRlck1hcCA9IHt9O1xuICB0aGlzLmtleXMgPSBbXTtcbiAgdGhpcy5wcm9wcyA9IHRoaXMuX21ha2VQcm9wcyhxdWV1ZS5fcSwgdGhpcy5yZWYsIHRoaXMucmVmLmdldEtleXMoKS5sZW5ndGgpO1xuICB0aGlzLl9idWlsZCh0aGlzLnJlZiwgZGF0YSk7XG59XG5cblNsaWNlLnByb3RvdHlwZSA9IHtcbiAgcHJldjogZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIHBvcyA9IHRoaXMucG9zKGtleSk7XG4gICAgaWYoIHBvcyA9PT0gMCApIHsgcmV0dXJuIG51bGw7IH1cbiAgICBlbHNlIHtcbiAgICAgIGlmKCBwb3MgPCAwICkgeyBwb3MgPSB0aGlzLmtleXMubGVuZ3RoOyB9XG4gICAgICByZXR1cm4gdGhpcy5rZXlzW3Bvcy0xXTtcbiAgICB9XG4gIH0sXG5cbiAgZXF1YWxzOiBmdW5jdGlvbihzbGljZSkge1xuICAgIHJldHVybiBfLmlzRXF1YWwodGhpcy5rZXlzLCBzbGljZS5rZXlzKSAmJiBfLmlzRXF1YWwodGhpcy5kYXRhLCBzbGljZS5kYXRhKTtcbiAgfSxcblxuICBwb3M6IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiB0aGlzLmhhcyhrZXkpPyB0aGlzLm1hcFtrZXldIDogLTE7XG4gIH0sXG5cbiAgaW5zZXJ0UG9zOiBmdW5jdGlvbihwcmV2Q2hpbGQpIHtcbiAgICB2YXIgb3V0ZXJQb3MgPSB0aGlzLm91dGVyTWFwW3ByZXZDaGlsZF07XG4gICAgaWYoIG91dGVyUG9zID49IHRoaXMubWluICYmIG91dGVyUG9zIDwgdGhpcy5tYXggKSB7XG4gICAgICByZXR1cm4gb3V0ZXJQb3MrMTtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9LFxuXG4gIGhhczogZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMubWFwLmhhc093blByb3BlcnR5KGtleSk7XG4gIH0sXG5cbiAgc25hcDogZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIHJlZiA9IHRoaXMucmVmO1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgIHZhciBwcmkgPSB0aGlzLnByaW9yaXR5O1xuICAgIGlmKCBrZXkgKSB7XG4gICAgICBkYXRhID0gdGhpcy5nZXQoa2V5KTtcbiAgICAgIHJlZiA9IHJlZi5jaGlsZChrZXkpO1xuICAgICAgcHJpID0gdGhpcy5wcmkoa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIG1ha2VTbmFwKHJlZiwgZGF0YSwgcHJpKTtcbiAgfSxcblxuICBnZXQ6IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiB0aGlzLmhhcyhrZXkpPyB0aGlzLmRhdGFba2V5XSA6IG51bGw7XG4gIH0sXG5cbiAgcHJpOiBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5oYXMoa2V5KT8gdGhpcy5wcmlzW2tleV0gOiBudWxsO1xuICB9LFxuXG4gIGNoYW5nZU1hcDogZnVuY3Rpb24oc2xpY2UpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGNoYW5nZXMgPSB7IGluOiBbXSwgb3V0OiBbXSB9O1xuICAgIF8uZWFjaChzZWxmLmRhdGEsIGZ1bmN0aW9uKHYsaykge1xuICAgICAgaWYoICFzbGljZS5oYXMoaykgKSB7XG4gICAgICAgIGNoYW5nZXMub3V0LnB1c2goayk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXy5lYWNoKHNsaWNlLmRhdGEsIGZ1bmN0aW9uKHYsaykge1xuICAgICAgaWYoICFzZWxmLmhhcyhrKSApIHtcbiAgICAgICAgY2hhbmdlcy5pbi5wdXNoKGspO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBjaGFuZ2VzO1xuICB9LFxuXG4gIF9pblJhbmdlOiBmdW5jdGlvbihwcm9wcywga2V5LCBwcmksIHBvcykge1xuICAgIGlmKCBwb3MgPT09IC0xICkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBpZiggIV8uaXNVbmRlZmluZWQocHJvcHMuc3RhcnRQcmkpICYmIHByaW9yaXR5Q29tcGFyYXRvcihwcmksIHByb3BzLnN0YXJ0UHJpKSA8IDAgKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmKCAhXy5pc1VuZGVmaW5lZChwcm9wcy5zdGFydEtleSkgJiYgcHJpb3JpdHlDb21wYXJhdG9yKGtleSwgcHJvcHMuc3RhcnRLZXkpIDwgMCApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYoICFfLmlzVW5kZWZpbmVkKHByb3BzLmVuZFByaSkgJiYgcHJpb3JpdHlDb21wYXJhdG9yKHByaSwgcHJvcHMuZW5kUHJpKSA+IDAgKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmKCAhXy5pc1VuZGVmaW5lZChwcm9wcy5lbmRLZXkpICYmIHByaW9yaXR5Q29tcGFyYXRvcihrZXksIHByb3BzLmVuZEtleSkgPiAwICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiggcHJvcHMubWF4ID4gLTEgJiYgcG9zID4gcHJvcHMubWF4ICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gcG9zID49IHByb3BzLm1pbjtcbiAgfSxcblxuICBfZmluZFBvczogZnVuY3Rpb24ocHJpLCBrZXksIHJlZiwgaXNTdGFydEJvdW5kYXJ5KSB7XG4gICAgdmFyIGtleXMgPSByZWYuZ2V0S2V5cygpLCBmaXJzdE1hdGNoID0gLTEsIGxhc3RNYXRjaCA9IC0xO1xuICAgIHZhciBsZW4gPSBrZXlzLmxlbmd0aCwgaSwgeCwgaztcbiAgICBpZihfLmlzVW5kZWZpbmVkKHByaSkgJiYgXy5pc1VuZGVmaW5lZChrZXkpKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGZvcihpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBrID0ga2V5c1tpXTtcbiAgICAgIHggPSBwcmlBbmRLZXlDb21wYXJhdG9yKHByaSwga2V5LCByZWYuY2hpbGQoaykucHJpb3JpdHksIGspO1xuICAgICAgaWYoIHggPT09IDAgKSB7XG4gICAgICAgIC8vIGlmIHRoZSBrZXkgaXMgdW5kZWZpbmVkLCB3ZSBtYXkgaGF2ZSBzZXZlcmFsIG1hdGNoaW5nIGNvbXBhcmlzb25zXG4gICAgICAgIC8vIHNvIHdlIHdpbGwgcmVjb3JkIGJvdGggdGhlIGZpcnN0IGFuZCBsYXN0IHN1Y2Nlc3NmdWwgbWF0Y2hcbiAgICAgICAgaWYgKGZpcnN0TWF0Y2ggPT09IC0xKSB7XG4gICAgICAgICAgZmlyc3RNYXRjaCA9IGk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdE1hdGNoID0gaTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYoIHggPCAwICkge1xuICAgICAgICAvLyB3ZSBmb3VuZCB0aGUgYnJlYWtwb2ludCB3aGVyZSBvdXIga2V5cyBleGNlZWQgdGhlIG1hdGNoIHBhcmFtc1xuICAgICAgICBpZiggaSA9PT0gMCApIHtcbiAgICAgICAgICAvLyBpZiB0aGlzIGlzIDAgdGhlbiBvdXIgbWF0Y2ggcG9pbnQgaXMgYmVmb3JlIHRoZSBkYXRhIHN0YXJ0cywgd2VcbiAgICAgICAgICAvLyB3aWxsIHVzZSBsZW4gaGVyZSBiZWNhdXNlIC0xIGFscmVhZHkgaGFzIGEgc3BlY2lhbCBtZWFuaW5nIChubyBsaW1pdClcbiAgICAgICAgICAvLyBhbmQgbGVuIGVuc3VyZXMgd2Ugd29uJ3QgZ2V0IGFueSBkYXRhIChubyBtYXRjaGVzKVxuICAgICAgICAgIGkgPSBsZW47XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYoIGZpcnN0TWF0Y2ggIT09IC0xICkge1xuICAgICAgLy8gd2UgZm91bmQgYSBtYXRjaCwgbGlmZSBpcyBzaW1wbGVcbiAgICAgIHJldHVybiBpc1N0YXJ0Qm91bmRhcnk/IGZpcnN0TWF0Y2ggOiBsYXN0TWF0Y2g7XG4gICAgfVxuICAgIGVsc2UgaWYoIGkgPCBsZW4gKSB7XG4gICAgICAvLyBpZiB3ZSdyZSBsb29raW5nIGZvciB0aGUgc3RhcnQgYm91bmRhcnkgdGhlbiBpdCdzIHRoZSBmaXJzdCByZWNvcmQgYWZ0ZXJcbiAgICAgIC8vIHRoZSBicmVha3BvaW50LiBJZiB3ZSdyZSBsb29raW5nIGZvciB0aGUgZW5kIGJvdW5kYXJ5LCBpdCdzIHRoZSBsYXN0IHJlY29yZCBiZWZvcmUgaXRcbiAgICAgIHJldHVybiBpc1N0YXJ0Qm91bmRhcnk/IGkgOiBpIC0xO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vIHdlIGRpZG4ndCBmaW5kIG9uZSwgc28gdXNlIGxlbiAoaS5lLiBhZnRlciB0aGUgZGF0YSwgbm8gcmVzdWx0cylcbiAgICAgIHJldHVybiBsZW47XG4gICAgfVxuICB9LFxuXG4gIF9tYWtlUHJvcHM6IGZ1bmN0aW9uKHF1ZXVlUHJvcHMsIHJlZiwgbnVtUmVjb3Jkcykge1xuICAgIHZhciBvdXQgPSB7fTtcbiAgICBfLmVhY2gocXVldWVQcm9wcywgZnVuY3Rpb24odixrKSB7XG4gICAgICBpZighXy5pc1VuZGVmaW5lZCh2KSkge1xuICAgICAgICBvdXRba10gPSB2O1xuICAgICAgfVxuICAgIH0pO1xuICAgIG91dC5taW4gPSB0aGlzLl9maW5kUG9zKG91dC5zdGFydFByaSwgb3V0LnN0YXJ0S2V5LCByZWYsIHRydWUpO1xuICAgIG91dC5tYXggPSB0aGlzLl9maW5kUG9zKG91dC5lbmRQcmksIG91dC5lbmRLZXksIHJlZik7XG4gICAgaWYoICFfLmlzVW5kZWZpbmVkKHF1ZXVlUHJvcHMubGltaXQpICkge1xuICAgICAgaWYoIG91dC5taW4gPiAtMSApIHtcbiAgICAgICAgb3V0Lm1heCA9IG91dC5taW4gKyBxdWV1ZVByb3BzLmxpbWl0O1xuICAgICAgfVxuICAgICAgZWxzZSBpZiggb3V0Lm1heCA+IC0xICkge1xuICAgICAgICBvdXQubWluID0gb3V0Lm1heCAtIHF1ZXVlUHJvcHMubGltaXQ7XG4gICAgICB9XG4gICAgICBlbHNlIGlmKCBxdWV1ZVByb3BzLmxpbWl0IDwgbnVtUmVjb3JkcyApIHtcbiAgICAgICAgb3V0Lm1heCA9IG51bVJlY29yZHMtMTtcbiAgICAgICAgb3V0Lm1pbiA9IE1hdGgubWF4KDAsIG51bVJlY29yZHMgLSBxdWV1ZVByb3BzLmxpbWl0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbiAgfSxcblxuICBfYnVpbGQ6IGZ1bmN0aW9uKHJlZiwgcmF3RGF0YSkge1xuICAgIHZhciBpID0gMCwgbWFwID0gdGhpcy5tYXAsIGtleXMgPSB0aGlzLmtleXMsIG91dGVyID0gdGhpcy5vdXRlck1hcDtcbiAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzLCBzbGljZWREYXRhID0gdGhpcy5kYXRhO1xuICAgIF8uZWFjaChyYXdEYXRhLCBmdW5jdGlvbih2LGspIHtcbiAgICAgIG91dGVyW2tdID0gaSA8IHByb3BzLm1pbj8gcHJvcHMubWluIC0gaSA6IGkgLSBNYXRoLm1heChwcm9wcy5taW4sMCk7XG4gICAgICBpZiggdGhpcy5faW5SYW5nZShwcm9wcywgaywgcmVmLmNoaWxkKGspLnByaW9yaXR5LCBpKyspICkge1xuICAgICAgICBtYXBba10gPSBrZXlzLmxlbmd0aDtcbiAgICAgICAga2V5cy5wdXNoKGspO1xuICAgICAgICBzbGljZWREYXRhW2tdID0gdjtcbiAgICAgIH1cbiAgICB9LCB0aGlzKTtcbiAgfVxufTtcblxuLyoqKlxuICogRkxVU0ggUVVFVUVcbiAqIEEgdXRpbGl0eSB0byBtYWtlIHN1cmUgZXZlbnRzIGFyZSBmbHVzaGVkIGluIHRoZSBvcmRlclxuICogdGhleSBhcmUgaW52b2tlZC5cbiAqKiovXG5mdW5jdGlvbiBGbHVzaFF1ZXVlKCkge1xuICB0aGlzLnF1ZXVlZEV2ZW50cyA9IFtdO1xufVxuXG5GbHVzaFF1ZXVlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihhcmdzKSB7XG4gIHRoaXMucXVldWVkRXZlbnRzLnB1c2goYXJncyk7XG59O1xuXG5GbHVzaFF1ZXVlLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uKGRlbGF5KSB7XG4gIGlmKCAhdGhpcy5xdWV1ZWRFdmVudHMubGVuZ3RoICkgeyByZXR1cm47IH1cblxuICAvLyBtYWtlIGEgY29weSBvZiBldmVudCBsaXN0IGFuZCByZXNldCwgdGhpcyBhbGxvd3NcbiAgLy8gbXVsdGlwbGUgY2FsbHMgdG8gZmx1c2ggdG8gcXVldWUgdmFyaW91cyBldmVudHMgb3V0XG4gIC8vIG9mIG9yZGVyLCBhbmQgZW5zdXJlcyB0aGF0IGV2ZW50cyB0aGF0IGFyZSBhZGRlZFxuICAvLyB3aGlsZSBmbHVzaGluZyBnbyBpbnRvIHRoZSBuZXh0IGZsdXNoIGFuZCBub3QgdGhpcyBvbmVcbiAgdmFyIGxpc3QgPSB0aGlzLnF1ZXVlZEV2ZW50cztcblxuICAvLyBldmVudHMgY291bGQgZ2V0IGFkZGVkIGFzIHdlIGludm9rZVxuICAvLyB0aGUgbGlzdCwgc28gbWFrZSBhIGNvcHkgYW5kIHJlc2V0IGZpcnN0XG4gIHRoaXMucXVldWVkRXZlbnRzID0gW107XG5cbiAgZnVuY3Rpb24gcHJvY2VzcygpIHtcbiAgICAvLyBpbnZva2UgZWFjaCBldmVudFxuICAgIGxpc3QuZm9yRWFjaChmdW5jdGlvbihwYXJ0cykge1xuICAgICAgcGFydHNbMF0uYXBwbHkobnVsbCwgcGFydHMuc2xpY2UoMSkpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYoIF8uaXNOdW1iZXIoZGVsYXkpICkge1xuICAgIHNldFRpbWVvdXQocHJvY2VzcywgZGVsYXkpO1xuICB9XG4gIGVsc2Uge1xuICAgIHByb2Nlc3MoKTtcbiAgfVxufTtcblxuXG5mdW5jdGlvbiBwcmlBbmRLZXlDb21wYXJhdG9yKHRlc3RQcmksIHRlc3RLZXksIHZhbFByaSwgdmFsS2V5KSB7XG4gIHZhciB4ID0gMDtcbiAgaWYoICFfLmlzVW5kZWZpbmVkKHRlc3RQcmkpICkge1xuICAgIHggPSBwcmlvcml0eUNvbXBhcmF0b3IodGVzdFByaSwgdmFsUHJpKTtcbiAgfVxuICBpZiggeCA9PT0gMCAmJiAhXy5pc1VuZGVmaW5lZCh0ZXN0S2V5KSAmJiB0ZXN0S2V5ICE9PSB2YWxLZXkgKSB7XG4gICAgeCA9IHRlc3RLZXkgPCB2YWxLZXk/IC0xIDogMTtcbiAgfVxuICByZXR1cm4geDtcbn1cblxuZnVuY3Rpb24gcHJpb3JpdHlDb21wYXJhdG9yKGEsYikge1xuICBpZiAoYSAhPT0gYikge1xuICAgIGlmKCBhID09PSBudWxsIHx8IGIgPT09IG51bGwgKSB7XG4gICAgICByZXR1cm4gYSA9PT0gbnVsbD8gLTEgOiAxO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGEgIT09IHR5cGVvZiBiKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGEgPT09ICdudW1iZXInID8gLTEgOiAxO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYSA+IGIgPyAxIDogLTE7XG4gICAgfVxuICB9XG4gIHJldHVybiAwO1xufVxuXG52YXIgc3B5RmFjdG9yeSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHNweUZ1bmN0aW9uO1xuICBpZiggdHlwZW9mKGdsb2JhbC5qYXNtaW5lKSAhPT0gJ3VuZGVmaW5lZCcgKSB7XG4gICAgc3B5RnVuY3Rpb24gPSBmdW5jdGlvbihvYmosIG1ldGhvZCkge1xuICAgICAgdmFyIGZuLCBzcHk7XG4gICAgICBpZiggdHlwZW9mKG9iaikgPT09ICdvYmplY3QnICkge1xuICAgICAgICBzcHkgPSBnbG9iYWwuc3B5T24ob2JqLCBtZXRob2QpO1xuICAgICAgICBpZiggdHlwZW9mKHNweS5hbmRDYWxsVGhyb3VnaCkgPT09ICdmdW5jdGlvbicgKSB7XG4gICAgICAgICAgLy8ga2FybWEgPCAwLjEyLnhcbiAgICAgICAgICBmbiA9IHNweS5hbmRDYWxsVGhyb3VnaCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGZuID0gc3B5LmFuZC5jYWxsVGhyb3VnaCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc3B5ID0gZ2xvYmFsLmphc21pbmUuY3JlYXRlU3B5KG1ldGhvZCk7XG4gICAgICAgIGlmKCB0eXBlb2YoYXJndW1lbnRzWzBdKSA9PT0gJ2Z1bmN0aW9uJyApIHtcbiAgICAgICAgICBpZiggdHlwZW9mKHNweS5hbmRDYWxsRmFrZSkgPT09ICdmdW5jdGlvbicgKSB7XG4gICAgICAgICAgICAvLyBrYXJtYSA8IDAuMTIueFxuICAgICAgICAgICAgZm4gPSBzcHkuYW5kQ2FsbEZha2Uob2JqKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmbiA9IHNweS5hbmQuY2FsbEZha2Uob2JqKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZm4gPSBzcHk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmbjtcbiAgICB9O1xuICB9XG4gIGVsc2Uge1xuICAgIHNweUZ1bmN0aW9uID0gZnVuY3Rpb24ob2JqLCBtZXRob2QpIHtcbiAgICAgIHZhciBzaW5vbiA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93LnNpbm9uIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbC5zaW5vbiA6IG51bGwpO1xuICAgICAgaWYgKCB0eXBlb2YgKG9iaikgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBzaW5vbi5zcHkob2JqLCBtZXRob2QpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBzaW5vbi5zcHkob2JqKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIHJldHVybiBzcHlGdW5jdGlvbjtcbn0pKCk7XG5cbnZhciBVU0VSX0NPVU5UID0gMTAwO1xuZnVuY3Rpb24gY3JlYXRlRW1haWxVc2VyKGVtYWlsLCBwYXNzd29yZCkge1xuICB2YXIgaWQgPSBVU0VSX0NPVU5UKys7XG4gIHJldHVybiB7XG4gICAgdWlkOiAncGFzc3dvcmQ6JytpZCxcbiAgICBpZDogaWQsXG4gICAgZW1haWw6IGVtYWlsLFxuICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcbiAgICBwcm92aWRlcjogJ3Bhc3N3b3JkJyxcbiAgICBtZDVfaGFzaDogbWQ1KGVtYWlsKSxcbiAgICBmaXJlYmFzZUF1dGhUb2tlbjogJ0ZJUkVCQVNFX0FVVEhfVE9LRU4nIC8vdG9kb1xuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEZWZhdWx0VXNlcihwcm92aWRlcikge1xuICB2YXIgaWQgPSBVU0VSX0NPVU5UKys7XG5cbiAgdmFyIG91dCA9IHtcbiAgICB1aWQ6IHByb3ZpZGVyKyc6JytpZCxcbiAgICBpZDogaWQsXG4gICAgcGFzc3dvcmQ6IGlkLFxuICAgIHByb3ZpZGVyOiBwcm92aWRlcixcbiAgICBmaXJlYmFzZUF1dGhUb2tlbjogJ0ZJUkVCQVNFX0FVVEhfVE9LRU4nIC8vdG9kb1xuICB9O1xuICBzd2l0Y2gocHJvdmlkZXIpIHtcbiAgICBjYXNlICdwYXNzd29yZCc6XG4gICAgICBvdXQuZW1haWwgPSAnZW1haWxAZmlyZWJhc2UuY29tJztcbiAgICAgIG91dC5tZDVfaGFzaCA9IG1kNShvdXQuZW1haWwpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndHdpdHRlcic6XG4gICAgICBvdXQuYWNjZXNzVG9rZW4gPSAnQUNDRVNTX1RPS0VOJzsgLy90b2RvXG4gICAgICBvdXQuYWNjZXNzVG9rZW5TZWNyZXQgPSAnQUNDRVNTX1RPS0VOX1NFQ1JFVCc7IC8vdG9kb1xuICAgICAgb3V0LmRpc3BsYXlOYW1lID0gJ0RJU1BMQVlfTkFNRSc7XG4gICAgICBvdXQudGhpcmRQYXJ0eVVzZXJEYXRhID0ge307IC8vdG9kb1xuICAgICAgb3V0LnVzZXJuYW1lID0gJ1VTRVJOQU1FJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2dvb2dsZSc6XG4gICAgICBvdXQuYWNjZXNzVG9rZW4gPSAnQUNDRVNTX1RPS0VOJzsgLy90b2RvXG4gICAgICBvdXQuZGlzcGxheU5hbWUgPSAnRElTUExBWV9OQU1FJztcbiAgICAgIG91dC5lbWFpbCA9ICdlbWFpbEBmaXJlYmFzZS5jb20nO1xuICAgICAgb3V0LnRoaXJkUGFydHlVc2VyRGF0YSA9IHt9OyAvL3RvZG9cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2dpdGh1Yic6XG4gICAgICBvdXQuYWNjZXNzVG9rZW4gPSAnQUNDRVNTX1RPS0VOJzsgLy90b2RvXG4gICAgICBvdXQuZGlzcGxheU5hbWUgPSAnRElTUExBWV9OQU1FJztcbiAgICAgIG91dC50aGlyZFBhcnR5VXNlckRhdGEgPSB7fTsgLy90b2RvXG4gICAgICBvdXQudXNlcm5hbWUgPSAnVVNFUk5BTUUnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZmFjZWJvb2snOlxuICAgICAgb3V0LmFjY2Vzc1Rva2VuID0gJ0FDQ0VTU19UT0tFTic7IC8vdG9kb1xuICAgICAgb3V0LmRpc3BsYXlOYW1lID0gJ0RJU1BMQVlfTkFNRSc7XG4gICAgICBvdXQudGhpcmRQYXJ0eVVzZXJEYXRhID0ge307IC8vdG9kb1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnYW5vbnltb3VzJzpcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYXV0aCBwcm92aWRlcicsIHByb3ZpZGVyKTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG5cbmZ1bmN0aW9uIHJlZihwYXRoLCBhdXRvU3luY0RlbGF5KSB7XG4gIHZhciByZWZlcmVuY2UgPSBuZXcgTW9ja0ZpcmViYXNlKCk7XG4gIHJlZmVyZW5jZS5mbHVzaERlbGF5ID0gXy5pc1VuZGVmaW5lZChhdXRvU3luY0RlbGF5KT8gdHJ1ZSA6IGF1dG9TeW5jRGVsYXk7XG4gIGlmKCBwYXRoICkgeyByZWZlcmVuY2UgPSByZWZlcmVuY2UuY2hpbGQocGF0aCk7IH1cbiAgcmV0dXJuIHJlZmVyZW5jZTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VQYXRocyhiYXNlLCBhZGQpIHtcbiAgcmV0dXJuIGJhc2UucmVwbGFjZSgvXFwvJC8sICcnKSsnLycrYWRkLnJlcGxhY2UoL15cXC8vLCAnJyk7XG59XG5cbmZ1bmN0aW9uIG1ha2VSZWZTbmFwKHJlZikge1xuICByZXR1cm4gbWFrZVNuYXAocmVmLCByZWYuZ2V0RGF0YSgpLCByZWYucHJpb3JpdHkpO1xufVxuXG5mdW5jdGlvbiBtYWtlU25hcChyZWYsIGRhdGEsIHByaSkge1xuICBkYXRhID0gXy5jbG9uZURlZXAoZGF0YSk7XG4gIGlmKF8uaXNPYmplY3QoZGF0YSkgJiYgXy5pc0VtcHR5KGRhdGEpKSB7IGRhdGEgPSBudWxsOyB9XG4gIHJldHVybiB7XG4gICAgdmFsOiBmdW5jdGlvbigpIHsgcmV0dXJuIGRhdGE7IH0sXG4gICAgcmVmOiBmdW5jdGlvbigpIHsgcmV0dXJuIHJlZjsgfSxcbiAgICBuYW1lOiBmdW5jdGlvbigpIHsgcmV0dXJuIHJlZi5uYW1lKCk7IH0sXG4gICAgZ2V0UHJpb3JpdHk6IGZ1bmN0aW9uKCkgeyByZXR1cm4gcHJpOyB9LFxuICAgIGZvckVhY2g6IGZ1bmN0aW9uKGNiLCBzY29wZSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgXy5lYWNoKGRhdGEsIGZ1bmN0aW9uKHYsIGspIHtcbiAgICAgICAgdmFyIHJlcyA9IGNiLmNhbGwoc2NvcGUsIHNlbGYuY2hpbGQoaykpO1xuICAgICAgICByZXR1cm4gcmVzICE9PSB0cnVlO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBjaGlsZDogZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gbWFrZVNuYXAocmVmLmNoaWxkKGtleSksIF8uaXNPYmplY3QoZGF0YSkgJiYgXy5oYXMoZGF0YSwga2V5KT8gZGF0YVtrZXldIDogbnVsbCwgcmVmLmNoaWxkKGtleSkucHJpb3JpdHkpO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gZXh0cmFjdE5hbWUocGF0aCkge1xuICByZXR1cm4gKChwYXRoIHx8ICcnKS5tYXRjaCgvXFwvKFteLiRcXFtcXF0jXFwvXSspJC8pfHxbbnVsbCwgbnVsbF0pWzFdO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVFcnJvcihjb2RlLCBtZXNzYWdlKSB7XG4gIHJldHVybiB7IGNvZGU6IGNvZGV8fCdVTktOT1dOX0VSUk9SJywgbWVzc2FnZTogJ0ZpcmViYXNlU2ltcGxlTG9naW46ICcrKG1lc3NhZ2V8fGNvZGV8fCd1bnNwZWNpZmljIGVycm9yJykgfTtcbn1cblxuZnVuY3Rpb24gZ2V0TWV0YShkYXRhLCBrZXksIGRlZmF1bHRWYWwpIHtcbiAgdmFyIHZhbCA9IGRlZmF1bHRWYWw7XG4gIHZhciBtZXRhS2V5ID0gJy4nICsga2V5O1xuICBpZiggXy5pc09iamVjdChkYXRhKSAmJiBfLmhhcyhkYXRhLCBtZXRhS2V5KSApIHtcbiAgICB2YWwgPSBkYXRhW21ldGFLZXldO1xuICAgIGRlbGV0ZSBkYXRhW21ldGFLZXldO1xuICB9XG4gIHJldHVybiB2YWw7XG59XG5cbmZ1bmN0aW9uIGNsZWFuRGF0YShkYXRhKSB7XG4gIHZhciBuZXdEYXRhID0gXy5jbG9uZShkYXRhKTtcbiAgaWYoXy5pc09iamVjdChuZXdEYXRhKSkge1xuICAgIGlmKF8uaGFzKG5ld0RhdGEsICcudmFsdWUnKSkge1xuICAgICAgbmV3RGF0YSA9IF8uY2xvbmUobmV3RGF0YVsnLnZhbHVlJ10pO1xuICAgIH1cbiAgICBpZihfLmhhcyhuZXdEYXRhLCAnLnByaW9yaXR5JykpIHtcbiAgICAgIGRlbGV0ZSBuZXdEYXRhWycucHJpb3JpdHknXTtcbiAgICB9XG4vLyAgICAgIF8uZWFjaChuZXdEYXRhLCBmdW5jdGlvbih2LGspIHtcbi8vICAgICAgICBuZXdEYXRhW2tdID0gY2xlYW5EYXRhKHYpO1xuLy8gICAgICB9KTtcbiAgICBpZihfLmlzRW1wdHkobmV3RGF0YSkpIHsgbmV3RGF0YSA9IG51bGw7IH1cbiAgfVxuICByZXR1cm4gbmV3RGF0YTtcbn1cblxuZnVuY3Rpb24gYXNzZXJ0S2V5KG1ldGhvZCwga2V5LCBhcmdOdW0pIHtcbiAgaWYgKCFhcmdOdW0pIGFyZ051bSA9ICdmaXJzdCc7XG4gIGlmKCB0eXBlb2Yoa2V5KSAhPT0gJ3N0cmluZycgfHwga2V5Lm1hdGNoKC9bLiMkXFwvXFxbXFxdXS8pICkge1xuICAgIHRocm93IG5ldyBFcnJvcihtZXRob2QgKyAnIGZhaWxlZDogJythcmdOdW0rJyB3YXMgYW4gaW52YWxpZCBrZXkgXCInKyhrZXkrJycpKycuIEZpcmViYXNlIGtleXMgbXVzdCBiZSBub24tZW1wdHkgc3RyaW5ncyBhbmQgY2FuXFwndCBjb250YWluIFwiLlwiLCBcIiNcIiwgXCIkXCIsIFwiL1wiLCBcIltcIiwgb3IgXCJdXCInKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRRdWVyeShtZXRob2QsIHByaSwga2V5KSB7XG4gIGlmKCBwcmkgIT09IG51bGwgJiYgdHlwZW9mKHByaSkgIT09ICdzdHJpbmcnICYmIHR5cGVvZihwcmkpICE9PSAnbnVtYmVyJyApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IobWV0aG9kICsgJyBmYWlsZWQ6IGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSB2YWxpZCBmaXJlYmFzZSBwcmlvcml0eSAoYSBzdHJpbmcsIG51bWJlciwgb3IgbnVsbCkuJyk7XG4gIH1cbiAgaWYoIV8uaXNVbmRlZmluZWQoa2V5KSkge1xuICAgIGFzc2VydEtleShtZXRob2QsIGtleSwgJ3NlY29uZCcpO1xuICB9XG59XG5cbi8qKiogUFVCTElDIE1FVEhPRFMgQU5EIEZJWFRVUkVTICoqKi9cblxuTW9ja0ZpcmViYXNlU2ltcGxlTG9naW4uREVGQVVMVF9GQUlMX1dIRU4gPSBmdW5jdGlvbihwcm92aWRlciwgb3B0aW9ucywgdXNlcikge1xuICB2YXIgcmVzID0gbnVsbDtcbiAgaWYoIFsncGFzc3dvcmQnLCAnYW5vbnltb3VzJywgJ3R3aXR0ZXInLCAnZmFjZWJvb2snLCAnZ29vZ2xlJywgJ2dpdGh1YiddLmluZGV4T2YocHJvdmlkZXIpID09PSAtMSApIHtcbiAgICBjb25zb2xlLmVycm9yKCdNb2NrRmlyZWJhc2VTaW1wbGVMb2dpbjpsb2dpbigpIGZhaWxlZDogdW5yZWNvZ25pemVkIGF1dGhlbnRpY2F0aW9uIHByb3ZpZGVyICcrcHJvdmlkZXIpO1xuLy8gICAgICByZXMgPSBjcmVhdGVFcnJvcigpO1xuICB9XG4gIGVsc2UgaWYoICF1c2VyICkge1xuICAgIHJlcyA9IGNyZWF0ZUVycm9yKCdJTlZBTElEX1VTRVInLCAnVGhlIHNwZWNpZmllZCB1c2VyIGRvZXMgbm90IGV4aXN0Jyk7XG4gIH1cbiAgZWxzZSBpZiggcHJvdmlkZXIgPT09ICdwYXNzd29yZCcgJiYgdXNlci5wYXNzd29yZCAhPT0gb3B0aW9ucy5wYXNzd29yZCApIHtcbiAgICByZXMgPSBjcmVhdGVFcnJvcignSU5WQUxJRF9QQVNTV09SRCcsICdUaGUgc3BlY2lmaWVkIHBhc3N3b3JkIGlzIGluY29ycmVjdCcpO1xuICB9XG4gIHJldHVybiByZXM7XG59O1xuXG5Nb2NrRmlyZWJhc2VTaW1wbGVMb2dpbi5ERUZBVUxUX1VTRVJfREFUQSA9IHt9O1xuXy5lYWNoKFsncGFzc3dvcmQnLCAnYW5vbnltb3VzJywgJ2ZhY2Vib29rJywgJ3R3aXR0ZXInLCAnZ29vZ2xlJywgJ2dpdGh1YiddLCBmdW5jdGlvbihwcm92aWRlcikge1xuICB2YXIgdXNlciA9IGNyZWF0ZURlZmF1bHRVc2VyKHByb3ZpZGVyKTtcbiAgaWYoIHByb3ZpZGVyICE9PSAncGFzc3dvcmQnICkge1xuICAgIE1vY2tGaXJlYmFzZVNpbXBsZUxvZ2luLkRFRkFVTFRfVVNFUl9EQVRBW3Byb3ZpZGVyXSA9IHVzZXI7XG4gIH1cbiAgZWxzZSB7XG4gICAgdmFyIHNldCA9IE1vY2tGaXJlYmFzZVNpbXBsZUxvZ2luLkRFRkFVTFRfVVNFUl9EQVRBW3Byb3ZpZGVyXSA9IHt9O1xuICAgIHNldFt1c2VyLmVtYWlsXSA9IHVzZXI7XG4gIH1cbn0pO1xuXG5cbk1vY2tGaXJlYmFzZS5tZDUgPSBtZDU7XG5Nb2NrRmlyZWJhc2VTaW1wbGVMb2dpbi5ERUZBVUxUX0FVVE9fRkxVU0ggPSBmYWxzZTtcblxuTW9ja0ZpcmViYXNlLl8gPSBfOyAvLyBleHBvc2UgZm9yIHRlc3RzXG5Nb2NrRmlyZWJhc2UuUXVlcnkgPSBNb2NrUXVlcnk7IC8vIGV4cG9zZSBmb3IgdGVzdHNcblxuTW9ja0ZpcmViYXNlLm92ZXJyaWRlID0gZnVuY3Rpb24gKCkge1xuICAvKiBnbG9iYWwgd2luZG93ICovXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIE1vY2tGaXJlYmFzZS5fb3JpZ0ZpcmViYXNlID0gd2luZG93LkZpcmViYXNlO1xuICAgIE1vY2tGaXJlYmFzZS5fb3JpZ0ZpcmViYXNlU2ltcGxlTG9naW4gPSB3aW5kb3cuRmlyZWJhc2VTaW1wbGVMb2dpbjtcbiAgICB3aW5kb3cuRmlyZWJhc2UgPSBNb2NrRmlyZWJhc2U7XG4gICAgd2luZG93LkZpcmViYXNlU2ltcGxlTG9naW4gPSBNb2NrRmlyZWJhc2VTaW1wbGVMb2dpbjtcbiAgfVxuICBlbHNlIHtcbiAgICBjb25zb2xlLndhcm4oJ01vY2tGaXJlYmFzZS5vdmVycmlkZSBpcyBvbmx5IHVzZWZ1bCBpbiBhIGJyb3dzZXIgZW52aXJvbm1lbnQuJyk7XG4gIH1cbn07XG5cbk1vY2tGaXJlYmFzZS5yZWYgPSByZWY7XG5Nb2NrRmlyZWJhc2UuREVGQVVMVF9EQVRBICA9IHtcbiAgJ2RhdGEnOiB7XG4gICAgJ2EnOiB7XG4gICAgICBhU3RyaW5nOiAnYWxwaGEnLFxuICAgICAgYU51bWJlcjogMSxcbiAgICAgIGFCb29sZWFuOiBmYWxzZVxuICAgIH0sXG4gICAgJ2InOiB7XG4gICAgICBhU3RyaW5nOiAnYnJhdm8nLFxuICAgICAgYU51bWJlcjogMixcbiAgICAgIGFCb29sZWFuOiB0cnVlXG4gICAgfSxcbiAgICAnYyc6IHtcbiAgICAgIGFTdHJpbmc6ICdjaGFybGllJyxcbiAgICAgIGFOdW1iZXI6IDMsXG4gICAgICBhQm9vbGVhbjogdHJ1ZVxuICAgIH0sXG4gICAgJ2QnOiB7XG4gICAgICBhU3RyaW5nOiAnZGVsdGEnLFxuICAgICAgYU51bWJlcjogNCxcbiAgICAgIGFCb29sZWFuOiB0cnVlXG4gICAgfSxcbiAgICAnZSc6IHtcbiAgICAgIGFTdHJpbmc6ICdlY2hvJyxcbiAgICAgIGFOdW1iZXI6IDVcbiAgICB9XG4gIH0sXG4gICdpbmRleCc6IHtcbiAgICAnYic6IHRydWUsXG4gICAgJ2MnOiAxLFxuICAgICdlJzogZmFsc2UsXG4gICAgJ3onOiB0cnVlIC8vIG11c3Qgbm90IGV4aXN0IGluIGBkYXRhYFxuICB9LFxuICAnb3JkZXJlZCc6IHtcbiAgICAnbnVsbF9hJzoge1xuICAgICAgYU51bWJlcjogMCxcbiAgICAgIGFMZXR0ZXI6ICdhJ1xuICAgIH0sXG4gICAgJ251bGxfYic6IHtcbiAgICAgIGFOdW1iZXI6IDAsXG4gICAgICBhTGV0dGVyOiAnYidcbiAgICB9LFxuICAgICdudWxsX2MnOiB7XG4gICAgICBhTnVtYmVyOiAwLFxuICAgICAgYUxldHRlcjogJ2MnXG4gICAgfSxcbiAgICAnbnVtXzFfYSc6IHtcbiAgICAgICcucHJpb3JpdHknOiAxLFxuICAgICAgYU51bWJlcjogMVxuICAgIH0sXG4gICAgJ251bV8xX2InOiB7XG4gICAgICAnLnByaW9yaXR5JzogMSxcbiAgICAgIGFOdW1iZXI6IDFcbiAgICB9LFxuICAgICdudW1fMic6IHtcbiAgICAgICcucHJpb3JpdHknOiAyLFxuICAgICAgYU51bWJlcjogMlxuICAgIH0sXG4gICAgJ251bV8zJzoge1xuICAgICAgJy5wcmlvcml0eSc6IDMsXG4gICAgICBhTnVtYmVyOiAzXG4gICAgfSxcbiAgICAnY2hhcl9hXzEnOiB7XG4gICAgICAnLnByaW9yaXR5JzogJ2EnLFxuICAgICAgYU51bWJlcjogMSxcbiAgICAgIGFMZXR0ZXI6ICdhJ1xuICAgIH0sXG4gICAgJ2NoYXJfYV8yJzoge1xuICAgICAgJy5wcmlvcml0eSc6ICdhJyxcbiAgICAgIGFOdW1iZXI6IDIsXG4gICAgICBhTGV0dGVyOiAnYSdcbiAgICB9LFxuICAgICdjaGFyX2InOiB7XG4gICAgICAnLnByaW9yaXR5JzogJ2InLFxuICAgICAgYUxldHRlcjogJ2InXG4gICAgfSxcbiAgICAnY2hhcl9jJzoge1xuICAgICAgJy5wcmlvcml0eSc6ICdjJyxcbiAgICAgIGFMZXR0ZXI6ICdjJ1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0cy5Nb2NrRmlyZWJhc2UgPSBNb2NrRmlyZWJhc2U7XG5leHBvcnRzLk1vY2tGaXJlYmFzZVNpbXBsZUxvZ2luID0gTW9ja0ZpcmViYXNlU2ltcGxlTG9naW47XG5cbn0pLmNhbGwodGhpcyx0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG59LHtcIk1ENVwiOjEsXCJsb2Rhc2hcIjo3fV19LHt9LFs4XSlcbig4KVxufSk7OyhmdW5jdGlvbiAod2luZG93KSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSB7XG4gICAgd2luZG93Lk1vY2tGaXJlYmFzZSA9IHdpbmRvdy5tb2NrZmlyZWJhc2UuTW9ja0ZpcmViYXNlO1xuICAgIHdpbmRvdy5Nb2NrRmlyZWJhc2VTaW1wbGVMb2dpbiA9IHdpbmRvdy5tb2NrZmlyZWJhc2UuTW9ja0ZpcmViYXNlU2ltcGxlTG9naW47XG4gIH1cbn0pKHdpbmRvdyk7XG4iLCIvKiFcbiAqIEFuZ3VsYXJGaXJlIGlzIHRoZSBvZmZpY2lhbGx5IHN1cHBvcnRlZCBBbmd1bGFySlMgYmluZGluZyBmb3IgRmlyZWJhc2UuIEZpcmViYXNlXG4gKiBpcyBhIGZ1bGwgYmFja2VuZCBzbyB5b3UgZG9uJ3QgbmVlZCBzZXJ2ZXJzIHRvIGJ1aWxkIHlvdXIgQW5ndWxhciBhcHAuIEFuZ3VsYXJGaXJlXG4gKiBwcm92aWRlcyB5b3Ugd2l0aCB0aGUgJGZpcmViYXNlIHNlcnZpY2Ugd2hpY2ggYWxsb3dzIHlvdSB0byBlYXNpbHkga2VlcCB5b3VyICRzY29wZVxuICogdmFyaWFibGVzIGluIHN5bmMgd2l0aCB5b3VyIEZpcmViYXNlIGJhY2tlbmQuXG4gKlxuICogQW5ndWxhckZpcmUgMC4wLjBcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9maXJlYmFzZS9hbmd1bGFyZmlyZS9cbiAqIERhdGU6IDA4LzI4LzIwMTRcbiAqIExpY2Vuc2U6IE1JVFxuICovXG4hZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7YW5ndWxhci5tb2R1bGUoXCJmaXJlYmFzZVwiLFtdKS52YWx1ZShcIkZpcmViYXNlXCIsYS5GaXJlYmFzZSkudmFsdWUoXCJmaXJlYmFzZUJhdGNoRGVsYXlcIiw1MCl9KHdpbmRvdyksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjthbmd1bGFyLm1vZHVsZShcImZpcmViYXNlXCIpLmZhY3RvcnkoXCIkRmlyZWJhc2VBcnJheVwiLFtcIiRsb2dcIixcIiRmaXJlYmFzZVV0aWxzXCIsZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEsYyxkKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLl9vYnNlcnZlcnM9W10sdGhpcy4kbGlzdD1bXSx0aGlzLl9pbnN0PWEsdGhpcy5fcHJvbWlzZT1kLHRoaXMuX2Rlc3Ryb3lGbj1jLGIuZ2V0UHVibGljTWV0aG9kcyhlLGZ1bmN0aW9uKGEsYil7ZS4kbGlzdFtiXT1hLmJpbmQoZSl9KSx0aGlzLiRsaXN0fXJldHVybiBjLnByb3RvdHlwZT17JGFkZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fYXNzZXJ0Tm90RGVzdHJveWVkKFwiJGFkZFwiKSx0aGlzLiRpbnN0KCkuJHB1c2goYi50b0pTT04oYSkpfSwkc2F2ZTpmdW5jdGlvbihhKXt0aGlzLl9hc3NlcnROb3REZXN0cm95ZWQoXCIkc2F2ZVwiKTt2YXIgYz10aGlzLGQ9Yy5fcmVzb2x2ZUl0ZW0oYSksZT1jLiRrZXlBdChkKTtyZXR1cm4gbnVsbCE9PWU/Yy4kaW5zdCgpLiRzZXQoZSxiLnRvSlNPTihkKSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gYy5fbm90aWZ5KFwiY2hpbGRfY2hhbmdlZFwiLGUpLGF9KTpiLnJlamVjdChcIkludmFsaWQgcmVjb3JkOyBjb3VsZCBkZXRlcm1pbmUgaXRzIGtleTogXCIrYSl9LCRyZW1vdmU6ZnVuY3Rpb24oYSl7dGhpcy5fYXNzZXJ0Tm90RGVzdHJveWVkKFwiJHJlbW92ZVwiKTt2YXIgYz10aGlzLiRrZXlBdChhKTtyZXR1cm4gbnVsbCE9PWM/dGhpcy4kaW5zdCgpLiRyZW1vdmUoYyk6Yi5yZWplY3QoXCJJbnZhbGlkIHJlY29yZDsgY291bGQgbm90IGZpbmQga2V5OiBcIithKX0sJGtleUF0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX3Jlc29sdmVJdGVtKGEpO3JldHVybiB0aGlzLl9nZXRLZXkoYil9LCRpbmRleEZvcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiB0aGlzLiRsaXN0LmZpbmRJbmRleChmdW5jdGlvbihjKXtyZXR1cm4gYi5fZ2V0S2V5KGMpPT09YX0pfSwkbG9hZGVkOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fcHJvbWlzZTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmKGM9Yy50aGVuLmNhbGwoYyxhLGIpKSxjfSwkaW5zdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnN0fSwkd2F0Y2g6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl9vYnNlcnZlcnM7cmV0dXJuIGMucHVzaChbYSxiXSksZnVuY3Rpb24oKXt2YXIgZD1jLmZpbmRJbmRleChmdW5jdGlvbihjKXtyZXR1cm4gY1swXT09PWEmJmNbMV09PT1ifSk7ZD4tMSYmYy5zcGxpY2UoZCwxKX19LCRkZXN0cm95OmZ1bmN0aW9uKGIpe3RoaXMuX2lzRGVzdHJveWVkfHwodGhpcy5faXNEZXN0cm95ZWQ9ITAsdGhpcy4kbGlzdC5sZW5ndGg9MCxhLmRlYnVnKFwiZGVzdHJveSBjYWxsZWQgZm9yIEZpcmViYXNlQXJyYXk6IFwiK3RoaXMuJGluc3QoKS4kcmVmKCkudG9TdHJpbmcoKSksdGhpcy5fZGVzdHJveUZuKGIpKX0sJGdldFJlY29yZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLiRpbmRleEZvcihhKTtyZXR1cm4gYj4tMT90aGlzLiRsaXN0W2JdOm51bGx9LCQkYWRkZWQ6ZnVuY3Rpb24oYSxjKXt2YXIgZD10aGlzLiRpbmRleEZvcihhLm5hbWUoKSk7aWYoLTE9PT1kKXt2YXIgZT1hLnZhbCgpO2FuZ3VsYXIuaXNPYmplY3QoZSl8fChlPXskdmFsdWU6ZX0pLGUuJGlkPWEubmFtZSgpLGUuJHByaW9yaXR5PWEuZ2V0UHJpb3JpdHkoKSxiLmFwcGx5RGVmYXVsdHMoZSx0aGlzLiQkZGVmYXVsdHMpLHRoaXMuX3Byb2Nlc3MoXCJjaGlsZF9hZGRlZFwiLGUsYyl9fSwkJHJlbW92ZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy4kZ2V0UmVjb3JkKGEubmFtZSgpKTthbmd1bGFyLmlzT2JqZWN0KGIpJiZ0aGlzLl9wcm9jZXNzKFwiY2hpbGRfcmVtb3ZlZFwiLGIpfSwkJHVwZGF0ZWQ6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy4kZ2V0UmVjb3JkKGEubmFtZSgpKTtpZihhbmd1bGFyLmlzT2JqZWN0KGMpKXt2YXIgZD1iLnVwZGF0ZVJlYyhjLGEpO2IuYXBwbHlEZWZhdWx0cyhjLHRoaXMuJCRkZWZhdWx0cyksZCYmdGhpcy5fcHJvY2VzcyhcImNoaWxkX2NoYW5nZWRcIixjKX19LCQkbW92ZWQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLiRnZXRSZWNvcmQoYS5uYW1lKCkpO2FuZ3VsYXIuaXNPYmplY3QoYykmJihjLiRwcmlvcml0eT1hLmdldFByaW9yaXR5KCksdGhpcy5fcHJvY2VzcyhcImNoaWxkX21vdmVkXCIsYyxiKSl9LCQkZXJyb3I6ZnVuY3Rpb24oYil7YS5lcnJvcihiKSx0aGlzLiRkZXN0cm95KGIpfSxfZ2V0S2V5OmZ1bmN0aW9uKGEpe3JldHVybiBhbmd1bGFyLmlzT2JqZWN0KGEpP2EuJGlkOm51bGx9LF9wcm9jZXNzOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPXRoaXMuX2dldEtleShiKSxmPSExO3N3aXRjaChhKXtjYXNlXCJjaGlsZF9hZGRlZFwiOmQ9dGhpcy4kaW5kZXhGb3IoZSk7YnJlYWs7Y2FzZVwiY2hpbGRfbW92ZWRcIjpkPXRoaXMuJGluZGV4Rm9yKGUpLHRoaXMuX3NwbGljZU91dChlKTticmVhaztjYXNlXCJjaGlsZF9yZW1vdmVkXCI6Zj1udWxsIT09dGhpcy5fc3BsaWNlT3V0KGUpO2JyZWFrO2Nhc2VcImNoaWxkX2NoYW5nZWRcIjpmPSEwfXJldHVybiBhbmd1bGFyLmlzRGVmaW5lZChkKSYmKGY9dGhpcy5fYWRkQWZ0ZXIoYixjKSE9PWQpLGYmJnRoaXMuX25vdGlmeShhLGUsYyksZn0sX25vdGlmeTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9e2V2ZW50OmEsa2V5OmJ9O2FuZ3VsYXIuaXNEZWZpbmVkKGMpJiYoZC5wcmV2Q2hpbGQ9YyksYW5ndWxhci5mb3JFYWNoKHRoaXMuX29ic2VydmVycyxmdW5jdGlvbihhKXthWzBdLmNhbGwoYVsxXSxkKX0pfSxfYWRkQWZ0ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYztyZXR1cm4gbnVsbD09PWI/Yz0wOihjPXRoaXMuJGluZGV4Rm9yKGIpKzEsMD09PWMmJihjPXRoaXMuJGxpc3QubGVuZ3RoKSksdGhpcy4kbGlzdC5zcGxpY2UoYywwLGEpLGN9LF9zcGxpY2VPdXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy4kaW5kZXhGb3IoYSk7cmV0dXJuIGI+LTE/dGhpcy4kbGlzdC5zcGxpY2UoYiwxKVswXTpudWxsfSxfcmVzb2x2ZUl0ZW06ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy4kbGlzdDtpZihhbmd1bGFyLmlzTnVtYmVyKGEpJiZhPj0wJiZiLmxlbmd0aD49YSlyZXR1cm4gYlthXTtpZihhbmd1bGFyLmlzT2JqZWN0KGEpKWZvcih2YXIgYz1iLmxlbmd0aDtjLS07KWlmKGJbY109PT1hKXJldHVybiBhO3JldHVybiBudWxsfSxfYXNzZXJ0Tm90RGVzdHJveWVkOmZ1bmN0aW9uKGEpe2lmKHRoaXMuX2lzRGVzdHJveWVkKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFwiK2ErXCIgbWV0aG9kIG9uIGEgZGVzdHJveWVkICRGaXJlYmFzZUFycmF5IG9iamVjdFwiKX19LGMuJGV4dGVuZEZhY3Rvcnk9ZnVuY3Rpb24oYSxkKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGgmJmFuZ3VsYXIuaXNPYmplY3QoYSkmJihkPWEsYT1mdW5jdGlvbigpe3JldHVybiBjLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLGIuaW5oZXJpdChhLGMsZCl9LGN9XSl9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjthbmd1bGFyLm1vZHVsZShcImZpcmViYXNlXCIpLmZhY3RvcnkoXCIkRmlyZWJhc2VPYmplY3RcIixbXCIkcGFyc2VcIixcIiRmaXJlYmFzZVV0aWxzXCIsXCIkbG9nXCIsXCIkaW50ZXJ2YWxcIixmdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBlKGEsYyxkKXt0aGlzLiQkY29uZj17cHJvbWlzZTpkLGluc3Q6YSxiaW5kaW5nOm5ldyBmKHRoaXMpLGRlc3Ryb3lGbjpjLGxpc3RlbmVyczpbXX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCIkJGNvbmZcIix7dmFsdWU6dGhpcy4kJGNvbmZ9KSx0aGlzLiRpZD1hLiRyZWYoKS5yZWYoKS5uYW1lKCksdGhpcy4kcHJpb3JpdHk9bnVsbCxiLmFwcGx5RGVmYXVsdHModGhpcyx0aGlzLiQkZGVmYXVsdHMpfWZ1bmN0aW9uIGYoYSl7dGhpcy5zdWJzPVtdLHRoaXMuc2NvcGU9bnVsbCx0aGlzLm5hbWU9bnVsbCx0aGlzLnJlYz1hfXJldHVybiBlLnByb3RvdHlwZT17JHNhdmU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBhLiRpbnN0KCkuJHNldChiLnRvSlNPTihhKSkudGhlbihmdW5jdGlvbihiKXtyZXR1cm4gYS4kJG5vdGlmeSgpLGJ9KX0sJGxvYWRlZDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuJCRjb25mLnByb21pc2U7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgmJihjPWMudGhlbi5jYWxsKGMsYSxiKSksY30sJGluc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kJGNvbmYuaW5zdH0sJGJpbmRUbzpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7cmV0dXJuIGMuJGxvYWRlZCgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYy4kJGNvbmYuYmluZGluZy5iaW5kVG8oYSxiKX0pfSwkd2F0Y2g6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLiQkY29uZi5saXN0ZW5lcnM7cmV0dXJuIGMucHVzaChbYSxiXSksZnVuY3Rpb24oKXt2YXIgZD1jLmZpbmRJbmRleChmdW5jdGlvbihjKXtyZXR1cm4gY1swXT09PWEmJmNbMV09PT1ifSk7ZD4tMSYmYy5zcGxpY2UoZCwxKX19LCRkZXN0cm95OmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXM7Yy4kaXNEZXN0cm95ZWR8fChjLiRpc0Rlc3Ryb3llZD0hMCxjLiQkY29uZi5iaW5kaW5nLmRlc3Ryb3koKSxiLmVhY2goYyxmdW5jdGlvbihhLGIpe2RlbGV0ZSBjW2JdfSksYy4kJGNvbmYuZGVzdHJveUZuKGEpKX0sJCR1cGRhdGVkOmZ1bmN0aW9uKGEpe3ZhciBjPWIudXBkYXRlUmVjKHRoaXMsYSk7Yi5hcHBseURlZmF1bHRzKHRoaXMsdGhpcy4kJGRlZmF1bHRzKSxjJiZ0aGlzLiQkbm90aWZ5KCl9LCQkZXJyb3I6ZnVuY3Rpb24oYSl7Yy5lcnJvcihhKSx0aGlzLiRkZXN0cm95KGEpfSwkJHNjb3BlVXBkYXRlZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy4kaW5zdCgpLiRzZXQoYi50b0pTT04oYSkpfSwkJG5vdGlmeTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj10aGlzLiQkY29uZi5saXN0ZW5lcnMuc2xpY2UoKTthbmd1bGFyLmZvckVhY2goYixmdW5jdGlvbihiKXtiWzBdLmNhbGwoYlsxXSx7ZXZlbnQ6XCJ2YWx1ZVwiLGtleTphLiRpZH0pfSl9LGZvckVhY2g6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYi5lYWNoKHRoaXMsYSxjKX19LGUuJGV4dGVuZEZhY3Rvcnk9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGgmJmFuZ3VsYXIuaXNPYmplY3QoYSkmJihjPWEsYT1mdW5jdGlvbigpe2UuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksYi5pbmhlcml0KGEsZSxjKX0sZi5wcm90b3R5cGU9e2Fzc2VydE5vdEJvdW5kOmZ1bmN0aW9uKGEpe2lmKHRoaXMuc2NvcGUpe3ZhciBkPVwiQ2Fubm90IGJpbmQgdG8gXCIrYStcIiBiZWNhdXNlIHRoaXMgaW5zdGFuY2UgaXMgYWxyZWFkeSBib3VuZCB0byBcIit0aGlzLm5hbWUrXCI7IG9uZSBiaW5kaW5nIHBlciBpbnN0YW5jZSAoY2FsbCB1bmJpbmQgbWV0aG9kIG9yIGNyZWF0ZSBhbm90aGVyICRmaXJlYmFzZSBpbnN0YW5jZSlcIjtyZXR1cm4gYy5lcnJvcihkKSxiLnJlamVjdChkKX19LGJpbmRUbzpmdW5jdGlvbihjLGUpe2Z1bmN0aW9uIGYoZil7ZnVuY3Rpb24gZyhhKXt2YXIgYz1oKCksZD1iLnNjb3BlRGF0YShhKTtyZXR1cm4gYW5ndWxhci5lcXVhbHMoYyxkKSYmYy4kcHJpb3JpdHk9PT1hLiRwcmlvcml0eSYmYy4kdmFsdWU9PT1hLiR2YWx1ZX1mdW5jdGlvbiBoKCl7cmV0dXJuIGIuc2NvcGVEYXRhKGwoYykpfWZ1bmN0aW9uIGkoYSl7bC5hc3NpZ24oYyxiLnNjb3BlRGF0YShhKSl9ZnVuY3Rpb24gaigpe3ZhciBhPWwoYyk7KGEuJHZhbHVlIT09bS4kdmFsdWV8fGEuJHByaW9yaXR5IT09bS4kcHJpb3JpdHkpJiZuKCl9dmFyIGs9ITEsbD1hKGUpLG09Zi5yZWM7Zi5zY29wZT1jLGYudmFyTmFtZT1lO3ZhciBuPWZ1bmN0aW9uKCl7dmFyIGE9Yi5kZWJvdW5jZShmdW5jdGlvbigpe20uJCRzY29wZVVwZGF0ZWQoaCgpKVtcImZpbmFsbHlcIl0oZnVuY3Rpb24oKXtrPSExfSl9LDUwLDUwMCk7ZyhtKXx8KGs9ITAsYSgpKX0sbz1mdW5jdGlvbigpe2t8fGcobSl8fGkobSl9O3JldHVybiBmdW5jdGlvbigpe3ZhciBhPVwiX2ZpcmViYXNlQ291bnRlckZvclZhclwiK2U7Y1thXT0wO3ZhciBiPWQoZnVuY3Rpb24oKXtjW2FdKyt9LDUxLDAsITEpO2Yuc3Vicy5wdXNoKGMuJHdhdGNoKGEsaikpLGYuc3Vicy5wdXNoKGZ1bmN0aW9uKCl7ZC5jYW5jZWwoYiksZGVsZXRlIGNbYV19KX0oKSxpKG0pLGYuc3Vicy5wdXNoKGMuJG9uKFwiJGRlc3Ryb3lcIixmLnVuYmluZC5iaW5kKGYpKSksZi5zdWJzLnB1c2goYy4kd2F0Y2goZSxuLCEwKSksZi5zdWJzLnB1c2gobS4kd2F0Y2gobykpLGYudW5iaW5kLmJpbmQoZil9cmV0dXJuIHRoaXMuYXNzZXJ0Tm90Qm91bmQoZSl8fGYodGhpcyl9LHVuYmluZDpmdW5jdGlvbigpe3RoaXMuc2NvcGUmJihhbmd1bGFyLmZvckVhY2godGhpcy5zdWJzLGZ1bmN0aW9uKGEpe2EoKX0pLHRoaXMuc3Vicz1bXSx0aGlzLnNjb3BlPW51bGwsdGhpcy5uYW1lPW51bGwpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy51bmJpbmQoKSx0aGlzLnJlYz1udWxsfX0sZX1dKX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2FuZ3VsYXIubW9kdWxlKFwiZmlyZWJhc2VcIikuZmFjdG9yeShcIiRmaXJlYmFzZVwiLFtcIiRmaXJlYmFzZVV0aWxzXCIsXCIkZmlyZWJhc2VDb25maWdcIixmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSxkKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGM/KHRoaXMuX2NvbmZpZz1iKGQpLHRoaXMuX3JlZj1hLHRoaXMuX2FycmF5U3luYz1udWxsLHRoaXMuX29iamVjdFN5bmM9bnVsbCx2b2lkIHRoaXMuX2Fzc2VydFZhbGlkQ29uZmlnKGEsdGhpcy5fY29uZmlnKSk6bmV3IGMoYSxkKX1mdW5jdGlvbiBkKGIsYyl7ZnVuY3Rpb24gZChhKXtxLmlzRGVzdHJveWVkPSEwO3ZhciBjPWIuJHJlZigpO2Mub2ZmKFwiY2hpbGRfYWRkZWRcIixrKSxjLm9mZihcImNoaWxkX21vdmVkXCIsbSksYy5vZmYoXCJjaGlsZF9jaGFuZ2VkXCIsbCksYy5vZmYoXCJjaGlsZF9yZW1vdmVkXCIsbiksaT1udWxsLHAoYXx8XCJkZXN0cm95ZWRcIil9ZnVuY3Rpb24gZSgpe3ZhciBhPWIuJHJlZigpO2Eub24oXCJjaGlsZF9hZGRlZFwiLGssbyksYS5vbihcImNoaWxkX21vdmVkXCIsbSxvKSxhLm9uKFwiY2hpbGRfY2hhbmdlZFwiLGwsbyksYS5vbihcImNoaWxkX3JlbW92ZWRcIixuLG8pLGEub25jZShcInZhbHVlXCIsZnVuY3Rpb24oKXtwKG51bGwpfSxwKX1mdW5jdGlvbiBmKGEpe2gmJihhP2gucmVqZWN0KGEpOmgucmVzb2x2ZShpKSxoPW51bGwpfWZ1bmN0aW9uIGcoYSl7aWYoIWFuZ3VsYXIuaXNBcnJheShhKSl7dmFyIGI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpO3Rocm93IG5ldyBFcnJvcignYXJyYXlGYWN0b3J5IG11c3QgcmV0dXJuIGEgdmFsaWQgYXJyYXkgdGhhdCBwYXNzZXMgYW5ndWxhci5pc0FycmF5IGFuZCBBcnJheS5pc0FycmF5LCBidXQgcmVjZWl2ZWQgXCInK2IrJ1wiJyl9fXZhciBoPWEuZGVmZXIoKSxpPW5ldyBjKGIsZCxoLnByb21pc2UpLGo9YS5iYXRjaCgpLGs9aihpLiQkYWRkZWQsaSksbD1qKGkuJCR1cGRhdGVkLGkpLG09aihpLiQkbW92ZWQsaSksbj1qKGkuJCRyZW1vdmVkLGkpLG89aihpLiQkZXJyb3IsaSkscD1qKGYpLHE9dGhpcztxLmlzRGVzdHJveWVkPSExLHEuZ2V0QXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gaX0sZyhpKSxlKCl9ZnVuY3Rpb24gZShiLGMpe2Z1bmN0aW9uIGQoYSl7bi5pc0Rlc3Ryb3llZD0hMCxpLm9mZihcInZhbHVlXCIsayksaD1udWxsLG0oYXx8XCJkZXN0cm95ZWRcIil9ZnVuY3Rpb24gZSgpe2kub24oXCJ2YWx1ZVwiLGssbCksaS5vbmNlKFwidmFsdWVcIixmdW5jdGlvbigpe20obnVsbCl9LG0pfWZ1bmN0aW9uIGYoYSl7ZyYmKGE/Zy5yZWplY3QoYSk6Zy5yZXNvbHZlKGgpLGc9bnVsbCl9dmFyIGc9YS5kZWZlcigpLGg9bmV3IGMoYixkLGcucHJvbWlzZSksaT1iLiRyZWYoKSxqPWEuYmF0Y2goKSxrPWooaC4kJHVwZGF0ZWQsaCksbD1qKGguJCRlcnJvcixoKSxtPWooZiksbj10aGlzO24uaXNEZXN0cm95ZWQ9ITEsbi5nZXRPYmplY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gaH0sZSgpfXJldHVybiBjLnByb3RvdHlwZT17JHJlZjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWZ9LCRwdXNoOmZ1bmN0aW9uKGIpe3ZhciBjPWEuZGVmZXIoKSxkPXRoaXMuX3JlZi5yZWYoKS5wdXNoKCksZT10aGlzLl9oYW5kbGUoYyxkKTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wP2Quc2V0KGIsZSk6ZSgpLGMucHJvbWlzZX0sJHNldDpmdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMuX3JlZixlPWEuZGVmZXIoKTtpZihhcmd1bWVudHMubGVuZ3RoPjE/ZD1kLnJlZigpLmNoaWxkKGIpOmM9Yixhbmd1bGFyLmlzRnVuY3Rpb24oZC5zZXQpfHwhYW5ndWxhci5pc09iamVjdChjKSlkLnJlZigpLnNldChjLHRoaXMuX2hhbmRsZShlLGQpKTtlbHNle3ZhciBmPWFuZ3VsYXIuZXh0ZW5kKHt9LGMpO2Qub25jZShcInZhbHVlXCIsZnVuY3Rpb24oYSl7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2YuaGFzT3duUHJvcGVydHkoYS5uYW1lKCkpfHwoZlthLm5hbWUoKV09bnVsbCl9KSxkLnJlZigpLnVwZGF0ZShmLHRoaXMuX2hhbmRsZShlLGQpKX0sdGhpcyl9cmV0dXJuIGUucHJvbWlzZX0sJHJlbW92ZTpmdW5jdGlvbihiKXt2YXIgYyxkPXRoaXMuX3JlZixlPXRoaXMsZj1hLmRlZmVyKCk7aWYoYXJndW1lbnRzLmxlbmd0aD4wJiYoZD1kLnJlZigpLmNoaWxkKGIpKSxhbmd1bGFyLmlzRnVuY3Rpb24oZC5yZW1vdmUpKWQucmVtb3ZlKGUuX2hhbmRsZShmLGQpKSxjPWYucHJvbWlzZTtlbHNle3ZhciBnPVtdO2Qub25jZShcInZhbHVlXCIsZnVuY3Rpb24oYil7Yi5mb3JFYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPWEuZGVmZXIoKTtnLnB1c2goYyksYi5yZWYoKS5yZW1vdmUoZS5faGFuZGxlKGMsYi5yZWYoKSkpfSxlKX0pLGM9YS5hbGxQcm9taXNlcyhnKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KX1yZXR1cm4gY30sJHVwZGF0ZTpmdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMuX3JlZi5yZWYoKSxlPWEuZGVmZXIoKTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4xP2Q9ZC5jaGlsZChiKTpjPWIsZC51cGRhdGUoYyx0aGlzLl9oYW5kbGUoZSxkKSksZS5wcm9taXNlfSwkdHJhbnNhY3Rpb246ZnVuY3Rpb24oYixjLGQpe3ZhciBlPXRoaXMuX3JlZi5yZWYoKTthbmd1bGFyLmlzRnVuY3Rpb24oYik/KGQ9YyxjPWIpOmU9ZS5jaGlsZChiKSxkPSEhZDt2YXIgZj1hLmRlZmVyKCk7cmV0dXJuIGUudHJhbnNhY3Rpb24oYyxmdW5jdGlvbihhLGIsYyl7YT9mLnJlamVjdChhKTpmLnJlc29sdmUoYj9jOm51bGwpfSxkKSxmLnByb21pc2V9LCRhc09iamVjdDpmdW5jdGlvbigpe3JldHVybighdGhpcy5fb2JqZWN0U3luY3x8dGhpcy5fb2JqZWN0U3luYy5pc0Rlc3Ryb3llZCkmJih0aGlzLl9vYmplY3RTeW5jPW5ldyBlKHRoaXMsdGhpcy5fY29uZmlnLm9iamVjdEZhY3RvcnkpKSx0aGlzLl9vYmplY3RTeW5jLmdldE9iamVjdCgpfSwkYXNBcnJheTpmdW5jdGlvbigpe3JldHVybighdGhpcy5fYXJyYXlTeW5jfHx0aGlzLl9hcnJheVN5bmMuaXNEZXN0cm95ZWQpJiYodGhpcy5fYXJyYXlTeW5jPW5ldyBkKHRoaXMsdGhpcy5fY29uZmlnLmFycmF5RmFjdG9yeSkpLHRoaXMuX2FycmF5U3luYy5nZXRBcnJheSgpfSxfaGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBiPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oYyl7Yz9hLnJlamVjdChjKTphLnJlc29sdmUuYXBwbHkoYSxiKX19LF9hc3NlcnRWYWxpZENvbmZpZzpmdW5jdGlvbihiLGMpe2lmKGEuYXNzZXJ0VmFsaWRSZWYoYixcIk11c3QgcGFzcyBhIHZhbGlkIEZpcmViYXNlIHJlZmVyZW5jZSB0byAkZmlyZWJhc2UgKG5vdCBhIHN0cmluZyBvciBVUkwpXCIpLCFhbmd1bGFyLmlzRnVuY3Rpb24oYy5hcnJheUZhY3RvcnkpKXRocm93IG5ldyBFcnJvcihcImNvbmZpZy5hcnJheUZhY3RvcnkgbXVzdCBiZSBhIHZhbGlkIGZ1bmN0aW9uXCIpO2lmKCFhbmd1bGFyLmlzRnVuY3Rpb24oYy5vYmplY3RGYWN0b3J5KSl0aHJvdyBuZXcgRXJyb3IoXCJjb25maWcub2JqZWN0RmFjdG9yeSBtdXN0IGJlIGEgdmFsaWQgZnVuY3Rpb25cIil9fSxjfV0pfSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGE7YW5ndWxhci5tb2R1bGUoXCJmaXJlYmFzZVwiKS5mYWN0b3J5KFwiJGZpcmViYXNlU2ltcGxlTG9naW5cIixbXCIkcVwiLFwiJHRpbWVvdXRcIixcIiRyb290U2NvcGVcIixmdW5jdGlvbihiLGMsZCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBmPW5ldyBhKGIsYyxkLGUpO3JldHVybiBmLmNvbnN0cnVjdCgpfX1dKSxhPWZ1bmN0aW9uKGEsYixjLGQpe2lmKHRoaXMuX3E9YSx0aGlzLl90aW1lb3V0PWIsdGhpcy5fcm9vdFNjb3BlPWMsdGhpcy5fbG9naW5EZWZlcnJlZD1udWxsLHRoaXMuX2dldEN1cnJlbnRVc2VyRGVmZXJyZWQ9W10sdGhpcy5fY3VycmVudFVzZXJEYXRhPXZvaWQgMCxcInN0cmluZ1wiPT10eXBlb2YgZCl0aHJvdyBuZXcgRXJyb3IoXCJQbGVhc2UgcHJvdmlkZSBhIEZpcmViYXNlIHJlZmVyZW5jZSBpbnN0ZWFkIG9mIGEgVVJMLCBlZzogbmV3IEZpcmViYXNlKHVybClcIik7dGhpcy5fZlJlZj1kfSxhLnByb3RvdHlwZT17Y29uc3RydWN0OmZ1bmN0aW9uKCl7dmFyIGE9e3VzZXI6bnVsbCwkbG9naW46dGhpcy5sb2dpbi5iaW5kKHRoaXMpLCRsb2dvdXQ6dGhpcy5sb2dvdXQuYmluZCh0aGlzKSwkY3JlYXRlVXNlcjp0aGlzLmNyZWF0ZVVzZXIuYmluZCh0aGlzKSwkY2hhbmdlUGFzc3dvcmQ6dGhpcy5jaGFuZ2VQYXNzd29yZC5iaW5kKHRoaXMpLCRyZW1vdmVVc2VyOnRoaXMucmVtb3ZlVXNlci5iaW5kKHRoaXMpLCRnZXRDdXJyZW50VXNlcjp0aGlzLmdldEN1cnJlbnRVc2VyLmJpbmQodGhpcyksJHNlbmRQYXNzd29yZFJlc2V0RW1haWw6dGhpcy5zZW5kUGFzc3dvcmRSZXNldEVtYWlsLmJpbmQodGhpcyl9O2lmKHRoaXMuX29iamVjdD1hLCF3aW5kb3cuRmlyZWJhc2VTaW1wbGVMb2dpbil7dmFyIGI9bmV3IEVycm9yKFwiRmlyZWJhc2VTaW1wbGVMb2dpbiBpcyB1bmRlZmluZWQuIERpZCB5b3UgZm9yZ2V0IHRvIGluY2x1ZGUgZmlyZWJhc2Utc2ltcGxlLWxvZ2luLmpzP1wiKTt0aHJvdyB0aGlzLl9yb290U2NvcGUuJGJyb2FkY2FzdChcIiRmaXJlYmFzZVNpbXBsZUxvZ2luOmVycm9yXCIsYiksYn12YXIgYz1uZXcgRmlyZWJhc2VTaW1wbGVMb2dpbih0aGlzLl9mUmVmLHRoaXMuX29uTG9naW5FdmVudC5iaW5kKHRoaXMpKTtyZXR1cm4gdGhpcy5fYXV0aENsaWVudD1jLHRoaXMuX29iamVjdH0sbG9naW46ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl9xLmRlZmVyKCksZD10aGlzO3JldHVybiB0aGlzLmdldEN1cnJlbnRVc2VyKCkudGhlbihmdW5jdGlvbigpe2QuX2xvZ2luRGVmZXJyZWQ9YyxkLl9hdXRoQ2xpZW50LmxvZ2luKGEsYil9KSxjLnByb21pc2V9LGxvZ291dDpmdW5jdGlvbigpe3RoaXMuX2F1dGhDbGllbnQubG9nb3V0KCksZGVsZXRlIHRoaXMuX2N1cnJlbnRVc2VyRGF0YX0sY3JlYXRlVXNlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD10aGlzLl9xLmRlZmVyKCk7cmV0dXJuIGMuX2F1dGhDbGllbnQuY3JlYXRlVXNlcihhLGIsZnVuY3Rpb24oYSxiKXthPyhjLl9yb290U2NvcGUuJGJyb2FkY2FzdChcIiRmaXJlYmFzZVNpbXBsZUxvZ2luOmVycm9yXCIsYSksZC5yZWplY3QoYSkpOmQucmVzb2x2ZShiKX0pLGQucHJvbWlzZX0sY2hhbmdlUGFzc3dvcmQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMsZT10aGlzLl9xLmRlZmVyKCk7cmV0dXJuIGQuX2F1dGhDbGllbnQuY2hhbmdlUGFzc3dvcmQoYSxiLGMsZnVuY3Rpb24oYSl7YT8oZC5fcm9vdFNjb3BlLiRicm9hZGNhc3QoXCIkZmlyZWJhc2VTaW1wbGVMb2dpbjplcnJvclwiLGEpLGUucmVqZWN0KGEpKTplLnJlc29sdmUoKX0pLGUucHJvbWlzZX0sZ2V0Q3VycmVudFVzZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9dGhpcy5fcS5kZWZlcigpO3JldHVybiB2b2lkIDAhPT1hLl9jdXJyZW50VXNlckRhdGE/Yi5yZXNvbHZlKGEuX2N1cnJlbnRVc2VyRGF0YSk6YS5fZ2V0Q3VycmVudFVzZXJEZWZlcnJlZC5wdXNoKGIpLGIucHJvbWlzZX0scmVtb3ZlVXNlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD10aGlzLl9xLmRlZmVyKCk7cmV0dXJuIGMuX2F1dGhDbGllbnQucmVtb3ZlVXNlcihhLGIsZnVuY3Rpb24oYSl7YT8oYy5fcm9vdFNjb3BlLiRicm9hZGNhc3QoXCIkZmlyZWJhc2VTaW1wbGVMb2dpbjplcnJvclwiLGEpLGQucmVqZWN0KGEpKTpkLnJlc29sdmUoKX0pLGQucHJvbWlzZX0sc2VuZFBhc3N3b3JkUmVzZXRFbWFpbDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9dGhpcy5fcS5kZWZlcigpO3JldHVybiBiLl9hdXRoQ2xpZW50LnNlbmRQYXNzd29yZFJlc2V0RW1haWwoYSxmdW5jdGlvbihhKXthPyhiLl9yb290U2NvcGUuJGJyb2FkY2FzdChcIiRmaXJlYmFzZVNpbXBsZUxvZ2luOmVycm9yXCIsYSksYy5yZWplY3QoYSkpOmMucmVzb2x2ZSgpfSksYy5wcm9taXNlfSxfb25Mb2dpbkV2ZW50OmZ1bmN0aW9uKGEsYil7aWYodGhpcy5fY3VycmVudFVzZXJEYXRhIT09Ynx8bnVsbCE9PWEpe3ZhciBjPXRoaXM7YT8oYy5fbG9naW5EZWZlcnJlZCYmKGMuX2xvZ2luRGVmZXJyZWQucmVqZWN0KGEpLGMuX2xvZ2luRGVmZXJyZWQ9bnVsbCksYy5fcm9vdFNjb3BlLiRicm9hZGNhc3QoXCIkZmlyZWJhc2VTaW1wbGVMb2dpbjplcnJvclwiLGEpKToodGhpcy5fY3VycmVudFVzZXJEYXRhPWIsYy5fdGltZW91dChmdW5jdGlvbigpe2ZvcihjLl9vYmplY3QudXNlcj1iLGI/Yy5fcm9vdFNjb3BlLiRicm9hZGNhc3QoXCIkZmlyZWJhc2VTaW1wbGVMb2dpbjpsb2dpblwiLGIpOmMuX3Jvb3RTY29wZS4kYnJvYWRjYXN0KFwiJGZpcmViYXNlU2ltcGxlTG9naW46bG9nb3V0XCIpLGMuX2xvZ2luRGVmZXJyZWQmJihjLl9sb2dpbkRlZmVycmVkLnJlc29sdmUoYiksYy5fbG9naW5EZWZlcnJlZD1udWxsKTtjLl9nZXRDdXJyZW50VXNlckRlZmVycmVkLmxlbmd0aD4wOyl7dmFyIGE9Yy5fZ2V0Q3VycmVudFVzZXJEZWZlcnJlZC5wb3AoKTthLnJlc29sdmUoYil9fSkpfX19fSgpLEFycmF5LnByb3RvdHlwZS5pbmRleE9mfHwoQXJyYXkucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oYSxiKXtpZih2b2lkIDA9PT10aGlzfHxudWxsPT09dGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiJ3RoaXMnIGlzIG51bGwgb3Igbm90IGRlZmluZWRcIik7dmFyIGM9dGhpcy5sZW5ndGg+Pj4wO2ZvcihiPStifHwwLDEvMD09PU1hdGguYWJzKGIpJiYoYj0wKSwwPmImJihiKz1jLDA+YiYmKGI9MCkpO2M+YjtiKyspaWYodGhpc1tiXT09PWEpcmV0dXJuIGI7cmV0dXJuLTF9KSxGdW5jdGlvbi5wcm90b3R5cGUuYmluZHx8KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIC0gd2hhdCBpcyB0cnlpbmcgdG8gYmUgYm91bmQgaXMgbm90IGNhbGxhYmxlXCIpO3ZhciBiPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxjPXRoaXMsZD1mdW5jdGlvbigpe30sZT1mdW5jdGlvbigpe3JldHVybiBjLmFwcGx5KHRoaXMgaW5zdGFuY2VvZiBkJiZhP3RoaXM6YSxiLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSl9O3JldHVybiBkLnByb3RvdHlwZT10aGlzLnByb3RvdHlwZSxlLnByb3RvdHlwZT1uZXcgZCxlfSksQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleHx8T2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSxcImZpbmRJbmRleFwiLHtlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbihhKXtpZihudWxsPT10aGlzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcnJheS5wcm90b3R5cGUuZmluZCBjYWxsZWQgb24gbnVsbCBvciB1bmRlZmluZWRcIik7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYSl0aHJvdyBuZXcgVHlwZUVycm9yKFwicHJlZGljYXRlIG11c3QgYmUgYSBmdW5jdGlvblwiKTtmb3IodmFyIGIsYz1PYmplY3QodGhpcyksZD1jLmxlbmd0aD4+PjAsZT1hcmd1bWVudHNbMV0sZj0wO2Q+ZjtmKyspaWYoZiBpbiBjJiYoYj1jW2ZdLGEuY2FsbChlLGIsZixjKSkpcmV0dXJuIGY7cmV0dXJuLTF9fSksXCJmdW5jdGlvblwiIT10eXBlb2YgT2JqZWN0LmNyZWF0ZSYmIWZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oKXt9O09iamVjdC5jcmVhdGU9ZnVuY3Rpb24oYil7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXRocm93IG5ldyBFcnJvcihcIlNlY29uZCBhcmd1bWVudCBub3Qgc3VwcG9ydGVkXCIpO2lmKG51bGw9PT1iKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzZXQgYSBudWxsIFtbUHJvdG90eXBlXV1cIik7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0XCIpO3JldHVybiBhLnByb3RvdHlwZT1iLG5ldyBhfX0oKSxPYmplY3Qua2V5c3x8KE9iamVjdC5rZXlzPWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGE9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxiPSF7dG9TdHJpbmc6bnVsbH0ucHJvcGVydHlJc0VudW1lcmFibGUoXCJ0b1N0cmluZ1wiKSxjPVtcInRvU3RyaW5nXCIsXCJ0b0xvY2FsZVN0cmluZ1wiLFwidmFsdWVPZlwiLFwiaGFzT3duUHJvcGVydHlcIixcImlzUHJvdG90eXBlT2ZcIixcInByb3BlcnR5SXNFbnVtZXJhYmxlXCIsXCJjb25zdHJ1Y3RvclwiXSxkPWMubGVuZ3RoO3JldHVybiBmdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZSYmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGV8fG51bGw9PT1lKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0LmtleXMgY2FsbGVkIG9uIG5vbi1vYmplY3RcIik7dmFyIGYsZyxoPVtdO2ZvcihmIGluIGUpYS5jYWxsKGUsZikmJmgucHVzaChmKTtpZihiKWZvcihnPTA7ZD5nO2crKylhLmNhbGwoZSxjW2ddKSYmaC5wdXNoKGNbZ10pO3JldHVybiBofX0oKSksXCJmdW5jdGlvblwiIT10eXBlb2YgT2JqZWN0LmdldFByb3RvdHlwZU9mJiYoT2JqZWN0LmdldFByb3RvdHlwZU9mPVwib2JqZWN0XCI9PXR5cGVvZlwidGVzdFwiLl9fcHJvdG9fXz9mdW5jdGlvbihhKXtyZXR1cm4gYS5fX3Byb3RvX199OmZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnN0cnVjdG9yLnByb3RvdHlwZX0pLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYShiKXtpZighYW5ndWxhci5pc09iamVjdChiKSlyZXR1cm4gYjt2YXIgYz1hbmd1bGFyLmlzQXJyYXkoYik/W106e307cmV0dXJuIGFuZ3VsYXIuZm9yRWFjaChiLGZ1bmN0aW9uKGIsZCl7KFwic3RyaW5nXCIhPXR5cGVvZiBkfHxcIiRcIiE9PWQuY2hhckF0KDApKSYmKGNbZF09YShiKSl9KSxjfWFuZ3VsYXIubW9kdWxlKFwiZmlyZWJhc2VcIikuZmFjdG9yeShcIiRmaXJlYmFzZUNvbmZpZ1wiLFtcIiRGaXJlYmFzZUFycmF5XCIsXCIkRmlyZWJhc2VPYmplY3RcIixcIiRpbmplY3RvclwiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9YW5ndWxhci5leHRlbmQoe30sZCk7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUub2JqZWN0RmFjdG9yeSYmKGUub2JqZWN0RmFjdG9yeT1jLmdldChlLm9iamVjdEZhY3RvcnkpKSxcInN0cmluZ1wiPT10eXBlb2YgZS5hcnJheUZhY3RvcnkmJihlLmFycmF5RmFjdG9yeT1jLmdldChlLmFycmF5RmFjdG9yeSkpLGFuZ3VsYXIuZXh0ZW5kKHthcnJheUZhY3Rvcnk6YSxvYmplY3RGYWN0b3J5OmJ9LGUpfX1dKS5mYWN0b3J5KFwiJGZpcmViYXNlVXRpbHNcIixbXCIkcVwiLFwiJHRpbWVvdXRcIixcImZpcmViYXNlQmF0Y2hEZWxheVwiLGZ1bmN0aW9uKGIsYyxkKXt2YXIgZT17YmF0Y2g6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEsYil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYSl0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHByb3ZpZGUgYSBmdW5jdGlvbiB0byBiZSBiYXRjaGVkLiBHb3QgXCIrYSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO2oucHVzaChbYSxiLGNdKSxmKCl9fWZ1bmN0aW9uIGYoKXtpJiYoaSgpLGk9bnVsbCksaCYmRGF0ZS5ub3coKS1oPmI/ZS5jb21waWxlKGcpOihofHwoaD1EYXRlLm5vdygpKSxpPWUud2FpdChnLGEpKX1mdW5jdGlvbiBnKCl7aT1udWxsLGg9bnVsbDt2YXIgYT1qLnNsaWNlKDApO2o9W10sYW5ndWxhci5mb3JFYWNoKGEsZnVuY3Rpb24oYSl7YVswXS5hcHBseShhWzFdLGFbMl0pfSl9YT1kLGJ8fChiPTEwKmF8fDEwMCk7dmFyIGgsaSxqPVtdO3JldHVybiBjfSxkZWJvdW5jZTpmdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBmKCl7aiYmKGooKSxqPW51bGwpLGkmJkRhdGUubm93KCktaT5kP2UuY29tcGlsZShnKTooaXx8KGk9RGF0ZS5ub3coKSksaj1lLndhaXQoZyxjKSl9ZnVuY3Rpb24gZygpe2o9bnVsbCxpPW51bGwsYS5hcHBseShiLGspfWZ1bmN0aW9uIGgoKXtrPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSxmKCl9dmFyIGksaixrO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBiJiYoZD1jLGM9YixiPW51bGwpLFwibnVtYmVyXCIhPXR5cGVvZiBjKXRocm93IG5ldyBFcnJvcihcIk11c3QgcHJvdmlkZSBhIHZhbGlkIGludGVnZXIgZm9yIHdhaXQuIFRyeSAwIGZvciBhIGRlZmF1bHRcIik7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYSl0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHByb3ZpZGUgYSB2YWxpZCBmdW5jdGlvbiB0byBkZWJvdW5jZVwiKTtyZXR1cm4gZHx8KGQ9MTAqY3x8MTAwKSxoLnJ1bm5pbmc9ZnVuY3Rpb24oKXtyZXR1cm4gaT4wfSxofSxhc3NlcnRWYWxpZFJlZjpmdW5jdGlvbihhLGIpe2lmKCFhbmd1bGFyLmlzT2JqZWN0KGEpfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLnJlZnx8XCJmdW5jdGlvblwiIT10eXBlb2YgYS5yZWYoKS50cmFuc2FjdGlvbil0aHJvdyBuZXcgRXJyb3IoYnx8XCJJbnZhbGlkIEZpcmViYXNlIHJlZmVyZW5jZVwiKX0saW5oZXJpdDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5wcm90b3R5cGU7cmV0dXJuIGEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYi5wcm90b3R5cGUpLGEucHJvdG90eXBlLmNvbnN0cnVjdG9yPWEsYW5ndWxhci5mb3JFYWNoKE9iamVjdC5rZXlzKGQpLGZ1bmN0aW9uKGIpe2EucHJvdG90eXBlW2JdPWRbYl19KSxhbmd1bGFyLmlzT2JqZWN0KGMpJiZhbmd1bGFyLmV4dGVuZChhLnByb3RvdHlwZSxjKSxhfSxnZXRQcm90b3R5cGVNZXRob2RzOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9e30sZT1PYmplY3QuZ2V0UHJvdG90eXBlT2Yoe30pLGY9YW5ndWxhci5pc0Z1bmN0aW9uKGEpJiZhbmd1bGFyLmlzT2JqZWN0KGEucHJvdG90eXBlKT9hLnByb3RvdHlwZTpPYmplY3QuZ2V0UHJvdG90eXBlT2YoYSk7ZiYmZiE9PWU7KXtmb3IodmFyIGcgaW4gZilmLmhhc093blByb3BlcnR5KGcpJiYhZC5oYXNPd25Qcm9wZXJ0eShnKSYmKGRbZ109ITAsYi5jYWxsKGMsZltnXSxnLGYpKTtmPU9iamVjdC5nZXRQcm90b3R5cGVPZihmKX19LGdldFB1YmxpY01ldGhvZHM6ZnVuY3Rpb24oYSxiLGMpe2UuZ2V0UHJvdG90eXBlTWV0aG9kcyhhLGZ1bmN0aW9uKGEsZCl7XCJmdW5jdGlvblwiPT10eXBlb2YgYSYmXCJfXCIhPT1kLmNoYXJBdCgwKSYmYi5jYWxsKGMsYSxkKX0pfSxkZWZlcjpmdW5jdGlvbigpe3JldHVybiBiLmRlZmVyKCl9LHJlamVjdDpmdW5jdGlvbihhKXt2YXIgYj1lLmRlZmVyKCk7cmV0dXJuIGIucmVqZWN0KGEpLGIucHJvbWlzZX0scmVzb2x2ZTpmdW5jdGlvbigpe3ZhciBhPWUuZGVmZXIoKTtyZXR1cm4gYS5yZXNvbHZlLmFwcGx5KGEsYXJndW1lbnRzKSxhLnByb21pc2V9LHdhaXQ6ZnVuY3Rpb24oYSxiKXt2YXIgZD1jKGEsYnx8MCk7cmV0dXJuIGZ1bmN0aW9uKCl7ZCYmKGMuY2FuY2VsKGQpLGQ9bnVsbCl9fSxjb21waWxlOmZ1bmN0aW9uKGEpe3JldHVybiBjKGF8fGZ1bmN0aW9uKCl7fSl9LGRlZXBDb3B5OmZ1bmN0aW9uKGEpe2lmKCFhbmd1bGFyLmlzT2JqZWN0KGEpKXJldHVybiBhO3ZhciBiPWFuZ3VsYXIuaXNBcnJheShhKT9hLnNsaWNlKCk6YW5ndWxhci5leHRlbmQoe30sYSk7Zm9yKHZhciBjIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShjKSYmYW5ndWxhci5pc09iamVjdChiW2NdKSYmKGJbY109ZS5kZWVwQ29weShiW2NdKSk7cmV0dXJuIGJ9LHRyaW1LZXlzOmZ1bmN0aW9uKGEsYil7ZS5lYWNoKGEsZnVuY3Rpb24oYyxkKXtiLmhhc093blByb3BlcnR5KGQpfHxkZWxldGUgYVtkXX0pfSxleHRlbmREYXRhOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGUuZWFjaChiLGZ1bmN0aW9uKGIsYyl7YVtjXT1lLmRlZXBDb3B5KGIpfSksYX0sc2NvcGVEYXRhOmZ1bmN0aW9uKGEpe3ZhciBiPXskaWQ6YS4kaWQsJHByaW9yaXR5OmEuJHByaW9yaXR5fTtyZXR1cm4gYS5oYXNPd25Qcm9wZXJ0eShcIiR2YWx1ZVwiKSYmKGIuJHZhbHVlPWEuJHZhbHVlKSxlLmV4dGVuZERhdGEoYixhKX0sdXBkYXRlUmVjOmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi52YWwoKSxkPWFuZ3VsYXIuZXh0ZW5kKHt9LGEpO3JldHVybiBhbmd1bGFyLmlzT2JqZWN0KGMpP2RlbGV0ZSBhLiR2YWx1ZTooYS4kdmFsdWU9YyxjPXt9KSxlLnRyaW1LZXlzKGEsYyksYW5ndWxhci5leHRlbmQoYSxjKSxhLiRwcmlvcml0eT1iLmdldFByaW9yaXR5KCksIWFuZ3VsYXIuZXF1YWxzKGQsYSl8fGQuJHZhbHVlIT09YS4kdmFsdWV8fGQuJHByaW9yaXR5IT09YS4kcHJpb3JpdHl9LGFwcGx5RGVmYXVsdHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYW5ndWxhci5pc09iamVjdChiKSYmYW5ndWxhci5mb3JFYWNoKGIsZnVuY3Rpb24oYixjKXthLmhhc093blByb3BlcnR5KGMpfHwoYVtjXT1iKX0pLGF9LGRhdGFLZXlzOmZ1bmN0aW9uKGEpe3ZhciBiPVtdO3JldHVybiBlLmVhY2goYSxmdW5jdGlvbihhLGMpe2IucHVzaChjKX0pLGJ9LGVhY2g6ZnVuY3Rpb24oYSxiLGMpe2lmKGFuZ3VsYXIuaXNPYmplY3QoYSkpe2Zvcih2YXIgZCBpbiBhKWlmKGEuaGFzT3duUHJvcGVydHkoZCkpe3ZhciBlPWQuY2hhckF0KDApO1wiX1wiIT09ZSYmXCIkXCIhPT1lJiZcIi5cIiE9PWUmJmIuY2FsbChjLGFbZF0sZCxhKX19ZWxzZSBpZihhbmd1bGFyLmlzQXJyYXkoYSkpZm9yKHZhciBmPTAsZz1hLmxlbmd0aDtnPmY7ZisrKWIuY2FsbChjLGFbZl0sZixhKTtyZXR1cm4gYX0sdG9KU09OOmZ1bmN0aW9uKGIpe3ZhciBjO3JldHVybiBhbmd1bGFyLmlzT2JqZWN0KGIpfHwoYj17JHZhbHVlOmJ9KSxhbmd1bGFyLmlzRnVuY3Rpb24oYi50b0pTT04pP2M9Yi50b0pTT04oKTooYz17fSxlLmVhY2goYixmdW5jdGlvbihiLGQpe2NbZF09YShiKX0pKSxhbmd1bGFyLmlzRGVmaW5lZChiLiR2YWx1ZSkmJjA9PT1PYmplY3Qua2V5cyhjKS5sZW5ndGgmJm51bGwhPT1iLiR2YWx1ZSYmKGNbXCIudmFsdWVcIl09Yi4kdmFsdWUpLGFuZ3VsYXIuaXNEZWZpbmVkKGIuJHByaW9yaXR5KSYmT2JqZWN0LmtleXMoYykubGVuZ3RoPjAmJm51bGwhPT1iLiRwcmlvcml0eSYmKGNbXCIucHJpb3JpdHlcIl09Yi4kcHJpb3JpdHkpLGFuZ3VsYXIuZm9yRWFjaChjLGZ1bmN0aW9uKGEsYil7aWYoYi5tYXRjaCgvWy4kXFxbXFxdI1xcL10vKSYmXCIudmFsdWVcIiE9PWImJlwiLnByaW9yaXR5XCIhPT1iKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQga2V5IFwiK2IrXCIgKGNhbm5vdCBjb250YWluIC4kW10jKVwiKTtpZihhbmd1bGFyLmlzVW5kZWZpbmVkKGEpKXRocm93IG5ldyBFcnJvcihcIktleSBcIitiK1wiIHdhcyB1bmRlZmluZWQuIENhbm5vdCBwYXNzIHVuZGVmaW5lZCBpbiBKU09OLiBVc2UgbnVsbCBpbnN0ZWFkLlwiKX0pLGN9LGJhdGNoRGVsYXk6ZCxhbGxQcm9taXNlczpiLmFsbC5iaW5kKGIpfTtyZXR1cm4gZX1dKX0oKTsiXSwic291cmNlUm9vdCI6InZlbmRvciJ9